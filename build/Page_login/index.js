!function(){var t=function(){return(()=>{var t,e,n,i={5941:t=>{t.exports=function(t,e,n){"use strict";var i,o=(i=n("@app-module/system.device"))&&i.__esModule?i:{default:i};function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t,e,n){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports={private:{appname:"",url1:"",url2:"",consentChecked:!1,authCode:"",phone:"",deviceNum:"123123",countDownData:{isFormat:!1,name:"countDownTime",totalSeconds:60},countDownTime:{minute:0,seconds:0},timer:null,beingSent:!1,strVerificationCode:"",subimtStr:"",showStrVerificationCode:!1},onInit:function(){this.url1=this.$app.$def.dataApp.url2,this.url2=this.$app.$def.dataApp.url3,this.appname=$app.getInfo().name;const t=this;o.default.getUserId({success:function(e){t.deviceNum=e.userId},fail:function(t,e){console.log("handling fail, code = "+e)}})},checkedRadio:function(t){this.consentChecked=t.checked},sendAuthCode:$utils.throttle((function(t){this.phone?this.isValidPhoneNumber(this.phone)?this.beingSent||(this.strVerificationCode&&this.strVerificationCode!==this.subimtStr?$prompt.showToast({message:"验证码格式不正确",gravity:"center"}):$apis.user.postSendCode({phone:this.phone}).then((t=>{console.log(t),$prompt.showToast({message:"已发送",gravity:"center"}),console.log("查看短信验证码",t),this.beingSent=!0,this.startCountDown()})).catch((t=>{$prompt.showToast({message:t.message,gravity:"center"})}))):$prompt.showToast({message:"手机号码格式不正确",gravity:"center"}):$prompt.showToast({message:"请输入手机号",gravity:"center"})}),5e3),subimt:function(){if(!this.phone||!this.authCode)return void $prompt.showToast({message:this.phone?"请输入验证码":"请输入手机号",gravity:"center"});if(!this.consentChecked)return void $prompt.showToast({message:"请同意协议",gravity:"center"});const t={loginType:"PHONE",code:this.authCode,appId:"SC_0001",loginAccount:this.phone,deviceNum:this.deviceNum,phone:this.phone};console.log("登录请求参数",t),$apis.example.toLogin(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)).then((async t=>{console.log("登录成功数据",t),$prompt.showToast({message:"登录成功",gravity:"center",duration:1}),$storage.delete({key:"AUTH_TOKEN_DATA",success:function(t){console.log("handling success"),setTimeout((()=>{$router.back()}),800)}})})).catch((t=>{console.log(t.code,"这是点击错误"),$prompt.showToast({message:JSON.parse(t).message,gravity:"center"})}))},startCountDown(){$utils.startCountDown(this.countDownData,this).then((()=>{this.beingSent=!1,this.countDownTime={minute:0,seconds:0},this.showStrVerificationCode=!0,this.clickCvas()}))},isValidPhoneNumber:function(t){return/^(?:\+86)?1[3-9]\d{9}$/.test(t)},changeHandler:function(t){console.log(t,"params")},randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){return`rgb(${this.randomNum(t,e)},${this.randomNum(t,e)},${this.randomNum(t,e)}`},clickCvas:function(){let t=this.$element("cvs");console.log(t,"查看这个canvas");let e=t.getContext("2d");e.fillStyle=this.randomColor(70,230),e.fillRect(0,0,150,150);let n="";for(let t=0;t<4;t++){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[this.randomNum(0,62)];n+=i;const o=this.randomNum(22,80);e.font=`${o}px Simhei`;const r=this.randomNum(-30,30);e.textBaseline="top",e.fillStyle=this.randomColor(80,150),e.save(),e.translate(30*t+15,15),e.rotate(r*Math.PI/180),e.fillText(i,-10,-15),e.restore()}this.strVerificationCode=n}};var s=["public","protected","private"],c=e.default||t.exports,p=s.some((function(t){return c[t]}));if(c.data&&p)throw new Error("For VM objects, attribute data must not coexist with public, protected, or private. Please replace data with public.");c.data||(c._descriptor={},c.data={},s.forEach((function(t){var e=typeof c[t];if("object"===e)for(var n in c.data=Object.assign(c.data,c[t]),c[t])c._descriptor[n]={access:t};else"function"===e&&console.warn("For VM objects, attribute "+t+" value must not be a function. Change the value to an object.")})))}},9366:t=>{t.exports={".login-page":{paddingTop:"0px",paddingRight:"56px",paddingBottom:"0px",paddingLeft:"56px",flexDirection:"column"},".login-page .login-title":{marginTop:"44px",flexDirection:"column"},".login-page .login-title .heading":{fontSize:"48px",fontWeight:"600",color:"#222222",lineHeight:"68px"},".login-page .login-title .subhead":{fontSize:"24px",fontWeight:"400",color:"#808080",lineHeight:"34px"},".login-page .phone-num":{width:"654px",height:"96px",backgroundColor:"#f5f5f5",borderRadius:"64px",paddingTop:"0px",paddingRight:"32px",paddingBottom:"0px",paddingLeft:"32px",marginTop:"80px",justifyContent:"center",alignItems:"center"},".login-page .phone-num text":{fontSize:"32px",fontWeight:"600",color:"#333333",lineHeight:"44px"},".login-page .phone-num .ipt":{marginLeft:"40px",width:"420px"},".login-page .verification-code":{width:"654px",height:"96px",backgroundColor:"#f5f5f5",borderRadius:"64px",paddingTop:"0px",paddingRight:"32px",paddingBottom:"0px",paddingLeft:"32px",marginTop:"32px",justifyContent:"center",alignItems:"center"},".login-page .verification-code .heading":{fontSize:"32px",fontWeight:"600",color:"#333333",lineHeight:"44px"},".login-page .verification-code .ipt":{width:"250px",marginLeft:"40px"},".login-page .verification-code .get-verification":{width:"180px",height:"40px",fontSize:"28px",fontWeight:"600",color:"#3784f9",paddingLeft:"10px",borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"#999999"},".login-page .login-btn":{marginTop:"48px",width:"622px",height:"88px",backgroundColor:"#3784f9",borderRadius:"16px",justifyContent:"center",alignItems:"center"},".login-page .login-btn .txt":{fontSize:"36px",fontWeight:"700",color:"#ffffff",lineHeight:"50px"},".login-page .canvas":{width:"100%",marginTop:"32px",height:"88px"},".login-page .canvas .CIpt":{backgroundColor:"#f5f5f5",fontSize:"28px",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",color:"#000000",flex:3,paddingLeft:"50px"},".login-page .canvas .cvs":{backgroundColor:"#f5f5f5",fontSize:"28px",color:"#000000",flex:1,paddingLeft:"10px"},".login-page .consent":{marginTop:"28px",alignItems:"center"},".login-page .consent .default":{fontSize:"24px",fontWeight:"400",color:"#999999",lineHeight:"34px"},".login-page .consent .agreement":{fontSize:"24px",fontWeight:"400",color:"#3687FF",lineHeight:"34px"},".login-page .consent .checkbox":{marginRight:"2px",width:"60px",height:"42px"}}},3851:t=>{t.exports={type:"div",attr:{},classList:["login-page"],children:[{type:"div",attr:{},classList:["login-title"],children:[{type:"text",attr:{value:function(){return"欢迎来到"+this.appname}},classList:["heading"]},{type:"text",attr:{value:"使用手机号快捷登录，享受更多专属权益"},classList:["subhead"]}]},{type:"div",attr:{},classList:["phone-num"],children:[{type:"text",attr:{value:"手机号"}},{type:"input",attr:{placeholder:"请输入手机号",value:function(){return this.phone},type:"number"},events:{change:function(t){this.phone=t.target.value}},classList:["ipt"]}]},{type:"div",attr:{},classList:["verification-code"],children:[{type:"text",attr:{value:"验证码"},classList:["heading"]},{type:"input",attr:{placeholder:"输入验证码",value:function(){return this.authCode}},events:{change:function(t){this.authCode=t.target.value}},classList:["ipt"]},{type:"text",attr:{value:function(){return this.countDownTime.seconds?this.countDownTime.seconds+"s":"获取验证码"}},classList:["get-verification"],style:function(){return this.beingSent?"color: #999999":""},events:{click:"sendAuthCode"}}]},{type:"div",attr:{},classList:["canvas"],style:function(){return this.showStrVerificationCode?"":"height: 0"},children:[{type:"input",attr:{placeholder:"请输入文字验证码",value:function(){return this.subimtStr}},classList:["CIpt"],events:{change:function(t){this.subimtStr=t.target.value}}},{type:"canvas",attr:{id:"cvs"},id:"cvs",events:{click:"clickCvas"},classList:["cvs"]}]},{type:"div",attr:{},classList:["login-btn"],events:{click:"subimt"},children:[{type:"text",attr:{value:"登录"},classList:["txt"]}]},{type:"div",attr:{},classList:["consent"],children:[{type:"input",attr:{type:"checkbox",checked:function(){return this.consentChecked},value:function(){return Array.isArray(this.consentChecked)?this.consentChecked.indexOf(null)>-1:this.consentChecked}},events:{change:"checkedRadio"}},{type:"div",attr:{},style:{left:"-46px"},children:[{type:"text",attr:{value:"勾选同意"},classList:["default"]},{type:"a",attr:{href:function(){return this.url1},value:"《用户协议》"},classList:["agreement"]},{type:"text",attr:{value:"和"},classList:["default"]},{type:"a",attr:{href:function(){return this.url2},value:"《隐私政策》"},classList:["agreement"]}]}]}]}}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return i[t](n,n.exports,r),n.exports}t=r(3851),e=r(9366),n=r(5941),$app_define$("@app-component/index",[],(function(i,o,r){n(r,o,i),o.__esModule&&o.default&&(r.exports=o.default),r.exports.template=t,r.exports.style=e})),$app_bootstrap$("@app-component/index",{packagerName:"fa-toolkit",packagerVersion:"14.0.1-Stable.300"})})()};if("undefined"==typeof window)return t();window.createPageHandler=t}();