!function(){var e=function(){return(()=>{var e,t,n={1986:e=>{e.exports=function(e,t,n){"use strict";var a,i=(a=n("@app-module/system.device"))&&a.__esModule?a:{default:a};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports={private:{appname:"",url1:"",url2:"",consentChecked:!1,authCode:"",phone:"",deviceNum:"123123",countDownData:{isFormat:!1,name:"countDownTime",totalSeconds:60},countDownTime:{minute:0,seconds:0},timer:null,beingSent:!1,strVerificationCode:"",subimtStr:"",showStrVerificationCode:!1},onInit:function(){this.url1=this.$app.$def.dataApp.url2,this.url2=this.$app.$def.dataApp.url3,this.appname=$app.getInfo().name;const e=this;i.default.getUserId({success:function(t){e.deviceNum=t.userId},fail:function(e,t){console.log("handling fail, code = "+t)}})},checkedRadio:function(e){this.consentChecked=e.checked},sendAuthCode:$utils.throttle((function(e){this.phone?this.isValidPhoneNumber(this.phone)?this.beingSent||(this.strVerificationCode&&this.strVerificationCode!==this.subimtStr?$prompt.showToast({message:"验证码格式不正确",gravity:"center"}):$apis.user.postSendCode({phone:this.phone}).then((e=>{console.log(e),$prompt.showToast({message:"已发送",gravity:"center"}),console.log("查看短信验证码",e),this.beingSent=!0,this.startCountDown()})).catch((e=>{$prompt.showToast({message:e.message,gravity:"center"})}))):$prompt.showToast({message:"手机号码格式不正确",gravity:"center"}):$prompt.showToast({message:"请输入手机号",gravity:"center"})}),5e3),subimt:function(){if(!this.phone||!this.authCode)return void $prompt.showToast({message:this.phone?"请输入验证码":"请输入手机号",gravity:"center"});if(!this.consentChecked)return void $prompt.showToast({message:"请同意协议",gravity:"center"});const e={loginType:"PHONE",code:this.authCode,appId:"SC_0001",loginAccount:this.phone,deviceNum:this.deviceNum,phone:this.phone};console.log("登录请求参数",e),$apis.example.toLogin(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)).then((async e=>{console.log("登录成功数据",e),$prompt.showToast({message:"登录成功",gravity:"center",duration:1}),$storage.delete({key:"AUTH_TOKEN_DATA",success:function(e){console.log("handling success"),setTimeout((()=>{$router.back()}),800)}})})).catch((e=>{console.log(e.code,"这是点击错误"),$prompt.showToast({message:JSON.parse(e).message,gravity:"center"})}))},startCountDown(){$utils.startCountDown(this.countDownData,this).then((()=>{this.beingSent=!1,this.countDownTime={minute:0,seconds:0},this.showStrVerificationCode=!0,this.clickCvas()}))},isValidPhoneNumber:function(e){return/^(?:\+86)?1[3-9]\d{9}$/.test(e)},changeHandler:function(e){console.log(e,"params")},randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor:function(e,t){return`rgb(${this.randomNum(e,t)},${this.randomNum(e,t)},${this.randomNum(e,t)}`},clickCvas:function(){let e=this.$element("cvs");console.log(e,"查看这个canvas");let t=e.getContext("2d");t.fillStyle=this.randomColor(70,230),t.fillRect(0,0,150,150);let n="";for(let e=0;e<4;e++){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[this.randomNum(0,62)];n+=a;const i=this.randomNum(22,80);t.font=`${i}px Simhei`;const o=this.randomNum(-30,30);t.textBaseline="top",t.fillStyle=this.randomColor(80,150),t.save(),t.translate(30*e+15,15),t.rotate(o*Math.PI/180),t.fillText(a,-10,-15),t.restore()}this.strVerificationCode=n}};const l=t.default||e.exports,r=["public","protected","private"];if(l.data&&r.some((function(e){return l[e]})))throw new Error('页面VM对象中的属性data不可与"'+r.join(",")+'"同时存在，请使用private替换data名称');l.data||(l.data={},l._descriptor={},r.forEach((function(e){const t=typeof l[e];if("object"===t){l.data=Object.assign(l.data,l[e]);for(const t in l[e])l._descriptor[t]={access:e}}else"function"===t&&console.warn("页面VM对象中的属性"+e+"的值不能是函数，请使用对象")})))}},6803:e=>{e.exports={".login-page":{paddingTop:"0px",paddingRight:"56px",paddingBottom:"0px",paddingLeft:"56px",flexDirection:"column"},".login-page .login-title":{marginTop:"44px",flexDirection:"column",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"login-title"}]}},".login-page .login-title .heading":{fontSize:"48px",fontWeight:"600",color:"#222222",lineHeight:"68px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"login-title"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"heading"}]}},".login-page .login-title .subhead":{fontSize:"24px",fontWeight:"400",color:"#808080",lineHeight:"34px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"login-title"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"subhead"}]}},".login-page .phone-num":{width:"654px",height:"96px",backgroundColor:"#f5f5f5",borderRadius:"64px",paddingTop:"0px",paddingRight:"32px",paddingBottom:"0px",paddingLeft:"32px",marginTop:"80px",justifyContent:"center",alignItems:"center",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"phone-num"}]}},".login-page .phone-num text":{fontSize:"32px",fontWeight:"600",color:"#333333",lineHeight:"44px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"phone-num"},{t:"d"},{t:"t",n:"text"}]}},".login-page .phone-num .ipt":{marginLeft:"40px",width:"420px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"phone-num"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"ipt"}]}},".login-page .verification-code":{width:"654px",height:"96px",backgroundColor:"#f5f5f5",borderRadius:"64px",paddingTop:"0px",paddingRight:"32px",paddingBottom:"0px",paddingLeft:"32px",marginTop:"32px",justifyContent:"center",alignItems:"center",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"verification-code"}]}},".login-page .verification-code .heading":{fontSize:"32px",fontWeight:"600",color:"#333333",lineHeight:"44px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"verification-code"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"heading"}]}},".login-page .verification-code .ipt":{width:"250px",marginLeft:"40px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"verification-code"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"ipt"}]}},".login-page .verification-code .get-verification":{width:"180px",height:"40px",fontSize:"28px",fontWeight:"600",color:"#3784f9",paddingLeft:"10px",borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"#999999",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"verification-code"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"get-verification"}]}},".login-page .login-btn":{marginTop:"48px",width:"622px",height:"88px",backgroundColor:"#3784f9",borderRadius:"16px",justifyContent:"center",alignItems:"center",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"login-btn"}]}},".login-page .login-btn .txt":{fontSize:"36px",fontWeight:"700",color:"#ffffff",lineHeight:"50px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"login-btn"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"txt"}]}},".login-page .canvas":{width:"100%",marginTop:"32px",height:"88px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"canvas"}]}},".login-page .canvas .CIpt":{backgroundColor:"#f5f5f5",fontSize:"28px",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",color:"#000000",flex:3,paddingLeft:"50px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"canvas"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"CIpt"}]}},".login-page .canvas .cvs":{backgroundColor:"#f5f5f5",fontSize:"28px",color:"#000000",flex:1,paddingLeft:"10px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"canvas"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"cvs"}]}},".login-page .consent":{marginTop:"28px",alignItems:"center",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"consent"}]}},".login-page .consent .default":{fontSize:"24px",fontWeight:"400",color:"#999999",lineHeight:"34px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"consent"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"default"}]}},".login-page .consent .agreement":{fontSize:"24px",fontWeight:"400",color:"#3687FF",lineHeight:"34px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"consent"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"agreement"}]}},".login-page .consent .checkbox":{marginRight:"2px",width:"60px",height:"42px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"login-page"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"consent"},{t:"d"},{t:"a",n:"class",i:!1,a:"element",v:"checkbox"}]}}}},8618:e=>{e.exports={type:"div",attr:{},classList:["login-page"],children:[{type:"div",attr:{},classList:["login-title"],children:[{type:"text",attr:{value:function(){return"欢迎来到"+this.appname}},classList:["heading"]},{type:"text",attr:{value:"使用手机号快捷登录，享受更多专属权益"},classList:["subhead"]}]},{type:"div",attr:{},classList:["phone-num"],children:[{type:"text",attr:{value:"手机号"}},{type:"input",attr:{placeholder:"请输入手机号",value:function(){return this.phone},type:"number"},events:{change:function(e){this.phone=e.target.value}},classList:["ipt"]}]},{type:"div",attr:{},classList:["verification-code"],children:[{type:"text",attr:{value:"验证码"},classList:["heading"]},{type:"input",attr:{placeholder:"输入验证码",value:function(){return this.authCode}},events:{change:function(e){this.authCode=e.target.value}},classList:["ipt"]},{type:"text",attr:{value:function(){return this.countDownTime.seconds?this.countDownTime.seconds+"s":"获取验证码"}},classList:["get-verification"],style:function(){return this.beingSent?"color: #999999":""},events:{click:"sendAuthCode"}}]},{type:"div",attr:{},classList:["canvas"],style:function(){return this.showStrVerificationCode?"":"height: 0"},children:[{type:"input",attr:{placeholder:"请输入文字验证码",value:function(){return this.subimtStr}},classList:["CIpt"],events:{change:function(e){this.subimtStr=e.target.value}}},{type:"canvas",attr:{id:"cvs"},id:"cvs",events:{click:"clickCvas"},classList:["cvs"]}]},{type:"div",attr:{},classList:["login-btn"],events:{click:"subimt"},children:[{type:"text",attr:{value:"登录"},classList:["txt"]}]},{type:"div",attr:{},classList:["consent"],children:[{type:"input",attr:{type:"checkbox",checked:function(){return this.consentChecked},value:function(){return Array.isArray(this.consentChecked)?this.consentChecked.indexOf(null)>-1:this.consentChecked}},events:{change:"checkedRadio"}},{type:"div",attr:{},style:{left:"-46px"},children:[{type:"text",attr:{value:"勾选同意"},classList:["default"]},{type:"a",attr:{href:function(){return this.url1},value:"《用户协议》"},classList:["agreement"]},{type:"text",attr:{value:"和"},classList:["default"]},{type:"a",attr:{href:function(){return this.url2},value:"《隐私政策》"},classList:["agreement"]}]}]}]}}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return n[e](o,o.exports,i),o.exports}e=i(6803),t=i(1986),$app_define$("@app-component/index",[],(function(n,a,o){t(o,a,n),a.__esModule&&a.default&&(o.exports=a.default),o.exports.template=i(8618),o.exports.style=e})),$app_bootstrap$("@app-component/index",{packagerVersion:"1.9.14"})})()};if("undefined"==typeof window)return e();window.createPageHandler=e}();