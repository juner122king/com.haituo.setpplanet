/*! For license information please see app.js.LICENSE.txt */
(function(){var $app_define_wrap$=$app_define_wrap$||function(){},createAppHandler=function(){return(()=>{var __webpack_modules__={6660:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var r=new(function(){function t(){this.servicesIdentifierMap=new Map,this.registeredService=new Map}return t.prototype.registryService=function(t){var e=t.name;this.registeredService.has(e)||this.registeredService.set(e,t)},t.prototype.unregistryService=function(t){},t.prototype.getService=function(t,e,n){void 0===n&&(n="[DEFAULT_CATEGORY]");var r=this.servicesIdentifierMap.get(n);if(null==r)r=new Map,this.servicesIdentifierMap.set(n,r);else if(null!=(o=r.get(t)))return o;var i=this.registeredService.get(t);if(null!=i){var o=i.serviceFactory(e);return r.set(t,o),o}return null},t}()),i=new(function(){function t(){}return t.prototype.registerApiProvider=function(t,e,n){this[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)},null!=n&&function t(e,n){if(!(n instanceof Object))return n;switch(n.constructor){case Array:e=[];break;case Object:void 0===e&&(e={});break;case Date:return new Date(n.getTime());default:return n}for(var r in n)n.hasOwnProperty(r)&&(e[r]=t(e[r],n[r]));return e}(this[t],n)},t.prototype.registerInternalService=function(t){r.registryService(t)},t.prototype.getService=function(t,e,n){return r.getService(t,e,n)},t}())},4452:(t,e,n)=>{"use strict";n.d(e,{QB:()=>o,eG:()=>i,x4:()=>r});var r="[DEFAULT_CATEGORY]",i=function(){function t(t){this.factory=t}return t.prototype.get=function(){return null==this.instance&&(this.instance=this.factory()),this.instance},t}(),o=function(){function t(t){this.instanceMap={},this.factory=t}return t.prototype.get=function(t){if(t&&Array.isArray(t)&&t.length>=1)return this.instanceMap[t[0]]||(this.instanceMap[t[0]]=this.factory(t)),this.instanceMap[t[0]];var e=new Array;return e[0]="[DEFAULT_CATEGORY]",this.get(e)},t}()},7451:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AGCError:()=>l,AGCErrorCode:()=>d,BaseResponse:()=>g,ConnectRet:()=>f});var r,i,o,a=n(6660),s=n(4452),u=n(716),c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},l=function(t){function e(n,r,i){var o=this,a=n.code+e.COLON+n.message;return i&&(a=i+e.DASH+a),r&&(r.message?a=a+e.COMMA+r.message:"string"==typeof r&&(a=a+e.COMMA+r)),(o=t.call(this,a)||this).__proto__=e.prototype,o.code=n.code,o.message=n.message,r&&(r.message?o.message=n.message+e.COMMA+r.message:"string"==typeof r&&(o.message=n.message+e.COMMA+r)),o.msg=o.message,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.COLON=": ",e.COMMA=", ",e.DASH="-",e}(Error),d=function(){function t(){}return t.AGC_INNER_ERROR={code:1e4,message:"agc inner error"},t.NETWORK_REQUEST_ERROR={code:10001,message:"agc network request error"},t.GET_AAID_ERROR={code:10002,message:"agc get aaid error"},t.ABTEST_LOAD_EXPERIMENTS_ERROR={code:10003,message:"abtest load experiments error"},t.ABTEST_SAVE_EXPERIMENTS_ERROR={code:10004,message:"abtest save experiments error"},t.ABTEST_REPLACE_EXPERIMENTS_ERROR={code:10005,message:"abtest repalce experiments error"},t.FAIL_TO_GET_STORAGE_SERVICE={code:10006,message:"get agcStorage service failed"},t.FAIL_TO_GET_NETWORK_SERVICE={code:10007,message:"get agcNetwork service failed"},t.REMOVE_TOKEN_FAILED={code:10008,message:"remove client token faild"},t.GET_TOKEN_FAILED={code:10009,message:"get client token faild"},t.AGC_INIT_ERROR={code:10010,message:"AGCInstance init error"},t.FAIL_TO_GET_CRIDENTIAL_SERVICE={code:10011,message:"get agcCredential service failed"},t.WEBSOCKET_NOT_SUPPORT={code:10012,message:"websocket is not support"},t.WEBSOCKET_ERROR={code:10013,message:"websocket error"},t}(),h=u.Yd.createLogger("agconnectInstance"),p=function(){function t(t,e){this.appVersion="",this._config=null,this._customCredentialsProvider=null,this._customAuthProvider=null,this.cryptImpl=void 0,this.option=null,this.repo_=t,this.name_=e||s.x4}return t.prototype.name=function(){return this.name_},t.prototype.configInstance=function(t){return this._config=t,this.replaceAppInfo(),this},t.prototype.replaceAppInfo=function(){this._config&&this._config.app_info&&this._config.app_info.app_id&&this._config.client&&(this._config.client.app_id=this._config.app_info.app_id)},t.prototype.config=function(){return this.checkBeforeSetKey(),this._config},t.prototype.setApiKey=function(t){this.checkBeforeSetKey(),this._config.client.api_key=t},t.prototype.setClientSecret=function(t){this.checkBeforeSetKey(),this._config.client.client_secret=t},t.prototype.setClientId=function(t){this.checkBeforeSetKey(),this._config.client.client_id=t},t.prototype.getService=function(t){return this.repo_.getService(t,this,this.name_)},t.prototype.setCustomCredentialsProvider=function(t){return t?t.getToken?1!=t.getToken.length?(h.error("the customCredentialsProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customCredentialsProvider=t,!0):(h.error("the customCredentialsProvider must contain getToken method."),!1):(this._customCredentialsProvider=t,!0)},t.prototype.setCustomAuthProvider=function(t){return t?t.getToken?1!=t.getToken.length?(h.error("the customAuthProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customAuthProvider=t,!0):(h.error("the customAuthProvider must contain getToken method."),!1):(this._customAuthProvider=t,!0)},t.prototype.getCustomCredentialsProvider=function(){return this._customCredentialsProvider},t.prototype.getCustomAuthProvider=function(){return this._customAuthProvider},t.prototype.setCryptImp=function(t){return t?t.decrypt&&t.decrypt instanceof Function&&t.encrypt&&t.encrypt instanceof Function?(this.cryptImpl=t,!0):(h.error("the crypt is not exist necessary methods."),!1):(h.error("the crypt is not available."),!1)},t.prototype.setAppVersion=function(t){this.appVersion=t},t.prototype.setOption=function(t){this.option=t},t.prototype.addHttpToUrl=function(t){return t&&!t.startsWith("https://")?"https://"+t:t},t.prototype.getGwUrl=function(){return null!=this.option?this.option.routePolicy==Number(1)?this.addHttpToUrl(this._config.agcgw_all.CN):this.option.routePolicy==Number(2)?this.addHttpToUrl(this._config.agcgw_all.DE):this.option.routePolicy==Number(3)?this.addHttpToUrl(this._config.agcgw_all.RU):this.option.routePolicy==Number(4)?this.addHttpToUrl(this._config.agcgw_all.SG):this.addHttpToUrl(this._config.agcgw.url):this.addHttpToUrl(this._config.agcgw.url)},t.prototype.getGwBackUrl=function(){return null!=this.option?1==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.CN_back):2==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.DE_back):3==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.RU_back):4==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.SG_back):this.addHttpToUrl(this._config.agcgw.backurl):this.addHttpToUrl(this._config.agcgw.backurl)},t.prototype.getAppVersion=function(){return this.appVersion},t.prototype.getCryptImp=function(){return this.cryptImpl},t.prototype.checkBeforeSetKey=function(){if(null==this._config)throw new l(d.AGC_INIT_ERROR,{message:"AGCInstance not configurated. call agconnect.instance().configInstance() to configure the agconnect."},"instance");if(!this._config.agcgw||!this._config.client)throw new l(d.AGC_INIT_ERROR,{message:"AGCInstance config is invalid."},"instance")},t}(),f=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=""),this.code=t,this.msg=e}return t.prototype.getCode=function(){return this.code},t.prototype.setCode=function(t){this.code=t},t.prototype.getMsg=function(){return this.msg},t.prototype.setMsg=function(t){this.msg=t},t}(),g=function(){function t(){this.ret=new f}return t.prototype.isSuccess=function(){return null!=this.ret&&0==this.ret.getCode()},t.prototype.getRet=function(){return this.ret},t.prototype.setRet=function(t){this.ret=t},t.prototype.constructResponse=function(t){},t}(),v=new s.QB((function(t){return new p(a.default,t[0])}));(o=r||(r={}))[o.UNKNOWN=0]="UNKNOWN",o[o.CHINA=1]="CHINA",o[o.GERMANY=2]="GERMANY",o[o.RUSSIA=3]="RUSSIA",o[o.SINGAPORE=4]="SINGAPORE",i={AGCRoutePolicy:r},a.default.registerApiProvider("instance",(function(t){return v.get(t)}),i)},716:(t,e,n)=>{"use strict";var r,i;n.d(e,{Yd:()=>o}),function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));var o=function(){function t(){var e=this;this.moduleName="",this.logLevel=i.VERBOSE,this.userLogProvider=null,this.logProvider=function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(!(r<e.logLevel)){var a=t.consoleType[r];if(!a)throw new Error("invalid logType: ".concat(r));console[a]("[Module:".concat(n,"] [").concat((new Date).toISOString(),"] | "),i.toString())}}}return t.createLogger=function(e){for(var n=0,r=t.logInstanceArray;n<r.length;n++){var i=r[n];if(i.moduleName==e)return i}var o=new t;return o.moduleName=e,t.logInstanceArray.push(o),o},t.prototype.setLogProvider=function(t){if("function"!=typeof t)throw new Error("logProvider must be set as a function");this.logProvider=t},t.prototype.setUserLogProvider=function(t){this.userLogProvider=t},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(i.DEBUG,t)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(i.VERBOSE,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(i.INFO,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(i.WARN,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(i.ERROR,t)},t.prototype.doLog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.userLogProvider&&this.userLogProvider(this.moduleName,t,e),this.logProvider(this.moduleName,t,e)},t.consoleType=((r={})[i.DEBUG]="log",r[i.VERBOSE]="log",r[i.SILENT]="log",r[i.INFO]="info",r[i.WARN]="warn",r[i.ERROR]="error",r),t.logInstanceArray=[],t}()},7734:(t,e,n)=>{"use strict";n.r(e);var r=n(4452),i=n(6660),o=n(8144),a=n(7451),s=function(){function t(t){this.encryptImpl=void 0,this.encryptImpl=t}return t.prototype.setEncryptImp=function(t){this.encryptImpl=t},t.prototype.decrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.decrypt(t):t},t.prototype.encrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.encrypt(t):t},t}(),u=$app_require$("@app-module/system.storage"),c=function(){function t(){this.agcCryptImpl=new s}return t.getInstance=function(e,n){!t.quickAppStoreMap.has(e)&&t.quickAppStoreMap.get(e)||t.quickAppStoreMap.set(e,new t);var r=t.quickAppStoreMap.get(e);return r.agcCryptImpl.setEncryptImp(n),r},t.prototype.get=function(t){var e=this;return new Promise((function(n,r){u.get({key:t,default:null,success:function(t){n(t&&""!=t?e.agcCryptImpl.decrypt(t):null)},fail:function(t,e){r(t)}})}))},t.prototype.remove=function(t){return new Promise((function(e,n){u.delete({key:t,success:function(t){e()},fail:function(t,r){200==r?e():n(t)}})}))},t.prototype.set=function(t,e){var n=this;return new Promise((function(r,i){u.set({key:t,value:n.agcCryptImpl.encrypt(e),success:function(t){r(t)},fail:function(t,e){i(t)}})}))},t.quickAppStoreMap=new Map,t}(),l=function(){function t(t){this.name=r.x4,t&&(this.name=t)}return t.prototype.getStorageInstance=function(t,e){return c.getInstance(this.name,e)},t.prototype.createPersistentStorage=function(){return c.getInstance(this.name)},t.prototype.createTemporaryStorage=function(){return c.getInstance(this.name)},t.prototype.createMemoryStorage=function(){return c.getInstance(this.name)},t}();i.default.registerInternalService({name:"AGCStorageService",serviceFactory:function(t){return new l(t.name())}});var d=n(716),h=n(3761),p=n.n(h),f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function v(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function m(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var y=function(){function t(){}return t.prototype.getPlatform=function(){return""},t.prototype.getPlatformVersion=function(){return""},t.prototype.getPackageName=function(){return""},t.prototype.getAppVersion=function(){return""},t.prototype.getLanguage=function(){return""},t.prototype.getScript=function(){return""},t.prototype.getCountry=function(){return""},t.prototype.getSystemInfo=function(){return{name:"",version:""}},t.prototype.getBrowsersInfo=function(){return{name:"",version:""}},t}(),_=$app_require$("@app-module/system.configuration"),E=$app_require$("@app-module/system.app"),S=$app_require$("@app-module/system.device"),b="",I=d.Yd.createLogger("QuickApp");S.getInfo({success:function(t){var e=t;b="android"==e.osType?"Android "+e.osVersionName:e.osType+" "+e.osVersionName},fail:function(t,e){I.warn("Failed to obtain device information. Error code:"+e+"; Error information: "+t)}});var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getPlatform=function(){return"JS-SDK-QuickApp"},e.prototype.getPlatformVersion=function(){return b},e.prototype.getPackageName=function(){return E.getInfo().packageName},e.prototype.getAppVersion=function(){return E.getInfo().versionName},e.prototype.getLanguage=function(){return _.getLocale().language},e.prototype.getCountry=function(){return _.getLocale().countryOrRegion},e}(y),A=function(t){function e(e){var n=t.call(this)||this;return n.CancelToken=void 0,p().defaults.timeout=7e4,n.CancelToken=p().CancelToken,null==e&&null==e||(p().defaults.adapter=e),n}return g(e,t),e.prototype.getAxiosIns=function(){return p()},e.prototype.sendRequest=function(t,e,n,r,i){return v(this,void 0,void 0,(function(){var o,s;return m(this,(function(u){switch(u.label){case 0:return this.checkParam(e)?(o={url:e,method:t,transformResponse:null==i?void 0:i.transformResponse,headers:r,timeout:null==i?void 0:i.timeout,responseType:null==i?void 0:i.responseType,onUploadProgress:null==i?void 0:i.onUploadProgress,onDownloadProgress:null==i?void 0:i.onDownloadProgress,validateStatus:null==i?void 0:i.validateStatus,cancelToken:null==i?void 0:i.cancelToken},"PUT"!=t&&"POST"!=t||(o.data=n),"GET"!=t&&"DELETE"!=t||(o.params=n),i&&i.throwOriginException?[2,p().request(o)]:[4,p().request(o).catch((function(t){return Promise.reject(new a.AGCError(a.AGCErrorCode.NETWORK_REQUEST_ERROR,t,"network"))}))]):[2,Promise.reject(new a.AGCError(a.AGCErrorCode.NETWORK_REQUEST_ERROR,{message:"url is illegal"},"network"))];case 1:return s=u.sent(),[2,Promise.resolve(s)]}}))}))},e}(function(){function t(){this.CancelToken=void 0}return t.prototype.post=function(t,e,n,r){return this.sendRequest("POST",t,e,n,r)},t.prototype.get=function(t,e,n,r){return this.sendRequest("GET",t,e,n,r)},t.prototype.delete=function(t,e,n,r){return this.sendRequest("DELETE",t,e,n,r)},t.prototype.put=function(t,e,n,r){return this.sendRequest("PUT",t,e,n,r)},t.prototype.checkParam=function(t){return!(!t||t.match(/\s/g)||!t.match(/^(ht)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?/))},t}()),w=$app_require$("@app-module/system.fetch");function k(t){var e=d.Yd.createLogger("AGCNetworkService");return new Promise((function(n,r){var i=null;"PUT"!=t.method&&"POST"!=t.method&&"put"!=t.method&&"post"!=t.method||(i=t.data),"GET"!=t.method&&"DELETE"!=t.method&&"get"!=t.method&&"delete"!=t.method||(i=t.params),w.fetch({url:t.url,data:i,header:t.headers,responseType:t.responseType,method:t.method,success:function(e){var i={data:e.data,status:e.code,statusText:e.statusText,headers:e.headers};if(null!=t.validateStatus)if(!e.code||t.validateStatus(e.code))n(i);else{var o=new Error("Request failed with status code "+e.code);o.code=e.code,o.response=i,r(o)}else n(i)},fail:function(t,n){e.log("quick app fetch fail code : "+n);var i=new Error("Request failed with status code : "+n+" statusText : "+t.statusText);i.code=n,i.response={data:t.data,status:n,statusText:t.statusText,headers:null},r(i)}})}))}var C=function(){function t(){this.logger=d.Yd.createLogger("AGCWebSocketService")}return t.prototype.getReadyState=function(){return this.websocket?Number(this.websocket.readyState):null},t.prototype.send=function(t,e,n){try{if(this.websocket){if(this.websocket.send(t),e)return e()}else if(n)return n()}catch(t){if(this.logger.error(t),n)return n()}},t.prototype.close=function(t,e,n,r){try{if(this.websocket){if(this.websocket.close(t,e),n)return n()}else if(r)return r()}catch(t){if(this.logger.error(t),r)return r()}},t.prototype.onOpen=function(t){if(!this.websocket)throw new a.AGCError(a.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onopen=t},t.prototype.onMessage=function(t){if(!this.websocket)throw new a.AGCError(a.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onmessage=function(e){t&&t(e.data)}},t.prototype.onClose=function(t){if(!this.websocket)throw new a.AGCError(a.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onclose=function(e){t&&t(e.code,e.reason,e.wasClean)}},t.prototype.onError=function(t){if(!this.websocket)throw new a.AGCError(a.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onerror=function(e){t&&t(e)}},t}(),O=$app_require$("@app-module/system.websocketfactory"),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.connect=function(t,e,n){return v(this,void 0,void 0,(function(){return m(this,(function(r){return this.websocket&&(this.websocket.close(),this.websocket=null),this.websocket=O.create({url:t,header:e,protocols:n}),this.websocket?[2,Promise.resolve()]:[2,Promise.reject(new a.AGCError(a.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket create failed"},"network"))]}))}))},e.prototype.getReadyState=function(){return this.logger.warn("getReadyState not support"),null},e.prototype.send=function(t,e,n){this.websocket?this.websocket.send({data:t,success:e,fail:n}):n&&n()},e.prototype.close=function(t,e,n,r){this.websocket?this.websocket.close({code:t,reason:e,success:n,fail:r}):r&&r()},e.prototype.onError=function(t){if(!this.websocket)throw new a.AGCError(a.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onerror=function(e){t&&t(e.data)}},e}(C),D=$app_require$("@app-module/system.downloadtask"),P=function(){function t(){this.logger=d.Yd.createLogger("AGCFileTransloadService"),this.task=void 0}return t.prototype.downloadWithTask=function(t){var e=this;return new Promise((function(n,r){e.task=D.downloadFile({url:t.url,header:t.header,filename:t.filename,timeout:t.timeout,success:function(e){var i={header:e.header,filePath:e.filePath,status:e.statusCode,statusText:e.statusText};null!=t.validateStatus?t.validateStatus(e.statusCode)?n(i):r({code:e.statusCode,message:"downloadtask request failed with status code "+e.statusCode,response:{header:e.header,filePath:e.filePath,status:e.statusCode,statusText:e.statusText}}):n(i)},fail:function(t,e){r({code:e,message:t.statusText,response:{header:t.header,filePath:t.filePath,status:t.statusCode,statusText:t.statusText}})}})}))},t.prototype.onProgressUpdate=function(t){null!=this.task?this.task.onProgressUpdate(t):this.logger.error("please make sure you have called downloadWithTask function")},t.prototype.offProgressUpdate=function(){null!=this.task?this.task.offProgressUpdate():this.logger.error("please make sure you have called downloadWithTask function")},t.prototype.onHeadersReceived=function(t){null!=this.task?this.task.onHeadersReceived(t):this.logger.error("please make sure you have called downloadWithTask function")},t.prototype.offHeadersReceived=function(){null!=this.task?this.task.offHeadersReceived():this.logger.error("please make sure you have called downloadWithTask function")},t.prototype.abort=function(){null!=this.task?this.task.abort():this.logger.error("please make sure you have called downloadWithTask function")},t}(),N=$app_require$("@app-module/system.request"),x=function(){function t(){this.logger=d.Yd.createLogger("AGCFileTransloadService")}return t.prototype.upload=function(t){var e=this;return new Promise((function(n,r){N.upload({url:t.url,header:t.header,method:t.method,files:t.files,data:t.data,success:function(i){var o=i.data;if("string"==typeof i.data)try{o=JSON.parse(i.data)}catch(t){e.logger.error("upload result cannot be parsed to JSON")}var a={data:o,status:i.code,statusText:i.statusText,headers:i.headers};null!=t.validateStatus?t.validateStatus(i.code)?n(a):r({code:i.code,message:"upload request failed with status code "+i.code,response:{data:o,status:i.code,statusText:i.statusText,headers:i.headers}}):n(a)},fail:function(t,e){r({code:e,message:t.statusText,response:{data:t.data,status:e,statusText:t.statusText,headers:t.headers}})}})}))},t.prototype.download=function(t){return new Promise((function(e,n){N.download({url:t.url,header:t.header,description:t.description,filename:t.filename,success:function(r){var i={token:r.token,status:r.code};null!=t.validateStatus?t.validateStatus(r.code)?e(i):n({code:r.code,message:"download request failed with status code "+r.code,response:{data:r.token,status:r.code,statusText:r.statusText}}):e(i)},fail:function(t,e){n({code:e,message:t.statusText,response:{data:t.token,status:e,statusText:t.statusText}})}})}))},t.prototype.onDownloadComplete=function(t){return new Promise((function(e,n){N.onDownloadComplete({token:t.token,success:function(r){var i={uri:r.uri,status:r.code};null!=t.validateStatus?t.validateStatus(r.code)?e(i):n({code:r.code,message:"onDownloadComplete request failed with status code "+r.code,response:{data:r.uri,status:r.code,statusText:r.statusText}}):e(i)},fail:function(t,e){n({code:e,message:t.statusText,response:{data:t.uri,status:e,statusText:t.statusText}})}})}))},t}(),L=$app_require$("@app-module/system.requesttask"),U=function(){function t(){this.logger=d.Yd.createLogger("AGCFileTransloadService"),this.task=void 0}return t.prototype.request=function(t){var e=this;return new Promise((function(n,r){e.task=L.request({url:t.url,data:t.data,header:t.header,method:t.method,responseType:t.responseType,timeout:t.timeout,success:function(e){var i=e.data;if("string"==typeof e.data)try{i=JSON.parse(e.data)}catch(t){}var o={data:i,status:e.statusCode,statusText:e.statusText,header:e.header};null!=t.validateStatus?t.validateStatus(e.statusCode)?n(o):r({code:e.statusCode,message:"requesttask request failed with status code "+e.statusCode,response:{data:i,status:e.statusCode,statusText:e.statusText,header:e.header}}):n(o)},fail:function(t,e){r({code:e,message:t.statusText,response:{data:t.data,status:e,statusText:t.statusText,header:t.header}})}})}))},t.prototype.onProgressUpdate=function(t){null!=this.task?this.task.onProgressUpdate(t):this.logger.error("please make sure you have called request function")},t.prototype.offProgressUpdate=function(){null!=this.task?this.task.offProgressUpdate():this.logger.error("please make sure you have called request function")},t.prototype.onHeadersReceived=function(t){null!=this.task?this.task.onHeadersReceived(t):this.logger.error("please make sure you have called request function")},t.prototype.offHeadersReceived=function(){null!=this.task?this.task.offHeadersReceived():this.logger.error("please make sure you have called request function")},t.prototype.abort=function(){null!=this.task?this.task.abort():this.logger.error("please make sure you have called request function")},t}(),$=$app_require$("@app-module/system.uploadtask"),M=function(){function t(){this.logger=d.Yd.createLogger("AGCFileTransloadService"),this.task=void 0}return t.prototype.uploadWithTask=function(t){var e=this;return new Promise((function(n,r){e.task=$.uploadFile({url:t.url,method:t.method,files:t.files,data:t.data,timeout:t.timeout,success:function(e){var i=e.data;if("string"==typeof e.data)try{i=JSON.parse(e.data)}catch(t){}var o={data:i,status:e.statusCode,statusText:e.statusText,headers:e.headers};null!=t.validateStatus?t.validateStatus(e.statusCode)?n(o):r({code:e.statusCode,message:"uploadtask request failed with status code "+e.statusCode,response:{data:i,status:e.statusCode,statusText:e.statusText,headers:e.headers}}):n(o)},fail:function(t,e){r({code:e,message:t.statusText,response:{data:t.data,status:e,statusText:t.statusText,headers:t.headers}})}})}))},t.prototype.onProgressUpdate=function(t){null!=this.task?this.task.onProgressUpdate(t):this.logger.error("please make sure you have called uploadWithTask function")},t.prototype.offProgressUpdate=function(){null!=this.task?this.task.offProgressUpdate():this.logger.error("please make sure you have called uploadWithTask function")},t.prototype.onHeadersReceived=function(t){null!=this.task?this.task.onHeadersReceived(t):this.logger.error("please make sure you have called uploadWithTask function")},t.prototype.offHeadersReceived=function(){null!=this.task?this.task.offHeadersReceived():this.logger.error("please make sure you have called uploadWithTask function")},t.prototype.abort=function(){null!=this.task?this.task.abort():this.logger.error("please make sure you have called uploadWithTask function")},t}(),H=function(){function t(){this.quickAppReq=void 0,this.uploadTaskIns=void 0,this.downloadTaskIns=void 0,this.reqTask=void 0}return t.prototype.upload=function(t){return this.quickAppReq||(this.quickAppReq=new x),this.quickAppReq.upload(t)},t.prototype.download=function(t){return this.quickAppReq||(this.quickAppReq=new x),this.quickAppReq.download(t)},t.prototype.onDownloadComplete=function(t){return this.quickAppReq||(this.quickAppReq=new x),this.quickAppReq.onDownloadComplete(t)},t.prototype.downloadWithTask=function(t){return this.downloadTaskIns||(this.downloadTaskIns=new P),this.downloadTaskIns.downloadWithTask(t)},t.prototype.downloadtaskOnProgressUpdate=function(t){this.downloadTaskIns||(this.downloadTaskIns=new P),this.downloadTaskIns.onProgressUpdate(t)},t.prototype.downloadtaskOnHeadersReceived=function(t){this.downloadTaskIns||(this.downloadTaskIns=new P),this.downloadTaskIns.onHeadersReceived(t)},t.prototype.downloadtaskOffProgressUpdate=function(){this.downloadTaskIns||(this.downloadTaskIns=new P),this.downloadTaskIns.offProgressUpdate()},t.prototype.downloadtaskOffHeadersReceived=function(){this.downloadTaskIns||(this.downloadTaskIns=new P),this.downloadTaskIns.offHeadersReceived()},t.prototype.downloadtaskAbort=function(){this.downloadTaskIns||(this.downloadTaskIns=new P),this.downloadTaskIns.abort()},t.prototype.uploadWithTask=function(t){return this.uploadTaskIns||(this.uploadTaskIns=new M),this.uploadTaskIns.uploadWithTask(t)},t.prototype.uploadtaskOnProgressUpdate=function(t){this.uploadTaskIns||(this.uploadTaskIns=new M),this.uploadTaskIns.onProgressUpdate(t)},t.prototype.uploadtaskOnHeadersReceived=function(t){this.uploadTaskIns||(this.uploadTaskIns=new M),this.uploadTaskIns.onHeadersReceived(t)},t.prototype.uploadtaskOffProgressUpdate=function(){this.uploadTaskIns||(this.uploadTaskIns=new M),this.uploadTaskIns.offProgressUpdate()},t.prototype.uploadtaskOffHeadersReceived=function(){this.uploadTaskIns||(this.uploadTaskIns=new M),this.uploadTaskIns.offHeadersReceived()},t.prototype.uploadtaskAbort=function(){this.uploadTaskIns||(this.uploadTaskIns=new M),this.uploadTaskIns.abort()},t.prototype.request=function(t){return this.reqTask||(this.reqTask=new U),this.reqTask.request(t)},t.prototype.requestOnProgressUpdate=function(t){this.reqTask||(this.reqTask=new U),this.reqTask.onProgressUpdate(t)},t.prototype.requestOnHeadersReceived=function(t){this.reqTask||(this.reqTask=new U),this.reqTask.onHeadersReceived(t)},t.prototype.requestOffProgressUpdate=function(){this.reqTask||(this.reqTask=new U),this.reqTask.offProgressUpdate()},t.prototype.requestOffHeadersReceived=function(){this.reqTask||(this.reqTask=new U),this.reqTask.offHeadersReceived()},t.prototype.requestAbort=function(){this.reqTask||(this.reqTask=new U),this.reqTask.abort()},t}(),B=i.default;B.registerInternalService({name:"AGCNetworkService",serviceFactory:function(t){return new A(k)}}),B.registerInternalService({name:"AGCWebSocketService",serviceFactory:function(t){return new R}}),B.registerInternalService({name:"AGCPlatformInfoService",serviceFactory:function(t){return new T}}),B.registerInternalService({name:"AGCFileTransloadService",serviceFactory:function(t){return new H}});var F,V=function(){function t(){this.storageImpl=void 0}return t.prototype.getAaid=function(e){return function(t,e,n,r){return new(n||(n=Promise))((function(e,i){function o(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(t){t(r)}))).then(o,a)}s((r=r.apply(t,[])).next())}))}(this,0,void 0,(function(){var n,i,o,s,u;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(c){switch(c.label){case 0:n=d.Yd.createLogger("ClientInfoService"),c.label=1;case 1:return c.trys.push([1,5,,6]),i="agcAaid_"+e.name()+":"+e.config().client.client_id,e.name()===r.x4&&(i="agcAaid:"+e.config().client.client_id),null==(o=e.getService("AGCStorageService"))?(n.error("Get AGC storage Service failed."),[2,Promise.reject(new a.AGCError(a.AGCErrorCode.GET_AAID_ERROR,{message:"get AGC storage Service failed"},"util"))]):(this.storageImpl||(this.storageImpl=o.getStorageInstance(t.persistence)),[4,this.storageImpl.get(i).catch((function(t){return n.error("get aaid failed",t.message),Promise.reject(new a.AGCError(a.AGCErrorCode.GET_AAID_ERROR,{message:"get aaid from storage failed"},"util"))}))]);case 2:return null!=(s=c.sent())&&null!=s&&""!=s?[3,4]:(s=this.getRandomString(),[4,this.storageImpl.set(i,s).catch((function(t){return n.error("get aaid failed",t.message),Promise.reject(new a.AGCError(a.AGCErrorCode.GET_AAID_ERROR,{message:"save aaid to storage failed"},"util"))}))]);case 3:c.sent(),c.label=4;case 4:return[2,s];case 5:return u=c.sent(),n.error("get aaid failed",u.message),[2,Promise.reject(new a.AGCError(a.AGCErrorCode.GET_AAID_ERROR,u,"util"))];case 6:return[2]}}))}))},t.prototype.getRandomString=function(){return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,(function(){return"0123456789abcdef".charAt(Math.floor(16*Math.random()))}))},t.persistence=0,t.INSTANCE=new t,t}(),j=function(){function t(){}return t.getEnvironmentIns=function(){return t.instance},t.prototype.isBrowser=function(){return"object"==typeof self&&self.self===self},t.prototype.isNodeJS=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},t.prototype.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.prototype.isQuickApp=function(){try{return global&&"fastapp"in global}catch(t){return!1}},t.instance=new t,t}(),q=function(){function t(t){this.instance=t||i.default.instance()}return t.prototype.getAaid=function(){return V.INSTANCE.getAaid(this.instance)},t.prototype.getEnvironmentUtil=function(){return j.getEnvironmentIns()},t}();function G(t){return null!=t}(F||(F={})).ObserverImpl=function(t,e,n){if("function"==typeof t||G(e)||G(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},i.default.registerInternalService({name:"ClientInfoService",serviceFactory:function(t){return new q(t)}});var W=$app_require$("@app-module/system.shortcut"),{fetch:Y}=$app_require$("@app-module/system.fetch"),K=$app_require$("@app-module/system.app"),J=$app_require$("@app-module/system.device"),z=$app_require$("@app-module/system.storage"),X=function(t,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Q(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Z(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function tt(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var et,nt,rt="event",it="debugMode",ot="routePolicy",at="terminalName",st="App-Id",ut="Request-Id",ct="x-hasdk-token",lt="x-hasdk-resourceid",dt="x-hasdk-productid",ht="x-hasdk-clientid",pt="_openness_log_tag",ft="_openness_config_tag",gt="$StartType",vt="$StartScene",mt="$PrevActivityName",yt="$PrevActivityId",_t="$CurActivityName",Et="$CurActivityId",St="$CurrPageId",bt="$Duration",It=128,Tt=256,At=4096,wt=2048,kt=/^[a-zA-Z_$][A-Za-z0-9_]*$/,Ct=/^[a-zA-Z][A-Za-z0-9_]*$/,Ot=/^[a-zA-Z_$][A-Za-z0-9_]*$/,Rt=5e3,Dt=18e6;(nt=et||(et={}))[nt.BEACON=1]="BEACON",nt[nt.AJAX=2]="AJAX",nt[nt.IMG=3]="IMG",nt[nt.WXREQUEST=4]="WXREQUEST";var Pt,Nt,xt=1e3;!function(t){t.AES_CBC_NETWORK="AES_CBC_NETWORK",t.AES_CBC_STORAGE="AES_CBC_STORAGE"}(Pt||(Pt={})),function(t){t.APP_ID="appId",t.PKG_NAME="packageName",t.ANALYTICS_URL="analyticsUrl"}(Nt||(Nt={}));var Lt="HW_ha_eventSessionName",Ut="HW_ha_analyticsEnabled",$t="HW_ha_restrictionEnabled",Mt="HW_ha_restrictionShared",Ht="HW_ha_serverOaidFlag",Bt="HW_ha_isFirstRun",Ft="HW_ha_pubKeyCN",Vt="HW_ha_pubKeyDE",jt="HW_ha_pubKeyRU",qt="HW_ha_pubKeySG",Gt="HW_ha_workKeyCN",Wt="HW_ha_workKeyDE",Yt="HW_ha_workKeyRU",Kt="HW_ha_workKeySG",Jt={CREATEPAYMENTINFO:"$CreatePaymentInfo",ADDPRODUCT2CART:"$AddProduct2Cart",ADDPRODUCT2WISHLIST:"$AddProduct2WishList",STARTAPP:"$StartApp",STARTCHECKOUT:"$StartCheckout",VIEWCAMPAIGN:"$ViewCampaign",VIEWCHECKOUTSTEP:"$ViewCheckoutStep",WINVIRTUALCOIN:"$WinVirtualCoin",COMPLETEPURCHASE:"$CompletePurchase",OBTAINLEADS:"$ObtainLeads",JOINUSERGROUP:"$JoinUserGroup",COMPLETELEVEL:"$CompleteLevel",STARTLEVEL:"$StartLevel",UPGRADELEVEL:"$UpgradeLevel",SIGNIN:"$SignIn",SIGNOUT:"$SignOut",SUBMITSCORE:"$SubmitScore",CREATEORDER:"$CreateOrder",REFUNDORDER:"$RefundOrder",DELPRODUCTFROMCART:"$DelProductFromCart",SEARCH:"$Search",VIEWCONTENT:"$ViewContent",UPDATECHECKOUTOPTION:"$UpdateCheckoutOption",SHARECONTENT:"$ShareContent",REGISTERACCOUNT:"$RegisterAccount",CONSUMEVIRTUALCOIN:"$ConsumeVirtualCoin",STARTTUTORIAL:"$StartTutorial",COMPLETETUTORIAL:"$CompleteTutorial",OBTAINACHIEVEMENT:"$ObtainAchievement",VIEWPRODUCT:"$ViewProduct",VIEWPRODUCTLIST:"$ViewProductList",VIEWSEARCHRESULT:"$ViewSearchResult",UPDATEMEMBERSHIPLEVEL:"$UpdateMembershipLevel",FILTRATEPRODUCT:"$FiltrateProduct",VIEWCATEGORY:"$ViewCategory",UPDATEORDER:"$UpdateOrder",CANCELORDER:"$CancelOrder",COMPLETEORDER:"$CompleteOrder",CANCELCHECKOUT:"$CancelCheckout",OBTAINVOUCHER:"$ObtainVoucher",CONTACTCUSTOMSERVICE:"$ContactCustomService",NOVICEGUIDESTART:"$NoviceGuideStart",NOVICEGUIDEEND:"$NoviceGuideEnd",STARTGAME:"$StartGame",ENDGAME:"$EndGame",WINPROPS:"$WinProps",EXCHANGEGOODS:"$ExchangeGoods",VIEWHOUSELIST:"$ViewHouseList",VIEWHOUSEDETAIL:"$ViewHouseDetail",INVITE:"$Invite",RATE:"$Rate",CONSUMEPROPS:"$ConsumeProps",ADDFRIEND:"$AddFriend",ADDBLACKLIST:"$AddBlacklist",VIEWFRIENDLIST:"$ViewFriendList",QUITUSERGROUP:"$QuitUserGroup",CREATEUSERGROUP:"$CreateUserGroup",DISBANDUSERGROUP:"$DisbandUserGroup",UPGRADEUSERGROUP:"$UpgradeUserGroup",VIEWUSERGROUP:"$ViewUserGroup",JOINTEAM:"$JoinTeam",SENDMESSAGE:"$SendMessage",LEARNSKILL:"$LearnSkill",USESKILL:"$UseSkill",GETEQUIPMENT:"$GetEquipment",LOSEEQUIPMENT:"$LoseEquipment",ENHANCEEQUIPMENT:"$EnhanceEquipment",SWITCHCLASS:"$SwitchClass",ACCEPTTASK:"$AcceptTask",FINISHTASK:"$FinishTask",ATTENDACTIVITY:"$AttendActivity",FINISHCUTSCENE:"$FinishCutscene",SKIPCUTSCENE:"$SkipCutscene",GETPET:"$GetPet",LOSEPET:"$LosePet",ENHANCEPET:"$EnhancePet",GETMOUNT:"$GetMount",LOSEMOUNT:"$LoseMount",ENHANCEMOUNT:"$EnhanceMount",CREATEROLE:"$CreateRole",SIGNINROLE:"$SignInRole",SIGNOUTROLE:"$SignOutRole",STARTBATTLE:"$StartBattle",ENDBATTLE:"$EndBattle",STARTDUNGEON:"$StartDungeon",FINISHDUNGEON:"$FinishDungeon",VIEWPACKAGE:"$ViewPackage",REDEEM:"$Redeem",MODIFYSETTING:"$ModifySetting",WATCHVIDEO:"$WatchVideo",CLICKMESSAGE:"$ClickMessage",DRAWCARD:"$DrawCard",VIEWCARDLIST:"$ViewCardList",BINDACCOUNT:"$BindAccount",STARTEXERCISE:"$StartExercise",ENDEXERCISE:"$EndExercise",STARTPLAYMEDIA:"$StartPlayMedia",ENDPLAYMEDIA:"$EndPlayMedia",STARTEXAMINE:"$StartExamine",ENDEXAMINE:"$EndExamine",CHECKIN:"$CheckIn",COMPENSATION:"$Compensation",POST:"$Post",SHAREAPP:"$ShareApp",BINDDEVICE:"$BindDevice",UNBINDDEVICE:"$UnBindDevice",RESERVEMAINTENANCE:"$ReserveMaintenance",DEVICEMISSINGREPORT:"$DeviceMissingReport",MODULARCLICK:"$ModularClick",PAGEVIEW:"$PageView",STARTBOOKING:"$StartBooking",LEARNTARGET:"$LearnTarget",LANGUAGETEST:"$LanguageTest",STARTTRAINING:"$StartTraining",ENDTRAINING:"$EndTraining",REGISTERACTIVITY:"$RegisterActivity",EXITACTIVITY:"$ExitActivity",COMPLETEACTIVITY:"$CompleteActivity",FOLLOWCONTENT:"$FollowContent",ENTERACCOUNTOPENING:"$EnterAccountOpening",SUBMITACCOUNTOPENING:"$SubmitAccountOpening",BANDCARD:"$BandCard",BANKTRANSFERIN:"$BankTransferIn",BANKTRANSFEROUT:"$BankTransferOut",VIEWSTOCKDETAIL:"$ViewStockDetail",TRADESTOCKS:"$TradeStocks",VIEWFINANCEPAGE:"$ViewFinancePage",PURCHASEFINANCE:"$PurchaseFinance",REDEMPTIONFINANCE:"$RedemptionFinance",FUNDTRADING:"$FundTrading",FIXEDINVESTMENT:"$Fixedinvestment",APPLYNEW:"$ApplyNew",VIEWINFORMATIONSECTION:"$ViewInformationSection",VIEWINFORMATION:"$ViewInformation",DISPLAYVOUCHER:"$DisplayVoucher",BOOKCOURSE:"$BookCourse",LEARNCOURSES:"$LearnCourses",TRYOUT:"$Tryout",ANSWER:"$Answer",VIEWFUNDPAGE:"$ViewFundPage",CLICKPURCHASE:"$ClickPurchase",ENABLEMEMBER:"$EnableMember",CANCELMEMBER:"$CancelMember",COMMENTCONTENT:"$CommentContent",LIKECONTENT:"$LikeContent",DELETEPRODUCT2WISHLIST:"$DeleteProduct2WishList",ADCLICK:"$AdClick",ADDISPLAY:"$AdDisplay",VIPSUC:"$VipSuc",REGISTERFAILED:"$RegisterFailed",VIPCLICK:"$VipClick",VIPFAILED:"$VipFailed",IMPROVEINFORMATION:"$ImproveInformation"},zt={JOINABTASK:"$JoinABTask",FIRST_OPEN:"$AppFirstOpen",ENTER_SCREEN:"$EnterScreen",EXIT_SCREEN:"$ExitScreen",ADD_QUICK_APP:"$AddQuickApp",HA_NOTIFICATION_DISPLAY:"$HA_NOTIFICATION_DISPLAY",DisplayNotification:"$DisplayNotification",HA_NOTIFICATION_CLICK:"$HA_NOTIFICATION_CLICK",ClickNotification:"$ClickNotification",HA_NOTIFICATION_CLEAR:"$HA_NOTIFICATION_CLEAR",ClearNotification:"$ClearNotification",HA_APP_INSTALL:"$HA_APP_INSTALL",InstallApp:"$InstallApp",HA_APP_START:"$HA_APP_START",LaunchApp:"$LaunchApp",HA_APP_UPDATE:"$HA_APP_UPDATE",UpdateApp:"$UpdateApp",HA_FIRST_OPEN:"$HA_FIRST_OPEN",AppFirstOpen:"$AppFirstOpen",HA_SCREEN_ENTER:"$HA_SCREEN_ENTER",EnterScreen:"$EnterScreen",HA_SCREEN_EXIT:"$HA_SCREEN_EXIT",ExitScreen:"$ExitScreen",HA_CLEAR_DATA:"$HA_CLEAR_DATA",ClearData:"$ClearData",HA_CLEAR_CACHE:"$HA_CLEAR_CACHE",ClearCache:"$ClearCache",HA_APP_UNINSTALL:"$HA_APP_UNINSTALL",UninstallApp:"$UninstallApp",InAppPurchase:"$InAppPurchase",RequestAd:"$RequestAd",DisplayAd:"$DisplayAd",ClickAd:"$ClickAd",STOP_ANALYTICS_COLLECTION:"$StopAnalyticsCollection",AppError:"$AppError",AppPushToken:"$AppPushToken",CampaignPushClick:"$CampaignPushClick",SignIn:"$SignIn",SignOut:"$SignOut",ObtainAdAward:"$ObtainAdAward"},Xt=[zt.SignIn,zt.SignOut,zt.JOINABTASK],Qt={};function Zt(t){return null==t||""===t}function te(t){return!Zt(t)}function ee(t){return"string"==typeof t&&!Zt(t)}function ne(t,e){if(!ee(t))return e&&e(),!1;for(var n=!1,r=(t=t.replace(/,$/gi,"")).split(","),i=0;i<r.length;i++)Zt(r[i])?e&&e(i):0===i&&(n=!0);return n}Qt[Jt.WINVIRTUALCOIN]={VIRTUALCURRNAME:"$VirtualCurrName",LEVEL:"$Level",ENTRY:"$Entry"},Qt[Jt.CONSUMEVIRTUALCOIN]={VIRTUALCURRNAME:"$VirtualCurrName",LEVEL:"$Level",ENTRY:"$Entry"},Qt[Jt.COMPLETEPURCHASE]={LEVEL:"$Level",ENTRY:"$Entry",PURCHASEENTRY:"$PurchaseEntry"},Qt[Jt.NOVICEGUIDEEND]={RESULT:"$Result"},Qt[Jt.ENDGAME]={RESULT:"$Result",DURATION:"$Duration"},Qt[Jt.WINPROPS]={PROPS:"$Props",LEVEL:"$Level",ENTRY:"$Entry",QUANTITY:"$Quantity"},Qt[Jt.CONSUMEPROPS]={PROPS:"$Props",LEVEL:"$Level",ENTRY:"$Entry",QUANTITY:"$Quantity"},Qt[Jt.ADDPRODUCT2CART]={ORDERID:"$OrderId",BRAND:"$Brand",CATEGORY:"$Category",SOURCE:"$Source",MEDIUM:"$Medium",PROMOTIONNAME:"$PromotionName",CONTENT:"$Content",KEYWORDS:"$Keywords",MATERIALNAME:"$MaterialName",MATERIALSLOT:"$MaterialSlot"};var re=new(function(){function t(){}return t.prototype.create=function(){var t=Math.floor(Math.random()*(Math.pow(2,12)-1-0+1))+0,e=Math.floor(Math.random()*(Math.pow(2,32)-1-0+1))+0,n=Math.floor(Math.random()*(Math.pow(2,16)-1-0+1))+0,r=Math.floor(Math.random()*(Math.pow(2,6)-1-0+1))+0,i=Math.floor(Math.random()*(Math.pow(2,8)-1-0+1))+0,o=(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30);function a(t,e,n){n=n||"0";for(var r=e-(t=String(t)).length;r>0;r>>>=1,n+=n)1&r&&(t=n+t);return t}return[a(e.toString(16),8),a(n.toString(16),4),a((16384|t).toString(16),4),a((128|r).toString(16),2),a(i.toString(16),2),a(o.toString(16),12)].join("")},t}());function ie(t,e,n){if(void 0===e&&(e=[]),void 0===n&&(n=!1),"object"!=typeof t)return t;if(Array.isArray(t)){for(var r=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&r.push(ie(t[i]));return r}if(null!=t&&t.constructor!==RegExp){var o={};for(var a in t)(n||"function"!=typeof t[a])&&-1===e.indexOf(a)&&(o[a]=ie(t[a]));return o}return t}function oe(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function ae(t,e){return-1!==t.indexOf(e)}var se,ue,ce,le=new(function(){function t(){this.sessionDuration=18e5,this.minSessionDuration=3e4,this.defaultEventParams={},this.expiryTimeInfinity=-1,this.keyList=[],this.dataList={},this.initCompletedAt=0,this.initPromise=null}return t.prototype.init=function(){return Z(this,void 0,void 0,(function(){var t,e,n,r,i;return tt(this,(function(o){switch(o.label){case 0:return this.initPromise?[2]:[4,je.hiMigration.migrate()];case 1:return o.sent(),t=this.initKeyNameList(),e=this,[4,this.clearInvalidKey(t)];case 2:e.keyList=o.sent(),n=0,o.label=3;case 3:return n<this.keyList.length?(r=this.keyList[n],[4,je.hiStorage.getSavedObject(r)]):[3,6];case 4:if(i=o.sent()||{},!this.isValidStoredItem(i))return[3,5];-1!=this.initNoRefreshKeyList().indexOf(r)?this.dataList[r]=i:this.saveClientValue(r,i.value),o.label=5;case 5:return n++,[3,3];case 6:return this.initCompletedAt=(new Date).getTime(),je.sendTask.processEventsReceivedAfterLaunch(),[2]}}))}))},t.prototype.clearInvalidKey=function(t){return Z(this,void 0,void 0,(function(){var e,n;return tt(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<t.length?(n=t[e],[4,je.hiStorage.isKeyExist(n)]):[3,4];case 2:r.sent()||(t.splice(e,1),e--),r.label=3;case 3:return e++,[3,1];case 4:return[2,t]}}))}))},t.prototype.handleSessionValue=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);var n=this.getSessionValue(),r=t?re.create()+"_"+(new Date).getTime():n||re.create()+"_"+(new Date).getTime(),i=je.sendTask.getCurFocusStateSessionDuration(!t&&!Zt(n)&&!e);this.saveClientValue(Lt,r,i),n!==r&&(je.sendTask.upLoadService.isInit=!1)},t.prototype.getSessionValue=function(){return this.getClientValue(Lt)},t.prototype.setSessionDuration=function(t){Number.isInteger(t)&&(this.sessionDuration=t,this.handleSessionValue())},t.prototype.setBackgroundSessionDuration=function(t){Number.isInteger(t)&&(this.minSessionDuration=t,this.handleSessionValue())},t.prototype.getClientExpire=function(t){var e=this;return this.isValidStoredItem(this.dataList[t],(function(){Zt(e.dataList[t])||e.removeClientValue(t)}))?this.dataList[t].expiryTime:0},t.prototype.getClientValue=function(t){var e=this;return this.isValidStoredItem(this.dataList[t],(function(){Zt(e.dataList[t])||e.removeClientValue(t)}))?this.dataList[t].value:""},t.prototype.removeClientValue=function(t){delete this.dataList[t],je.hiStorage.removeItem(t);var e=this.keyList.indexOf(t);-1!==e&&delete this.keyList[e]},t.prototype.isKeyExist=function(t){return!!this.getClientValue(t)},t.prototype.saveClientValue=function(t,e,n){this.dataList[t]={value:e,expiryTime:this.makeExpiryTime(n)},je.hiStorage.saveClientValue(t,e,n),-1==this.keyList.indexOf(t)&&this.keyList.push(t)},t.prototype.isValidStoredItem=function(t,e){return null===t||""===t||void 0===(n="string"==typeof t?JSON.parse(t):t)||isNaN(n.expiryTime)||!1===oe(n,"value")?(e&&e(),!1):!(n.expiryTime!==this.expiryTimeInfinity&&n.expiryTime<(new Date).getTime()&&(e&&e(),1));var n},t.prototype.makeExpiryTime=function(t){var e=(new Date).getTime()+31536e6;return t&&!isNaN(t)&&t>0&&(e=(new Date).getTime()+t),e},t.prototype.initKeyNameList=function(){return["HW_ha_clientOaidFlag",Ht,"HW_ha_pushTokenFlag","HW_ha_getConfigTime",Bt,"HW_ha_isTestDevice","HW_ha_isNewUser",Lt,"HW_ha_appVersion","HW_ha_saltExpire","HW_ha_wxAppId",Ft,Vt,jt,qt,Gt,Wt,Yt,Kt,"HW_ha_eventUploadPolicy","HW_ha_disableEvents","HW_ha_apiChannel","HW_ha_firstOpenTime","HW_ha_existShortcut","HW_ha_existUserId",Ut,Mt,$t]},t.prototype.initNoRefreshKeyList=function(){return[Lt,"HW_ha_saltExpire",Ft,Vt,jt,qt,Gt,Wt,Yt,Kt]},t}()),de="CE-001",he="PE-002",pe="Length of $1 exceeds the limit. Max Length is $2.",fe="PE-003",ge="$1 missed.",ve="PE-005",me="Too many $1 parameters. Max number of parameters is $2.",ye="PE-006",_e="$1 is invalid.",Ee="PE-007",Se="IE-004",be="Missing agconnect sdk.",Ie="IE-006",Te="The Analytics Kit is disabled.",Ae="SE-002",we="Failed to obtain AAID from hms core sdk.",ke=function(){function t(){}return t.checkString=function(t,e,n,r){return Zt(n)?(je.hiLog.warn(t,fe,ge,{$1:e}),!1):!(String(n).length>r&&(je.hiLog.warn(t,he,pe,{$1:e,$2:r}),1))},t.checkPattern=function(t,e,n,r){return!!r.test(n)||(je.hiLog.warn(t,ye,_e,{$1:e}),!1)},t.checkReserve=function(t,e,n,r){for(var i in r)if(n===r[i])return je.hiLog.warn(t,"PE-004","$1 is reserved.",{$1:e}),!1;return!0},t.checkLength=function(t,e,n,r){return!(n>r&&(je.hiLog.warn(t,ve,me,{$1:e,$2:r}),1))},t.checkSwitchIsOpen=function(t,e){return!!e||(je.hiLog.warn(t,Ie,Te),!1)},t.checkExceedMaxSize=function(t,e,n,r){return!(n>r&&(je.hiLog.warn(t,Ee,"The size exceeds the limit, the maximum size is $1.",{$1:e}),1))},t.checkEmpty=function(t,e,n){return!Zt(n)||(je.hiLog.warn(t,fe,ge,{$1:e}),!1)},t}(),Ce="Analytics",Oe="aaid",Re="token",De=new(function(){function t(){this.attributesCollectors=[]}return t.prototype.register=function(t){this.attributesCollectors.push(t)},t.prototype.collectAll=function(){return Z(this,void 0,void 0,(function(){var t,e,n,r;return tt(this,(function(i){switch(i.label){case 0:t={},e=0,n=this.attributesCollectors,i.label=1;case 1:return e<n.length?[4,n[e].doCollect()]:[3,4];case 2:r=i.sent(),Object.assign(t,r),i.label=3;case 3:return e++,[3,1];case 4:return[2,t]}}))}))},t.prototype.collect=function(t){return Z(this,void 0,void 0,(function(){var e,n;return tt(this,(function(r){switch(r.label){case 0:return e={},n={},this.attributesCollectors.some((function(e,r){return e.key===t&&(n=e,!0)})),n.doCollect?[4,n.doCollect()]:[3,2];case 1:e=r.sent(),r.label=2;case 2:return[2,e]}}))}))},t.prototype.syncCollect=function(t){return Z(this,void 0,void 0,(function(){var e,n;return tt(this,(function(r){switch(r.label){case 0:return e={},(n=this.attributesCollectors.find((function(e){return e.key===t})))&&n.doCollect?[4,n.doCollect()]:[3,2];case 1:e=r.sent(),r.label=2;case 2:return[2,e]}}))}))},t}()),Pe=new(function(){function t(){this.tag="AaidCollector",this.key=Oe,this.cache=null}return t.prototype.doCollect=function(){return Z(this,void 0,void 0,(function(){var t;return tt(this,(function(e){switch(e.label){case 0:return this.cache&&this.cache[this.key]?[3,2]:(this.cache=this.cache||{},[4,je.hiAgcUtil.getAaid(this.tag)]);case 1:(t=e.sent())&&(this.cache[this.key]=t),e.label=2;case 2:return[2,this.cache]}}))}))},t.prototype.getAaid=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,this.doCollect()];case 1:return t.sent(),[2,this.cache[Oe]||""]}}))}))},t.prototype.refreshAaid=function(){return Z(this,void 0,void 0,(function(){var t;return tt(this,(function(e){switch(e.label){case 0:return delete this.cache[Oe],[4,je.hiAgcUtil.deleteAaid()];case 1:return e.sent(),[4,this.doCollect()];case 2:return(t=e.sent())[Oe]&&(Me.addConfig("aaid",t[Oe]),Me.setIsTestDevice(),le.removeClientValue("HW_ha_isNewUser")),[2]}}))}))},t}()),Ne=function(){function t(){}return t.parse=function(e){var n,r,i,o,a,s,u,c,l,d,h,p;if("function"==typeof URL)return new URL(e);var f={hash:"",host:"",hostname:"",href:"",origin:"",password:"",pathname:"",port:"",protocol:"",search:"",searchParams:new Map,username:""},g=e.match(/^(http:|https:)\/\/(.+[:][^/]+[@])?([^:/]+)([:]\d+)?([^#?]+)?([?])?([^#]+)?([#].+)?$/);return null==g||(g=g.map((function(t){return Zt(t)?"":t})),f.hash=null!==(n=t.parseHash(g))&&void 0!==n?n:"",f.host=null!==(r=t.parseHost(g))&&void 0!==r?r:"",f.hostname=null!==(i=t.parseHostName(g))&&void 0!==i?i:"",f.href=null!==(o=t.parseHref(g))&&void 0!==o?o:"",f.origin=null!==(a=t.parseOrigin(g))&&void 0!==a?a:"",f.password=null!==(s=t.parsePassword(g))&&void 0!==s?s:"",f.pathname=null!==(u=t.parsePathname(g))&&void 0!==u?u:"",f.port=null!==(c=t.parsePort(g))&&void 0!==c?c:"",f.protocol=null!==(l=t.parseProtocol(g))&&void 0!==l?l:"",f.search=null!==(d=t.parseSearch(g))&&void 0!==d?d:"",f.searchParams=null!==(h=t.parseSearchParams(g))&&void 0!==h?h:new Map,f.username=null!==(p=t.parseUsername(g))&&void 0!==p?p:""),f},t.parseHash=function(t){return t[8]},t.parseHost=function(t){return t[3]+t[4]},t.parseHostName=function(t){return t[3]},t.parseHref=function(t){return t[0]},t.parseOrigin=function(t){return t[1]+"//"+t[3]+t[4]},t.parsePassword=function(t){return Zt(t[2])?"":t[2].replace("@","").split(":")[1]},t.parsePathname=function(t){return t[5]},t.parsePort=function(t){return Zt(t[4])?"":t[4].replace(":","")},t.parseProtocol=function(t){return t[1]},t.parseSearch=function(t){return t[6]+t[7]},t.parseSearchParams=function(t){if(Zt(t[7]))return new Map;var e=t[7].split("&").map((function(t){return t.split("=")})),n=new Map;for(var r in e){var i=e[r];n.set(i[0],decodeURIComponent(i[1]))}return n},t.parseUsername=function(t){return Zt(t[2])?"":t[2].replace("@","").split(":")[0]},t}(),xe=new(function(){function t(){}return t.prototype.getPageIdByUrl=function(t){return t},t.prototype.removeParamValues=function(t,e){var n=this.getParams(e.urlParams),r=this.getParams(e.anchorParams),i=[],o=[];if(Object.prototype.hasOwnProperty.call(t.removeParams,"params")){var a=t.removeParams.params;for(var s in a)!0===a[s].removeValuesOnly?"search"===a[s].position?n[s]="":"anchor"===a[s].position?r[s]="":"both"===a[s].position&&(n[s]="",r[s]=""):"search"===a[s].position?i.push(s):"anchor"===a[s].position?o.push(s):"both"===a[s].position&&(i.push(s),o.push(s))}if(oe(t.removeParams,"removeValuesOnly")&&!0===t.removeParams.removeValuesOnly){for(var s in n)-1===i.indexOf(s)&&(n[s]="");for(var s in r)-1===o.indexOf(s)&&(r[s]="")}return{urlParams:n,anchorParams:r}},t.prototype.generateParams=function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")},t.prototype.generatePageId=function(t){var e="";return t.protocol&&(e+=t.protocol+"//"),t.origin&&(e+=t.origin),t.path&&(e+=t.path),t.urlParams&&(e+="?"+t.urlParams),t.anchor&&(e+="#"+t.anchor,t.anchorParams&&(e+="?"+t.anchorParams)),e},t.prototype.matchUrlPatterns=function(t,e){var n=e.urlPatterns,r=e.urlSeparators,i=t;r="["+r+"]";var o=new RegExp(r);for(var a in n){for(var s=n[a],u=s.split(/\{\w+\}/g),c=0,l=0,d=!1;;){var h=i.indexOf(u[c],l);if(-1===h){d=!1;break}if(0===c&&0!==h){d=!1;break}if(l=h+u[c].length,u.length>=c&&l>i.length){d=!0;break}var p=i;u.length>c&&(p=u[c+1]);var f=i.indexOf(p,l);if(!(d=null===i.substr(l,f-l).match(o))){d=!1;break}if(c+1>=u.length){d=!0;break}c++}d&&(i=s)}return i},t.prototype.getUrlInfos=function(t){var e=Ne.parse(t),n={};n.protocol=e.protocol,n.origin=e.host,n.path=e.pathname,n.urlParams=""===e.search?"":e.search.split("?")[1];var r=""===e.hash?"":e.hash.split("#")[1];return n.anchor=""===r?"":r.split("?")[0],n.anchorParams=""===r?"":r.split("?")[1],n},t.prototype.getParams=function(t){var e={};if(""===t||null==t)return e;var n=t.split("&");for(var r in n){var i={key:n[r].split("=")[0],value:n[r].split("=")[1]};e[i.key]=i.value}return e},t}());!function(t){t.OFF="OFF",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR"}(se||(se={})),function(t){t.CN="CN",t.DE="DE",t.RU="RU",t.SG="SG"}(ue||(ue={})),function(t){t.ISFULLLEVEL="is_full_level",t.ISMEMBER="is_member",t.USERLEVEL="user_level"}(ce||(ce={}));var Le=new(function(){function t(){this.tag="TokenCollector",this.key=Re,this.cache=null}return t.prototype.doCollect=function(){return Z(this,void 0,void 0,(function(){var t;return tt(this,(function(e){switch(e.label){case 0:return this.cache=this.cache||{},[4,je.hiAgcUtil.getToken(this.tag)];case 1:return(t=e.sent())&&(this.cache[this.key]=t),[2,this.cache]}}))}))},t.prototype.getToken=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,this.doCollect()];case 1:return t.sent(),[2,this.cache[Re]||""]}}))}))},t}()),Ue=new function(){this.debugMode=!1,this.terminalName="",this.logDisabled=!1,this.logLevel=se.INFO,this.routePolicy=null},$e="Cannot find valid $1 from agconnect-service.json.",Me=new(function(){function t(){this.tag="GlobalSetting",this.clientConfig={},this.serverConfig={},this.externalConfig={},this.userProfiles={},this.prevScreenName="",this.currentScreenName="",this.reportType=-1,this.pageEntryTime=0,this.logLevel=se.INFO,this.urlClusteringOptions={},this.campaignPushInfo=null,this.isBackground=!1,this.eventUploadPolicy={}}return t.prototype.init=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return this.updateAnalyticsUrl(),[2]}))}))},t.prototype.initDebugMode=function(t,e){Me.addConfig(it,t),t&&e?((e=e.trim()).length>30&&(je.hiLog.warn(Ce,he,pe,{$1:"terminalName",$2:30}),e=e.substring(0,30)),Me.addConfig(at,e)):Me.addConfig(at,"")},t.prototype.initLogLevel=function(t,e){t?Me.logLevel=se.OFF:ae(Object.keys(se),e.toUpperCase())?Me.logLevel=e.toUpperCase():Me.logLevel=se.INFO},t.prototype.initDisableEvents=function(){return Z(this,void 0,void 0,(function(){var t,e,n,r;return tt(this,(function(i){switch(i.label){case 0:return[4,je.hiClient.isOnline()];case 1:return i.sent()?(t="",[4,Me.getHaSdkToken()]):[2];case 2:return(e=i.sent())?(n=je.hiEncryptSendData.generateDisableEventsHttpHeader({sdkToken:e}),(r={}).method="get",r.url=Me.getConfig("analyticsUrl")+"/analytics/api/events/online",je.hiEncryptSendData.getOnlineAndDisableEvents(t,n,r).then((function(t){t.disable_evts&&le.saveClientValue("HW_ha_disableEvents",t.disable_evts)})),[2]):[2]}}))}))},t.prototype.initServerOaidFlag=function(){return Z(this,void 0,void 0,(function(){var t,e,n,r;return tt(this,(function(i){switch(i.label){case 0:return Me.getRoutePolicy()!==ue.DE?[2,!0]:te(t=le.getClientValue("HW_ha_getConfigTime"))&&Date.now()-Number(t)<=864e5?(e=le.getClientValue(Ht)||"false",[2,Promise.resolve("true"===e)]):(n="",[4,Me.getHaSdkToken()]);case 1:return(r=i.sent())?[2,new Promise((function(t,e){var i=je.hiEncryptSendData.generateOaidFlagHttpHeader({sdkToken:r}),o={method:"get"};o.url=Me.getConfig("analyticsUrl")+"/analytics/api/config?config_key=oaid_flag",je.hiEncryptSendData.getServerOaidFlag(n,i,o).then((function(e){var n;le.saveClientValue("HW_ha_getConfigTime",String(Date.now()));var r=null!==(n=e.configList)&&void 0!==n?n:[],i=r[0]&&"true"===r[0].config_value;le.saveClientValue(Ht,String(i),864e5),t(i)})).catch((function(){le.saveClientValue(Ht,String(!1),864e5),t(!1)}))}))]:[2,!1]}}))}))},t.prototype.initPrevScreen=function(){for(var t,e=je.sendTask.eventModels.length-1;e>=0;e--){var n=je.sendTask.eventModels[e];if(n.event===zt.EXIT_SCREEN){t=n;break}}t&&this.setCurrentScreen(t.properties[St])},t.prototype.getAAID=function(){return this.getConfig(Oe)||(je.hiLog.error(Ce,Ae,we),"")},t.prototype.getConfigs=function(){return Object.assign({},this.serverConfig,this.clientConfig,this.externalConfig)},t.prototype.getConfig=function(t){var e,n;return null!==(n=null!==(e=this.externalConfig[t])&&void 0!==e?e:this.clientConfig[t])&&void 0!==n?n:this.serverConfig[t]},t.prototype.addConfig=function(t,e){this.externalConfig[t]=e},t.prototype.removeConfig=function(t){delete this.externalConfig[t]},t.prototype.resolveTerminalName=function(){var t;return Z(this,void 0,void 0,(function(){var e,n;return tt(this,(function(r){switch(r.label){case 0:return e="",this.getConfig(it)?0!==(e=null!==(t=this.getConfig(at))&&void 0!==t?t:"").length?[3,2]:[4,Pe.getAaid()]:[3,2];case 1:(n=r.sent())&&(e=n.substring(0,8)),r.label=2;case 2:return[2,e]}}))}))},t.prototype.setUserProfile=function(t,e){if(ke.checkString(Ce,"user name",t,Tt)&&ke.checkPattern(Ce,"user name",t,Ct))if(null!==e){if(ke.checkString(Ce,"user value",e,Tt))if(oe(this.userProfiles,t))this.userProfiles[t]=e;else{var n=Object.keys(this.userProfiles).length+1;ke.checkLength(Ce,"User Profile",n,25)&&(this.userProfiles[t]=e)}}else delete this.userProfiles[t]},t.prototype.getUserProfiles=function(t){return Z(this,void 0,void 0,(function(){var e,n,r,i;return tt(this,(function(o){switch(o.label){case 0:return e={},t?(r=(n=Object).assign,i=[e],[4,je.hiClientProperty.generateUserCommonProperty()]):[3,2];case 1:return e=r.apply(n,i.concat([o.sent()])),[3,3];case 2:e=Object.assign(e,this.userProfiles),o.label=3;case 3:return[2,e]}}))}))},t.prototype.pageStart=function(t){if(ke.checkString(Ce,"screenName",t,Tt)){this.pageEntryTime=(new Date).getTime();var e={};e[mt]=xe.getPageIdByUrl(this.currentScreenName),e[_t]=xe.getPageIdByUrl(t),e[yt]=e[mt],e[Et]=e[_t],t!==this.currentScreenName&&(this.prevScreenName=this.currentScreenName,this.currentScreenName=t),qe.onEvent(zt.ENTER_SCREEN,e,{immediately:!1,isReserved:!0})}},t.prototype.setPrevScreenName=function(t){this.prevScreenName=t},t.prototype.setCurrentScreen=function(t){this.currentScreenName=t},t.prototype.setPageEntryTime=function(t){this.pageEntryTime=t},t.prototype.getPageEntryTime=function(){return this.pageEntryTime},t.prototype.pageEnd=function(t){if(ke.checkString(Ce,"screenName",t,Tt)&&this.getPageEntryTime()){var e=(new Date).getTime()-this.getPageEntryTime(),n={};n[bt]=e,n[_t]=xe.getPageIdByUrl(t),n[Et]=n[_t],qe.onEvent(zt.EXIT_SCREEN,n,{immediately:!1,isReserved:!0})}},t.prototype.setReportType=function(t){this.reportType=t},t.prototype.getReportType=function(){return this.reportType},t.prototype.generateClientKey=function(t){return("HW_"+t+"_"+this.getConfig("appId")).replace(/\./g,"_")},t.prototype.checkRoutePolicy=function(t){var e=je.hiAgcUtil.getConfig().service.analytics;if(!Me.getConfig(ot))return je.hiLog.warn(Ce,"","Invalid routePolicy!"),!1;if(!ne(e.collector_url,(function(e){null==e?!t&&je.hiLog.warn(Ce,de,"Cannot find valid service/analytics/collector_url from agconnect-service.json."):!t&&je.hiLog.warn(Ce,de,"Cannot find valid service/analytics/collector_url[$1] from agconnect-service.json.",{$1:e})})))return!1;if(Me.getConfig("routePolicyUsed")){var n=Object.keys(ue),r=function(r){var i="collector_url_"+n[r].toLowerCase();if(!ne(e[i],(function(n){null==n?t&&null!=e[i]||je.hiLog.warn(Ce,de,"Cannot find valid service/analytics/$1 from agconnect-service.json.",{$1:i}):t&&null!=e[i]||je.hiLog.warn(Ce,de,"Cannot find valid service/analytics/$1[$2] from agconnect-service.json.",{$1:i,$2:n})})))return{value:!1}};for(var i in n){var o=r(i);if("object"==typeof o)return o.value}}return!0},t.prototype.getHaSdkToken=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,Le.getToken()]}))}))},t.prototype.setRoutePolicy=function(t,e){return""===(t=(t=null!=t?t:"").toUpperCase())?Me.addConfig(ot,"UNKNOWN"):oe(ue,t)?Me.addConfig(ot,t):Me.addConfig(ot,null),Me.addConfig("routePolicyUsed",""!==t),!!this.checkRoutePolicy(e)},t.prototype.getRoutePolicy=function(){var t,e=this.getConfig(ot);return"UNKNOWN"===e?null!==(t=je.hiAgcUtil.getConfig().region)&&void 0!==t?t:"":e},t.prototype.updateAnalyticsUrl=function(){var t;return Z(this,void 0,void 0,(function(){var e,n,r;return tt(this,(function(i){switch(i.label){case 0:return e=this,[4,De.syncCollect("serverConfig")];case 1:return e.serverConfig=i.sent(),n=this.serverConfig.analyticsUrl,null==(r=Me.getConfig(ot))?n="":"UNKNOWN"!==r&&(n=null!==(t=this.serverConfig.collectorUrls[r.toUpperCase()])&&void 0!==t?t:""),Me.addConfig("analyticsUrl",n),je.hiSendData.setUrl(n),[2]}}))}))},t.prototype.checkAgcConfig=function(){var t,e,n,r,i,o,a=je.hiAgcUtil.getConfig();ee(null===(e=null===(t=null==a?void 0:a.service)||void 0===t?void 0:t.analytics)||void 0===e?void 0:e.resource_id)||je.hiLog.warn(Ce,"",$e,{$1:"service/analytics/resource_id"}),ee(null===(n=null==a?void 0:a.client)||void 0===n?void 0:n.product_id)||je.hiLog.warn(Ce,"",$e,{$1:"client/product_id"}),ee(null===(r=null==a?void 0:a.client)||void 0===r?void 0:r.app_id)||je.hiLog.warn(Ce,"",$e,{$1:"client/app_id"}),ee(null===(i=null==a?void 0:a.client)||void 0===i?void 0:i.client_id)||je.hiLog.warn(Ce,"",$e,{$1:"client/client_id"});var s=null===(o=null==a?void 0:a.client)||void 0===o?void 0:o.package_name;null==s||ee(s)||je.hiLog.warn(Ce,"",$e,{$1:"client/package_name"});var u=null==a?void 0:a.region;return null==u||ee(u)&&ue[u]||je.hiLog.warn(Ce,"",$e,{$1:"region"}),Me.setRoutePolicy(Ue.routePolicy,!1)},t.prototype.getNewUserFlag=function(){if("false"===le.getClientValue("HW_ha_isNewUser"))return 0;var t=Number(le.getClientValue("HW_ha_firstOpenTime")),e=new Date(t).toDateString()===(new Date).toDateString();return e||le.saveClientValue("HW_ha_isNewUser","false"),e?1:0},t.prototype.setIsTestDevice=function(){var t=Me.getConfig(it),e="true"===le.getClientValue("HW_ha_isTestDevice")||t?"true":"false";"true"===e&&le.saveClientValue("HW_ha_isTestDevice",e)},t.prototype.isTestDevice=function(){return"true"===le.getClientValue("HW_ha_isTestDevice")?1:0},t}()),He={ON_SCHEDULED_TIME_POLICY:5,ON_CACHE_THRESHOLD_POLICY:30},Be=function(){function t(){this.reportPolicyDefault=He}return t.prototype.eventUploadPolicyLaunch=function(){je.sendTask.uploadData(!0,zt.LaunchApp)},t.prototype.eventUploadPolicyThreshold=function(){var t=this.getEventUploadPolicy();if(t.ON_CACHE_THRESHOLD_POLICY){if(t.ON_CACHE_THRESHOLD_POLICY<30)return;if(t.ON_CACHE_THRESHOLD_POLICY>xt)return;je.sendTask.eventModels.filter((function(t){return t.event!==zt.STOP_ANALYTICS_COLLECTION&&1===t.sendState||5===t.sendState})).length>=t.ON_CACHE_THRESHOLD_POLICY&&je.sendTask.uploadData(!1,"")}},t.prototype.eventUploadPolicyScheduleTime=function(){var t,e=this.getEventUploadPolicy();if(Me.getConfig(it))t=1e3;else{if(!e.ON_SCHEDULED_TIME_POLICY)return;if(e.ON_SCHEDULED_TIME_POLICY<1)return;if(e.ON_SCHEDULED_TIME_POLICY>60)return;t=1e3*e.ON_SCHEDULED_TIME_POLICY}je.sendTask.setHeartbeatFunc(t)},t.prototype.eventUploadPolicyBackground=function(){},t.prototype.logUploadPolicyLaunch=function(){var t=this.getEventUploadPolicy();je.hiAutoReport.isLaunchUpload()&&t.ON_APP_LAUNCH_POLICY&&t.ON_APP_LAUNCH_POLICY>0&&je.sendLogTask.uploadData()},t.prototype.logUploadPolicyThreshold=function(){var t=this.getEventUploadPolicy();if(t.ON_CACHE_THRESHOLD_POLICY){if(t.ON_CACHE_THRESHOLD_POLICY<30)return;if(t.ON_CACHE_THRESHOLD_POLICY>xt)return;je.sendLogTask.logRecords.filter((function(t){return 1===t.sendState||5===t.sendState})).length>=t.ON_CACHE_THRESHOLD_POLICY&&je.sendLogTask.uploadData()}},t.prototype.logUploadPolicyScheduleTime=function(){var t,e=this.getEventUploadPolicy();if(Me.getConfig(it))t=1e3;else{if(!e.ON_SCHEDULED_TIME_POLICY)return;if(e.ON_SCHEDULED_TIME_POLICY<1)return;if(e.ON_SCHEDULED_TIME_POLICY>60)return;t=1e3*e.ON_SCHEDULED_TIME_POLICY}je.sendLogTask.setHeartbeatFunc(t)},t.prototype.logUploadPolicyBackground=function(){},t.prototype.getUploadMaxCount=function(){var t=this.getEventUploadPolicy();return-1===t.ON_CACHE_THRESHOLD_POLICY?300:Math.min(300,t.ON_CACHE_THRESHOLD_POLICY)},t.prototype.getEventUploadPolicy=function(){var t=le.getClientValue("HW_ha_eventUploadPolicy");return Zt(t)&&(t=this.reportPolicyDefault,le.saveClientValue("HW_ha_eventUploadPolicy",t)),t},t}();new Be;var Fe=function(){function t(){}return t.prototype.queryAllModels=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,this.generateEventModels()]}))}))},t.prototype.queryModels=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){return[2,this.generateEventModels(void 0,t)]}))}))},t.prototype.saveModel=function(t,e){return Z(this,void 0,void 0,(function(){var n,r;return tt(this,(function(i){switch(i.label){case 0:return n=ie(e,["sendState","collectionUrl","routePolicy"]),r=JSON.stringify(n),[4,je.hiDBStorage.saveClientValue(t,r,!0)];case 1:return i.sent(),[2]}}))}))},t.prototype.removeModel=function(t){je.hiDBStorage.removeItem(t,!0)},t.prototype.removeModels=function(t){je.hiDBStorage.removeItems(t,!0)},t.prototype.removeAllModels=function(){je.hiDBStorage.removeAllItems(!0)},t.prototype.generateEventModels=function(t,e){return Z(this,void 0,void 0,(function(){var t,e,n,r,i,o;return tt(this,(function(a){switch(a.label){case 0:return[4,je.hiDBStorage.getAllClientValue(!0)];case 1:for(t=a.sent(),e=[],n=0;n<t.length;n++)r=t[n],i=r,null!=(o=JSON.parse(i)).id&&e.push(o);return[2,e]}}))}))},t}(),Ve=function(){function t(){}return t.prototype.getDatabase=function(){},t.prototype.getAllClientValue=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,Promise.resolve([""])]}))}))},t.prototype.getClientValues=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,Promise.resolve([""])]}))}))},t.prototype.getClientValue=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,Promise.resolve("")]}))}))},t.prototype.isKeyExist=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,Promise.resolve(!1)]}))}))},t.prototype.saveClientValue=function(t,e,n){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t.prototype.removeItem=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t.prototype.removeItems=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t.prototype.removeAllItems=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t}(),je=new(function(){function t(){this.hiAnalytics={},this.hiLog={},this.hiAutoReport={},this.hiEncryptSendData={},this.hiSendData={},this.hiClient={},this.hiClientProperty={},this.hiStorage={},this.hiDBStorage={},this.hiFileStorage={},this.hiMigration={},this.sendLogTask={},this.sendTask={},this.sendPolicy={},this.hiEncrypt={},this.hiKeyStore={},this.hiAgcUtil={},this.hiEventModelsAdapter={},this.setSendPolicy(new Be),this.setHiEventModelsAdapter(new Fe),this.setHiDBStorage(new Ve)}return t.prototype.setHiAnalytics=function(t){this.hiAnalytics=t},t.prototype.setHiLog=function(t){this.hiLog=t},t.prototype.setHiAutoReport=function(t){this.hiAutoReport=t},t.prototype.setHiEncryptSendData=function(t){this.hiEncryptSendData=t,this.setHiSendData(t)},t.prototype.setHiSendData=function(t){this.hiSendData=t},t.prototype.setHiClient=function(t){this.hiClient=t},t.prototype.setHiClientProperty=function(t){this.hiClientProperty=t},t.prototype.setHiStorage=function(t){this.hiStorage=t},t.prototype.setHiDBStorage=function(t){this.hiDBStorage=t},t.prototype.setHiFileStorage=function(t){this.hiFileStorage=t},t.prototype.setHiMigration=function(t){this.hiMigration=t},t.prototype.setSendLogTask=function(t){this.sendLogTask=t},t.prototype.setSendTask=function(t){this.sendTask=t},t.prototype.setSendPolicy=function(t){this.sendPolicy=t},t.prototype.setHiEncrypt=function(t){this.hiEncrypt=t},t.prototype.setHiKeyStore=function(t){this.hiKeyStore=t},t.prototype.setHiAgcUtil=function(t){this.hiAgcUtil=t},t.prototype.setHiEventModelsAdapter=function(t){this.hiEventModelsAdapter=t},t}()),qe=new(function(){function t(){this.eventsReceived=[],this.initialized=!1,this.reportFlag=!0}return t.prototype.init=function(){var t=le.getClientValue(Ut);null==t||0===t.length?le.saveClientValue(Ut,String(this.reportFlag)):this.reportFlag=t===String(!0)},t.prototype.setAnalyticsEnabled=function(t){if(this.reportFlag!==t&&(this.reportFlag=t,le.saveClientValue(Ut,String(t)),!t)){var e=le.getClientValue($t);"true"!==e&&"false"!==e||le.saveClientValue($t,String(!0));var n=le.getClientValue(Mt);"true"!==n&&"false"!==n||le.saveClientValue(Mt,String(!0)),je.hiEventModelsAdapter.removeAllModels(),this.onEvent(zt.STOP_ANALYTICS_COLLECTION,{},{isReserved:!0,forceReport:!0,immediately:!0})}},t.prototype.setRestrictionEnabled=function(t){if(this.reportFlag&&(le.saveClientValue($t,String(t)),t)){this.onEvent(zt.STOP_ANALYTICS_COLLECTION,{},{isReserved:!0,forceReport:!0,immediately:!0});var e=le.getClientValue(Mt);"true"!==e&&"false"!==e||le.saveClientValue(Mt,String(t))}},t.prototype.isRestrictionEnabled=function(){var t=le.getClientValue(Ut),e=le.getClientValue($t);return""!==e?"true"===e:"true"!==t},t.prototype.setRestrictionShared=function(t){this.reportFlag?Me.getRoutePolicy()===ue.CN?this.isRestrictionEnabled()?je.hiLog.warn(Ce,"","Cannot set restriction_shared because restriction_enabled is true!"):le.saveClientValue(Mt,String(t)):je.hiLog.warn(Ce,"","Cannot set restriction_shared because routePolicy is not CN!"):je.hiLog.warn(Ce,"","Cannot set restriction_shared because analytics_enabled is false!")},t.prototype.isRestrictionShared=function(){return Me.getRoutePolicy()!==ue.CN||!this.reportFlag||Me.getRoutePolicy()!==ue.CN||!!this.isRestrictionEnabled()||"true"===le.getClientValue(Mt)},t.prototype.checkEventLength=function(t){return!!ke.checkString(Ce,"eventId",t,Tt)},t.prototype.checkIsPredineEvents=function(t){var e=!1,n=Jt;for(var r in n)if(t===n[r]){e=!0;break}return e},t.prototype.getEventParams=function(t,e){void 0===e&&(e={});var n={};for(var r in this.putEventParams(n,e,t,!1),this.putEventParams(n,le.defaultEventParams,t,!0),n)null==n[r]&&delete n[r];var i=Object.keys(n);if(i.length>wt){je.hiLog.warn(Ce,ve,me,{$1:"Event",$2:wt});for(var o=i.slice(wt),a=0;a<o.length;a++)delete n[r=o[a]]}return n},t.prototype.putEventParams=function(t,e,n,r){if(r&&n)return t;for(var i in e)r&&oe(t,i)||ke.checkString(Ce,"params key",i,Tt)&&(n||ke.checkPattern(Ce,"params key",i,Ot))&&(t[i]=e[i]);return t},t.prototype.checkEventIsValid=function(t,e){return!(!this.checkEventLength(t)||!e&&!ke.checkReserve(Ce,"eventId",t,zt)||!(this.checkIsPredineEvents(t)||e||ke.checkPattern(Ce,"eventId",t,kt))||this.isDisableEvent(t)&&(je.hiLog.info("The event is disabled: "+t),1))},t.prototype.processEventsReceived=function(){var t=this;0!==this.eventsReceived.length&&(this.reportFlag?this.eventsReceived.forEach((function(e){var n=e.eventId,r=e.param,i=e.config;i.isReserved=Xt.some((function(t){return t===n})),t.onEvent(n,r,i)})):je.hiLog.warn(Ce,Ie,Te),this.eventsReceived.length=0)},t.prototype.onEventCallback=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),this.initialized?this.reportFlag?this.onEvent(t,e,n):je.hiLog.warn(Ce,Ie,Te):(this.eventsReceived.length>=300&&(this.eventsReceived.length=0),this.eventsReceived.push({eventId:t,param:e,config:n}))},t.prototype.onEvent=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var r=n.isReserved||!1,i=n.forceReport||!1;if(this.checkEventIsValid(t,r)&&(i||ke.checkSwitchIsOpen(Ce,this.reportFlag))){var o=this.getEventParams(r,e),a=JSON.stringify(o).length;if(ke.checkExceedMaxSize(Ce,"200KB",a,204800)){o.$TaskId="";var s={};s.$PrePageId=xe.getPageIdByUrl(Me.prevScreenName),s[St]=xe.getPageIdByUrl(Me.currentScreenName),this.putEventParams(o,s,r,!1);var u=n.eventtime||(new Date).getTime();je.sendTask.onEvent(t,o,"oper",u,n)}}},t.prototype.addDefaultEventParams=function(t){if(null!=t)if("object"==typeof t){var e={};for(var n in t)null==(r=t[n])?delete le.defaultEventParams[n]:e[n]=r;for(var n in e){var r=e[n];if(this.validateDefaultParam(n,r)){if(!oe(le.defaultEventParams,n)){var i=Object.keys(le.defaultEventParams).length+1;if(!ke.checkLength(Ce,"default event",i,100))continue}le.defaultEventParams[n]=r}}}else je.hiLog.warn(Ce,ye,_e,{$1:"default event params"});else le.defaultEventParams={}},t.prototype.validateDefaultParam=function(t,e){return!(!ke.checkString(Ce,"default event params key",t,Tt)||!ke.checkPattern(Ce,"default event params key",t,Ot)||"string"==typeof e&&e.length>Tt&&(je.hiLog.warn(Ce,he,pe,{$1:"default event params value",$2:Tt}),1))},t.prototype.isDisableEvent=function(t){var e=le.getClientValue("HW_ha_disableEvents");return"object"==typeof e&&e instanceof Array&&-1!==e.indexOf(t)},t.prototype.writeLog=function(t,e){return Z(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,d;return tt(this,(function(h){return null==t||Zt(e)?(je.hiLog.warn(Ce,ye,_e,{$1:null==t?"logConfig":"content"}),[2]):"string"!=typeof e?(je.hiLog.warn(Ce,ye,_e,{$1:"content"}),[2]):(n=t.region,r=t.projectId,i=t.groupId,o=t.streamId,a=t.tags,ke.checkString(Ce,"region",n,It)&&ke.checkString(Ce,"projectId",r,It)&&ke.checkString(Ce,"groupId",i,It)&&ke.checkString(Ce,"streamId",o,It)?(null!=a&&"object"==typeof a||(je.hiLog.warn(Ce,ye,_e,{$1:"tags"}),a={}),s={},(u=Object.entries(a||{}).filter((function(t){var e=t[0],n=t[1];return!!ke.checkString(Ce,"tag key",e,64)&&!!ke.checkPattern(Ce,"tag key",e,Ct)&&!!ke.checkString(Ce,"tag value",n,Tt)}))).length>50&&je.hiLog.warn(Ce,ve,me,{$1:"tags",$2:50}),u.slice(0,50).forEach((function(t){var e=t[0],n=t[1];s[e]=n})),e.length>At&&(je.hiLog.warn(Ce,he,pe,{$1:"content",$2:At}),e=e.substring(0,At)),c=Me.getConfig(ot),l=je.hiAgcUtil.getConfig().region||"",d={region:n,projectId:r,groupId:i,streamId:o,tags:s,id:re.create(),content:e,type:"maint",eventtime:(new Date).getTime(),collectionUrl:Me.getConfig("analyticsUrl"),routePolicy:"UNKNOWN"===c?l:c,sendState:0},je.sendLogTask.writeLog(d),[2]):[2])}))}))},t.prototype.onReport=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return je.sendTask.uploadData(!1,""),je.sendLogTask.uploadData(),[2]}))}))},t}()),Ge=new(function(){function t(){this.userId="",this.clientId=""}return t.prototype.init=function(){},t.prototype.setUserId=function(t){var e=this.isValidUserId(t);e&&le.saveClientValue("HW_ha_existUserId",null!=t?"1":"0"),(t=e&&null!=t?String(t):"")!==this.userId&&le.handleSessionValue(),this.userId=t||""},t.prototype.isValidUserId=function(t){return null==t||("string"!=typeof t&&"number"!=typeof t?(je.hiLog.warn(Ce,"",_e,{$1:"userId"}),!1):!!ke.checkString(Ce,"userId",t,Tt))},t.prototype.setSessionDuration=function(t){return t<Rt&&(je.hiLog.warn(Ce,Ee,"session duration less than minimum $1.",{$1:"5s"}),t=Rt),t>Dt&&(je.hiLog.warn(Ce,Ee,"session duration greater than maximum $1.",{$1:"5h"}),t=Dt),le.setSessionDuration(t)},t.prototype.setBackgroundSessionDuration=function(t){return t<Rt&&(je.hiLog.warn(Ce,Ee,"min session duration less than minimum $1.",{$1:"5s"}),t=Rt),t>Dt&&(je.hiLog.warn(Ce,Ee,"min session duration greater than maximum $1.",{$1:"5h"}),t=Dt),le.setBackgroundSessionDuration(t)},t.prototype.getUserInfo=function(t){var e=(void 0===t?{}:t).routePolicy,n=void 0===e?"":e;return Z(this,void 0,void 0,(function(){var t,e,r,i,o,a,s,u,c,l,d,h;return tt(this,(function(p){switch(p.label){case 0:return t=Me.getAAID(),[4,je.hiClient.getSystemOaidFlag()];case 1:return e=p.sent(),(i=e)?[4,je.hiClient.getClientOaidFlag()]:[3,3];case 2:i=p.sent(),p.label=3;case 3:return r=i,(a=e)?[4,je.hiClient.getServerOaidFlag(n)]:[3,5];case 4:a=p.sent(),p.label=5;case 5:return s={systemOaidFlag:e,clientOaidFlag:r,serverOaidFlag:o=a},c={aaid:t,userid:this.userId},[4,je.hiClientProperty.generateUserCommonProperty(s)];case 6:return c.properties=p.sent(),c.events_global_properties=Me.userProfiles,u=c,e&&r&&o?(l=u,[4,je.hiClient.getOaid()]):[3,9];case 7:return l.oaid=p.sent(),d=u,[4,je.hiClient.getOaidSource()];case 8:return d.oaid_source=p.sent(),[3,10];case 9:u.oaid="",u.oaid_source="",p.label=10;case 10:case 11:return[3,15];case 12:return(void 0).oaid=p.sent(),h=u,[4,je.hiClient.getOaidSource()];case 13:return h.oaid_source=p.sent(),[3,15];case 14:u.oaid="",u.oaid_source="",p.label=15;case 15:return[2,u]}}))}))},t}()),We=new(function(){function t(){this.autoReport={},this.hiStorage={},this.hiClient={}}return t.prototype.init=function(){this.autoReport=je.hiAutoReport,this.hiStorage=je.hiStorage,this.hiClient=je.hiClient},t.prototype.reportFirstOpenEvent=function(t){void 0===t&&(t=!1);var e={eventtime:le.getClientValue("HW_ha_firstOpenTime")||String((new Date).getTime()),immediately:!1,isReserved:!0},n={},r=t?"clearCachedData":je.hiClient.getStartType();null!=r&&(n[gt]=r);var i=je.hiClient.getStartScene();null!=i&&(n[vt]=i),qe.onEvent(zt.FIRST_OPEN,n,e)},t.prototype.reportLaunchAppEvent=function(t){void 0===t&&(t=!1);var e={},n=t?"clearCachedData":je.hiClient.getStartType();null!=n&&(e[gt]=n);var r=je.hiClient.getStartScene();null!=r&&(e[vt]=r),qe.onEvent(zt.LaunchApp,e,{immediately:!1,isReserved:!0})},t.prototype.reportPageEntryEvent=function(){this.reportPageEntryEventAsync()},t.prototype.reportPageEntryEventAsync=function(){return Z(this,void 0,void 0,(function(){var t,e,n,r,i;return tt(this,(function(o){switch(o.label){case 0:return[4,je.hiAnalytics.initPromise];case 1:return o.sent(),t={},e=(new Date).getTime(),Me.setPageEntryTime(e),n=Me.currentScreenName,r=je.hiClient.getHref(),Me.setPrevScreenName(Me.currentScreenName),Me.setCurrentScreen(r),t[mt]=n,t[_t]=xe.getPageIdByUrl(r),t[yt]=t[mt],t[Et]=t[_t],i={immediately:!1,isReserved:!0},qe.onEvent(zt.ENTER_SCREEN,t,i),[2]}}))}))},t.prototype.reportPageExitEvent=function(){var t=Me.getPageEntryTime();if(t){var e={},n=(new Date).getTime()-t;e[_t]=xe.getPageIdByUrl(Me.currentScreenName),e[Et]=e[_t],e[bt]=n,qe.onEvent(zt.EXIT_SCREEN,e,{immediately:!0,isReserved:!0})}},t.prototype.reportCampaignPushInfoEvent=function(){var t=Me.campaignPushInfo;if(t){var e={};e.$CampaignPushInfo=JSON.stringify(t),e.$JobId=t.jobId,e.$ActivityId=t.activityId,qe.onEvent(zt.CampaignPushClick,e,{immediately:!1,isReserved:!0})}},t.prototype.computeLoadTime=function(){},t.prototype.stateChanged=function(){},t}()),Ye=new(function(){function t(){this.eventListeners=[]}return t.prototype.addListener=function(t){this.eventListeners.push(t)},t.prototype.init=function(){return Z(this,void 0,void 0,(function(){var t,e;return tt(this,(function(n){switch(n.label){case 0:t=0,e=this.eventListeners,n.label=1;case 1:return t<e.length?[4,e[t].init()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},t}()),Ke=new(function(){function t(){}return t.prototype.init=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(n){return t&&t.forEach((function(t){De.register(t)})),e&&e.forEach((function(t){Ye.addListener(t)})),Ye.init(),[2]}))}))},t}()),Je=new(function(){function t(){this.key="serverConfig",this.cache=null}return t.prototype.doCollect=function(){return Z(this,void 0,void 0,(function(){var t,e,n;return tt(this,(function(r){if(!this.cache){for(n in t=je.hiAgcUtil.getConfig(),e={},ue)e[n]=this.getUrl(t.service.analytics["collector_url_"+n.toLowerCase()]);this.cache={productId:t.client.product_id,appId:t.client.app_id,clientId:t.client.client_id,packageName:t.client.package_name||t.client.app_id,resourceId:t.service.analytics.resource_id,collectorUrls:e,analyticsUrl:this.getUrl(t.service.analytics.collector_url)}}return[2,this.cache]}))}))},t.prototype.getUrl=function(t){if(null!=t&&"string"!=typeof t)return"";var e=(null!=t?t:"").split(",")[0];return/^https?:\/\//.test(e)||(e="https://"+e),""!==e&&je.sendTask.isServerWebV3()&&(e+="/webv3"),e},t}()),ze=new(function(){function t(){}return t.prototype.init=function(){We.init(),qe.init()},t.prototype.onEvent=function(){},t}()),Xe=new function(){this.enabled=!1,this.removeProtocol=!0,this.removeOrigin=!1,this.removeAllParams=!0,this.removeParams={removeValuesOnly:!0,params:{}},this.removeAnchor=!0,this.urlPatterns=[],this.urlSeparators=":/.?=&#"},Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.reportInitEvents=function(e){t.prototype.reportInitEvents.call(this,e),this.registerKitSdk()},e.prototype.setCollectAdsIdEnabled=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),le.saveClientValue("HW_ha_clientOaidFlag",String(t)),[2]}}))}))},e.prototype.setRoutePolicy=function(e){return Z(this,void 0,void 0,(function(){return tt(this,(function(n){switch(n.label){case 0:return[4,t.prototype.setRoutePolicy.call(this,e)];case 1:return n.sent(),this.refreshKitSdk(),[2]}}))}))},e.prototype.registerKitSdk=function(){var t={_restriction_enabled:le.getClientValue($t),_restriction_shared:le.getClientValue(Mt),region:Me.getRoutePolicy()},e={agcUrl:Me.getConfig(Nt.ANALYTICS_URL),appid:Me.getConfig(Nt.APP_ID),aaid:Me.getAAID(),pkgName:Me.getConfig(Nt.PKG_NAME)||"",params:JSON.stringify(t)},n={uri:"hianalytics.analyticsEvtService",requestJson:JSON.stringify(e),transactId:"1",service_action:"",api_name:"hianalytics.API",subId:Me.getConfig(Nt.APP_ID),api_level:1,kit_sdk_version:1,min_apk_version:1};o.hmsjsb.invoke({apiName:"bg.request",args:n,success:function(t){je.hiLog.info("registerKitSdk success")},fail:function(t){t.errCode,t.errMsg,je.hiLog.info("registerKitSdk fail")}})},e.prototype.refreshKitSdk=function(){var t={method:"setKitEnable",pkg_name:Me.getConfig(Nt.PKG_NAME)||"","3rd_aaid":Me.getAAID(),app_id:Me.getConfig(Nt.APP_ID),enable_collect:le.getClientValue(Ut),_restriction_enabled:le.getClientValue($t),_restriction_shared:le.getClientValue(Mt),_region:Me.getRoutePolicy()},e={uri:"hianalytics.analyticsInvokeService",requestJson:JSON.stringify(t),transactId:"1",service_action:"",api_name:"hianalytics.API",subId:Me.getConfig(Nt.APP_ID),api_level:1,kit_sdk_version:1,min_apk_version:1};o.hmsjsb.invoke({apiName:"bg.request",args:e,success:function(t){je.hiLog.info("refreshKitSdk success")},fail:function(t){t.errCode,t.errMsg,je.hiLog.info("refreshKitSdk fail")}})},e}(function(){function t(t,e){var n=this;je.setHiAnalytics(this),this.preConfigPromise=this.preConfig(t,e),this.preStoragePromise=le.init(),this.initPromise=this.initSDK(t),this.initPromise.then((function(){je.hiLog.info("init success"),n.initDone()})).catch((function(t){je.hiLog.warn(Ce,"SE-001","Failed to initialize the Analytics Kit.")}))}return t.prototype.preConfig=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,je.hiAgcUtil.init()];case 1:return t.sent(),Me.initDebugMode(Ue.debugMode,Ue.terminalName),Me.initLogLevel(Ue.logDisabled,Ue.logLevel),Me.urlClusteringOptions=JSON.parse(JSON.stringify(Xe)),Me.addConfig("launchAppTime",(new Date).getTime()),[2,Me.checkAgcConfig()]}}))}))},t.prototype.initDone=function(){qe.initialized=!0,qe.processEventsReceived(),je.sendPolicy.eventUploadPolicyScheduleTime(),je.sendPolicy.logUploadPolicyScheduleTime(),setTimeout((function(){je.sendPolicy.eventUploadPolicyLaunch(),je.sendPolicy.logUploadPolicyLaunch()}),50),setInterval((function(){je.sendPolicy.eventUploadPolicyThreshold(),je.sendPolicy.logUploadPolicyThreshold()}),1e3)},t.prototype.initSDK=function(t){return Z(this,void 0,void 0,(function(){var t,e,n;return tt(this,(function(r){switch(r.label){case 0:return je.hiAutoReport.initAutoEvents(),[4,this.preConfigPromise];case 1:return r.sent()?[4,this.preStoragePromise]:[2,Promise.reject()];case 2:return r.sent(),le.handleSessionValue(),Me.campaignPushInfo=je.hiClient.getCampaignPushInfo(),[4,Ke.init([Je,Pe],[ze])];case 3:return r.sent(),[4,Me.init()];case 4:return r.sent(),Ge.init(),[4,je.sendTask.init()];case 5:return r.sent(),[4,je.sendLogTask.init()];case 6:return r.sent(),Me.initPrevScreen(),[4,De.collect(Oe)];case 7:return(t=r.sent())[Oe]&&(Me.addConfig("aaid",t[Oe]),Me.setIsTestDevice()),Zt(e=le.getClientValue(Bt))?(e="true",n=(new Date).getTime(),le.saveClientValue("HW_ha_firstOpenTime",String(n)),le.saveClientValue(Bt,e)):"true"===e&&(e="false",le.saveClientValue(Bt,e)),Me.getNewUserFlag(),this.reportInitEvents(e),[2]}}))}))},t.prototype.reportInitEvents=function(t){"true"===t&&We.reportFirstOpenEvent(),je.hiAutoReport.initEventTriggers()},t.prototype.destroySDK=function(){},t.prototype.setAnalyticsEnabled=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.setAnalyticsEnabled(t),[2]}}))}))},t.prototype.setRestrictionEnabled=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.setRestrictionEnabled(t),[2]}}))}))},t.prototype.isRestrictionEnabled=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),[2,qe.isRestrictionEnabled()]}}))}))},t.prototype.setRestrictionShared=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.setRestrictionShared(t),[2]}}))}))},t.prototype.isRestrictionShared=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),[2,qe.isRestrictionShared()]}}))}))},t.prototype.setUserId=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.reportFlag?(Ge.setUserId(t),[2]):[2]}}))}))},t.prototype.setUserProfile=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),qe.reportFlag?(Me.setUserProfile(t,e),[2]):[2]}}))}))},t.prototype.getUserProfiles=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.reportFlag?[2,Me.getUserProfiles(t)]:[2,{}]}}))}))},t.prototype.pageStart=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.reportFlag?(Me.pageStart(t),[2]):[2]}}))}))},t.prototype.pageEnd=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.reportFlag?(Me.pageEnd(t),[2]):[2]}}))}))},t.prototype.setSessionDuration=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.preConfigPromise];case 1:return e.sent(),qe.reportFlag?(Number.isInteger(t)&&Ge.setSessionDuration(t),[2]):[2]}}))}))},t.prototype.onEvent=function(t,e){return Z(this,void 0,void 0,(function(){var n;return tt(this,(function(r){switch(r.label){case 0:return[4,this.initPromise];case 1:return r.sent(),qe.reportFlag?(n={isReserved:Xt.some((function(e){return e===t}))},qe.onEvent(t,e,n),[2]):(je.hiLog.warn(Ce,Ie,Te),[2])}}))}))},t.prototype.setAppVersion=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.preConfigPromise];case 1:return e.sent(),qe.reportFlag&&ke.checkString(Ce,"app version",t,100)?(Me.addConfig("appVersion",t),[2]):[2]}}))}))},t.prototype.getAAID=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),[2,Me.getAAID()]}}))}))},t.prototype.addDefaultEventParams=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),qe.reportFlag?(qe.addDefaultEventParams(t),[2]):[2]}}))}))},t.prototype.writeLog=function(t,e){return Z(this,void 0,void 0,(function(){return tt(this,(function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),qe.reportFlag?(qe.writeLog(t,e),[2]):(je.hiLog.warn(Ce,Ie,Te),[2])}}))}))},t.prototype.setRoutePolicy=function(t){return Z(this,void 0,void 0,(function(){var e,n;return tt(this,(function(r){switch(r.label){case 0:return[4,this.initPromise];case 1:return r.sent(),e=Me.getRoutePolicy(),Me.setRoutePolicy(t),n=Me.getRoutePolicy(),e===n?[2]:(qe.reportFlag||je.sendTask.clearData(e),[4,Me.updateAnalyticsUrl()]);case 2:return r.sent(),[2]}}))}))},t.prototype.setReportPolicies=function(t){return Z(this,void 0,void 0,(function(){var e;return tt(this,(function(n){switch(n.label){case 0:return[4,this.preConfigPromise];case 1:return n.sent(),e={},"number"!=typeof t.ON_SCHEDULED_TIME_POLICY?e.ON_SCHEDULED_TIME_POLICY=He.ON_SCHEDULED_TIME_POLICY:t.ON_SCHEDULED_TIME_POLICY<1?e.ON_SCHEDULED_TIME_POLICY=1:t.ON_SCHEDULED_TIME_POLICY>60?e.ON_SCHEDULED_TIME_POLICY=60:e.ON_SCHEDULED_TIME_POLICY=t.ON_SCHEDULED_TIME_POLICY,"number"!=typeof t.ON_CACHE_THRESHOLD_POLICY?e.ON_CACHE_THRESHOLD_POLICY=He.ON_CACHE_THRESHOLD_POLICY:t.ON_CACHE_THRESHOLD_POLICY<30?e.ON_CACHE_THRESHOLD_POLICY=30:t.ON_CACHE_THRESHOLD_POLICY>xt?e.ON_CACHE_THRESHOLD_POLICY=xt:e.ON_CACHE_THRESHOLD_POLICY=t.ON_CACHE_THRESHOLD_POLICY,le.saveClientValue("HW_ha_eventUploadPolicy",e),[2]}}))}))},t.prototype.onReport=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,this.preConfigPromise];case 1:return t.sent(),[2,qe.onReport()]}}))}))},t}()),Ze=function(t,e,n,r){r&&(r.$1&&(n=n.replace("$1",r.$1)),r.$2&&(n=n.replace("$2",r.$2)));var i=[];return t&&i.push(t),e&&i.push(e),n&&i.push(n),tn+" => "+i.join("|")},tn="OpennessSDK",en=new(function(){function t(){}return t.prototype.info=function(t,e){if(ae(this.generateLevels(Me.logLevel),se.INFO)){var n=Ze(null,null,t,e);this.printInfo(n)}},t.prototype.warn=function(t,e,n,r){if(ae(this.generateLevels(Me.logLevel),se.WARN)){var i=Ze(t,e,n,r);this.printWarn(i),r&&r.$error&&this.printError(r.$error)}},t.prototype.error=function(t,e,n,r){if(ae(this.generateLevels(Me.logLevel),se.ERROR)){var i=Ze(t,e,n,r);this.printError(i),r&&r.$error&&this.printError(r.$error)}},t.prototype.generateLevels=function(t){return t===se.INFO?[se.INFO,se.WARN,se.ERROR]:t===se.WARN?[se.WARN,se.ERROR]:t===se.ERROR?[se.ERROR]:[]},t.prototype.printInfo=function(t){console.info(t)},t.prototype.printWarn=function(t){console.warn(t)},t.prototype.printError=function(t){console.error(t)},t}()),nn=new(function(){function t(){}return t.prototype.initAutoEvents=function(){},t.prototype.initEventTriggers=function(){this.scheduleCheckAddShortcutState(),We.reportLaunchAppEvent(),We.reportCampaignPushInfoEvent()},t.prototype.scheduleCheckAddShortcutState=function(){if("function"==typeof W.hasInstalled){clearInterval(this.scheduleId);var t=this.getStorageExistShortcut();t?"1"===t&&this.submitAddQuickAppEvent():(this.checkState(),this.scheduleCheckState())}},t.prototype.scheduleCheckState=function(){var t=this;this.getCheckInfo().isCheck&&(this.scheduleId=setInterval((function(){t.checkState()}),3e5))},t.prototype.checkState=function(){var t=this,e=this.getCheckInfo(),n=e.isCheck,r=e.checkCount;n?(W.hasInstalled({success:function(e){e&&(le.saveClientValue("HW_ha_existShortcut","1"),t.submitAddQuickAppEvent(),clearInterval(t.scheduleId))}}),Me.addConfig("checkAddShortcutCount",r+1)):clearInterval(this.scheduleId)},t.prototype.getCheckInfo=function(){var t=Me.getConfig("checkAddShortcutCount")||0;return{isCheck:t<4,checkCount:t}},t.prototype.submitAddQuickAppEvent=function(){je.sendTask.eventModels.find((function(t){return t.event===zt.ADD_QUICK_APP}))||qe.onEvent(zt.ADD_QUICK_APP,{},{immediately:!1,isReserved:!0})},t.prototype.updateAddShortcutState=function(){le.saveClientValue("HW_ha_existShortcut","2")},t.prototype.getStorageExistShortcut=function(){return le.getClientValue("HW_ha_existShortcut")},t.prototype.isLaunchUpload=function(){return!1},t}()),rn=new(function(){function t(){this.url=""}return t.prototype.onEvent=function(t,e,n){var r=this;return new Promise((function(i,o){var a=(null==n?void 0:n.url)||r.url;Y({url:a,method:"POST",data:JSON.stringify(t),success:function(t){var e=t&&t.code||200;e>=200&&e<300?i():o("resultCode: "+e)},fail:function(t){return o(t)},header:e})}))},t.prototype.setUrl=function(t){this.url=t},t}()),on=new(function(){function t(){}return t.prototype.getReferrer=function(){return""},t.prototype.getHref=function(){return""},t.prototype.getHost=function(){return""},t.prototype.getDefaultTitle=function(){return""},t.prototype.getUAType=function(){return 0},t.prototype.getStartType=function(){return((K.getInfo()||{}).source||{}).packageName||""},t.prototype.getStartScene=function(){var t=(K.getInfo()||{}).source||{},e=t.type||"";return"shortcut"===e?e+"-"+((t.extra||{}).scene||""):e},t.prototype.getLibType=function(){return"quickApp"},t.prototype.getOaid=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,new Promise((function(t,e){if("function"!=typeof J.getOAID)return t("");J.getOAID({success:function(e){t(e&&e.oaid||"")},fail:function(t,n){je.hiLog.warn(tn,"","getOAID fail, code: "+n+", message: "+t),e(t)}})}))]}))}))},t.prototype.getOaidSource=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,Promise.resolve("oaid")]}))}))},t.prototype.getClientOaidFlag=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,je.hiAnalytics.preStoragePromise];case 1:return t.sent(),[2,"true"===(le.getClientValue("HW_ha_clientOaidFlag")||"true")]}}))}))},t.prototype.getSystemOaidFlag=function(){return Z(this,void 0,void 0,(function(){var t;return tt(this,(function(e){return null==J.allowTrackOAID?[2,!1]:(t=!J.allowTrackOAID,[2,Promise.resolve(t)])}))}))},t.prototype.getServerOaidFlag=function(t){return Z(this,void 0,void 0,(function(){var e,n,r,i,o;return tt(this,(function(a){switch(a.label){case 0:return[4,je.hiAnalytics.preStoragePromise];case 1:return a.sent(),[4,Je.doCollect()];case 2:return a.sent(),e=je.hiAgcUtil.getConfig(),n=e.region,(t=null!=t?t:Me.getRoutePolicy())!==ue.DE?[3,5]:te(r=le.getClientValue("HW_ha_getConfigTime"))&&Date.now()-Number(r)<=864e5?(i=le.getClientValue(Ht)||"false",[2,Promise.resolve("true"===i)]):[4,Me.getHaSdkToken()];case 3:return(o=a.sent())?[4,new Promise((function(t,r){var i,a,s="";if(n===ue.DE&&(s=(null!==(i=e.service.analytics.collector_url)&&void 0!==i?i:"").split(",")[0]),Zt(s)&&(s=(null!==(a=e.service.analytics.collector_url_de)&&void 0!==a?a:"").split(",")[0]),Zt(s))t({oaidFlag:!1});else{var u="https://"+s+"/analytics/api/config?config_key=oaid_flag",c={};c[ht]=Me.getConfig("clientId"),c[dt]=Me.getConfig("productId"),c[lt]=Me.getConfig("resourceId"),c[ct]=o,c[st]=Me.getConfig("appId"),Y({url:u,method:"GET",header:c,success:function(e){var n=!1,r=e&&e.code||200;if(r>=200&&r<300){var i=JSON.parse(e.data);if("0"===i.result_code){le.saveClientValue("HW_ha_getConfigTime",String(Date.now()));var o=i.configList||[];n=o[0]&&"true"===o[0].config_value||!1}}le.saveClientValue(Ht,String(n)),t({oaidFlag:n})},fail:function(){le.saveClientValue(Ht,"false"),t({oaidFlag:!1})}})}}))]:[2,Promise.resolve(!1)];case 4:return[2,a.sent().oaidFlag];case 5:return[2,Promise.resolve(!0)]}}))}))},t.prototype.getCampaignPushInfo=function(){return null},t.prototype.isOnline=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,!0]}))}))},t}()),an=new(function(){function t(){}return t.prototype.generateUserCommonProperty=function(t){var e,n,r,i,o,a;return Z(this,void 0,void 0,(function(){var s,u,c,l,d,h,p,f,g,v,m,y,_,E;return tt(this,(function(S){switch(S.label){case 0:return null===(e=null==t?void 0:t.systemOaidFlag)||void 0===e?[3,1]:(u=e,[3,3]);case 1:return[4,je.hiClient.getSystemOaidFlag()];case 2:u=S.sent(),S.label=3;case 3:return s=u,null===(n=null==t?void 0:t.clientOaidFlag)||void 0===n?[3,4]:(l=n,[3,7]);case 4:return(d=s)?[4,je.hiClient.getClientOaidFlag()]:[3,6];case 5:d=S.sent(),S.label=6;case 6:l=d,S.label=7;case 7:return c=l,null===(r=null==t?void 0:t.serverOaidFlag)||void 0===r?[3,8]:(p=r,[3,11]);case 8:return(f=s)?[4,je.hiClient.getServerOaidFlag()]:[3,10];case 9:f=S.sent(),S.label=10;case 10:p=f,S.label=11;case 11:return h=p,g=c&&h?String(s):"",this.immutableProperties?[3,13]:(v=K.getInfo(),[4,new Promise((function(t,e){J.getInfo({success:function(e){t(e)},fail:function(t,n){je.hiLog.warn(tn,"","getInfo fail, code: "+n+", message: "+t),e(t)}})}))]);case 12:m=S.sent(),y=null!==(o=null!==(i=m.characteristics)&&void 0!==i?i:m.deviceType)&&void 0!==o?o:"",this.immutableProperties={_model:m.model,_lib_ver:"6.10.0-301",_lib_name:"hianalytics",_lib_type:je.hiClient.getLibType(),_sys_language:m.language,_os:m.osType,_os_ver:m.osVersionName,_screen_height:m.screenHeight,_screen_width:m.screenWidth,_first_open_time:le.getClientValue("HW_ha_firstOpenTime"),_is_testdevice:Me.isTestDevice(),_device_category:y.split(",").map((function(t){return""!==t?"quickAPP."+t:t})).join("|"),_package_name:null!==(a=je.hiAgcUtil.getConfig().client.package_name)&&void 0!==a?a:v.packageName},S.label=13;case 13:return E={_new_user_flag:Me.getNewUserFlag(),_signed:Number(le.getClientValue("HW_ha_existUserId")||"0"),_restriction_enabled:String(qe.isRestrictionEnabled())},[4,Me.resolveTerminalName()];case 14:return E._terminal_name=S.sent(),E._app_ver=Me.getConfig("appVersion")||"1.0.0",E._oaid_tracking_flag=g,_=E,Me.getRoutePolicy()===ue.CN&&(_._restriction_shared=String(qe.isRestrictionShared())),[2,Object.assign(_,this.immutableProperties)]}}))}))},t}());function sn(t){return new Promise((function(e,n){z.get({key:t,success:function(t){e(t)},fail:function(e,r){je.hiLog.warn(tn,"","getClientValue fail, key: "+t+", code: "+r+", message: "+e),n(new Error("get from storage failed"))}})}))}function un(t,e){return new Promise((function(n,r){z.set({key:t,value:e,success:function(){n()},fail:function(e,n){je.hiLog.warn(tn,"","saveClientValue fail, key: "+t+", code: "+n+", message: "+e),r(new Error("save to storage failed"))}})}))}function cn(t){return new Promise((function(e,n){z.delete({key:t,success:function(){e()},fail:function(e,r){je.hiLog.warn(tn,"","removeItem fail, key: "+t+", code: "+r+", message: "+e),n(new Error("delete from storage failed"))}})}))}var ln,dn,hn=new(function(){function t(){this.sessionDuration=18e5,this.sessionValue=""}return t.prototype.getClientValue=function(t){return Z(this,void 0,void 0,(function(){var e;return tt(this,(function(n){switch(n.label){case 0:return[4,this.getSavedObject(t)];case 1:return e=n.sent(),0===Object.keys(e).length?[2,Promise.resolve("")]:[2,Promise.resolve(e.value)]}}))}))},t.prototype.getSavedObject=function(t){return Z(this,void 0,void 0,(function(){var e,n,r=this;return tt(this,(function(i){switch(i.label){case 0:return[4,sn(t)];case 1:return(e=i.sent())&&le.isValidStoredItem(e,(function(){return Z(r,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,sn(t)];case 1:return e.sent()?[4,cn(t)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))}))?"object"!=typeof(n=JSON.parse(e))?[2,Promise.resolve({})]:[2,Promise.resolve(n)]:[2,Promise.resolve({})]}}))}))},t.prototype.getSavedString=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){return[2,sn(t)]}))}))},t.prototype.isKeyExist=function(t){return Z(this,void 0,void 0,(function(){var e;return tt(this,(function(n){switch(n.label){case 0:return[4,this.getClientValue(t)];case 1:return e=n.sent(),[2,Promise.resolve(!!e)]}}))}))},t.prototype.saveClientValue=function(t,e,n){return Z(this,void 0,void 0,(function(){var r;return tt(this,(function(i){switch(i.label){case 0:return r=le.makeExpiryTime(n),[4,un(t,JSON.stringify({value:e,expiryTime:r}))];case 1:return i.sent(),[2]}}))}))},t.prototype.removeItem=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,this.getClientValue(t)];case 1:return""!==e.sent()&&cn(t),[2]}}))}))},t}()),pn=function(){function t(t){this.type="",this.event="",this.properties={},this.eventtime=0,this.event_session_name="",this.first_session_event="",this.id="",this.sendState=0,this.collectionUrl="",this.routePolicy="",this.id=null!=t?t:re.create()}return t.toMemoryEventModel=function(t){return ie(t,["properties","eventtime","event_session_name","first_session_event"])},t.toStorageEventModel=function(t){return ie(t,["sendState"])},t}(),fn=new(function(){function t(){this.headAppId="",this.timestamp=0,this.serviceTag=ft,this.serviceId="hmshioperqrt",this.reqID="",this.productId=""}return t.prototype.setHeadAppId=function(t){this.headAppId=t},t.prototype.setTimestamp=function(t){this.timestamp=t},t.prototype.setServiceTag=function(t){this.serviceTag=t},t.prototype.setServiceId=function(t){this.serviceId=t},t.prototype.setReqID=function(t){this.reqID=t},t.prototype.setProductId=function(t){this.productId=t},t.prototype.getEventHead=function(){return{protocol_version:"1",serviceid:this.serviceId,appid:this.headAppId,timestamp:this.timestamp,servicetag:this.serviceTag,requestid:this.reqID,productid:this.productId}},t}()),gn=function(){function t(){this.sessionFlag="",this.eventUploadData={},this.isInit=!1}return t.prototype.getEvent=function(t,e,n,r,i){var o,a,s,u=new pn;u.properties=e,u.event=t,u.eventtime=r,u.type=n,u.first_session_event=String(!this.isInit),u.event_session_name=(Zt(s=le.getSessionValue())&&(le.handleSessionValue(!0,!1),s=le.getSessionValue()),s),u.sendState=1,u.collectionUrl=null!==(o=i.url)&&void 0!==o?o:Me.getConfig("analyticsUrl");var c=null!==(a=i.region)&&void 0!==a?a:Me.getConfig(ot),l=je.hiAgcUtil.getConfig().region||"";u.routePolicy="UNKNOWN"===c?l:c;var d=je.hiAgcUtil.getABTestProvider();if(d){var h=u,p={tag:Ce,type:n,source:rt};d.onEvent(t,h,p)}return this.isInit||(this.isInit=!0),u},t.prototype.generateHttpHeader=function(t){var e=void 0===t?{}:t,n=e.reqId,r=void 0===n?"":n,i=e.logRegion,o=void 0===i?"":i,a=e.sdkToken,s=void 0===a?"":a,u=e.supportDebugMode,c=void 0===u||u,l={};return l[st]=Me.getConfig("appId"),l[dt]=Me.getConfig("productId"),l[lt]=Me.getConfig("resourceId"),l["App-Ver"]="1.0",l["Device-Type"]="web",l.servicetag=o?pt:ft,l["Package-Name"]=Me.getConfig("packageName"),l[ut]=r,l["Sdk-Name"]="hianalytics",l[ht]=Me.getConfig("clientId"),o&&(l["x-hasdk-log-region"]=encodeURIComponent(o)),c&&(l["x-hasdk-debug"]=String(Me.getConfig(it))),l[ct]=s,l},t.prototype.generateEventUploadData=function(t,e){var n;return Z(this,void 0,void 0,(function(){var r,i,o,a;return tt(this,(function(s){switch(s.label){case 0:return fn.setHeadAppId(Me.getConfig("appId")),fn.setProductId(Me.getConfig("productId")),fn.setTimestamp((new Date).getTime()),fn.setReqID(e),r=fn.getEventHead(),(i={}).events=t.map((function(t){return ie(t,["id","sendState","collectionUrl","routePolicy"])})),o=null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.routePolicy,[4,Ge.getUserInfo({routePolicy:o})];case 1:return a=s.sent(),i.events_common=a,this.eventUploadData.header=r,this.eventUploadData[rt]=i,[2,this.eventUploadData]}}))}))},t.prototype.generateLogPayload=function(t,e){var n={protocol_version:"1",serviceid:"hmshimaintqrt",appid:Me.getConfig("appId"),timestamp:(new Date).getTime(),servicetag:pt,requestid:e,productid:Me.getConfig("productId")},r=[];return t.forEach((function(t){var e,n,i=r.find((function(e){var n=e.events_common;return n.projectId===t.projectId&&n.groupId===t.groupId&&n.streamId===t.streamId}));i?(i.events_common.tags=t.tags,i.events.push({eventtime:String(t.eventtime),event:"$WriteLog",properties:(e={},e[yt]=xe.getPageIdByUrl(Me.prevScreenName),e[Et]=xe.getPageIdByUrl(Me.currentScreenName),e.$Content=t.content,e)})):r.push({events_common:{projectId:t.projectId,groupId:t.groupId,streamId:t.streamId,tags:t.tags},events:[{eventtime:String(t.eventtime),event:"$WriteLog",properties:(n={},n[yt]=xe.getPageIdByUrl(Me.prevScreenName),n[Et]=xe.getPageIdByUrl(Me.currentScreenName),n.$Content=t.content,n)}]})})),{header:n,event:r}},t.prototype.getUploadEventModels=function(t,e){var n;n=t===zt.STOP_ANALYTICS_COLLECTION?je.sendTask.eventModels.filter((function(t){return t.event===zt.STOP_ANALYTICS_COLLECTION&&1===t.sendState})):t===zt.LaunchApp?e?je.sendTask.eventModels.filter((function(t){var e=1===t.sendState,n=5===t.sendState;return-1!=[zt.LaunchApp,zt.FIRST_OPEN,zt.ENTER_SCREEN,zt.EXIT_SCREEN].indexOf(t.event)&&(e||n)})):je.sendTask.eventModels.filter((function(e){var n=1===e.sendState,r=5===e.sendState,i=e.event!==zt.STOP_ANALYTICS_COLLECTION;return e.event===t&&(i&&n||r)})):e?je.sendTask.eventModels.filter((function(e){var n=1===e.sendState,r=5===e.sendState,i=e.event!==zt.STOP_ANALYTICS_COLLECTION;return e.event===t&&(i&&n||r)})):je.sendTask.eventModels.filter((function(t){var e=1===t.sendState,n=5===t.sendState;return t.event!==zt.STOP_ANALYTICS_COLLECTION&&e||n}));var r=Me.getConfig("analyticsUrl"),i="",o=n.filter((function(t){var e=t.collectionUrl,n=e!==r&&(""===i||e===i);return n&&""===i&&(i=t.collectionUrl),n}));return o.length>0&&(n=o),n.filter((function(t){var e=!0;return qe.isDisableEvent(t.event)&&(e=!1,je.sendTask.eventModels=je.sendTask.eventModels.filter((function(e){return e.id!==t.id})),je.hiEventModelsAdapter.removeModel(t.id)),e}))},t.prototype.getUploadLogModels=function(){var t=je.sendLogTask.logRecords.filter((function(t){return 1===t.sendState||5===t.sendState})),e=Me.getConfig("analyticsUrl"),n="",r=t.filter((function(t){var r=t.collectionUrl!==e&&(""===n||t.collectionUrl===n);return r&&""===n&&(n=t.collectionUrl),r}));return r.length>0&&(t=r),t},t}(),vn=!1,mn=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.doEventSendDone=function(t,e){t.forEach((function(t){t.event===zt.ADD_QUICK_APP&&nn.updateAddShortcutState()}))},e}(function(){function t(){this.eventModels=[],this.upLoadService=new gn}return t.prototype.init=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t.prototype.uploadData=function(t,e){return void 0===t&&(t=!1),Z(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c=this;return tt(this,(function(l){switch(l.label){case 0:return[4,je.hiClient.isOnline()];case 1:return l.sent()&&(qe.reportFlag||t&&e===zt.STOP_ANALYTICS_COLLECTION)?0===this.eventModels.length?[2]:[4,this.getAaidAndAuthInfo()]:[2];case 2:return n=l.sent(),r=n.isValid,n.aaid,i=n.authInfo,r&&i?[4,this.generateFinalUploadInfos(t,e,i)]:[2];case 3:if(0===(o=l.sent()).length)return[2];for(a=function(e){0===e?s.sendEventData(t,o[e]):setTimeout((function(){c.sendEventData(t,o[e])}),200*e)},s=this,u=0;u<o.length;u++)a(u);return[2]}}))}))},t.prototype.sendEventData=function(t,e){var n=this,r=e.finalUploadEventData,i=e.uploadEventDataEventModels,o=e.isOtherCollectionUrl,a=e.config,s=e.uploadDataHeader;je.hiSendData.onEvent(r,s,a).then((function(e){je.hiLog.info("resultCode: 200"),n.setEventModelsStatus(i,3),n.doEventSendDone(i,t),n.eventModels=n.eventModels.filter((function(t){return 3!==t.sendState}))})).catch((function(){n.setEventModelsStatus(i,5),n.doEventSendFail(i,o),(o||Me.getConfig(it))&&(n.eventModels=n.eventModels.filter((function(t){return 5!==t.sendState})))}))},t.prototype.chunkEventModels=function(t){for(var e=[],n=je.sendPolicy.getUploadMaxCount(),r=Math.ceil(t.length/n),i=0;i<r;i++){var o=t.slice(i*n,(i+1)*n);e.push(o)}return e},t.prototype.generateFinalUploadInfos=function(t,e,n){return void 0===t&&(t=!1),Z(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,d,h,p,f,g;return tt(this,(function(v){switch(v.label){case 0:if(r=[],0===(i=this.upLoadService.getUploadEventModels(e,t)).length)return[2,r];o=this.backupEventModelStatus(i),this.setEventModelsStatus(i,2),a=this.upLoadService.generateHttpHeader({reqId:"",sdkToken:n}),s=this.chunkEventModels(i),u=0,v.label=1;case 1:return u<s.length?[4,this.getUploadEventDataEventModels(s[u])]:[3,6];case 2:return c=v.sent(),this.revertEventModelStatus(c,s[u],o),l=c[0],d=Me.getConfig("analyticsUrl")!==l.collectionUrl,h={mode:Me.getReportType(),url:l.collectionUrl,async:!t},p=re.create(),[4,this.upLoadService.generateEventUploadData(c,p)];case 3:return f=v.sent(),this.uploadDataAppendEventHeader(f,l),[4,this.generateFinalUploadEventData(f)];case 4:if("string"==typeof(g=v.sent())&&Zt(g))return[3,5];a[ut]=p,r.push(ie({finalUploadEventData:g,uploadEventDataEventModels:c,config:h,isOtherCollectionUrl:d,uploadDataHeader:a})),v.label=5;case 5:return u++,[3,1];case 6:return[2,r]}}))}))},t.prototype.backupEventModelStatus=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];e[r.id]=r.sendState}return e},t.prototype.revertEventModelStatus=function(t,e,n){if(t.length!==e.length)for(var r=t.map((function(t){return t.id})),i=0;i<e.length;i++){var o=e[i];-1===r.indexOf(o.id)&&this.setEventModelsStatus([o],n[o.id])}},t.prototype.getUploadEventDataEventModels=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){return[2,t]}))}))},t.prototype.getAaidAndAuthInfo=function(){return Z(this,void 0,void 0,(function(){var t,e,n;return tt(this,(function(r){switch(r.label){case 0:return(t=Me.getAAID())?[3,2]:[4,De.collect(Oe)];case 1:if(!(e=r.sent())[Oe])return[2,{isValid:!1}];Me.addConfig("aaid",e[Oe]),Me.setIsTestDevice(),t=Me.getAAID(),r.label=2;case 2:return[4,Me.getHaSdkToken()];case 3:return(n=r.sent())?[2,{aaid:t,authInfo:n,isValid:!0}]:[2,{isValid:!1}]}}))}))},t.prototype.uploadDataAppendEventHeader=function(t,e){},t.prototype.generateFinalUploadEventData=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(e){return[2,t]}))}))},t.prototype.doEventSendDone=function(t,e){},t.prototype.doEventSendFail=function(t,e){},t.prototype.dtmProcessAspect=function(t,e,n){return!1},t.prototype.onEvent=function(t,e,n,r,i){var o,a=this;void 0===i&&(i={}),e=e||{};var s=i.immediately||!1;if(!this.dtmProcessAspect(t,e,i)&&""!==(null!==(o=i.url)&&void 0!==o?o:Me.getConfig("analyticsUrl"))){var u=this.upLoadService.getEvent(t,e,n,r,i);this.pushEventModel(u);var c=this.saveEventModel(u);s&&c.then((function(){a.uploadData(s,t).then((function(t){})).catch((function(t){}))}))}},t.prototype.setHeartbeatFunc=function(t){var e=this;this.timer=setTimeout((function(){vn||(vn=!0,e.uploadData(!1,"").then((function(t){vn=!1,je.sendPolicy.eventUploadPolicyScheduleTime()})).catch((function(t){vn=!1,je.sendPolicy.eventUploadPolicyScheduleTime()})))}),t)},t.prototype.setEventModelsStatus=function(t,e,n){var r=t.map((function(t){return t.id}));this.eventModels.forEach((function(t){-1!==r.indexOf(t.id)&&(void 0!==n&&t.sendState!==n||(t.sendState=e))}))},t.prototype.processEventsReceivedAfterLaunch=function(){"false"===le.getClientValue(Ut)&&(this.eventModels.length=0,this.removeAllEventModels())},t.prototype.clearData=function(t){this.removeEventModels(t),this.eventModels=this.eventModels.filter((function(e){return null!=t&&e.routePolicy!==t}))},t.prototype.getCurFocusStateSessionDuration=function(t){return Me.isBackground?le.minSessionDuration:le.sessionDuration},t.prototype.pushEventModel=function(t){this.eventModels.push(t)},t.prototype.saveEventModel=function(t){return Promise.resolve()},t.prototype.removeEventModels=function(t){},t.prototype.removeAllEventModels=function(){},t.prototype.isServerWebV3=function(){return!0},t.prototype.isServerWebEvent=function(){return!1},t}())),yn=new(function(){function t(){}return t.prototype.migrate=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return je.hiLog.info("start quickapp migration"),[4,this.usingObjectStorage()];case 1:return t.sent(),[2,Promise.resolve()]}}))}))},t.prototype.usingObjectStorage=function(){return Z(this,void 0,void 0,(function(){var t,e,n,r,i,o;return tt(this,(function(a){switch(a.label){case 0:t=this.getKeyMappings(),e=0,n=t,a.label=1;case 1:return e<n.length?(r=n[e],[4,je.hiStorage.getSavedString(r.oldKey)]):[3,6];case 2:return(i=a.sent())?(o=r.newKey===Bt?"false":i,[4,je.hiStorage.saveClientValue(r.newKey,o,r.duration)]):[3,5];case 3:return a.sent(),[4,je.hiStorage.removeItem(r.oldKey)];case 4:a.sent(),a.label=5;case 5:return e++,[3,1];case 6:return[2]}}))}))},t.prototype.getKeyMappings=function(){var t=je.hiAgcUtil.getConfig().client.app_id;return[{oldKey:"HW_ha_"+t,newKey:Bt,duration:31536e6},{oldKey:"HW_hid_"+t,newKey:Lt,duration:le.sessionDuration},{oldKey:"HW_analytics_enabled",newKey:Ut,duration:31536e6},{oldKey:"HW_ha_restriction_enabled",newKey:$t,duration:31536e6}]},t}()),_n=!1,En=new(function(){function t(){this.logRecords=[],this.timerId=0,this.upLoadService=new gn}return t.prototype.init=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t.prototype.uploadData=function(){return Z(this,void 0,void 0,(function(){var t,e,n,r=this;return tt(this,(function(i){switch(i.label){case 0:return[4,je.hiClient.isOnline()];case 1:return i.sent()&&qe.reportFlag?0===this.logRecords.length?[2]:[4,Me.getHaSdkToken()]:[2];case 2:return(t=i.sent())?(e={mode:Me.getReportType(),url:Me.getConfig("analyticsUrl")},n={},this.logRecords.forEach((function(t){var e=t.sendState;if(1===e||5===e){var r=t.region;n[r]=n[r]||[],n[r].push(t)}})),Object.entries(n).forEach((function(n){for(var i=n[0],o=n[1],a=r.chunkLogDatas(o),s=function(n){var o=a[n];if(0===o.length)return{value:void 0};var s=re.create(),u=r.upLoadService.generateLogPayload(o,s),c=r.generateFinalUploadLogData(u);if("string"==typeof c&&Zt(c))return{value:void 0};var l=r.upLoadService.generateHttpHeader({reqId:s,logRegion:i,supportDebugMode:!1,sdkToken:t});o.forEach((function(t){return t.sendState=2})),je.hiSendData.onEvent(c,l,e).then((function(){je.hiLog.info("upload log successfully, resultCode: 200"),o.forEach((function(t){return t.sendState=3})),r.doLogSendDone(o),r.logRecords=r.logRecords.filter((function(t){return 3!==t.sendState}))}),(function(){o.forEach((function(t){return t.sendState=5})),r.doLogSendFail(o)}))},u=0;u<a.length;u++){var c=s(u);if("object"==typeof c)return c.value}})),[2]):[2]}}))}))},t.prototype.chunkLogDatas=function(t){var e=je.sendPolicy.getUploadMaxCount();return[t.slice(0,e)]},t.prototype.generateFinalUploadLogData=function(t){return t},t.prototype.setHeartbeatFunc=function(t){var e=this;this.timerId=setTimeout((function(){_n||(_n=!0,e.uploadData().then((function(t){_n=!1,je.sendPolicy.logUploadPolicyScheduleTime()})).catch((function(t){_n=!1,je.sendPolicy.logUploadPolicyScheduleTime()})))}),t)},t.prototype.writeLog=function(t){t.sendState=1,this.logRecords.push(t),this.saveLogModel(t)},t.prototype.doLogSendDone=function(t){},t.prototype.doLogSendFail=function(t){},t.prototype.saveLogModel=function(t){},t}());!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(dn||(dn={}));var Sn=function(){function t(){var e=this;this.moduleName="",this.logLevel=dn.VERBOSE,this.userLogProvider=null,this.logProvider=function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(!(r<e.logLevel)){var a=t.consoleType[r];if(!a)throw new Error("invalid logType: ".concat(r));console[a]("[Module:".concat(n,"] [").concat((new Date).toISOString(),"] | "),i.toString())}}}return t.createLogger=function(e){for(var n=0,r=t.logInstanceArray;n<r.length;n++){var i=r[n];if(i.moduleName==e)return i}var o=new t;return o.moduleName=e,t.logInstanceArray.push(o),o},t.prototype.setLogProvider=function(t){if("function"!=typeof t)throw new Error("logProvider must be set as a function");this.logProvider=t},t.prototype.setUserLogProvider=function(t){this.userLogProvider=t},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(dn.DEBUG,t)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(dn.VERBOSE,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(dn.INFO,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(dn.WARN,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.doLog(dn.ERROR,t)},t.prototype.doLog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.userLogProvider&&this.userLogProvider(this.moduleName,t,e),this.logProvider(this.moduleName,t,e)},t.consoleType=((ln={})[dn.DEBUG]="log",ln[dn.VERBOSE]="log",ln[dn.SILENT]="log",ln[dn.INFO]="info",ln[dn.WARN]="warn",ln[dn.ERROR]="error",ln),t.logInstanceArray=[],t}(),bn=function(t,e){return(bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function In(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Tn(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var An=function(){function t(){this.TWO_MINUTES_EARLY=12e4,this.ONE_HOUR=36e5,this.expiration=0,this.tokenString="",this.issuedAt="0",this.notBefore="0",this.lastRefreshTime=0}return t.prototype.constructFromJson=function(t){this.expiration=t.expiration,this.issuedAt=t.issuedAt,this.tokenString=t.tokenString,this.notBefore=t.notBefore,this.lastRefreshTime=t.lastRefreshTime},t.prototype.isValid=function(){var t=(new Date).getTime(),e=this.lastRefreshTime+1e3*this.expiration-this.TWO_MINUTES_EARLY;return null!=this.tokenString&&t<=e},t.prototype.allowRefresh=function(){return(new Date).getTime()-this.lastRefreshTime>this.ONE_HOUR},t}(),wn=function(t){function e(e){var n=t.call(this,e)||this;return n.REQUEST_URL="/agc/apigw/oauth2/v1/token",n.useJwt=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}bn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.getBody=function(){return{grant_type:"client_credentials",client_id:this.getHeaderClientId(),client_secret:this.getClientSecret(),useJwt:this.getUseJwt()}},e.prototype.getUrl=function(){return this.getAgcgwUrl()+this.REQUEST_URL},e.prototype.setUseJwt=function(t){this.useJwt=t},e.prototype.getUseJwt=function(){return this.useJwt},e}(function(){function t(t){this.sdkPlatform="",this.sdkPlatformVersion="",this.sdkType="JS",this.packageName="",this.appVersion="",this.headerProductId="",this.headerAppId="",this.headerClientId="",this.clientSecret="",this.agcgwUrl="",this.agcgwBackUrl="",this.agcConfig=null,this.instance=null,this.sdkServiceName="agconnect-credential",this.sdkVersion="1.5.0",this.setAGCInstance(t)}return t.prototype.setAGCInstance=function(t){if(!t)throw new a.AGCError(a.AGCErrorCode.AGC_INNER_ERROR,{message:"set AGCInstance using null or undefined object"},"CredentialsService");this.instance=t,this.agcConfig=null},t.prototype.getHeaderClientId=function(){return this.initConfig()?this.headerClientId:""},t.prototype.getClientSecret=function(){return this.initConfig()?this.clientSecret:""},t.prototype.getAgcgwUrl=function(){return this.initConfig()?this.agcgwUrl:""},t.prototype.getHeader=function(){if(!this.initConfig())return"";var t=this.instance.getService("AGCPlatformInfoService");return t&&(this.sdkPlatform=t.getPlatform(),this.sdkPlatformVersion=t.getPlatformVersion(),this.packageName=t.getPackageName(),this.appVersion=t.getAppVersion()),{sdkVersion:this.sdkVersion,sdkPlatform:this.sdkPlatform,sdkServiceName:this.sdkServiceName,sdkPlatformVersion:this.sdkPlatformVersion,sdkType:this.sdkType,packageName:this.packageName,appVersion:this.appVersion,app_id:this.headerAppId,client_id:this.headerClientId,productId:this.headerProductId,"Content-Type":"application/json;charset=UTF-8"}},t.prototype.initConfig=function(){if(!this.instance)throw new a.AGCError(a.AGCErrorCode.AGC_INNER_ERROR,{message:"set AGCInstance using null or undefined object"},"CredentialsService");return null==this.agcConfig&&(this.agcConfig=this.instance.config(),this.headerProductId=this.agcConfig.client.product_id,this.headerClientId=this.agcConfig.client.client_id,this.headerAppId=this.agcConfig.client.app_id,this.clientSecret=this.agcConfig.client.client_secret,this.agcgwUrl=this.instance.getGwUrl(),this.agcgwBackUrl=this.instance.getGwBackUrl()),!0},t}()),kn=function(){function t(){}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getStorage=function(t){var e=t.getService("AGCStorageService");if(null!=e)return e.getStorageInstance(0,t.getCryptImp());Cn.error("Get AGC storage Service failed.")},t}(),Cn=Sn.createLogger("CredentialsService"),On=function(){function t(t){this.instance=t||i.default.instance()}return t.prototype.removeToken=function(){if(this.instance.getCustomCredentialsProvider())return Promise.resolve();var t=this.getCredentialStoreKey(),e=kn.getInstance().getStorage(this.instance);return e?e.remove(t).catch((function(t){return t instanceof a.AGCError?Promise.reject(t):Promise.reject(new a.AGCError(a.AGCErrorCode.REMOVE_TOKEN_FAILED,t,"CredentialsService"))})):Promise.reject(new a.AGCError(a.AGCErrorCode.FAIL_TO_GET_STORAGE_SERVICE,null,"CredentialsService"))},t.prototype.getToken=function(t){return In(this,void 0,void 0,(function(){var e,n,r,i,o,s=this;return Tn(this,(function(u){switch(u.label){case 0:return this.instance.getCustomCredentialsProvider()?(e=new An,[4,this.instance.getCustomCredentialsProvider().getToken(!!t)]):[3,2];case 1:return(n=u.sent())&&n.tokenString&&n.expiration?isNaN(Number(n.expiration))||Number(n.expiration)<=0?(Cn.error("the customCredentialsProvider getToken must return valid expiration."),[2,Promise.reject(new a.AGCError(a.AGCErrorCode.GET_TOKEN_FAILED,{message:"the customCredentialsProvider getToken must return valid expiration"},"CredentialsService"))]):(e.tokenString=n.tokenString,e.expiration=n.expiration,e.lastRefreshTime=(new Date).getTime(),[2,Promise.resolve(e)]):(Cn.error("the customCredentialsProvider getToken method must contain return value: tokenString, expiration."),[2,Promise.reject(new a.AGCError(a.AGCErrorCode.GET_TOKEN_FAILED,{message:"the customCredentialsProvider getToken method must contain return value: tokenString, expiration"},"CredentialsService"))]);case 2:return r=this.getCredentialStoreKey(),(i=kn.getInstance().getStorage(this.instance))?(o=new An,[2,i.get(r).then((function(e){return In(s,void 0,void 0,(function(){var n,a;return Tn(this,(function(s){switch(s.label){case 0:return e?o.constructFromJson(JSON.parse(e)):o=null,o&&o.isValid()?t&&o.allowRefresh()?[4,this.requestToken()]:[3,3]:[3,4];case 1:return n=s.sent(),[4,i.set(r,JSON.stringify(n))];case 2:return s.sent(),[2,Promise.resolve(n)];case 3:return[2,Promise.resolve(o)];case 4:return[4,this.requestToken()];case 5:return a=s.sent(),[4,i.set(r,JSON.stringify(a))];case 6:return s.sent(),[2,Promise.resolve(a)]}}))}))})).catch((function(t){return t instanceof a.AGCError?Promise.reject(t):Promise.reject(new a.AGCError(a.AGCErrorCode.GET_TOKEN_FAILED,t,"CredentialsService"))}))]):[2,Promise.reject(new a.AGCError(a.AGCErrorCode.FAIL_TO_GET_STORAGE_SERVICE,null,"CredentialsService"))]}}))}))},t.prototype.getCredentialStoreKey=function(){return this.instance.name()===r.x4?"agcClientToken:"+this.instance.config().client.client_id:"agcClientToken_"+this.instance.name()+":"+this.instance.config().client.client_id},t.prototype.requestToken=function(){return In(this,void 0,void 0,(function(){var t,e;return Tn(this,(function(n){return(t=this.instance.getService("AGCNetworkService"))?((e=new wn(this.instance)).setUseJwt(1),[2,t.post(e.getUrl(),e.getBody(),e.getHeader()).then((function(t){if(t.data.ret&&0!=t.data.ret.code)return Promise.reject(new a.AGCError({code:t.data.ret.code,message:t.data.ret.msg},null,"CredentialsService"));var e=new An;return e.tokenString=t.data.access_token,e.expiration=t.data.expires_in,e.lastRefreshTime=(new Date).getTime(),Promise.resolve(e)}))]):[2,Promise.reject(new a.AGCError(a.AGCErrorCode.FAIL_TO_GET_NETWORK_SERVICE,null,"CredentialsService"))]}))}))},t}();i.default.registerInternalService({name:"CredentialsService",serviceFactory:function(t){return new On(t)}});var Rn=new(function(){function t(){}return t.prototype.init=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t.prototype.getConfig=function(){return i.default.instance().config()},t.prototype.getToken=function(t){return Z(this,void 0,void 0,(function(){var e;return tt(this,(function(n){switch(n.label){case 0:if(!(e=i.default.instance().getService("CredentialsService")))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.getToken()];case 2:return[2,n.sent().tokenString];case 3:return n.sent(),je.hiLog.error(t,"SE-003","Failed to obtain token from agconnect sdk."),[2,""];case 4:return[3,6];case 5:return je.hiLog.warn(t,Se,be),[2,""];case 6:return[2]}}))}))},t.prototype.getAaid=function(t){return Z(this,void 0,void 0,(function(){var e;return tt(this,(function(n){try{return null!=(e=i.default.instance().getService("ClientInfoService"))?[2,e.getAaid()]:(je.hiLog.warn(t,Se,be),[2,""])}catch(e){return je.hiLog.error(t,Ae,we),[2,""]}return[2]}))}))},t.prototype.deleteAaid=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},t.prototype.getPushToken=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,""]}))}))},t.prototype.getOaid=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,""]}))}))},t.prototype.getOaidFlag=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2,!0]}))}))},t.prototype.getABTestProvider=function(){var t=i.default.instance().getService("ABTestService");if(null!==t)return t.getABtestInstance("REMOTE_CONFIG")?t:null},t}());je.setHiLog(en),je.setHiSendData(rn),je.setSendLogTask(En),je.setSendTask(mn),je.setHiAutoReport(nn),je.setHiStorage(hn),je.setHiClientProperty(an),je.setHiClient(on),je.setHiMigration(yn),je.setHiAgcUtil(Rn);var Dn=function(){function t(){}return t.prototype.onEventCallback=function(t,e){var n={eventtime:(new Date).getTime(),isCallBack:!0};qe.onEventCallback(t,e,n)},t}(),Pn=new r.eG((function(){return new Qe})),Nn=new r.eG((function(){return new Dn})),xn={InitSettings:Ue,RoutePolicy:ue,LogLevel:se,UserProfileType:ce,EventName:Jt,ParamName:{STORENAME:"$StoreName",BRAND:"$Brand",CATEGORY:"$Category",PRODUCTID:"$ProductId",PRODUCTNAME:"$ProductName",PRODUCTFEATURE:"$ProductFeature",PRICE:"$Price",QUANTITY:"$Quantity",REVENUE:"$Revenue",CURRNAME:"$CurrName",PLACEID:"$PlaceId",DESTINATION:"$Destination",ENDDATE:"$EndDate",BOOKINGDAYS:"$BookingDays",PASSENGERSNUMBER:"$PassengersNumber",BOOKINGROOMS:"$BookingRooms",ORIGINATINGPLACE:"$OriginatingPlace",BEGINDATE:"$BeginDate",TRANSACTIONID:"$TransactionId",CLASS:"$Class",CLICKID:"$ClickId",PROMOTIONNAME:"$PromotionName",CONTENT:"$Content",EXTENDPARAM:"$ExtendParam",MATERIALNAME:"$MaterialName",MATERIALSLOT:"$MaterialSlot",MEDIUM:"$Medium",SOURCE:"$Source",KEYWORDS:"$Keywords",OPTION:"$Option",STEP:"$Step",VIRTUALCURRNAME:"$VirtualCurrName",VOUCHER:"$Voucher",PLACE:"$Place",SHIPPING:"$Shipping",TAXFEE:"$TaxFee",USERGROUPID:"$UserGroupId",LEVELNAME:"$LevelName",RESULT:"$Result",ROLENAME:"$RoleName",LEVELID:"$LevelId",CHANNEL:"$Channel",SCORE:"$Score",SEARCHKEYWORDS:"$SearchKeywords",CONTENTTYPE:"$ContentType",ACHIEVEMENTID:"$AchievementId",FLIGHTNO:"$FlightNo",POSITIONID:"$PositionId",PRODUCTLIST:"$ProductList",ACOUNTTYPE:"$AcountType",EVTRESULT:"$EvtResult",PREVLEVEL:"$PrevLevel",CURRVLEVEL:"$CurrvLevel",VOUCHERS:"$Vouchers",MATERIALSLOTTYPE:"$MaterialSlotType",LISTID:"$ListId",FILTERS:"$Filters",SORTS:"$Sorts",ORDERID:"$OrderId",PAYTYPE:"$PayType",REASON:"$Reason",EXPIREDATE:"$ExpireDate",VOUCHERTYPE:"$VoucherType",SERVICETYPE:"$ServiceType",DETAILS:"$Details",COMMENTTYPE:"$CommentType",REGISTMETHOD:"$RegistMethod",FEATURE:"$Feature",ROOMS:"$Rooms",SALEPRICE:"$SalePrice",RENTFEE:"$RentFee",RENTTYPE:"$RentType",ACTIVITYNAME:"$ActivityName",ACTIVITYTYPE:"$ActivityType",AMOUNT:"$Amount",BALANCE:"$Balance",BATTLENAME:"$BattleName",BATTLETYPE:"$BattleType",CARDLIST:"$CardList",CLASSLIMIT:"$ClassLimit",COMBAT:"$Combat",CUTSCENENAME:"$CutsceneName",DAMAGE:"$Damage",DIFFICULTY:"$Difficulty",DISCOUNT:"$Discount",DUNGEONNAME:"$DungeonName",DURATION:"$Duration",ENHANCETYPE:"$EnhanceType",EQUIPMENTID:"$EquipmentId",EQUIPMENTLEVEL:"$EquipmentLevel",EQUIPMENTNAME:"$EquipmentName",FIRSTCREATE:"$FirstCreate",FIRSTPAY:"$FirstPay",FIRSTSIGNIN:"$FirstSignIn",FRIENDNUMBER:"$FriendNumber",GIFTNAME:"$GiftName",GIFTTYPE:"$GiftType",INVITER:"$Inviter",ISFREE:"$IsFree",ISTOPLEVEL:"$IsTopLevel",ITEMLIST:"$ItemList",LEFTPULLSFORGUARANTEE:"$LeftPullsForGuarantee",LEVELBEFORE:"$LevelBefore",LEVELLIMIT:"$LevelLimit",MEMBERS:"$Members",MESSAGETITLE:"$MessageTitle",MESSAGETYPE:"$MessageType",MOUNTDEFAULTNAME:"$MountDefaultName",MOUNTID:"$MountId",MOUNTLEVEL:"$MountLevel",MVP:"$MVP",NEWCLASS:"$NewClass",NEWVALUE:"$NewValue",NUMBEROFCARDS:"$NumberOfCards",NUMBEROFDRAWING:"$NumberOfDrawing",OLDCLASS:"$OldClass",OLDVALUE:"$OldValue",OPERATION:"$Operation",PACKAGETYPE:"$PackageType",PARTICIPANTS:"$Participants",PETDEFAULTNAME:"$PetDefaultName",PETID:"$PetId",PETLEVEL:"$PetLevel",QUALITY:"$Quality",RANKING:"$Ranking",REWARD:"$Reward",ROLECLASS:"$RoleClass",ROLECOMBAT:"$RoleCombat",ROLEGENDER:"$RoleGender",SERVER:"$Server",SKILLLEVEL:"$SkillLevel",SKILLLEVELBEFORE:"$SkillLevelBefore",SKILLNAME:"$SkillName",TASKNAME:"$TaskName",TASKTYPE:"$TaskType",TOTALAFTERCHANGE:"$TotalAfterChange",TYPE:"$Type",USERGROUPLEVEL:"$UserGroupLevel",USERGROUPNAME:"$UserGroupName",VIDEONAME:"$VideoName",VIDEOTYPE:"$VideoType",VIPLEVEL:"$VIPLevel",WINREASON:"$WinReason",VIPTYPE:"$VIPType",VIPSTATUS:"$VIPStatus",VIPEXPIREDATE:"$VIPExpireDate",ENTER:"$Enter",STARTDATE:"$StartDate",EFFECTIVETIME:"$EffectiveTime",NAME:"$Name",MODE:"$Mode",SUBJECT:"$Subject",ACCURACY:"$Accuracy",CONTENTLENGTH:"$ContentLength",REMARK:"$Remark",DAYS:"$Days",POSTID:"$PostId",ENTRY:"$Entry",INFORMATIONTYPE:"$InformationType",INFORMATION:"$Information",TASKID:"$TaskId",LEVEL:"$Level",CONTENTNAME:"$ContentName",PAGENAME:"$PageName",PROPS:"$Props",PURCHASEENTRY:"$PurchaseEntry",ARRIVALDATE:"$ArrivalDate",BINDDURATION:"$BindDuration",BUYERTYPE:"$BuyerType",CONFIGURATION:"$Configuration",DEALERNAME:"$DealerName",DEVICETYPE:"$DeviceType",DEVICENAME:"$DeviceName",ENERGY:"$Energy",ISLOAN:"$IsLoan",LOANCHANNEL:"$LoanChannel",LOANPRODUCTNAME:"$LoanProductName",MODEL:"$Model",OCCURREDDATE:"$OccurredDate",REPAYMENTMETHOD:"$RepaymentMethod",SEAT:"$Seat",SERIES:"$Series",ACTION:"$Action",PAGE:"$Page",INDEX:"$Index",MODULE:"$Module",SOURCEPAGENAME:"$SourcePageName",CITY:"$City",FROMCITY:"$FromCity",TOCITY:"$ToCity",DEPARTUREDATE:"$DepartureDate",RETURNDATE:"$ReturnDate",TRIPTYPE:"$TripType",SEARCHHOTEL:"$SearchHotel",SPECIALTICKET:"$SpecialTicket",HASBABY:"$HasBaby",HASCHILDREN:"$HasChildren",COUNTRY:"$Country",STAR:"$Star",CHECKINDATE:"$CheckinDate",CHECKOUTDATE:"$CheckoutDate",ALDULTCOUNT:"$AldultCount",BABYCOUNT:"$BabyCount",CHILDRENCOUNT:"$ChildrenCount",FROM:"$From",CARMODE:"$CarMode",CARTIME:"$CarTime",FLIGHTID:"$FlightID",SEARCHRESULT:"$SearchResult",PRODUCT:"$Product",DEPARTURETIME:"$DepartureTime",ARRIVETIME:"$ArriveTime",DEPARTUREAIRPORT:"$DepartureAirport",ARRIVEEAIRPORT:"$ArriveeAirport",AIRLINE:"$Airline",FLIGHTTYPE:"$FlightType",DIRECTFLIGHT:"$DirectFlight",TRAINTYPE:"$TrainType",FROMSTATION:"$FromStation",BEDTYPE:"$BedType",BREAKFAST:"$Breakfast",ARRIVEDATE:"$ArriveDate",TRAINID:"$TrainID",HOTELID:"$HotelID",HOTELNAME:"$HotelName",TRIPTAG:"$TripTag",HOTELTYPE:"$HotelType",CABIN:"$Cabin",ROOMTYPE:"$RoomType",CARTYPE:"$CarType",SUPPLIER:"$Supplier",STUDENTCOUNT:"$StudentCount",ROOMCOUNT:"$RoomCount",PERSONCOUNT:"$PersonCount",VOUCHERID:"$VoucherID",VOUCHERNAME:"$VoucherName",VOUCHERPRICE:"$VoucherPrice",USERTYPE:"$UserType",TARGET:"$Target",ISCOMPELETED:"$IsCompeleted",USERLEVEL:"$UserLevel",TIME:"$Time",DISTANCE:"$Distance",CALORIECONSUMED:"$CalorieConsumed",PROGRESS:"$Progress",SOURCEPAGE:"$SourcePage",MULTIPLEACCOUNTS:"$MultipleAccounts",ACCOUNTTYPE:"$AccountType",FAILUREREASON:"$FailureReason",AUTHORITY:"$Authority",CARDTYPE:"$CardType",ISSUEBANK:"$IssueBank",TRANSFORMAMOUNT:"$TransformAmount",BANKNAME:"$BankName",ANK_NAME:"bank_name",SOURCEMODULE:"$SourceModule",STOCKCODE:"$Stockcode",STOCKNAME:"$Stockname",MARKETCODE:"$MarketCode",MARKETNAME:"$MarketName",VIEWTYPE:"$ViewType",TRENDCYCLE:"$TrendCycle",TRANSACTIONTYPE:"$TransactionType",CURRENCY:"$Currency",MONEY:"$Money",FINANCEID:"$FinanceId",FINANCENAME:"$FinanceName",FINANCETYPE:"$FinanceType",FINANCERATE:"$FinanceRate",FINANCETIMELIMIT:"$FinanceTimeLimit",FINANCEAMOUNTMIN:"$FinanceAmountMin",FINANCERISKLEV:"$FinanceRiskLev",PURCHASEAMOUNT:"$PurchaseAmount",HANDLINGFEES:"$HandlingFees",REDEMPTIONAMOUNT:"$RedemptionAmount",RETURNAMOUNT:"$ReturnAmount",FUNDCODE:"$FundCode",FUNDTYPE:"$FundType",FUNDNAME:"$FundName",FUNDRISKLEV:"$FundRiskLev",CHARGERATE:"$ChargeRate",PAYMENTMETHOD:"$PaymentMethod",FIXEDCYCLE:"$FixedCycle",ENTRANCE:"$Entrance",CODE:"$code",NEWSTOPIC:"$NewsTopic",INFORMATIONSOURCE:"$InformationSource",COMMENTSNUMBER:"$CommentsNumber",FORWARDINGNUMBER:"$forwardingNumber",LIKES:"$Likes",TITLE:"$Title",SEARCHTYPE:"$SearchType",SOURCELOCATION:"$SourceLocation",LOCATION:"$Location",ID:"$Id",PLAYMODE:"$PlayMode",LISTS:"$Lists",ADLOCATION:"$Adlocation",ADCATEGORY:"$AdCategory",ADTHEME:"$AdTheme",BUTTONNAME:"$ButtonName",USERID:"$UserID",PAGECATEGORY:"$PageCategory",RATING:"$Rating",PERFORMANCE:"$Performance",TRADINGRULES:"$TradingRules",PORTFOLIO:"$Portfolio",INVESTMENTMANAGER:"$InvestmentManager",FUNDSIZE:"$FundSize",VIPMONEY:"$VipMoney",VIPLOCATION:"$VipLocation",VIPFAILED:"$VipFailed",SECTION:"$Section"}};i.default.registerApiProvider("analytics",(function(){return Pn.get()}),xn),function(t){t.registerApiProvider("hmscore_analytics",(function(){return Nn.get()}))}(i.default)},8144:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r,i,o,a,s,u=n(3),c=n.n(u),l=n(4),d=n.n(l),h=n(7);function p(){(r=h.a.get("hmscoreFramework","HMSLogger"))&&(i=r.debug,o=r.info,a=r.warn,s=r.error)}function f(t,e,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];"function"==typeof t?t.apply(void 0,[n,r].concat(o)):e.apply(void 0,["[".concat(n,"] ").concat(r||"")].concat(o))}var g=function(){function t(){c()(this,t)}return d()(t,null,[{key:"debug",value:function(t,e){r||p();for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];f.apply(void 0,[i,console.debug||console.log,t,e].concat(o))}},{key:"info",value:function(t,e){r||p();for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];f.apply(void 0,[o,console.info,t,e].concat(i))}},{key:"warn",value:function(t,e){r||p();for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];f.apply(void 0,[a,console.warn,t,e].concat(i))}},{key:"error",value:function(t,e){r||p();for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];f.apply(void 0,[s,console.error,t,e].concat(i))}}]),t}()},function(t,e,n){"use strict";n.d(e,"j",(function(){return r})),n.d(e,"k",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"h",(function(){return h})),n.d(e,"a",(function(){return p}));var r="HMS-JS-BASE",i="weexJsbCallback",o="rnJsbCallback",a="com.huawei.hms.adapter",s="JsbInternalAbility",u=1001,c=1002,l=1005,d=1,h=0,p=1},function(t,e,n){"use strict";(function(t){var r,i=n(0),o=n(1),a=0;e.a={uniqueId:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(a++,"_").concat((new Date).getTime(),"_").concat(Math.random())},getJSCore:function(){return r||(this.isWeex()?r=weex.requireModule("JSCore"):this.isRN()?i.a.debug(o.j,"this is RN"):r=this.isHarmony()?ModuleGroup.getGroup("AceModuleGroup/HmsBridge"):this.isQickApp()?t.requireAPI("service.jsb"):window.JSCore,r)},setJSCore:function(t){r=t},isWebView:function(){return"function"==typeof Window&&window instanceof Window},isWeex:function(){return"undefined"!=typeof weex},isRN:function(){return"undefined"!=typeof GLOBAL},isCordova:function(){return"undefined"!=typeof window&&void 0!==window.cordova&&!this.isCapacitor()},isCapacitor:function(){return"undefined"!=typeof window&&void 0!==window.Capacitor&&void 0!==window.Capacitor.Plugins.JSBCapacitorPlugin},isHarmony:function(){return"undefined"!=typeof ModuleGroup},isOHOS:function(){var t;return"undefined"!=typeof globalThis&&"ohos.base"===(null===(t=globalThis.hmscoreFramework)||void 0===t?void 0:t.xpsfJsTrigger)},isSupportPAF:function(){var t,e;return"undefined"!=typeof globalThis&&("paf.base"===(null===(t=globalThis.pafFramework)||void 0===t?void 0:t.xpsfJsTrigger)||"paf.binding"===(null===(e=globalThis.pafFramework)||void 0===e?void 0:e.xpsfJsTrigger))},isHarmonyWebview:function(){return"undefined"!=typeof window&&!(!window.jsbHarmonyWebview||"function"!=typeof window.jsbHarmonyWebview.call)},isQickApp:function(){return void 0!==t&&void 0!==t.quickapp},getPositionInfoById:function(t){var e=document.getElementById(t),n=e.getBoundingClientRect(),r=n.left+e.scrollLeft,i=n.top+e.scrollTop;return{left:r,top:i,width:n.right-r,height:n.bottom-i}}}}).call(this,n(18))},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){};r.prototype.toDebugString,r.prototype.toDebugStringInternal;var i={FieldType:{INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},WireType:{INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},FieldTypeToWireType:function(t){var e=i.FieldType,n=i.WireType;switch(t){case e.INT32:case e.INT64:case e.UINT32:case e.UINT64:case e.SINT32:case e.SINT64:case e.BOOL:case e.ENUM:case e.VHASH64:return n.VARINT;case e.DOUBLE:case e.FIXED64:case e.SFIXED64:case e.FHASH64:return n.FIXED64;case e.STRING:case e.MESSAGE:case e.BYTES:return n.DELIMITED;case e.FLOAT:case e.FIXED32:case e.SFIXED32:return n.FIXED32;case e.INVALID:case e.GROUP:default:return n.INVALID}},INVALID_FIELD_NUMBER:-1,FLOAT32_EPS:1401298464324817e-60,FLOAT32_MIN:11754943508222875e-54,FLOAT32_MAX:34028234663852886e22,FLOAT64_EPS:5e-324,FLOAT64_MIN:22250738585072014e-324,FLOAT64_MAX:17976931348623157e292,TWO_TO_20:1048576,TWO_TO_23:8388608,TWO_TO_31:2147483648,TWO_TO_32:4294967296,TWO_TO_52:4503599627370496,TWO_TO_63:0x8000000000000000,TWO_TO_64:0x10000000000000000,ZERO_HASH:"\0\0\0\0\0\0\0\0"}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l}));var r,i=n(3),o=n.n(i),a=n(4),s=n.n(a),u=n(1),c=n(0);r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0;var l=function(){function t(){o()(this,t)}return s()(t,null,[{key:"set",value:function(t,e,n){"string"==typeof t?"string"==typeof e?(r[t]||(r[t]={}),r[t][e]=n):c.a.error(u.j,"HGlobalVariableManager.set key is not string."):c.a.error(u.j,"HGlobalVariableManager.set moduleName is not string.")}},{key:"get",value:function(t,e){if("string"==typeof t){if("string"==typeof e)return r[t]?r[t][e]:void 0;c.a.error(u.j,"HGlobalVariableManager.get key is not string.")}else c.a.error(u.j,"HGlobalVariableManager.get moduleName is not string.")}}]),t}()}).call(this,n(18))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n(5),i=n(13),o={},a="[ptotobuf utils] ";o.split64Low=0,o.split64High=0,o.splitUint64=function(t){console.log("".concat(a," ").concat("utils"," splitUint64"));var e=t>>>0,n=Math.floor((t-e)/r.a.TWO_TO_32)>>>0;o.split64Low=e,o.split64High=n},o.splitInt64=function(t){var e=t<0,n=(t=Math.abs(t))>>>0,i=Math.floor((t-n)/r.a.TWO_TO_32);i>>>=0,e&&(i=~i>>>0,n=~n>>>0,(n+=1)>4294967295&&(n=0,++i>4294967295&&(i=0))),o.split64Low=n,o.split64High=i},o.splitZigzag64=function(t){console.log("".concat(a," ").concat("utils"," splitZigzag64"));var e=t<0;t=2*Math.abs(t),o.splitUint64(t);var n=o.split64Low,r=o.split64High;e&&(0==n?0==r?(n=4294967295,r=4294967295):(r--,n=4294967295):n--),o.split64Low=n,o.split64High=r},o.splitFloat32=function(t){var e,n,i=t<0?1:0;if(0!==(t=i?-t:t)){if(isNaN(t))return o.split64High=0,void(o.split64Low=2147483647);if(t>r.a.FLOAT32_MAX)return o.split64High=0,void(o.split64Low=(i<<31|2139095040)>>>0);if(t<r.a.FLOAT32_MIN)return n=Math.round(t/Math.pow(2,-149)),o.split64High=0,void(o.split64Low=(i<<31|n)>>>0);e=Math.floor(Math.log(t)/Math.LN2),n=t*Math.pow(2,-e),(n=Math.round(n*r.a.TWO_TO_23))>=16777216&&++e,n&=8388607,o.split64High=0,o.split64Low=(i<<31|e+127<<23|n)>>>0}else 1/t>0?(o.split64High=0,o.split64Low=0):(o.split64High=0,o.split64Low=2147483648)},o.splitFloat64=function(t){var e=t<0?1:0;if(0!==(t=e?-t:t)){if(isNaN(t))return o.split64High=2147483647,void(o.split64Low=4294967295);if(t>r.a.FLOAT64_MAX)return o.split64High=(e<<31|2146435072)>>>0,void(o.split64Low=0);if(t<r.a.FLOAT64_MIN){var n=(s=t/Math.pow(2,-1074))/r.a.TWO_TO_32;return o.split64High=(e<<31|n)>>>0,void(o.split64Low=s>>>0)}var i=t,a=0;if(i>=2)for(;i>=2&&a<1023;)a++,i/=2;else for(;i<1&&a>-1022;)i*=2,a--;n=(s=t*Math.pow(2,-a))*r.a.TWO_TO_20&1048575;var s,u=s*r.a.TWO_TO_52>>>0;o.split64High=(e<<31|a+1023<<20|n)>>>0,o.split64Low=u}else 1/t>0?(o.split64High=0,o.split64Low=0):(o.split64High=2147483648,o.split64Low=0)},o.joinUint64=function(t,e){return e*r.a.TWO_TO_32+(t>>>0)},o.joinInt64=function(t,e){var n=2147483648&e;n&&(e=~e>>>0,0==(t=1+~t>>>0)&&(e=e+1>>>0));var r=o.joinUint64(t,e);return n?-r:r},o.joinFloat32=function(t,e){var n=2*(t>>31)+1,r=t>>>23&255,i=8388607&t;return 255==r?i?NaN:n*(1/0):0==r?n*Math.pow(2,-149)*i:n*Math.pow(2,r-150)*(i+Math.pow(2,23))},o.joinFloat64=function(t,e){var n=2*(e>>31)+1,i=e>>>20&2047,o=r.a.TWO_TO_32*(1048575&e)+t;return 2047==i?o?NaN:n*(1/0):0==i?n*Math.pow(2,-1074)*o:n*Math.pow(2,i-1075)*(o+r.a.TWO_TO_52)},o.DIGITS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],o.ZERO_CHAR_CODE_=48,o.A_CHAR_CODE_=97,o.joinSignedDecimalString=function(t,e){console.log("".concat(a," ").concat("utils"," joinSignedDecimalString"));var n=2147483648&e;n&&(e=~e+(0==(t=1+~t>>>0)?1:0)>>>0);var r=o.joinUnsignedDecimalString(t,e);return n?"-"+r:r},o.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||void 0!==t&&e.constructor===t||e.constructor===Array?new Uint8Array(e):e.constructor===String?Object(i.b)(e):new Uint8Array(0)}}).call(this,n(35).Buffer)},function(t,e,n){var r=n(33),i=n(22);t.exports=function(t,e){var n=i(t,e,"get");return r(t,n)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(39)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l}));var r=null,i={},o=function(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):a(t[e-1])&&(a(t[e-2])?n-=2:n-=1);var r=new Uint8Array(n),i=0;return s(t,(function(t){r[i++]=t})),i!==n?r.subarray(0,i):r},a=function(t){return-1!="=.".indexOf(t)},s=function(t,e){u();var n=0;function i(e){for(;n<t.length;){var i=t.charAt(n++),o=r[i];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(i))throw new Error("Unknown base64 encoding at char: "+i)}return e}for(;;){var o=i(-1),a=i(0),s=i(64),c=i(64);if(64===c&&-1===o)return;e(o<<2|a>>4),64!=s&&(e(a<<4&240|s>>2),64!=c&&e(s<<6&192|c))}},u=function(){if(!r){r={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++){var o=t.concat(e[n].split(""));i[n]=o;for(var a=0;a<o.length;a++){var s=o[a];void 0===r[s]&&(r[s]=a)}}}},c=function(t){if(t.length<=8192)return String.fromCharCode.apply(null,t);for(var e="",n=0;n<t.length;n+=8192){var r=Array.prototype.slice.call(t,n,n+8192);e+=String.fromCharCode.apply(null,r)}return e},l=function(t,e){void 0===e&&(e=0),u();for(var n=i[e],r=new Array(Math.floor(t.length/3)),o=n[64]||"",a=0,s=0;a<t.length-2;a+=3){var c=t[a],l=t[a+1],d=t[a+2],h=n[c>>2],p=n[(3&c)<<4|l>>4],f=n[(15&l)<<2|d>>6],g=n[63&d];r[s++]=""+h+p+f+g}var v=0,m=o;switch(t.length-a){case 2:m=n[(15&(v=t[a+1]))<<2]||o;case 1:var y=t[a],_=n[y>>2],E=n[(3&y)<<4|v>>4];r[s]=""+_+E+m+o}return r.join("")}},function(t,e,n){var r=n(31);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(12).default,i=n(32);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(34),i=n(22);t.exports=function(t,e,n){var o=i(t,e,"set");return r(t,o,n),n},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(19);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(27),i=n(20),o=n(21),a=n(28);t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(29),i=n(20),o=n(21),a=n(30);t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t){t.exports=JSON.parse('{"a":"6.8.0-300"}')},function(t,e,n){t.exports=n(40)},function(t,e,n){var r=n(19);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){return e.get?e.get.call(t):e.value},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";(function(t){var r=n(36),i=n(37),o=n(38);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),i=(t=s(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return B(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){d=!1;break}if(d)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return V(B(e,t.length-n),t,n,r)}function S(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function b(t,e,n,r){return S(t,e,n,r)}function I(t,e,n,r){return V(F(e),t,n,r)}function T(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function w(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=H(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function x(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function $(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return d(null,t)},u.allocUnsafeSlow=function(t){return d(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?w(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),d=0;d<s;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return I(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):x(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):x(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):x(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):x(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return $(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return $(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:B(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(18))},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),a=r[0],s=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?i-1:0,h=n?-1:1,p=t[e+d];for(d+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+d],d+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+d],d+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(e*u-1)*Math.pow(2,i),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=f,a/=256,c-=8);t[n+p-f]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=n(12).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new w(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p={};function f(){}function g(){}function v(){}var m={};l(m,s,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(k([])));_&&_!==n&&o.call(_,s)&&(m=_);var E=v.prototype=f.prototype=Object.create(m);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,a){function s(){return new e((function(n,s){!function n(i,a,s,u){var c=h(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}(i,a,n,s)}))}return n=n?n.then(s,s):s()}}function I(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function k(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return g.prototype=v,l(E,"constructor",v),l(v,"constructor",g),g.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(b.prototype),l(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),l(E,c,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e),n.d(e,"hmsjsb",(function(){return Wt})),n.d(e,"callbackMap",(function(){return Vt})),n.d(e,"eventMap",(function(){return jt})),n.d(e,"hmsbase",(function(){return B})),n.d(e,"HError",(function(){return D})),n.d(e,"HHeader",(function(){return V})),n.d(e,"HParcel",(function(){return rt})),n.d(e,"HBaseAdapter",(function(){return F})),n.d(e,"HJSBAdapter",(function(){return Lt})),n.d(e,"HObject",(function(){return xt})),n.d(e,"HUnknownObject",(function(){return nt})),n.d(e,"HServiceManager",(function(){return Ut})),n.d(e,"HServiceRegistry",(function(){return ot})),n.d(e,"HServiceRegistryInfo",(function(){return it})),n.d(e,"IClassFactory",(function(){return ct})),n.d(e,"HViewHolder",(function(){return ut})),n.d(e,"IXPSFSolution",(function(){return ft})),n.d(e,"XPSFServiceInfo",(function(){return gt})),n.d(e,"MainEntry",(function(){return vt})),n.d(e,"KitRegisterCenter",(function(){return mt})),n.d(e,"JsServiceInfo",(function(){return yt})),n.d(e,"CppServiceInfo",(function(){return _t})),n.d(e,"HAppInfoManager",(function(){return St})),n.d(e,"HPreferencesManager",(function(){return kt})),n.d(e,"HPageStarter",(function(){return Rt})),n.d(e,"HPageInfo",(function(){return Tt})),n.d(e,"HCommonMessenger",(function(){return It})),n.d(e,"HGlobalVariableManager",(function(){return L.a})),n.d(e,"HLogger",(function(){return d.a})),n.d(e,"HTrace",(function(){return Ot})),n.d(e,"ErrorCode",(function(){return p})),n.d(e,"BaseCode",(function(){return f})),n.d(e,"ResolutionResult",(function(){return g})),n.d(e,"AvailableCode",(function(){return v})),n.d(e,"JSBCompat",(function(){return $t})),n.d(e,"PageInfo",(function(){return At}));var r={};n.r(r),n.d(r,"Message",(function(){return W})),n.d(r,"BinaryReader",(function(){return Q})),n.d(r,"BinaryWriter",(function(){return tt}));var i=n(23),o=n.n(i),a=n(6),s=n.n(a),u=n(2),c=n(24),l=n.n(c),d=n(0),h=n(1),p={ARGUMENTS_INVALID:907135e3,INTERNAL_ERROR:907135001,NAMING_INVALID:907135002,CLIENT_API_INVALID:907135003,EXECUTE_TIMEOUT:907135004,NOT_IN_SERVICE:907135005,SESSION_INVALID:907135006,DENY_NETWORK:907135007,GET_SCOPE_ERROR:907135700,SCOPE_LIST_EMPTY:907135701,CERT_FINGERPRINT_EMPTY:907135702,PERMISSION_LIST_EMPTY:907135703,GET_SCOPE_NETWORK_ERROR:907135704,AUTH_INFO_NOT_EXIST:907135705,CERT_FINGERPRINT_ERROR:907135706,PERMISSION_NOT_EXIST:907135707,PERMISSION_NOT_AUTHORIZED:907135708,PERMISSION_EXPIRED:907135709,SCOPE_ILLEGAL_PARAMETER:907135710,SCOPE_INTERNAL_ERROR:907135711,SUBAPP_CHECKER_NOT_EXIST:907135720,SUBAPP_AUTH_ERROR:907135721,KIT_NOT_EXIST:907135900,API_MODULE_NOT_EXIST:1e3,API_CLIENT_SESSION_EXPIRED:1001,CALL_UNASSIGNED_API_ERROR:1002,HMS_CORE_NOT_READY:1201,PARAMETER_INVALID:1210,CALLER_SESSION_INVALID:1211,KIT_NEED_UPDATE:1212,KIT_BREAKER:1213,MEMORY_OVER_LIMIT:1215,NOT_REGISTER_API:1216,AUTH_FAILED:1217,RUNTIME_OTHER:1260,NOT_FOUND_STUB:1303,SESSION_AUTH_FAILED:1304,API_LEVEL_NOT_SUPPORT:907180001,API_LEVEL_NOT_EXIST:907180002,INTERFACE_UPDATE_FAILED:907180003,ADAPTER_UNINITIALIZED:907180004,ADAPTER_DISCONNECT:907180005,ADAPTER_CONNECT_FAILED:907180006,ADAPTER_CONNECT_TIMEOUT:907180007,GET_APPID_FAILED:907180008,GET_SERVICEINFO_FAILED:907180009,GET_BUNDLEINFO_FAILED:907180010,GET_BUNDLENAME_FAILED:907180011,GET_APP_FINGER_PRINT_ERROR:907180012,CALL_SERVICE_FAILED:907180013,NOT_FOUND_SERVICE:907180014,IID_NOT_EXPORTED:907180016,BUNDLENAME_NOT_MATCH:907180017,SERVICE_PROCESS_DIED:907180020,REMOTE_OBJECT_RELEASING:907180021,REMOTE_OBJECT_NOT_EXIST:907180022,INVOKE_UNIMPLEMENTED_METHOD:907180023,METHOD_NOT_EXIST:907180024,NOT_SUPPORTED_PLATFORM:907180025},f={RETURN_PARAM_NULL:-1,PARAM_ERROR:-2,SUCCESS:0,SERVICE_KILLED:1,SERVICE_CONNECT_LOST:2},g={INTERNAL_ERROR:8},v={CANCELED:13,APP_IS_BACKGROUND_OR_LOCKED:28,HMS_IS_SPOOF:29,USER_ALREADY_KNOWS_SERVICE_UNAVAILABLE:30,CURRENT_SHOWING_SERVICE_UNAVAILABLE:31},m=n(3),y=n.n(m),_=n(4),E=n.n(_),S=n(14),b=n.n(S),I=n(15),T=n.n(I),A=n(10),w=n.n(A),k=n(9),C=n.n(k),O=n(17),R=n.n(O),D=function(){function t(e,n){y()(this,t),this.code=e,this.message=n}return E()(t,[{key:"setData",value:function(t){this.data=t}},{key:"setSolution",value:function(t){this.solution=t}}]),t}(),P=n(25);function N(t,e){if("function"==typeof e){Object.defineProperties(e,{hmsClassName:{get:function(){return t}},hmsVersion:{get:function(){return P.a}}});try{Object.defineProperty(e,Symbol.hasInstance,{value:function(t){for(var n=Object.getPrototypeOf(t).constructor;n;){if(n.hmsClassName===e.hmsClassName)return n.hmsVersion===e.hmsVersion;n=Object.getPrototypeOf(n)}return!1}}),Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return t}})}catch(t){d.a.error(h.j,"The device does not support rewriting the instanceof method.")}}}function x(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n];N(r,t[r])}}var L=n(7);function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t){var e=t.apiName,n=t.args,r=t.success,i=t.fail,o=t.complete;return Wt.invoke({apiName:e,args:n,success:r,fail:i,complete:o})}function H(t,e){var n=e.success,r=e.fail,i=e.complete;if("function"!=typeof n&&"function"!=typeof r&&"function"!=typeof i)return t;t.then((function(){"function"==typeof n&&n.apply(void 0,arguments)})).catch((function(){"function"==typeof r&&r.apply(void 0,arguments)})).finally((function(){"function"==typeof i&&i.apply(void 0,arguments)}))}var B={setSPvalue:function(t){var e=t.key,n=t.value,r=t.spname;return M($($({},t),{},{args:{key:e,value:n,spname:r},apiName:"sp.setSPvalue"}))},getSPvalue:function(t){var e=t.key,n=t.spname;return M($($({},t),{},{args:{key:e,spname:n},apiName:"sp.getSPvalue"}))},removeSPvalue:function(t){var e=t.key,n=t.spname;return M($($({},t),{},{args:{key:e,spname:n},apiName:"sp.removeSPvalue"}))},getMetadata:function(t){var e=t.key,n=t.packagename;return M($($({},t),{},{args:{key:e,packagename:n},apiName:"metadata.getvalue"}))},getPackageName:function(t){return u.a.isOHOS()?H(St.getPackageName(),t):M($($({},t),{},{apiName:"package.name"}))},getAppId:function(t){return u.a.isOHOS()?H(St.getAppId(),t):M($($({},t),{},{apiName:"base.getappid"}))},getAaId:function(t){return M($($({},t),{},{apiName:"base.getaaid"}))},getUid:function(t){return M($($({},t),{},{apiName:"base.getUid"}))},getAppVersion:function(t){return M($($({},t),{},{apiName:"base.getAppVersion"}))},getAgcConfig:function(t){var e=t.key;return M($($({},t),{},{args:{key:e},apiName:"base.getAgcConfig"}))},reportEntry:function(t){var e=t.uri,n=t.kitSdkVersion;return M($($({},t),{},{args:{uri:e,kitSdkVersion:n},apiName:"analytics.reportEntry"}))},reportExit:function(t){var e=t.uri,n=t.transactId,r=t.statusCode,i=t.errorCode,o=t.kitSdkVersionName;return M($($({},t),{},{args:{uri:e,transactId:n,statusCode:r,errorCode:i,kitSdkVersionName:o},apiName:"analytics.reportExit"}))},encrypt:function(t){var e=t.encryptWord;return M($($({},t),{},{args:{encryptWord:e},apiName:"security.encrypter"}))},decrypt:function(t){var e=t.encryptWord;return M($($({},t),{},{args:{encryptWord:e},apiName:"security.decrypter"}))},config:function(t){var e=t.subId;return M($($({},t),{},{args:{subId:e},apiName:"config.auth"}))},isJsbKitAvailable:function(t){var e=t.min_api_level;return M($($({},t),{},{args:{min_api_level:e},apiName:"update.availability"}))},upgrade:function(t){return M($($({},t),{},{apiName:"update.upgrade"}))},reload:function(t){return M($($({},t),{},{apiName:"update.reload"}))}},F=function(){function t(){y()(this,t)}return E()(t,[{key:"hGetClassObject",value:function(e,n){throw new Error("The hGetClassObject method is not implemented on the ".concat(t.type," adapter."))}},{key:"transact",value:function(e,n,r){throw new Error("The transact method is not implemented on the ".concat(t.type," adapter."))}},{key:"newStub",value:function(e){throw new Error("The newStub method is not implemented on the ".concat(t.type," adapter."))}}]),t}();s()(F,"type","");var V=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;y()(this,t),this.protolVersion=e,this.appid=void 0,this.packageName=void 0,this.transactId=void 0,this.status=void 0,this.callingUid=void 0,this.subAppId=void 0}return E()(t,[{key:"readMessage",value:function(t){var e=this;t.nextField()&&1e4===t.getFieldNumber()&&t.readMessage(this,(function(t,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.protolVersion=n.readInt32();break;case 2:e.appid=n.readString();break;case 3:e.packageName=n.readString();break;case 4:e.transactId=n.readString();break;case 5:e.status=n.readInt32();break;case 6:e.callingUid=n.readString();break;case 7:e.subAppId=n.readString();break;default:n.skipField()}}))}},{key:"writeMessage",value:function(t){var e=this;t.writeMessage(1e4,this,(function(t,n){n.writeInt32(1,e.protolVersion),n.writeString(2,e.appid),n.writeString(3,e.packageName),n.writeString(4,e.transactId),n.writeInt32(5,e.status),n.writeString(6,e.callingUid),n.writeString(7,e.subAppId)}))}}]),t}(),j=n(12),q=n.n(j),G=n(13),W=function(){};W.GENERATE_TO_OBJECT=!0,W.GENERATE_FROM_OBJECT=!1,W.GENERATE_TO_STRING=!0,W.ASSUME_LOCAL_ARRAYS=!1,W.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,W.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,W.prototype.array,W.prototype.wrappers_,W.prototype.extensionObject_,W.prototype.pivot_,W.prototype.messageId_,W.prototype.convertedPrimitiveFields_,W.prototype.repeatedFields,W.prototype.arrayIndexOffset_,W.hiddenES6Property_=E()((function t(){y()(this,t)})),W.EMPTY_LIST_SENTINEL_=[],W.bytesAsU8=function(t){return null==t||t instanceof Uint8Array?t:"string"==typeof t?Object(G.b)(t):null},W.getFieldProto3=W.getFieldWithDefault,W.GENERATE_TO_STRING,W.messageSetExtensions={},W.messageSetExtensionsBinary={};var Y=n(5),K=n(8),J=function(t,e,n){this.bytes_=null,this.start_=0,this.end_=0,this.cursor_=0,this.error_=!1,t&&this.setBlock(t,e,n)};J.instanceCache_=[];var z="[ptotobuf decoder] ";J.alloc=function(t,e,n){if(J.instanceCache_.length){var r=J.instanceCache_.pop();return t&&r.setBlock(t,e,n),r}return new J(t,e,n)},J.prototype.getBuffer=function(){return console.log("".concat(z," ").concat("BinaryDecoder"," getBuffer")),this.bytes_},J.prototype.setBlock=function(t,e,n){this.bytes_=K.a.byteSourceToUint8Array(t),this.start_=void 0!==e?e:0,this.end_=void 0!==n?this.start_+n:this.bytes_.length,this.cursor_=this.start_},J.prototype.getEnd=function(){return this.end_},J.prototype.setEnd=function(t){this.end_=t},J.prototype.getCursor=function(){return this.cursor_},J.prototype.setCursor=function(t){this.cursor_=t},J.prototype.advance=function(t){console.log("".concat(z," ").concat("BinaryDecoder"," advance")),this.cursor_+=t},J.prototype.atEnd=function(){return this.cursor_==this.end_},J.prototype.getError=function(){return this.error_||this.cursor_<0||this.cursor_>this.end_},J.prototype.readSplitVarint64=function(t){for(var e=128,n=0,r=0,i=0;i<4&&e>=128;i++)n|=(127&(e=this.bytes_[this.cursor_++]))<<7*i;if(e>=128&&(n|=(127&(e=this.bytes_[this.cursor_++]))<<28,r|=(127&e)>>4),e>=128)for(i=0;i<5&&e>=128;i++)r|=(127&(e=this.bytes_[this.cursor_++]))<<7*i+3;if(e<128)return t(n>>>0,r>>>0);this.error_=!0},J.prototype.skipVarint=function(){for(console.log("".concat(z," ").concat("BinaryDecoder"," skipVarint"));128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},J.prototype.readUnsignedVarint32=function(){var t,e=this.bytes_,n=127&(t=e[this.cursor_+0]);return t<128?(this.cursor_+=1,n):(n|=(127&(t=e[this.cursor_+1]))<<7,t<128?(this.cursor_+=2,n):(n|=(127&(t=e[this.cursor_+2]))<<14,t<128?(this.cursor_+=3,n):(n|=(127&(t=e[this.cursor_+3]))<<21,t<128?(this.cursor_+=4,n):(n|=(15&(t=e[this.cursor_+4]))<<28,t<128?(this.cursor_+=5,n>>>0):(this.cursor_+=5,e[this.cursor_++]>=128&&e[this.cursor_++]>=128&&e[this.cursor_++]>=128&&e[this.cursor_++]>=128&&e[this.cursor_++],n)))))},J.prototype.readSignedVarint32=J.prototype.readUnsignedVarint32,J.prototype.readSignedVarint64=function(){return this.readSplitVarint64(K.a.joinInt64)},J.prototype.readUint32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],r=this.bytes_[this.cursor_+3];return this.cursor_+=4,(t|e<<8|n<<16|r<<24)>>>0},J.prototype.readFloat=function(){var t=this.readUint32();return K.a.joinFloat32(t,0)},J.prototype.readDouble=function(){var t=this.readUint32(),e=this.readUint32();return K.a.joinFloat64(t,e)},J.prototype.readBool=function(){return console.log("".concat(z," ").concat("BinaryDecoder"," readBool")),!!this.bytes_[this.cursor_++]},J.prototype.readString=function(t){for(var e=this.bytes_,n=this.cursor_,r=n+t,i=[],o="";n<r;){var a=e[n++];if(a<128)i.push(a);else{if(a<192)continue;if(a<224){var s=e[n++];i.push((31&a)<<6|63&s)}else if(a<240){s=e[n++];var u=e[n++];i.push((15&a)<<12|(63&s)<<6|63&u)}else if(a<248){var c=(7&a)<<18|(63&(s=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++],l=56320+(1023&(c-=65536)),d=55296+(c>>10&1023);i.push(d,l)}}i.length>=8192&&(o+=String.fromCharCode.apply(null,i),i.length=0)}return o+=Object(G.a)(i),this.cursor_=n,o},J.prototype.readBytes=function(t){if(console.log("".concat(z," ").concat("BinaryDecoder"," readBytes")),t<0||this.cursor_+t>this.bytes_.length)return this.error_=!0,new Uint8Array(0);var e=this.bytes_.subarray(this.cursor_,this.cursor_+t);return this.cursor_+=t,e};var X="[ptotobuf reader] ",Q=function(t,e,n){this.decoder_=J.alloc(t,e,n),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=Y.a.INVALID_FIELD_NUMBER,this.nextWireType_=Y.a.WireType.INVALID,this.error_=!1,this.readCallbacks_=null};Q.instanceCache_=[],Q.prototype.alloc=Q.alloc,Q.prototype.getBuffer=function(){return console.log("".concat(X," ").concat("BinaryReader"," getBuffer")),this.decoder_.getBuffer()},Q.prototype.getFieldNumber=function(){return this.nextField_},Q.prototype.isEndGroup=function(){return this.nextWireType_==Y.a.WireType.END_GROUP},Q.prototype.getError=function(){return this.error_||this.decoder_.getError()},Q.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return!1;this.fieldCursor_=this.decoder_.getCursor();var t=this.decoder_.readUnsignedVarint32(),e=t>>>3,n=7&t;return n!=Y.a.WireType.VARINT&&n!=Y.a.WireType.FIXED32&&n!=Y.a.WireType.FIXED64&&n!=Y.a.WireType.DELIMITED&&n!=Y.a.WireType.START_GROUP&&n!=Y.a.WireType.END_GROUP?(this.error_=!0,!1):(this.nextField_=e,this.nextWireType_=n,!0)},Q.prototype.skipVarintField=function(){console.log("".concat(X," ").concat("BinaryReader"," skipVarintField")),this.nextWireType_==Y.a.WireType.VARINT?this.decoder_.skipVarint():this.skipField()},Q.prototype.skipDelimitedField=function(){if(console.log("".concat(X," ").concat("BinaryReader"," skipDelimitedField")),this.nextWireType_==Y.a.WireType.DELIMITED){var t=this.decoder_.readUnsignedVarint32();this.decoder_.advance(t)}else this.skipField()},Q.prototype.skipFixed32Field=function(){console.log("".concat(X," ").concat("BinaryReader"," skipFixed32Field")),this.nextWireType_==Y.a.WireType.FIXED32?this.decoder_.advance(4):this.skipField()},Q.prototype.skipFixed64Field=function(){console.log("".concat(X," ").concat("BinaryReader"," skipFixed64Field")),this.nextWireType_==Y.a.WireType.FIXED64?this.decoder_.advance(8):this.skipField()},Q.prototype.skipGroup=function(){console.log("".concat(X," ").concat("BinaryReader"," skipGroup"));for(var t=this.nextField_;;){if(!this.nextField())return void(this.error_=!0);if(this.nextWireType_==Y.a.WireType.END_GROUP)return this.nextField_!=t?void(this.error_=!0):void 0;this.skipField()}},Q.prototype.skipField=function(){switch(console.log("".concat(X," ").concat("BinaryReader"," skipField")),this.nextWireType_){case Y.a.WireType.VARINT:this.skipVarintField();break;case Y.a.WireType.FIXED64:this.skipFixed64Field();break;case Y.a.WireType.DELIMITED:this.skipDelimitedField();break;case Y.a.WireType.FIXED32:this.skipFixed32Field();break;case Y.a.WireType.START_GROUP:this.skipGroup()}},Q.prototype.readMessage=function(t,e){var n=this.decoder_.getEnd(),r=this.decoder_.readUnsignedVarint32(),i=this.decoder_.getCursor()+r;this.decoder_.setEnd(i),e(t,this),this.decoder_.setCursor(i),this.decoder_.setEnd(n)},Q.prototype.readInt32=function(){return this.decoder_.readSignedVarint32()},Q.prototype.readInt64=function(){return this.decoder_.readSignedVarint64()},Q.prototype.readFloat=function(){return this.decoder_.readFloat()},Q.prototype.readDouble=function(){return this.decoder_.readDouble()},Q.prototype.readBool=function(){return!!this.decoder_.readUnsignedVarint32()},Q.prototype.readString=function(){var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(t)},Q.prototype.readBytes=function(){console.log("".concat(X," ").concat("BinaryReader"," readBytes"));var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(t)};var Z=function(){this.buffer_=[]};Z.prototype.length=function(){return this.buffer_.length},Z.prototype.end=function(){var t=this.buffer_;return this.buffer_=[],t},Z.prototype.writeSplitVarint64=function(t,e){for(;e>0||t>127;)this.buffer_.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.buffer_.push(t)},Z.prototype.writeUnsignedVarint32=function(t){for(;t>127;)this.buffer_.push(127&t|128),t>>>=7;this.buffer_.push(t)},Z.prototype.writeSignedVarint32=function(t){if(t>=0)this.writeUnsignedVarint32(t);else{for(var e=0;e<9;e++)this.buffer_.push(127&t|128),t>>=7;this.buffer_.push(1)}},Z.prototype.writeSignedVarint64=function(t){K.a.splitInt64(t),this.writeSplitVarint64(K.a.split64Low,K.a.split64High)},Z.prototype.writeUint32=function(t){this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},Z.prototype.writeFloat=function(t){K.a.splitFloat32(t),this.writeUint32(K.a.split64Low)},Z.prototype.writeDouble=function(t){K.a.splitFloat64(t),this.writeUint32(K.a.split64Low),this.writeUint32(K.a.split64High)},Z.prototype.writeBool=function(t){this.buffer_.push(t?1:0)},Z.prototype.writeString=function(t){for(var e=this.buffer_.length,n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<128)this.buffer_.push(r);else if(r<2048)this.buffer_.push(r>>6|192),this.buffer_.push(63&r|128);else if(r<65536)if(r>=55296&&r<=56319&&n+1<t.length){var i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(r=1024*(r-55296)+i-56320+65536,this.buffer_.push(r>>18|240),this.buffer_.push(r>>12&63|128),this.buffer_.push(r>>6&63|128),this.buffer_.push(63&r|128),n++)}else this.buffer_.push(r>>12|224),this.buffer_.push(r>>6&63|128),this.buffer_.push(63&r|128)}return this.buffer_.length-e};var tt=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new Z,this.bookmarks_=[]};tt.prototype.appendUint8Array_=function(t){console.log("".concat("[ptotobuf writer] "," ").concat("BinaryWriter"," appendUint8Array_"));var e=this.encoder_.end();this.blocks_.push(e),this.blocks_.push(t),this.totalLength_+=e.length+t.length},tt.prototype.beginDelimited_=function(t){this.writeFieldHeader_(t,Y.a.WireType.DELIMITED);var e=this.encoder_.end();return this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},tt.prototype.endDelimited_=function(t){for(var e=t.pop(),n=this.totalLength_+this.encoder_.length()-e;n>127;)t.push(127&n|128),n>>>=7,this.totalLength_++;t.push(n),this.totalLength_++},tt.prototype.getResultBuffer=function(){for(var t=new Uint8Array(this.totalLength_+this.encoder_.length()),e=this.blocks_,n=e.length,r=0,i=0;i<n;i++){var o=e[i];t.set(o,r),r+=o.length}var a=this.encoder_.end();return t.set(a,r),r+=a.length,this.blocks_=[t],t},tt.prototype.getResultBase64String=function(t){return Object(G.c)(this.getResultBuffer(),t)},tt.prototype.writeFieldHeader_=function(t,e){var n=8*t+e;this.encoder_.writeUnsignedVarint32(n)},tt.prototype.writeSignedVarint32_=function(t,e){null!=e&&(this.writeFieldHeader_(t,Y.a.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},tt.prototype.writeSignedVarint64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,Y.a.WireType.VARINT),this.encoder_.writeSignedVarint64(e))},tt.prototype.writeInt32=function(t,e){null!=e&&this.writeSignedVarint32_(t,e)},tt.prototype.writeInt64=function(t,e){null!=e&&this.writeSignedVarint64_(t,e)},tt.prototype.writeFloat=function(t,e){null!=e&&(this.writeFieldHeader_(t,Y.a.WireType.FIXED32),this.encoder_.writeFloat(e))},tt.prototype.writeDouble=function(t,e){null!=e&&(this.writeFieldHeader_(t,Y.a.WireType.FIXED64),this.encoder_.writeDouble(e))},tt.prototype.writeBool=function(t,e){null!=e&&(this.writeFieldHeader_(t,Y.a.WireType.VARINT),this.encoder_.writeBool(e))},tt.prototype.writeString=function(t,e){if(null!=e){var n=this.beginDelimited_(t);this.encoder_.writeString(e),this.endDelimited_(n)}},tt.prototype.writeBytes=function(t,e){if(console.log("".concat("[ptotobuf writer] "," ").concat("BinaryWriter"," writeBytes")),null!=e){var n=K.a.byteSourceToUint8Array(e);this.writeFieldHeader_(t,Y.a.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(n.length),this.appendUint8Array_(n)}},tt.prototype.writeMessage=function(t,e,n){if(null!=e){var r=this.beginDelimited_(t);n(e,this),this.endDelimited_(r)}},tt.prototype.writeRepeatedInt32=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeSignedVarint32_(t,e[n])},tt.prototype.writeRepeatedInt64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeSignedVarint64_(t,e[n])},tt.prototype.writeRepeatedFloat=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeFloat(t,e[n])},tt.prototype.writeRepeatedDouble=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeDouble(t,e[n])},tt.prototype.writeRepeatedBool=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeBool(t,e[n])},tt.prototype.writeRepeatedString=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeString(t,e[n])};var et=r,nt=E()((function t(e){y()(this,t),this.mId=e})),rt=function(){function t(){y()(this,t),this.mAdapter=void 0,this.mWriter=new et.BinaryWriter,this.mWriteHObjectIds=[],this.mWriteHObjects=[],this.mWriteHObjectIndex=0}return E()(t,[{key:"getHObjectsNum",value:function(){return this.mWriteHObjectIds.length}},{key:"getHObjectIds",value:function(){return this.mWriteHObjectIds}},{key:"setHObjectIds",value:function(t){this.mWriteHObjectIds=t}},{key:"toBase64",value:function(){return this.mWriter.getResultBase64String()}},{key:"fromBase64",value:function(t){var e=et.Message.bytesAsU8(t);return this.mReader=new et.BinaryReader(e,0,e.length),this}},{key:"getWriterBuffer",value:function(){return this.mWriter.getResultBuffer()}},{key:"setWriterBuffer",value:function(t){this.mWriter=new et.BinaryWriter;var e=new Uint8Array(t);return this.mWriter.appendUint8Array_(e),this}},{key:"getReaderBuffer",value:function(){return this.mReader.getBuffer()}},{key:"setReaderBuffer",value:function(t){var e=new Uint8Array(t);return this.mReader=new et.BinaryReader(e,0,e.length),this}},{key:"nextField",value:function(){return this.mReader.nextField()}},{key:"skipField",value:function(){this.mReader.skipField()}},{key:"isEndGroup",value:function(){return this.mReader.isEndGroup()}},{key:"getFieldNumber",value:function(){return this.mReader.getFieldNumber()}},{key:"readHeader",value:function(){var t=new V;return t.readMessage(this.mReader),t}},{key:"readHParcelable",value:function(e){var n=this;this.mReader.readMessage(this,(function(r,i){var o=new t;o.mReader=i,o.mAdapter=n.mAdapter,e(o)}))}},{key:"readString",value:function(){return this.mReader.readString()}},{key:"readBytes",value:function(){return this.mReader.readBytes()}},{key:"readBool",value:function(){return this.mReader.readBool()}},{key:"readInt",value:function(){return this.mReader.readInt32()}},{key:"readInt64",value:function(){var t=this.mReader.readInt64();return(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&d.a.warn(h.j,"readInt64: longValue(".concat(t,') not within the safe range, it will be distorted.         You are advised to use "string" instead.')),t}},{key:"readFloat",value:function(){return this.mReader.readFloat()}},{key:"readDouble",value:function(){return this.mReader.readDouble()}},{key:"readHObject",value:function(){var t=new xt;return t.mId=this.mReader.readString(),t.mAdapter=this.mAdapter,t}},{key:"readHUnknownObject",value:function(){var t=this.mReader.readString();return new nt(t)}},{key:"writeHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new V;"function"==typeof t.writeMessage?t.writeMessage(this.mWriter):(d.a.warn(h.j,"writeHeader: params is not HHeader, write default HHeader."),(new V).writeMessage(this.mWriter))}},{key:"writeAny",value:function(t,e,n){if(Array.isArray(e))this.writeRepeatAny(t,e,n);else switch(n){case"boolean":this.writeBool(t,e);break;case"string":this.writeString(t,e);break;case"int":this.writeInt(t,e);break;case"long":this.writeInt64(t,e);break;case"float":this.writeFloat(t,e);break;case"double":this.writeDouble(t,e);break;case"hparcelable":this.writeHParcelable(t,e);break;case"hobject":this.writeHObject(t,e);break;case"hunknownobject":this.writeHUnknownObject(t,e);break;case"bytes":this.writeBytes(t,e);break;default:d.a.warn(h.j,"writeAny: is not supported type: ".concat(n))}}},{key:"writeBool",value:function(t,e){this.mWriter.writeBool(t,e)}},{key:"writeFloat",value:function(t,e){this.mWriter.writeFloat(t,this.anyTypeToNumber(e,!0))}},{key:"writeDouble",value:function(t,e){this.mWriter.writeDouble(t,this.anyTypeToNumber(e,!0))}},{key:"writeInt",value:function(t,e){this.mWriter.writeInt32(t,this.anyTypeToNumber(e))}},{key:"writeInt64",value:function(t,e){var n=this.anyTypeToNumber(e);isNaN(n)?d.a.warn(h.j,"writeInt64: longValue(".concat(q()(e),") not is number")):(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)&&d.a.warn(h.j,"writeInt64: longValue(".concat(e,') not within the safe range, it will be distorted.         You are advised to use "string" instead.')),this.mWriter.writeInt64(t,n)}},{key:"writeString",value:function(t,e){this.mWriter.writeString(t,this.anyTypeToString(e))}},{key:"writeBytes",value:function(t,e){e instanceof Uint8Array?this.mWriter.writeBytes(t,e):e instanceof Int8Array&&this.mWriter.writeBytes(t,new Uint8Array(e))}},{key:"writeRepeatAny",value:function(t,e,n){if(Array.isArray(e))switch(n){case"boolean":this.writeRepeatBool(t,e);break;case"string":this.writeRepeatString(t,e);break;case"int":this.writeRepeatInt32(t,e);break;case"long":this.writeRepeatInt64(t,e);break;case"float":this.writeRepeatFloat(t,e);break;case"double":this.writeRepeatDouble(t,e);break;case"hparcelable":this.writeRepeatHParcelable(t,e);break;default:d.a.warn(h.j,"writeRepeatAny: is not supported type: ".concat(n))}else d.a.debug(h.j,"writeRepeatAny: repeatedValue is not array! is ".concat(e))}},{key:"writeRepeatBool",value:function(t,e){Array.isArray(e)?this.mWriter.writeRepeatedBool(t,e):d.a.warn(h.j,"writeRepeatBool: skip! Because repeatedValue is not array! is ".concat(e))}},{key:"writeRepeatFloat",value:function(t,e){Array.isArray(e)?this.mWriter.writeRepeatedFloat(t,e):d.a.warn(h.j,"writeRepeatFloat: skip! Because repeatedValue is not array! is ".concat(e))}},{key:"writeRepeatDouble",value:function(t,e){Array.isArray(e)?this.mWriter.writeRepeatedDouble(t,e):d.a.warn(h.j,"writeRepeatDouble: skip! Because repeatedValue is not array! is ".concat(e))}},{key:"writeRepeatInt32",value:function(t,e){Array.isArray(e)?this.mWriter.writeRepeatedInt32(t,e):d.a.warn(h.j,"writeRepeatInt32: skip! Because repeatedValue is not array! is ".concat(e))}},{key:"writeRepeatInt64",value:function(t,e){if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=e[n];(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&d.a.warn(h.j,"writeRepeatInt64: repeatedValue[".concat(n,"](").concat(r,') not within the safe range,           it will be distorted. You are advised to use "string" instead.'))}this.mWriter.writeRepeatedInt64(t,e)}else d.a.warn(h.j,"writeRepeatInt64: skip! Because repeatedValue is not array! is ".concat(e))}},{key:"writeRepeatString",value:function(t,e){Array.isArray(e)?this.mWriter.writeRepeatedString(t,e):d.a.warn(h.j,"writeRepeatString: skip! Because repeatedValue is not array! is ".concat(e))}},{key:"writeHParcelable",value:function(t,e){var n=this;e&&"function"==typeof e.writeToParcel?this.mWriter.writeMessage(t,this,(function(){e.writeToParcel(n)})):d.a.debug(h.j,"writeHParcelable params parcelable error")}},{key:"writeRepeatHParcelable",value:function(t,e){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];this.writeHParcelable(t,r)}else d.a.warn(h.j,"writeRepeatHParcelable: skip! Because repeatedValue is not array! is ".concat(e))}},{key:"writeHObject",value:function(t,e){void 0!==e?e.mId?(this.writeString(t,e.mId),this.mWriteHObjects[this.mWriteHObjectIndex]=e,this.mWriteHObjectIds[this.mWriteHObjectIndex++]=e.mId):d.a.warn(h.j,"writeHObject: skip! Because hObject is not HObject! No mId! "):d.a.warn(h.j,"writeHObject: skip! Because hObject is undefined!")}},{key:"writeHUnknownObject",value:function(t,e){void 0!==e?this.writeString(t,e.mId):d.a.warn(h.j,"writeHUnknownObject: skip! Because hUnknownObject is undefined!")}},{key:"anyTypeToNumber",value:function(t,e){switch(q()(t)){case"number":return t;case"boolean":return t?1:0;case"string":case"bigint":return e?parseFloat(t):parseInt(t);default:return NaN}}},{key:"anyTypeToString",value:function(t){switch(q()(t)){case"string":return t;case"object":return"[Object]";case"function":return"[Function]";case"symbol":return"[Symbol]";case"undefined":return"";default:return"".concat(t)}}}]),t}(),it=E()((function t(e,n,r,i,o){y()(this,t),this.mSId=e,this.mProgId=n,this.mPath=r,this.mTrigger=i,this.mProc=o,this.mApiLevel=void 0})),ot=function(){function t(){y()(this,t),this.mProgInfos=new Map}return E()(t,[{key:"initPolicy",value:function(){d.a.debug(h.j,"init policy")}},{key:"addProgInfos",value:function(t,e,n,r,i){var o=new it(t,e,n,r,i);this.mProgInfos.set(e,o)}},{key:"findInfoByProgId",value:function(t){return this.mProgInfos.get(t)}},{key:"findInfo",value:function(t,e,n){var r=this.findInfoByProgId(t);if(r)return r;var i=void 0,o=L.a.get("pafFramework","xpsfJsPafRegistryCenter");if(void 0!==o&&"function"==typeof o.findServiceInfo){var a=o.findServiceInfo(t);void 0!==a&&(i=!0===a.isSupportBinding?L.a.get("pafFramework","bindingJsTrigger"):L.a.get("pafFramework","xpsfJsTrigger"))}d.a.debug(h.j,"pafTrigger = ".concat(i));var s=L.a.get("hmscoreFramework","xpsfJsTrigger");d.a.debug(h.j,"defaultTrigger = ".concat(s));var u=new it;return u.mSId=e,u.mProgId=t,u.mApiLevel=n,u.mTrigger=i||s||"jsb",u}}]),t}();function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}s()(ot,"defaultTrigger",L.a.get("hmscoreFramework","xpsfJsTrigger")||"jsb");var ut=function(){function t(){y()(this,t)}return E()(t,null,[{key:"createView",value:function(e,n){var r=this;return new Promise((function(i,o){if(e)if("string"==typeof e)if(n){if("string"==typeof n.mId)n=n.mId;else if("string"!=typeof n)return void o({errCode:-2,errMsg:"objId is not string or HObject"});var a=document.getElementById(e);if(a){var s=st(st({},t.initalPropsOf(a)),{},{objId:n,containerId:e});d.a.debug(h.j,"view props:",s),Wt.createView({apiName:"createView",args:s,containerId:e,success:function(t){var e=new xt;e.mId=t.data.id,e.mAdapter=r,i(e)},fail:o})}else o({errCode:-2,errMsg:"Cannot find view with id '".concat(e,"'")})}else o({errCode:-2,errMsg:"objId is null"});else o({errCode:-2,errMsg:"containerId is not string"});else o({errCode:-2,errMsg:"containerId is null"})}))}},{key:"initalPropsOf",value:function(t){var e=t.getBoundingClientRect(),n=window.getComputedStyle(t,null);return{x:e.x,y:e.y,width:parseInt(n.getPropertyValue("width"),10),height:parseInt(n.getPropertyValue("height"),10)}}}]),t}(),ct=E()((function t(){y()(this,t)}));ct.asInterface=function(t){return new ct.Proxy(t)},ct.Proxy=function(){function t(e){y()(this,t),this.mRemoteObj=e}return E()(t,[{key:"createInstance",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new V;return new Promise((function(r){var i=new rt;i.writeHeader(n),i.writeString(1,t),e.mRemoteObj.mAdapter.transact(e.mRemoteObj,1,i).then((function(t){for(var e,n=t.readHeader();t.nextField()&&!t.isEndGroup();)1===t.getFieldNumber()?e=t.readHObject():t.skipField();r(e,n)}))}))}}]),t}(),ct.IID_IClassFactory="IID_IClassFactory";var lt=n(16),dt=n.n(lt),ht=n(11),pt=n.n(ht),ft=function(){function t(){y()(this,t),this.header=null,this.startDefaultSolution=null}return E()(t,[{key:"onTransact",value:function(e,n,r){var i=this;return new Promise((function(o,a){try{if(e===t.CODE_START_DEFAULT_SOLUTION){var s=0;for(i.header=n.readHeader();n.nextField()&&!n.isEndGroup();)1===n.getFieldNumber()?s=n.readInt():n.skipField();return void i.callMethod(i.startDefaultSolution,"int",r,o,s)}var u="IXPSFSolution ApiLevel is not match with the service's: "+"there is no function for code = ".concat(e);return d.a.error("HMSCore HIDL_Js",u),void a(new D(p.API_LEVEL_NOT_SUPPORT,u))}catch(t){d.a.error("HMSCore HIDL_Js","IXPSFSolution onTransact code = ".concat(e,", ").concat(t.message)),a(t)}}))}},{key:"doCallBack",value:function(t,e,n,r){n&&(t.writeHeader(),t.writeAny(1,n,r)),e(t)}},{key:"callMethod",value:function(t,e,n,r){var i=this;if("function"==typeof t)if("function"==typeof r){for(var o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];var u=t.apply(void 0,a);u instanceof Promise?u.then((function(t){d.a.debug("HMSCore HIDL_Js","callMethod return Promise. asynReslut = ".concat(t)),i.doCallBack(n,r,t,e)})):this.doCallBack(n,r,u,e)}else d.a.debug("HMSCore HIDL_Js","callback is not a function. callback = ".concat(r));else d.a.debug("HMSCore HIDL_Js","method is not a function. method = ".concat(t))}}],[{key:"asInterface",value:function(e){return new t.Proxy(e)}}]),t}();s()(ft,"API_LELVEL",1),s()(ft,"CODE_START_DEFAULT_SOLUTION",1),s()(ft,"Proxy",function(){function t(e){y()(this,t),this.mRemoteObj=e}var e;return E()(t,[{key:"startDefaultSolution",value:(e=dt()(pt.a.mark((function t(e){var n,r,i,o,a;return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d.a.debug("HMSCore HIDL_Js","IXPSFSolution Proxy startDefaultSolution."),n=new rt,t.next=5,this.mRemoteObj.mAdapter.createHeader(this.mRemoteObj);case 5:return r=t.sent,n.writeHeader(r),n.writeInt(1,e),t.next=10,this.mRemoteObj.mAdapter.transact(this.mRemoteObj,ft.CODE_START_DEFAULT_SOLUTION,n);case 10:i=t.sent,d.a.debug("HMSCore HIDL_Js","IXPSFSolution Proxy startDefaultSolution result coming..."),i.readHeader(),o=0;case 14:if(!i.nextField()){t.next=27;break}if(!i.isEndGroup()){t.next=17;break}return t.abrupt("break",27);case 17:a=i.getFieldNumber(),t.t0=a,t.next=1===t.t0?21:23;break;case 21:return o=i.readInt(),t.abrupt("break",25);case 23:return i.skipField(),t.abrupt("break",25);case 25:t.next=14;break;case 27:return t.abrupt("return",o);case 30:throw t.prev=30,t.t1=t.catch(0),d.a.error("HMSCore HIDL_Js","IXPSFSolution Proxy startDefaultSolution, ".concat(t.t1.message)),t.t1;case 34:case"end":return t.stop()}}),t,this,[[0,30]])}))),function(t){return e.apply(this,arguments)})}]),t}());var gt=function(){function t(){y()(this,t),s()(this,"mIidPermissions",new Map),s()(this,"mApiPermissions",new Map),s()(this,"mDisableAuthObjs",new Set),s()(this,"mIsIidExport",new Map)}return E()(t,[{key:"registerPermission",value:function(t,e){this.mIidPermissions.set(t,e)}},{key:"registerApiPermission",value:function(t,e,n){var r;this.mApiPermissions.has(t)?null===(r=this.mApiPermissions.get(t))||void 0===r||r.set(e,n):this.mApiPermissions.set(t,new Map([[e,n]]))}},{key:"disableAuth",value:function(t){this.mDisableAuthObjs.add(t)}},{key:"registerIsServiceIidExport",value:function(t,e){this.mIsIidExport.set(t,e)}},{key:"getPermission",value:function(t){return this.mIidPermissions.get(t)}},{key:"getApiPermissions",value:function(t){return this.mApiPermissions.get(t)}},{key:"isAuthDisabled",value:function(t){return this.mDisableAuthObjs.has(t)}},{key:"getIsServiceIidExport",value:function(t){return this.mIsIidExport.get(t)}}]),t}();s()(gt,"JS_SERVICE_TYPE",1),s()(gt,"CPP_SERVICE_TYPE",2);var vt=E()((function t(){y()(this,t)})),mt=function(){function t(){y()(this,t)}return E()(t,null,[{key:"registerServiceInfo",value:function(t){var e=L.a.get("hmscoreFramework","registerCenter");t.initPermissions?t.initPermissions():d.a.debug(h.j,"Registered service initPermissions undefined"),t.initIsServiceIidExport?t.initIsServiceIidExport():d.a.debug(h.j,"Registered service initIsServiceIidExport undefined"),e.registerServiceInfo(t)}}]),t}();var yt=function(t){b()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T()(this,n)}}(n);function n(){return y()(this,n),e.apply(this,arguments)}return E()(n,[{key:"getType",value:function(){return gt.JS_SERVICE_TYPE}}]),n}(gt);var _t=function(t){b()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T()(this,n)}}(n);function n(){return y()(this,n),e.apply(this,arguments)}return E()(n,[{key:"getType",value:function(){return gt.CPP_SERVICE_TYPE}}]),n}(gt);function Et(){if(u.a.isOHOS()){var t=L.a.get("hmscoreFramework","xpsfJsTrigger");return Ut.mSupprotAdapters[t]||Ut.init(),Ut.mSupprotAdapters[t]().getAppInfoManager()}}x({HError:D,HHeader:V,HBaseAdapter:F,HJSBAdapter:Lt,HObject:xt,HUnknownObject:nt,HParcel:rt,HServiceRegistry:ot,HServiceRegistryInfo:it,HViewHolder:ut,IXPSFSolution:ft,IClassFactory:ct});var St=function(){function t(){y()(this,t)}return E()(t,null,[{key:"getAppId",value:function(){var t=Et();return t?t.getAppId():new Promise((function(t,e){B.getAppId().then((function(n){var r=n.errCode,i=n.errMsg,o=n.data;0===r?t(o):e(new D(r,i))})).catch(e)}))}},{key:"getProjectId",value:function(){var t=Et();return t?t.getProjectId():new Promise((function(t,e){e(new D(p.NOT_SUPPORTED_PLATFORM,"The HAppInfoManager.getProjectId method is not supported by the current platform."))}))}},{key:"getPackageName",value:function(){var t=Et();return t?t.getPackageName():new Promise((function(t,e){B.getPackageName().then((function(n){var r=n.errCode,i=n.errMsg,o=n.data;0===r?t(o):e(new D(r,i))})).catch(e)}))}}]),t}();function bt(){if(u.a.isOHOS()){var t=L.a.get("hmscoreFramework","xpsfJsTrigger");return Ut.mSupprotAdapters[t]||Ut.init(),Ut.mSupprotAdapters[t]().getCommonMessenger()}return new F}var It=function(){function t(){y()(this,t)}return E()(t,null,[{key:"on",value:function(t,e){u.a.isOHOS()?bt().on(t,e):d.a.debug(h.j,"The HCommonMessenger is not supported by the current platform.")}},{key:"off",value:function(t){u.a.isOHOS()?bt().off(t):d.a.debug(h.j,"The HCommonMessenger is not supported by the current platform.")}}]),t}(),Tt=function(){function t(){y()(this,t),s()(this,"packageName",void 0),s()(this,"pageName",void 0),s()(this,"action",void 0),s()(this,"extra",void 0)}var e;return E()(t,[{key:"writeToParcel",value:function(t){try{t.writeString(1,this.packageName),t.writeString(2,this.pageName),t.writeString(3,this.action),t.writeString(4,this.extra)}catch(t){throw d.a.error("HMSCore HIDL_Js","HPageInfo writeToParcel ".concat(t.message)),t}}},{key:"registerHObject",value:(e=dt()(pt.a.mark((function t(e){return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.a.debug("HMSCore HIDL_Js","registerHObject ".concat(e));case 1:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})}],[{key:"creatorFromHParcel",value:function(e){try{var n=new t,r="",i="",o="",a="";return e.readHParcelable((function(t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r=t.readString();break;case 2:i=t.readString();break;case 3:o=t.readString();break;case 4:a=t.readString();break;default:t.skipField()}})),n.packageName=r,n.pageName=i,n.action=o,n.extra=a,n}catch(t){throw d.a.error("HMSCore HIDL_Js","HPageInfo creatorFromHParcel ".concat(t.message)),t}}}]),t}(),At=Tt;var wt=new WeakMap,kt=function(){function t(e){y()(this,t),function(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}(this,wt,{writable:!0,value:void 0});var n=function(){if(u.a.isOHOS()){var t=L.a.get("hmscoreFramework","xpsfJsTrigger");return Ut.mSupprotAdapters[t]||Ut.init(),Ut.mSupprotAdapters[t]().getPreferencesManager()}}();if(n)R()(this,wt,new n(e));else{d.a.debug(h.j,"The HPreferencesManager is not supported by the current platform.");var r=function(){return new Promise((function(){d.a.debug(h.j,"The HPreferencesManager is not supported by the current platform.")}))};R()(this,wt,{get:r,set:r,has:r,delete:r,clear:r,synchronize:r})}}return E()(t,[{key:"get",value:function(t,e){return C()(this,wt).get(t,e)}},{key:"set",value:function(t,e){return C()(this,wt).set(t,e)}},{key:"has",value:function(t){return C()(this,wt).has(t)}},{key:"delete",value:function(t){return C()(this,wt).delete(t)}},{key:"clear",value:function(){return C()(this,wt).clear()}},{key:"synchronize",value:function(){return C()(this,wt).synchronize()}}]),t}();function Ct(){return L.a.get("pafFramework","pafTrace")}var Ot=function(){function t(){y()(this,t)}return E()(t,null,[{key:"traceBegin",value:function(t,e){var n=Ct();if(n)return n.traceBegin(t,e)}},{key:"traceError",value:function(t,e){var n=Ct();n&&n.traceError(t,e)}},{key:"traceEnd",value:function(t,e){var n=Ct();n&&n.traceEnd(t,e)}}]),t}(),Rt={mSupprotAdapters:[],init:function(){this.registerAdapter("ohos.base",(function(){return L.a.get("hmscoreFramework","abilityManager")}))},registerAdapter:function(t,e){this.mSupprotAdapters[t]=e},start:function(t,e,n){var r=this;return d.a.debug(h.j,"startAbilityForResult enter"),this.init(),d.a.debug(h.j,"startAbilityForResult end"),new Promise((function(i,o){u.a.isOHOS()?r.mSupprotAdapters["ohos.base"]().startAbilityForResult(t,e,n).then(i,o):(d.a.debug(h.j,"HAbilityManager is not find adapter"),o())}))}};function Dt(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}x({HAppInfoManager:St,HCommonMessenger:It,HGlobalVariableManager:L.a,HLogger:d.a,HPageInfo:Tt,HPreferencesManager:kt,HTrace:Ot});var Pt=new WeakMap,Nt=new WeakMap,xt=function(){function t(){y()(this,t),s()(this,"mId",u.a.uniqueId("hobject")),s()(this,"mAdapter",void 0),s()(this,"mRemoteStub",void 0),Dt(this,Pt,{writable:!0,value:void 0}),Dt(this,Nt,{writable:!0,value:{}})}return E()(t,[{key:"onTransact",value:function(t,e,n,r){throw new D(p.INVOKE_UNIMPLEMENTED_METHOD,"The onTransact method is not implemented on the HObject.")}},{key:"bindRemoteObject",value:function(t,e){this.unbindRemoteObject(),this.mId=t,R()(this,Pt,Wt.on(t,(function(t){var n=t;if("string"==typeof n)try{n=JSON.parse(n)}catch(t){d.a.warn(h.j,"resultData is not JSON string. ".concat(n))}if("string"==typeof n.value&&void 0===n.transferData)try{n=JSON.parse(n.value)}catch(t){d.a.warn(h.j,"resultData.value is not JSON string. ".concat(n.value))}"function"==typeof e&&e(n||{})}),C()(this,Nt)))}},{key:"unbindRemoteObject",value:function(){this.mId&&C()(this,Pt)&&(Wt.off(this.mId,C()(this,Pt),C()(this,Nt)),R()(this,Pt,void 0))}},{key:"release",value:function(){d.a.debug(h.j,"HObject release"),this.unbindRemoteObject()}}]),t}();Object.defineProperty(xt.prototype,"refCount",{get:function(){return this._refCount||0},set:function(t){this._refCount=t,0===t&&this.release()}});var Lt=function(t){b()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var i=w()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T()(this,n)}}(n);function n(){return y()(this,n),e.apply(this,arguments)}return E()(n,[{key:"hGetClassObject",value:function(t,e){var n=this;return new Promise((function(r,i){Wt.invoke({apiName:"service.hGetClassObject",args:{sId:t.mSId,iId:e,path:t.mPath,apiLevel:t.mApiLevel},success:function(t){var e=new xt;e.mId=t.data.id,e.mAdapter=n,r(e)},fail:i})}))}},{key:"transact",value:function(t,e,n){var r=this;return new Promise((function(i){Wt.invoke({apiName:"service.transact",args:{stubId:t.mId,code:e,transferData:n.toBase64(),extras:n.mWriteHObjectIds},success:function(t){if("HIDL_JSB no value returned."!==t.data){var e=(new rt).fromBase64(t.data);e.mAdapter=r,i(e)}else i("success. no value returened.")}})}))}},{key:"newStub",value:function(t){return new Promise((function(e){Wt.invoke({apiName:"service.newStub",args:{mode:1},success:function(n){t.bindRemoteObject(n.data,(function(e){var n=e.code,r=e.transferData,i=(new rt).fromBase64(r);t.onTransact(n,i,new rt,0)})),e(t)}})}))}}]),n}(F);Lt.type="jsb";var Ut={mRegistry:void 0,mSupprotAdapters:[],init:function(){this.registerAdapter(Lt.type,(function(){return new Lt})),this.registerAdapter("ohos.base",(function(){return L.a.get("hmscoreFramework","xpsfJsAdapter")})),this.registerAdapter("paf.base",(function(){return L.a.get("pafFramework","xpsfJsPafAdapter")})),this.registerAdapter("paf.binding",(function(){return L.a.get("pafFramework","bindingJsPafAdapter")}))},registerAdapter:function(t,e){this.mSupprotAdapters[t]=e},hCreateInstance:function(t){for(var e,n=t.apiLevel,r=void 0===n?1:n,i=t.progId,o=t.iId,a=t.success,s=t.failed,c=arguments.length,l=new Array(c>1?c-1:0),p=1;p<c;p++)l[p-1]=arguments[p];if("string"==typeof t&&l.length>0&&(i=t,o=l[0],a=l[1],s=l[2]),void 0===this.mRegistry&&(d.a.debug(h.j,"mRegistry is null."),this.mRegistry=new ot,this.mRegistry.initPolicy(),this.init()),u.a.isOHOS()||u.a.isSupportPAF()){var f=this.mRegistry.findInfo(i,"",r);e=this.mSupprotAdapters[f.mTrigger]().hGetClassObject(f,o)}else{var g=this.mRegistry.findInfoByProgId(i);g.mApiLevel=r,e=this.mSupprotAdapters[g.mTrigger]().hGetClassObject(g,ct.IID_IClassFactory).then((function(t){return ct.asInterface(t).createInstance(o)}))}return"function"==typeof a||"function"==typeof s?void e.then(a).catch(s):e},hGetClassObject:function(t,e,n){void 0===this.mRegistry&&(this.mRegistry=new ot,this.mRegistry.initPolicy());var r=this.mRegistry.findInfoByProgId(t);d.a.debug(h.j,"hGetClassObject info = ".concat(JSON.stringify(r))),this.mSupprotAdapters[r.mTrigger]().hGetClassObject(r,e).then((function(t){d.a.debug(h.j,"HServiceManager hGetClassObject result ".concat(t.mId)),n(t)}))}},$t=function(){function t(){y()(this,t),this.header=null,this.sendRequest=null}return E()(t,[{key:"onTransact",value:function(e,n,r){var i=this;return new Promise((function(o,a){try{if(e===t.CODE_SEND_REQUEST){var s="";for(i.header=n.readHeader();n.nextField()&&!n.isEndGroup();)1===n.getFieldNumber()?s=n.readString():n.skipField();return void i.callMethod(i.sendRequest,"string",r,o,s)}return a(new D),void d.a.debug("HMSCore HIDL_Js","there is no function in JSBCompat for code = ".concat(e))}catch(t){d.a.error("HMSCore HIDL_Js","JSBCompat onTransact code = ".concat(e,", ").concat(t.message)),a(t)}}))}},{key:"doCallBack",value:function(t,e,n,r){n&&(t.writeHeader(),t.writeAny(1,n,r)),e(t)}},{key:"callMethod",value:function(t,e,n,r){var i=this;if("function"==typeof t)if("function"==typeof r){for(var o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];var u=t.apply(void 0,a);u instanceof Promise?u.then((function(t){d.a.debug("HMSCore HIDL_Js","callMethod return Promise. asynReslut = ".concat(t)),i.doCallBack(n,r,t,e)})):this.doCallBack(n,r,u,e)}else d.a.debug("HMSCore HIDL_Js","callback is not a function. callback = ".concat(r));else d.a.debug("HMSCore HIDL_Js","method is not a function. method = ".concat(t))}}],[{key:"asInterface",value:function(e){return new t.Proxy(e)}}]),t}();s()($t,"API_LELVEL",1),s()($t,"CODE_SEND_REQUEST",1),s()($t,"Proxy",function(){function t(e){y()(this,t),this.mRemoteObj=e}var e;return E()(t,[{key:"sendRequest",value:(e=dt()(pt.a.mark((function t(e){var n,r,i,o,a;return pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d.a.debug("HMSCore HIDL_Js","JSBCompat Proxy sendRequest."),n=new rt,t.next=5,this.mRemoteObj.mAdapter.createHeader();case 5:return r=t.sent,n.writeHeader(r),n.writeString(1,e),t.next=10,this.mRemoteObj.mAdapter.transact(this.mRemoteObj,$t.CODE_SEND_REQUEST,n);case 10:i=t.sent,d.a.debug("HMSCore HIDL_Js","JSBCompat Proxy sendRequest result coming..."),i.readHeader(),o="";case 14:if(!i.nextField()){t.next=27;break}if(!i.isEndGroup()){t.next=17;break}return t.abrupt("break",27);case 17:a=i.getFieldNumber(),t.t0=a,t.next=1===t.t0?21:23;break;case 21:return o=i.readString(),t.abrupt("break",25);case 23:return i.skipField(),t.abrupt("break",25);case 25:t.next=14;break;case 27:return t.abrupt("return",o);case 30:t.prev=30,t.t1=t.catch(0),d.a.error("HMSCore HIDL_Js","JSBCompat Proxy sendRequest, ".concat(t.t1.message));case 33:return t.abrupt("return",void 0);case 34:case"end":return t.stop()}}),t,this,[[0,30]])}))),function(t){return e.apply(this,arguments)})}]),t}());var Mt=function(t,e){return d.a.debug(h.j,"apiName: ".concat(t,", args: ").concat(JSON.stringify(e))),new Promise((function(n,r){if("fg.request"===t||"bg.request"===t)if("string"==typeof(null==e?void 0:e.uri)){var i=e.uri.split("."),o=l()(i),a=o[0],s=o.slice(1);Ut.hCreateInstance({progId:a,iId:s.join("."),apiLevel:(null==e?void 0:e.api_level)||1}).then((function(t){var i=JSON.stringify(e);$t.asInterface(t).sendRequest(i).then((function(t){n(t)})).catch((function(t){var e=t.code,n=t.message;r({errCode:e,errMsg:n})}))})).catch(r)}else r({errCode:p.PARAMETER_INVALID,errMsg:'"args.uri" is required.'});else r({errCode:p.PARAMETER_INVALID,errMsg:'Invoke only "bg.request" and "fg.request" are supported.'})}))};function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Bt,Ft,Vt={},jt={};function qt(t,e,n){var r={id:u.a.uniqueId("cb_"),success:t,fail:e,complete:n};return Vt[r.id]=r,r.id}function Gt(t){var e;try{"string"==typeof t?e=JSON.parse(t):(d.a.info(h.j,"result is not string",t),e=t)}catch(n){e={errCode:-1,errMsg:"callback result parsing error"},d.a.error(h.j,"json parse failed, ".concat(t))}return e}var Wt={initAppId:function(t){L.a.set("hmscoreFramework","hmsSubId",t),d.a.info("initAppId(), appId:".concat(t))},invoke:function(t){var e=this,n=t.apiName,r=t.args,i=t.success,o=t.fail,a=t.complete;if(d.a.info(h.j,"invoke start, apiName: ".concat(n)),n){var c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({subId:L.a.get("hmscoreFramework","hmsSubId")},r),l=JSON.stringify(c);Yt();var p={};p.apiName=n,p.args=c;var f={};if(f.bundleName=h.e,f.abilityName=h.c,!(i&&"function"==typeof i||o&&"function"==typeof o||a&&"function"==typeof a)){if(u.a.isHarmonyWebview())return new Promise((function(t,e){var r={method:n,data:c};try{t(Gt(window.invoke.call(JSON.stringify(r))))}catch(t){d.a.error(h.j,"Harmony webview invoke",t),e(t)}}));if(u.a.isOHOS())return Mt(n,c);if(u.a.isHarmony())return f.messageCode=h.g,f.data=p,f.abilityType=h.b,f.syncOption=h.h,function(t){return new Promise((function(e,n){t.then((function(t){e(Gt(t))})).catch((function(t){n(Gt(t))}))}))}(FeatureAbility.callAbility(f));if(u.a.isCordova())return new Promise((function(t,e){var r={method:n,data:c};window.cordova.exec((function(e){t(Gt(e))}),(function(t){e(Gt(t))}),"JSCore","invoke",r)}));if(u.a.isCapacitor()){var g={method:n,data:c};return window.Capacitor.Plugins.JSBCapacitorPlugin.invoke(g)}return new Promise((function(t){t(Gt(u.a.getJSCore().invoke(n,l)))}))}var v=qt(i,o,a);if(d.a.info(h.j,"invoke Async, callbackId:".concat(v)),u.a.isHarmonyWebview()){var m={method:n,data:c,callback:v};try{window.invokeAsync.call(JSON.stringify(m))}catch(t){d.a.error(h.j,"Harmony webview invokeAsync",t),this.callback(v,t)}}else if(u.a.isOHOS())Mt(n,c).then((function(t){Wt.callback(v,t)})).catch((function(t){d.a.error(h.j,"ohos adapter invokeAsync failed ".concat(JSON.stringify(t))),Wt.callback(v,t)}));else if(u.a.isHarmony())p.callbackId=v,f.messageCode=h.d,f.data=p,f.abilityType=h.b,f.syncOption=h.a,FeatureAbility.callAbility(f).then((function(t){var e=Gt(t);"callback result parsing error"!==e.errMsg&&Wt.callback(v,e.data)}),(function(t){d.a.error(h.j,"call ability failed ".concat(t))}));else if(u.a.isQickApp())u.a.getJSCore().invokeAsync({apiName:n,args:l,callbackId:v,callback:this.callback});else if(u.a.isCordova()){var y={method:n,data:c};window.cordova.exec((function(t){e.callback(v,t)}),(function(t){e.callback(v,t)}),"JSCore","invokeAsync",y)}else if(u.a.isCapacitor()){var _={method:n,data:c};window.Capacitor.Plugins.JSBCapacitorPlugin.invokeAsync(_).then((function(t){Wt.callback(v,t.value)})).catch((function(t){d.a.error(h.j,"capacitor adapter invokeAsync failed",t)}))}else u.a.getJSCore().invokeAsync(n,l,v)}},callback:function(t,e){if(d.a.info(h.j,"callback start, cbId: ".concat(t)),e){var n=Vt[t];if(n){!function(t){delete Vt[t.id]}(n);var r=Gt(e);if("callback result parsing error"===r.errMsg&&"function"==typeof n.fail)return void n.fail(r);var i={errCode:r.errCode,errMsg:r.errMsg||"",data:r.data,extras:r.extras};0===r.errCode?("function"==typeof n.success&&n.success(i),"function"==typeof n.complete&&n.complete(i)):("function"==typeof n.fail&&n.fail(i),"function"==typeof n.complete&&n.complete(i))}}else d.a.error(h.j,"callback params is null")},on:function(t,e,n){if(d.a.info(h.j,"on start, eventName: ".concat(t)),n&&u.a.isHarmony())return function(t,e,n){var r={id:u.a.uniqueId("ecb_"),eventName:t,callback:e};return n[r.id]=r,r.id}(t,e,n);if(!u.a.isWeex()){if(u.a.isRN())return Ft.addListener(t,(function(t){var n;try{n=JSON.parse(t)}catch(t){return}e(n)}));if(u.a.isCapacitor())return window.Capacitor.Plugins.JSBCapacitorPlugin.addListener(t,(function(t){e(t)}));u.a.isCordova()&&0===Object.keys(jt).length&&window.cordova.exec(Wt.cordovaHandler,Wt.cordovaHandler,"JSCore","addEventListener",{eventName:t});var r=u.a.uniqueId("subscribeEvent_");d.a.info(h.j,"on browser, offKey: ".concat(r));var i=jt["event_"+t];return i||(i={},jt["event_"+t]=i),i[r]=e,r}weex.requireModule("globalEvent").addEventListener(t,e)},off:function(t,e,n){if(d.a.info(h.j,"off start, eventName: ".concat(t,", offKey: ").concat(e)),n&&u.a.isHarmony())delete n[e];else if(u.a.isWeex())weex.requireModule("globalEvent").removeEventListener(t);else if(u.a.isRN()||u.a.isCapacitor())e&&e.remove();else{var r=jt["event_"+t];if(r)if("string"==typeof e)delete r[e];else if("function"==typeof e){var i=Object.keys(r).filter((function(t){return r[t]===e}));i&&i.length&&delete r[i[0]]}}},publishHandler:function(t,e){var n;d.a.info(h.j,"publishHandler start, eventName: ".concat(t));try{n=JSON.parse(e)}catch(t){d.a.error(h.j,"pushEvent data parsing error"),n=e}var r=jt["event_"+t];r&&Object.keys(r).forEach((function(t){var e=r[t];"function"==typeof e&&e(n)}))},cordovaHandler:function(t){t&&Wt.publishHandler(t.event,t.data)},createView:function(t){var e=this,n=t.apiName,r=t.args,i=t.containerId,a=t.success,s=t.fail,c=t.complete,l=void 0!==r?JSON.stringify(r):"",d=qt(a,s,c);if(u.a.isCordova())window.cordova.exec((function(t){e.callback(d,t)}),(function(t){e.callback(d,t)}),"JSCoreView","createView",r);else if(u.a.isWebView()){var h,p=u.a.getPositionInfoById(i);(h=u.a.getJSCore()).createView.apply(h,[n,l,d,i].concat(o()(p)))}else u.a.getJSCore().createView(n,l,d,i)},scrollViewToY:function(t,e){u.a.isWebView()&&u.a.getJSCore().scrollViewToY(t,e)},init:function(t){if(d.a.info(h.j,"init start"),u.a.isRN()){var e=t.NativeModules;u.a.setJSCore(e.JSCore),Ft=t.DeviceEventEmitter,Yt(),this.utils=e.ModuleUtils}else if(u.a.isHarmony()){var n={};n.bundleName=h.e,n.abilityName=h.c,n.messageCode=h.f,n.abilityType=h.b,n.syncOption=h.a,FeatureAbility.subscribeAbilityEvent(n,(function(e){var n;try{n=JSON.parse(e)}catch(t){return void d.a.error(h.j,"subscribe event result parse error: ".concat(e))}var r=n.data.eventName;Object.keys(t).forEach((function(e){var i=t[e];r===i.eventName&&i.callback(n.data.eventResult)}))})).catch((function(t){return d.a.error(h.j,"subscribe event fail",t)}))}},destroy:function(){d.a.info(h.j,"destroy start"),u.a.isRN()?Bt&&Bt.remove():u.a.isCordova()&&window.cordova.exec(Wt.cordovaHandler,Wt.cordovaHandler,"JSCore","removeEventListener")}};function Yt(){u.a.isWebView()||u.a.isHarmonyWebview()?window.JSBridge=Wt:u.a.isWeex()?Wt.on(h.k,(function(t){var e=t.id,n=t.value;Wt.callback(e,n)})):u.a.isRN()?Ft&&(Bt&&Bt.remove(),Bt=Wt.on(h.i,(function(t){var e=t.id,n=t.value;Wt.callback(e,n)}))):u.a.isQickApp()&&(u.a.getJSCore().onEventCallBack=Wt.publishHandler)}if(Yt(),u.a.isHarmonyWebview()&&document.currentScript&&document.currentScript.href){var Kt=document.currentScript.href;d.a.info(h.j,"script href: ".concat(document.currentScript.href));var Jt=Kt.match(/[?&]appid=([^&=]+)/i);Jt&&Jt[1]&&Wt.initAppId(Jt[1])}}])},4286:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=v(n(3299)),i=v($app_require$("@app-module/system.device")),o=v($app_require$("@app-module/system.package")),a=v($app_require$("@app-module/system.network")),s=v($app_require$("@app-module/system.app")),u=v($app_require$("@app-module/system.storage")),c=v($app_require$("@app-module/service.ad")),l=v($app_require$("@app-module/system.fetch")),d=(v($app_require$("@app-module/system.file")),v($app_require$("@app-module/system.router"))),h=v($app_require$("@app-module/system.prompt")),p=v(n(4650)),f=v(n(5729)),g=v(n(3550));function v(t){return t&&t.__esModule?t:{default:t}}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t,e,n){return(e=E(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){var e=function(t){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:e+""}var S=Object.getPrototypeOf(global)||global;function b(t){try{new Function(t)()}catch(t){console.error("load sdk error",t)}}function I(t){try{var e;S.$topon_sdk&&(S.$topon_sdk.api={device:i.default,pkg:o.default,network:a.default,app:s.default,storage:u.default,ad:c.default,$fetch:l.default,router:d.default,prompt:h.default,md5:p.default,jsBase64:f.default}),new S.$topon_sdk(this,t),new r.default(this);var g=(null==t||null===(e=t.config)||void 0===e?void 0:e.ylhAppId)||"";if(g)try{new(0,n(9902).Z)(this,{appId:g})}catch(t){}}catch(t){console.error("init sdk error",t)}}"internal://files/toponad/".concat("".concat("4.2.11"),"/core-render.js");var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.app,r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e);this.$ctx=n,delete r.app,S&&S.$topon_sdk||b.call(n,g.default,!1),I.call(n,r)}var e,n;return e=t,(n=[{key:"setChannel",value:function(t){var e;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.setChannel.call(this.$ctx,t)}},{key:"setSubChannel",value:function(t){var e;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.setSubChannel.call(this.$ctx,t)}},{key:"setCustomParam",value:function(t){var e;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.setCustomParam.call(this.$ctx,t)}},{key:"setPlacementCustomParam",value:function(t){var e;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.setPlacementCustomParam.call(this.$ctx,t)}},{key:"onShow",value:function(){var t,e;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t||null===(t=t.event)||void 0===t||null===(t=t.deeplink)||void 0===t||t.publish("app-on-show"),null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.onShow.call(this.$ctx)}},{key:"onHide",value:function(){var t,e;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t||null===(t=t.event)||void 0===t||null===(t=t.deeplink)||void 0===t||t.publish("app-on-hide"),null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.onHide.call(this.$ctx)}},{key:"onDestroy",value:function(){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.onDestroy.call(this.$ctx)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=T},3550:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default='!function(){function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},d=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var r=e&&e.prototype instanceof _?e:_,o=Object.create(r.prototype),d=new D(n||[]);return a(o,"_invoke",{value:T(t,i,d)}),o}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var p="suspendedStart",f="executing",v="completed",m={};function _(){}function g(){}function y(){}var I={};c(I,d,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(L([])));k&&k!==n&&r.call(k,d)&&(I=k);var w=y.prototype=_.prototype=Object.create(I);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function i(n,a,o,d){var s=h(t[n],t,a);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,o,d)}),(function(t){i("throw",t,o,d)})):e.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return i("throw",t,o,d)}))}d(s.arg)}var n;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,n){i(t,r,e,n)}))}return n=n?n.then(a,a):a()}})}function T(e,i,n){var r=p;return function(a,o){if(r===f)throw Error("Generator is already running");if(r===v){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var d=n.delegate;if(d){var s=A(d,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=h(e,i,n);if("normal"===l.type){if(r=n.done?v:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=v,n.method="throw",n.arg=l.arg)}}}function A(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=t,A(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a \'"+n+"\' method")),m;var a=h(r,e.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,m;var o=a.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,m):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(e){if(e||""===e){var i=e[d];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=y,a(w,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new S(u(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(w),c(w,l,"Generator"),c(w,d,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(n,r){return d.type="throw",d.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],d=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:L(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function n(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e,i,n,r,a,o){try{var d=t[a](o),s=d.value}catch(t){return void i(t)}d.done?e(s):Promise.resolve(s).then(n,r)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function d(t){a(o,n,r,d,s,"next",t)}function s(t){a(o,n,r,d,s,"throw",t)}d(void 0)}))}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function l(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,i){return(e=n(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t,e){return function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)===e}function h(t){return u(t,"String")}function p(t){return u(t,"Number")}function f(t){return u(t,"Object")}function v(t){for(var e in t)if({}.hasOwnProperty.call(t,e))return!1;return!0}function m(t,e){var i=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);if(i.length!==n.length)return!1;for(var r=0;r<i.length;r+=1){var a=i[r];if(t[a]!==e[a])return!1}return!0}function _(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!==r(e)||!e)}catch(t){return!1}}var g={VIVO:54,OPPO:55,BAIDU:56,HUAWEI:60,XIAOMI:61,HUAWEI_AGD_PRO:62,HONOR:63,YLH:64,ADX:66},y={VIVO:54,OPPO:55,YLH:64};function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.separator||"-",n=e.split||/(?=[A-Z])/;return t.split(n).join(i).toLowerCase()}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="hb"===t?y:g,i=Object.values(e)||[];return i}var k=["containerStyle","imgStyle","titleStyle","buttonStyle","descStyle"],w={g:function(){if("object"==("undefined"==typeof globalThis?"undefined":r(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==("undefined"==typeof window?"undefined":r(window)))return window}}()},x=Object.getPrototypeOf(w.g)||w.g;function S(){return x&&x.$topon_sdk?x.$topon_sdk.api:null}function T(t,e){var i=[];for(var n in e)i.push(n+"="+e[n]);var r=i.join("&");return r?"".concat(t,"?").concat(r):t}function A(t,e){return Math.floor(Math.random()*(e-t))+t}function E(t,e){for(var i=e.length,n=[],r=0;r<i;r++){var a=e[r].key,o=e[r].value,d="".concat(a,"=").concat(o);n.push(d)}return L(t+n.join("&"))}function C(t){return S().jsBase64.Base64.encode(t)}function D(t){return JSON.stringify(t).replace(/\\//g,"\\\\/")}function L(t){return(0,S().md5)(t).toString()}function O(t,i){var n=e({},t);return Object.keys(i).forEach((function(e){t[e]&&t[e]===i[e]||(n[e]=i[e])})),n}function R(){var t,e=(null===(t=global)||void 0===t?void 0:t.navigator)||{},i=e.userAgent||"",n=e.vendor||"";return"".concat(i," ").concat(n).toLowerCase()}function P(t,e,i){var n=t.nwFirmIds||[];return(t.unitIds||[]).includes(1*i)?9006:n.includes(1*e)?9007:0}function U(t,e){e||(e=this.$app&&this.$app.$def.manifest.config&&this.$app.$def.manifest.config.designWidth);var i=p(e)?e/750:1,n={};for(var r in t)if(t.hasOwnProperty(r))if(t[r]&&f(t[r]))n[r]=U.call(this,t[r]);else if(h(t[r])&&t[r].endsWith("px")){var a=parseInt(t[r].split("px")[0],10);p(a)&&(n[r]=a*i+"px")}else n[r]=t[r];return n}function $(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(e));if(i)for(var a in r)k.includes(a)||delete r[a];function o(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(f(n))for(var r in n)n.hasOwnProperty(r)&&(f(n[r])?o(t[i][r],n[r]):!t[i]||t[i][r]&&t[i][r]===n[r]||(t[i][r]=n[r]));else t[i]&&t[i]===n||(t[i]=n)}}return o(n,r),null!=n&&n.imgPropertiesStyle&&null!=n&&n.imgStyle&&(n.imgPropertiesStyle=Object.assign({},n.imgPropertiesStyle,n.imgStyle),delete n.imgPropertiesStyle.position),n}function N(t,e,i){var n,r,a,o=null!==(n=null!==(r=null===(a=this.$app)||void 0===a?void 0:a.$def)&&void 0!==r?r:this.$def)&&void 0!==n?n:null;o&&null!=o&&o.topon_sdk&&(o.topon_sdk.cache[t]||(o.topon_sdk.cache[t]=Object.create(null)),o.topon_sdk.cache[t][e]=i)}function j(t,e){var i,n,r,a,o,d=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def)&&void 0!==i?i:null;return d&&null!=d&&d.topon_sdk&&null!==(a=null===(o=d.topon_sdk)||void 0===o||null===(o=o.cache[t])||void 0===o?void 0:o[e])&&void 0!==a?a:null}function F(t,e){var i,n,r,a,o,d=null!==(i=null==t?void 0:t.width)&&void 0!==i?i:0,s=null!==(n=null==t?void 0:t.height)&&void 0!==n?n:0,l=null!==(r=null==e?void 0:e.screenWidth)&&void 0!==r?r:750,c=null!==(a=null==e?void 0:e.screenHeight)&&void 0!==a?a:1415,u=(null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.manifest)||void 0===o||null===(o=o.config)||void 0===o?void 0:o.designWidth)||750;return d*s/(u*(u*(c/l)))}function B(t){var e=this;null!=this&&this.$nextTick?this.$nextTick((function(){return t.call(e)})):void 0!==("undefined"==typeof Promise?"undefined":r(Promise))?Promise.resolve().then(t):setTimeout(t,0)}var W="TOPON_AD_CACHE",q=function(){function t(){d(this,t),this._storage={}}var e,n,r,a;return l(t,[{key:"_getKey",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return t;var i=I(t,{separator:"_"});return i="".concat(W,"_").concat(i.toUpperCase())}},{key:"batch",value:(a=o(i().mark((function t(e){var n,r,a=this,o=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],r=[],Object.keys(e).forEach((function(t){r.push(a.setItem(t,e[t],n))})),t.abrupt("return",Promise.all(r));case 4:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"setItem",value:(r=o(i().mark((function t(e,n){var r,a,o,d,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(s.length>2&&void 0!==s[2])||s[2],a=this._getKey(e,r),o=S(),d=o.storage,t.abrupt("return",d.set({key:a,value:n}));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"getItem",value:(n=o(i().mark((function t(e){var n,r,a,o,d,s,l,c=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(c.length>1&&void 0!==c[1])||c[1],a=this._getKey(e,r),o=S(),d=o.storage,t.next=5,d.get({key:a});case 5:return s=t.sent,l=null!==(n=null==s?void 0:s.data)&&void 0!==n?n:"",t.abrupt("return",_(l)?JSON.parse(l):l);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"delete",value:(e=o(i().mark((function t(e){var n,r,a=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!(a.length>1&&void 0!==a[1])||a[1],r=this._getKey(e,n),S().storage.delete({key:r});case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"clear",value:function(){S().storage.clear()}}]),t}(),M=new q,V=function(){function t(){d(this,t),this._device={}}var e,n,r,a,s;return l(t,[{key:"getInfo",value:(s=o(i().mark((function t(){var e,n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=S(),r=n.device,t.next=4,r.getInfo();case 4:return a=t.sent,o=null!==(e=null==a?void 0:a.data)&&void 0!==e?e:{},t.abrupt("return",o);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt("return",{});case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(){return s.apply(this,arguments)})},{key:"getAdvertisingId",value:(a=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getAdvertisingId();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.advertisingId)&&void 0!==e?e:"",t.abrupt("return",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt("return","");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(){return a.apply(this,arguments)})},{key:"getOaId",value:(r=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getOAID();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.oaid)&&void 0!==e?e:"",t.abrupt("return",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt("return","");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:"getUserId",value:(n=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getUserId();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.userId)&&void 0!==e?e:"",t.abrupt("return",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt("return","");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(){return n.apply(this,arguments)})},{key:"getDeviceIds",value:(e=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="",n="",r="",a="",o=S(),d=o.device,t.prev=2,t.next=5,M.getItem("needDevice");case 5:if("1"!=t.sent){t.next=17;break}return t.next=9,d.getId({type:["device","mac","user"]});case 9:p=t.sent,f=null!==(s=null==p?void 0:p.data)&&void 0!==s?s:{},e=null!==(l=null==f?void 0:f.advertising)&&void 0!==l?l:"",n=null!==(c=null==f?void 0:f.user)&&void 0!==c?c:"",r=null!==(u=null==f?void 0:f.device)&&void 0!==u?u:"",a=null!==(h=null==f?void 0:f.mac)&&void 0!==h?h:"",t.next=30;break;case 17:return t.next=19,d.getUserId();case 19:return _=t.sent,n=null!==(v=null==_||null===(m=_.data)||void 0===m?void 0:m.userId)&&void 0!==v?v:"",t.prev=21,t.next=24,d.getAdvertisingId();case 24:I=t.sent,e=null!==(g=null==I||null===(y=I.data)||void 0===y?void 0:y.advertisingId)&&void 0!==g?g:"",t.next=30;break;case 28:t.prev=28,t.t0=t.catch(21);case 30:t.next=39;break;case 32:return t.prev=32,t.t1=t.catch(2),201===t.t1.code&&M.setItem("needDevice","0"),t.next=37,d.getUserId();case 37:w=t.sent,n=null!==(b=null==w||null===(k=w.data)||void 0===k?void 0:k.userId)&&void 0!==b?b:"";case 39:return t.abrupt("return",{device:r,mac:a,user:n,advertising:e});case 40:case"end":return t.stop()}}),t,null,[[2,32],[21,28]])}))),function(){return e.apply(this,arguments)})}]),t}(),H=new V;function G(){return Y.apply(this,arguments)}function Y(){return(Y=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="upId",a="",t.next=4,M.getItem(r);case 4:if(o=t.sent,["d41d8cd98f00b204e9800998ecf8427e","9f89c84a559f573636a47ff8daed0d33"].includes(a=o)&&(a="",M.delete(r)),!a){t.next=9;break}return t.abrupt("return",a);case 9:return t.next=11,H.getDeviceIds();case 11:return d=t.sent,t.next=14,H.getOaId();case 14:if(t.t0=t.sent,t.t0){t.next=17;break}t.t0="";case 17:if(s=t.t0,l=null!==(e=null==d?void 0:d.advertising)&&void 0!==e?e:"",c=null!==(n=null==d?void 0:d.user)&&void 0!==n?n:"",!l){t.next=24;break}a=L(l),t.next=36;break;case 24:if(!s||"00000000-0000-0000-0000-000000000000"===s){t.next=28;break}a=L(s),t.next=36;break;case 28:if(!c){t.next=32;break}a=L(c),t.next=36;break;case 32:return t.next=34,M.getItem("appId");case 34:u=t.sent,a=L(u+Date.now()+A(0,1e8));case 36:return t.next=38,M.setItem(r,a);case 38:return t.abrupt("return",a);case 39:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(){return z.apply(this,arguments)}function z(){return(z=o(i().mark((function t(){var e,n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return e=t.sent,t.next=5,M.getItem("appId");case 5:return n=t.sent,t.next=8,M.getItem("currentInitTime");case 8:return r=t.sent,a=L(e+n+r),t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){return Q.apply(this,arguments)}function Q(){return(Q=o(i().mark((function t(e){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return n=t.sent,r=Date.now(),a=L(n+e+r),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return Z.apply(this,arguments)}function Z(){return(Z=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(new Date).getTime(),t.next=3,H.getDeviceIds();case 3:return a=t.sent,t.next=6,G();case 6:for(o=t.sent,d=null!==(e=null==a?void 0:a.user)&&void 0!==e?e:"",s=null!==(n=null==a?void 0:a.advertising)&&void 0!==n?n:"",l=[d,s,o,r],c=A(0,1e4),u=l.length,h=[],p=0;p<u;p++)h.push(l[p]);return h.push(c),f=h.join("&"),v=L(f),t.abrupt("return",v);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var tt=e({},g),et=e({},y),it={54:"unit_id",55:"unit_id",56:"placement_id",60:"ad_id",61:"unit_id",62:"ad_id",63:"unit_id",64:"unit_id"},nt={"2g":"1","3g":"3","4g":"13","5g":"15",wifi:"-2",none:"-1"},rt=new(function(){function t(){d(this,t),this.code={54:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,2e3,9e3,9001,9006,9007],loading:[1105],show:[1101,1106]},55:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},56:{load:["error","adError",9e3,9001,9006,9007],loading:[],show:["error",1101]},60:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},61:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},62:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},63:{load:[1e3,1001,1002,1003,1004],loading:[],show:[]},64:{load:[1001,1004,1100],loading:[],show:[]},66:{load:[9006,9007,9008],loading:[],show:[1101]}}}return l(t,[{key:"codeToEvent",value:function(t,e){var i,n,r,a=isNaN(e)?e:1*e;return null!==(i=this.code[t])&&void 0!==i&&null!==(i=i.load)&&void 0!==i&&i.includes(a)?"load":null!==(n=this.code[t])&&void 0!==n&&null!==(n=n.loading)&&void 0!==n&&n.includes(a)?"loading":null!==(r=this.code[t])&&void 0!==r&&null!==(r=r.show)&&void 0!==r&&r.includes(a)?"show":"unknown"}}]),t}()),at={100133:1001,136001:1001,136002:1001,136004:1001,102006:1004,109502:1100},ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var dt=function(){this.__data__=[],this.size=0};var st=function(t,e){return t===e||t!=t&&e!=e},lt=st;var ct=function(t,e){for(var i=t.length;i--;)if(lt(t[i][0],e))return i;return-1},ut=ct,ht=Array.prototype.splice;var pt=ct;var ft=ct;var vt=ct;var mt=dt,_t=function(t){var e=this.__data__,i=ut(e,t);return!(i<0)&&(i==e.length-1?e.pop():ht.call(e,i,1),--this.size,!0)},gt=function(t){var e=this.__data__,i=pt(e,t);return i<0?void 0:e[i][1]},yt=function(t){return ft(this.__data__,t)>-1},It=function(t,e){var i=this.__data__,n=vt(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};function bt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}bt.prototype.clear=mt,bt.prototype.delete=_t,bt.prototype.get=gt,bt.prototype.has=yt,bt.prototype.set=It;var kt=bt,wt=kt;var xt=function(){this.__data__=new wt,this.size=0};var St=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i};var Tt=function(t){return this.__data__.get(t)};var At=function(t){return this.__data__.has(t)},Et="object"==typeof ot&&ot&&ot.Object===Object&&ot,Ct=Et,Dt="object"==typeof self&&self&&self.Object===Object&&self,Lt=Ct||Dt||Function("return this")(),Ot=Lt.Symbol,Rt=Ot,Pt=Object.prototype,Ut=Pt.hasOwnProperty,$t=Pt.toString,Nt=Rt?Rt.toStringTag:void 0;var jt=function(t){var e=Ut.call(t,Nt),i=t[Nt];try{t[Nt]=void 0;var n=!0}catch(t){}var r=$t.call(t);return n&&(e?t[Nt]=i:delete t[Nt]),r},Ft=Object.prototype.toString;var Bt=jt,Wt=function(t){return Ft.call(t)},qt=Ot?Ot.toStringTag:void 0;var Mt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":qt&&qt in Object(t)?Bt(t):Wt(t)};var Vt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Ht=Mt,Gt=Vt;var Yt,Kt=function(t){if(!Gt(t))return!1;var e=Ht(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},zt=Lt["__core-js_shared__"],Xt=(Yt=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||""))?"Symbol(src)_1."+Yt:"";var Qt=function(t){return!!Xt&&Xt in t},Jt=Function.prototype.toString;var Zt=function(t){if(null!=t){try{return Jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},te=Kt,ee=Qt,ie=Vt,ne=Zt,re=/^\\[object .+?Constructor\\]$/,ae=Function.prototype,oe=Object.prototype,de=ae.toString,se=oe.hasOwnProperty,le=RegExp("^"+de.call(se).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");var ce=function(t){return!(!ie(t)||ee(t))&&(te(t)?le:re).test(ne(t))},ue=function(t,e){return null==t?void 0:t[e]};var he=function(t,e){var i=ue(t,e);return ce(i)?i:void 0},pe=he(Lt,"Map"),fe=he(Object,"create"),ve=fe;var me=function(){this.__data__=ve?ve(null):{},this.size=0};var _e=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ge=fe,ye=Object.prototype.hasOwnProperty;var Ie=function(t){var e=this.__data__;if(ge){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return ye.call(e,t)?e[t]:void 0},be=fe,ke=Object.prototype.hasOwnProperty;var we=fe;var xe=me,Se=_e,Te=Ie,Ae=function(t){var e=this.__data__;return be?void 0!==e[t]:ke.call(e,t)},Ee=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=we&&void 0===e?"__lodash_hash_undefined__":e,this};function Ce(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ce.prototype.clear=xe,Ce.prototype.delete=Se,Ce.prototype.get=Te,Ce.prototype.has=Ae,Ce.prototype.set=Ee;var De=Ce,Le=kt,Oe=pe;var Re=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Pe=function(t,e){var i=t.__data__;return Re(e)?i["string"==typeof e?"string":"hash"]:i.map},Ue=Pe;var $e=Pe;var Ne=Pe;var je=Pe;var Fe=function(){this.size=0,this.__data__={hash:new De,map:new(Oe||Le),string:new De}},Be=function(t){var e=Ue(this,t).delete(t);return this.size-=e?1:0,e},We=function(t){return $e(this,t).get(t)},qe=function(t){return Ne(this,t).has(t)},Me=function(t,e){var i=je(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};function Ve(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ve.prototype.clear=Fe,Ve.prototype.delete=Be,Ve.prototype.get=We,Ve.prototype.has=qe,Ve.prototype.set=Me;var He=kt,Ge=pe,Ye=Ve;var Ke=kt,ze=xt,Xe=St,Qe=Tt,Je=At,Ze=function(t,e){var i=this.__data__;if(i instanceof He){var n=i.__data__;if(!Ge||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ye(n)}return i.set(t,e),this.size=i.size,this};function ti(t){var e=this.__data__=new Ke(t);this.size=e.size}ti.prototype.clear=ze,ti.prototype.delete=Xe,ti.prototype.get=Qe,ti.prototype.has=Je,ti.prototype.set=Ze;var ei=ti;var ii=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t},ni=he,ri=function(){try{var t=ni(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var ai=function(t,e,i){"__proto__"==e&&ri?ri(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i},oi=ai,di=st,si=Object.prototype.hasOwnProperty;var li=function(t,e,i){var n=t[e];si.call(t,e)&&di(n,i)&&(void 0!==i||e in t)||oi(t,e,i)},ci=li,ui=ai;var hi=function(t,e,i,n){var r=!i;i||(i={});for(var a=-1,o=e.length;++a<o;){var d=e[a],s=n?n(i[d],t[d],d,i,t):void 0;void 0===s&&(s=t[d]),r?ui(i,d,s):ci(i,d,s)}return i};var pi=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n};var fi=function(t){return null!=t&&"object"==typeof t},vi=Mt,mi=fi;var _i=function(t){return mi(t)&&"[object Arguments]"==vi(t)},gi=fi,yi=Object.prototype,Ii=yi.hasOwnProperty,bi=yi.propertyIsEnumerable,ki=_i(function(){return arguments}())?_i:function(t){return gi(t)&&Ii.call(t,"callee")&&!bi.call(t,"callee")},wi=ki,xi=Array.isArray,Si={};var Ti=function(){return!1};!function(t,e){var i=Lt,n=Ti,r=e&&!e.nodeType&&e,a=r&&t&&!t.nodeType&&t,o=a&&a.exports===r?i.Buffer:void 0,d=(o?o.isBuffer:void 0)||n;t.exports=d}({get exports(){return Si},set exports(t){Si=t}},Si);var Ai=/^(?:0|[1-9]\\d*)$/;var Ei=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&Ai.test(t))&&t>-1&&t%1==0&&t<e};var Ci=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Di=Mt,Li=Ci,Oi=fi,Ri={};Ri["[object Float32Array]"]=Ri["[object Float64Array]"]=Ri["[object Int8Array]"]=Ri["[object Int16Array]"]=Ri["[object Int32Array]"]=Ri["[object Uint8Array]"]=Ri["[object Uint8ClampedArray]"]=Ri["[object Uint16Array]"]=Ri["[object Uint32Array]"]=!0,Ri["[object Arguments]"]=Ri["[object Array]"]=Ri["[object ArrayBuffer]"]=Ri["[object Boolean]"]=Ri["[object DataView]"]=Ri["[object Date]"]=Ri["[object Error]"]=Ri["[object Function]"]=Ri["[object Map]"]=Ri["[object Number]"]=Ri["[object Object]"]=Ri["[object RegExp]"]=Ri["[object Set]"]=Ri["[object String]"]=Ri["[object WeakMap]"]=!1;var Pi=function(t){return Oi(t)&&Li(t.length)&&!!Ri[Di(t)]};var Ui=function(t){return function(e){return t(e)}},$i={};!function(t,e){var i=Et,n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,a=r&&r.exports===n&&i.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=o}({get exports(){return $i},set exports(t){$i=t}},$i);var Ni=Pi,ji=Ui,Fi=$i&&$i.isTypedArray,Bi=Fi?ji(Fi):Ni,Wi=pi,qi=wi,Mi=xi,Vi=Si,Hi=Ei,Gi=Bi,Yi=Object.prototype.hasOwnProperty;var Ki=function(t,e){var i=Mi(t),n=!i&&qi(t),r=!i&&!n&&Vi(t),a=!i&&!n&&!r&&Gi(t),o=i||n||r||a,d=o?Wi(t.length,String):[],s=d.length;for(var l in t)!e&&!Yi.call(t,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Hi(l,s))||d.push(l);return d},zi=Object.prototype;var Xi=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||zi)};var Qi=function(t,e){return function(i){return t(e(i))}},Ji=Qi(Object.keys,Object),Zi=Xi,tn=Ji,en=Object.prototype.hasOwnProperty;var nn=Kt,rn=Ci;var an=function(t){return null!=t&&rn(t.length)&&!nn(t)},on=Ki,dn=function(t){if(!Zi(t))return tn(t);var e=[];for(var i in Object(t))en.call(t,i)&&"constructor"!=i&&e.push(i);return e},sn=an;var ln=function(t){return sn(t)?on(t):dn(t)},cn=hi,un=ln;var hn=function(t,e){return t&&cn(e,un(e),t)};var pn=Vt,fn=Xi,vn=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e},mn=Object.prototype.hasOwnProperty;var _n=Ki,gn=function(t){if(!pn(t))return vn(t);var e=fn(t),i=[];for(var n in t)("constructor"!=n||!e&&mn.call(t,n))&&i.push(n);return i},yn=an;var In=function(t){return yn(t)?_n(t,!0):gn(t)},bn=hi,kn=In;var wn=function(t,e){return t&&bn(e,kn(e),t)},xn={};!function(t,e){var i=Lt,n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,a=r&&r.exports===n?i.Buffer:void 0,o=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,n=o?o(i):new t.constructor(i);return t.copy(n),n}}({get exports(){return xn},set exports(t){xn=t}},xn);var Sn=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e};var Tn=function(){return[]},An=function(t,e){for(var i=-1,n=null==t?0:t.length,r=0,a=[];++i<n;){var o=t[i];e(o,i,t)&&(a[r++]=o)}return a},En=Tn,Cn=Object.prototype.propertyIsEnumerable,Dn=Object.getOwnPropertySymbols,Ln=Dn?function(t){return null==t?[]:(t=Object(t),An(Dn(t),(function(e){return Cn.call(t,e)})))}:En,On=hi,Rn=Ln;var Pn=function(t,e){return On(t,Rn(t),e)};var Un=function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t},$n=Qi(Object.getPrototypeOf,Object),Nn=Un,jn=$n,Fn=Ln,Bn=Tn,Wn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Nn(e,Fn(t)),t=jn(t);return e}:Bn,qn=hi,Mn=Wn;var Vn=function(t,e){return qn(t,Mn(t),e)},Hn=Un,Gn=xi;var Yn=function(t,e,i){var n=e(t);return Gn(t)?n:Hn(n,i(t))},Kn=Yn,zn=Ln,Xn=ln;var Qn=function(t){return Kn(t,Xn,zn)},Jn=Yn,Zn=Wn,tr=In;var er=function(t){return Jn(t,tr,Zn)},ir=he(Lt,"DataView"),nr=pe,rr=he(Lt,"Promise"),ar=he(Lt,"Set"),or=he(Lt,"WeakMap"),dr=Mt,sr=Zt,lr="[object Map]",cr="[object Promise]",ur="[object Set]",hr="[object WeakMap]",pr="[object DataView]",fr=sr(ir),vr=sr(nr),mr=sr(rr),_r=sr(ar),gr=sr(or),yr=dr;(ir&&yr(new ir(new ArrayBuffer(1)))!=pr||nr&&yr(new nr)!=lr||rr&&yr(rr.resolve())!=cr||ar&&yr(new ar)!=ur||or&&yr(new or)!=hr)&&(yr=function(t){var e=dr(t),i="[object Object]"==e?t.constructor:void 0,n=i?sr(i):"";if(n)switch(n){case fr:return pr;case vr:return lr;case mr:return cr;case _r:return ur;case gr:return hr}return e});var Ir=yr,br=Object.prototype.hasOwnProperty;var kr=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&br.call(t,"index")&&(i.index=t.index,i.input=t.input),i},wr=Lt.Uint8Array;var xr=function(t){var e=new t.constructor(t.byteLength);return new wr(e).set(new wr(t)),e},Sr=xr;var Tr=function(t,e){var i=e?Sr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)},Ar=/\\w*$/;var Er=function(t){var e=new t.constructor(t.source,Ar.exec(t));return e.lastIndex=t.lastIndex,e},Cr=Ot?Ot.prototype:void 0,Dr=Cr?Cr.valueOf:void 0;var Lr=xr;var Or=xr,Rr=Tr,Pr=Er,Ur=function(t){return Dr?Object(Dr.call(t)):{}},$r=function(t,e){var i=e?Lr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)};var Nr=function(t,e,i){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Or(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Rr(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return $r(t,i);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Pr(t);case"[object Symbol]":return Ur(t)}},jr=Vt,Fr=Object.create,Br=function(){function t(){}return function(e){if(!jr(e))return{};if(Fr)return Fr(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),Wr=$n,qr=Xi;var Mr=function(t){return"function"!=typeof t.constructor||qr(t)?{}:Br(Wr(t))},Vr=Ir,Hr=fi;var Gr=function(t){return Hr(t)&&"[object Map]"==Vr(t)},Yr=Ui,Kr=$i&&$i.isMap,zr=Kr?Yr(Kr):Gr,Xr=Ir,Qr=fi;var Jr=function(t){return Qr(t)&&"[object Set]"==Xr(t)},Zr=Ui,ta=$i&&$i.isSet,ea=ta?Zr(ta):Jr,ia=ei,na=ii,ra=li,aa=hn,oa=wn,da=xn,sa=Sn,la=Pn,ca=Vn,ua=Qn,ha=er,pa=Ir,fa=kr,va=Nr,ma=Mr,_a=xi,ga=Si,ya=zr,Ia=Vt,ba=ea,ka=ln,wa=In,xa="[object Arguments]",Sa="[object Function]",Ta="[object Object]",Aa={};Aa[xa]=Aa["[object Array]"]=Aa["[object ArrayBuffer]"]=Aa["[object DataView]"]=Aa["[object Boolean]"]=Aa["[object Date]"]=Aa["[object Float32Array]"]=Aa["[object Float64Array]"]=Aa["[object Int8Array]"]=Aa["[object Int16Array]"]=Aa["[object Int32Array]"]=Aa["[object Map]"]=Aa["[object Number]"]=Aa[Ta]=Aa["[object RegExp]"]=Aa["[object Set]"]=Aa["[object String]"]=Aa["[object Symbol]"]=Aa["[object Uint8Array]"]=Aa["[object Uint8ClampedArray]"]=Aa["[object Uint16Array]"]=Aa["[object Uint32Array]"]=!0,Aa["[object Error]"]=Aa[Sa]=Aa["[object WeakMap]"]=!1;var Ea=function t(e,i,n,r,a,o){var d,s=1&i,l=2&i,c=4&i;if(n&&(d=a?n(e,r,a,o):n(e)),void 0!==d)return d;if(!Ia(e))return e;var u=_a(e);if(u){if(d=fa(e),!s)return sa(e,d)}else{var h=pa(e),p=h==Sa||"[object GeneratorFunction]"==h;if(ga(e))return da(e,s);if(h==Ta||h==xa||p&&!a){if(d=l||p?{}:ma(e),!s)return l?ca(e,oa(d,e)):la(e,aa(d,e))}else{if(!Aa[h])return a?e:{};d=va(e,h,s)}}o||(o=new ia);var f=o.get(e);if(f)return f;o.set(e,d),ba(e)?e.forEach((function(r){d.add(t(r,i,n,r,e,o))})):ya(e)&&e.forEach((function(r,a){d.set(a,t(r,i,n,a,e,o))}));var v=u?void 0:(c?l?ha:ua:l?wa:ka)(e);return na(v||e,(function(r,a){v&&(r=e[a=r]),ra(d,a,t(r,i,n,a,e,o))})),d},Ca=Ea;var Da=function(t){return Ca(t,5)},La=function(){function t(){d(this,t),this.reqUgNum=1,this.progress=0,this.isFirst=!0,this.statusList=[],this.STATUS_WAITING="waiting",this.STATUS_LOADING="loading",this.STATUS_CACHING="caching",this.STATUS_TIMEOUT="timeout",this.STATUS_EXPIRED="expired",this.STATUS_FAILED="failed",this.STATUS_SHOWED="showed"}return l(t,[{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.progress=0;var n=[];e.forEach((function(e,i){var r=e.unit_id,a={index:i,itemId:r,unitId:r,nwFirmId:e.nw_firm_id,ecpm:e.ecpm,ecpmSort:e.s_pty,rank:e.sp_ps,rankSort:0,status:t.STATUS_WAITING,expirationTime:0,context:{},type:0,unit:Da(e)};n.push(a)})),(null==n?void 0:n.length)>1&&Oa(n),n.sort((function(t,e){var i=e.ecpmSort-t.ecpmSort,n=e.rankSort-t.rankSort;return 0===i?n:i})),n.forEach((function(t,e){t.index=e}));var r=i.reqUgNum,a=void 0===r?1:r;this.reqUgNum=a,this.progress=a-1,this.isFirst=!0,this.initStatusList(n)}},{key:"merge",value:function(t){var e,i=this;if(!(t.length<=0)){var n=[];t.forEach((function(t){var e=t.unit_id,r=t.nw_firm_id,a=t.ecpm,o=t.s_pty,d=t.nw_cache_time,s={index:0,itemId:e,unitId:e,nwFirmId:r,ecpm:a,ecpmSort:o,rank:t.sp_ps,rankSort:0,status:i.STATUS_WAITING,expirationTime:Date.now()+d,context:{},type:66==r?2:1,unit:Da(t)};n.push(s)})),(e=this.statusList).push.apply(e,n),this.statusList.sort((function(t,e){var i=e.ecpmSort-t.ecpmSort,n=e.type-t.type;return 0===i?n:i})),this.statusList.forEach((function(t,e){t.index=e,[1,2].includes(t.type)&&t.index<=i.progress&&(t.status=i.STATUS_LOADING),t.unit.bidTk&&(t.unit.bidTk.sortPriority=e+1)}))}}},{key:"scheduler",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=[this.STATUS_WAITING],n=[this.STATUS_CACHING,this.STATUS_SHOWED],r=[this.STATUS_LOADING,this.STATUS_CACHING],a=[this.STATUS_LOADING,this.STATUS_CACHING,this.STATUS_TIMEOUT,this.STATUS_SHOWED],o=[],d=[],s=[],l=[];if(this.statusList.forEach((function(e,c){a.includes(e.status)&&o.push(e.itemId),r.includes(e.status)&&c<=t.progress&&d.push(e.itemId),i.includes(e.status)&&s.push(e.itemId),n.includes(e.status)&&l.push(e.itemId)})),e)return o;if((d.length<this.reqUgNum||this.isFirst)&&l.length<1){var c=this.reqUgNum-d.length,u=s.slice(0,c);this.statusList.forEach((function(e,i){u.includes(e.itemId)&&(e.status=t.STATUS_LOADING,t.progress=i)})),o=o.concat(u),this.isFirst=!1}return o}},{key:"selecter",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"STATUS_CACHING",i=Date.now(),n={};return this.statusList.forEach((function(r,a){[t[e]].includes(r.status)&&(0===r.expirationTime||r.expirationTime>i)&&v(n)&&(n=r)})),n}},{key:"itemIdSeleter",value:function(){var t=this.selecter();return t&&t.itemId?t.itemId:null}},{key:"indexSeleter",value:function(){var t=this.selecter();return t&&t.index?t.index:null}},{key:"setLoading",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_LOADING,e)}},{key:"setCaching",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setStatus(t,this.STATUS_CACHING,e,i)}},{key:"setTimeout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_TIMEOUT,e)}},{key:"setFailed",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_FAILED,e)}},{key:"setShowed",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_SHOWED,e)}},{key:"getIndex",value:function(t){var e=0;return this.statusList.forEach((function(i){i.itemId===t&&(e=i.index)})),e}},{key:"getStatusList",value:function(){return this.statusList}},{key:"initStatusList",value:function(t){var e=this,i=[],n=Date.now();t.forEach((function(t){e.statusList.forEach((function(i){i.itemId===t.itemId&&[e.STATUS_CACHING].includes(i.status)&&(0===i.expirationTime||i.expirationTime>n)&&(t.status=e.STATUS_CACHING,t.context=i.context,t.expirationTime=i.expirationTime)})),i.push(t)})),this.statusList=i}},{key:"setStatus",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.expirationTime,o=void 0===a?0:a;this.statusList.forEach((function(r){r.itemId===t&&(r.status=e,e===i.STATUS_CACHING&&(r.expirationTime=o,r.context=n))}))}},{key:"isExpired",value:function(){var t=this,e=0,i=Date.now(),n=this.statusList.filter((function(e){return[t.STATUS_LOADING,t.STATUS_TIMEOUT,t.STATUS_CACHING,t.STATUS_SHOWED].includes(e.status)}));return!(n.length<=0)&&(n.forEach((function(n,r){[t.STATUS_LOADING,t.STATUS_TIMEOUT,t.STATUS_SHOWED].includes(n.status)?t.setStatus(n.itemId,t.STATUS_EXPIRED):0===n.expirationTime||n.expirationTime>i?e++:t.setStatus(n.itemId,t.STATUS_EXPIRED)})),e<=0)}},{key:"isFailed",value:function(){var t=this;return this.statusList.filter((function(e){return e.status===t.STATUS_FAILED})).length>=this.statusList.length}},{key:"isExist",value:function(t){var e=!1;return this.statusList.forEach((function(i){i.itemId===t&&(e=!0)})),e}},{key:"isLoaded",value:function(){var t=this,e=this.statusList.filter((function(e){return e.status===t.STATUS_CACHING}));return(null==e?void 0:e.length)>0}}]),t}();function Oa(t){var e,i=(e="ecpmSort",t.reduce((function(t,i){return t[i[e]]=t[i[e]]||[],t[i[e]].push(i),t}),{}));Object.keys(i).forEach((function(e){var n=Da(i[e]);if(!(n.length<=1||Ra(n,"rank"))){var r=function(t){var e=[];function i(t){if(t.length)if(1!==t.length)for(var n=t.length,r=function(){var r=A(1,Pa(t,"rank")),a=function(t,e){for(var i=[[1,t[0][e]]],n=t.length,r=1;r<n;r++){var a=i[i.length-1][1]+1,o=a+t[r][e]-1;i.push([a,o])}return i}(Da(t),"rank"),o=a.findIndex((function(t){return t[0]<=r&&r<=t[1]})),d={index:t.splice(o,1)[0].index,rankSort:n};e.push(d),i(t)},a=0;a<t.length;a++)r();else{var o={index:t[0].index,rankSort:1};e.push(o)}}return i(t),e}(n);r.forEach((function(e){t[e.index].rankSort=e.rankSort}))}}))}var Ra=function(t,e){return t.every((function(i){return i[e]===t[0][e]}))},Pa=function(t,e){return t.reduce((function(t,i){return t+i[e]}),0)};function Ua(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.rawResponse,n=void 0!==i&&i;return new Promise((function(e,i){S().$fetch.fetch({url:t.url,method:t.method,header:{"Content-Type":"application/json;charset=utf-8"},data:t.data}).then((function(t){if(n)e(t.data);else{var i=t.data,r=_(null==i?void 0:i.data)?JSON.parse(null==i?void 0:i.data):i.data;e(r)}})).catch((function(t){i(t)})).finally((function(){e()}))}))}function $a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.timeout,n=void 0===i?2e4:i;try{return Promise.race([Ua(t,e),new Promise((function(t,e){setTimeout((function(){e(new Error("网络状况不太好，再刷新一次？"))}),n)}))])}catch(t){}}Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))};var Na=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $a({method:"post",url:t,data:e},i)},ja=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $a({method:"get",url:T(t,e)},i)},Fa="http://da.anythinktech.com",Ba="4.2.11",Wa={API_ERROR:"1004616",STRATEGY_REQUEST_TIME:"1004635",LOAD_FAILED:"1004630",REQUEST_FAILED:"1004631",IS_READY:"1004632",SHOW_FAILED:"1004633",CAN_NOT_GET_DEVICE_INFO:"1004681",HOT_START_INTERVAL_TIME:"1004682",STAY_TIME:"1004644",CALLBACK_ERROR:"1004683",CLICK_URL_FAIL:"1004648",DEEPLINK_RESULT:"1004650",BID_LOSS:"1004659",BID_WIN:"1004667",BID_MERGE_TO_WF:"1004668",ADX_WEBVIEW_ACTION:"1004675",ADX_IMP_INVALID:"1100004",GET_AD:"1100001",VIVO_AD_PRICE:"1100002",AD_FEEDBACK:"1004652",BANNER_HIDE:"1100003"};function qa(t){return Ma.apply(this,arguments)}function Ma(){return(Ma=o(i().mark((function t(n){var r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,O,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L=null!==(r=null===(a=this.$app)||void 0===a?void 0:a.$def)&&void 0!==r?r:this.$def,O=(null==L?void 0:L.topon_sdk)||{},P=O.appKey,U=O.appId,$=O.store,N=O.channelId,j=void 0===N?"":N,F=O.subChannelId,B=void 0===F?"":F,W=R(),q=S(),V=q.app,Y=q.network,v(null==$||null===(o=$.device)||void 0===o?void 0:o.info)){t.next=8;break}t.t0=null==$||null===(d=$.device)||void 0===d?void 0:d.info,t.next=14;break;case 8:return t.next=10,H.getInfo();case 10:if(t.t1=t.sent,t.t1){t.next=13;break}t.t1={};case 13:t.t0=t.t1;case 14:return z=t.t0,Q=V.getInfo()||{},t.next=18,Y.getType();case 18:if(t.t2=t.sent,t.t2){t.next=21;break}t.t2={};case 21:if(J=t.t2,t.t4=null==$||null===(s=$.device)||void 0===s?void 0:s.ids,t.t4){t.next=27;break}return t.next=26,H.getDeviceIds();case 26:t.t4=t.sent;case 27:if(t.t3=t.t4,t.t3){t.next=30;break}t.t3={};case 30:if(Z=t.t3,t.t6=null==$||null===(l=$.device)||void 0===l?void 0:l.oaid,t.t6){t.next=36;break}return t.next=35,H.getOaId();case 35:t.t6=t.sent;case 36:if(t.t5=t.t6,t.t5){t.next=39;break}t.t5="";case 39:if(tt=t.t5,et=Wa[n.key],it="1.0",t.t7=null==$?void 0:$.upid,t.t7){t.next=47;break}return t.next=46,G();case 46:t.t7=t.sent;case 47:return rt=t.t7,t.next=50,K();case 50:return at=t.sent,ot=null!==(c=null==Q?void 0:Q.packageName)&&void 0!==c?c:"",dt=null!==(u=""+(null==Q?void 0:Q.versionCode))&&void 0!==u?u:"",st=null!==(h=""+(null==Q?void 0:Q.versionName))&&void 0!==h?h:"",lt="".concat(null==z?void 0:z.screenWidth,"*").concat(null==z?void 0:z.screenHeight),ct=nt[null==J||null===(p=J.data)||void 0===p?void 0:p.type]||"-1",t.next=58,M.getItem("firstInitTime");case 58:if(t.t8=t.sent,t.t8){t.next=61;break}t.t8=0;case 61:return ut=t.t8,t.next=64,M.getItem("currentInitTime");case 64:if(t.t9=t.sent,t.t9){t.next=67;break}t.t9=0;case 67:return ht=t.t9,pt=Math.ceil((ht-ut+1)/864e5),ft="TOPON_AD_CACHE_APP_"+U,t.next=72,M.getItem(ft,!1);case 72:if(t.t10=t.sent,t.t10){t.next=75;break}t.t10={};case 75:if(vt=t.t10,mt=e(e({},n),{},{key:et,psid:at,timestamp:String(Date.now())}),_t="",!n.unitid){t.next=83;break}return t.next=81,X(n.unitid);case 81:_t=t.sent,mt.sessionid=_t;case 83:return gt=[mt],yt={app_id:U,system:1,platform:1,os_vn:null!==(f=""+(null==z?void 0:z.osVersionName))&&void 0!==f?f:"",os_vc:null!==(m=""+(null==z?void 0:z.osVersionCode))&&void 0!==m?m:"",package_name:ot,app_vn:st,app_vc:dt,brand:null!==(_=null==z?void 0:z.brand)&&void 0!==_?_:"",model:null!==(g=null==z?void 0:z.model)&&void 0!==g?g:"",pf_vn:null!==(y=null==z?void 0:z.platformVersionName)&&void 0!==y?y:"",pf_vc:null!==(I=""+(null==z?void 0:z.platformVersionCode))&&void 0!==I?I:"",screen:lt,network_type:ct,mcc:"1",mnc:"1",language:null!==(b=null==z?void 0:z.language)&&void 0!==b?b:"",timezone:"",sdk_ver:"UA_".concat(Ba),nw_ver:"",gp_ver:"",ua:W||"",upid:rt,channel:j||"",sub_channel:B||"",orient:1,os_fw:8,data:gt,first_init_time:1*ut,days_from_first_init:1*pt,abtest_id:null!==(k=null==vt||null===(w=vt.data)||void 0===w?void 0:w.abtest_id)&&void 0!==k?k:""},It={android_id:null!==(x=null==Z?void 0:Z.user)&&void 0!==x?x:"",mac:null!==(T=null==Z?void 0:Z.mac)&&void 0!==T?T:"",imei:"",oaid:tt,gaid:null!==(A=null==Z?void 0:Z.advertising)&&void 0!==A?A:"",is_cn_sdk:"1"},bt=C(D(yt)),kt=C(D(It)),wt=E(P,[{key:"api_ver",value:it},{key:"p",value:bt},{key:"p2",value:kt}]),t.abrupt("return",{p:bt,p2:kt,api_ver:it,sign:wt});case 91:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Va(t){return Ha.apply(this,arguments)}function Ha(){return(Ha=o(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qa.call(this,e);case 3:return n=t.sent,t.abrupt("return",Na("".concat(Fa,"/v2/da"),n));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))).apply(this,arguments)}function Ga(t){return Ya.apply(this,arguments)}function Ya(){return(Ya=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,E,C,D,L,O,P,U,$,N,j,F,B,W,q,M,V,Y,z,X,Q,J,Z,tt,et,it,rt,at,ot,dt,st;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,T=(null==x?void 0:x.topon_sdk)||{},A=T.appId,E=T.store,C=T.channelId,D=void 0===C?"":C,L=T.subChannelId,O=void 0===L?"":L,P=e.key,U=e.msg,$=e.msg1,N=e.msg2,j=e.msg3,F=R(),B=S(),W=B.app,q=B.network,v(null==E||null===(a=E.device)||void 0===a?void 0:a.info)){t.next=9;break}t.t0=null==E||null===(o=E.device)||void 0===o?void 0:o.info,t.next=15;break;case 9:return t.next=11,H.getInfo();case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1={};case 14:t.t0=t.t1;case 15:return M=t.t0,V=W.getInfo()||{},t.next=19,q.getType();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:if(Y=t.t2,t.t4=null==E||null===(d=E.device)||void 0===d?void 0:d.ids,t.t4){t.next=28;break}return t.next=27,H.getDeviceIds();case 27:t.t4=t.sent;case 28:if(t.t3=t.t4,t.t3){t.next=31;break}t.t3={};case 31:if(z=t.t3,t.t6=null==E||null===(s=E.device)||void 0===s?void 0:s.oaid,t.t6){t.next=37;break}return t.next=36,H.getOaId();case 36:t.t6=t.sent;case 37:if(t.t5=t.t6,t.t5){t.next=40;break}t.t5="";case 40:if(X=t.t5,Q=Wa[P],t.t7=null==E?void 0:E.upid,t.t7){t.next=47;break}return t.next=46,G();case 46:t.t7=t.sent;case 47:return J=t.t7,t.next=50,K();case 50:return Z=t.sent,tt=null!==(l=null==V?void 0:V.packageName)&&void 0!==l?l:"",et=null!==(c=""+(null==V?void 0:V.versionCode))&&void 0!==c?c:"",it=null!==(u=""+(null==V?void 0:V.versionName))&&void 0!==u?u:"",rt="".concat(null==M?void 0:M.screenWidth,"*").concat(null==M?void 0:M.screenHeight),at=nt[null==Y||null===(h=Y.data)||void 0===h?void 0:h.type]||"-1",ot={key:Q,psid:Z,timestamp:String(Date.now()),upid:J,sdk_time:Date.now(),msg:U,msg1:$,msg2:N,msg3:j},dt={app_id:A,system:1,platform:1,os_vn:null!==(p=""+(null==M?void 0:M.osVersionName))&&void 0!==p?p:"",os_vc:null!==(f=""+(null==M?void 0:M.osVersionCode))&&void 0!==f?f:"",package_name:tt,app_vn:it,app_vc:et,brand:null!==(m=null==M?void 0:M.brand)&&void 0!==m?m:"",model:null!==(_=null==M?void 0:M.model)&&void 0!==_?_:"",pf_vn:null!==(g=null==M?void 0:M.platformVersionName)&&void 0!==g?g:"",pf_vc:null!==(y=""+(null==M?void 0:M.platformVersionCode))&&void 0!==y?y:"",screen:rt,network_type:at,mcc:"1",mnc:"1",language:null!==(I=null==M?void 0:M.language)&&void 0!==I?I:"",timezone:"",sdk_ver:"UA_".concat(Ba),nw_ver:"",gp_ver:"",ua:F||"",upid:J,channel:D||"",sub_channel:O||"",orient:1,os_fw:8},st={android_id:null!==(b=null==z?void 0:z.user)&&void 0!==b?b:"",mac:null!==(k=null==z?void 0:z.mac)&&void 0!==k?k:"",imei:"",oaid:X,gaid:null!==(w=null==z?void 0:z.advertising)&&void 0!==w?w:"",is_cn_sdk:"1"},t.abrupt("return",{pParams:dt,p2Params:st,data:ot});case 60:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ka(t,e){var i,n,r=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:this.$def,a=((null==r?void 0:r.topon_sdk)||{}).appKey,o=C(D(t)),d=C(D(e));return{p:o,p2:d,api_ver:"1.0",sign:E(a,[{key:"api_ver",value:"1.0"},{key:"p",value:o},{key:"p2",value:d}])}}function za(t){try{var i,n=(null==this||null===(i=this.$def)||void 0===i||null===(i=i.topon_sdk)||void 0===i?void 0:i.destroyParams)||{},r=n.pParams,a=n.p2Params,o=function(t,i){var n=Wa[i.key];return e(e(e({},t),i),{},{key:n,timestamp:String(Date.now())})}(n.data,t),d=e(e({},r),{},{data:[o]}),s=Ka.call(this,d,a);return Na("".concat(Fa,"/v2/da"),s)}catch(t){}}var Xa="4.2.11",Qa="http://api.anythinktech.com";function Ja(t){return Za.apply(this,arguments)}function Za(){return(Za=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt,xt,St,Tt,At;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,$=(null==U?void 0:U.topon_sdk)||{},N=$.appKey,j=$.appId,F=$.channelId,B=void 0===F?"":F,W=$.subChannelId,q=void 0===W?"":W,V=$.customParam,Y=void 0===V?{}:V,z=$.placementCustomParam,Q=void 0===z?{}:z,J=$.store,Z=e.placementId,tt=O(Y,Q),et=R(),it=S(),rt=it.app,at=it.network,ot=it.device,v(null==J||null===(a=J.device)||void 0===a?void 0:a.info)){t.next=10;break}t.t0=null==J||null===(o=J.device)||void 0===o?void 0:o.info,t.next=16;break;case 10:return t.next=12,H.getInfo();case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1={};case 15:t.t0=t.t1;case 16:return dt=t.t0,st=rt.getInfo()||{},t.next=20,at.getType();case 20:if(t.t2=t.sent,t.t2){t.next=23;break}t.t2={};case 23:if(lt=t.t2,t.t4=null==J||null===(d=J.device)||void 0===d?void 0:d.ids,t.t4){t.next=29;break}return t.next=28,H.getDeviceIds();case 28:t.t4=t.sent;case 29:if(t.t3=t.t4,t.t3){t.next=32;break}t.t3={};case 32:if(ct=t.t3,t.t6=null==J||null===(s=J.device)||void 0===s?void 0:s.oaid,t.t6){t.next=38;break}return t.next=37,H.getOaId();case 37:t.t6=t.sent;case 38:if(t.t5=t.t6,t.t5){t.next=41;break}t.t5="";case 41:if(ut=t.t5,ht="".concat(null==dt?void 0:dt.screenWidth,"*").concat(null==dt?void 0:dt.screenHeight),pt=nt[null==lt||null===(l=lt.data)||void 0===l?void 0:l.type]||"-1",ft="1.0",t.t7=null==J?void 0:J.upid,t.t7){t.next=50;break}return t.next=49,G();case 49:t.t7=t.sent;case 50:return vt=t.t7,t.next=53,K();case 53:return mt=t.sent,t.next=56,X(Z);case 56:return _t=t.sent,t.next=59,M.getItem("firstInitTime");case 59:if(t.t8=t.sent,t.t8){t.next=62;break}t.t8=0;case 62:return gt=t.t8,t.next=65,M.getItem("currentInitTime");case 65:if(t.t9=t.sent,t.t9){t.next=68;break}t.t9=0;case 68:return yt=t.t9,It=Math.ceil((yt-gt+1)/864e5),bt="TOPON_AD_CACHE_APP_"+j,t.next=73,M.getItem(bt,!1);case 73:if(t.t10=t.sent,t.t10){t.next=76;break}t.t10={};case 76:return kt=t.t10,wt={system:1,os_fw:8,mcc:"1",mnc:"1",timezone:"",nw_ver:"",orient:1,ua:et||"",os_vn:null!==(c=null==dt?void 0:dt.osVersionName)&&void 0!==c?c:"",os_vc:null!==(u=""+(null==dt?void 0:dt.osVersionCode))&&void 0!==u?u:"",package_name:null!==(h=null==st?void 0:st.packageName)&&void 0!==h?h:"",app_vn:null!==(p=null==st?void 0:st.versionName)&&void 0!==p?p:"",app_vc:null!==(f=""+(null==st?void 0:st.versionCode))&&void 0!==f?f:"",brand:null!==(m=null==dt?void 0:dt.brand)&&void 0!==m?m:"",model:null!==(_=null==dt?void 0:dt.model)&&void 0!==_?_:"",pf_vn:null!==(g=null==dt?void 0:dt.platformVersionName)&&void 0!==g?g:"",pf_vc:null!==(y=""+(null==dt?void 0:dt.platformVersionCode))&&void 0!==y?y:"",network_type:pt,screen:ht,upid:vt,app_id:j,sdk_ver:"UA_".concat(Xa),platform:1,pl_id:Z,channel:B||"",sub_channel:q||"",custom:tt,ps_id:mt,session_id:_t,first_init_time:1*gt,days_from_first_init:It,deny:String(dt.screenDensity),api_ver:"1.0",host_vn:null!==(I=null==ot||null===(b=ot.host)||void 0===b?void 0:b.versionName)&&void 0!==I?I:"",host_vc:null!==(k=""+(null==ot||null===(w=ot.host)||void 0===w?void 0:w.versionCode))&&void 0!==k?k:"",abtest_id:null!==(x=null==kt||null===(T=kt.data)||void 0===T?void 0:T.abtest_id)&&void 0!==x?x:""},xt={android_id:null!==(A=null==ct?void 0:ct.user)&&void 0!==A?A:"",mac:null!==(L=null==ct?void 0:ct.mac)&&void 0!==L?L:"",imei:"",oaid:ut,gaid:null!==(P=null==ct?void 0:ct.advertising)&&void 0!==P?P:"",is_cn_sdk:"1"},St=C(D(wt)),Tt=C(D(xt)),At=E(N,[{key:"api_ver",value:ft},{key:"p",value:St},{key:"p2",value:Tt}]),t.abrupt("return",{p:St,p2:Tt,api_ver:ft,sign:At});case 84:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function to(t){return eo.apply(this,arguments)}function eo(){return eo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=e.placementId,t.prev=2,a=Date.now(),t.next=6,Ja.call(this,e);case 6:return o=t.sent,t.next=9,Na("".concat(Qa,"/v2/open/placement"),o,{rawResponse:!0});case 9:return d=t.sent,s=_(null==d?void 0:d.data)?JSON.parse(null==d?void 0:d.data):(null==d?void 0:d.data)||{},l=Date.now(),c={key:"STRATEGY_REQUEST_TIME",msg:"placement",unitid:r,msg1:String(a),msg2:String(l),msg3:String(l-a),msg4:null!=n&&n.isPreload?"1":""},Va.call(this,c),s.code>0&&(u={key:"API_ERROR",msg:"placement",unitid:r,msg1:String(s.code),msg2:s.msg,msg3:Qa.replace(/^https?:\\/\\//,"")},Va.call(this,u)),t.abrupt("return",d);case 18:return t.prev=18,t.t0=t.catch(2),h={key:"API_ERROR",msg:"placement",msg1:"unknow",msg2:"request error",unitid:r,msg3:Qa.replace(/^https?:\\/\\//,"")},Va.call(this,h),t.abrupt("return",{});case 23:case"end":return t.stop()}}),t,this,[[2,18]])}))),eo.apply(this,arguments)}var io="http://tk.anythinktech.com",no="4.2.11",ro={AD_LOAD:10,AD_LOAD_FILLED:12,AD_REQUEST:1,AD_REQUEST_FILLED:2,AD_BIDDING:11,AD_SHOW:13,AD_CLICK:6,AD_IMPRESSION:4,APP_STARTUP:21};function ao(t){return oo.apply(this,arguments)}function oo(){return(oo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt,xt,St,Tt,At,Et,Ct,Dt,Lt,Ot,Rt,Pt,Ut,$t,Nt,jt,Ft,Bt,Wt,qt,Mt,Vt,Ht,Gt,Yt,Kt,zt,Xt,Qt,Jt,Zt,te,ee,ie,ne,re,ae,oe,de,se,le,ce;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,N=(null==$?void 0:$.topon_sdk)||{},j=N.appKey,F=N.appId,B=N.channelId,W=void 0===B?"":B,q=N.subChannelId,V=void 0===q?"":q,Y=N.customParam,z=void 0===Y?{}:Y,Q=N.placementCustomParam,J=void 0===Q?{}:Q,Z=N.store,tt=e.placementId,et=e.requestId,it=e.logType,rt=e.trafficGroupId,at=e.segmentId,ot=e.adSourceId,dt=e.nwFirmId,st=e.asId,lt=e.format,ct=e.ecpm,ut=e.sPty,ht=e.placementLoadTime,pt=e.unitFilledTime,ft=e.reqUgNum,vt=e.pC,mt=e.bidTk,_t=void 0===mt?{}:mt,gt=e.wfType,yt=e.psIdVirtual,It=void 0===yt?"":yt,bt=O(z,J),kt=S(),wt=kt.app,xt=kt.network,St=kt.device,Tt=R(),v(null==Z||null===(a=Z.device)||void 0===a?void 0:a.info)){t.next=10;break}t.t0=null==Z||null===(o=Z.device)||void 0===o?void 0:o.info,t.next=16;break;case 10:return t.next=12,H.getInfo();case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1={};case 15:t.t0=t.t1;case 16:return At=t.t0,Et=wt.getInfo()||{},t.next=20,xt.getType();case 20:if(t.t2=t.sent,t.t2){t.next=23;break}t.t2={};case 23:if(Ct=t.t2,t.t4=null==Z||null===(d=Z.device)||void 0===d?void 0:d.ids,t.t4){t.next=29;break}return t.next=28,H.getDeviceIds();case 28:t.t4=t.sent;case 29:if(t.t3=t.t4,t.t3){t.next=32;break}t.t3={};case 32:if(Dt=t.t3,t.t6=null==Z||null===(s=Z.device)||void 0===s?void 0:s.oaid,t.t6){t.next=38;break}return t.next=37,H.getOaId();case 37:t.t6=t.sent;case 38:if(t.t5=t.t6,t.t5){t.next=41;break}t.t5="";case 41:if(Lt=t.t5,Ot="1.0",t.t7=null==Z?void 0:Z.upid,t.t7){t.next=48;break}return t.next=47,G();case 47:t.t7=t.sent;case 48:return Rt=t.t7,t.next=51,K();case 51:return Pt=t.sent,It&&(Pt=Pt+"/"+It),t.next=55,X(tt);case 55:return Ut=t.sent,t.next=58,M.getItem("firstInitTime");case 58:if(t.t8=t.sent,t.t8){t.next=61;break}t.t8=0;case 61:return $t=t.t8,t.next=64,M.getItem("currentInitTime");case 64:if(t.t9=t.sent,t.t9){t.next=67;break}t.t9=0;case 67:return Nt=t.t9,jt=Math.ceil((Nt-$t+1)/864e5),Ft="".concat(null==At?void 0:At.screenWidth,"*").concat(null==At?void 0:At.screenHeight),Bt=nt[null==Ct||null===(l=Ct.data)||void 0===l?void 0:l.type]||"-1",Wt="TOPON_AD_CACHE_APP_"+F,t.next=74,M.getItem(Wt,!1);case 74:if(t.t10=t.sent,t.t10){t.next=77;break}t.t10={};case 77:return qt=t.t10,Mt={app_id:F,system:1,platform:1,os_vn:null!==(c=null==At?void 0:At.osVersionName)&&void 0!==c?c:"",os_vc:null!==(u=""+(null==At?void 0:At.osVersionCode))&&void 0!==u?u:"",package_name:null!==(h=null==Et?void 0:Et.packageName)&&void 0!==h?h:"",app_vn:null!==(p=null==Et?void 0:Et.versionName)&&void 0!==p?p:"",app_vc:null!==(f=""+(null==Et?void 0:Et.versionCode))&&void 0!==f?f:"",brand:null!==(m=null==At?void 0:At.brand)&&void 0!==m?m:"",model:null!==(_=null==At?void 0:At.model)&&void 0!==_?_:"",pf_vn:null!==(g=null==At?void 0:At.platformVersionName)&&void 0!==g?g:"",pf_vc:null!==(y=""+(null==At?void 0:At.platformVersionCode))&&void 0!==y?y:"",screen:Ft,network_type:Bt,mcc:"1",mnc:"1",language:null!==(I=null==At?void 0:At.language)&&void 0!==I?I:"",timezone:"",sdk_ver:"UA_".concat(no),gp_ver:"",ua:Tt||"",orient:1,upid:Rt,channel:W,sub_channel:V,android_id:null!==(b=null==Dt?void 0:Dt.user)&&void 0!==b?b:"",oaid:Lt,mac:null!==(k=null==Dt?void 0:Dt.mac)&&void 0!==k?k:"",imei:"",is_cn_sdk:"1",gaid:null!==(w=null==Dt?void 0:Dt.advertising)&&void 0!==w?w:"",idfa:"",idfv:"",custom:bt,os_fw:8,first_init_time:1*$t,days_from_first_init:jt,host_vn:null!==(x=null==St||null===(T=St.host)||void 0===T?void 0:T.versionName)&&void 0!==x?x:"",host_vc:null!==(A=""+(null==St||null===(L=St.host)||void 0===L?void 0:L.versionCode))&&void 0!==A?A:"",abtest_id:null!==(P=null==qt||null===(U=qt.data)||void 0===U?void 0:U.abtest_id)&&void 0!==P?P:""},Vt=(new Date).getTime(),1===(Ht={traffic_group_id:rt,sdk_time:Vt,req_id:et,req_par:1,req_par_num:ft,pl_id:tt,type:ro[it],unit_id:ot,nw_firm_id:dt,gro_id:at,format:lt,ps_id:Pt,sessionid:Ut,asid:st,bidtype:["1","2"].includes(gt)?1:0,bidprice:ct,s_pty:ut,p_c:vt,cl_imp:0,isload:""}).bidtype&&(Gt=_t.bidId,Yt=void 0===Gt?"":Gt,Kt=_t.tpBidId,zt=void 0===Kt?"":Kt,Xt=_t.bidRequestTime,Qt=_t.bidResponseTime,Jt=_t.bidFilledTime,Zt=_t.bidResult,te=_t.errorMsg,ee=void 0===te?"":te,ie=_t.rlBidStatus,ne=_t.sortType,re=_t.sortPriority,ae={bid_id:Yt,tp_bid_id:zt},oe={},"AD_BIDDING"===it&&(oe={bidrequesttime:Xt,bidresponsetime:Qt,bid_filledtime:Jt,bidresponselist:[{sortpriority:re,sorttype:ne,unit_id:ot,bidresult:Zt,bidprice:ct,errormsg:ee,tp_bid_id:zt,nw_firm_id:dt,rl_bid_status:ie,s_pty:ut}]}),Ht=Object.assign({},Ht,ae,oe)),"AD_LOAD_FILLED"===it&&(Ht.loadtime=ht),"AD_REQUEST_FILLED"===it&&(Ht.filledtime=pt),de=[Ht],se=C(D(Mt)),le=C(D(de)),ce=E(j,[{key:"api_ver",value:Ot},{key:"common",value:se},{key:"data",value:le}]),t.abrupt("return",{common:se,data:le,api_ver:Ot,sign:ce});case 90:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function so(t){return lo.apply(this,arguments)}function lo(){return(lo=o(i().mark((function t(n){var r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ao.call(this,n);case 3:return r=t.sent,t.next=6,Na("".concat(io,"/v2/tk"),r);case 6:(a=t.sent).code>0&&(o=e(e({},n),{},{key:"API_ERROR",msg:"tk_2",msg1:String(a.code),msg2:a.msg,msg3:io.replace(/^https?:\\/\\//,"")}),Va.call(this,o)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),d=e(e({},n),{},{key:"API_ERROR",msg:"tk_2",msg1:"unknow",msg2:"request error",msg3:io.replace(/^https?:\\/\\//,"")}),Va.call(this,d);case 14:case"end":return t.stop()}}),t,this,[[0,10]])})))).apply(this,arguments)}var co="4.2.11",uo="http://adx-cn.anythinktech.com",ho={BROWSER:2,WEBVIEW:3},po=["{__VIDEO_TIME__}","{__BEGIN_TIME__}","{__END_TIME__}","{__PLAY_FIRST_FRAME__}","{__PLAY_LAST_FRAME__}","{__SCENE__}","{__TYPE__}","{__BEHAVIOR__}","{__STATUS__}","{__REQ_WIDTH__}","{__REQ_HEIGHT__}","{__WIDTH__}","{__HEIGHT__}","{__DOWN_X__}","{__DOWN_Y__}","{__UP_X__}","{__UP_Y__}","{__CLICK_ID__}","{__RE_DOWN_X__}","{__RE_DOWN_Y__}","{__RE_UP_X__}","{__RE_UP_Y__}","{__TS__}","{__TS_MSEC__}","{__END_TS__}","{__END_TS_MSEC__}","{__PLAY_SEC__}","{__PLAY_SEC__}","{__PLAY_MSEC__}","{__DPLINK_TYPE__}","{ABSOLUTE_COORD}","{RELATIVE_COORD}"];function fo(t){return vo.apply(this,arguments)}function vo(){return(vo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,E,L,O,P,U,$,N,j,F,B,W,q,M,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,T=(null==x?void 0:x.topon_sdk)||{},A=T.appId,E=T.channelId,L=void 0===E?"":E,O=T.subChannelId,P=void 0===O?"":O,U=T.store,$=T.isTest,N=void 0!==$&&$,j=e.placementId,F=e.unitId,B=e.requestId,W=e.adxExt,q=void 0===W?"":W,M=e.adWidth,V=void 0===M?0:M,Y=e.adHeight,z=void 0===Y?0:Y,Q=e.format,J=void 0===Q?"0":Q,Z=R(),tt=S(),et=tt.app,it=tt.network,v(null==U||null===(a=U.device)||void 0===a?void 0:a.info)){t.next=9;break}t.t0=null==U||null===(o=U.device)||void 0===o?void 0:o.info,t.next=15;break;case 9:return t.next=11,H.getInfo();case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1={};case 14:t.t0=t.t1;case 15:return rt=t.t0,at=et.getInfo()||{},t.next=19,it.getType();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:if(ot=t.t2,t.t4=null==U||null===(d=U.device)||void 0===d?void 0:d.ids,t.t4){t.next=28;break}return t.next=27,H.getDeviceIds();case 27:t.t4=t.sent;case 28:if(t.t3=t.t4,t.t3){t.next=31;break}t.t3={};case 31:if(dt=t.t3,t.t6=null==U||null===(s=U.device)||void 0===s?void 0:s.oaid,t.t6){t.next=37;break}return t.next=36,H.getOaId();case 36:t.t6=t.sent;case 37:if(t.t5=t.t6,t.t5){t.next=40;break}t.t5="";case 40:if(st=t.t5,lt="".concat(null==rt?void 0:rt.screenWidth,"*").concat(null==rt?void 0:rt.screenHeight),ct=nt[null==ot||null===(l=ot.data)||void 0===l?void 0:l.type]||"-1",t.t7=null==U?void 0:U.upid,t.t7){t.next=48;break}return t.next=47,G();case 47:t.t7=t.sent;case 48:return ut=t.t7,t.next=51,K();case 51:return ht=t.sent,t.next=54,X(j);case 54:return pt=t.sent,ft={system:1,platform:1,brand:null!==(c=null==rt?void 0:rt.brand)&&void 0!==c?c:"",model:null!==(u=null==rt?void 0:rt.model)&&void 0!==u?u:"",os_vn:null!==(h=null==rt?void 0:rt.osVersionName)&&void 0!==h?h:"",os_vc:null!==(p=""+(null==rt?void 0:rt.osVersionCode))&&void 0!==p?p:"",os_fw:8,pf_vn:null!==(f=null==rt?void 0:rt.platformVersionName)&&void 0!==f?f:"",pf_vc:null!==(m=""+(null==rt?void 0:rt.platformVersionCode))&&void 0!==m?m:"",sdk_ver:"UA_".concat(co),app_id:A,app_vn:null!==(_=null==at?void 0:at.versionName)&&void 0!==_?_:"",app_vc:null!==(g=""+(null==at?void 0:at.versionCode))&&void 0!==g?g:"",package_name:null!==(y=null==at?void 0:at.packageName)&&void 0!==y?y:"",pl_id:j,mcc:"1",mnc:"1",language:null!==(I=null==rt?void 0:rt.language)&&void 0!==I?I:"",timezone:"",nw_ver:"",orient:1,ua:Z||"",network_type:ct,screen:lt,upid:ut,channel:L||"",sub_channel:P||"",ps_id:ht,session_id:pt,deny:String(rt.screenDensity)},vt={android_id:null!==(b=null==dt?void 0:dt.user)&&void 0!==b?b:"",mac:null!==(k=null==dt?void 0:dt.mac)&&void 0!==k?k:"",imei:"",oaid:st,gaid:null!==(w=null==dt?void 0:dt.advertising)&&void 0!==w?w:"",is_cn_sdk:"1"},mt=[{ad_width:V,ad_height:z,nw_firm_id:66,unit_id:String(F),ad_source_id:String(F),get_offer:2,ad_format:J}],N&&(mt[0].test=1),_t=C(D(ft)),gt=C(D(vt)),yt=C(D(mt)),t.abrupt("return",{p:_t,p2:gt,request_id:B,adx_ext:q,hb_list:yt});case 63:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function mo(t,e){return _o.apply(this,arguments)}function _o(){return(_o=o(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fo.call(this,e);case 3:return r=t.sent,t.abrupt("return",Na("".concat(uo,"/bid"),r,{timeout:n}));case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.abrupt("return",{code:1,msg:"请求API异常"});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))).apply(this,arguments)}function go(t,e,i,n){return yo.apply(this,arguments)}function yo(){return(yo=o(i().mark((function t(n,r,a,o){var d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D,L,O,R,P,U,$,N,j,F,B,W,q,M,V;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.placementId,u=n.exchR,h=a.hbBidTimeout,p=a.requestId,f=a.segmentId,m=a.trafficGroupId,_=a.asId,g=Date.now(),t.next=5,mo.call(this,n,h);case 5:if(y=t.sent,I=Date.now(),b=null!==(d=null==y?void 0:y.data)&&void 0!==d?d:[],k=b[0]||{},w=this.placementLoadStart,x=this.placementLoadEnd,S=this.format,T=this.reqUgNum,A=this.apiData,E=A.t_g_id,C=A.gro_id,D=A.asid,L=A.p_c,O=void 0===L?{}:L,R=x-w,P=o.getStatusList(),U=P.length,1,$=P.findIndex((function(t){return t.ecpmSort<k.s_pty})),N={bidRequestTime:g,bidResponseTime:I,bidFilledTime:I-g,bidResult:0,rlBidStatus:0,sortType:-1,sortPriority:$>-1?$+1:U+1},j={placementId:c,requestId:p,logType:"AD_BIDDING",trafficGroupId:E,segmentId:C,asId:D,adSourceId:r.unit_id||0,nwFirmId:r.nw_firm_id||0,ecpm:k.price,sPty:k.s_pty||0,format:S,placementLoadTime:R,unitFilledTime:I-g,reqUgNum:T,pC:O,wfType:"1"},F=e(e({},j),{},{bidTk:N}),r.bidTk={bidFilledTime:I-g},!(y.code>0||(null==y||null===(s=y.data)||void 0===s?void 0:s.length)<=0)){t.next=25;break}return F.bidTk.errorMsg="bid error, code = ".concat(y.code,", msg = ").concat(y.msg),so.call(this,F),t.abrupt("return",r);case 25:if(!(1!==k.is_success||k.err_code>0)){t.next=29;break}return F.bidTk.errorMsg="bid error, code = ".concat(k.err_code,", msg = ").concat(k.err_msg),so.call(this,F),t.abrupt("return",r);case 29:if(!(v(k)||v(k.offer_data)||k.offer_data.seatbid&&k.offer_data.seatbid.length<=0)){t.next=32;break}return so.call(this,F),t.abrupt("return",r);case 32:if(B=k.offer_data.seatbid[0],r.bidTk.bidId=k.bid_id,r.bidTk.tpBidId=k.tp_bid_id,F.bidTk.bidId=k.bid_id,F.bidTk.tpBidId=k.tp_bid_id,B.tk.lurl||(B.tk.lurl=[]),B.tk.nurl||(B.tk.nurl=[]),B.tk.burl||(B.tk.burl=[]),k.lurl&&B.tk.lurl.push(k.lurl),k.nurl&&B.tk.nurl.push(k.nurl),k.burl&&B.tk.burl.push(k.burl),Object.values(ho).includes((null==B?void 0:B.link_type)||0)){t.next=46;break}return so.call(this,F),t.abrupt("return",r);case 46:if(F.bidTk.bidResult=1,F.bidTk.rlBidStatus=2,W=Io.call(this,c),q=null!==(l=null==W?void 0:W._expirationTime)&&void 0!==l?l:0,!v(W)&&W.price>k.price&&q>Date.now()&&(F.bidTk.bidResult=0,F.bidTk.rlBidStatus=1,ko.call(this,B.tk.lurl),M={key:"BID_LOSS",unitid:c,requestid:p,groupid:f,traffic_group_id:m,asid:_,msg:"66",msg1:""+k.unit_id,msg2:""+k.price,msg3:""},k=W,Va.call(this,M)),F.bidTk.bidResult&&(F.bidTk.sortType=0),so.call(this,F),!(o.selecter().ecpm>k.price)){t.next=59;break}return ko.call(this,B.tk.lurl),V={key:"BID_LOSS",unitid:c,requestid:p,groupid:f,traffic_group_id:m,asid:_,msg:"66",msg1:""+k.unit_id,msg2:""+k.price,msg3:""},Va.call(this,V),t.abrupt("return",Promise.reject("ADX BID_LOSS"));case 59:return r.ecpm=k.price,r.cy_ecpm=k.price*u,r.s_pty=k.s_pty,r.nw_cache_time=k.expire,k.bidTk=r.bidTk,k._expirationTime=Date.now()+k.expire,bo.call(this,c,k),t.abrupt("return",r);case 67:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Io(t){var e,i,n,r,a,o=null!==(e=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:null==this?void 0:this.$def)&&void 0!==e?e:null;return o&&null!=o&&o.topon_sdk&&null!==(r=null===(a=o.topon_sdk)||void 0===a||null===(a=a.cache)||void 0===a||null===(a=a.adxOffer)||void 0===a?void 0:a[t])&&void 0!==r?r:{}}function bo(t,e){var i,n,r,a=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:null==this?void 0:this.$def)&&void 0!==i?i:null;a&&null!=a&&a.topon_sdk&&(a.topon_sdk.cache.adxOffer||(a.topon_sdk.cache.adxOffer=Object.create(null)),a.topon_sdk.cache.adxOffer[t]=e)}function ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new RegExp(po.join("|"),"gi"),n=[];return t.forEach((function(t){var r=t.replace(i,(function(t){return e[t]}));n.push(ja("".concat(r),{}))})),Promise.all(n)}function wo(t,e){var i=e.getStatusList()||[],n=i.length,r=i.findIndex((function(e){return e.ecpmSort<t.s_pty}));return r>-1?r+1:n+1}function xo(t,i,n,r,a,o){var d=o.placementId,s=o.format,l=this.placementLoadStart,c=this.placementLoadEnd,u=this.reqUgNum,h=this.apiData,p=h.t_g_id,f=h.gro_id,v=h.asid,m=h.p_c,_=void 0===m?{}:m,g=c-l,y={bidRequestTime:n,bidResponseTime:i,bidFilledTime:i-n,bidResult:0,rlBidStatus:0,sortType:-1,sortPriority:r};return e(e({},{placementId:d,requestId:a.requestId,logType:"AD_BIDDING",trafficGroupId:p,segmentId:f,asId:v,adSourceId:t.unit_id||0,nwFirmId:t.nw_firm_id||0,ecpm:t.price,sPty:t.s_pty||0,format:s,placementLoadTime:g,unitFilledTime:i-n,reqUgNum:u,pC:_,wfType:"2"}),{},{bidTk:y})}function So(t,e,i,n,r){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,d=n.placementId,s=n.exchRateC2u,l=n.accountCurrency,c=e.unit_id,u=d+"/"+c,h=j.call(this,"unit",u),p=null!==(a=null==h?void 0:h._expirationTime)&&void 0!==a?a:0;if(!v(h)&&h.offer.ecpm>t.ecpm&&p>Date.now()){var f;i.bidTk.bidResult=0,i.bidTk.rlBidStatus=1,o=null!==(f=null==h?void 0:h.ad)&&void 0!==f?f:null;var m=t.adId?{adid:t.adId}:{};Ao.call(this,{condition:n,strategy:r,unit:e,notifyOptions:m,notifyInstance:o});var _=(t=h.offer).ecpm/100;e.ecpm=_*s,e.price=_*s,e.cy_ecpm="USD"===l?_*s:_,e.s_pty=_*s}return{offer:t,adInstance:o}}function To(t,e,i,n,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=r.selecter();if(o&&o.ecpm>e.ecpm){var d=t.adId?{adid:t.adId}:{};return Ao.call(this,{condition:i,strategy:n,unit:e,notifyOptions:d,notifyInstance:a}),o.unit}return null}function Ao(t){var i=t.condition,n=t.strategy,r=t.unit,a=t.daOptions,o=void 0===a?{}:a,d=t.notifyOptions,s=void 0===d?{}:d,l=t.notifyInstance,c=void 0===l?null:l,u=i.placementId,h=n.requestId,p=n.segmentId,f=n.trafficGroupId,v=n.asId;55===r.nw_firm_id&&Eo.call(this,s,c);var m=e({key:"BID_LOSS",unitid:u,requestid:h,groupid:p,traffic_group_id:f,asid:v,msg:r.nw_firm_id,msg1:""+r.unit_id,msg2:""+r.ecpm,msg3:""},o);Va.call(this,m)}function Eo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=S(),r=n.ad,a=i||r,o=e({winPrice:0,code:1,channel:"mob"},t);a.notifyRankLoss(o)}function Co(t){var i=S().ad;return new Promise((function(n,r){i.preloadAd(e(e({},t),{},{success:function(t){n(t)},fail:function(t,e){n(t)}}))}))}function Do(t){var e=S().ad,i=null;try{i=e.createRewardedVideoAd(t)}catch(t){}return i}function Lo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((null==t?void 0:t.length)<=1)return t;var e=JSON.parse(JSON.stringify(t));return e.sort((function(t,e){return e.price-t.price})),e}function Oo(t,e,i,n){return Ro.apply(this,arguments)}function Ro(){return(Ro=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.unit_id,u=e.content,h=JSON.parse(u),p=h.unit_id,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+"/"+c,g={},y={adUnitId:p,ecpm:!0,type:"native",adCount:1},I=Date.now(),t.next=10,Co.call(this,y);case 10:if(b=t.sent,k=Date.now(),g=null!==(o=null==b||null===(d=b.adList)||void 0===d?void 0:d[0])&&void 0!==o?o:{},w=null!==(s=null===(l=g)||void 0===l?void 0:l.ecpm)&&void 0!==s?s:0,x=w/100,e.ecpm=x*v,e.price=x*v,e.cy_ecpm="USD"===m?x*v:x,e.s_pty=x*v,e.bidTk={bidFilledTime:k-I},S=wo.call(this,e,a),(T=xo.call(this,e,k,I,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,g,e,T,n,r),E=A.offer,g=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),g.ecpm||(T.bidTk.sortType=-12,T.bidTk.errorMsg="0 bid price"),so.call(this,T),g.ecpm){t.next=34;break}return C={msg2:"0"},D={adid:g.adId},Ao.call(this,{condition:n,strategy:r,unit:e,notifyOptions:D,daOptions:C}),t.abrupt("return",Promise.reject("offer.ecpm: ".concat(g.ecpm,"不符合bid场景，reject掉")));case 34:if(!To.call(this,g,e,n,r,a)){t.next=37;break}return t.abrupt("return",Promise.reject("HB BID_LOSS"));case 37:return N.call(this,"unit",_,{ad:null,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt("return",e);case 39:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Po(t,e,i,n){var r=this,a=t.unit_id,o=t.content,d=JSON.parse(o).unit_id,s=e.placementId,l=e.exchRateC2u,c=e.accountCurrency,u=s+"/"+a,h={ecpm:0},p={adUnitId:d},f=Date.now(),v=Do.call(this,p);return v?(v.load(),new Promise((function(a,o){v.onLoad((function(){var d,s;h=v.getECPM();var p=Date.now(),m=(null!==(d=null===(s=h)||void 0===s?void 0:s.ecpm)&&void 0!==d?d:0)/100;t.ecpm=m*l,t.price=m*l,t.cy_ecpm="USD"===c?m*l:m,t.s_pty=m*l,t.bidTk={bidFilledTime:p-f};var _=wo.call(r,t,n),g=xo.call(r,t,p,f,_,i,e);g.bidTk.bidResult=1,g.bidTk.rlBidStatus=2;var y=So.call(r,h,t,g,e,i,v),I=y.offer,b=y.adInstance;if(h=I,v=b,g.bidTk.bidResult&&(g.bidTk.sortType=0),h.ecpm||(g.bidTk.sortType=-12,g.bidTk.errorMsg="0 bid price"),so.call(r,g),!h.ecpm){return Ao.call(r,{condition:e,strategy:i,unit:t,daOptions:{msg2:"0"},notifyInstance:v}),Promise.reject("offer.ecpm: ".concat(h.ecpm,"不符合bid场景，reject掉"))}var k=To.call(r,h,t,e,i,n,v);k&&o(k),N.call(r,"unit",u,{ad:v,offer:h,_expirationTime:Date.now()+t.nw_cache_time}),a(t)})),v.onError((function(n){var a=Date.now(),d=xo.call(r,t,a,f,-1,i,e);d.bidTk.bidResult=0,d.bidTk.rlBidStatus=0,d.bidTk.sortType=-12,d.bidTk.errorMsg="".concat(JSON.stringify(n)),so.call(r,d),o({msg:"激励视频 c2s 失败: ".concat(JSON.stringify(n))})}))}))):t}function Uo(t,e,i,n){return $o.apply(this,arguments)}function $o(){return($o=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.topon_sdk)||void 0===o?void 0:o.channelId,c=e.unit_id,u=e.content,h=e.nw_req_num,p=JSON.parse(u),f=p.unit_id,v=n.placementId,m=n.exchRateC2u,_=n.accountCurrency,g=v+"/"+c,y={},I={adUnitId:f,type:"native",adCount:h&&h<=3?h:1},l&&(I.channel=l),b=Date.now(),t.next=12,Co.call(this,I);case 12:if(k=t.sent,w=Date.now(),x=k.adList||[],S=Lo(x),(y=S[0]||{}).ecpm=null!==(d=null===(s=y)||void 0===s?void 0:s.price)&&void 0!==d?d:0,T=y.ecpm/100,e.ecpm=T*m,e.price=T*m,e.cy_ecpm="USD"===_?T*m:T,e.s_pty=T*m,e.bidTk={bidFilledTime:w-b},A=wo.call(this,e,a),(E=xo.call(this,e,w,b,A,r,n)).bidTk.bidResult=1,E.bidTk.rlBidStatus=2,C=So.call(this,y,e,E,n,r),D=C.offer,y=D,E.bidTk.bidResult&&(E.bidTk.sortType=0),so.call(this,E),!To.call(this,y,e,n,r,a)){t.next=35;break}return t.abrupt("return",Promise.reject("HB BID_LOSS"));case 35:return N.call(this,"unit",g,{ad:null,offer:y,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt("return",e);case 37:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function No(t,e,i,n){return jo.apply(this,arguments)}function jo(){return(jo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.topon_sdk)||void 0===o?void 0:o.channelId,s=e.unit_id,l=e.content,c=e.nw_req_num,u=JSON.parse(l),h=u.unit_id,p=n.placementId,f=n.exchRateC2u,v=n.accountCurrency,m=p+"/"+s,_={},g={adUnitId:h,type:"rewardedVideoAd",adCount:c&&c<=3?c:1},d&&(g.channel=d),y=Date.now(),t.next=12,Co.call(this,g);case 12:if(I=t.sent,b=Date.now(),!I.adList){t.next=20;break}k=I.adList||[],w=Lo(k),_=w[0]||{},t.next=25;break;case 20:if(!I.adid){t.next=24;break}_=I,t.next=25;break;case 24:return t.abrupt("return",Promise.reject("bid无结果"));case 25:if(_.ecpm=_.price||0,x=_.ecpm/100,e.ecpm=x*f,e.price=x*f,e.cy_ecpm="USD"===v?x*f:x,e.s_pty=x*f,e.bidTk={bidFilledTime:b-y},S=wo.call(this,e,a),(T=xo.call(this,e,b,y,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,_,e,T,n,r),E=A.offer,_=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),so.call(this,T),!To.call(this,_,e,n,r,a)){t.next=43;break}return t.abrupt("return",Promise.reject("HB BID_LOSS"));case 43:if(C=Do.call(this,{multiton:!0})){t.next=46;break}return t.abrupt("return",e);case 46:return N.call(this,"unit",m,{ad:C,offer:_,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt("return",e);case 48:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Fo(t){var i,n,r=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:this.$def,a=(null==r?void 0:r.ylh_sdk)||{};return new Promise((function(i,n){v(a)&&i({code:2e3,msg:"找不到优量汇SDK"}),a.onYlhReady((function(){var n=e({},t);a.loadFeedAd(n).then((function(t){var e={adList:t||[]};t.code&&t.code>0&&(e.code=at[t.code]||2e3,e.msg="".concat(null==t?void 0:t.message," real code [").concat(t.code,"]"),e.adList=[]),i(e)})).catch((function(t){i({code:2e3,msg:"".concat(null==t?void 0:t.message)})}))}))}))}function Bo(t,e,i,n){return Wo.apply(this,arguments)}function Wo(){return(Wo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=u.allow_recommend,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+"/"+l,g={},y={count:1,placementId:h,recommendation:"1"===p?2:1},I=Date.now(),t.next=10,Fo.call(this,y);case 10:if(b=t.sent,k=Date.now(),g=null!==(o=null==b||null===(d=b.adList)||void 0===d?void 0:d[0])&&void 0!==o?o:{},w=(null===(s=g)||void 0===s?void 0:s.getECPM())>0?g.getECPM():0,g.ecpm=w,x=w/100,e.ecpm=x*v,e.price=x*v,e.cy_ecpm="USD"===m?x*v:x,e.s_pty=x*v,e.bidTk={bidFilledTime:k-I},S=wo.call(this,e,a),(T=xo.call(this,e,k,I,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,g,e,T,n,r),E=A.offer,g=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),g.ecpm||(T.bidTk.sortType=-12,T.bidTk.errorMsg="0 bid price"),so.call(this,T),g.ecpm){t.next=32;break}return t.abrupt("return",Promise.reject("offer.ecpm: ".concat(g.ecpm,"不符合bid场景，reject掉")));case 32:if(!To.call(this,g,e,n,r,a)){t.next=35;break}return t.abrupt("return",Promise.reject("HB BID_LOSS"));case 35:return N.call(this,"unit",_,{ad:null,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt("return",e);case 37:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function qo(t,e,i,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null!==(o=null===(d=this.$app)||void 0===d?void 0:d.$def)&&void 0!==o?o:this.$def,l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=u.video_muted,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+"/"+l,g={ecpm:0},y={placementId:h,muted:"1"===p},I=Date.now(),t.abrupt("return",new Promise((function(t,i){try{var o=s.ylh_sdk.createRewardVideoAd(y);o.onLoad((function(){var i,d;g.ecpm=o.getECPM();var s=Date.now(),l=(null!==(i=null===(d=g)||void 0===d?void 0:d.ecpm)&&void 0!==i?i:0)/100;e.ecpm=l*v,e.price=l*v,e.cy_ecpm="USD"===m?l*v:l,e.s_pty=l*v,e.bidTk={bidFilledTime:s-I};var c=wo.call(b,e,a),u=xo.call(b,e,s,I,c,r,n);u.bidTk.bidResult=1,u.bidTk.rlBidStatus=2;var h=So.call(b,g,e,u,n,r).offer;return g=h,u.bidTk.bidResult&&(u.bidTk.sortType=0),g.ecpm||(u.bidTk.sortType=-12,u.bidTk.errorMsg="0 bid price"),so.call(b,u),g.ecpm?To.call(b,g,e,n,r,a)?Promise.reject("HB BID_LOSS"):(N.call(b,"unit",_,{ad:o,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),void t(e)):Promise.reject("offer.ecpm: ".concat(g.ecpm,"不符合bid场景，reject掉"))})),o.onError((function(t){if(t.errorCode){var a=Date.now(),o=xo.call(b,e,a,I,-1,r,n),d=at[t.errorCode]||2e3,s="".concat(null==t?void 0:t.errorMsg," real code [").concat(t.errorCode,"]");o.bidTk.bidResult=0,o.bidTk.rlBidStatus=0,o.bidTk.sortType=-12,o.bidTk.errorMsg=s,so.call(b,o),i({code:d,msg:s})}})),o.load()}catch(t){i({code:2e3,msg:"激励视频 c2s 失败: ".concat(JSON.stringify(t))})}})));case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vo(t,e,i,n){return Ho.apply(this,arguments)}function Ho(){return(Ho=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null!==(o=null===(d=this.$app)||void 0===d?void 0:d.$def)&&void 0!==o?o:this.$def,l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=n.placementId,f=n.exchRateC2u,v=n.accountCurrency,m=n.placementConfig,_=(void 0===m?{}:m).entry,g=p+"/"+l,y={ecpm:0},I={placementId:h,entry:void 0===_?"":_},b=Date.now(),t.abrupt("return",new Promise((function(t,i){try{s.ylh_sdk.onYlhReady((function(){var o=s.ylh_sdk.createSplashAd(I);o.onLoad((function(){var i,d;y.ecpm=o.getECPM();var s=Date.now(),l=(null!==(i=null===(d=y)||void 0===d?void 0:d.ecpm)&&void 0!==i?i:0)/100;e.ecpm=l*f,e.price=l*f,e.cy_ecpm="USD"===v?l*f:l,e.s_pty=l*f,e.bidTk={bidFilledTime:s-b};var c=wo.call(k,e,a),u=xo.call(k,e,s,b,c,r,n);u.bidTk.bidResult=1,u.bidTk.rlBidStatus=2;var h=So.call(k,y,e,u,n,r).offer;return y=h,u.bidTk.bidResult&&(u.bidTk.sortType=0),y.ecpm||(u.bidTk.sortType=-12,u.bidTk.errorMsg="0 bid price"),so.call(k,u),y.ecpm?To.call(k,y,e,n,r,a)?Promise.reject("HB BID_LOSS"):(N.call(k,"unit",g,{ad:o,offer:y,_expirationTime:Date.now()+e.nw_cache_time}),void t(e)):Promise.reject("offer.ecpm: ".concat(y.ecpm,"不符合bid场景，reject掉"))})),o.onError((function(t){if(t.errorCode){var a=Date.now(),o=xo.call(k,e,a,b,-1,r,n),d=at[t.errorCode]||2e3,s="".concat(null==t?void 0:t.errorMsg," real code [").concat(t.errorCode,"]");o.bidTk.bidResult=0,o.bidTk.rlBidStatus=0,o.bidTk.sortType=-12,o.bidTk.errorMsg=s,so.call(k,o),i({code:d,msg:s})}})),o.load()}))}catch(t){i({code:2e3,msg:"开屏广告 c2s 失败: ".concat(JSON.stringify(t))})}})));case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Go=c(c(c({},tt.OPPO,{bid:function(t,e,i,n){var r=e.format,a={0:Oo,1:Po};return a[r]?a[r].call(this,t,e,i,n):Promise.reject("不支持该广告类型")},brand:"oppo"}),tt.VIVO,{bid:function(t,e,i,n){var r=e.format,a={0:Uo,1:No};return a[r]?a[r].call(this,t,e,i,n):Promise.reject("不支持该广告类型")},brand:"vivo"}),tt.YLH,{bid:function(t,e,i,n){var r=e.format,a={0:Bo,1:qo,4:Vo};return a[r]?a[r].call(this,t,e,i,n):Promise.reject("不支持该广告类型")},brand:"ylh"});function Yo(t,e){var i=S().ad.getProvider().toLowerCase();return!!Go[t]&&("ylh"===Go[t].brand?!((null==e?void 0:e.platformVersionCode)<1100):Go[t].brand===i&&!("oppo"===i&&(null==e?void 0:e.platformVersionCode)<1119))}function Ko(t){return zo.apply(this,arguments)}function zo(){return(zo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(a=l.device)||void 0===a?void 0:a.info)){t.next=6;break}t.t0=null==l||null===(o=l.device)||void 0===o?void 0:o.info,t.next=12;break;case 6:return t.next=8,H.getInfo();case 8:if(t.t1=t.sent,t.t1){t.next=11;break}t.t1={};case 11:t.t0=t.t1;case 12:if(c=t.t0,u=e.hbUnit,h=e.condition,p=e.strategy,f=e.scheduler,m=[],_=u,Yo.call(this,_.nw_firm_id,c)){t.next=18;break}return t.abrupt("return");case 18:if(Go[_.nw_firm_id]&&m.push(Go[_.nw_firm_id].bid.call(this,_,h,p,f)),m.length){t.next=21;break}return t.abrupt("return",[]);case 21:return t.abrupt("return",Promise.allSettled(m));case 22:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Xo,Qo,Jo,Zo,td={adProxyEvent:{onInit:function(){var t;if(!this.placementId)throw new Error("请传入广告位ID");var e="".concat(this.$page.name,"/").concat(this.placementId,"/").concat(null==this||null===(t=this._page)||void 0===t?void 0:t.id);if(j.call(this,"global",e)){var i="当前页面: ".concat(this.$page.name," 已存在广告位: ").concat(this.placementId,"，同一页面中请勿使用相同广告位ID");throw new Error(i)}N.call(this,"global",e,this.placementId),this.$watch("wfUnitIdsNeedRender","checkWfCache"),this.$on("proxyTkReport",this.tkReportWatcher),this.$on("proxyAdLoad",this.adLoadWatcher),this.$on("proxyAdShow",this.adShowWatcher),this.$on("proxyAdClick",this.adClickWatcher),this.$on("proxyAdClose",this.adCloseWatcher),this.$on("proxyAdReward",this.adRewardWatcher),this.$on("proxyAdError",this.adErrorWatcher),this.handleAdInit()},onDestroy:function(){var t,e,i="".concat(null===(t=this.$page)||void 0===t?void 0:t.name,"/").concat(this.placementId,"/").concat(null==this||null===(e=this._page)||void 0===e?void 0:e.id);N.call(this,"global",i,null);try{this.$off("proxyTkReport",this.tkReportWatcher),this.$off("proxyAdLoad",this.adLoadWatcher),this.$off("proxyAdShow",this.adShowWatcher),this.$off("proxyAdClick",this.adClickWatcher),this.$off("proxyAdClose",this.adCloseWatcher),this.$off("proxyAdReward",this.adRewardWatcher),this.$off("proxyAdError",this.adErrorWatcher)}catch(t){}}},handleAdInit:(Jo=o(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e="lockLoad",this.lock.load!==e){t.next=3;break}return t.abrupt("return");case 3:return this.lock.load=e,this.wfAdapter=null,this.adxBidding=!1,this.hitUnitId=null,this.wfScheduler||(this.wfScheduler=new La),t.next=10,this.beforeLoad();case 10:return t.next=12,this.handleCreateAd();case 12:this.reportTkData("AD_LOAD"),this.wfScheduler.load(this.unitList,{reqUgNum:this.reqUgNum}),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),[0,1].includes(this.format)&&this.initAdx(),[0,1,4].includes(this.format)&&this.initHb();case 17:case"end":return t.stop()}}),t,this)}))),function(){return Jo.apply(this,arguments)}),initAdx:function(){var t,e,i=this;if(null!==(t=this.adxList)&&void 0!==t&&t.length){var n=this.adxList[0],r={placementId:this.placementId,requestId:this.requestId,adxExt:this.apiData.adx_ext,exchR:(null===(e=this.apiData)||void 0===e||null===(e=e.callback)||void 0===e?void 0:e.exch_r)||1,unitId:n.unit_id,format:""+this.format},a=this.apiData||{},o=a.t_g_id,d=a.gro_id,s=a.asid,l=a.hb_bid_timeout,c=void 0===l?6e4:l,u={hbBidTimeout:c,requestId:this.requestId,segmentId:d,trafficGroupId:o,asId:s};this.adxBidding=!0;var h=P(this.mergeConfig.filter,tt.ADX,n.unit_id);if(h){this.adxBidding=!1;var p="0";9006===h?p="5":9007===h&&(p="9");var f={key:"REQUEST_FAILED",unitid:this.placementId,requestid:this.requestId,groupid:d,traffic_group_id:o,asid:s,msg:String(tt.ADX),msg1:String(n.unit_id),msg2:"",msg3:p,msg4:p,msg5:"ADX广告源被过滤",msg8:"0"};Va.call(this,f)}else this.adxBiddingTimeId=setTimeout((function(){i.adxBidding=!1}),c),this.emitWfUnitEvent("adUnitBiddingAttempt",{unit:n}),go.call(this,r,n,u,this.wfScheduler).then((function(t){if(t.ecpm<=0)return i.emitWfUnitEvent("adUnitBiddingFail",{unit:t,error:{code:22e3,msg:""}}),!i.hbBidding&&i.wfScheduler.isFailed()&&i.adErrorWfEmpty("ADX无填充"),i.adxBidding=!1,void(i.adxBiddingTimeId&&clearTimeout(i.adxBiddingTimeId));i.wfScheduler.merge([t]),i.wfUnitIdsNeedRender=i.wfScheduler.scheduler(),i.adxBidding=!1,i.adxBiddingTimeId&&clearTimeout(i.adxBiddingTimeId);var e={key:"BID_MERGE_TO_WF",unitid:i.placementId,requestid:i.requestId,groupid:d,traffic_group_id:o,asid:s,msg:"66",msg1:""+t.unit_id,msg2:""+t.ecpm,msg3:i.wfScheduler.isFailed()?"3":i.wfScheduler.isLoaded()?"2":"1",msg4:"2"};Va.call(i,e),i.emitWfUnitEvent("adUnitBiddingFilled",{unit:t,unitIndex:i.wfScheduler.getIndex(t.unit_id)})}))}},initHb:function(){var t,e,i,n,r=this;if(null!==(t=this.hbList)&&void 0!==t&&t.length){this.hbBidding=!0;var a=this.apiData||{},o=a.t_g_id,d=a.gro_id,s=a.asid,l=a.hb_bid_timeout,c=void 0===l?6e4:l,u={hbBidTimeout:c,requestId:this.requestId,segmentId:d,trafficGroupId:o,asId:s},p={condition:{placementId:this.placementId,requestId:this.requestId,format:""+this.format,exchRateC2u:(null===(e=this.apiData)||void 0===e?void 0:e.exch_rate_c2u)||1,accountCurrency:null!==(i=null===(n=this.apiData)||void 0===n||null===(n=n.callback)||void 0===n?void 0:n.acct_cy)&&void 0!==i?i:"",placementConfig:this.mergeConfig},strategy:u,scheduler:this.wfScheduler};this.hbBiddingTimeId=setTimeout((function(){r.hbBidding=!1}),c),this.hbList.forEach((function(t){p.hbUnit=t,r.emitWfUnitEvent("adUnitBiddingAttempt",{unit:t});var e={};Ko.call(r,p).then((function(i){var n=[];if(i.map((function(t){"fulfilled"===t.status?n.push(t.value):t.reason&&(e={code:22e3,msg:h(t.reason)?t.reason:JSON.stringify(t.reason)})})),n.length<=0)return r.emitWfUnitEvent("adUnitBiddingFail",{unit:t,error:e}),!r.adxBidding&&r.wfScheduler.isFailed()&&r.adErrorWfEmpty("HB无填充"),r.hbBidding=!1,void(r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId));r.wfScheduler.merge(n),r.wfUnitIdsNeedRender=r.wfScheduler.scheduler(),r.hbBidding=!1,r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId),n.forEach((function(t){var e={key:"BID_MERGE_TO_WF",unitid:r.placementId,requestid:r.requestId,groupid:d,traffic_group_id:o,asid:s,msg:""+t.nw_firm_id,msg1:""+t.unit_id,msg2:""+t.ecpm,msg3:r.wfScheduler.isFailed()?"3":r.wfScheduler.isLoaded()?"2":"1",msg4:"2"};Va.call(r,e),r.emitWfUnitEvent("adUnitBiddingFilled",{unit:t,unitIndex:r.wfScheduler.getIndex(t.unit_id)})}))})).catch((function(){!r.adxBidding&&r.wfScheduler.isFailed()&&r.adErrorWfEmpty("HB无填充"),r.hbBidding=!1,r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId)}))}))}},beforeLoad:(Qo=o(i().mark((function t(){var e,n,r=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=Date.now(),this.unitLoadStart=e,this.placementLoadStart=e,t.t0=String,t.next=7,J();case 7:t.t1=t.sent,this.requestId=(0,t.t0)(t.t1),this.requestIdCount++,n=4===this.format?5e3:3e5,this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){r.checkTimeout()}),this.mergeConfig.timeout>0?this.mergeConfig.timeout:n),t.next=17;break;case 15:t.prev=15,t.t2=t.catch(0);case 17:case"end":return t.stop()}}),t,this,[[0,15]])}))),function(){return Qo.apply(this,arguments)}),checkTimeout:function(){var t=this;if(this.wfScheduler){var e=this.wfScheduler.getStatusList(),i=[];e.forEach((function(t){["loading","timeout"].includes(t.status)&&i.push(t)}));var n=this.apiData||{},r=n.t_g_id,a=n.gro_id,o=n.asid;i.forEach((function(e){var i={key:"REQUEST_FAILED",unitid:t.placementId,requestid:t.requestId,groupid:a,traffic_group_id:r,asid:o,msg:String(e.nwFirmId),msg1:String(e.unitId),msg2:String(e.index),msg3:"1",msg4:"19002",msg5:"",msg8:""};Va.call(t,i)}));this.adError({},{detail:{code:9002,msg:"Load Timeout"}})}},handleCreateAd:(Xo=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,_,g,y,I,b,k,w,x=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isApiSuccess=!1,o="TOPON_AD_CACHE_PLACEMENT_"+this.placementId,t.next=4,M.getItem(o,!1);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(!v(d=t.t0)){t.next=10;break}return t.abrupt("return",this.handleApiRequest());case 10:if(s=null!==(e=null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n?void 0:n.topon_sdk)&&void 0!==e?e:{},l=s.channelId,c=void 0===l?"":l,u=s.subChannelId,h=void 0===u?"":u,p=s.customParam,f=void 0===p?{}:p,_=s.placementCustomParam,g=c+"/"+h,y=O(f,void 0===_?{}:_),I=(new Date).getTime(),b=(null==d||null===(r=d.data)||void 0===r?void 0:r.ps_ct_max)||6048e5,k=(null==d||null===(a=d.data)||void 0===a?void 0:a.ps_ct_out)||0,(w=(null==d?void 0:d._request_timestamp)||0)<=0&&(w=d._ps_ct_timestamp-d.data.ps_ct),!(d._ps_ct_timestamp>I&&d._channel===g&&m(d._custom_param,y))){t.next=22;break}this.handleApiResponse(d),t.next=28;break;case 22:if(!(w+b<I)){t.next=26;break}return t.abrupt("return",this.handleApiRequest());case 26:return setTimeout((function(){x.handleApiResponse(d)}),k),t.abrupt("return",this.handleApiRequest());case 28:case"end":return t.stop()}}),t,this)}))),function(){return Xo.apply(this,arguments)}),handleApiRequest:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,m,g,y,I,b,k;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=null!==(e=null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n?void 0:n.topon_sdk)&&void 0!==e?e:{},o=a.channelId,d=void 0===o?"":o,s=a.subChannelId,l=void 0===s?"":s,c=a.customParam,u=void 0===c?{}:c,h=a.placementCustomParam,p=O(u,void 0===h?{}:h),f={placementId:this.placementId},t.next=6,to.call(this,f);case 6:if(m=t.sent,g=_(null==m?void 0:m.data)?JSON.parse(null==m?void 0:m.data):(null==m?void 0:m.data)||{},699===m.code&&(g={code:0,data:{ad_delivery_sw:0,ps_ct:864e5,ps_ct_out:0}}),!((null===(r=g)||void 0===r?void 0:r.code)>0||v(g))&&g){t.next=15;break}if(!this.isApiSuccess){t.next=12;break}return t.abrupt("return");case 12:return y={detail:{code:9004,msg:"接口服务错误"}},this.adError({},y),t.abrupt("return");case 15:I=(new Date).getTime(),b=d+"/"+l,g._ps_ct_timestamp=I+g.data.ps_ct,g._channel=b,g._custom_param=p,g._request_timestamp=I,this.handleApiResponse(g),k="TOPON_AD_CACHE_PLACEMENT_"+this.placementId,M.setItem(k,g,!1),t.next=28;break;case 26:t.prev=26,t.t0=t.catch(0);case 28:case"end":return t.stop()}}),t,this,[[0,26]])})));return function(){return t.apply(this,arguments)}}(),handleApiResponse:function(t){var e;if(!this.isApiSuccess){this.isApiSuccess=!0,this.apiData=t.data;var i=function(t){if(!t)return[];var e=t.data,i=e.adx_list,n=void 0===i?[]:i,r=e.hb_list,a=void 0===r?[]:r,o=e.ug_list,d=void 0===o?[]:o,s=b(),l=b("hb"),c=d.filter((function(t){return s.includes(t.nw_firm_id)}))||[];return{adxList:n,hbList:a.filter((function(t){return l.includes(t.nw_firm_id)}))||[],ugList:c}}(t);if(1!==(null===(e=this.apiData)||void 0===e?void 0:e.ad_delivery_sw)&&(i={}),this.adxList=i.adxList||[],this.hbList=i.hbList||[],this.unitList=i.ugList||[],this.adxList.length||this.unitList.length||this.hbList.length)return i;this.adErrorWfEmpty()}},checkWfCache:function(){if(this.wfScheduler){var t=this.wfScheduler.selecter();if(!v(t)){var e=t.unit,i=this.requestId;if(this.lock.adLoad!==i){this.lock.adLoad=i,this.timerId&&clearTimeout(this.timerId);try{this.$emit("adLoad",{})}catch(t){console.error("error",t.message);var n={key:"CALLBACK_ERROR",unitid:this.placementId,requestid:this.requestId,msg:e.unit_id,msg1:"1",msg2:"adLoad回调错误",msg3:this.handleGetErrMsg(t.message)};Va.call(this,n)}this.reportTkData("AD_LOAD_FILLED",e)}}}},load:function(){this.wfScheduler.isExpired()&&(this.lock.load=""),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(!0),this.adErrorList=[],this.handleAdInit()},isReady:function(){var t=this.apiData||{},e=t.t_g_id,i=t.gro_id,n=t.asid,r={key:"IS_READY",unitid:this.placementId,requestid:this.requestId,groupid:i,traffic_group_id:e,asid:n},a=this.wfScheduler.selecter();return v(a)?(console.error("wfAdapterInstance not exist"),r.msg="0",r.msg1="1",r.msg2="",r.msg3="",r.msg4="",r.msg5="",Va.call(this,r),!1):(r.msg="1",r.msg1="",r.msg2=String(a.index),r.msg3=String(a.unitId),r.msg4=String(a.nwFirmId),r.msg5="",Va.call(this,r),!0)},getAd:function(){var t;if(!this.isReady())return this.wfAdapter=null,null;if(!this.wfScheduler)return null;this.wfAdapter=this.wfScheduler.selecter();var i=this.wfAdapter,n=this.getWfAdapterInstance(i.itemId);if(v(n))return console.error("wfAdapterInstance not exist"),{};this.wfScheduler.setShowed(i.unitId),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.lock.load="",this.hitUnitId=i.unitId;var r={},a=null;n.getAd&&(r=n.getAd()||{}),n.getInstance&&(a=n.getInstance());var o=e(e({},i.context.emit),{},{ad:r,instance:a});if(null!==(t=this.$app)&&void 0!==t&&null!==(t=t.$def)&&void 0!==t&&null!==(t=t.topon_sdk)&&void 0!==t&&t.enhancedLoggingMode){var d=this.apiData||{},s=d.t_g_id,l=d.gro_id,c=d.asid,u={key:"GET_AD",unitid:this.placementId,requestid:this.requestId,groupid:l,traffic_group_id:s,asid:c,msg:String((null==o?void 0:o.nwFirmId)||0),msg1:String((null==o?void 0:o.unitId)||0),msg2:String((null==o?void 0:o.ecpm)||0)};Va.call(this,u)}return o},show:function(){try{var t=this.apiData||{},e=t.t_g_id,i=t.gro_id,n=t.asid,r={key:"SHOW_FAILED",unitid:this.placementId,requestid:this.requestId,groupid:i,traffic_group_id:e,asid:n,msg:"1"};if(v(this.wfAdapter))return console.error("wfAdapterInstance not exist"),void Va.call(this,r);var a=this.wfAdapter,o=this.getWfAdapterInstance(a.itemId);if(v(o)){return this.adError({},{detail:{code:9005,msg:"广告缓存已过期"}}),void Va.call(this,r)}var d={unit_id:a.unitId,nw_firm_id:a.nwFirmId,ecpm:a.ecpm,bidTk:a.unit.bidTk};this.reportTkData("AD_SHOW",d),null==o||o.show()}catch(t){console.error("call show error",t)}},adLoad:function(t,i){var n,r,a,o=t.nw_cache_time,d=t.wfAdOption,s=void 0===d?{}:d,l=Date.now();this.placementLoadEnd=l;var c=this.getWfAdEmit(t);null!=i&&null!==(n=i.detail)&&void 0!==n&&n.nwUnitVersion&&(c.nwUnitVersion=i.detail.nwUnitVersion);var u=0;["1","2"].includes(null==s?void 0:s._type)&&(u=1),c.isHeaderBidding=u;var h={adapter:i,emit:e({isSelfRendering:null!==(r=null===(a=i.detail)||void 0===a?void 0:a.isSelfRendering)&&void 0!==r&&r},c)},p=l+o;this.wfScheduler.setCaching(t.unit_id,h,{expirationTime:p}),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.emitWfUnitEvent("adUnitLoadFilled",{unit:t})},adShow:function(t,e){this.wfScheduler.setShowed(t.unit_id),this.hitUnitId=t.unit_id,this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.lock.load="";try{this.$emit("adShow",e)}catch(e){console.error("error",e.message);var i={key:"CALLBACK_ERROR",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:"2",msg2:"adShow回调错误",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adClick:function(t,e){try{this.$emit("adClick",e)}catch(e){console.error("error",e.message);var i={key:"CALLBACK_ERROR",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:"4",msg2:"adClick回调错误",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adClose:function(t,e){try{this.$emit("adClose",e),this.hitUnitId=null}catch(e){console.error("error",e.message);var i={key:"CALLBACK_ERROR",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:"3",msg2:"adClose回调错误",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adReward:function(t,e){try{this.$emit("adReward",e)}catch(e){console.error("error",e.message);var i={key:"CALLBACK_ERROR",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:"5",msg2:"adReward回调错误",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adError:function(t,e){var i,n,r,a,o=t.nw_firm_id,d=void 0===o?"":o,s=t.unit_id,l=t.wfIndex,c=null!==(i=null===(n=e.detail)||void 0===n?void 0:n.code)&&void 0!==i?i:void 0,u=rt.codeToEvent(d,c)||"unknown";9001===c?d===tt.BAIDU&&[1,3,4].includes(this.format)||d===tt.OPPO&&2===this.format?this.wfScheduler.setFailed(t.unit_id):this.wfScheduler.setTimeout(t.unit_id):"loading"!==u&&this.wfScheduler.setFailed(t.unit_id);var h=22e3,p=1*c;if(h=1e3<=p&&p<9e3?p+2e4:9e3<=p&&p<9999?p+1e4:22e3,"loading"!==u&&![9e3,9001,9003].includes(c)){var f,v,m=this.apiData||{},_=m.t_g_id,g=m.gro_id,y=m.asid,I="0";9006===c?I="5":9007===c?I="9":9008===c&&(I="11");var b={key:"REQUEST_FAILED",unitid:this.placementId,requestid:this.requestId,groupid:g,traffic_group_id:_,asid:y,msg:String(d),msg1:String(s),msg2:String(l),msg3:I,msg4:String(h),msg5:String(null!==(f=null==e||null===(v=e.detail)||void 0===v?void 0:v.msg)&&void 0!==f?f:e.msg),msg8:String(Date.now()-this.unitLoadStart)};Va.call(this,b)}if(this.isNeedEmitError(u)||this.isBusinessErrorCode(c)){var k,w,x=e.type?e:{};if(e.type){var S,T;x.detail=null!==(S=null==e?void 0:e.detail)&&void 0!==S?S:{},x.detail.code=h;var A={code:h,msg:null==e||null===(T=e.detail)||void 0===T?void 0:T.msg,unitId:s,nwFirmId:d};this.adErrorList.push(A),x.detail.errors=this.adErrorList}else{var E,C,D,L;x.msg=null!==(E=null==e||null===(C=e.detail)||void 0===C?void 0:C.msg)&&void 0!==E?E:e.msg,x.code=h;var O={code:h,msg:null!==(D=null==e||null===(L=e.detail)||void 0===L?void 0:L.msg)&&void 0!==D?D:e.msg,unitId:s,nwFirmId:d};this.adErrorList.push(O),x.errors=this.adErrorList}var R=this.requestId;if(this.lock.adError===R)return;this.lock.adError=R;try{this.$emit("adError",x)}catch(t){console.error("error",t.message);var P={key:"CALLBACK_ERROR",unitid:this.placementId,requestid:this.requestId,msg:s,msg1:"6",msg2:"adError回调错误",msg3:this.handleGetErrMsg(t.message)};Va.call(this,P)}this.lock.load="",this.timerId&&clearTimeout(this.timerId);var U=this.apiData||{},$=U.t_g_id,N=U.gro_id,j=U.asid,F={key:"LOAD_FAILED",unitid:this.placementId,requestid:this.requestId,groupid:N,traffic_group_id:$,asid:j,msg:String(null!==(k=null==e||null===(w=e.detail)||void 0===w?void 0:w.msg)&&void 0!==k?k:e.msg),msg1:String(h)};Va.call(this,F)}else if("loading"!==u){this.wfUnitIdsNeedRender=this.wfScheduler.scheduler();var B=(null==e?void 0:e.detail)||{};B.code=h,B.unitId=s,B.nwFirmId=d,this.adErrorList.push(B)}var W={code:h,msg:null!==(r=null==e||null===(a=e.detail)||void 0===a?void 0:a.msg)&&void 0!==r?r:e.msg};this.emitWfUnitEvent("adUnitLoadFail",{unit:t,error:W})},adErrorWfEmpty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"无广告源数据/广告位已关闭",e={detail:{code:9003,msg:t}};this.adError({},e)},isNeedEmitError:function(t){return"loading"!==t&&(!this.adxBidding&&!this.hbBidding&&("show"===t||this.wfScheduler.isFailed()))},isBusinessErrorCode:function(t){return[9002,19002,9003,19003,9004,19004,9005,19005].includes(t)},emitWfUnitEvent:function(t,e){var i=this||{},n=i.format,r=i.requestId,a=e.unit,o=void 0===a?{}:a,d=e.unitIndex,s=void 0===d?-1:d,l=e.isHeaderBidding,c=void 0===l?0:l,u=e.error,h=void 0===u?{}:u,p=o.wfAdOption,f=void 0===p?{}:p,v=this.getWfAdEmit(o)||{},m=v.ecpm,_=v.cyEcpm,g=v.unitId,y=v.unitLevel,I=v.nwFirmId,b=v.nwUnitId,k={format:n,requestId:r,abTestId:v.abTestId,segmentId:v.segmentId,unitId:g,nwFirmId:I,nwUnitId:b,ecpm:m,cyEcpm:_,isHeaderBidding:c,unitLevel:y,unitIndex:s,error:h};[19e3,19006,19007].includes(null==h?void 0:h.code)||this.isBusinessErrorCode(null==h?void 0:h.code)||(["adUnitBiddingAttempt","adUnitBiddingFail"].includes(t)&&(k.ecpm=0,k.cyEcpm=0),(["adUnitBiddingAttempt","adUnitBiddingFilled","adUnitBiddingFail"].includes(t)||["1","2"].includes(null==f?void 0:f._type))&&(k.isHeaderBidding=1),this.$emit(t,k))},reportShow:function(){if(v(this.wfAdapter))console.error("wfAdapterInstance not exist");else{var t=this.getWfAdapterInstance(this.wfAdapter.itemId);v(t)?console.error("wfAdapterInstance not exist"):void 0!==t.reportShow&&t.reportShow()}},reportClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reportToProvider:!0};if(v(this.wfAdapter))console.error("wfAdapterInstance not exist");else{var e=this.getWfAdapterInstance(this.wfAdapter.itemId);v(e)?console.error("wfAdapterInstance not exist"):void 0!==e.reportClick&&e.reportClick(t)}},getWfAdapterInstance:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<=0&&(t=this.wfScheduler.itemIdSeleter()),this.$child(this.placementId+"/"+t)},getWfAdOption:function(t){var e,i={};return null!=t&&t.content&&(i=JSON.parse(t.content)),i._unit_id=null==t?void 0:t.unit_id,i._nw_req_num=null==t?void 0:t.nw_req_num,i._nw_timeout=null!==(e=null==t?void 0:t.nw_timeout)&&void 0!==e?e:5e4,i._request_id=this.requestId,i},getWfAdExtra:function(t){var e,i,n,r,a;return{unit:{unit_id:t.unit_id,nw_firm_id:t.nw_firm_id,ecpm:t.ecpm,nw_cache_time:t.nw_cache_time,cy_ecpm:t.cy_ecpm,content:t.content,bidTk:t.bidTk||{}},trafficGroupId:null===(e=this.apiData)||void 0===e?void 0:e.t_g_id,segmentId:null===(i=this.apiData)||void 0===i?void 0:i.gro_id,format:null===(n=this.apiData)||void 0===n?void 0:n.format,asId:null===(r=this.apiData)||void 0===r?void 0:r.asid,adSourceId:t.unit_id,nwFirmId:t.nw_firm_id,ecpm:t.ecpm,channelId:null===(a=this.$app)||void 0===a||null===(a=a.$def)||void 0===a||null===(a=a.topon_sdk)||void 0===a?void 0:a.channelId,placementId:this.placementId,bidTk:t.bidTk||{}}},getWfAdEmit:function(t){var e=t.ecpm,i=t.cy_ecpm,n=t.ecpm_level,r=t.unit_id,a=t.nw_firm_id,o=t.content,d=void 0===o?"{}":o,s=this.apiData||{},l=s.t_g_id,c=s.gro_id,u=r,h=a,p=JSON.parse(d),f=this.format;return{ecpm:e,cyEcpm:i,unitId:u,unitLevel:n,nwFirmId:h,nwUnitId:p[it[h]]||"",customExt:p.custom_ext||null,format:f,abTestId:l,segmentId:c}},handleReportTk:function(t,e){var i,n,r=e.detail.type,a=null!==(i=null===(n=e.detail)||void 0===n?void 0:n.ad)&&void 0!==i?i:null;"AD_REQUEST"===r&&(this.emitWfUnitEvent("adUnitLoadAttempt",{unit:t}),this.unitLoadStart=Date.now()),"AD_REQUEST_FILLED"===r&&(this.unitLoadEnd=Date.now()),this.reportTkData(r,t,a)},reportTkData:function(t){var e,i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this||{},d=o.placementLoadStart,s=o.placementLoadEnd,l=o.unitLoadStart,c=o.unitLoadEnd,u=o.placementId,h=o.requestId,p=o.format,f=o.reqUgNum,v=o.apiData,m=void 0===v?{}:v,_=m.t_g_id,g=m.gro_id,y=m.asid,I=m.p_c,b=void 0===I?{}:I,k=s-d,w=c-l,x={placementId:u,requestId:h,logType:t,trafficGroupId:_,segmentId:g,asId:y,adSourceId:r.unit_id||0,nwFirmId:r.nw_firm_id||0,ecpm:r.ecpm||0,sPty:r.s_pty||0,format:p,placementLoadTime:k,unitFilledTime:w,adId:null!==(e=null==a?void 0:a.adId)&&void 0!==e?e:"",reqUgNum:f,pC:b,bidTk:r.bidTk||{},wfType:null==r||null===(i=r.wfAdOption)||void 0===i?void 0:i._type},S=Object.values(et);[].concat(S,[tt.ADX]).includes(r.nw_firm_id)&&null!==(n=r.bidTk)&&void 0!==n&&n.bidFilledTime&&(x.unitFilledTime=r.bidTk.bidFilledTime),so.call(this,x)},handleGetErrMsg:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return"unlimited"===e||isNaN(e)?t:t.slice(0,e)},hide:function(){var t=this.wfScheduler.selecter("STATUS_SHOWED");if(t){var e=this.getWfAdapterInstance(t.itemId);null!=e&&e.hide&&(e.hide(),this.hitUnitId=null)}else console.error("hide error, wfAdapterInstance not exist")},tkReportWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.handleReportTk(i,n)},adLoadWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adLoad(i,n)},adShowWatcher:function(t){var e=t.detail.unit;this.adShow(e,{})},adClickWatcher:function(t){var e=t.detail.unit;this.adClick(e,{})},adCloseWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adClose(i,n)},adRewardWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adReward(i,n)},adErrorWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adError(i,n)},getDownloadStatus:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(v(e))console.error("wfAdapterInstance not exist");else if(e.getDownloadStatus)return e.getDownloadStatus()}},getDownloadProgress:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(v(i))console.error("wfAdapterInstance not exist");else if(i.getDownloadProgress)return i.getDownloadProgress()}},subscribeDownloadStatus:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(!v(i)&&i.subscribeDownloadStatus)return i.subscribeDownloadStatus(t)}},unsubscribeDownloadStatus:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.unsubscribeDownloadStatus)return e.unsubscribeDownloadStatus()}},subscribeDownloadProgress:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(!v(i)&&i.subscribeDownloadProgress)return i.subscribeDownloadProgress(t)}},unsubscribeDownloadProgress:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.unsubscribeDownloadProgress)return e.unsubscribeDownloadProgress()}},showAppDetailPage:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.showAppDetailPage)return e.showAppDetailPage()}}},ed={landingContainer:{marginTop:"0",flex:1,flexDirection:"column"},landingWeb:{flex:1},loadingContainer:{flex:1,flexDirection:"column",alignItems:"center"},loadingText:{fontSize:"30px",color:"#787878",textAlign:"center"},landingBar:{width:"100%",height:"100px",backgroundColor:"#f7f6f6",justifyContent:"center",alignItems:"center"},landingBtn:{height:"50px",width:"50px",padding:"5px",marginLeft:"20px",fontSize:"32px",fontWeight:"bolder"},landingTitle:{textAlign:"center",fontSize:"40px",fontWeight:"bolder",width:"100%",color:"#333"}},id={adProxyEvent:{onInit:function(){this.adStyle=ed;var t=this.$app.$def.manifest.display.pages;t&&t["TopOn/AdLanding"]&&t["TopOn/AdLanding"].fullScreen&&!t["TopOn/AdLanding"].titleBar&&(this.isFullScreen=!0)},onPageStart:function(t){},onPageFinish:function(t){},onTitleReceive:function(t){var e=this;this.$page.setTitleBar({text:t.title}),this.title=t.title,setTimeout((function(){e.isLoading=!1}),10)},onError:function(t){},onProgress:function(t){},onBack:function(t){S().router.back()}}},nd=[{name:"onSubmit",type:"submit",label:"提交"}],rd=[{label:"异常广告",parentId:"1",groups:[{id:"11",children:[{label:"广告卡顿",value:"1"},{label:"黑白屏",value:"2"},{label:"无法关闭",value:"3"}]}]},{label:"举报广告",parentId:"2",groups:[{id:"22",children:[{label:"诱导点击",value:"4"},{label:"违法违规",value:"5"},{label:"虚假欺诈",value:"6"}]},{id:"23",children:[{label:"内容抄袭",value:"7"},{label:"内容低俗",value:"8"},{label:"不感兴趣",value:"9"}]}]}],ad={adProxyEvent:{onInit:function(){var t=this.$app.$def.manifest.display.pages;t&&t["TopOn/AdReward"]&&t["TopOn/AdReward"].fullScreen&&!t["TopOn/AdReward"].titleBar&&(this.isFullScreen=!0),this.setInitialData(),this.getAdDataCache()},onCheck:function(t){var e={msg3:t.detail.data.value,msg4:"0"};this.feedbackSubmitError=!1,this.submitFeedback(e),this.hideDialog()},onInput:function(t){this.feedbackInputValue=t.detail.data||"",t.detail.data&&(this.feedbackSubmitError=!1)},onSubmit:function(){var t=this.feedbackInputValue;if(t){var e={msg3:"0",msg4:t};this.submitFeedback(e),this.hideDialog()}else this.feedbackSubmitError=!0},onShowDialog:function(){this.showDialog()},onHideDialog:function(){this.hideDialog()},onTouchStart:function(t){var i=t.timestamp||Date.now(),n=e(e({},t.detail.detail.touches[0]||{}),{},{timestamp:i});this.dispatchRewardedVideoEvent("adTouch",{type:"start",data:n})},onTouchMove:function(t){},onTouchEnd:function(t){var i=t.timestamp||Date.now(),n=e(e({},t.detail.detail.changedTouches[0]||{}),{},{timestamp:i});this.dispatchRewardedVideoEvent("adTouch",{type:"end",data:n})},onAdClick:function(t){this.dispatchRewardedVideoEvent("adClick",t)},onAdClose:function(t){if(this.onVideoPause(),this.currentCountdown){var e=S().prompt,i=this;e.showDialog({message:"观看视频满".concat(this.countdownInitial,"秒即可获得激励，确定要离开吗？"),buttons:[{text:"继续观看视频"},{text:"放弃激励离开"}],success:function(t){"1"==t.index?(i.dispatchRewardedVideoEvent("adClose",{reward:!1}),i.onBack()):i.onVideoContinue()},cancel:function(){i.onVideoContinue()},fail:function(){i.onVideoContinue()}})}else this.dispatchRewardedVideoEvent("adClose",{reward:!0}),this.onBack()},onAdShow:(Zo=o(i().mark((function t(e){var n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.option._request_id+"/"+this.adUnitId,this.lockAdAppear!==n){t.next=3;break}return t.abrupt("return");case 3:return this.lockAdAppear=n,r=Date.now(),t.next=7,this.getBoundingClientRect();case 7:a=t.sent,o=Date.now(),d=o-r,this.dispatchRewardedVideoEvent("adImpression",{clientRect:a,diff:d});case 11:case"end":return t.stop()}}),t,this)}))),function(t){return Zo.apply(this,arguments)}),onPause:function(){this.onVideoPause()},onContinue:function(){this.onVideoContinue()}},submitFeedback:function(t){this.dispatchRewardedVideoEvent("adFeedback",t),this.feedbackSubmited=!0},showDialog:function(){this.feedbackDialogVisible=!0,this.onVideoPause()},hideDialog:function(){this.feedbackDialogVisible=!1,this.onVideoContinue()},setInitialData:function(){this.feedbackDialogButtons=nd,this.feedbackSelectOptions=rd},getAdDataCache:function(){var t,e,i,n="".concat(this.plId,"/").concat(this.adUnitId),r=j.call(this,"adxRewardedVideo",n);this.adData=null!==(t=null==r?void 0:r.adData)&&void 0!==t?t:{},this.adStyle=null!==(e=null==r?void 0:r.adStyle)&&void 0!==e?e:{},this.option=null!==(i=null==r?void 0:r.option)&&void 0!==i?i:{};var a=Number(this.option._countdown);this.countdownInitial=a,this.currentCountdown=a,this.onCountdown(this.currentCountdown)},onCountdown:function(t){var e=this;if(t){var i=t;this.currentCountdown=i,this.countdownTimerId&&clearInterval(this.countdownTimerId),this.countdownTimerId=setInterval((function(){i--,e.currentCountdown=i,i<1&&e.onVideoFinish()}),1e3)}},onVideoFinish:function(){this.onVideoPause()},onVideoPause:function(){this.countdownTimerId&&clearInterval(this.countdownTimerId)},onVideoContinue:function(){this.onCountdown(this.currentCountdown)},onBack:function(){var t=S().router;this.lockAdAppear="",t.back()},getBoundingClientRect:function(){var t=this.$element("top-on-adx-container-".concat(this.adUnitId));return t?new Promise((function(e){t.getBoundingClientRect({success:function(t){return e(t)},fail:function(){return e({})}})})):{}},dispatchRewardedVideoEvent:function(t){var e,i="".concat(this.plId,"/").concat(this.adUnitId);if(null!==(e=this.$app.$def.topon_sdk)&&void 0!==e&&e.rewardedVideo[i]){for(var n,r,a=arguments.length,o=new Array(a>1?a-1:0),d=1;d<a;d++)o[d-1]=arguments[d];null===(n=this.$app.$def.topon_sdk)||void 0===n||(r=n.rewardedVideo[i])[t].apply(r,o)}}},od={containerStyle:{flexDirection:"column",width:"100%",paddingTop:"10px",paddingRight:"10px",paddingBottom:"10px",paddingLeft:"10px"},contentStyle:{flexDirection:"column",width:"100%"},mainStyle:{flex:1,flexDirection:"column"},headerStyle:{flex:1,flexDirection:"column"},footerStyle:{flexDirection:"row"},imgStyle:{width:"100%",overflow:"hidden",borderRadius:"10px",justifyContent:"flex-end",position:"relative"},imgPropertiesStyle:{width:"100%",objectFit:"fill"},titleStyle:{padding:"10px",lineHeight:"40px",fontSize:"36px",fontWeight:700,color:"rgb(44, 62, 88)",textOverflow:"ellipsis",lines:"1"},descStyle:{marginRight:"20px",marginTop:"12px",fontSize:"24px",color:"rgb(44, 62, 88)",textOverflow:"ellipsis",lines:"1",display:"none"},buttonStyle:{width:"100%",paddingTop:"20px",paddingRight:"20px",paddingBottom:"20px",paddingLeft:"20px",borderRadius:"20px",backgroundColor:"#ff9e2b",textAlign:"center",fontSize:"24px",color:"#FFFFFF"},closeStyle:{closeContainer:{position:"absolute",right:"15px",top:"15px",zIndex:"100",alignItems:"center",justifyContent:"center",transform:"translateY(0px)"},closeClickArea:{width:"48px",height:"48px",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"#FFFFFF",fontSize:"24px",backgroundColor:"transparent"},closeBtn:{width:"48px",height:"48px",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"#FFFFFF",fontSize:"24px",backgroundColor:"rgba(0, 0, 0, .4)"}},logoStyle:{logoContainer:{height:"30px",alignItems:"center",alignSelf:"flex-end",justifyContent:"flex-end",marginBottom:"4px",marginRight:"4px",backgroundColor:"rgba(153, 153, 153, 0.8)"},logoImg:{width:"70px",marginRight:"2px",display:"flex"}}},dd={2:{containerStyle:{paddingTop:"0px",paddingBottom:"0px"},contentStyle:{flexDirection:"row-reverse"},headerStyle:{justifyContent:"space-between"},footerStyle:{justifyContent:"flex-end",alignItems:"center"},imgStyle:{width:"175px",height:"100px",marginLeft:"20px"},imgPropertiesStyle:{height:"100%"},titleStyle:{padding:"0px",fontSize:"30px",lineHeight:"36px"},descStyle:{width:"100%",marginRight:"0",marginTop:"0px",display:"flex"},buttonStyle:{width:"auto",paddingTop:"8px",paddingBottom:"8px",backgroundColor:"transparent",borderWidth:"1px",borderColor:"rgb(44, 62, 88)",borderStyle:"solid",color:"rgb(44, 62, 88)"},closeStyle:{closeBtn:{width:"32px",height:"32px",color:"rgb(44, 62, 88)",borderRadius:"0",backgroundColor:"transparent"},closeClickArea:{width:"32px",height:"32px",borderRadius:"0"}}},3:{containerStyle:{paddingTop:"0px",paddingBottom:"0px"},contentStyle:{flexDirection:"row"},imgStyle:{width:"175px",height:"100px",marginRight:"20px"},imgPropertiesStyle:{height:"100%"},titleStyle:{padding:"0px",fontSize:"30px",lineHeight:"36px"},descStyle:{marginRight:"0px",marginTop:"12px",display:"flex"},buttonStyle:{width:"auto",paddingTop:"8px",paddingBottom:"8px"},mainStyle:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},footerStyle:{alignSelf:"center",justifyContent:"flex-end"},closeStyle:{closeContainer:{top:"0px",right:"0px"},closeBtn:{width:"32px",height:"32px",backgroundColor:"rgba(0, 0, 0, .4)",borderRadius:"0"},closeClickArea:{width:"32px",height:"32px",borderRadius:"0"}}},4:{containerStyle:{paddingTop:"0px",paddingBottom:"0px"},contentStyle:{flexDirection:"row"},imgStyle:{width:"315px",height:"180px",marginRight:"20px"},imgPropertiesStyle:{height:"100%"},titleStyle:{padding:"0px",fontSize:"30px"},descStyle:{marginRight:"0px",display:"flex"},buttonStyle:{width:"auto",paddingTop:"8px",paddingBottom:"8px"},footerStyle:{justifyContent:"flex-end"},closeStyle:{closeContainer:{top:"0px",right:"0px"},closeBtn:{width:"32px",height:"32px",backgroundColor:"rgba(0, 0, 0, .4)",borderRadius:"0"},closeClickArea:{width:"32px",height:"32px",borderRadius:"0"}}}};function sd(t){var i,n=t.name,a=t.proxyName,o=void 0===a?null:a,d=t.params,s=void 0===d?{}:d,l=t.proxyParams,c=void 0===l?{}:l;try{if(null==this||!this.$dispatch||null==this||!this.adExtra)return;var u=o||"proxy".concat((i=n).charAt(0).toUpperCase()+i.slice(1)),h=JSON.parse(function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&"object"!=r(t[i])&&"function"!=typeof t[i]&&(e[i]=t[i]);return JSON.stringify(e)}(this.adExtra.unit));this.$dispatch(u,e({unit:h,adapter:{detail:e({},s)}},c))}catch(t){}}function ld(){var t=this;if(null!=this&&this.adOption){var e=this.adOption,i=e._nw_timeout,n=e._unit_id;cd.call(this),this.timerId=setTimeout((function(){t.adError({code:9001,msg:"unitId: ".concat(n," 超时")})}),i)}}function cd(t){var e=t||(null==this?void 0:this.timerId)||null;e&&clearTimeout(e)}function ud(t,e){if(!t)return e;if(!dd[t])return e;var i=$.call(this,e,dd[t],!1);return"2"===t&&delete i.closeStyle.closeContainer,i}var hd,pd,fd,vd={adProxyEvent:{onInit:(fd=o(i().mark((function t(){var e,n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=P(this.adConfig.filter,tt.ADX,this.adOption._unit_id))){t.next=4;break}return this.adError({code:a,msg:"该广告源被过滤"}),t.abrupt("return");case 4:if(ld.call(this),this.handleAdInit(),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe("app-on-show"),v(null==this||null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.store)||void 0===n||null===(n=n.device)||void 0===n?void 0:n.info)){t.next=11;break}t.t0=null==this||null===(r=this.$app)||void 0===r||null===(r=r.$def)||void 0===r||null===(r=r.topon_sdk)||void 0===r||null===(r=r.store)||void 0===r||null===(r=r.device)||void 0===r?void 0:r.info,t.next=17;break;case 11:return t.next=13,H.getInfo();case 13:if(t.t1=t.sent,t.t1){t.next=16;break}t.t1={};case 16:t.t0=t.t1;case 17:o=t.t0,this.deviceInfoCache=o;case 19:case"end":return t.stop()}}),t,this)}))),function(){return fd.apply(this,arguments)}),onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t;this.lockAdAppear="";var e=Io.call(this,this.adExtra.placementId),i=null!==(t=null==e?void 0:e.offer_data)&&void 0!==t?t:{};sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),this.adLoad(i)},show:function(){if(this.ready){var t=(this.adExtra||{}).placementId,e=void 0===t?"":t,i=Io.call(this,e);if(Date.now()>i._expirationTime)return this.adError({code:1101,msg:"广告已过期，请重新获取广告或刷新广告"}),void bo.call(this,e,{});this.displayed=!0}},adLoad:function(t){var e,i;if(null!=t&&t.seatbid&&null!=t&&null!==(e=t.seatbid)&&void 0!==e&&e.length){this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(i=null==t?void 0:t.seatbid)&&void 0!==i?i:[],sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this);var n=ud.call(this,this.templateId,od),r=U.call(this,this.adConfig.style),a=U.call(this,n),o=$.call(this,a,r);this.adStyle=o,this.updateCloseStyle()}else{this.adError({code:2e3,msg:"TopOn Adx广告服务无数据返回"})}},updateCloseStyle:function(){var t,e,i=null!==(t=null===(e=this.currentAd)||void 0===e||null===(e=e.ctrl)||void 0===e?void 0:e.ft_cl_sz)&&void 0!==t?t:1;if(1!==i){var n={1:1,2:1.5,3:.75,4:.5},r=this.adStyle.closeStyle.closeBtn.width.match(/\\d+/g)[0];if(this.adStyle.closeStyle.closeClickArea.width=r*n[i]+"px",this.adStyle.closeStyle.closeClickArea.height=r*n[i]+"px",n[i]>1){var a=r*n[i]/2-r/2+"px";this.adStyle.closeStyle.closeContainer.transform="translateY(-".concat(a,")")}}},adShow:function(t){sd.call(this,{name:"adShow"})},adClick:function(t){var e=this;sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}}),this.handleNotice("click"),this.noticeSucceed=!1,this.noticeFailed=!1;var i=S(),n=i.router,r=i.pkg,a=this||{},o=a.adExtra,d=void 0===o?{}:o,s=a.currentAd,l=void 0===s?{}:s,c=a.adOption,u=void 0===c?{}:c,h=d.placementId,p=void 0===h?"":h,f=l.deeplink,v=void 0===f?"":f,m=l.oid,_=l.click_u,g=void 0===_?"":_,y=l.link_type,I=l.pkg,b=void 0===I?"":I;if(v)return this.handleNotice("dp_start"),void r.hasInstalled({package:b,success:function(t){if(t.result){var i,r,a;e.handleNotice("app_install"),n.push({uri:v}),e.onHideCallback=e.subscribeAppHideCallback.bind(e),e.onShowCallback=e.handleDeepLinkFailed.bind(e);var o={once:!0};null==e||null===(i=e.$app)||void 0===i||null===(i=i.$def)||void 0===i||null===(i=i.topon_sdk)||void 0===i||null===(i=i.event)||void 0===i||null===(i=i.deeplink)||void 0===i||i.subscribe("app-on-hide",e.onHideCallback,o),null==e||null===(r=e.$app)||void 0===r||null===(r=r.$def)||void 0===r||null===(r=r.topon_sdk)||void 0===r||null===(r=r.event)||void 0===r||null===(r=r.deeplink)||void 0===r||r.subscribe("app-on-show",e.onShowCallback,o),"vivo"==(null==e||null===(a=e.deviceInfoCache)||void 0===a||null===(a=a.brand)||void 0===a?void 0:a.toLowerCase())&&(e.failTimeId&&clearTimeout(e.failTimeId),e.failTimeId=setTimeout((function(){e.noticeSucceed||e.handleDeepLinkFailed()}),3e3))}else{e.handleNotice("app_uninstall"),e.handleNotice("dp_uninst_fail");var d={key:"DEEPLINK_RESULT",unitid:p,requestid:u._request_id,msg:""+m,msg1:"2",msg2:""+g,msg3:"0",msg4:"1",msg7:"0"};Va.call(e,d),n.push({uri:"TopOn/AdLanding",params:{url:g}})}},fail:function(t,i){e.handleNotice("dp_uninst_fail");var r={key:"DEEPLINK_RESULT",unitid:p,requestid:u._request_id,msg:""+m,msg1:"2",msg2:""+g,msg3:"0",msg4:"1",msg7:"0"};Va.call(e,r),n.push({uri:"TopOn/AdLanding",params:{url:g}})}});2===y&&n.push({uri:g}),3===y&&n.push({uri:"TopOn/AdLanding",params:{url:g}})},adClose:function(t){this.displayed=!1,this.adDestroy=!0,sd.call(this,{name:"adClose"}),this.validityTimeId&&clearTimeout(this.validityTimeId)},adError:function(t){var i=(this||{}).adOption,n=void 0===i?{}:i,r=n._request_id+"/"+n._unit_id;if(this.lockAdError!==r){this.lockAdError=r,this.ready=!1;var a=e(e({},t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code});delete a.errCode,delete a.errMsg,sd.call(this,{name:"adError",params:a}),cd.call(this)}},adAppear:(pd=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=this||{}).adOption,r=void 0===n?{}:n,a=e.adExtra,o=void 0===a?{}:a,d=r._request_id+"/"+r._unit_id,this.lockAdAppear!==d){t.next=4;break}return t.abrupt("return");case 4:this.lockAdAppear=d,bo.call(this,o.placementId,{}),this.isAdExposureValid(),this.reportBidWinDa();case 8:case"end":return t.stop()}}),t,this)}))),function(){return pd.apply(this,arguments)}),reportBidWinDa:function(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=void 0===n?{}:n,a=t.currentAd,o=void 0===a?{}:a,d=r.placementId,s=r.trafficGroupId,l=r.segmentId,c=r.asId,u=r.nwFirmId,h=r.ecpm,p=r.bidTk,f={key:"BID_WIN",unitid:d,requestid:i._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(i._unit_id),msg2:"",msg3:"",msg4:""+o.dsp_id,msg5:""+o.oid,msg6:"1",msg7:p.tpBidId,msg8:""+h,msg9:""};Va.call(this,f)},isAdExposureValid:(hd=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=this||{}).adExtra,a=void 0===r?{}:r,o=n.currentAd,d=void 0===o?{}:o,s=Date.now(),t.next=4,this.getBoundingClientRect();case 4:if(l=t.sent,this.clientRect=l,c=[1,3].includes(a.format)?0:100,null!=d&&null!==(e=d.ctrl)&&void 0!==e&&e.shm_t&&(c=d.ctrl.shm_t),u=c,h=F.call(this,l,this.deviceInfoCache),p=Date.now(),c>(f=p-s)&&(u=c-f),c<f&&(u=0),h>.02){t.next=20;break}return console.error("ADX广告无效展示"),_={ratio:h,clientRect:l,deviceInfo:{screenWidth:null===(v=this.deviceInfoCache)||void 0===v?void 0:v.screenWidth,screenHeight:null===(m=this.deviceInfoCache)||void 0===m?void 0:m.screenHeight}},this.reportInvalidImpressionDa(_),t.abrupt("return");case 20:this.validityTimeId&&clearTimeout(this.validityTimeId),this.validityTimeId=setTimeout((function(){g.adDestroy?console.error("ADX广告无效展示"):(g.adShow(),g.handleNotice("nurl"),sd.call(g,{name:"tkReport",params:{type:"AD_IMPRESSION"}}),g.handleNotice("imp"),g.handleNotice("burl"))}),u);case 22:case"end":return t.stop()}}),t,this)}))),function(){return hd.apply(this,arguments)}),handleNotice:function(t){var e,i=(this.currentAd||{}).tk,n=void 0===i?{}:i;if(n[t]&&null!==(e=n[t])&&void 0!==e&&e.length){var r=this.getMacroData();ko.call(this,n[t],r)}},adTouchStart:function(t){var i=t.timestamp||Date.now(),n=t.detail.touches[0]||{};this.startPoint=e(e({},n),{},{timestamp:i})},adTouchMove:function(t){},adTouchEnd:function(t){var i=t.timestamp||Date.now(),n=t.detail.changedTouches[0]||{};this.endPoint=e(e({},n),{},{timestamp:i})},getBoundingClientRect:function(){var t=this.$element("top-on-adx-container-".concat(this.adOption._unit_id));return t?new Promise((function(e,i){t.getBoundingClientRect({success:function(t){return e(t)},fail:function(){return e({})}})})):{}},getMacroData:function(){var t,e,i,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this.clientRect,y=this.startPoint,I=void 0===y?{}:y,b=this.endPoint,k=void 0===b?{}:b,w=this.currentAd,x=void 0===w?{}:w,S={down_x:null!==(t=null==I?void 0:I.clientX)&&void 0!==t?t:"-999",down_y:null!==(e=null==I?void 0:I.clientY)&&void 0!==e?e:"-999",up_x:null!==(i=null==k?void 0:k.clientX)&&void 0!==i?i:"-999",up_y:null!==(n=null==k?void 0:k.clientY)&&void 0!==n?n:"-999"},T={down_x:null!==(r=null==I?void 0:I.offsetX)&&void 0!==r?r:"-999",down_y:null!==(a=null==I?void 0:I.offsetY)&&void 0!==a?a:"-999",up_x:null!==(o=null==k?void 0:k.offsetX)&&void 0!==o?o:"-999",up_y:null!==(d=null==k?void 0:k.offsetY)&&void 0!==d?d:"-999"};return{"{__WIDTH__}":null!==(s=null==g?void 0:g.width)&&void 0!==s?s:"","{__HEIGHT__}":null!==(l=null==g?void 0:g.height)&&void 0!==l?l:"","{__DOWN_X__}":null!==(c=null==I?void 0:I.clientX)&&void 0!==c?c:"","{__DOWN_Y__}":null!==(u=null==I?void 0:I.clientY)&&void 0!==u?u:"","{__UP_X__}":null!==(h=null==k?void 0:k.clientX)&&void 0!==h?h:"","{__UP_Y__}":null!==(p=null==k?void 0:k.clientY)&&void 0!==p?p:"","{__RE_DOWN_X__}":null!==(f=null==I?void 0:I.offsetX)&&void 0!==f?f:"-999","{__RE_DOWN_Y__}":null!==(v=null==I?void 0:I.offsetY)&&void 0!==v?v:"-999","{__RE_UP_X__}":null!==(m=null==k?void 0:k.offsetX)&&void 0!==m?m:"-999","{__RE_UP_Y__}":null!==(_=null==k?void 0:k.offsetY)&&void 0!==_?_:"-999","{__TS__}":I.timestamp/1e3,"{__TS_MSEC__}":I.timestamp,"{__END_TS__}":k.timestamp/1e3,"{__END_TS_MSEC__}":k.timestamp,"{ABSOLUTE_COORD}":S,"{RELATIVE_COORD}":T,"{__DPLINK_TYPE__}":x.deeplink?1:2}},handleDeepLinkSucceed:function(t){var e;this.handleNotice("dp_succ"),this.noticeSucceed=!0,this.failTimeId&&clearTimeout(this.failTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe("app-on-show");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?"":c,h=o.oid,p={key:"DEEPLINK_RESULT",unitid:l,requestid:s._request_id,msg:""+h,msg1:"2",msg2:""+u,msg3:"1",msg4:"0",msg7:"0"};Va.call(this,p)},handleDeepLinkFailed:function(t){var e;this.handleNotice("dp_inst_fail"),this.noticeFailed=!0,this.succeedTimeId&&clearTimeout(this.succeedTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe("app-on-hide");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?"":c,h=o.oid,p={key:"DEEPLINK_RESULT",unitid:l,requestid:s._request_id,msg:""+h,msg1:"2",msg2:""+u,msg3:"0",msg4:"0",msg7:"0"};Va.call(this,p)},subscribeAppHideCallback:function(){var t,e=this,i=null==this||null===(t=this.deviceInfoCache)||void 0===t||null===(t=t.brand)||void 0===t?void 0:t.toLowerCase();["oppo","xiaomi","redmi"].includes(i)?(this.succeedTimeId&&clearTimeout(this.succeedTimeId),this.succeedTimeId=setTimeout((function(){e.noticeFailed||e.handleDeepLinkSucceed()}),1e3)):this.handleDeepLinkSucceed()},reportInvalidImpressionDa:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this||{},n=i.adOption,r=void 0===n?{}:n,a=i.adExtra,o=void 0===a?{}:a,d=i.currentAd,s=void 0===d?{}:d,l=o.placementId,c=o.trafficGroupId,u=o.segmentId,h=o.asId;o.nwFirmId,o.ecpm,o.bidTk;var p={key:"ADX_IMP_INVALID",unitid:l,requestid:r._request_id,groupid:u,traffic_group_id:c,asid:h,msg:s.dsp_id,msg1:String(r._unit_id),msg2:""+s.oid,msg3:"2",msg4:null!==(t=null==e?void 0:e.msg4)&&void 0!==t?t:"2",msg5:JSON.stringify(e)};Va.call(this,p)}},md={containerStyle:{flexDirection:"column",width:"100%",height:"100%"},contentStyle:{flexDirection:"column",width:"100%",height:"100%",position:"relative",justifyContent:"flex-end"},imgStyle:{justifyContent:"center",width:"100%",height:"100%",alignItems:"center"},imgPropertiesStyle:{width:"100%",objectFit:"fill"},iconStyle:{width:"80px",height:"80px",marginRight:"20px"},iconPropertiesStyle:{width:"100%",borderRadius:"10px",height:"100%"},videoStyle:{justifyContent:"center",width:"100%",height:"100%",alignItems:"center"},videoPropertiesStyle:{width:"100%",objectFit:"cover",height:"100%"},downloadStyle:{container:{width:"100%"},panel:{width:"100%",flexDirection:"column",padding:"20px",filter:"blur(180px)",background:{values:[{type:"linearGradient",directions:["180deg"],values:["rgba(0,0,0,0)","rgba(0,0,0,0.8)"]}]}},title:{flexDirection:"column"},titleText:{lineHeight:"38px",fontSize:"36px",fontWeight:700,color:"rgba(255, 255, 255, 1)"},desc:{fontSize:"24px",lineHeight:"26px",marginTop:"4px",color:"rgba(255, 255, 255, 1)"}},buttonStyle:{width:"100%",paddingTop:"20px",paddingRight:"20px",paddingBottom:"20px",paddingLeft:"20px",borderRadius:"24px",backgroundColor:"#1D6AFF",textAlign:"center",fontSize:"28px",color:"#FFFFFF",marginTop:"30px"},closeStyle:{closeContainer:{position:"absolute",right:"30px",top:"60px",zIndex:"100",alignItems:"center",justifyContent:"center",transform:"translateY(0px)"},closeClickArea:{width:"48px",height:"48px",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"#FFFFFF",fontSize:"24px",backgroundColor:"transparent"},closeBtn:{width:"48px",height:"48px",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"#FFFFFF",fontSize:"24px",backgroundColor:"rgba(0, 0, 0, .4)"}},logoStyle:{logoContainer:{height:"30px",alignItems:"center",alignSelf:"flex-end",justifyContent:"flex-end",marginBottom:"4px",backgroundColor:"rgba(153, 153, 153, 0.8)"},logoImg:{width:"70px",marginRight:"2px",display:"flex"}},factorStyle:{factorContainer:{justifyContent:"space-between",marginTop:"20px"},infoText:{fontSize:"22px",color:"#A0A0A0",marginRight:"10px"}},countdownStyle:{position:"absolute",left:"30px",top:"60px",width:"160px",height:"48px",justifyContent:"center",alignItems:"center",borderRadius:"24px",zIndex:"100",color:"#FFFFFF",backgroundColor:"rgba(0, 0, 0, .4)",fontSize:"20px"},feedbackStyle:{containerStyle:{position:"absolute",right:"100px",top:"60px",height:"48px",paddingLeft:"16px",paddingRight:"16px",justifyContent:"center",alignItems:"center",borderRadius:"24px",zIndex:"100",color:"#FFFFFF",backgroundColor:"rgba(0, 0, 0, .4)",fontSize:"20px"},iconStyle:{fontSize:"20px",color:"#000000",width:"24px",height:"24px",marginRight:"4px",borderRadius:"50%",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 1)"}}},_d={adProxyEvent:{onInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=P(this.adConfig.filter,tt.ADX,this.adOption._unit_id))){t.next=4;break}return this.adError({code:r,msg:"该广告源被过滤"}),t.abrupt("return");case 4:if(a=U.call(this,this.adConfig.style),o=U.call(this,md),d=$.call(this,o,a),this.adStyle=d,ld.call(this),this.handleAdInit(),v(null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.store)||void 0===e||null===(e=e.device)||void 0===e?void 0:e.info)){t.next=14;break}t.t0=null==this||null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.store)||void 0===n||null===(n=n.device)||void 0===n?void 0:n.info,t.next=20;break;case 14:return t.next=16,H.getInfo();case 16:if(t.t1=t.sent,t.t1){t.next=19;break}t.t1={};case 19:t.t0=t.t1;case 20:s=t.t0,this.deviceInfoCache=s;case 22:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e=Io.call(this,this.adExtra.placementId),i=null!==(t=null==e?void 0:e.offer_data)&&void 0!==t?t:{};sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),this.adLoad(i)},show:function(){var t;if(this.ready){var e=this||{},i=e.currentAd,n=void 0===i?{}:i,r=e.adStyle,a=void 0===r?{}:r,o=e.adExtra,d=void 0===o?{}:o,s=e.adOption,l=void 0===s?{}:s,c=d.placementId,u=void 0===c?"":c,h=S().router,p=Io.call(this,u);if(Date.now()>p._expirationTime)return this.adError({code:1101,msg:"广告已过期，请重新获取广告或刷新广告"}),void bo.call(this,u,{});var f="".concat(u,"/").concat(l._unit_id),v={adData:n,adStyle:a,option:{_request_id:l._request_id,_countdown:(null==n||null===(t=n.ctrl)||void 0===t?void 0:t.or_img_t)/1e3||0}};N.call(this,"adxRewardedVideo",f,v),h.push({uri:"TopOn/AdReward",params:{adUnitId:l._unit_id,plId:d.placementId}}),this.adShow()}},adLoad:function(t){var e,i,n;if(null!=t&&t.seatbid&&null!=t&&null!==(e=t.seatbid)&&void 0!==e&&e.length)if(null!=t&&null!==(i=t.seatbid[this.adListIndexInUse])&&void 0!==i&&i.full_u)this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(n=null==t?void 0:t.seatbid)&&void 0!==n?n:[],sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this),this.createRewardedVideo(),this.updateCloseStyle();else{this.adError({code:9008,msg:"ADX广告无填充[素材缺失]"})}else{this.adError({code:2e3,msg:"ADX广告无填充"})}},updateCloseStyle:function(){var t,e,i=null!==(t=null===(e=this.currentAd)||void 0===e||null===(e=e.ctrl)||void 0===e?void 0:e.ft_cl_sz)&&void 0!==t?t:1;if(1!==i){var n={1:1,2:1.5,3:.75,4:.5},r=this.adStyle.closeStyle.closeBtn.width.match(/\\d+/g)[0];if(this.adStyle.closeStyle.closeClickArea.width=r*n[i]+"px",this.adStyle.closeStyle.closeClickArea.height=r*n[i]+"px",n[i]>1){var a=r*n[i]/2-r/2+"px";this.adStyle.closeStyle.closeContainer.transform="translateY(-".concat(a,")")}}},createRewardedVideo:function(){this.$app.$def.topon_sdk.rewardedVideo||(this.$app.$def.topon_sdk.rewardedVideo=Object.create(null));var t=this.adExtra,e=this.adOption,i="".concat(t.placementId,"/").concat(e._unit_id);this.$app.$def.topon_sdk.rewardedVideo[i]||(this.$app.$def.topon_sdk.rewardedVideo[i]=Object.create(null));var n=this;this.$app.$def.topon_sdk.rewardedVideo[i].adClick=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adClick).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adClose=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adClose).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adError=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adError).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adImpression=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adImpression).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adTouch=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adTouch).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adFeedback=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adFeedback).call.apply(t,[n].concat(i))}},destroyRewardedVideo:function(){var t;if(this.$app&&null!==(t=this.$app)&&void 0!==t&&t.$def){var e=this||{},i=e.adExtra,n=void 0===i?{}:i,r=e.adOption,a=void 0===r?{}:r,o="".concat(n.placementId,"/").concat(a._unit_id);this.$app.$def.topon_sdk.rewardedVideo[o]=null,delete this.$app.$def.topon_sdk.rewardedVideo[o]}},adShow:function(t){var e;sd.call(this,{name:"adShow"}),bo.call(this,null===(e=this.adExtra)||void 0===e?void 0:e.placementId,{})},adClick:function(t,e){var i=this;sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}}),this.handleNotice("click"),this.noticeSucceed=!1,this.noticeFailed=!1,e&&e();var n=S(),r=n.router,a=n.pkg,o=this||{},d=o.adExtra,s=void 0===d?{}:d,l=o.currentAd,c=void 0===l?{}:l,u=o.adOption,h=void 0===u?{}:u,p=s.placementId,f=void 0===p?"":p,v=c.deeplink,m=void 0===v?"":v,_=c.oid,g=c.click_u,y=void 0===g?"":g,I=c.link_type,b=c.pkg,k=void 0===b?"":b;if(m)return this.handleNotice("dp_start"),void a.hasInstalled({package:k,success:function(t){if(t.result){var e,n,a;i.handleNotice("app_install"),r.push({uri:m}),i.onHideCallback=i.subscribeAppHideCallback.bind(i),i.onShowCallback=i.handleDeepLinkFailed.bind(i);var o={once:!0};null==i||null===(e=i.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.subscribe("app-on-hide",i.onHideCallback,o),null==i||null===(n=i.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.event)||void 0===n||null===(n=n.deeplink)||void 0===n||n.subscribe("app-on-show",i.onShowCallback,o),"vivo"==(null==i||null===(a=i.deviceInfoCache)||void 0===a||null===(a=a.brand)||void 0===a?void 0:a.toLowerCase())&&(i.failTimeId&&clearTimeout(i.failTimeId),i.failTimeId=setTimeout((function(){i.noticeSucceed||i.handleDeepLinkFailed()}),3e3))}else{i.handleNotice("app_uninstall"),i.handleNotice("dp_uninst_fail");var d={key:"DEEPLINK_RESULT",unitid:f,requestid:h._request_id,msg:""+_,msg1:"2",msg2:""+y,msg3:"0",msg4:"1",msg7:"1"};Va.call(i,d),r.push({uri:"TopOn/AdLanding",params:{url:y}})}},fail:function(t,e){i.handleNotice("dp_uninst_fail");var n={key:"DEEPLINK_RESULT",unitid:f,requestid:h._request_id,msg:""+_,msg1:"2",msg2:""+y,msg3:"0",msg4:"1",msg7:"1"};Va.call(i,n),r.push({uri:"TopOn/AdLanding",params:{url:y}})}});2===I&&r.push({uri:y}),3===I&&r.push({uri:"TopOn/AdLanding",params:{url:y}})},adClose:function(t){var e;this.adDestroy=!0;var i=null!==(e=null==t?void 0:t.reward)&&void 0!==e&&e;sd.call(this,{name:"adClose",params:{reward:i}}),i&&sd.call(this,{name:"adReward",params:{reward:i}}),this.validityTimeId&&clearTimeout(this.validityTimeId),this.destroyRewardedVideo()},adError:function(t){var i=(this||{}).adOption,n=void 0===i?{}:i,r=n._request_id+"/"+n._unit_id;if(this.lockAdError!==r){this.lockAdError=r,this.ready=!1;var a=e(e({},t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code});delete a.errCode,delete a.errMsg,sd.call(this,{name:"adError",params:a}),cd.call(this)}},adImpression:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clientRect,i=t.diff,n=void 0===i?0:i;this.clientRect=e,this.isAdExposureValid(e,n),this.reportBidWinDa()},reportBidWinDa:function(){var t=this||{},e=t.adExtra,i=void 0===e?{}:e,n=t.currentAd,r=void 0===n?{}:n,a=t.adOption,o=void 0===a?{}:a,d=i.placementId,s=i.trafficGroupId,l=i.segmentId,c=i.asId,u=i.nwFirmId,h=i.ecpm,p=i.bidTk,f={key:"BID_WIN",unitid:d,requestid:o._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(o._unit_id),msg2:"",msg3:"",msg4:""+r.dsp_id,msg5:""+r.oid,msg6:"1",msg7:p.tpBidId,msg8:""+h,msg9:""};Va.call(this,f)},isAdExposureValid:function(t,e){var i,n=this,r=this||{},a=r.adExtra,o=void 0===a?{}:a,d=r.currentAd,s=void 0===d?{}:d,l=Date.now(),c=[1,3].includes(o.format)?0:100;null!=s&&null!==(i=s.ctrl)&&void 0!==i&&i.shm_t&&(c=s.ctrl.shm_t);var u=c,h=F.call(this,t,this.deviceInfoCache),p=Date.now()-l+e;if(c>p&&(u=c-p),c<p&&(u=0),h>.02)this.validityTimeId&&clearTimeout(this.validityTimeId),this.validityTimeId=setTimeout((function(){n.adDestroy?console.error("ADX广告无效展示"):(n.handleNotice("nurl"),sd.call(n,{name:"tkReport",params:{type:"AD_IMPRESSION"}}),n.handleNotice("imp"),n.handleNotice("burl"))}),u);else{var f,v;console.error("ADX广告无效展示");var m={ratio:h,clientRect:t,deviceInfo:{screenWidth:null===(f=this.deviceInfoCache)||void 0===f?void 0:f.screenWidth,screenHeight:null===(v=this.deviceInfoCache)||void 0===v?void 0:v.screenHeight}};this.reportInvalidImpressionDa(m)}},handleNotice:function(t){var e,i=(this.currentAd||{}).tk,n=void 0===i?{}:i;if(n[t]&&null!==(e=n[t])&&void 0!==e&&e.length){var r=this.getMacroData();ko.call(this,n[t],r)}},getMacroData:function(){var t,e,i,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this.clientRect,y=this.startPoint,I=void 0===y?{}:y,b=this.endPoint,k=void 0===b?{}:b,w=this.currentAd,x=void 0===w?{}:w,S={down_x:null!==(t=null==I?void 0:I.clientX)&&void 0!==t?t:"-999",down_y:null!==(e=null==I?void 0:I.clientY)&&void 0!==e?e:"-999",up_x:null!==(i=null==k?void 0:k.clientX)&&void 0!==i?i:"-999",up_y:null!==(n=null==k?void 0:k.clientY)&&void 0!==n?n:"-999"},T={down_x:null!==(r=null==I?void 0:I.offsetX)&&void 0!==r?r:"-999",down_y:null!==(a=null==I?void 0:I.offsetY)&&void 0!==a?a:"-999",up_x:null!==(o=null==k?void 0:k.offsetX)&&void 0!==o?o:"-999",up_y:null!==(d=null==k?void 0:k.offsetY)&&void 0!==d?d:"-999"};return{"{__WIDTH__}":null!==(s=null==g?void 0:g.width)&&void 0!==s?s:"","{__HEIGHT__}":null!==(l=null==g?void 0:g.height)&&void 0!==l?l:"","{__DOWN_X__}":null!==(c=null==I?void 0:I.clientX)&&void 0!==c?c:"","{__DOWN_Y__}":null!==(u=null==I?void 0:I.clientY)&&void 0!==u?u:"","{__UP_X__}":null!==(h=null==k?void 0:k.clientX)&&void 0!==h?h:"","{__UP_Y__}":null!==(p=null==k?void 0:k.clientY)&&void 0!==p?p:"","{__RE_DOWN_X__}":null!==(f=null==I?void 0:I.offsetX)&&void 0!==f?f:"-999","{__RE_DOWN_Y__}":null!==(v=null==I?void 0:I.offsetY)&&void 0!==v?v:"-999","{__RE_UP_X__}":null!==(m=null==k?void 0:k.offsetX)&&void 0!==m?m:"-999","{__RE_UP_Y__}":null!==(_=null==k?void 0:k.offsetY)&&void 0!==_?_:"-999","{__TS__}":I.timestamp/1e3,"{__TS_MSEC__}":I.timestamp,"{__END_TS__}":k.timestamp/1e3,"{__END_TS_MSEC__}":k.timestamp,"{ABSOLUTE_COORD}":S,"{RELATIVE_COORD}":T,"{__DPLINK_TYPE__}":x.deeplink?1:2}},handleDeepLinkSucceed:function(t){var e;this.handleNotice("dp_succ"),this.noticeSucceed=!0,this.failTimeId&&clearTimeout(this.failTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe("app-on-show");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?"":c,h=o.oid,p={key:"DEEPLINK_RESULT",unitid:l,requestid:s._request_id,msg:""+h,msg1:"2",msg2:""+u,msg3:"1",msg4:"0",msg7:"1"};Va.call(this,p)},handleDeepLinkFailed:function(t){var e;this.handleNotice("dp_inst_fail"),this.noticeFailed=!0,this.succeedTimeId&&clearTimeout(this.succeedTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe("app-on-hide");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?"":c,h=o.oid,p={key:"DEEPLINK_RESULT",unitid:l,requestid:s._request_id,msg:""+h,msg1:"2",msg2:""+u,msg3:"0",msg4:"0",msg7:"1"};Va.call(this,p)},adTouch:function(t){var e=t.type,i=t.data;this["".concat(e,"Point")]=i},adFeedback:function(t){var i,n,r,a,o,d,s,l,c=this||{},u=c.adExtra,h=void 0===u?{}:u,p=c.adOption,f=void 0===p?{}:p,v=c.currentAd,m=void 0===v?{}:v,_=e(e({key:"AD_FEEDBACK",unitid:h.placementId,requestid:f._request_id,msg:"66",msg1:""+f._unit_id,msg2:"2"},t),{},{msg5:null!==(i=null==m?void 0:m.oid)&&void 0!==i?i:"",msg6:null!==(n=null==m?void 0:m.c_id)&&void 0!==n?n:"",msg7:null!==(r=null==m?void 0:m.pkg)&&void 0!==r?r:"",msg8:null!==(a=null==m?void 0:m.title)&&void 0!==a?a:"",msg9:null!==(o=null==m?void 0:m.desc)&&void 0!==o?o:"",msg10:null!==(d=null==m?void 0:m.icon_u)&&void 0!==d?d:"",msg11:null!==(s=null==m?void 0:m.full_u)&&void 0!==s?s:"",msg12:null!==(l=null==m?void 0:m.video_u)&&void 0!==l?l:"",msg13:JSON.stringify(null==m?void 0:m.img_list)});Va.call(this,_)},subscribeAppHideCallback:function(){var t,e=this,i=null==this||null===(t=this.deviceInfoCache)||void 0===t||null===(t=t.brand)||void 0===t?void 0:t.toLowerCase();["oppo","xiaomi","redmi"].includes(i)?(this.succeedTimeId&&clearTimeout(this.succeedTimeId),this.succeedTimeId=setTimeout((function(){e.noticeFailed||e.handleDeepLinkSucceed()}),1e3)):this.handleDeepLinkSucceed()},reportInvalidImpressionDa:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this||{},n=i.adOption,r=void 0===n?{}:n,a=i.adExtra,o=void 0===a?{}:a,d=i.currentAd,s=void 0===d?{}:d,l=o.placementId,c=o.trafficGroupId,u=o.segmentId,h=o.asId;o.nwFirmId,o.ecpm,o.bidTk;var p={key:"ADX_IMP_INVALID",unitid:l,requestid:r._request_id,groupid:u,traffic_group_id:c,asid:h,msg:s.dsp_id,msg1:String(r._unit_id),msg2:""+s.oid,msg3:"2",msg4:null!==(t=null==e?void 0:e.msg4)&&void 0!==t?t:"2",msg5:JSON.stringify(e)};Va.call(this,p)}},gd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(this.isShow=!0,this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}})},show:function(){this.ready&&(this.displayed=!0)},adLoad:function(t){this.ready=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:"adShow"}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){this.lockAdClicked=!0,sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adDownloadClick:function(t){this.lockAdClicked||(sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}}))},adClose:function(t){sd.call(this,{name:"adClose"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:"adError",params:i}),cd.call(this)}},yd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e=this;try{this.ad=this.$app.$def.union_quick_app_sdk.createRewardedVideoAd({apid:this.adOption.placement_id,appid:this.adOption.app_id}),this.ad.onLoad((function(t){e.adLoad(t)})),this.ad.onClose((function(t){e.adClose(t)})),this.ad.onClick&&this.ad.onClick((function(t){e.adClick(t)})),this.ad.onError((function(t){e.ready=!1,e.adError(t)}))}catch(t){this.adError({code:2e3,msg:"createRewardedVideoAd广告服务错误"})}sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),this.lockAdLoad=!1,null===(t=this.ad)||void 0===t||t.load()},show:function(){this.ad&&this.ready&&(this.ad.show(),this.adShow(),this.ready=!1)},adLoad:function(t){this.lockAdLoad||(this.ready=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this))},adShow:function(t){this.lockAdLoad=!0,sd.call(this,{name:"adShow"}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adClose:function(t){var e,i,n=null!==(e=null==t||null===(i=t.data)||void 0===i?void 0:i.reward)&&void 0!==e&&e;sd.call(this,{name:"adClose",params:{reward:n}}),n&&sd.call(this,{name:"adReward",params:t})},adError:function(t){if(!this.lockAdLoad){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:"adError",params:i}),cd.call(this)}}},Id={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){this.isShow=(new Date).getTime(),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}})},adLoad:function(t){this.ready=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:"adShow"}),sd.call(this,{name:"tkReport",params:{type:"AD_SHOW"}}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adClose:function(t){sd.call(this,{name:"adClose"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:"adError",params:i}),cd.call(this)}},bd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(this.isShow=!0,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}})},adLoad:function(t){this.ready=!0,this.lockAdClose=!1,this.showClassName="union-ad-wraper--show",sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:"adShow"}),sd.call(this,{name:"tkReport",params:{type:"AD_SHOW"}}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adClose:function(t){this.lockAdClose||sd.call(this,{name:"adClose"})},adError:function(t){this.lockAdClose=!0,this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:"adError",params:i}),cd.call(this)}};function kd(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=void 0===n?{}:n,a=r.placementId,o=r.trafficGroupId,d=r.segmentId,s=r.asId,l=r.nwFirmId,c=r.ecpm,u={key:"BID_WIN",unitid:a,requestid:i._request_id,groupid:d,traffic_group_id:o,asid:s,msg:String(l),msg1:String(i._unit_id),msg2:"",msg3:"",msg4:"",msg5:"",msg6:"2",msg7:"",msg8:""+c,msg9:""};Va.call(this,u)}function wd(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r="".concat((void 0===n?{}:n).placementId,"/").concat(i._unit_id);N.call(this,"unit",r,{})}function xd(){var t;null!=this&&this.adOption&&null!=this&&this.adExtra&&"1"===(null==this||null===(t=this.adOption)||void 0===t?void 0:t._type)&&(kd.call(this),wd.call(this))}var Sd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:"不支持该平台版本"}),t.abrupt("return");case 17:"1"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.loadFeedAd();case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r="".concat((void 0===n?{}:n).placementId,"/").concat(i._unit_id),a=j.call(this,"unit",r)||{},o={adList:a.offer?[a.offer]:[]};this.adLoad(o)},loadFeedAd:function(){var t,e=this,i=this.adOption,n=i._nw_req_num,r=i.unit_id,a=i.allow_recommend,o=null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk;v(o)?this.adError({code:2e3,msg:"找不到优量汇SDK"}):o.onYlhReady((function(){var t={count:n&&n<=10?n:1,placementId:r,recommendation:"1"===a?2:1};o.loadFeedAd(t).then((function(t){var i={adList:t||[]};t.code&&t.code>0?e.adError({code:at[t.code]||2e3,msg:"".concat(null==t?void 0:t.message," real code [").concat(t.code,"]")}):e.adLoad(i)})).catch((function(t){e.adError({code:2e3,msg:(null==t?void 0:t.message)||""})}))}))},getAd:function(){if(!this.ready)return null;var t=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,t||(this.ready=!1),xd.call(this),t},adLoad:function(t){var e,i;this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(e=null==t?void 0:t.adList)&&void 0!==e?e:[],"1"!==(null==this||null===(i=this.adOption)||void 0===i?void 0:i._type)&&(this.adList=this.sortByPrice(this.adList)),sd.call(this,{name:"adLoad",params:{isSelfRendering:!0}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this)},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:"adError",params:i}),cd.call(this)},reportShow:function(){sd.call(this,{name:"tkReport",params:{type:"AD_SHOW"}}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},reportClick:function(){sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},sortByPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(null==t?void 0:t.length)<=1||t.sort((function(t,e){return e.getECPM()-t.getECPM()})),t}},Td={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:"不支持该平台版本"}),t.abrupt("return");case 17:"1"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.createRewardVideoAd();case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t,e,i=this,n=this||{},r=n.adOption,a=void 0===r?{}:r,o=n.adExtra,d="".concat((void 0===o?{}:o).placementId,"/").concat(a._unit_id),s=j.call(this,"unit",d)||{},l=null!==(t=null==s?void 0:s.ad)&&void 0!==t?t:null,c=null!==(e=null==s?void 0:s.offer)&&void 0!==e?e:{};l&&(this.adLoad(c),this.bidOffer=c,this.ad=l,this.ad.onExpose((function(t){i.adShow()})),this.ad.onClick((function(){i.adClick()})),this.ad.onVideoFinish((function(){i.adVideoFinish()})),this.ad.onReward((function(){i.adReward()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})))},createRewardVideoAd:function(){var t,e=this,i=this.adOption,n=i.unit_id,r=i.video_muted;if(v(null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk))this.adError({code:2e3,msg:"找不到优量汇SDK"});else try{var a={placementId:n,muted:"1"===r};this.ad=this.$app.$def.ylh_sdk.createRewardVideoAd(a),this.ad.onLoad((function(){e.adLoad()})),this.ad.onExpose((function(t){e.adShow()})),this.ad.onClick((function(){e.adClick()})),this.ad.onReward((function(){e.adReward()})),this.ad.onVideoFinish((function(){e.adVideoFinish()})),this.ad.onClose((function(){e.adClose()})),this.ad.onError((function(t){e.adError({code:at[t.code]||2e3,msg:"".concat(null==t?void 0:t.message," real code [").concat(t.code,"]")})})),this.ad.load()}catch(t){this.adError({code:2e3,msg:t||""})}},show:function(){this.ready&&(xd.call(this),this.ad.show(),this.ready=!1)},adLoad:function(t){this.ready=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:"adShow"}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adVideoFinish:function(t){this.isVideoEnded=!0},adClose:function(t){sd.call(this,{name:"adClose"})},adReward:function(t){sd.call(this,{name:"adReward",params:{reward:!0}})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:"adError",params:i}),cd.call(this)}},Ad={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:"不支持该平台版本"}),t.abrupt("return");case 17:"1"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.createSplashAd();case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t,e,i=this,n=this||{},r=n.adOption,a=void 0===r?{}:r,o=n.adExtra,d="".concat((void 0===o?{}:o).placementId,"/").concat(a._unit_id),s=j.call(this,"unit",d)||{},l=null!==(t=null==s?void 0:s.ad)&&void 0!==t?t:null,c=null!==(e=null==s?void 0:s.offer)&&void 0!==e?e:{};l&&(this.adLoad(c),this.bidOffer=c,this.ad=l,this.ad.onExpose((function(t){i.adShow()})),this.ad.onClick((function(){i.adClick()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})))},createSplashAd:function(){var t,e=this,i=this.adOption.unit_id,n=this.adConfig.entry,r=void 0===n?"":n;v(null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk)?this.adError({code:2e3,msg:"找不到优量汇SDK"}):this.$app.$def.ylh_sdk.onYlhReady((function(){try{e.ad=e.$app.$def.ylh_sdk.createSplashAd({placementId:i,entry:r}),e.ad.onLoad((function(){e.adLoad()})),e.ad.onExpose((function(t){e.adShow()})),e.ad.onClick((function(){e.adClick()})),e.ad.onClose((function(){e.adClose()})),e.ad.onError((function(t){e.adError({code:at[t.code]||2e3,msg:"".concat(null==t?void 0:t.message," real code [").concat(t.code,"]")})})),e.ad.load()}catch(t){e.adError({code:2e3,msg:t||""})}}))},show:function(){this.ready&&(xd.call(this),this.ad.show(),this.ready=!1)},adLoad:function(t){this.ready=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:"adShow"}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adClose:function(t){sd.call(this,{name:"adClose"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:"adError",params:i}),cd.call(this)}},Ed={main:{entry:td},web:{entry:id},views:{rewarde:ad},66:{native:vd,rewardedVideo:_d},56:{native:gd,rewardedVideo:yd,interstitial:Id,splash:bd},64:{native:Sd,rewardedVideo:Td,splash:Ad},60:{native:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=this,n=S().ad;this.provider=n.getProvider(),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}});try{var r={adUnitId:this.adOption.ad_id},a=this.adExtra.channelId;a&&(r.channel=a),this.ad=n.createNativeAd(r),this.ad.onLoad((function(t){i.adLoad(t)})),this.ad.onError((function(t){i.adError(t)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:"createNativeAd广告服务错误"})}if(!(Date.now()>new Date("2023/05/01").getTime())){var o=this.adExtra,d=o.placementId,s=o.trafficGroupId,l=o.segmentId,c=o.asId,u=o.nwFirmId,h=this.$app.$def.topon_sdk.store,p=void 0===h?{}:h,f={key:"AD_PROVIDER",unitid:d,requestid:this.adOption._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==p||null===(t=p.device)||void 0===t?void 0:t.info.brand,msg4:""+(null==p||null===(e=p.device)||void 0===e?void 0:e.info.model)};Va.call(this,f)}},getAd:function(){if(!this.ready)return null;var t=this.adListIndexInUse,e=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,this.currentIndexUse=t,e||(this.ready=!1),e},adLoad:function(t){this.ready=!0,this.adListIndexInUse=0,this.adList=t.adList,sd.call(this,{name:"adLoad",params:{isSelfRendering:!0}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED",ad:this.adList[this.currentIndexUse]||{}}}),cd.call(this)},adShow:function(t){sd.call(this,{name:"adShow"})},adClick:function(t){sd.call(this,{name:"adClick"})},adClose:function(t){sd.call(this,{name:"adClose"})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,sd.call(this,{name:"adError",params:e}),cd.call(this)},reportShow:function(){var t;null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&(sd.call(this,{name:"tkReport",params:{type:"AD_SHOW",ad:this.adList[this.currentIndexUse]||{}}}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION",ad:this.adList[this.currentIndexUse]||{}}}),this.ad.reportAdShow({adId:this.adList[this.currentIndexUse].adId}))},reportClick:function(t){var e;null!==(e=this.adList[this.currentIndexUse])&&void 0!==e&&e.adId&&(sd.call(this,{name:"tkReport",params:{type:"AD_CLICK",ad:this.adList[this.currentIndexUse]||{}}}),null!=t&&t.reportToProvider&&this.ad.reportAdClick({adId:this.adList[this.currentIndexUse].adId}))},getDownloadStatus:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getAppStatus({adId:this.adList[this.currentIndexUse].adId})},getDownloadProgress:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getDownloadProgress({adId:this.adList[this.currentIndexUse].adId})},subscribeDownloadStatus:function(t){this.ad.onStatusChanged(t)},unsubscribeDownloadStatus:function(){this.ad&&this.ready&&this.ad.offStatusChanged()},subscribeDownloadProgress:function(t){this.ad.onDownloadProgress(t)},unsubscribeDownloadProgress:function(){this.ad&&this.ready&&this.ad.offDownloadProgress()},showAppDetailPage:function(){var t;this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&this.ad.showAppDetailPage({adId:this.adList[this.currentIndexUse].adId})},getInstance:function(){return this.ad||null}},rewardedVideo:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=this,n=S().ad;this.provider=n.getProvider(),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),this.lockAdLoad=!1,this.showCalled=!1;try{var r={adUnitId:this.adOption.ad_id};this.ad=n.createRewardedVideoAd(r),this.ad.onLoad((function(t){i.adLoad()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:"createRewardedVideoAd广告服务错误"})}if(!(Date.now()>new Date("2023/05/01").getTime())){var a=this.adExtra,o=a.placementId,d=a.trafficGroupId,s=a.segmentId,l=a.asId,c=a.nwFirmId,u=this.$app.$def.topon_sdk.store,h=void 0===u?{}:u,p={key:"AD_PROVIDER",unitid:o,requestid:this.adOption._request_id,groupid:s,traffic_group_id:d,asid:l,msg:String(c),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==h||null===(t=h.device)||void 0===t?void 0:t.info.brand,msg4:""+(null==h||null===(e=h.device)||void 0===e?void 0:e.info.model)};Va.call(this,p)}},show:function(){var t=this;this.ready&&(this.showCalled=!0,this.ad.show().then((function(e){t.adShow(e)})).catch((function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:"展示失败"};sd.call(t,{name:"adError",params:r})})),this.ready=!1)},adLoad:function(t){this.lockAdLoad||(this.ready=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this))},adShow:function(t){this.lockAdLoad=!0,this.ready=!1,sd.call(this,{name:"adShow"}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick"}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adClose:function(t){var e=t.isEnded;sd.call(this,{name:"adClose",params:{reward:e}}),e&&sd.call(this,{name:"adReward",params:t})},adError:function(t){this.ready=!1;var e=t.errMsg||t.msg,i=t.errCode||t.code,n={msg:e,code:i};this.showCalled&&(n.code=1101,n.msg="展示失败 real code: [".concat(i,"] real msg: [").concat(e,"]")),delete n.errCode,delete n.errMsg,sd.call(this,{name:"adError",params:n}),cd.call(this)},getInstance:function(){return this.ad||null}},banner:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){var t;cd.call(this),this.removeAdEventListener(),null==this||null===(t=this.ad)||void 0===t||t.destroy()}},removeAdEventListener:function(){var t,e,i,n,r,a,o,d;null==this||null===(t=this.ad)||void 0===t||null===(e=t.offLoad)||void 0===e||e.call(t),null==this||null===(i=this.ad)||void 0===i||null===(n=i.offClose)||void 0===n||n.call(i),null==this||null===(r=this.ad)||void 0===r||null===(a=r.offError)||void 0===a||a.call(r),null==this||null===(o=this.ad)||void 0===o||null===(d=o.offResize)||void 0===d||d.call(o)},handleAdInit:function(){var t,e,i=this,n=S().ad;sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}}),this.lockAdLoad=!1,this.ready=!1;try{var r,a={adUnitId:this.adOption.ad_id,style:{width:-1,height:-2,left:0,top:0}};t=a.style,(e=null===(r=this.adConfig)||void 0===r?void 0:r.style)&&!v(e)&&f(e)&&Object.assign(t,e),this.ad=n.createBannerAd(a),this.ad.onLoad((function(t){i.adLoad()})),this.ad.onClose((function(t){var e;i.adClose(t),i.removeAdEventListener(),null===(e=i.ad)||void 0===e||e.destroy()})),this.ad.onError((function(t){console.error("onError",t),i.adError(t)}))}catch(t){this.adError({code:2e3,msg:"createBannerAd广告服务失败"})}this._show()},_show:function(){var t=this;this.ad&&(sd.call(this,{name:"tkReport",params:{type:"AD_SHOW"}}),this.ad.show().then((function(){}),(function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:"展示失败: ".concat(JSON.stringify(e))};sd.call(t,{name:"adError",params:r})})))},adLoad:function(t){this.lockAdLoad||(this.ready=!0,this.lockAdLoad=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this),B.call(this,this.adShow))},adShow:function(t){sd.call(this,{name:"adShow",params:t}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick",params:t}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adClose:function(t){sd.call(this,{name:"adClose",params:t})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,delete e.subErrCode,sd.call(this,{name:"adError",params:e}),cd.call(this)},hide:function(){this.ad&&this.ad.hide&&this.ad.hide()}},interstitial:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){var t;cd.call(this),this.removeAdEventListener(),null==this||null===(t=this.ad)||void 0===t||t.destroy()}},removeAdEventListener:function(){var t,e,i,n,r,a,o,d,s,l;null==this||null===(t=this.ad)||void 0===t||null===(e=t.offLoad)||void 0===e||e.call(t),null==this||null===(i=this.ad)||void 0===i||null===(n=i.offClose)||void 0===n||n.call(i),null==this||null===(r=this.ad)||void 0===r||null===(a=r.offError)||void 0===a||a.call(r),null==this||null===(o=this.ad)||void 0===o||null===(d=o.offResize)||void 0===d||d.call(o),null==this||null===(s=this.ad)||void 0===s||null===(l=s.offClick)||void 0===l||l.call(s)},handleAdInit:function(){var t=this,e=S().ad;sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}});try{var i,n={adUnitId:this.adOption.ad_id};this.ad=e.createInterstitialAd(n),this.ad.onLoad((function(e){t.adLoad()})),this.ad.onClose((function(e){var i;t.adClose(e),t.removeAdEventListener(),null===(i=t.ad)||void 0===i||i.destroy()})),this.ad.onError((function(e){t.adError(e)})),null!=this&&null!==(i=this.ad)&&void 0!==i&&i.onClick&&this.ad.onClick((function(e){t.adClick(e)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:"createInterstitialAd广告服务失败"})}},show:function(){var t=this;this.ad&&this.ready&&this.ad.show().then((function(){t.adShow()}),(function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:"展示失败: ".concat(JSON.stringify(e))};sd.call(t,{name:"adError",params:r})}))},adLoad:function(t){this.ready=!0,sd.call(this,{name:"adLoad",params:{isSelfRendering:!1}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:"adShow",params:t}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION"}})},adClick:function(t){sd.call(this,{name:"adClick",params:t}),sd.call(this,{name:"tkReport",params:{type:"AD_CLICK"}})},adClose:function(t){sd.call(this,{name:"adClose",params:t})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,delete e.subErrCode,sd.call(this,{name:"adError",params:e}),cd.call(this)},getInstance:function(){return this.ad||null}}},62:{native:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI_AGD_PRO,this.adOption._unit_id);t?this.adError({code:t,msg:"该广告源被过滤"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=S().ad;if(this.provider=i.getProvider(),this.createNativeAd(),!(Date.now()>new Date("2023/05/01").getTime())){var n=this.adExtra,r=n.placementId,a=n.trafficGroupId,o=n.segmentId,d=n.asId,s=n.nwFirmId,l=this.$app.$def.topon_sdk.store,c=void 0===l?{}:l,u={key:"AD_PROVIDER",unitid:r,requestid:this.adOption._request_id,groupid:o,traffic_group_id:a,asid:d,msg:String(s),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==c||null===(t=c.device)||void 0===t?void 0:t.info.brand,msg4:""+(null==c||null===(e=c.device)||void 0===e?void 0:e.info.model)};Va.call(this,u)}},createNativeAd:function(){var t=this,e=S().ad;sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST"}});try{var i={adUnitId:this.adOption.ad_id},n=this.adExtra.channelId;n&&(i.channel=n),this.ad=e.createNativeAd(i),this.ad.onLoad((function(e){t.adLoad(e)})),this.ad.onError((function(e){t.adError(e)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:"createNativeAd广告服务错误"})}},createTemplateAd:function(){var t=this,e=S().ad;try{this.ad=e.createTemplateAd({adUnitId:this.adOption.ad_id,type:this.templateAdType}),this.ad.load({success:function(e){t.adLoad(e)},fail:function(e,i){t.adError({code:2e3,msg:"createTemplateAd广告服务错误"})}})}catch(t){this.adError({code:2e3,msg:"createTemplateAd广告服务错误"})}},getAd:function(){if(!this.ready)return null;var t=this.adListIndexInUse,e=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,this.currentIndexUse=t,e||(this.ready=!1),e},adLoad:function(t){this.ready=!0,this.adListIndexInUse=0,this.adList=t.adList,sd.call(this,{name:"adLoad",params:{isSelfRendering:!this.isTemplateAd}}),sd.call(this,{name:"tkReport",params:{type:"AD_REQUEST_FILLED",ad:this.adList[this.currentIndexUse]||{}}}),cd.call(this)},adShow:function(t){sd.call(this,{name:"adShow"})},adClick:function(t){sd.call(this,{name:"adClick"})},adClose:function(t){sd.call(this,{name:"adClose"})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,sd.call(this,{name:"adError",params:e}),cd.call(this)},reportShow:function(){var t;null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&(sd.call(this,{name:"tkReport",params:{type:"AD_SHOW",ad:this.adList[this.currentIndexUse]||{}}}),sd.call(this,{name:"tkReport",params:{type:"AD_IMPRESSION",ad:this.adList[this.currentIndexUse]||{}}}),this.ad.reportAdShow({adId:this.adList[this.currentIndexUse].adId}))},reportClick:function(t){var e;null!==(e=this.adList[this.currentIndexUse])&&void 0!==e&&e.adId&&(sd.call(this,{name:"tkReport",params:{type:"AD_CLICK",ad:this.adList[this.currentIndexUse]||{}}}),null!=t&&t.reportToProvider&&this.ad.reportAdClick({adId:this.adList[this.currentIndexUse].adId}))},getDownloadStatus:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getAppStatus({adId:this.adList[this.currentIndexUse].adId})},getDownloadProgress:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getDownloadProgress({adId:this.adList[this.currentIndexUse].adId})},subscribeDownloadStatus:function(t){this.ad.onStatusChanged(t)},unsubscribeDownloadStatus:function(){this.ad&&this.ready&&this.ad.offStatusChanged()},subscribeDownloadProgress:function(t){this.ad.onDownloadProgress(t)},unsubscribeDownloadProgress:function(){this.ad&&this.ready&&this.ad.offDownloadProgress()},showAppDetailPage:function(){var t;this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&this.ad.showAppDetailPage({adId:this.adList[this.currentIndexUse].adId})},getInstance:function(){return this.ad||null}}}},Cd=new(function(){function t(){d(this,t)}return l(t,[{key:"dispatch",value:function(t,e){t.$def.topon_sdk.store=Object.create(null),this._options=e,this.device(t),this.upId(t)}},{key:"device",value:function(t){t.$def.topon_sdk.store.device={};var e=[H.getInfo(),H.getOaId(),H.getDeviceIds()];Promise.all(e).then((function(e){t.$def.topon_sdk.store.device.info=e[0]||{},t.$def.topon_sdk.store.device.oaid=e[1]||"",t.$def.topon_sdk.store.device.ids=e[2]||{}}))}},{key:"upId",value:function(t){G().then((function(e){t.$def.topon_sdk.store.upid=e||""}))}}]),t}()),Dd=function(){function t(e){d(this,t),this.name=e,this.eventMap={}}return l(t,[{key:"subscribe",value:function(t,e,i){var n=this;if(i&&i.once){return this.subscribe(t,(function i(r){e(r),n.unsubscribe(t,i)}))}if(this.eventMap[t]=this.eventMap[t]||[],"function"==typeof e){var r=this.eventMap[t];-1===r.indexOf(e)&&r.push(e)}}},{key:"publish",value:function(t,e){for(var i=null,n=this.eventMap[t]||[],r=0,a=n.length;r<a;r++)i=n[r]&&n[r](e,i);return i}},{key:"unsubscribe",value:function(t,e){if(this.eventMap[t]){var i=this.eventMap[t];if(e){var n=i.indexOf(e);n>-1&&i.splice(n,1)}else this.eventMap[t]=[]}}}]),t}(),Ld={};function Od(t){return Ld[t]||(Ld[t]=new Dd(t)),Ld[t]}function Rd(t,e){return Pd.apply(this,arguments)}function Pd(){return(Pd=o(i().mark((function t(e,n){var r,a,o,d,s,l,c,u,h,p,f,m,g,y,I;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.channelId,o=void 0===a?"":a,d=n.subChannelId,s=void 0===d?"":d,l=n.customParam,c=void 0===l?{}:l,u=n.placementCustomParam,h=O(c,void 0===u?{}:u),p={placementId:e},t.next=6,to.call(this,p,{isPreload:!0});case 6:if(f=t.sent,m=_(null==f?void 0:f.data)?JSON.parse(null==f?void 0:f.data):(null==f?void 0:f.data)||{},699===f.code&&(m={code:0,data:{ad_delivery_sw:0,ps_ct:864e5,ps_ct_out:0}}),!((null===(r=m)||void 0===r?void 0:r.code)>0||v(m))&&m){t.next=11;break}return t.abrupt("return");case 11:g=(new Date).getTime(),y=o+"/"+s,m._ps_ct_timestamp=g+m.data.ps_ct,m._channel=y,m._custom_param=h,m._request_timestamp=g,I="TOPON_AD_CACHE_PLACEMENT_"+e,M.setItem(I,m,!1),t.next=23;break;case 21:t.prev=21,t.t0=t.catch(0);case 23:case"end":return t.stop()}}),t,this,[[0,21]])})))).apply(this,arguments)}function Ud(t,e){return $d.apply(this,arguments)}function $d(){return($d=o(i().mark((function t(e,n){var r,a,o,d,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="TOPON_AD_CACHE_PLACEMENT_"+e,t.next=3,M.getItem(a,!1);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:if(!v(o=t.t0)){t.next=9;break}return t.abrupt("return",Rd.call(this,e,n));case 9:if(d=(new Date).getTime(),s=(null==o||null===(r=o.data)||void 0===r?void 0:r.ps_ct_max)||6048e5,(l=(null==o?void 0:o._request_timestamp)||0)<=0&&(l=o._ps_ct_timestamp-o.data.ps_ct),!(l+s<d)){t.next=15;break}return t.abrupt("return",Rd.call(this,e,n));case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Nd(t){var e=this,i=t.placementStrategy,n=void 0===i?[]:i;if(n.length){var r=JSON.parse(JSON.stringify(t));delete r.options;var a=n.slice(0,10),o=[];return a.forEach((function(t){o.push(Ud.call(e,t,r))})),Promise.all(o)}}var jd="4.2.11",Fd="http://api.anythinktech.com";function Bd(t){return Wd.apply(this,arguments)}function Wd(){return(Wd=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,X,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I=e.appId,b=e.appKey,k=e.channelId,w=void 0===k?"":k,x=e.subChannelId,T=void 0===x?"":x,A=e.abtest_id,L=void 0===A?"":A,P=e.customParam,U=void 0===P?{}:P,$=e.placementCustomParam,N=O(U,void 0===$?{}:$),j=R(),F=S(),B=F.app,W=F.network,q=F.device,t.next=6,H.getInfo();case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:return V=t.t0,Y=B.getInfo()||{},t.next=13,W.getType();case 13:if(t.t1=t.sent,t.t1){t.next=16;break}t.t1={};case 16:return z=t.t1,t.next=19,H.getDeviceIds();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:return X=t.t2,t.next=25,H.getOaId();case 25:if(t.t3=t.sent,t.t3){t.next=28;break}t.t3="";case 28:return Q=t.t3,J="".concat(null==V?void 0:V.screenWidth,"*").concat(null==V?void 0:V.screenHeight),Z=nt[null==z||null===(n=z.data)||void 0===n?void 0:n.type]||"-1",tt="1.0",t.next=34,G();case 34:return et=t.sent,t.next=37,K();case 37:return it=t.sent,t.next=40,M.getItem("firstInitTime");case 40:if(t.t4=t.sent,t.t4){t.next=43;break}t.t4=0;case 43:return rt=t.t4,t.next=46,M.getItem("currentInitTime");case 46:if(t.t5=t.sent,t.t5){t.next=49;break}t.t5=0;case 49:return at=t.t5,ot=Math.ceil((at-rt+1)/864e5),dt={system:1,os_fw:8,mcc:"1",mnc:"1",timezone:"",nw_ver:"",orient:1,ua:j||"",os_vn:null!==(r=null==V?void 0:V.osVersionName)&&void 0!==r?r:"",os_vc:null!==(a=""+(null==V?void 0:V.osVersionCode))&&void 0!==a?a:"",package_name:null!==(o=null==Y?void 0:Y.packageName)&&void 0!==o?o:"",app_vn:null!==(d=null==Y?void 0:Y.versionName)&&void 0!==d?d:"",app_vc:null!==(s=""+(null==Y?void 0:Y.versionCode))&&void 0!==s?s:"",brand:null!==(l=null==V?void 0:V.brand)&&void 0!==l?l:"",model:null!==(c=null==V?void 0:V.model)&&void 0!==c?c:"",pf_vn:null!==(u=null==V?void 0:V.platformVersionName)&&void 0!==u?u:"",pf_vc:null!==(h=""+(null==V?void 0:V.platformVersionCode))&&void 0!==h?h:"",network_type:Z,screen:J,upid:et,app_id:I,sdk_ver:"UA_".concat(jd),platform:1,channel:w||"",sub_channel:T||"",custom:N,ps_id:it,first_init_time:1*rt,days_from_first_init:ot,deny:String(V.screenDensity),api_ver:"1.0",host_vn:null!==(p=null==q||null===(f=q.host)||void 0===f?void 0:f.versionName)&&void 0!==p?p:"",host_vc:null!==(v=""+(null==q||null===(m=q.host)||void 0===m?void 0:m.versionCode))&&void 0!==v?v:"",abtest_id:L},st={android_id:null!==(_=null==X?void 0:X.user)&&void 0!==_?_:"",mac:null!==(g=null==X?void 0:X.mac)&&void 0!==g?g:"",imei:"",oaid:Q,gaid:null!==(y=null==X?void 0:X.advertising)&&void 0!==y?y:"",is_cn_sdk:"1"},lt=C(D(dt)),ct=C(D(st)),ut=E(b,[{key:"api_ver",value:tt},{key:"p",value:lt},{key:"p2",value:ct}]),t.abrupt("return",{p:lt,p2:ct,api_ver:tt,sign:ut});case 58:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qd(t){return Md.apply(this,arguments)}function Md(){return(Md=o(i().mark((function t(e){var n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,t.prev=1,t.next=4,Bd.call(this,e);case 4:return r=t.sent,t.next=7,Na("".concat(Fd,"/v2/open/app"),r);case 7:return a=t.sent,o=Date.now(),a._scet_timestamp=o+a.data.scet,a._request_timestamp=o,Vd.call(this,n,a),t.abrupt("return",a);case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt("return",{});case 18:case"end":return t.stop()}}),t,this,[[1,15]])})))).apply(this,arguments)}function Vd(t,e){var i="TOPON_AD_CACHE_APP_"+t;return M.setItem(i,e,!1),Yd.call(this,t,e.data.logger),e}function Hd(t){return Gd.apply(this,arguments)}function Gd(){return(Gd=o(i().mark((function t(n){var r,a,o,d,s,l,c,u,h,p=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.appId,a="TOPON_AD_CACHE_APP_"+r,t.next=4,M.getItem(a,!1);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(!v(o=t.t0)){t.next=10;break}return t.abrupt("return",qd.call(this,n));case 10:if(d=Date.now(),s=(null==o?void 0:o._request_timestamp)||0,!(o._scet_timestamp>d)){t.next=16;break}return t.abrupt("return",Vd.call(this,r,o));case 16:if(!(s+6048e5<d)){t.next=20;break}return t.abrupt("return",qd.call(this,e(e({},n),{},{abtest_id:null!==(l=null==o||null===(c=o.data)||void 0===c?void 0:c.abtest_id)&&void 0!==l?l:""})));case 20:return setTimeout((function(){Vd.call(p,r,o)}),100),t.abrupt("return",qd.call(this,e(e({},n),{},{abtest_id:null!==(u=null==o||null===(h=o.data)||void 0===h?void 0:h.abtest_id)&&void 0!==u?u:""})));case 22:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Yd(t,e){var i,n,r,a=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def)&&void 0!==i?i:null;a&&null!=a&&a.topon_sdk&&(a.topon_sdk.cache.logger||(a.topon_sdk.cache.logger=Object.create(null)),a.topon_sdk.cache.logger[t]=e)}function Kd(t){return/^([.A-Za-z0-9_-]){1,128}$/.test(t)}function zd(t){return _(t)?JSON.parse(t):t}function Xd(t){var e=[],i=zd(t);return f(i)?(Object.keys(i).forEach((function(t){h(i[t])||e.push("".concat(t,"必须为字符串"))})),e):(e.push("setCustomParam参数必须是JSON Object"),e)}x&&(x.$topon_sdk=function(t,n){function r(){return r=o(i().mark((function t(e){var n,r,o,d,l,u,h,p,f,v,m,_,g=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this&&this.$def&&!this.$def.topon_sdk&&(this.$def.topon_sdk=Object.create(null),this.$def.topon_sdk.components=Ed,this.$def.topon_sdk.appId=e.appId,this.$def.topon_sdk.appKey=e.appKey,this.$def.topon_sdk.isTest=e.isTest||!1,this.$def.topon_sdk.event=Object.create(null),this.$def.topon_sdk.event.deeplink=Od("deeplink"),this.$def.topon_sdk.cache=Object.create(null),this.$def.topon_sdk.channelId=Kd(e.channelId)?e.channelId:"",this.$def.topon_sdk.subChannelId=Kd(e.subChannelId)?e.subChannelId:"",this.$def.topon_sdk.customParam={},this.$def.topon_sdk.placementCustomParam={},this.$def.topon_sdk.onInitTimestamp=Date.now(),this.$def.topon_sdk.onShowTimestamp=0,this.$def.topon_sdk.onHideTimestamp=0,this.$def.topon_sdk.onDestroyTimestamp=0,this.$def.topon_sdk.onHideCounter=0,this.$def.topon_sdk.destroyParams={},h=(null==e||null===(n=e.config)||void 0===n?void 0:n.device)||"0",p=(null==e||null===(r=e.config)||void 0===r?void 0:r.startup)||"0",f=(null==e||null===(o=e.config)||void 0===o?void 0:o.startupUnlock)||"0",v=(null==e||null===(d=e.config)||void 0===d?void 0:d.enhancedLoggingMode)&&Date.now()<17119008e5,this.$def.topon_sdk.startup=p,this.$def.topon_sdk.startupUnlock=f,this.$def.topon_sdk.startupReported=!1,this.$def.topon_sdk.enhancedLoggingMode=v,m={appId:e.appId,appKey:e.appKey,channelId:Kd(e.channelId)?e.channelId:"",subChannelId:Kd(e.subChannelId)?e.subChannelId:"",customParam:{},placementCustomParam:{}},Hd.call(this,m),M.setItem("needDevice",h),M.setItem("appId",e.appId),Cd.dispatch(this,e),c.call(this),a.call(this).then((function(){"1"!==p&&s.call(g)})),_={placementStrategy:null!==(l=null===(u=e.config)||void 0===u||null===(u=u.preload)||void 0===u?void 0:u.placementStrategy)&&void 0!==l?l:[],channelId:Kd(e.channelId)?e.channelId:"",subChannelId:Kd(e.subChannelId)?e.subChannelId:"",customParam:{},placementCustomParam:{}},Nd.call(this,_));case 1:case"end":return t.stop()}}),t,this)}))),r.apply(this,arguments)}function a(){return d.apply(this,arguments)}function d(){return(d=o(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getItem("firstInitTime");case 2:return(!(e=t.sent)||v(e)||1*e<16409664e5)&&(e=Date.now()),n=Date.now(),t.abrupt("return",M.batch({firstInitTime:e,currentInitTime:n}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(t){var i=e({logType:"APP_STARTUP"},t);so.call(this,i)}function l(){if("1"===this.$def.topon_sdk.startup){if(this.$def.topon_sdk.startupReported&&"1"===this.$def.topon_sdk.startupUnlock){var t=""+Date.now();return void s.call(this,{psIdVirtual:t})}this.$def.topon_sdk.startupReported||(this.$def.topon_sdk.startupReported=!0,s.call(this))}}function c(){var t=this,e={setChannel:u,setSubChannel:h,setCustomParam:p,setPlacementCustomParam:f,onShow:m,onHide:_,onDestroy:y};Object.keys(e).forEach((function(i){t.$def.topon_sdk[i]=e[i]}))}function u(t){if(!Kd(t))return console.error("渠道格式错误，仅支持：“数字“、”字母“、”_-.“"),void l.call(this);this.$def.topon_sdk.channelId=t,l.call(this)}function h(t){Kd(t)?this.$def.topon_sdk.subChannelId=t:console.error("渠道格式错误，仅支持：“数字“、”字母“、”_-.“")}function p(t){if(t&&!v(t)){var e=Xd(t);if(null!=e&&e.length)for(var i=0;i<e.length;i++)console.error(e[i]);else{var n=zd(t);this.$def.topon_sdk.customParam=n}}else console.error("setCustomParam参数错误")}function f(t,e){if(t&&e&&!v(e)){var i=Xd(e);if(null!=i&&i.length)for(var n=0;n<i.length;n++)console.error(i[n]);else{var r=zd(e);this.$def.topon_sdk.placementCustomParam[t]=r}}else console.error("setPlacementCustomParam参数错误")}function m(){if(this.$def.topon_sdk.onShowTimestamp=Date.now(),this.$def.topon_sdk.onHideTimestamp>0){var t=this.$def.topon_sdk.onShowTimestamp-this.$def.topon_sdk.onHideTimestamp,e={key:"HOT_START_INTERVAL_TIME",msg:String(t)};Va.call(this,e),this.$def.topon_sdk.onHideTimestamp=0}}function _(){return g.apply(this,arguments)}function g(){return(g=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$def.topon_sdk.onHideTimestamp=Date.now(),e=this.$def.topon_sdk.onHideTimestamp-this.$def.topon_sdk.onInitTimestamp,n=this.$def.topon_sdk.onHideTimestamp-this.$def.topon_sdk.onShowTimestamp,o=String(this.$def.topon_sdk.onHideTimestamp),e>n&&this.$def.topon_sdk.onHideCounter>0?(r="3",a=String(this.$def.topon_sdk.onShowTimestamp),d=String(n)):(r="1",a=String(this.$def.topon_sdk.onInitTimestamp),d=String(e)),t.next=7,G();case 7:return s=t.sent,l={key:"STAY_TIME",sdk_time:Date.now(),upid:s,msg:r,msg1:a,msg2:o,msg3:d},Va.call(this,l),this.$def.topon_sdk.onHideCounter++,t.next=13,Ga.call(this,l);case 13:c=t.sent,this.$def.topon_sdk.destroyParams=c;case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function y(){this.$def.topon_sdk.onDestroyTimestamp=Date.now();var t,e,i,n,r=this.$def.topon_sdk.onDestroyTimestamp-this.$def.topon_sdk.onInitTimestamp,a=this.$def.topon_sdk.onDestroyTimestamp-this.$def.topon_sdk.onShowTimestamp;i=String(this.$def.topon_sdk.onDestroyTimestamp),r>a&&this.$def.topon_sdk.onHideCounter>1?(t="4",e=String(this.$def.topon_sdk.onShowTimestamp),n=String(a)):(t="2",e=String(this.$def.topon_sdk.onInitTimestamp),n=String(r));var o={key:"STAY_TIME",sdk_time:Date.now(),msg:t,msg1:e,msg2:i,msg3:n};za.call(this,o)}return function(t){return r.apply(this,arguments)}.call(t,n)})}();\n'},3761:(t,e,n)=>{t.exports=n(3740)},8525:(t,e,n)=>{"use strict";var r=n(6631),i=n(6033),o=n(5589),a=n(4954),s=n(9648),u=n(1649),c=n(1053),l=n(2417),d=n(7028),h=n(1022),p=n(8859);t.exports=function(t){return new Promise((function(e,n){var f,g=t.data,v=t.headers,m=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete v["Content-Type"];var _=new XMLHttpRequest;if(t.auth){var E=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(E+":"+S)}var b=s(t.baseURL,t.url);function I(){if(_){var r="getAllResponseHeaders"in _?u(_.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:r,config:t,request:_};i((function(t){e(t),y()}),(function(t){n(t),y()}),o),_=null}}if(_.open(t.method.toUpperCase(),a(b,t.params,t.paramsSerializer),!0),_.timeout=t.timeout,"onloadend"in _?_.onloadend=I:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(I)},_.onabort=function(){_&&(n(new d("Request aborted",d.ECONNABORTED,t,_)),_=null)},_.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,t,_,_)),_=null},_.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||l;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new d(e,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,t,_)),_=null},r.isStandardBrowserEnv()){var T=(t.withCredentials||c(b))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;T&&(v[t.xsrfHeaderName]=T)}"setRequestHeader"in _&&r.forEach(v,(function(t,e){void 0===g&&"content-type"===e.toLowerCase()?delete v[e]:_.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(_.withCredentials=!!t.withCredentials),m&&"json"!==m&&(_.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&_.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(t){_&&(n(!t||t&&t.type?new h:t),_.abort(),_=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),g||(g=null);var A=p(b);A&&-1===["http","https","file"].indexOf(A)?n(new d("Unsupported protocol "+A+":",d.ERR_BAD_REQUEST,t)):_.send(g)}))}},3740:(t,e,n)=>{"use strict";var r=n(6631),i=n(3236),o=n(8852),a=n(9305),s=function t(e){var n=new o(e),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return t(a(e,n))},s}(n(2209));s.Axios=o,s.CanceledError=n(1022),s.CancelToken=n(1751),s.isCancel=n(4372),s.VERSION=n(8781).version,s.toFormData=n(2324),s.AxiosError=n(7028),s.Cancel=s.CanceledError,s.all=function(t){return Promise.all(t)},s.spread=n(118),s.isAxiosError=n(3626),t.exports=s,t.exports.default=s},1751:(t,e,n)=>{"use strict";var r=n(1022);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},1022:(t,e,n)=>{"use strict";var r=n(7028);function i(t){r.call(this,null==t?"canceled":t,r.ERR_CANCELED),this.name="CanceledError"}n(6631).inherits(i,r,{__CANCEL__:!0}),t.exports=i},4372:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},8852:(t,e,n)=>{"use strict";var r=n(6631),i=n(4954),o=n(1628),a=n(3613),s=n(9305),u=n(9648),c=n(237),l=c.validators;function d(t){this.defaults=t,this.interceptors={request:new o,response:new o}}d.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!i){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),o=Promise.resolve(e);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=e;r.length;){var p=r.shift(),f=r.shift();try{h=p(h)}catch(t){f(t);break}}try{o=a(h)}catch(t){return Promise.reject(t)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},d.prototype.getUri=function(t){t=s(this.defaults,t);var e=u(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(t){d.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(s(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[t]=e(),d.prototype[t+"Form"]=e(!0)})),t.exports=d},7028:(t,e,n)=>{"use strict";var r=n(6631);function i(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){a[t]={value:t}})),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(t,e,n,a,s,u){var c=Object.create(o);return r.toFlatObject(t,c,(function(t){return t!==Error.prototype})),i.call(c,t.message,e,n,a,s),c.name=t.name,u&&Object.assign(c,u),c},t.exports=i},1628:(t,e,n)=>{"use strict";var r=n(6631);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},9648:(t,e,n)=>{"use strict";var r=n(3284),i=n(9069);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},3613:(t,e,n)=>{"use strict";var r=n(6631),i=n(6547),o=n(4372),a=n(2209),s=n(1022);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},9305:(t,e,n)=>{"use strict";var r=n(6631);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function a(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function u(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==u||(n[t]=i)})),n}},6033:(t,e,n)=>{"use strict";var r=n(7028);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}},6547:(t,e,n)=>{"use strict";var r=n(6631),i=n(2209);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},2209:(t,e,n)=>{"use strict";var r=n(6631),i=n(3967),o=n(7028),a=n(2417),s=n(2324),u={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,d={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(8525)),l),transformRequest:[function(t,e){if(i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t))return t;if(r.isArrayBufferView(t))return t.buffer;if(r.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n,o=r.isObject(t),a=e&&e["Content-Type"];if((n=r.isFileList(t))||o&&"multipart/form-data"===a){var u=this.env&&this.env.FormData;return s(n?{"files[]":t}:t,u&&new u)}return o||"application/json"===a?(c(e,"application/json"),function(t){if(r.isString(t))try{return(0,JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||d.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw o.from(t,o.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1216)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){d.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){d.headers[t]=r.merge(u)})),t.exports=d},2417:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},8781:t=>{t.exports={version:"0.27.2"}},3236:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},4954:(t,e,n)=>{"use strict";var r=n(6631);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},9069:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},5589:(t,e,n)=>{"use strict";var r=n(6631);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},3284:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},3626:(t,e,n)=>{"use strict";var r=n(6631);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},1053:(t,e,n)=>{"use strict";var r=n(6631);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},3967:(t,e,n)=>{"use strict";var r=n(6631);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},1216:t=>{t.exports=null},1649:(t,e,n)=>{"use strict";var r=n(6631),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},8859:t=>{"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},118:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},2324:(t,e,n)=>{"use strict";var r=n(6631);t.exports=function(t,e){e=e||new FormData;var n=[];function i(t){return null===t?"":r.isDate(t)?t.toISOString():r.isArrayBuffer(t)||r.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(o,a){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+a);n.push(o),r.forEach(o,(function(n,o){if(!r.isUndefined(n)){var s,u=a?a+"."+o:o;if(n&&!a&&"object"==typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(s=r.toArray(n)))return void s.forEach((function(t){!r.isUndefined(t)&&e.append(u,i(t))}));t(n,u)}})),n.pop()}else e.append(a,i(o))}(t),e}},237:(t,e,n)=>{"use strict";var r=n(8781).version,i=n(7028),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var a={};o.transitional=function(t,e,n){function o(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new i(o(r," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),o=r.length;o-- >0;){var a=r[o],s=e[a];if(s){var u=t[a],c=void 0===u||s(u,a,t);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:o}},6631:(t,e,n)=>{"use strict";var r,i=n(3236),o=Object.prototype.toString,a=(r=Object.create(null),function(t){var e=o.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function s(t){return t=t.toLowerCase(),function(e){return a(e)===t}}function u(t){return Array.isArray(t)}function c(t){return void 0===t}var l=s("ArrayBuffer");function d(t){return null!==t&&"object"==typeof t}function h(t){if("object"!==a(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var p=s("Date"),f=s("File"),g=s("Blob"),v=s("FileList");function m(t){return"[object Function]"===o.call(t)}var y=s("URLSearchParams");function _(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var E,S=(E="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return E&&t instanceof E});t.exports={isArray:u,isArrayBuffer:l,isBuffer:function(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||o.call(t)===e||m(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:d,isPlainObject:h,isUndefined:c,isDate:p,isFile:f,isBlob:g,isFunction:m,isStream:function(t){return d(t)&&m(t.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:_,merge:function t(){var e={};function n(n,r){h(e[r])&&h(n)?e[r]=t(e[r],n):h(n)?e[r]=t({},n):u(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)_(arguments[r],n);return e},extend:function(t,e,n){return _(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n){var r,i,o,a={};e=e||{};do{for(i=(r=Object.getOwnPropertyNames(t)).length;i-- >0;)a[o=r[i]]||(e[o]=t[o],a[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:s,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n},toArray:function(t){if(!t)return null;var e=t.length;if(c(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},isTypedArray:S,isFileList:v}},9319:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u($app_require$("@app-module/system.fetch")),i=u($app_require$("@app-module/system.storage")),o=u($app_require$("@app-module/system.device")),a=u($app_require$("@app-module/system.prompt")),s=u($app_require$("@app-module/system.router"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let h=!1;const p=[],f=t=>new Promise((async(e,u)=>{const{method:c,url:d,data:g,headers:v={}}=t,m=await i.default.get({key:"AUTH_TOKEN_DATA"})||{},y=m.data?JSON.parse(m.data).accessToken:"";if(((t=>(new Date).getTime()-t.expireAt>6e5)(m)||!y)&&!t.url.includes("qa/mini/basic/user/login"))return h||(h=!0,new Promise((async(t,e)=>{const r=n(6828).default,i=await(async()=>(await o.default.getUserId()).data.userId)();r.toLogin({loginType:"DEVICE",appId:"SC_0001",deviceNum:i,loginAccount:i}).then((e=>{console.log("走的成功回调"),t(e)})).catch((t=>{console.log(t,"失败回调");try{"310001"===JSON.parse(t).code&&(console.log("进来了"),a.default.showDialog({title:"警告",message:"您已注销账号,请退出。",buttons:[{text:"退出",color:"#333333"}],success:function(t){s.default.push({uri:"Page_login"})},cancel:function(){console.log("cancel")}}))}catch(t){console.log(t,"查看获取报错")}e(t)}))})).then((async t=>{var e;t=JSON.parse(t),h=!1,"000000"===t.code&&(v.Authorization=t.data.accessToken,await i.default.set({key:"AUTH_TOKEN_DATA",value:JSON.stringify(t.data)}),console.log("res.data.accessToken",t.data.accessToken),e=t.data.accessToken,p.map((t=>t(e))))})).catch((t=>{h=!1}))),new Promise((()=>{var n;n=n=>(v.Authorization=n,f(t).then(e).catch(u)),p.push(n)}));v.Authorization=y||"",r.default.fetch({url:"https://api.ihaituo.cn"+d,method:c,data:g,header:l({"content-type":"application/json"},v),success:function(n){try{const r=n.data,o="string"==typeof r?JSON.parse(r):r;"000000"===o.code?e(d.includes("qa/mini/basic/user/login")?r:o):"300002"===o.code?(i.default.delete({key:"AUTH_TOKEN_DATA"}),f(t).then(e).catch(u)):u(r)}catch(t){console.error("Error parsing JSON or handling code: ",t),"string"==typeof n.data&&n.data.startsWith("<html>")?u("Server returned an HTML page instead of JSON. Possible incorrect URL or server error."):u("Error parsing JSON or handling code: "+t.message)}},fail:function(t){u(t)},complete:function(t){}})}));e.default=f},6828:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(9319))&&r.__esModule?r:{default:r};e.default={toLogin:t=>(0,i.default)({method:"POST",url:"/qa/mini/basic/user/login",data:t}),uploadsteps:t=>(0,i.default)({method:"POST",url:"/qa/mini/basic/sc/upload",data:t}),getsteps:t=>(0,i.default)({method:"GET",url:"/qa/mini/basic/sc",data:t}),getstepslist:()=>(0,i.default)({method:"GET",url:"/qa/mini/basic/sc/list"}),withdraw:t=>(0,i.default)({method:"POST",url:"/qa/mini/user/withdraw",data:t}),record:t=>(0,i.default)({method:"GET",url:"/qa/mini/user/cash/record",data:t}),getAdCount:t=>(0,i.default)({method:"GET",url:"/qa/mini/basic/ad/complete/count",data:t}),completeAd:t=>(0,i.default)({method:"POST",url:"/qa/mini/basic/ad/complete",data:t}),completeAdRSA:async t=>{let e=+new Date;t.timestamp=e;let n={data:await $utils.dataEncryption(t)};return console.log("任务加密",n),(0,i.default)({method:"POST",url:"/qa/mini/basic/ad/finish",data:JSON.stringify(n)})},convertUpload:t=>(console.log("data= ",t,`url= /qa/mini/basic/ad/convert/upload/${t.type}`),(0,i.default)({method:"POST",url:`/qa/mini/basic/ad/convert/upload/${t.type}`,data:t})),bolckReturn:()=>{let t=getApp().$def.dataApp.brand;return(0,i.default)({method:"GET",url:`/qa/mini/basic/clickControl/return/info/${t}`})},showTclayer:t=>{let e=getApp().$def.dataApp.brand;return(0,i.default)({method:"GET",url:`/qa/mini/basic/clickControl/transparentLayer/info/${e}`,data:t})},popUps:()=>(0,i.default)({method:"GET",url:"/qa/mini/basic/ad/auto/popUps"}),clickCount:t=>(0,i.default)({method:"GET",url:`/qa/mini/basic/ad/convert/clickCount/${t.type}`,data:t})}},6708:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const r=n(2979),i={};r.keys().forEach((t=>{"./index.js"!==t&&(i[t.replace(/(^\.\/|\.js$)/g,"")]=r(t).default)})),e.default=i},3334:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(9319))&&r.__esModule?r:{default:r};let o={getUserInfo:()=>(0,i.default)({method:"GET",url:"/qa/mini/user/info"}),getDailySignDay:t=>(0,i.default)({method:"GET",url:"/qa/mini/basic/goldExchangeRule/daily/sign/day",data:t}),goSianIn:t=>(0,i.default)({method:"GET",url:"/qa/mini/basic/goldExchangeRule/daily/sign",data:t}),postUserFeedback:t=>(0,i.default)({method:"POST",url:"/qa/mini/user/feedback",data:t}),getUserCashRecord:t=>(0,i.default)({method:"GET",url:"/qa/mini/user/cash/record",data:t}),getUserGoldRecord:t=>(0,i.default)({method:"GET",url:"/qa/mini/user/gold/record",data:t}),putForeverLogout:t=>(0,i.default)({method:"PUT",url:"/qa/mini/user/forever/logout"}),putAlipayAccount:t=>(0,i.default)({method:"PUT",url:"/qa/mini/user/alipay/account",data:t}),postSendCode:t=>(0,i.default)({method:"POST",url:`/qa/mini/basic/user/sendCode/${t.phone}`}),wealentry:()=>(0,i.default)({method:"GET",url:"/qa/mini/user/weal/entry"})};e.default=o},3650:(t,e)=>{"use strict";e.ZP=void 0;var n,r=(n=$app_require$("@app-module/system.storage"))&&n.__esModule?n:{default:n};e.ZP={getStorage:function(t){return new Promise(((e,n)=>{r.default.get({key:t,success:function(t){if(t){const n=JSON.parse(t);return e(n)}e(t)},fail:function(t,e){n(`getStorage fail, code = ${e}`)}})}))},setStorage:function(t,e=""){return new Promise(((n,i)=>{r.default.set({key:t,value:JSON.stringify(e),success:function(t){n("setStorage success")},fail:function(t,e){i(`setStorage fail, code = ${e}`)}})}))},incrementTodayClicks:function(){r.default.get({key:"todayClicks",default:"0",success:function(t){console.log("点击次数+1,当前次数",t);let e=parseInt(t)||0;e+=1,r.default.set({key:"todayClicks",value:e.toString()}),r.default.set({key:"lastResetDate",value:(new Date).toLocaleDateString()})}})},resetTodayClicksIfNeeded:function(){const t=(new Date).toLocaleDateString();r.default.get({key:"lastResetDate",default:"-1",success:function(e){console.log("本次检查日期：",t,"--- 最后进入广告页日期：",e),e!==t&&r.default.set({key:"todayClicks",value:"0"})}})}}},7979:(t,e,n)=>{"use strict";e.Z=void 0;var r,i=(r=$app_require$("@app-module/system.device"))&&r.__esModule?r:{default:r};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{JSEncrypt:u}=n(2943),c={publicKey:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqaj0Y3k54jCyTq47t73ScBX9uBsSScDo7/uZ+PhHYh9eQqHNW1bBjKGV4t3Y8Wokhv783krxhIqzkPf9nHeZ2yWqoQlPa3qOUc7Wf/HpX2+eHGRjF1/RLARJmMcEgQYB3WGbdRedu0FjQSGd+OfSS/W7Heh2ZGlF/aSHj2NYhYE4p7x4jjQIi+ueKZvVJNZpu0vhQaF45jpqQDULPL+MkkQePmupjp/PR4Ra8BVg4DwJuI6K8jL77YWaxeQRbMrEiQ0ZbTKRQ4o8N73iIM97E/h8PbDl5FbuNn0k8urkYnmv56AMdkVEyIOUwNEa8oU9QKz37o5Z2L7+yqx2zmLpVwIDAQAB"};function l(){let t=a({},getApp().$def.dataApp.actiParam);console.log("getConvertUpload() 转化参数param= ",t);for(const e in t)t[e]=t[e].replace(/\/$/,"");const e=d(t);e.callback&&(console.log("getConvertUpload() 格式化转化参数convertedParam= ",e),$apis.example.convertUpload(a(a({},e),{},{deviceId:e.oaid,type:e.type||"jh"})).then((t=>{console.log(t,"转换成功")})).catch((t=>{console.log(t,"转换失败")})))}function d(t){return Array.isArray(t)?t.map((t=>d(t))):null!==t&&t.constructor===Object?Object.keys(t).reduce(((e,n)=>(e[n.replace(/_([a-z])/g,((t,e)=>e.toUpperCase()))]=d(t[n]),e)),{}):t}let h;e.Z={throttle:(t,e=1500)=>{let n=null;return function(){let r=+new Date;(r-n>e||!n)&&(t.apply(this,arguments),n=r)}},getUserId:async()=>(await i.default.getUserId()).data.userId,getConvertUpload:l,startCountDown:(t,e)=>{let{totalSeconds:n=3,name:r,isFormat:i=!1}=t,o=e;return new Promise(((t,e)=>{let a=setInterval((()=>{if(n>1){n--;const t=i?(void 0).formatTime(Math.floor(n/60)):Math.floor(n/60),e=i?(void 0).formatTime(Math.floor(n%60)):Math.floor(n%60);o[r]={minutes:t,seconds:e}}else clearInterval(o.timer),t()}),1e3);o.timer=a}))},dataEncryption:(t,e="encrypt")=>{try{let n={encrypt:c.publicKey,decrypt:c.privateKey}[e],r="encrypt"===e?JSON.stringify(t):t;return new Promise(((t,i)=>{if("encrypt"===e){const e=new u;e.setPublicKey(n);let i=e.encrypt(r);return console.log(i,"查看有什么"),t(i),t(i)}}))}catch(t){console.log(t,"转换报错？")}},tablePlaque:async(t,e)=>{if(!$ad.getProvider())return void console.log("没有广告商");let n=$ad.createInterstitialAd({adUnitId:getApp().$def.dataApp.interstitialAdUnitId});n.load().then((t=>{console.log(t,"查屏加载成功"),n.show().then((()=>{console.log("插屏广告show成功")}),(()=>{console.log("插屏广告show失败")}))})).catch(e),n.onClick((()=>{console.log("插屏广告点击了"),l()})),n.onClose(t)},showBannerAd:async t=>{if(!$ad.getProvider())return void console.log("没有广告返回");var e=i.default.getInfoSync();let n=e.screenWidth,r=e.screenHeight-153-t,o=57*e.screenDensity,a=42*e.screenDensity,s=750*(r-o+e.statusBarHeight+a)/n;const u={left:0,top:0===s?1230:s,width:360,height:57};let c=getApp().$def.dataApp.bannerAdUnitId;h=$ad.createBannerAd({adUnitId:c,style:u,adIntervals:60}),h.onLoad((t=>{console.info("load bannerAd  onload success e="+JSON.stringify(t))})),h.onError((t=>{})),h.onClose((t=>{})),h.show()},hideBanerAd:()=>{h&&h.hide()},viewBanner:()=>{h&&h.show()},destroyBanner:()=>{h&&h.destroy()},saveHapUri:t=>{console.log("saveHapUri() 转化参数e= ",t);const{channelValue:e="",callback:n=""}=t;n&&(getApp().$def.dataApp.actiParam=a({},t))},getOAID:async()=>await i.default.getOAID(),openAd:()=>{$umeng_stat.trackEvent("wd_xyfddhj","点击"),$router.push({uri:"Page_cfd"})}}},8583:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSEncrypt=void 0;var r,i=n(7246),o=n(4112),a="undefined"!=typeof process?null===(r=process.env)||void 0===r?void 0:r.npm_package_version:void 0;e.JSEncrypt=function(){function t(t){void 0===t&&(t={}),t=t||{},this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new o.JSEncryptRSAKey(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt((0,i.b64tohex)(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return(0,i.hex2b64)(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,n){try{return(0,i.hex2b64)(this.getKey().sign(t,e,n))}catch(t){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,(0,i.b64tohex)(e),n)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new o.JSEncryptRSAKey,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version=a,t}()},4112:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSEncryptRSAKey=void 0;var r,i=n(7246),o=n(5615),a=n(6393),s=n(9587),u=n(9049),c=n(6128),l=n(3703),d=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.JSEncryptRSAKey=function(t){function e(n){var r=t.call(this)||this;return n&&("string"==typeof n?r.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return d(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?o.Hex.decode(t):a.Base64.unarmor(t),i=s.ASN1.decode(r);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){e=i.sub[1].getHexStringValue(),this.n=(0,c.parseBigInt)(e,16),n=i.sub[2].getHexStringValue(),this.e=parseInt(n,16);var u=i.sub[3].getHexStringValue();this.d=(0,c.parseBigInt)(u,16);var l=i.sub[4].getHexStringValue();this.p=(0,c.parseBigInt)(l,16);var d=i.sub[5].getHexStringValue();this.q=(0,c.parseBigInt)(d,16);var h=i.sub[6].getHexStringValue();this.dmp1=(0,c.parseBigInt)(h,16);var p=i.sub[7].getHexStringValue();this.dmq1=(0,c.parseBigInt)(p,16);var f=i.sub[8].getHexStringValue();this.coeff=(0,c.parseBigInt)(f,16)}else{if(2!==i.sub.length)return!1;if(i.sub[0].sub){var g=i.sub[1].sub[0];e=g.sub[0].getHexStringValue(),this.n=(0,c.parseBigInt)(e,16),n=g.sub[1].getHexStringValue(),this.e=parseInt(n,16)}else e=i.sub[0].getHexStringValue(),this.n=(0,c.parseBigInt)(e,16),n=i.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new l.KJUR.asn1.DERInteger({int:0}),new l.KJUR.asn1.DERInteger({bigint:this.n}),new l.KJUR.asn1.DERInteger({int:this.e}),new l.KJUR.asn1.DERInteger({bigint:this.d}),new l.KJUR.asn1.DERInteger({bigint:this.p}),new l.KJUR.asn1.DERInteger({bigint:this.q}),new l.KJUR.asn1.DERInteger({bigint:this.dmp1}),new l.KJUR.asn1.DERInteger({bigint:this.dmq1}),new l.KJUR.asn1.DERInteger({bigint:this.coeff})]};return new l.KJUR.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return(0,i.hex2b64)(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new l.KJUR.asn1.DERSequence({array:[new l.KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new l.KJUR.asn1.DERNull]}),e=new l.KJUR.asn1.DERSequence({array:[new l.KJUR.asn1.DERInteger({bigint:this.n}),new l.KJUR.asn1.DERInteger({int:this.e})]}),n=new l.KJUR.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new l.KJUR.asn1.DERSequence({array:[t,n]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return(0,i.hex2b64)(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return(t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n")+"-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return(t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n")+"-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(u.RSAKey)},2943:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"JSEncrypt",{enumerable:!0,get:function(){return r.JSEncrypt}}),e.default=void 0;var r=n(8583);e.default=r.JSEncrypt},9587:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stream=e.ASN1Tag=e.ASN1=void 0;var r=n(7264),i=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,o=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function a(t,e){return t.length>e&&(t=t.substring(0,e)+"…"),t}var s=e.Stream=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset ".concat(t," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var r="",i=t;i<e;++i)if(r+=this.hexByte(this.get(i)),!0!==n)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",r=t;r<e;++r)n+=String.fromCharCode(this.get(r));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",r=t;r<e;){var i=this.get(r++);n+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,r,i="",o=t;o<e;)n=this.get(o++),r=this.get(o++),i+=String.fromCharCode(n<<8|r);return i},t.prototype.parseTime=function(t,e,n){var r=this.parseStringISO(t,e),a=(n?i:o).exec(r);return a?(n&&(a[1]=+a[1],a[1]+=+a[1]<70?2e3:1900),r=a[1]+"-"+a[2]+"-"+a[3]+" "+a[4],a[5]&&(r+=":"+a[5],a[6]&&(r+=":"+a[6],a[7]&&(r+="."+a[7]))),a[8]&&(r+=" UTC","Z"!=a[8]&&(r+=a[8],a[9]&&(r+=":"+a[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){for(var n,i=this.get(t),o=i>127,a=o?255:0,s="";i==a&&++t<e;)i=this.get(t);if(0==(n=e-t))return o?-1:0;if(n>4){for(s=i,n<<=3;!(128&(+s^a));)s=+s<<1,--n;s="("+n+" bit)\n"}o&&(i-=256);for(var u=new r.Int10(i),c=t+1;c<e;++c)u.mulAdd(256,this.get(c));return s+u.toString()},t.prototype.parseBitString=function(t,e,n){for(var r=this.get(t),i="("+((e-t-1<<3)-r)+" bit)\n",o="",s=t+1;s<e;++s){for(var u=this.get(s),c=s==e-1?r:0,l=7;l>=c;--l)o+=u>>l&1?"1":"0";if(o.length>n)return i+a(o,n)}return i+o},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return a(this.parseStringISO(t,e),n);var r=e-t,i="("+r+" byte)\n";r>(n/=2)&&(e=t+n);for(var o=t;o<e;++o)i+=this.hexByte(this.get(o));return r>n&&(i+="…"),i},t.prototype.parseOID=function(t,e,n){for(var i="",o=new r.Int10,s=0,u=t;u<e;++u){var c=this.get(u);if(o.mulAdd(128,127&c),s+=7,!(128&c)){if(""===i)if((o=o.simplify())instanceof r.Int10)o.sub(80),i="2."+o.toString();else{var l=o<80?o<40?0:1:2;i=l+"."+(o-40*l)}else i+="."+o.toString();if(i.length>n)return a(i,n);o=new r.Int10,s=0}}return s>0&&(i+=".incomplete"),i},t}(),u=(e.ASN1=function(){function t(t,e,n,r,i){if(!(r instanceof u))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=r,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return a(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return a(this.stream.parseStringISO(e,e+n),t);case 30:return a(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,r=this.sub.length;n<r;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var r=0;r<n;++r)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof s?e:new s(e,0);var r=new s(n),i=new u(n),o=t.decodeLength(n),a=n.pos,c=a-r.pos,l=null,d=function(){var e=[];if(null!==o){for(var r=a+o;n.pos<r;)e[e.length]=t.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var i=t.decode(n);if(i.tag.isEOC())break;e[e.length]=i}o=a-n.pos}catch(t){throw new Error("Exception while decoding undefined length content: "+t)}return e};if(i.tagConstructed)l=d();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=d();for(var h=0;h<l.length;++h)if(l[h].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(t){l=null}if(null===l){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);n.pos=a+Math.abs(o)}return new t(r,c,o,i,l)},t}(),e.ASN1Tag=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=!!(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new r.Int10;do{e=t.get(),n.mulAdd(128,127&e)}while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}())},6393:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Base64=void 0;var r=e.Base64={decode:function(t){var e;if(void 0===n){for(n=Object.create(null),e=0;e<64;++e)n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(n["-"]=62,n._=63,e=0;e<9;++e)n["= \f\n\r\t \u2028\u2029".charAt(e)]=-1}var r=[],i=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=n[a])){if(void 0===a)throw new Error("Illegal character at offset "+e);i|=a,++o>=4?(r[r.length]=i>>16,r[r.length]=i>>8&255,r[r.length]=255&i,i=0,o=0):i<<=6}}switch(o){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:r[r.length]=i>>10;break;case 3:r[r.length]=i>>16,r[r.length]=i>>8&255}return r},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=r.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return r.decode(t)}}},5615:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Hex=void 0,e.Hex={decode:function(t){var e;if(void 0===n){var r="0123456789ABCDEF";for(n={},e=0;e<16;++e)n[r.charAt(e)]=e;for(r=r.toLowerCase(),e=10;e<16;++e)n[r.charAt(e)]=e;for(e=0;e<8;++e)n[" \f\n\r\t \u2028\u2029".charAt(e)]=-1}var i=[],o=0,a=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=n[s])){if(void 0===s)throw new Error("Illegal character at offset "+e);o|=s,++a>=2?(i[i.length]=o,o=0,a=0):o<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return i}}},7264:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Int10=void 0;var n=1e13;e.Int10=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var r,i,o=this.buf,a=o.length;for(r=0;r<a;++r)(i=o[r]*t+e)<n?e=0:i-=(e=0|i/n)*n,o[r]=i;e>0&&(o[r]=e)},t.prototype.sub=function(t){var e,r,i=this.buf,o=i.length;for(e=0;e<o;++e)(r=i[e]-t)<0?(r+=n,t=1):t=0,i[e]=r;for(;0===i[i.length-1];)i.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,r=e[e.length-1].toString(),i=e.length-2;i>=0;--i)r+=(n+e[i]).toString().substring(1);return r},t.prototype.valueOf=function(){for(var t=this.buf,e=0,r=t.length-1;r>=0;--r)e=e*n+t[r];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}()},7246:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.b64toBA=function(t){var e,n=a(t),r=[];for(e=0;2*e<n.length;++e)r[e]=parseInt(n.substring(2*e,2*e+2),16);return r},e.b64tohex=a,e.hex2b64=function(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=i.charAt(n>>6)+i.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=i.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=i.charAt(n>>2)+i.charAt((3&n)<<4));(3&r.length)>0;)r+=o;return r};var r=n(5714),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="=";function a(t){var e,n="",a=0,s=0;for(e=0;e<t.length&&t.charAt(e)!=o;++e){var u=i.indexOf(t.charAt(e));u<0||(0==a?(n+=(0,r.int2char)(u>>2),s=3&u,a=1):1==a?(n+=(0,r.int2char)(s<<2|u>>4),s=15&u,a=2):2==a?(n+=(0,r.int2char)(s),n+=(0,r.int2char)(u>>2),s=3&u,a=3):(n+=(0,r.int2char)(s<<2|u>>4),n+=(0,r.int2char)(15&u),a=0))}return 1==a&&(n+=(0,r.int2char)(s<<2)),n}},6128:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BigInteger=void 0,e.intAt=m,e.nbi=h,e.nbits=_,e.nbv=y,e.parseBigInt=function(t,e){return new s(t,e)};var r,i=n(5714),o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],a=(1<<26)/o[o.length-1],s=e.BigInteger=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,o=!1,a="",s=this.t,u=this.DB-s*this.DB%e;if(s-- >0)for(u<this.DB&&(n=this[s]>>u)>0&&(o=!0,a=(0,i.int2char)(n));s>=0;)u<e?(n=(this[s]&(1<<u)-1)<<e-u,n|=this[--s]>>(u+=this.DB-e)):(n=this[s]>>(u-=e)&r,u<=0&&(u+=this.DB,--s)),n>0&&(o=!0),o&&(a+=(0,i.int2char)(n));return o?a:"0"},t.prototype.negate=function(){var e=h();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+_(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=h();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new c(e):new l(e),this.exp(t,n)},t.prototype.clone=function(){var t=h();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),128&n&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=h();return this.bitwiseTo(t,i.op_and,e),e},t.prototype.or=function(t){var e=h();return this.bitwiseTo(t,i.op_or,e),e},t.prototype.xor=function(t){var e=h();return this.bitwiseTo(t,i.op_xor,e),e},t.prototype.andNot=function(t){var e=h();return this.bitwiseTo(t,i.op_andnot,e),e},t.prototype.not=function(){for(var t=h(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=h();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=h();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+(0,i.lbit)(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=(0,i.cbit)(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:!!(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,i.op_or)},t.prototype.clearBit=function(t){return this.changeBit(t,i.op_andnot)},t.prototype.flipBit=function(t){return this.changeBit(t,i.op_xor)},t.prototype.add=function(t){var e=h();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=h();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=h();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=h();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=h();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=h(),n=h();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=y(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new c(e):e.isEven()?new d(e):new l(e);var a=[],s=3,u=n-1,p=(1<<n)-1;if(a[1]=r.convert(this),n>1){var f=h();for(r.sqrTo(a[1],f);s<=p;)a[s]=h(),r.mulTo(f,a[s-2],a[s]),s+=2}var g,v,m=t.t-1,E=!0,S=h();for(i=_(t[m])-1;m>=0;){for(i>=u?g=t[m]>>i-u&p:(g=(t[m]&(1<<i+1)-1)<<u-i,m>0&&(g|=t[m-1]>>this.DB+i-u)),s=n;!(1&g);)g>>=1,--s;if((i-=s)<0&&(i+=this.DB,--m),E)a[g].copyTo(o),E=!1;else{for(;s>1;)r.sqrTo(o,S),r.sqrTo(S,o),s-=2;s>0?r.sqrTo(o,S):(v=o,o=S,S=v),r.mulTo(S,a[g],o)}for(;m>=0&&!(t[m]&1<<i);)r.sqrTo(o,S),v=o,o=S,S=v,--i<0&&(i=this.DB-1,--m)}return r.revert(o)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var r=e.clone(),i=this.clone(),o=y(1),a=y(0),s=y(0),u=y(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),n&&o.subTo(s,o),a.subTo(u,a)):(i.subTo(r,i),n&&s.subTo(o,s),u.subTo(a,u))}return 0!=i.compareTo(t.ONE)?t.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},t.prototype.pow=function(t){return this.exp(t,new u)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=o[o.length-1]){for(e=0;e<o.length;++e)if(n[0]==o[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<o.length;){for(var r=o[e],i=e+1;i<o.length&&r<a;)r*=o[i++];for(r=n.modInt(r);e<i;)if(r%o[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(e,n);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var s=8==r?255&+e[i]:m(e,i);s<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&128&+e[0]&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)e[s+o+1]=this[s]>>r|a,a=(this[s]&i)<<n;for(s=o-1;s>=0;--s)e[s]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},t.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var r=this.abs(),i=e.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,r){var i=e.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=h());var a=h(),s=this.s,u=e.s,c=this.DB-_(i[i.t-1]);c>0?(i.lShiftTo(c,a),o.lShiftTo(c,r)):(i.copyTo(a),o.copyTo(r));var l=a.t,d=a[l-1];if(0!=d){var p=d*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),f=this.FV/p,g=(1<<this.F1)/p,v=1<<this.F2,m=r.t,y=m-l,E=null==n?h():n;for(a.dlShiftTo(y,E),r.compareTo(E)>=0&&(r[r.t++]=1,r.subTo(E,r)),t.ONE.dlShiftTo(l,E),E.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--y>=0;){var S=r[--m]==d?this.DM:Math.floor(r[m]*f+(r[m-1]+v)*g);if((r[m]+=a.am(0,S,r,y,0,l))<S)for(a.dlShiftTo(y,E),r.subTo(E,r);r[m]<--S;)r.subTo(E,r)}null!=n&&(r.drShiftTo(l,n),s!=u&&t.ZERO.subTo(n,n)),r.t=l,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&t.ZERO.subTo(r,r)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var r=h(),i=h(),o=n.convert(this),a=_(e)-1;for(o.copyTo(r);--a>=0;)if(n.sqrTo(r,i),(e&1<<a)>0)n.mulTo(i,o,r);else{var s=r;r=i,i=s}return n.revert(r)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=y(n),i=h(),o=h(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(t)+a},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),o=!1,a=0,s=0,u=0;u<e.length;++u){var c=m(e,u);c<0?"-"==e.charAt(u)&&0==this.signum()&&(o=!0):(s=n*s+c,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(s,0)),o&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,r){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i.op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var o=[],a=7&e;o.length=1+(e>>3),n.nextBytes(o),a>0?o[0]&=(1<<a)-1:o[0]=0,this.fromString(o,256)}},t.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var r=t.ONE.shiftLeft(e);return this.bitwiseTo(r,n,r),r},t.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(var i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var i=n.shiftRight(r);(e=e+1>>1)>o.length&&(e=o.length);for(var a=h(),s=0;s<e;++s){a.fromInt(o[Math.floor(Math.random()*o.length)]);var u=a.modPow(i,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(n)){for(var c=1;c++<r&&0!=u.compareTo(n);)if(0==(u=u.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=u.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=h();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var o=n.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)e(n);else{o<a&&(a=o),a>0&&(n.rShiftTo(a,n),r.rShiftTo(a,r));var s=function(){(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(s,0):(a>0&&r.lShiftTo(a,r),setTimeout((function(){e(r)}),0))};setTimeout(s,10)}},t.prototype.fromNumberAsync=function(e,n,r,o){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i.op_or,this),this.isEven()&&this.dAddOffset(1,0);var a=this,s=function(){a.dAddOffset(2,0),a.bitLength()>e&&a.subTo(t.ONE.shiftLeft(e-1),a),a.isProbablePrime(n)?setTimeout((function(){o()}),0):setTimeout(s,0)};setTimeout(s,0)}else{var u=[],c=7&e;u.length=1+(e>>3),n.nextBytes(u),c>0?u[0]&=(1<<c)-1:u[0]=0,this.fromString(u,256)}},t}(),u=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),c=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),l=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=h();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(s.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=h();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),d=function(){function t(t){this.m=t,this.r2=h(),this.q3=h(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=h();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function h(){return new s(null)}var p="undefined"!=typeof navigator;p&&"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(t,e,n,r,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},r=30):p&&"Netscape"!=navigator.appName?(s.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},r=26):(s.prototype.am=function(t,e,n,r,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},r=28),s.prototype.DB=r,s.prototype.DM=(1<<r)-1,s.prototype.DV=1<<r,s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-r,s.prototype.F2=2*r-52;var f,g,v=[];for(f="0".charCodeAt(0),g=0;g<=9;++g)v[f++]=g;for(f="a".charCodeAt(0),g=10;g<36;++g)v[f++]=g;for(f="A".charCodeAt(0),g=10;g<36;++g)v[f++]=g;function m(t,e){var n=v[t.charCodeAt(e)];return null==n?-1:n}function y(t){var e=h();return e.fromInt(t),e}function _(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}s.ZERO=y(0),s.ONE=y(1)},2621:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arcfour=void 0,e.prng_newstate=function(){return new n},e.rng_psize=void 0;var n=e.Arcfour=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();e.rng_psize=256},3674:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SecureRandom=void 0;var r,i,o=n(2621),a=null;if(null==a){a=[],i=0;var s=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var u=new Uint32Array(256);for(window.crypto.getRandomValues(u),s=0;s<u.length;++s)a[i++]=255&u[s]}var c=0,l=function(t){if((c=c||0)>=256||i>=o.rng_psize)window.removeEventListener?window.removeEventListener("mousemove",l,!1):window.detachEvent&&window.detachEvent("onmousemove",l);else try{var e=t.x+t.y;a[i++]=255&e,c+=1}catch(t){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",l,!1):window.attachEvent&&window.attachEvent("onmousemove",l))}function d(){if(null==r){for(r=(0,o.prng_newstate)();i<o.rng_psize;){var t=Math.floor(65536*Math.random());a[i++]=255&t}for(r.init(a),i=0;i<a.length;++i)a[i]=0;i=0}return r.next()}e.SecureRandom=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=d()},t}()},9049:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RSAKey=void 0;var r=n(6128),i=n(3674);e.RSAKey=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=(0,r.parseBigInt)(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=this.n.bitLength()+7>>3,n=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var n=[],o=t.length-1;o>=0&&e>0;){var a=t.charCodeAt(o--);a<128?n[--e]=a:a>127&&a<2048?(n[--e]=63&a|128,n[--e]=a>>6|192):(n[--e]=63&a|128,n[--e]=a>>6&63|128,n[--e]=a>>12|224)}n[--e]=0;for(var s=new i.SecureRandom,u=[];e>2;){for(u[0]=0;0==u[0];)s.nextBytes(u);n[--e]=u[0]}return n[--e]=2,n[--e]=0,new r.BigInteger(n)}(t,e);if(null==n)return null;var o=this.doPublic(n);if(null==o)return null;for(var a=o.toString(16),s=a.length,u=0;u<2*e-s;u++)a="0"+a;return a},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=(0,r.parseBigInt)(t,16),this.e=parseInt(e,16),this.d=(0,r.parseBigInt)(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,i,o,a,s,u){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=(0,r.parseBigInt)(t,16),this.e=parseInt(e,16),this.d=(0,r.parseBigInt)(n,16),this.p=(0,r.parseBigInt)(i,16),this.q=(0,r.parseBigInt)(o,16),this.dmp1=(0,r.parseBigInt)(a,16),this.dmq1=(0,r.parseBigInt)(s,16),this.coeff=(0,r.parseBigInt)(u,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new i.SecureRandom,o=t>>1;this.e=parseInt(e,16);for(var a=new r.BigInteger(e,16);;){for(;this.p=new r.BigInteger(t-o,1,n),0!=this.p.subtract(r.BigInteger.ONE).gcd(a).compareTo(r.BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new r.BigInteger(o,1,n),0!=this.q.subtract(r.BigInteger.ONE).gcd(a).compareTo(r.BigInteger.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var u=this.p.subtract(r.BigInteger.ONE),c=this.q.subtract(r.BigInteger.ONE),l=u.multiply(c);if(0==l.gcd(a).compareTo(r.BigInteger.ONE)){this.n=this.p.multiply(this.q),this.d=a.modInverse(l),this.dmp1=this.d.mod(u),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=(0,r.parseBigInt)(t,16),n=this.doPrivate(e);return null==n?null:function(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var o=new i.SecureRandom,a=t>>1;this.e=parseInt(e,16);var s=new r.BigInteger(e,16),u=this,c=function(){var e=function(){if(u.p.compareTo(u.q)<=0){var t=u.p;u.p=u.q,u.q=t}var e=u.p.subtract(r.BigInteger.ONE),i=u.q.subtract(r.BigInteger.ONE),o=e.multiply(i);0==o.gcd(s).compareTo(r.BigInteger.ONE)?(u.n=u.p.multiply(u.q),u.d=s.modInverse(o),u.dmp1=u.d.mod(e),u.dmq1=u.d.mod(i),u.coeff=u.q.modInverse(u.p),setTimeout((function(){n()}),0)):setTimeout(c,0)},i=function(){u.q=(0,r.nbi)(),u.q.fromNumberAsync(a,1,o,(function(){u.q.subtract(r.BigInteger.ONE).gcda(s,(function(t){0==t.compareTo(r.BigInteger.ONE)&&u.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(i,0)}))}))},l=function(){u.p=(0,r.nbi)(),u.p.fromNumberAsync(t-a,1,o,(function(){u.p.subtract(r.BigInteger.ONE).gcda(s,(function(t){0==t.compareTo(r.BigInteger.ONE)&&u.p.isProbablePrime(10)?setTimeout(i,0):setTimeout(l,0)}))}))};setTimeout(l,0)};setTimeout(c,0)},t.prototype.sign=function(t,e,n){var i=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,i="",o=0;o<n;o+=2)i+="ff";var a="0001"+i+"00"+t;return(0,r.parseBigInt)(a,16)}((o[n]||"")+e(t).toString(),this.n.bitLength()/4);if(null==i)return null;var a=this.doPrivate(i);if(null==a)return null;var s=a.toString(16);return 1&s.length?"0"+s:s},t.prototype.verify=function(t,e,n){var i=(0,r.parseBigInt)(e,16),a=this.doPublic(i);return null==a?null:function(t){for(var e in o)if(o.hasOwnProperty(e)){var n=o[e],r=n.length;if(t.substr(0,r)==n)return t.substr(r)}return t}(a.toString(16).replace(/^1f+00/,""))==n(t).toString()},t}();var o={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"}},5714:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cbit=function(t){for(var e=0;0!=t;)t&=t-1,++e;return e},e.int2char=function(t){return n.charAt(t)},e.lbit=function(t){if(0==t)return-1;var e=0;return 65535&t||(t>>=16,e+=16),255&t||(t>>=8,e+=8),15&t||(t>>=4,e+=4),3&t||(t>>=2,e+=2),1&t||++e,e},e.op_and=function(t,e){return t&e},e.op_andnot=function(t,e){return t&~e},e.op_or=function(t,e){return t|e},e.op_xor=function(t,e){return t^e};var n="0123456789abcdefghijklmnopqrstuvwxyz"},3703:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KJUR=void 0;var r=n(6128),i=n(7674),o=e.KJUR={};void 0!==o.asn1&&o.asn1||(o.asn1={}),o.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var i="",o=0;o<n;o++)i+="f";e=new r.BigInteger(i,16).xor(t).add(r.BigInteger.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=o.asn1,n=e.DERBoolean,r=e.DERInteger,i=e.DERBitString,a=e.DEROctetString,s=e.DERNull,u=e.DERObjectIdentifier,c=e.DEREnumerated,l=e.DERUTF8String,d=e.DERNumericString,h=e.DERPrintableString,p=e.DERTeletexString,f=e.DERIA5String,g=e.DERUTCTime,v=e.DERGeneralizedTime,m=e.DERSequence,y=e.DERSet,_=e.DERTaggedObject,E=e.ASN1Util.newObject,S=Object.keys(t);if(1!=S.length)throw"key of param shall be only one.";var b=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+b+":"))throw"undefined key: "+b;if("bool"==b)return new n(t[b]);if("int"==b)return new r(t[b]);if("bitstr"==b)return new i(t[b]);if("octstr"==b)return new a(t[b]);if("null"==b)return new s(t[b]);if("oid"==b)return new u(t[b]);if("enum"==b)return new c(t[b]);if("utf8str"==b)return new l(t[b]);if("numstr"==b)return new d(t[b]);if("prnstr"==b)return new h(t[b]);if("telstr"==b)return new p(t[b]);if("ia5str"==b)return new f(t[b]);if("utctime"==b)return new g(t[b]);if("gentime"==b)return new v(t[b]);if("seq"==b){for(var I=t[b],T=[],A=0;A<I.length;A++){var w=E(I[A]);T.push(w)}return new m({array:T})}if("set"==b){for(I=t[b],T=[],A=0;A<I.length;A++)w=E(I[A]),T.push(w);return new y({array:T})}if("tag"==b){var k=t[b];if("[object Array]"===Object.prototype.toString.call(k)&&3==k.length){var C=E(k[2]);return new _({tag:k[0],explicit:k[1],obj:C})}var O={};if(void 0!==k.explicit&&(O.explicit=k.explicit),void 0!==k.tag&&(O.tag=k.tag),void 0===k.obj)throw"obj shall be specified for 'tag'.";return O.obj=E(k.obj),new _(O)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},o.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),i=(e=Math.floor(n/40)+"."+n%40,""),o=2;o<t.length;o+=2){var a=("00000000"+parseInt(t.substr(o,2),16).toString(2)).slice(-8);i+=a.substr(1,7),"0"==a.substr(0,1)&&(e=e+"."+new r.BigInteger(i,2).toString(10),i="")}return e},o.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new r.BigInteger(t,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var a="",s=0;s<o;s++)a+="0";for(i=a+i,s=0;s<i.length-1;s+=7){var u=i.substr(s,7);s!=i.length-7&&(u="1"+u),n+=e(parseInt(u,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",o=t.split("."),a=40*parseInt(o[0])+parseInt(o[1]);i+=e(a),o.splice(0,2);for(var s=0;s<o.length;s++)i+=n(o[s]);return i},o.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},o.asn1.DERAbstractString=function(t){o.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},i.YAHOO.lang.extend(o.asn1.DERAbstractString,o.asn1.ASN1Object),o.asn1.DERAbstractTime=function(t){o.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var a=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var u=r(String(s),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,r,i,o){var a=new Date(Date.UTC(t,e-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},i.YAHOO.lang.extend(o.asn1.DERAbstractTime,o.asn1.ASN1Object),o.asn1.DERAbstractStructured=function(t){o.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},i.YAHOO.lang.extend(o.asn1.DERAbstractStructured,o.asn1.ASN1Object),o.asn1.DERBoolean=function(){o.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},i.YAHOO.lang.extend(o.asn1.DERBoolean,o.asn1.ASN1Object),o.asn1.DERInteger=function(t){o.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=o.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new r.BigInteger(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},i.YAHOO.lang.extend(o.asn1.DERInteger,o.asn1.ASN1Object),o.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=o.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}o.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var r="";for(n=0;n<t.length-1;n+=8){var i=t.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},i.YAHOO.lang.extend(o.asn1.DERBitString,o.asn1.ASN1Object),o.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=o.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}o.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},i.YAHOO.lang.extend(o.asn1.DEROctetString,o.asn1.DERAbstractString),o.asn1.DERNull=function(){o.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},i.YAHOO.lang.extend(o.asn1.DERNull,o.asn1.ASN1Object),o.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new r.BigInteger(t,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var a="",s=0;s<o;s++)a+="0";for(i=a+i,s=0;s<i.length-1;s+=7){var u=i.substr(s,7);s!=i.length-7&&(u="1"+u),n+=e(parseInt(u,2))}return n};o.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=e(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var e=o.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},i.YAHOO.lang.extend(o.asn1.DERObjectIdentifier,o.asn1.ASN1Object),o.asn1.DEREnumerated=function(t){o.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=o.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new r.BigInteger(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},i.YAHOO.lang.extend(o.asn1.DEREnumerated,o.asn1.ASN1Object),o.asn1.DERUTF8String=function(t){o.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},i.YAHOO.lang.extend(o.asn1.DERUTF8String,o.asn1.DERAbstractString),o.asn1.DERNumericString=function(t){o.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},i.YAHOO.lang.extend(o.asn1.DERNumericString,o.asn1.DERAbstractString),o.asn1.DERPrintableString=function(t){o.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},i.YAHOO.lang.extend(o.asn1.DERPrintableString,o.asn1.DERAbstractString),o.asn1.DERTeletexString=function(t){o.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},i.YAHOO.lang.extend(o.asn1.DERTeletexString,o.asn1.DERAbstractString),o.asn1.DERIA5String=function(t){o.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},i.YAHOO.lang.extend(o.asn1.DERIA5String,o.asn1.DERAbstractString),o.asn1.DERUTCTime=function(t){o.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},i.YAHOO.lang.extend(o.asn1.DERUTCTime,o.asn1.DERAbstractTime),o.asn1.DERGeneralizedTime=function(t){o.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},i.YAHOO.lang.extend(o.asn1.DERGeneralizedTime,o.asn1.DERAbstractTime),o.asn1.DERSequence=function(t){o.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},i.YAHOO.lang.extend(o.asn1.DERSequence,o.asn1.DERAbstractStructured),o.asn1.DERSet=function(t){o.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},i.YAHOO.lang.extend(o.asn1.DERSet,o.asn1.DERAbstractStructured),o.asn1.DERTaggedObject=function(t){o.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},i.YAHOO.lang.extend(o.asn1.DERTaggedObject,o.asn1.ASN1Object)},7674:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YAHOO=void 0,(e.YAHOO={}).lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var i;for(i in n)t.prototype[i]=n[i];var o=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(t,e){for(i=0;i<a.length;i+=1){var n=a[i],r=e[n];"function"==typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(t){}o(t.prototype,n)}}}},2876:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _system=_interopRequireDefault($app_require$("@app-module/system.storage")),_system2=_interopRequireDefault($app_require$("@app-module/system.device")),_system3=_interopRequireDefault($app_require$("@app-module/system.network")),_system4=_interopRequireDefault($app_require$("@app-module/system.router")),_system5=_interopRequireDefault($app_require$("@app-module/system.app")),_system6=_interopRequireDefault($app_require$("@app-module/system.fetch")),_system7=_interopRequireDefault($app_require$("@app-module/system.file")),_system8=_interopRequireDefault($app_require$("@app-module/system.request"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function buildUniqueId(t){const e=[];e.push(DeviceUtil.getAdvertisingId()),e.push(DeviceUtil.getAndroidId()),e.push(DeviceUtil.getOAID()),Promise.all(e).then((e=>{const n=e[0],r=e[1],i=e[2];StorageUtil.putData(constants.MOBILE_ADVERTISING_ID,n),StorageUtil.putData(constants.MOBILE_ANDROID_ID,r),StorageUtil.putData(constants.MOBILE_OAID,i),uniqueidCache=r||n||i,StorageUtil.putData("umeng_uniqueid",uniqueidCache),t(uniqueidCache)}))}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}function MD5$1(t){return MD5(t)}function encode(t){return Base64_2.encode(t,!1)}function decode(t){return Base64_2.decode(t)}function checkEmptyArgument(t){return t.length&&this.checkId(t[0])}function checkId(t){return t&&"string"==typeof t}function toStr(t){let e="";if(t)try{e=JSON.stringify(t)}catch(t){}return e}function stringToArray(t){if(t)try{return JSON.parse(t)}catch(t){}return[]}function toObject(t){if(t)try{return JSON.parse(t)}catch(t){}return null}function checkAttrOrString(t){return!(!t||"string"!=typeof t&&("object"!=typeof t||isArray(t)))}function isArray(t){return"[object Array]"==={}.toString.call(t)}function isNotANumber(t){return!isNaN(parseInt(t,10))}function checkMD5(t,e){try{return t===MD5(e)}catch(t){return!1}}function Looper(){}function send(t){_system3.default.getType({success(e){"none"!==e.type&&hasEnvelope(t,((e,n)=>{if(e){if(n){const e={md5Key:n,type:"second"};RequestHelper.getInstance().send(e,(()=>{StoreQueue.getInstance().handleMessage(null),realSend(t)}))}}else realSend(t)}))},fail(){}})}function hasEnvelope(t,e){StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS,(n=>{if(!n)return void e(!1,null);const r=UmengUtils.stringToArray(n);if(r&&0!==r.length){for(const n in r)if({}.hasOwnProperty.call(r,n)){const i=r[n];if(i){if(0===i.indexOf(constants.KEY_EVENT_PREFIX)&&t===constants.REQUEST_TYPE_EVENT)return void e(!0,i);if(0===i.indexOf(constants.KEY_HALF_SESSION_PREFIX)&&t===constants.REQUEST_TYPE_SESSION_HALF)return void e(!0,i);if(0===i.indexOf(constants.KEY_CLOSE_SESSION_PREFIX)&&t===constants.REQUEST_TYPE_SESSION_CLOSE)return void e(!0,i)}}e(!1,null)}else e(!1,null)}))}function realSend(t){if(RequestHelper.getInstance().paramsIsValid(t))if(t===constants.REQUEST_TYPE_SESSION_HALF){const e=RequestHelper.getInstance().buildSendContent(t,null);e.data.analytics&&RequestHelper.getInstance().send(e,(t=>{t&&-1!==t.indexOf(constants.KEY_HALF_SESSION_PREFIX)&&(Header.getInstance().setFirstSendFlag(),StorageUtil.putData(constants.APP_FIRST_OPEN_FLAG,"false"))}))}else if(t===constants.REQUEST_TYPE_SESSION_CLOSE){const e=RequestHelper.getInstance().buildSendContent(t,null);e&&e.data&&e.data.analytics&&RequestHelper.getInstance().send(e)}else t===constants.REQUEST_TYPE_EVENT&&EventStoreQueue.getInstance().readEkvDatas((e=>{if(!e||0===e.length)return;const n=RequestHelper.getInstance().buildSendContent(t,e);n&&n.data.analytics&&(RequestHelper.getInstance().send(n),EventController.getInstance().setSendTime())}))}function sendAll(){if(0===time){time=10;const t=setInterval((()=>{time-=1,0===time&&clearInterval(t)}),100);Header.getInstance().getHeader()?(send(constants.REQUEST_TYPE_SESSION_HALF),send(constants.REQUEST_TYPE_SESSION_CLOSE),send(constants.REQUEST_TYPE_EVENT)):setTimeout(sendAll,100)}}function PageController(){this._pagelist=[],this._currentPage={},this.pageObject={}}function UmengAnalysisLib(){this.pageController=new PageController}function isInit(){return!!inited||(console.error("[app.ux] ==> onCreate not invoked init() method"),!1)}function sendDatas(){Header.getInstance().getHeader()?(Request.send(constants.REQUEST_TYPE_SESSION_HALF),Request.send(constants.REQUEST_TYPE_SESSION_CLOSE),StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY,(t=>{t===constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE&&Request.send(constants.REQUEST_TYPE_EVENT)}))):setTimeout(sendDatas,100)}function SdkUpdater(){this.url=constants.SDK_UPDATE_SERVER_ADDRESS}function Page(t){if(t){const e=t.onShow;t.onShow=function(...t){try{UmengAnalysis.resume(this)}catch(t){}if(e)return e.apply(this,t)};const n=t.onHide;t.onHide=function(...t){try{UmengAnalysis.pause(this)}catch(t){}if(n)return n.apply(this,t)}}return t}const StorageUtil={putData(t,e,n,r){_system.default.set({key:t,value:e,success(t){n&&n(t)},fail(t,e){r&&r(t,e)}})},getData(t,e,n){_system.default.get({key:t,success(t){e&&e(t)},fail(t,e){n&&n(t,e)}})},deleteData(t,e){_system.default.delete({key:t,success(){e&&e(!0)},fail(){e&&e(!1)}})}},constants={KEY_NO_SEND_REQUEST_KEYS:"umeng_key_no_send_request",SESSION_INTERVAL:3e4,TEST_URL:"https://preulogs.umeng.com/unify_logs",RELEASE_URL:"https://ulogs.umeng.com/unify_logs",KEY_SESSION_PREFIX:"umeng_session_prefix_",KEY_EVENT_PREFIX:"umeng_event_prefix_",KEY_HALF_SESSION_PREFIX:"umeng_half_session_prefix_",KEY_CLOSE_SESSION_PREFIX:"umeng_close_session_prefix_",REQUEST_TYPE_SESSION_HALF:1,REQUEST_TYPE_SESSION_CLOSE:2,REQUEST_TYPE_EVENT:3,IS_DEBUG:!1,SDK_VERSION:"2.0.3",APP_FIRST_OPEN_FLAG:"umeng_key_first_open_flag",MOBILE_ADVERTISING_ID:"umeng_mobile_advertising_id",MOBILE_ANDROID_ID:"umeng_android__id",MOBILE_OAID:"umeng_oaid",EVENT_SEND_MIN_INTERVAL:90,EVENT_SEND_MAX_INTERVAL:86400,EVENT_LAST_SEND_TIME:"umeng_ekv_last_send_time",EVENT_SEND_REPORT_POLICY:"event_send_report_policy",EVENT_SEND_REPORT_INTERVAL_TIME:"event_send_report_interval_time",EVENT_SEND_REPORT_POLICY_START_SEND_VALUE:"1",EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE:"6",DOWNLOAD_FILE_FIRST_CACHE:"umeng_sdk_update_firstCacheLevel",DOWNLOAD_FILE_SECOND_CACHE:"umeng_sdk_update_secondCacheLevel",SDK_UPDATE_SERVER_ADDRESS:"http://s.cnzz.com/sdk/quickapp",SDK_UPDATE_LOCAL_STORAGE_PATH:"internal://files/umengsdk/"};let oaidCache=null,androididCache=null,idfaCache=null,uniqueidCache=null,deviceInfoCache=null;const DeviceUtil={getBaseInfo:()=>new Promise((t=>{deviceInfoCache?t(deviceInfoCache):_system2.default.getInfo({success(e){deviceInfoCache=e,t(e)},fail(){t(null)}})})),getNetworkInfo(t){_system3.default.getType({success(e){t(e)}})},getAndroidId:()=>new Promise((t=>{androididCache?t(androididCache.userId):_system2.default.getUserId({success(e){androididCache=e,t(e.userId)},fail(){t("")}})})),getAdvertisingId:()=>new Promise((t=>{idfaCache?t(idfaCache.advertisingId):_system2.default.getAdvertisingId({success(e){idfaCache=e,t(e.advertisingId)},fail(){t("")}})})),getOAID:()=>(console.log("call getOAID"),new Promise((t=>{null===oaidCache?"function"!=typeof _system2.default.getOAID||!1===_system2.default.allowTrackOAID?t(""):_system2.default.getOAID({success(e){oaidCache=e,t(e.oaid)},fail(){t("")}}):t(oaidCache.oaid)}))),getUniqueId:()=>new Promise((t=>{uniqueidCache?t(uniqueidCache):buildUniqueId(t)})),getPageName(){try{return _system4.default.getState().name}catch(t){}},getSystemBaseInfo(t,e){deviceInfoCache?t&&t(deviceInfoCache):_system2.default.getInfo({success(e){deviceInfoCache=e,t&&t(e)},fail(t,n){e&&e(t,n)}})}},Log={d(t){},i(t){try{userDebug&&console.info(t)}catch(t){}},e(t){},w(t){},v(t){}};var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},MD5=createCommonjsModule((function(t){!function(e){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e,r,i,o,a){return n(function(t,e){return t<<e|t>>>32-e}(n(n(e,t),n(i,a)),o),r)}function i(t,e,n,i,o,a,s){return r(e&n|~e&i,t,e,o,a,s)}function o(t,e,n,i,o,a,s){return r(e&i|n&~i,t,e,o,a,s)}function a(t,e,n,i,o,a,s){return r(e^n^i,t,e,o,a,s)}function s(t,e,n,i,o,a,s){return r(n^(e|~i),t,e,o,a,s)}function u(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var r,u,c,l,d,h=1732584193,p=-271733879,f=-1732584194,g=271733878;for(r=0;r<t.length;r+=16)u=h,c=p,l=f,d=g,p=s(p=s(p=s(p=s(p=a(p=a(p=a(p=a(p=o(p=o(p=o(p=o(p=i(p=i(p=i(p=i(p,f=i(f,g=i(g,h=i(h,p,f,g,t[r],7,-680876936),p,f,t[r+1],12,-389564586),h,p,t[r+2],17,606105819),g,h,t[r+3],22,-1044525330),f=i(f,g=i(g,h=i(h,p,f,g,t[r+4],7,-176418897),p,f,t[r+5],12,1200080426),h,p,t[r+6],17,-1473231341),g,h,t[r+7],22,-45705983),f=i(f,g=i(g,h=i(h,p,f,g,t[r+8],7,1770035416),p,f,t[r+9],12,-1958414417),h,p,t[r+10],17,-42063),g,h,t[r+11],22,-1990404162),f=i(f,g=i(g,h=i(h,p,f,g,t[r+12],7,1804603682),p,f,t[r+13],12,-40341101),h,p,t[r+14],17,-1502002290),g,h,t[r+15],22,1236535329),f=o(f,g=o(g,h=o(h,p,f,g,t[r+1],5,-165796510),p,f,t[r+6],9,-1069501632),h,p,t[r+11],14,643717713),g,h,t[r],20,-373897302),f=o(f,g=o(g,h=o(h,p,f,g,t[r+5],5,-701558691),p,f,t[r+10],9,38016083),h,p,t[r+15],14,-660478335),g,h,t[r+4],20,-405537848),f=o(f,g=o(g,h=o(h,p,f,g,t[r+9],5,568446438),p,f,t[r+14],9,-1019803690),h,p,t[r+3],14,-187363961),g,h,t[r+8],20,1163531501),f=o(f,g=o(g,h=o(h,p,f,g,t[r+13],5,-1444681467),p,f,t[r+2],9,-51403784),h,p,t[r+7],14,1735328473),g,h,t[r+12],20,-1926607734),f=a(f,g=a(g,h=a(h,p,f,g,t[r+5],4,-378558),p,f,t[r+8],11,-2022574463),h,p,t[r+11],16,1839030562),g,h,t[r+14],23,-35309556),f=a(f,g=a(g,h=a(h,p,f,g,t[r+1],4,-1530992060),p,f,t[r+4],11,1272893353),h,p,t[r+7],16,-155497632),g,h,t[r+10],23,-1094730640),f=a(f,g=a(g,h=a(h,p,f,g,t[r+13],4,681279174),p,f,t[r],11,-358537222),h,p,t[r+3],16,-722521979),g,h,t[r+6],23,76029189),f=a(f,g=a(g,h=a(h,p,f,g,t[r+9],4,-640364487),p,f,t[r+12],11,-421815835),h,p,t[r+15],16,530742520),g,h,t[r+2],23,-995338651),f=s(f,g=s(g,h=s(h,p,f,g,t[r],6,-198630844),p,f,t[r+7],10,1126891415),h,p,t[r+14],15,-1416354905),g,h,t[r+5],21,-57434055),f=s(f,g=s(g,h=s(h,p,f,g,t[r+12],6,1700485571),p,f,t[r+3],10,-1894986606),h,p,t[r+10],15,-1051523),g,h,t[r+1],21,-2054922799),f=s(f,g=s(g,h=s(h,p,f,g,t[r+8],6,1873313359),p,f,t[r+15],10,-30611744),h,p,t[r+6],15,-1560198380),g,h,t[r+13],21,1309151649),f=s(f,g=s(g,h=s(h,p,f,g,t[r+4],6,-145523070),p,f,t[r+11],10,-1120210379),h,p,t[r+2],15,718787259),g,h,t[r+9],21,-343485551),h=n(h,u),p=n(p,c),f=n(f,l),g=n(g,d);return[h,p,f,g]}function c(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function l(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function d(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function h(t){return unescape(encodeURIComponent(t))}function p(t){return function(t){return c(u(l(t),8*t.length))}(h(t))}function f(t,e){return function(t,e){var n,r,i=l(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=u(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=u(o.concat(l(e)),512+8*e.length),c(u(a.concat(r),640))}(h(t),h(e))}function g(t,e,n){return e?n?f(e,t):function(t,e){return d(f(t,e))}(e,t):n?p(t):function(t){return d(p(t))}(t)}t.exports?t.exports=g:e.md5=g}(commonjsGlobal)})),Base64_1=createCommonjsModule((function(module,exports){!function(global,factory){module.exports=function(global){var _Base64=global.Base64,version="2.4.8",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(t){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),e>=2?"=":b64chars.charAt(n>>>6&63),e>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return fromCharCode(55296+(e>>>10))+fromCharCode(56320+(1023&e));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,n=e%4,r=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),i=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/[\s\S]{1,4}/g,cb_decode)},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:"2.4.8",atob,btoa,fromBase64:decode,toBase64:encode,utob,encode,encodeURI,btou,decode,noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(t){return encode(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports&&(module.exports.Base64=global.Base64),{Base64:global.Base64}}(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:commonjsGlobal)})),Base64_2=Base64_1.Base64,UmengUtils={MD5:MD5$1,encode,decode,checkEmptyArgument,checkId,stringToArray,toStr,toObject,checkAttrOrString,isNotANumber,checkMD5};const $JSON_UMENG_SESSIONS$="json_umeng_sessions",$JSON_UMENG_HALF_SESSIONS$="json_umeng_half_session",$JSON_UMENG_CURRENT_SESSION$="json_umeng_current_session",$JSON_UMENG_PAGE_END_TIME$="json_umeng_page_end_time",Session=function(){function t(t){try{i.end_time=parseInt(t,10)}catch(e){i.end_time=t}const e=t-i.start_time;i.duration=e}function e(t){const e=t?t.id:"",r=Session.getInstance().sessionListener(e);!function(t,e){const n=Date.now();DeviceUtil.getUniqueId().then((t=>{const r=UmengUtils.MD5(`${n}:::${Session.getInstance().appkey}:::${t}`);e(r)}))}(0,(e=>{i=function(t){const e={};return e.id=t,e.start_time=Date.now(),e}(e),StorageUtil.getData($JSON_UMENG_SESSIONS$,(i=>{s=UmengUtils.stringToArray(i),t?r.pages((i=>{i&&i.length>0&&(t.pages=i,t.$page_num=i.length),s.push(t),StorageUtil.putData($JSON_UMENG_SESSIONS$,UmengUtils.toStr(s)),n(r,e)})):n(r,e)})),StorageUtil.putData($JSON_UMENG_CURRENT_SESSION$,UmengUtils.toStr(i)),a=e}))}function n(t,e){StorageUtil.getData($JSON_UMENG_HALF_SESSIONS$,(n=>{u=UmengUtils.stringToArray(n),i&&(u.push(JSON.parse(JSON.stringify(i))),StorageUtil.putData($JSON_UMENG_HALF_SESSIONS$,UmengUtils.toStr(u)),t.generateSessionAfterHandler(e))}))}let r,i,o=null,a="",s=[],u=[];return{getInstance:()=>(o||(o={getCurrentSessionId:()=>a,getCurrentSession:()=>i,getSessions:()=>s,init(n){this.appkey=n,function(){const n=Date.now();i?r&&n-r>constants.SESSION_INTERVAL&&(t(r),e(i)):StorageUtil.getData($JSON_UMENG_CURRENT_SESSION$,(r=>{r&&(i=UmengUtils.toObject(r))?StorageUtil.getData($JSON_UMENG_PAGE_END_TIME$,(r=>{r&&n-r>constants.SESSION_INTERVAL?(t(r),e(i)):a=i.id})):e(null)}))}()},endSession(){i&&(r=Date.now(),i.end_time=r,StorageUtil.putData($JSON_UMENG_CURRENT_SESSION$,UmengUtils.toStr(i)),StorageUtil.putData($JSON_UMENG_PAGE_END_TIME$,r))},clearSessions(){StorageUtil.deleteData($JSON_UMENG_SESSIONS$),s.splice(0,s.length),s=[]},setOnSessionListener(t){this.sessionListener=t},getHalfSessions:()=>u,clearHalfSession(){StorageUtil.deleteData($JSON_UMENG_HALF_SESSIONS$),u.splice(0,u.length),u=[]}}),o)}}(),$JSON_UMENG_HEADER$="json_umeng_header",$UMENG_KEY_IMPRINT$="umeng_key_imprint",MOBILE_NETWORK_2G="2g",MOBILE_NETWORK_3G="3g",MOBILE_NETWORK_4G="4g",MOBILE_NETWORK_NONE="none",BLANK_SPACE=" ",UMENG_ADVERTISTING_ID="idfa",UMENG_ANDROID_ID="android_id",UMENG_OAID="oaid",Header=function(){function t(t){if(t)return{identity:t,version:1,ts:Date.now()}}function e(t,e){const n={snapshots:{}};return n.snapshots[t]=e,n}function n(t,e,n){let i=null;if(t){const n=t.screenWidth,o=t.screenHeight,a=n>o?`${n}*${o}`:`${o}*${n}`,{appInfo:s}=r,{model:u,brand:c}=t,l=c.toLowerCase();i={app_version:s.versionName,version_code:s.versionCode,app_source_extra:s.source.extra,device_type:"Phone",package_name:s.packageName,sdk_type:"Android",os:"Android",sdk_version:constants.SDK_VERSION,appkey:r.appkey,device_model:u.toLowerCase().indexOf(l)>-1?u:l+BLANK_SPACE+u,device_brand:c,channel:l,device_manufacturer:t.manufacturer,device_manuid:u.toLowerCase().indexOf(l)>-1?u:l+BLANK_SPACE+u,device_name:t.product.toLowerCase().indexOf(l)>-1?t.product:l+BLANK_SPACE+t.product,os_version:t.osVersionName,resolution:a,language:t.language,display_name:t.name,idmd5:UmengUtils.MD5(e),platform:"quickapp",pro_ver:"1"}}else i={app_version:r.appInfo.versionName,version_code:r.appInfo.versionCode,device_type:"Phone",package_name:r.appInfo.packageName,sdk_type:"Android",os:"Android",sdk_version:constants.SDK_VERSION,appkey:r.appkey,idmd5:UmengUtils.MD5(e),platform:"quickapp",pro_ver:"1"};switch(n){case MOBILE_NETWORK_4G:i.access_subtype="LTE",i.access="2G/3G";break;case MOBILE_NETWORK_3G:i.access_subtype="CDMA",i.access="2G/3G";break;case MOBILE_NETWORK_2G:i.access_subtype="GRPS",i.access="2G/3G";break;default:i.access=n,delete i.access_subtype}return i}let r=null,i=!1;return{getInstance:()=>(r||(r={init(r){this.appkey=r,this.appInfo=_system5.default.getInfo(),function(r){DeviceUtil.getBaseInfo().then((i=>{DeviceUtil.getUniqueId().then((o=>{DeviceUtil.getNetworkInfo((a=>{let{type:s}=a;s===MOBILE_NETWORK_NONE&&(s="unknown");const u=n(i,o,s);StorageUtil.getData($UMENG_KEY_IMPRINT$,(n=>{0!==n.length&&(u.imprint=n),StorageUtil.getData(constants.APP_FIRST_OPEN_FLAG,(n=>{const i="true"===n;let o=new Date;i&&(o=new Date,u.atm="1"),console.log(o),StorageUtil.getData(constants.MOBILE_ADVERTISING_ID,(n=>{if(n){const r=t(n);if(r){const t=e(UMENG_ADVERTISTING_ID,r);u.id_tracking=t}}StorageUtil.getData(constants.MOBILE_ANDROID_ID,(n=>{if(n){const r=t(n);if(r)if(u.id_tracking&&u.id_tracking.snapshots)u.id_tracking.snapshots[UMENG_ANDROID_ID]=r;else{const t=e(UMENG_ANDROID_ID,r);u.id_tracking=t}}StorageUtil.getData(constants.MOBILE_OAID,(n=>{if(n){const r=t(n);if(r)if(u.id_tracking&&u.id_tracking.snapshots)u.id_tracking.snapshots[UMENG_OAID]=r;else{const t=e(UMENG_OAID,r);u.id_tracking=t}}r(u)}))}))}))}))}))}))}))}))}((t=>{this.header=t,StorageUtil.putData($JSON_UMENG_HEADER$,UmengUtils.toStr(t))}))},getHeader(t){switch(t){case constants.REQUEST_TYPE_SESSION_HALF:this.header.st="1",!0===i&&delete this.header.atm;break;case constants.REQUEST_TYPE_SESSION_CLOSE:case constants.REQUEST_TYPE_EVENT:delete this.header.st,delete this.header.atm}return this.header},addHeaderAttr(t,e){this.header&&(this.header[t]=e)},getHeaderAttr(t){return this.header&&{}.hasOwnProperty.call(this.header,t)?this.header[t]:null},getPackageName(){try{return this.appInfo.packageName}catch(t){}return""},setFirstSendFlag(){i=!0}}),r)}}();Looper.prototype={prepare(t){this.queueObject=t,this.isRunning=!1,this.isForceStop=!1},loop(){if(!this.isForceStop&&this.queueObject&&!this.isRunning)for(this.isRunning=!0;this.isRunning;){if(!this.queueObject.isCanPop()){this.isRunning=!1;break}try{this.queueObject.dispatchMessage()}catch(t){}}},wait(){this.isRunning=!1},forceStop(){this.isForceStop=!0},cancelForceStop(){this.isForceStop=!1,this.loop()}};const RequestQueue=function(){function t(t){for(let n=u.length-1;n>=0;n--){const r=u[n];if(r.key===t){if(!r.isExe){r.isExe=!0;const t=r.timeOutFun;t&&clearTimeout(t),e(),u.splice(n,1)}break}}}function e(){(s-=1)<=a&&r.loop()}let n,r;const i=[],o=[],a=3;let s=1;const u=[];return{getInstance:()=>(n||(RequestHelper.getInstance().onNoSendDatasListener((t=>{if(t&&0!==t.length){for(const e in t)if({}.hasOwnProperty.call(t,e)){const n={md5Key:t[e],type:"second"};o.push(n)}r.loop()}})),n={handleMessage(t,n){var o;t&&"second"===t.type&&e(),t&&t.data&&(t.executeFunction=n,(o=t)&&(i.unshift(o),r.loop()))},dispatchMessage(){if(s>a)return void r.wait();s+=1;const n=function(){if(i.length>0)return i.pop();const t=o.length;return t>0?(1===t&&RequestHelper.getInstance().clearNoSendDatas(),o.pop()):null}();(function(t){const n=u.length,r=t.md5Key;for(let t=n-1;t>=0;t--)if(u[t].key===r)return e(),!0;return!1})(n)||(n.data?function(e,n){const r=setTimeout((()=>{t(e)}),3e4),i={key:e,timeOutFun:r,isExe:!1};u.push(i),n((e=>{t(e)}))}(n.md5Key,n.executeFunction):RequestHelper.getInstance().send(n),this.isCanPop()||r.wait())},isCanPop:()=>i.length>0||o.length>0},(r=new Looper).prepare(n)),n)}}(),StoreQueue=function(){function t(){c||(c=!0,StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS,(t=>{if(c=!1,!t)return;const e=UmengUtils.stringToArray(t),n=t=>e=>{e&&'""'!==e||(e={key:t,type:u},o.push(e)),o.length>0&&r.loop()};for(const t in e)if({}.hasOwnProperty.call(e,t)){const r=e[t];StorageUtil.getData(r,n(r))}}),(()=>{c=!1})))}function e(){(l-=1)<=a&&r.loop()}let n,r;const i=[],o=[],a=1,s="write",u="delete";let c=!1,l=1;return{getInstance:()=>(n||(t(),n={handleMessage(e){e?function(t){if(!t)return!1;const e={key:t,type:s};i.unshift(e),r.loop()}(e):t()},dispatchMessage(){if(l>a)return void r.wait();l+=1;const n=function(){if(i.length>0)return i.pop();const e=o.length;if(e>0){const n=o.pop();return 0===e&&t(),n}return t(),null}();if(!n||null===n)return void e();const{key:u}=n;n.type===s?function(t){StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS,(n=>{(n=n?UmengUtils.toObject(n):[]).push(t),StorageUtil.putData(constants.KEY_NO_SEND_REQUEST_KEYS,UmengUtils.toStr(n),(()=>{e()}),(()=>{e()}))}),(()=>{e()}))}(u):function(t){StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS,(n=>{if(n){n=UmengUtils.stringToArray(n);for(const e in n)if({}.hasOwnProperty.call(n,e)&&n[e]===t){n.splice(e,1);break}StorageUtil.putData(constants.KEY_NO_SEND_REQUEST_KEYS,UmengUtils.toStr(n),(()=>{e()}),(()=>{e()}))}else e()}),(()=>{e()}))}(u),this.isCanPop()||r.wait()},isCanPop:()=>i.length>0||o.length>0},(r=new Looper).prepare(n)),n)}}(),$UMENG_KEY_IMPRINT$$1="umeng_key_imprint";let noSendRequestKeys=[];const RequestHelper=function(){function t(t){StorageUtil.deleteData(t,(t=>{t&&StoreQueue.getInstance().handleMessage(null)}))}function e(e,n,r,i){if(!e||'""'===e)return void(r&&r(n));const o=constants.RELEASE_URL;_system6.default.fetch({url:o,method:"POST",data:UmengUtils.encode(e),header:{"Content-Type":"quickapp/json","Msg-Type":"quickapp/json"},success(e){if(200===e.code){Log.i("*** umeng_sdk *** request send success"),t(n),i&&i(n);try{!function(t){try{if(t){StorageUtil.putData($UMENG_KEY_IMPRINT$$1,t),Header.getInstance().addHeaderAttr("imprint",t);const e=UmengUtils.toObject(UmengUtils.decode(t)),n=e.report_policy;if(n&&UmengUtils.isNotANumber(n)){if(StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY,n),n===constants.EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE){let t=e.report_interval;t&&UmengUtils.isNotANumber(t)?(t<=constants.EVENT_SEND_MIN_INTERVAL?t=constants.EVENT_SEND_MIN_INTERVAL:t>constants.EVENT_SEND_MAX_INTERVAL&&(t=constants.EVENT_SEND_MAX_INTERVAL),StorageUtil.putData(constants.EVENT_SEND_REPORT_INTERVAL_TIME,t)):StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY,constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE)}}else StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY,constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE)}}catch(t){}}(UmengUtils.toObject(e.data).imprint)}catch(e){}}else 413===e.code&&(Log.i("*** umeng_sdk *** request is to large!"),t(n),i&&i(n))},fail:function(t,e){Log.i("*** umeng_sdk *** request error, please check your permission! ")},complete(){r&&r(n)}})}let n,r;return{getInstance:()=>(n||(n={paramsIsValid:t=>-1!==[constants.REQUEST_TYPE_SESSION_HALF,constants.REQUEST_TYPE_SESSION_CLOSE,constants.REQUEST_TYPE_EVENT].indexOf(t),buildSendContent(t,e){if(Header.getInstance().getHeader(t)){const n={header:Header.getInstance().getHeader(t),analytics:null};switch(t){case constants.REQUEST_TYPE_SESSION_HALF:{const t=function(){const t=[].concat(Session.getInstance().getHalfSessions());if(t&&0!==t.length)return Session.getInstance().clearHalfSession(),t}();if(!t)break;n.analytics={sessions:t};break}case constants.REQUEST_TYPE_SESSION_CLOSE:{const t=function(){const t=[].concat(Session.getInstance().getSessions());if(t&&0!==t.length)return Session.getInstance().clearSessions(),t}();if(!t)break;n.analytics={sessions:t};break}case constants.REQUEST_TYPE_EVENT:e&&e.length>0&&(n.analytics={ekv:e})}let i="";return n.analytics&&(i=function(t,e){const n=UmengUtils.toStr(e);let i=null;switch(t){case constants.REQUEST_TYPE_SESSION_HALF:i=constants.KEY_HALF_SESSION_PREFIX;break;case constants.REQUEST_TYPE_SESSION_CLOSE:i=constants.KEY_CLOSE_SESSION_PREFIX;break;case constants.REQUEST_TYPE_EVENT:i=constants.KEY_EVENT_PREFIX}const o=i+UmengUtils.MD5(n);return StorageUtil.putData(o,n),StoreQueue.getInstance().handleMessage(o),0===noSendRequestKeys.length&&StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS,(t=>{if(!t)return;const e=UmengUtils.stringToArray(t);0===noSendRequestKeys.length&&(noSendRequestKeys=e,r&&r(noSendRequestKeys))})),o}(t,n)),{data:n,md5Key:i}}},send(t,n){const r=t.md5Key;r&&("second"===t.type?StorageUtil.getData(r,(r=>{t.data=UmengUtils.toObject(r),t.data||n&&n(),RequestQueue.getInstance().handleMessage(t,(r=>{e(UmengUtils.toStr(t.data),t.md5Key,r,n)}))})):RequestQueue.getInstance().handleMessage(t,(r=>{e(UmengUtils.toStr(t.data),t.md5Key,r,n)})))},getNoSendRequestKeys:()=>noSendRequestKeys,onNoSendDatasListener(t){r=t},clearNoSendDatas(){noSendRequestKeys.splice(0,noSendRequestKeys.length),noSendRequestKeys=[]}}),n)}}(),EventStoreQueue=function(){function t(){g&&g.length>0&&i((t=>{for(const e in g)if({}.hasOwnProperty.call(g,e))try{g[e](t)}catch(t){}})),(p-=1)<1&&(p=1),p<=d&&h.loop()}function e(e,n){StorageUtil.putData(s,n,(()=>{StorageUtil.putData(u,UmengUtils.toStr(e),(()=>{t()}),(()=>{t()}))}),(()=>{t()}))}function n(t,e){t&&(g[t]=e)}function r(t){t&&delete g[t]}function i(t){StorageUtil.getData(u,(e=>{StorageUtil.deleteData(u,(()=>{const n=o(UmengUtils.stringToArray(e),v);v.splice(0,v.length),t(n),h.cancelForceStop()}))}),(()=>{t([]),h.cancelForceStop()}))}function o(t,e){const n=Session.getInstance().getCurrentSessionId();let r,i=-1;for(const e in t)if({}.hasOwnProperty.call(t,e)&&(r=t[e][n])){i=e;break}return-1===i&&(r=[]),(r=r.concat(e))&&0!==r.length?(-1===i?t.push({[n]:r}):t[i][n]=r,t):t}function a(){return{saveEkvData(t){(function(t){if(t){if(!Session.getInstance().getCurrentSessionId())return void m.unshift(t);v.unshift(t),v.length>=l&&h.loop()}})(t),Log.d(`[saveEkvData] data is ${UmengUtils.toStr(t)}`)},readEkvDatas(t){t&&(h.forceStop(),p<=d?i((e=>{t(e),h.cancelForceStop()})):n("readEkvDatas",(e=>{t(e),r("readEkvDatas"),h.cancelForceStop()})))},handlerNoSessionEkvDatas(){if(m&&m.length>0){Log.d(`no sessionId event is ${JSON.stringify(m)}`);for(const t in m)({}).hasOwnProperty.call(m,t)&&this.saveEkvData(m[t]);m.splice(0,m.length)}},quitHandler(){0!==v.length&&(h.forceStop(),p<=d?StorageUtil.getData(u,(t=>{const e=o(UmengUtils.stringToArray(t),v);StorageUtil.putData(u,UmengUtils.toStr(e)),v.splice(0,v.length),h.cancelForceStop()}),(()=>{h.cancelForceStop()})):n("quitHandler",(t=>{const e=UmengUtils.toStr(o(t,v));StorageUtil.putData(u,e),v.splice(0,v.length),r("quitHandler"),h.cancelForceStop()})))},dispatchMessage(){if(p>d)return void h.wait();p+=1;const n=v.length<l?null:v.splice(0,l);n&&0!==n.length?StorageUtil.getData(s,(r=>{r||(r=0),r>=c+n.length?t():StorageUtil.getData(u,(t=>{e(o(UmengUtils.stringToArray(t),n),Number(r)+Number(n.length))}),(()=>{t()}))}),(()=>{t()})):t()},isCanPop:()=>v.length>=l}}const s="umeng_ekv_count_key",u="umeng_key_ekvs",c=1e4,l=5,d=1;let h,p=1,f=null;const g={},v=[],m=[];return{getInstance:()=>(f||(f=new a,(h=new Looper).prepare(f)),f)}}(),EventController=function(){let t;return{getInstance:()=>(t||(t={addEvent(t,e){const n=function(t,e){const n={id:t,ts:Date.now()};switch(typeof e){case"string":n[t]=e;break;case"object":for(const t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}(t,e);EventStoreQueue.getInstance().saveEkvData(n),StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY,(t=>{t===constants.EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE&&StorageUtil.getData(constants.EVENT_SEND_REPORT_INTERVAL_TIME,(t=>{StorageUtil.getData(constants.EVENT_LAST_SEND_TIME,(e=>{if(t){const n=Date.now();e&&n-e>1e3*t&&Request.sendAll()}else StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY,constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE)}))}))}))},handlerNoSessionEkvDatas(){EventStoreQueue.getInstance().handlerNoSessionEkvDatas()},quitHandler(){EventStoreQueue.getInstance().quitHandler()},setSendTime(){StorageUtil.putData(constants.EVENT_LAST_SEND_TIME,Date.now())}}),t)}}();let time=0;var Request={send,sendAll};const KEY_PRE_PAGE="umeng_page_";PageController.prototype={addCurrentPage(t){this._currentPage={ts:Date.now(),page_name:DeviceUtil.getPageName()},this.pageObject=t},savePage(t,e){if(t&&e&&this._currentPage.page_name&&e===this.pageObject){const e=Date.now()-this._currentPage.ts;this._currentPage.duration=Math.abs(e),this._pagelist=this._pagelist.concat(this._currentPage),this._currentPage={},this.pageObject={},this.saveStroragePages(t)}},saveStroragePages(t){t&&this._pagelist.length>0&&this.updateStorage(KEY_PRE_PAGE+t,this._pagelist)},getPages(t,e){StorageUtil.getData(KEY_PRE_PAGE+t,(n=>{const r=UmengUtils.stringToArray(n).concat(this._pagelist);this.clear(t),e&&e(r)}),(()=>{e&&e(null)}))},updateStorage(t,e){e&&0!==e.length&&StorageUtil.getData(t,(n=>{const r=UmengUtils.stringToArray(n).concat(e);StorageUtil.putData(t,UmengUtils.toStr(r),(()=>{this._pagelist=[]}))}))},clear(t){StorageUtil.deleteData(KEY_PRE_PAGE+t),this._pagelist=[]}};let inited=!1;UmengAnalysisLib.prototype={init(t){if(Log.i(`*** umeng_sdk *** sdk version is: ${constants.SDK_VERSION}`),!inited){try{this.appkey=t.$data.umeng_appkey}catch(t){}if(!this.appkey)return inited=!1,void console.error("please set umeng_appkey : [manifest.json --\x3e config:{data:{umeng_appkey: xxx}}]");inited=!0,Header.getInstance().init(this.appkey);const e=this;if(Session.getInstance().setOnSessionListener((t=>({pages(n){e.pageController.getPages(t,n)},generateSessionAfterHandler(t){EventController.getInstance().handlerNoSessionEkvDatas(),sendDatas()}}))),StorageUtil.getData(constants.APP_FIRST_OPEN_FLAG,(t=>{0===t.length&&StorageUtil.putData(constants.APP_FIRST_OPEN_FLAG,"true")})),StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY,(t=>{t||StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY,constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE)})),StorageUtil.getData(constants.EVENT_LAST_SEND_TIME,(t=>{t||EventController.getInstance().setSendTime()})),t)try{Object.defineProperty(t,"_status",{set(t){"destroy"===t&&Request.sendAll()}})}catch(t){}}},resume(t){isInit()&&t&&(Log.i(`*** umeng_sdk *** page name: ${DeviceUtil.getPageName()}`),this.pageController.addCurrentPage(t),Session.getInstance().init(this.appkey))},pause(t){isInit()&&t&&(this.pageController.savePage(Session.getInstance().getCurrentSessionId(),t),Session.getInstance().endSession(),EventController.getInstance().quitHandler())},trackEvent(t,e){if(isInit())return UmengUtils.checkId(t)?e&&!UmengUtils.checkAttrOrString(e)?(console.error("error-----please check trackEvent attr. attr should be 'String' or 'Object'(not include 'Array')"),!1):(Log.i(`*** umeng_sdk *** event id: ${UmengUtils.toStr(t)}${e?` || event attr: ${UmengUtils.toStr(e)}`:""}`),EventController.getInstance().addEvent(t,e),!0):(console.error("error-----please check trackEvent id. id should be 'String' and not null"),!1)}};const FileUtils={getFile(t,e,n){_system7.default.readText({uri:t,success(t){e&&e(t.text)},fail(t,e){n&&n(t,e)}})},moveFile(t,e,n,r){_system7.default.move({srcUri:t,dstUri:e,success(t){n&&n(t)},fail(t,e){r&&r(t,e)}})},deleteFile(t,e,n){_system7.default.delete({uri:t,success(t){e&&e(t)},fail(t,e){n&&n(t,e)}})}},modules={"@system.app":$app_require$("@app-module/system.app"),"@system.storage":$app_require$("@app-module/system.storage"),"@system.fetch":$app_require$("@app-module/system.fetch"),"@system.network":$app_require$("@app-module/system.network"),"@system.device":$app_require$("@app-module/system.device"),"@system.router":$app_require$("@app-module/system.router"),"@system.file":$app_require$("@app-module/system.file")},callQueue=[],umeng_stat_global=Object.getPrototypeOf(global)||global;SdkUpdater.prototype={init(t,e){this.installApi(t,null);try{DeviceUtil.getSystemBaseInfo((t=>{1e3===t.platformVersionCode?e(0):StorageUtil.getData(constants.DOWNLOAD_FILE_FIRST_CACHE,(t=>{t?this.getSdkFileContent(t,((t,n,r)=>{t?e(1,n,r):this.getSecondCacheFile(e)})):this.getSecondCacheFile(e)}))}))}catch(t){e(0)}},getSecondCacheFile(t){StorageUtil.getData(constants.DOWNLOAD_FILE_SECOND_CACHE,(e=>{e?this.getSdkFileContent(e,t):t(0)}))},getSdkFileContent(t,e){try{const n=UmengUtils.toObject(t);Log.d(`current sdk:${n.version}${n.md5}${n.filePath}`),FileUtils.getFile(n.filePath,(t=>{UmengUtils.checkMD5(n.md5,t)?e(1,t,n.version):e(0)}),(()=>{e(0)}))}catch(t){e(0)}return!1},downloadFile(t,e,n,r,i){try{_system8.default.download({url:t,success(t){Log.d(`handling success ${t.token}`),_system8.default.onDownloadComplete({token:t.token,success(t){try{const o=t.uri.split("/"),a=o[o.length-1];let s=constants.SDK_UPDATE_LOCAL_STORAGE_PATH;s=`${s+Date.now()}/${a}`,FileUtils.moveFile(t.uri,s,(t=>{i({version:e,md5:n,filePath:t,stable:r})}))}catch(t){}},fail(t,e){}})},fail(){}})}catch(t){}},storageFileInfo(t){try{FileUtils.getFile(t.filePath,(e=>{Log.d(`---------${JSON.stringify(t)}-----------${UmengUtils.MD5(e)}`),e&&t.md5&&t.md5===UmengUtils.MD5(e)?(StorageUtil.getData(constants.DOWNLOAD_FILE_FIRST_CACHE,(e=>{StorageUtil.putData(constants.DOWNLOAD_FILE_FIRST_CACHE,t,(()=>{if(e){const t=UmengUtils.toObject(e);!t.stable&&t.filePath&&FileUtils.deleteFile(t.filePath)}}))})),t.stable?StorageUtil.getData(constants.DOWNLOAD_FILE_SECOND_CACHE,(e=>{StorageUtil.putData(constants.DOWNLOAD_FILE_SECOND_CACHE,t,(()=>{if(e){const t=UmengUtils.toObject(e);t.filePath&&FileUtils.deleteFile(t.filePath)}}))})):StorageUtil.putData(constants.DOWNLOAD_FILE_FIRST_CACHE,t)):FileUtils.deleteFile(t.filePath,(()=>{}))}))}catch(t){Log.d(`error message: ${t.toString()}`)}},checkVersionNew(t,e,n,r,i,o){const a={version:t,platform:"quickapp",appVersion:n,appKey:e,seedVersion:r,systemBaseInfo:i};_system6.default.fetch({url:this.url,method:"POST",data:a,success(t){if(200===t.code)try{const e=UmengUtils.toObject(t.data);if(200===e.code&&e.data.update){const t=e.data.info;t&&o(t)}}catch(t){}},fail(t,e){},complete(){}})},createMethod(t,e,n){try{t[e]=n?function(...t){return n[e](...t)}:function(...t){callQueue.push([e,t])}}catch(t){}},installApi(t,e){try{const n=["resume","pause","trackEvent"];for(let r=0,i=n.length;r<i;r++)this.createMethod(t,n[r],e);if(e)for(let t=0,n=callQueue.length;t<n;t++){const n=callQueue[t];e[n[0]](...n[1])}}catch(t){}},compileModule(t,e){try{const t=new Function("module","exports","require",e),n={exports:{}},r=function(t){return t in modules?modules[t]:__webpack_require__(9076)(t)};return t(n,n.exports,r),n.exports}catch(t){}},loadModule(t,e){try{let n;if(0===t)n=UmengAnalysisLib;else try{n=this.compileModule(t,e)}catch(t){n=UmengAnalysisLib}return n}catch(t){}return null}};const UmengAnalysis={seed_version:"0.0.1",version:constants.SDK_VERSION,appKey:"",_impl:null,_inited:!1,init(t){if(!this._inited){this._inited=!0,umeng_stat_global.userDubug=!!t.$data.umeng_debug,this.appKey=t.$data.umeng_appkey;const e=new SdkUpdater;e.init(this,((n,r,i)=>{const o=e.loadModule(n,r);if(o){const n=new o;this._impl=n,n.init(t),e.installApi(this,n)}i||(i=this.version),DeviceUtil.getSystemBaseInfo((t=>{1e3!==t.platformVersionCode&&e.checkVersionNew(i,this.appKey,_system5.default.getInfo().versionName,this.seed_version,t,(t=>{t&&e.downloadFile(t.fileUrl,t.version,t.fileMD5,t.stable,(t=>{e.storageFileInfo(t)}))}))}))}))}}};umeng_stat_global&&(umeng_stat_global.$umeng_stat=UmengAnalysis,umeng_stat_global.Page=Page);var _default=exports.default=UmengAnalysis},5729:function(t){"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global,t.exports=function(){"use strict";var t,e="3.7.2",n=e,r="function"==typeof atob,i="function"==typeof btoa,o="function"==typeof Buffer,a="function"==typeof TextDecoder?new TextDecoder:void 0,s="function"==typeof TextEncoder?new TextEncoder:void 0,u=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),c=(t={},u.forEach((function(e,n){return t[e]=n})),t),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),h="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t,e){return void 0===e&&(e=function(t){return t}),new Uint8Array(Array.prototype.slice.call(t,0).map(e))},p=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"}))},f=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},g=function(t){for(var e,n,r,i,o="",a=t.length%3,s=0;s<t.length;){if((n=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");o+=u[(e=n<<16|r<<8|i)>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}return a?o.slice(0,a-3)+"===".substring(a):o},v=i?function(t){return btoa(t)}:o?function(t){return Buffer.from(t,"binary").toString("base64")}:g,m=o?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=[],n=0,r=t.length;n<r;n+=4096)e.push(d.apply(null,t.subarray(n,n+4096)));return v(e.join(""))},y=function(t,e){return void 0===e&&(e=!1),e?p(m(t)):m(t)},_=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?d(192|e>>>6)+d(128|63&e):d(224|e>>>12&15)+d(128|e>>>6&63)+d(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return d(240|e>>>18&7)+d(128|e>>>12&63)+d(128|e>>>6&63)+d(128|63&e)},E=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S=function(t){return t.replace(E,_)},b=o?function(t){return Buffer.from(t,"utf8").toString("base64")}:s?function(t){return m(s.encode(t))}:function(t){return v(S(t))},I=function(t,e){return void 0===e&&(e=!1),e?p(b(t)):b(t)},T=function(t){return I(t,!0)},A=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return d(55296+(e>>>10))+d(56320+(1023&e));case 3:return d((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return d((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},k=function(t){return t.replace(A,w)},C=function(t){if(t=t.replace(/\s+/g,""),!l.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,n,r,i="",o=0;o<t.length;)e=c[t.charAt(o++)]<<18|c[t.charAt(o++)]<<12|(n=c[t.charAt(o++)])<<6|(r=c[t.charAt(o++)]),i+=64===n?d(e>>16&255):64===r?d(e>>16&255,e>>8&255):d(e>>16&255,e>>8&255,255&e);return i},O=r?function(t){return atob(f(t))}:o?function(t){return Buffer.from(t,"base64").toString("binary")}:C,R=o?function(t){return h(Buffer.from(t,"base64"))}:function(t){return h(O(t),(function(t){return t.charCodeAt(0)}))},D=function(t){return R(N(t))},P=o?function(t){return Buffer.from(t,"base64").toString("utf8")}:a?function(t){return a.decode(R(t))}:function(t){return k(O(t))},N=function(t){return f(t.replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})))},x=function(t){return P(N(t))},L=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},U=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,L(e))};t("fromBase64",(function(){return x(this)})),t("toBase64",(function(t){return I(this,t)})),t("toBase64URI",(function(){return I(this,!0)})),t("toBase64URL",(function(){return I(this,!0)})),t("toUint8Array",(function(){return D(this)}))},$=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,L(e))};t("toBase64",(function(t){return y(this,t)})),t("toBase64URI",(function(){return y(this,!0)})),t("toBase64URL",(function(){return y(this,!0)}))},M={version:e,VERSION:n,atob:O,atobPolyfill:C,btoa:v,btoaPolyfill:g,fromBase64:x,toBase64:I,encode:I,encodeURI:T,encodeURL:T,utob:S,btou:k,decode:x,isValid:function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:y,toUint8Array:D,extendString:U,extendUint8Array:$,extendBuiltins:function(){U(),$()},Base64:{}};return Object.keys(M).forEach((function(t){return M.Base64[t]=M[t]})),M}()},4650:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var n=OUTPUT_TYPES[e];t[n]=createOutputMethod(n)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var r,i,o=0,a=t.length,s=this.blocks,u=this.buffer8;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)u[i++]=t[o];else for(i=this.start;o<a&&i<64;++o)s[i>>2]|=t[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)(r=t.charCodeAt(o))<128?u[i++]=r:r<2048?(u[i++]=192|r>>6,u[i++]=128|63&r):r<55296||r>=57344?(u[i++]=224|r>>12,u[i++]=128|r>>6&63,u[i++]=128|63&r):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),u[i++]=240|r>>18,u[i++]=128|r>>12&63,u[i++]=128|r>>6&63,u[i++]=128|63&r);else for(i=this.start;o<a&&i<64;++o)(r=t.charCodeAt(o))<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,n,r,i,o,a=this.blocks;this.first?e=((e=((t=((t=a[0]-680876937)<<7|t>>>25)-271733879|0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&t)+a[1]-117830708)<<12|r>>>20)+t|0)&(-271733879^t))+a[2]-1126478375)<<17|n>>>15)+r|0)&(r^t))+a[3]-1316259209)<<22|e>>>10)+n|0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((r=this.h3)^e&(n^r))+a[0]-680876936)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[1]-389564586)<<12|r>>>20)+t|0)&(t^e))+a[2]+606105819)<<17|n>>>15)+r|0)&(r^t))+a[3]-1044525330)<<22|e>>>10)+n|0),e=((e+=((t=((t+=(r^e&(n^r))+a[4]-176418897)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[5]+1200080426)<<12|r>>>20)+t|0)&(t^e))+a[6]-1473231341)<<17|n>>>15)+r|0)&(r^t))+a[7]-45705983)<<22|e>>>10)+n|0,e=((e+=((t=((t+=(r^e&(n^r))+a[8]+1770035416)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[9]-1958414417)<<12|r>>>20)+t|0)&(t^e))+a[10]-42063)<<17|n>>>15)+r|0)&(r^t))+a[11]-1990404162)<<22|e>>>10)+n|0,e=((e+=((t=((t+=(r^e&(n^r))+a[12]+1804603682)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[13]-40341101)<<12|r>>>20)+t|0)&(t^e))+a[14]-1502002290)<<17|n>>>15)+r|0)&(r^t))+a[15]+1236535329)<<22|e>>>10)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[1]-165796510)<<5|t>>>27)+e|0)^e))+a[6]-1069501632)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[11]+643717713)<<14|n>>>18)+r|0)^r))+a[0]-373897302)<<20|e>>>12)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[5]-701558691)<<5|t>>>27)+e|0)^e))+a[10]+38016083)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[15]-660478335)<<14|n>>>18)+r|0)^r))+a[4]-405537848)<<20|e>>>12)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[9]+568446438)<<5|t>>>27)+e|0)^e))+a[14]-1019803690)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[3]-187363961)<<14|n>>>18)+r|0)^r))+a[8]+1163531501)<<20|e>>>12)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[13]-1444681467)<<5|t>>>27)+e|0)^e))+a[2]-51403784)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[7]+1735328473)<<14|n>>>18)+r|0)^r))+a[12]-1926607734)<<20|e>>>12)+n|0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[5]-378558)<<4|t>>>28)+e|0))+a[8]-2022574463)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[11]+1839030562)<<16|n>>>16)+r|0))+a[14]-35309556)<<23|e>>>9)+n|0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[1]-1530992060)<<4|t>>>28)+e|0))+a[4]+1272893353)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[7]-155497632)<<16|n>>>16)+r|0))+a[10]-1094730640)<<23|e>>>9)+n|0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[13]+681279174)<<4|t>>>28)+e|0))+a[0]-358537222)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[3]-722521979)<<16|n>>>16)+r|0))+a[6]+76029189)<<23|e>>>9)+n|0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[9]-640364487)<<4|t>>>28)+e|0))+a[12]-421815835)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[15]+530742520)<<16|n>>>16)+r|0))+a[2]-995338651)<<23|e>>>9)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[0]-198630844)<<6|t>>>26)+e|0)|~n))+a[7]+1126891415)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[14]-1416354905)<<15|n>>>17)+r|0)|~t))+a[5]-57434055)<<21|e>>>11)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[12]+1700485571)<<6|t>>>26)+e|0)|~n))+a[3]-1894986606)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[10]-1051523)<<15|n>>>17)+r|0)|~t))+a[1]-2054922799)<<21|e>>>11)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[8]+1873313359)<<6|t>>>26)+e|0)|~n))+a[15]-30611744)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[6]-1560198380)<<15|n>>>17)+r|0)|~t))+a[13]+1309151649)<<21|e>>>11)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[4]-145523070)<<6|t>>>26)+e|0)|~n))+a[11]-1120210379)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[2]+718787259)<<15|n>>>17)+r|0)|~t))+a[9]-343485551)<<21|e>>>11)+n|0,this.first?(this.h0=t+1732584193|0,this.h1=e-271733879|0,this.h2=n-1732584194|0,this.h3=r+271733878|0,this.first=!1):(this.h0=this.h0+t|0,this.h1=this.h1+e|0,this.h2=this.h2+n|0,this.h3=this.h3+r|0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,n,r="",i=this.array(),o=0;o<15;)t=i[o++],e=i[o++],n=i[o++],r+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return t=i[o],r+(BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},3299:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=_($app_require$("@app-module/system.device")),i=_($app_require$("@app-module/system.app")),o=_($app_require$("@app-module/system.network")),a=_($app_require$("@app-module/system.fetch")),s=_($app_require$("@app-module/system.package")),u=_($app_require$("@app-module/system.webview")),c=_($app_require$("@app-module/system.prompt")),l=_($app_require$("@app-module/system.router")),d=_($app_require$("@app-module/system.request")),h=_($app_require$("@app-module/system.storage")),p=_($app_require$("@app-module/service.account")),f=_($app_require$("@app-module/system.sensor")),g=_($app_require$("@app-module/system.vibrator")),v=_($app_require$("@app-module/system.file")),m=_($app_require$("@app-module/system.image")),y=n(7491);function _(t){return t&&t.__esModule?t:{default:t}}var E=Object.getPrototypeOf(global)||global,S="internal://files/unionad/".concat(y.version,"/ad-render-quick.min.js");function b(t,e){var n=this;try{new Function(t)()}catch(t){e&&T.call(this).then((function(t){b(t,!1),I.call(n)}))}}function I(t){try{E.$union_quick_app_sdk&&(E.$union_quick_app_sdk.api={device:r.default,app:i.default,network:o.default,fetch:a.default,pkg:s.default,webview:u.default,prompt:c.default,router:l.default,request:d.default,storage:h.default,account:p.default,file:v.default,sensor:f.default,image:m.default,vibrator:g.default},E.$union_quick_app_sdk.sdkVersion=y.version,E.$union_quick_app_sdk.fileUrl=S,new E.$union_quick_app_sdk(this,t))}catch(t){}}function T(){return new Promise((function(t,e){a.default.fetch({url:"https://cpro.baidustatic.com/cpro/xcx/js/ad-render-quick.min.js",responseType:"text",method:"GET",success:function(e){v.default.writeText({uri:S,text:e.data,success:function(){},fail:function(t,e){}}),t(e.data)},fail:function(t,n){e()}})}))}var A,w=(A=function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),E&&E.$union_quick_app_sdk?I.call(e,n):v.default.readText({uri:S,success:function(t){b.call(e,t.text,!0),I.call(e,n)},fail:function(t,r){T.call(e).then((function(t){b.call(e,t,!1),I.call(e,n)}))}})},Object.defineProperty(A,"prototype",{writable:!1}),A);e.default=w},9902:(t,e,n)=>{"use strict";function r(t=""){const e=t.match(/ylh-sdk-(?:[a-z]+)-v(\d+\.\d+\.\d+)(?:@debug)?\.min\.js/),n=e&&e[1]?e[1]:"",[r,i,o]=n.split(".");return[`${r}.${i}.0`,Number(o.substr(0,4))]}n.d(e,{Z:()=>N});const i=JSON.parse('{"name":"ylh-quick-app-ad-sdk","version":"1.5.0","description":"","main":"index.js","scripts":{"test":"eslint ./","cz":"git cz","prepare":"husky install"},"keywords":["快应用","广告","SDK"],"author":"zuoxingli4534@gmail.com","license":"ISC","devDependencies":{"@babel/cli":"^7.21.0","@babel/core":"^7.21.0","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-chaining":"^7.21.0","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","babel-loader":"^9.1.2","eslint":"^7.32.0 || ^8.2.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2","husky":"^8.0.3","less":"^4.1.3","less-loader":"^11.1.0"},"husky":{"hooks":{"pre-commit":"lint-staged"}}}');var o=$app_require$("@app-module/system.app"),a=$app_require$("@app-module/system.fetch"),s=$app_require$("@app-module/system.file"),u=$app_require$("@app-module/system.device"),c=$app_require$("@app-module/system.network"),l=$app_require$("@app-module/system.shortcut"),d=$app_require$("@app-module/system.battery"),h=$app_require$("@app-module/system.brightness"),p=$app_require$("@app-module/system.webview"),f=$app_require$("@app-module/system.storage"),g=$app_require$("@app-module/system.package"),v=$app_require$("@app-module/system.router"),m=$app_require$("@app-module/system.prompt"),y=$app_require$("@app-module/system.cipher"),_=$app_require$("@app-module/system.volume"),E=$app_require$("@app-module/system.sensor"),S=$app_require$("@app-module/system.vibrator");const b=Object.getPrototypeOf(global)||global,{version:I}=i,T=({type:t,firstPublishUrl:e,stubVersion:n,firstPublishPluginVersion:i,isUseRemoteJS:o,validateFn:a=t=>{if(o)return!o;if(!t)return!1;const[e,a]=r(t);return(({entryVersion:t,localVersion:e})=>{const{length:n}=e,{length:r}=t;return e.slice(0,n-2)===t.slice(0,r-2)})({entryVersion:n,localVersion:e})&&a>=i}})=>({cacheUri:`internal://files/ylh-sdk-${t}/${n}`,remoteUrl:e,validateFn:a}),A=T({type:"core",firstPublishUrl:`https://qzs.gdtimg.com/union/res/ylh-sdk-core-v1.5.1050.min.js?d=${Date.now()}`,stubVersion:I,firstPublishPluginVersion:1050,isUseRemoteJS:!1}),w=T({type:"libs",firstPublishUrl:`https://qzs.gdtimg.com/union/res/ylh-sdk-libs-v1.0.1000.min.js?d=${Date.now()}`,stubVersion:"1.0.0",firstPublishPluginVersion:1e3,isUseRemoteJS:!1}),k={fetch:a,file:s,device:u,network:c,shortcut:l,battery:d,brightness:h,webview:p,storage:f,pkg:g,router:v,prompt:m,cipher:y,volume:_,sensor:E,vibrator:S,app:o,sdkVersion:I,BroadcastChannel},C={},O=1100,R=async()=>(C.platformPromise||(C.platformPromise=new Promise(((t,e)=>{u.getInfo({success:n=>{const{platformVersionCode:r}=n;r<O?e(new Error(JSON.stringify({platform:r}))):t(!0)},fail:()=>{e(new Error(JSON.stringify({platform:"未知"})))}})}))),C.platformPromise),D=({cacheUri:t,remoteUrl:e})=>new Promise(((n,r)=>{let i=0;const o=`${e} 获取失败`,u=()=>{a.fetch({url:e,responseType:"text",method:"get",success:a=>{const{code:c,data:l}=a;200!==c?i<3?(i+=1,setTimeout((()=>{u()}),1e3)):r(o):(n(l),t&&s.writeText({uri:t,text:{jsCode:l,jsUrl:e}}))},fail:()=>{i<3?(i+=1,setTimeout((()=>{u()}),1e3)):r(o)}})};u()})),P=async t=>{(async({cacheUri:t,remoteUrl:e,validateFn:n})=>{try{const e=await s.readText({uri:t}),{data:r={}}=e||{},{jsCode:i,jsUrl:o}=JSON.parse(r.text||"{}");if(n(o))return i}catch(t){console.log("getLocalJS-err",t)}return D({cacheUri:t,remoteUrl:e})})(t).then((t=>{new Function("$YLHSDK",t)(b.$YLHSDK)})).catch((e=>{console.log("executeLocalJS出错",e,t)}))};function N(t,e={}){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,N),e.appId?(function(t){t.$def?.ylh_sdk||(t.$def.ylh_sdk={onYlhReady(e){const{onYlhReadyCallback:n=[]}=t.$def.ylh_sdk;if("function"!=typeof e)console.warn("onYlhReady: then回调必须传递一个方法");else{if(t.$def.ylh_sdk.SDK_CORE_READY)return e();t.$def.ylh_sdk.onYlhReadyCallback=[...n,e]}}})}(t),R().then((()=>{b.$YLHSDK={$app:t,config:e,system:{...k,telecom:$app_require$("@app-module/system.telecom"),keyguard:$app_require$("@app-module/system.keyguard"),downloadTask:$app_require$("@app-module/system.downloadtask")},fetchRemoteJS:D,localCore:{localCoreUri:A.cacheUri,getCoreVersionByUrl:r},localLibs:{localLibsUri:w.cacheUri}},P(A),P(w)})).catch((t=>{const e=t?.message?JSON.parse(t.message):{};console.warn(`该机型的 minPlatformVersion 为${e.platform}, 小于${O}, \n    ylh_sdk 不会运行也不会导致快应用异常`)}))):console.error("必须传递appId，ylh_sdk才会正常运行")}},1237:(t,e,n)=>{t.exports=function(t,e,r){"use strict";n(2876);var i=a(n(4286)),o=a(n(6660));function a(t){return t&&t.__esModule?t:{default:t}}n(7451),n(7734),t.exports={onCreate(){console.info("Application onCreate");const t=global.__proto__||global,e=r("@app-module/system.router"),o=n(7979).Z,a=r("@app-module/system.storage"),s=r("@app-module/system.cipher"),u=r("@app-module/system.prompt"),c=r("@app-module/system.webview"),l=n(6708).default,d=r("@app-module/service.ad"),h=r("@app-module/system.app"),p=r("@app-module/system.device"),f=n(3650).ZP;t.$router=e,t.$utils=o,t.$storage=a,t.$prompt=u,t.$apis=l,t.$webview=c,t.$ad=d,t.$cipher=s,t.$app=h,t.$device=p,t.$processData=f,console.log("[app.ux] onCreate..."),$umeng_stat.init(this);try{const t=new i.default({app:this,appId:"a6690ddbfd2bbc",appKey:"ac7b8c3807532084e93fdf61490e25fa5"});this.$def.topon_sdk_instance=t}catch(t){console.log("error",t)}this.initAnalytics()},initAnalytics(){o.default.instance().configInstance({agcgw:{backurl:"connect-drcn.hispace.hicloud.com",url:"connect-drcn.dbankcloud.cn",websocketbackurl:"connect-ws-drcn.hispace.dbankcloud.com",websocketurl:"connect-ws-drcn.hispace.dbankcloud.cn"},agcgw_all:{CN:"connect-drcn.dbankcloud.cn",CN_back:"connect-drcn.hispace.hicloud.com",DE:"connect-dre.dbankcloud.cn",DE_back:"connect-dre.hispace.hicloud.com",RU:"connect-drru.hispace.dbankcloud.ru",RU_back:"connect-drru.hispace.dbankcloud.cn",SG:"connect-dra.dbankcloud.cn",SG_back:"connect-dra.hispace.hicloud.com"},websocketgw_all:{CN:"connect-ws-drcn.hispace.dbankcloud.cn",CN_back:"connect-ws-drcn.hispace.dbankcloud.com",DE:"connect-ws-dre.hispace.dbankcloud.cn",DE_back:"connect-ws-dre.hispace.dbankcloud.com",RU:"connect-ws-drru.hispace.dbankcloud.ru",RU_back:"connect-ws-drru.hispace.dbankcloud.cn",SG:"connect-ws-dra.hispace.dbankcloud.cn",SG_back:"connect-ws-dra.hispace.dbankcloud.com"},client:{cp_id:"30086000786232707",product_id:"388421841222225217",client_id:"1442725538346046400",client_secret:"10917CC5B08733C2510790F6C9B8B3AC2BCE2D83460E5B1C5E0D6B416A0D699D",project_id:"388421841222225217",app_id:"111248051",api_key:"DQEDACwAFzjum1pokg3KvijxBtp7WbqFpw5yeRBpk1kQVe0t4XiKNLGztYbT00secux1bTqvgI6Q30pkXOlqKz6jzUaic2Gmr6r0Mg==",package_name:"com.haituo.setpplanet"},oauth_client:{client_id:"111248051",client_type:19},app_info:{app_id:"111248051",package_name:"com.haituo.setpplanet"},service:{analytics:{collector_url:"datacollector-drcn.dt.hicloud.com,datacollector-drcn.dt.dbankcloud.cn",collector_url_ru:"datacollector-drru.dt.dbankcloud.ru,datacollector-drru.dt.hicloud.com",collector_url_sg:"datacollector-dra.dt.hicloud.com,datacollector-dra.dt.dbankcloud.cn",collector_url_de:"datacollector-dre.dt.hicloud.com,datacollector-dre.dt.dbankcloud.cn",collector_url_cn:"datacollector-drcn.dt.hicloud.com,datacollector-drcn.dt.dbankcloud.cn",resource_id:"p1",channel_id:""},edukit:{edu_url:"edukit.cloud.huawei.com.cn",dh_url:"edukit.cloud.huawei.com.cn"},search:{url:"https://search-drcn.cloud.huawei.com"},cloudstorage:{storage_url_sg_back:"https://agc-storage-dra.cloud.huawei.asia",storage_url_ru_back:"https://agc-storage-drru.cloud.huawei.ru",storage_url_ru:"https://agc-storage-drru.cloud.huawei.ru",storage_url_de_back:"https://agc-storage-dre.cloud.huawei.eu",storage_url_de:"https://ops-dre.agcstorage.link",storage_url:"https://agc-storage-drcn.platform.dbankcloud.cn",storage_url_sg:"https://ops-dra.agcstorage.link",storage_url_cn_back:"https://agc-storage-drcn.cloud.huawei.com.cn",storage_url_cn:"https://agc-storage-drcn.platform.dbankcloud.cn"},ml:{mlservice_url:"ml-api-drcn.ai.dbankcloud.com,ml-api-drcn.ai.dbankcloud.cn"}},region:"CN",configuration_version:"3.0"}),o.default.analytics()},onHide(){this.instance.onHide()},onDestroy(){console.info("Application onDestroy"),this.instance.onDestroy()},dataApp:{url1:"http://www.ihaituo.cn/xy/jb/bzzx.html",url2:"http://www.ihaituo.cn/xy/jb/yhxy.html",url3:"http://www.ihaituo.cn/xy/jb/yszc.html",countMax:8,brand:"HUAWEI",channel:"jh",bannerAdUnitId:"z1v6jykvy9",nAbannerAdUnitId:"i8zsc3gcbg",nativeAdUnitId:"v5h5xsklp2",interstitialAdUnitId:"a7nvl7fm00",userData:{loginPhone:"",userId:"",balance:0},actiParam:""}},(e.default||t.exports).manifest=n(2051)}},2979:(t,e,n)=>{var r={"./example.js":6828,"./index.js":6708,"./user.js":3334};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=2979},9076:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=9076,t.exports=e},2051:t=>{"use strict";t.exports=JSON.parse('{"package":"com.haituo.setpplanet","name":"计步星球","versionName":"1.0.23","versionCode":23,"icon":"/Common/img/logo.png","minPlatformVersion":1100,"features":[{"name":"system.storage"},{"name":"system.fetch"},{"name":"system.network"},{"name":"system.device"},{"name":"system.file"},{"name":"system.sensor"},{"name":"system.webview"},{"name":"system.request"},{"name":"system.package"},{"name":"service.account"},{"name":"service.ad"}],"config":{"data":{"umeng_appkey":"667b68fccac2a664de54f5ac"}},"router":{"entry":"Page_MainTab","pages":{"Page_MainTab":{"launchMode":"singleTask","component":"index"},"Page_Tixian":{"component":"index"},"Page_login":{"component":"index"},"Page_about":{"component":"index"},"feedback":{"component":"index"},"logOut":{"component":"index"},"permissions":{"component":"index"},"Page_setPay":{"component":"index"},"Page_cfd":{"component":"index"},"Page_cfd-taku":{"component":"index"},"ad/nativeAD":{"component":"index"},"TopOn/AdLanding":{"component":"index"}}},"display":{"pages":{"Page_MainTab":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0},"Page_cfd":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0,"titleBarBackgroundOpacity":0},"Page_cfd-taku":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0,"titleBarBackgroundOpacity":0},"Page_Tixian":{"titleBar":true,"menu":true,"titleBarText":"收益"},"Page_login":{"titleBar":true,"menu":false,"titleBarText":"用户登录"},"TopOn/AdLanding":{"fullScreen":true,"titleBar":false,"statusBarImmersive":true,"menuBarData":{"menuBar":false}}}},"versionType":"release"}')},7491:t=>{"use strict";t.exports=JSON.parse('{"name":"union-quick-app-ad","version":"1.0.49","description":"百度联盟快应用广告sdk","main":"app.js","files":["components/*","app.js"],"keywords":["快应用","广告"],"author":"cm-fe","license":"ISC","dependencies":{},"devDependencies":{}}')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={},$app_script$;$app_script$=__webpack_require__(1237),$app_define$("@app-application/app",[],(function(t,e,n){$app_script$(n,e,t),e.__esModule&&e.default&&(n.exports=e.default)})),$app_bootstrap$("@app-application/app",{packagerName:"fa-toolkit",packagerVersion:"14.0.1-Stable.300"})})()};if("undefined"==typeof window)return createAppHandler();window.createAppHandler=createAppHandler})();