(function(){
                        
                        var $app_define_wrap$ = $app_define_wrap$ || function() {}
                        var createAppHandler = function() {
                            return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@topon/quick-app-sdk-hw/app.js":
/*!*****************************************************!*\
  !*** ./node_modules/@topon/quick-app-sdk-hw/app.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

Object.defineProperty(exports, "__esModule", ({value:!0})),exports["default"]=void 0;var e=v(__webpack_require__(/*! union-quick-app-ad/app.js */ "./node_modules/union-quick-app-ad/app.js")),t=v($app_require$("@app-module/system.device")),n=v($app_require$("@app-module/system.package")),o=v($app_require$("@app-module/system.network")),r=v($app_require$("@app-module/system.app")),l=v($app_require$("@app-module/system.storage")),i=v($app_require$("@app-module/service.ad")),u=v($app_require$("@app-module/system.fetch")),a=v($app_require$("@app-module/system.file")),c=v($app_require$("@app-module/system.router")),s=v($app_require$("@app-module/system.prompt")),d=v(__webpack_require__(/*! js-md5 */ "./node_modules/js-md5/src/md5.js")),f=v(__webpack_require__(/*! js-base64 */ "./node_modules/js-base64/base64.js")),p=v(__webpack_require__(/*! ./bundle */ "./node_modules/@topon/quick-app-sdk-hw/bundle/index.js"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,k(o.key),o)}}function k(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var $=Object.getPrototypeOf(global)||global,O="internal://files/toponad/".concat("".concat("4.2.11"),"/core-render.js"),x="local",j="http://192.168.86.113:7001";function w(e){try{new Function(e)()}catch(e){console.error("load sdk error",e)}}function P(){return new Promise((function(e,t){u.default.fetch({url:"".concat(j,"/core/render/core-render.js"),responseType:"text",method:"GET",success:function(t){a.default.writeText({uri:O,text:t.data,success:function(){},fail:function(e,t){}}),e(t.data)},fail:function(e,n){t()}})}))}function _(a){try{var p;$.$topon_sdk&&($.$topon_sdk.api={device:t.default,pkg:n.default,network:o.default,app:r.default,storage:l.default,ad:i.default,$fetch:u.default,router:c.default,prompt:s.default,md5:d.default,jsBase64:f.default}),new $.$topon_sdk(this,a),new e.default(this);var v=(null==a||null===(p=a.config)||void 0===p?void 0:p.ylhAppId)||"";if(v)try{new(0,(__webpack_require__(/*! ylh-quick-app-ad-sdk */ "./node_modules/ylh-quick-app-ad-sdk/index.js")["default"]))(this,{appId:v})}catch(e){}}catch(e){console.error("init sdk error",e)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.app,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);this.$ctx=n,delete o.app,$&&$.$topon_sdk?_.call(n,o):"local"===x?(w.call(n,p.default,!1),_.call(n,o)):a.default.readText({uri:O,success:function(e){w.call(n,e.text),_.call(n,o)},fail:function(e,t){P.call(n).then((function(e){w.call(n,e,!1),_.call(n,o)}))}})}var t,n,o;return t=e,(n=[{key:"setChannel",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setChannel.call(this.$ctx,e)}},{key:"setSubChannel",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setSubChannel.call(this.$ctx,e)}},{key:"setCustomParam",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setCustomParam.call(this.$ctx,e)}},{key:"setPlacementCustomParam",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setPlacementCustomParam.call(this.$ctx,e)}},{key:"onShow",value:function(){var e,t;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.publish("app-on-show"),null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.onShow.call(this.$ctx)}},{key:"onHide",value:function(){var e,t;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.publish("app-on-hide"),null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.onHide.call(this.$ctx)}},{key:"onDestroy",value:function(){var e;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.onDestroy.call(this.$ctx)}}])&&m(t.prototype,n),o&&m(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();exports["default"]=g;

/***/ }),

/***/ "./node_modules/@topon/quick-app-sdk-hw/bundle/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@topon/quick-app-sdk-hw/bundle/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _default = "!function(){function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},o=\"function\"==typeof Symbol?Symbol:{},d=o.iterator||\"@@iterator\",s=o.asyncIterator||\"@@asyncIterator\",l=o.toStringTag||\"@@toStringTag\";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var r=e&&e.prototype instanceof _?e:_,o=Object.create(r.prototype),d=new D(n||[]);return a(o,\"_invoke\",{value:T(t,i,d)}),o}function h(t,e,i){try{return{type:\"normal\",arg:t.call(e,i)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=u;var p=\"suspendedStart\",f=\"executing\",v=\"completed\",m={};function _(){}function g(){}function y(){}var I={};c(I,d,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(L([])));k&&k!==n&&r.call(k,d)&&(I=k);var w=y.prototype=_.prototype=Object.create(I);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function i(n,a,o,d){var s=h(t[n],t,a);if(\"throw\"!==s.type){var l=s.arg,c=l.value;return c&&\"object\"==typeof c&&r.call(c,\"__await\")?e.resolve(c.__await).then((function(t){i(\"next\",t,o,d)}),(function(t){i(\"throw\",t,o,d)})):e.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return i(\"throw\",t,o,d)}))}d(s.arg)}var n;a(this,\"_invoke\",{value:function(t,r){function a(){return new e((function(e,n){i(t,r,e,n)}))}return n=n?n.then(a,a):a()}})}function T(e,i,n){var r=p;return function(a,o){if(r===f)throw Error(\"Generator is already running\");if(r===v){if(\"throw\"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var d=n.delegate;if(d){var s=A(d,n);if(s){if(s===m)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(r===p)throw r=v,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=f;var l=h(e,i,n);if(\"normal\"===l.type){if(r=n.done?v:\"suspendedYield\",l.arg===m)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(r=v,n.method=\"throw\",n.arg=l.arg)}}}function A(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,\"throw\"===n&&e.iterator.return&&(i.method=\"return\",i.arg=t,A(e,i),\"throw\"===i.method)||\"return\"!==n&&(i.method=\"throw\",i.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var a=h(r,e.iterator,i.arg);if(\"throw\"===a.type)return i.method=\"throw\",i.arg=a.arg,i.delegate=null,m;var o=a.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,\"return\"!==i.method&&(i.method=\"next\",i.arg=t),i.delegate=null,m):o:(i.method=\"throw\",i.arg=new TypeError(\"iterator result is not an object\"),i.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function L(e){if(e||\"\"===e){var i=e[d];if(i)return i.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return a.next=a}}throw new TypeError(typeof e+\" is not iterable\")}return g.prototype=y,a(w,\"constructor\",{value:y,configurable:!0}),a(y,\"constructor\",{value:g,configurable:!0}),g.displayName=c(y,l,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,\"GeneratorFunction\")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new S(u(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(w),c(w,l,\"Generator\"),c(w,d,(function(){return this})),c(w,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(C),!e)for(var i in this)\"t\"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(n,r){return d.type=\"throw\",d.arg=e,i.next=n,r&&(i.method=\"next\",i.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],d=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var s=r.call(o,\"catchLoc\"),l=r.call(o,\"finallyLoc\");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var a=n;break}}a&&(\"break\"===t||\"continue\"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method=\"next\",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if(\"throw\"===n.type){var r=n.arg;C(i)}return r}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,i,n){return this.delegate={iterator:L(e),resultName:i,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function n(t){var e=function(t,e){if(\"object\"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||\"default\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:e+\"\"}function r(t){return r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},r(t)}function a(t,e,i,n,r,a,o){try{var d=t[a](o),s=d.value}catch(t){return void i(t)}d.done?e(s):Promise.resolve(s).then(n,r)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function d(t){a(o,n,r,d,s,\"next\",t)}function s(t){a(o,n,r,d,s,\"throw\",t)}d(void 0)}))}}function d(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function l(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function c(t,e,i){return(e=n(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t,e){return function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)===e}function h(t){return u(t,\"String\")}function p(t){return u(t,\"Number\")}function f(t){return u(t,\"Object\")}function v(t){for(var e in t)if({}.hasOwnProperty.call(t,e))return!1;return!0}function m(t,e){var i=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);if(i.length!==n.length)return!1;for(var r=0;r<i.length;r+=1){var a=i[r];if(t[a]!==e[a])return!1}return!0}function _(t){if(\"string\"==typeof t)try{var e=JSON.parse(t);return!(\"object\"!==r(e)||!e)}catch(t){return!1}}var g={VIVO:54,OPPO:55,BAIDU:56,HUAWEI:60,XIAOMI:61,HUAWEI_AGD_PRO:62,HONOR:63,YLH:64,ADX:66},y={VIVO:54,OPPO:55,YLH:64};function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.separator||\"-\",n=e.split||/(?=[A-Z])/;return t.split(n).join(i).toLowerCase()}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=\"hb\"===t?y:g,i=Object.values(e)||[];return i}var k=[\"containerStyle\",\"imgStyle\",\"titleStyle\",\"buttonStyle\",\"descStyle\"],w={g:function(){if(\"object\"==(\"undefined\"==typeof globalThis?\"undefined\":r(globalThis)))return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==(\"undefined\"==typeof window?\"undefined\":r(window)))return window}}()},x=Object.getPrototypeOf(w.g)||w.g;function S(){return x&&x.$topon_sdk?x.$topon_sdk.api:null}function T(t,e){var i=[];for(var n in e)i.push(n+\"=\"+e[n]);var r=i.join(\"&\");return r?\"\".concat(t,\"?\").concat(r):t}function A(t,e){return Math.floor(Math.random()*(e-t))+t}function E(t,e){for(var i=e.length,n=[],r=0;r<i;r++){var a=e[r].key,o=e[r].value,d=\"\".concat(a,\"=\").concat(o);n.push(d)}return L(t+n.join(\"&\"))}function C(t){return S().jsBase64.Base64.encode(t)}function D(t){return JSON.stringify(t).replace(/\\//g,\"\\\\/\")}function L(t){return(0,S().md5)(t).toString()}function O(t,i){var n=e({},t);return Object.keys(i).forEach((function(e){t[e]&&t[e]===i[e]||(n[e]=i[e])})),n}function R(){var t,e=(null===(t=global)||void 0===t?void 0:t.navigator)||{},i=e.userAgent||\"\",n=e.vendor||\"\";return\"\".concat(i,\" \").concat(n).toLowerCase()}function P(t,e,i){var n=t.nwFirmIds||[];return(t.unitIds||[]).includes(1*i)?9006:n.includes(1*e)?9007:0}function U(t,e){e||(e=this.$app&&this.$app.$def.manifest.config&&this.$app.$def.manifest.config.designWidth);var i=p(e)?e/750:1,n={};for(var r in t)if(t.hasOwnProperty(r))if(t[r]&&f(t[r]))n[r]=U.call(this,t[r]);else if(h(t[r])&&t[r].endsWith(\"px\")){var a=parseInt(t[r].split(\"px\")[0],10);p(a)&&(n[r]=a*i+\"px\")}else n[r]=t[r];return n}function $(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(e));if(i)for(var a in r)k.includes(a)||delete r[a];function o(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(f(n))for(var r in n)n.hasOwnProperty(r)&&(f(n[r])?o(t[i][r],n[r]):!t[i]||t[i][r]&&t[i][r]===n[r]||(t[i][r]=n[r]));else t[i]&&t[i]===n||(t[i]=n)}}return o(n,r),null!=n&&n.imgPropertiesStyle&&null!=n&&n.imgStyle&&(n.imgPropertiesStyle=Object.assign({},n.imgPropertiesStyle,n.imgStyle),delete n.imgPropertiesStyle.position),n}function N(t,e,i){var n,r,a,o=null!==(n=null!==(r=null===(a=this.$app)||void 0===a?void 0:a.$def)&&void 0!==r?r:this.$def)&&void 0!==n?n:null;o&&null!=o&&o.topon_sdk&&(o.topon_sdk.cache[t]||(o.topon_sdk.cache[t]=Object.create(null)),o.topon_sdk.cache[t][e]=i)}function j(t,e){var i,n,r,a,o,d=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def)&&void 0!==i?i:null;return d&&null!=d&&d.topon_sdk&&null!==(a=null===(o=d.topon_sdk)||void 0===o||null===(o=o.cache[t])||void 0===o?void 0:o[e])&&void 0!==a?a:null}function F(t,e){var i,n,r,a,o,d=null!==(i=null==t?void 0:t.width)&&void 0!==i?i:0,s=null!==(n=null==t?void 0:t.height)&&void 0!==n?n:0,l=null!==(r=null==e?void 0:e.screenWidth)&&void 0!==r?r:750,c=null!==(a=null==e?void 0:e.screenHeight)&&void 0!==a?a:1415,u=(null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.manifest)||void 0===o||null===(o=o.config)||void 0===o?void 0:o.designWidth)||750;return d*s/(u*(u*(c/l)))}function B(t){var e=this;null!=this&&this.$nextTick?this.$nextTick((function(){return t.call(e)})):void 0!==(\"undefined\"==typeof Promise?\"undefined\":r(Promise))?Promise.resolve().then(t):setTimeout(t,0)}var W=\"TOPON_AD_CACHE\",q=function(){function t(){d(this,t),this._storage={}}var e,n,r,a;return l(t,[{key:\"_getKey\",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return t;var i=I(t,{separator:\"_\"});return i=\"\".concat(W,\"_\").concat(i.toUpperCase())}},{key:\"batch\",value:(a=o(i().mark((function t(e){var n,r,a=this,o=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],r=[],Object.keys(e).forEach((function(t){r.push(a.setItem(t,e[t],n))})),t.abrupt(\"return\",Promise.all(r));case 4:case\"end\":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:\"setItem\",value:(r=o(i().mark((function t(e,n){var r,a,o,d,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(s.length>2&&void 0!==s[2])||s[2],a=this._getKey(e,r),o=S(),d=o.storage,t.abrupt(\"return\",d.set({key:a,value:n}));case 4:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:\"getItem\",value:(n=o(i().mark((function t(e){var n,r,a,o,d,s,l,c=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(c.length>1&&void 0!==c[1])||c[1],a=this._getKey(e,r),o=S(),d=o.storage,t.next=5,d.get({key:a});case 5:return s=t.sent,l=null!==(n=null==s?void 0:s.data)&&void 0!==n?n:\"\",t.abrupt(\"return\",_(l)?JSON.parse(l):l);case 8:case\"end\":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:\"delete\",value:(e=o(i().mark((function t(e){var n,r,a=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!(a.length>1&&void 0!==a[1])||a[1],r=this._getKey(e,n),S().storage.delete({key:r});case 4:case\"end\":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:\"clear\",value:function(){S().storage.clear()}}]),t}(),M=new q,V=function(){function t(){d(this,t),this._device={}}var e,n,r,a,s;return l(t,[{key:\"getInfo\",value:(s=o(i().mark((function t(){var e,n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=S(),r=n.device,t.next=4,r.getInfo();case 4:return a=t.sent,o=null!==(e=null==a?void 0:a.data)&&void 0!==e?e:{},t.abrupt(\"return\",o);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",{});case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return s.apply(this,arguments)})},{key:\"getAdvertisingId\",value:(a=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getAdvertisingId();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.advertisingId)&&void 0!==e?e:\"\",t.abrupt(\"return\",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",\"\");case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return a.apply(this,arguments)})},{key:\"getOaId\",value:(r=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getOAID();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.oaid)&&void 0!==e?e:\"\",t.abrupt(\"return\",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",\"\");case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:\"getUserId\",value:(n=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getUserId();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.userId)&&void 0!==e?e:\"\",t.abrupt(\"return\",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",\"\");case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return n.apply(this,arguments)})},{key:\"getDeviceIds\",value:(e=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=\"\",n=\"\",r=\"\",a=\"\",o=S(),d=o.device,t.prev=2,t.next=5,M.getItem(\"needDevice\");case 5:if(\"1\"!=t.sent){t.next=17;break}return t.next=9,d.getId({type:[\"device\",\"mac\",\"user\"]});case 9:p=t.sent,f=null!==(s=null==p?void 0:p.data)&&void 0!==s?s:{},e=null!==(l=null==f?void 0:f.advertising)&&void 0!==l?l:\"\",n=null!==(c=null==f?void 0:f.user)&&void 0!==c?c:\"\",r=null!==(u=null==f?void 0:f.device)&&void 0!==u?u:\"\",a=null!==(h=null==f?void 0:f.mac)&&void 0!==h?h:\"\",t.next=30;break;case 17:return t.next=19,d.getUserId();case 19:return _=t.sent,n=null!==(v=null==_||null===(m=_.data)||void 0===m?void 0:m.userId)&&void 0!==v?v:\"\",t.prev=21,t.next=24,d.getAdvertisingId();case 24:I=t.sent,e=null!==(g=null==I||null===(y=I.data)||void 0===y?void 0:y.advertisingId)&&void 0!==g?g:\"\",t.next=30;break;case 28:t.prev=28,t.t0=t.catch(21);case 30:t.next=39;break;case 32:return t.prev=32,t.t1=t.catch(2),201===t.t1.code&&M.setItem(\"needDevice\",\"0\"),t.next=37,d.getUserId();case 37:w=t.sent,n=null!==(b=null==w||null===(k=w.data)||void 0===k?void 0:k.userId)&&void 0!==b?b:\"\";case 39:return t.abrupt(\"return\",{device:r,mac:a,user:n,advertising:e});case 40:case\"end\":return t.stop()}}),t,null,[[2,32],[21,28]])}))),function(){return e.apply(this,arguments)})}]),t}(),H=new V;function G(){return Y.apply(this,arguments)}function Y(){return(Y=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=\"upId\",a=\"\",t.next=4,M.getItem(r);case 4:if(o=t.sent,[\"d41d8cd98f00b204e9800998ecf8427e\",\"9f89c84a559f573636a47ff8daed0d33\"].includes(a=o)&&(a=\"\",M.delete(r)),!a){t.next=9;break}return t.abrupt(\"return\",a);case 9:return t.next=11,H.getDeviceIds();case 11:return d=t.sent,t.next=14,H.getOaId();case 14:if(t.t0=t.sent,t.t0){t.next=17;break}t.t0=\"\";case 17:if(s=t.t0,l=null!==(e=null==d?void 0:d.advertising)&&void 0!==e?e:\"\",c=null!==(n=null==d?void 0:d.user)&&void 0!==n?n:\"\",!l){t.next=24;break}a=L(l),t.next=36;break;case 24:if(!s||\"00000000-0000-0000-0000-000000000000\"===s){t.next=28;break}a=L(s),t.next=36;break;case 28:if(!c){t.next=32;break}a=L(c),t.next=36;break;case 32:return t.next=34,M.getItem(\"appId\");case 34:u=t.sent,a=L(u+Date.now()+A(0,1e8));case 36:return t.next=38,M.setItem(r,a);case 38:return t.abrupt(\"return\",a);case 39:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function K(){return z.apply(this,arguments)}function z(){return(z=o(i().mark((function t(){var e,n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return e=t.sent,t.next=5,M.getItem(\"appId\");case 5:return n=t.sent,t.next=8,M.getItem(\"currentInitTime\");case 8:return r=t.sent,a=L(e+n+r),t.abrupt(\"return\",a);case 11:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){return Q.apply(this,arguments)}function Q(){return(Q=o(i().mark((function t(e){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return n=t.sent,r=Date.now(),a=L(n+e+r),t.abrupt(\"return\",a);case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return Z.apply(this,arguments)}function Z(){return(Z=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(new Date).getTime(),t.next=3,H.getDeviceIds();case 3:return a=t.sent,t.next=6,G();case 6:for(o=t.sent,d=null!==(e=null==a?void 0:a.user)&&void 0!==e?e:\"\",s=null!==(n=null==a?void 0:a.advertising)&&void 0!==n?n:\"\",l=[d,s,o,r],c=A(0,1e4),u=l.length,h=[],p=0;p<u;p++)h.push(l[p]);return h.push(c),f=h.join(\"&\"),v=L(f),t.abrupt(\"return\",v);case 18:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}var tt=e({},g),et=e({},y),it={54:\"unit_id\",55:\"unit_id\",56:\"placement_id\",60:\"ad_id\",61:\"unit_id\",62:\"ad_id\",63:\"unit_id\",64:\"unit_id\"},nt={\"2g\":\"1\",\"3g\":\"3\",\"4g\":\"13\",\"5g\":\"15\",wifi:\"-2\",none:\"-1\"},rt=new(function(){function t(){d(this,t),this.code={54:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,2e3,9e3,9001,9006,9007],loading:[1105],show:[1101,1106]},55:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},56:{load:[\"error\",\"adError\",9e3,9001,9006,9007],loading:[],show:[\"error\",1101]},60:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},61:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},62:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},63:{load:[1e3,1001,1002,1003,1004],loading:[],show:[]},64:{load:[1001,1004,1100],loading:[],show:[]},66:{load:[9006,9007,9008],loading:[],show:[1101]}}}return l(t,[{key:\"codeToEvent\",value:function(t,e){var i,n,r,a=isNaN(e)?e:1*e;return null!==(i=this.code[t])&&void 0!==i&&null!==(i=i.load)&&void 0!==i&&i.includes(a)?\"load\":null!==(n=this.code[t])&&void 0!==n&&null!==(n=n.loading)&&void 0!==n&&n.includes(a)?\"loading\":null!==(r=this.code[t])&&void 0!==r&&null!==(r=r.show)&&void 0!==r&&r.includes(a)?\"show\":\"unknown\"}}]),t}()),at={100133:1001,136001:1001,136002:1001,136004:1001,102006:1004,109502:1100},ot=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};var dt=function(){this.__data__=[],this.size=0};var st=function(t,e){return t===e||t!=t&&e!=e},lt=st;var ct=function(t,e){for(var i=t.length;i--;)if(lt(t[i][0],e))return i;return-1},ut=ct,ht=Array.prototype.splice;var pt=ct;var ft=ct;var vt=ct;var mt=dt,_t=function(t){var e=this.__data__,i=ut(e,t);return!(i<0)&&(i==e.length-1?e.pop():ht.call(e,i,1),--this.size,!0)},gt=function(t){var e=this.__data__,i=pt(e,t);return i<0?void 0:e[i][1]},yt=function(t){return ft(this.__data__,t)>-1},It=function(t,e){var i=this.__data__,n=vt(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};function bt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}bt.prototype.clear=mt,bt.prototype.delete=_t,bt.prototype.get=gt,bt.prototype.has=yt,bt.prototype.set=It;var kt=bt,wt=kt;var xt=function(){this.__data__=new wt,this.size=0};var St=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i};var Tt=function(t){return this.__data__.get(t)};var At=function(t){return this.__data__.has(t)},Et=\"object\"==typeof ot&&ot&&ot.Object===Object&&ot,Ct=Et,Dt=\"object\"==typeof self&&self&&self.Object===Object&&self,Lt=Ct||Dt||Function(\"return this\")(),Ot=Lt.Symbol,Rt=Ot,Pt=Object.prototype,Ut=Pt.hasOwnProperty,$t=Pt.toString,Nt=Rt?Rt.toStringTag:void 0;var jt=function(t){var e=Ut.call(t,Nt),i=t[Nt];try{t[Nt]=void 0;var n=!0}catch(t){}var r=$t.call(t);return n&&(e?t[Nt]=i:delete t[Nt]),r},Ft=Object.prototype.toString;var Bt=jt,Wt=function(t){return Ft.call(t)},qt=Ot?Ot.toStringTag:void 0;var Mt=function(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":qt&&qt in Object(t)?Bt(t):Wt(t)};var Vt=function(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)},Ht=Mt,Gt=Vt;var Yt,Kt=function(t){if(!Gt(t))return!1;var e=Ht(t);return\"[object Function]\"==e||\"[object GeneratorFunction]\"==e||\"[object AsyncFunction]\"==e||\"[object Proxy]\"==e},zt=Lt[\"__core-js_shared__\"],Xt=(Yt=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+Yt:\"\";var Qt=function(t){return!!Xt&&Xt in t},Jt=Function.prototype.toString;var Zt=function(t){if(null!=t){try{return Jt.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"},te=Kt,ee=Qt,ie=Vt,ne=Zt,re=/^\\[object .+?Constructor\\]$/,ae=Function.prototype,oe=Object.prototype,de=ae.toString,se=oe.hasOwnProperty,le=RegExp(\"^\"+de.call(se).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");var ce=function(t){return!(!ie(t)||ee(t))&&(te(t)?le:re).test(ne(t))},ue=function(t,e){return null==t?void 0:t[e]};var he=function(t,e){var i=ue(t,e);return ce(i)?i:void 0},pe=he(Lt,\"Map\"),fe=he(Object,\"create\"),ve=fe;var me=function(){this.__data__=ve?ve(null):{},this.size=0};var _e=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ge=fe,ye=Object.prototype.hasOwnProperty;var Ie=function(t){var e=this.__data__;if(ge){var i=e[t];return\"__lodash_hash_undefined__\"===i?void 0:i}return ye.call(e,t)?e[t]:void 0},be=fe,ke=Object.prototype.hasOwnProperty;var we=fe;var xe=me,Se=_e,Te=Ie,Ae=function(t){var e=this.__data__;return be?void 0!==e[t]:ke.call(e,t)},Ee=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=we&&void 0===e?\"__lodash_hash_undefined__\":e,this};function Ce(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ce.prototype.clear=xe,Ce.prototype.delete=Se,Ce.prototype.get=Te,Ce.prototype.has=Ae,Ce.prototype.set=Ee;var De=Ce,Le=kt,Oe=pe;var Re=function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t};var Pe=function(t,e){var i=t.__data__;return Re(e)?i[\"string\"==typeof e?\"string\":\"hash\"]:i.map},Ue=Pe;var $e=Pe;var Ne=Pe;var je=Pe;var Fe=function(){this.size=0,this.__data__={hash:new De,map:new(Oe||Le),string:new De}},Be=function(t){var e=Ue(this,t).delete(t);return this.size-=e?1:0,e},We=function(t){return $e(this,t).get(t)},qe=function(t){return Ne(this,t).has(t)},Me=function(t,e){var i=je(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};function Ve(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ve.prototype.clear=Fe,Ve.prototype.delete=Be,Ve.prototype.get=We,Ve.prototype.has=qe,Ve.prototype.set=Me;var He=kt,Ge=pe,Ye=Ve;var Ke=kt,ze=xt,Xe=St,Qe=Tt,Je=At,Ze=function(t,e){var i=this.__data__;if(i instanceof He){var n=i.__data__;if(!Ge||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ye(n)}return i.set(t,e),this.size=i.size,this};function ti(t){var e=this.__data__=new Ke(t);this.size=e.size}ti.prototype.clear=ze,ti.prototype.delete=Xe,ti.prototype.get=Qe,ti.prototype.has=Je,ti.prototype.set=Ze;var ei=ti;var ii=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t},ni=he,ri=function(){try{var t=ni(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();var ai=function(t,e,i){\"__proto__\"==e&&ri?ri(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i},oi=ai,di=st,si=Object.prototype.hasOwnProperty;var li=function(t,e,i){var n=t[e];si.call(t,e)&&di(n,i)&&(void 0!==i||e in t)||oi(t,e,i)},ci=li,ui=ai;var hi=function(t,e,i,n){var r=!i;i||(i={});for(var a=-1,o=e.length;++a<o;){var d=e[a],s=n?n(i[d],t[d],d,i,t):void 0;void 0===s&&(s=t[d]),r?ui(i,d,s):ci(i,d,s)}return i};var pi=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n};var fi=function(t){return null!=t&&\"object\"==typeof t},vi=Mt,mi=fi;var _i=function(t){return mi(t)&&\"[object Arguments]\"==vi(t)},gi=fi,yi=Object.prototype,Ii=yi.hasOwnProperty,bi=yi.propertyIsEnumerable,ki=_i(function(){return arguments}())?_i:function(t){return gi(t)&&Ii.call(t,\"callee\")&&!bi.call(t,\"callee\")},wi=ki,xi=Array.isArray,Si={};var Ti=function(){return!1};!function(t,e){var i=Lt,n=Ti,r=e&&!e.nodeType&&e,a=r&&t&&!t.nodeType&&t,o=a&&a.exports===r?i.Buffer:void 0,d=(o?o.isBuffer:void 0)||n;t.exports=d}({get exports(){return Si},set exports(t){Si=t}},Si);var Ai=/^(?:0|[1-9]\\d*)$/;var Ei=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&(\"number\"==i||\"symbol\"!=i&&Ai.test(t))&&t>-1&&t%1==0&&t<e};var Ci=function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Di=Mt,Li=Ci,Oi=fi,Ri={};Ri[\"[object Float32Array]\"]=Ri[\"[object Float64Array]\"]=Ri[\"[object Int8Array]\"]=Ri[\"[object Int16Array]\"]=Ri[\"[object Int32Array]\"]=Ri[\"[object Uint8Array]\"]=Ri[\"[object Uint8ClampedArray]\"]=Ri[\"[object Uint16Array]\"]=Ri[\"[object Uint32Array]\"]=!0,Ri[\"[object Arguments]\"]=Ri[\"[object Array]\"]=Ri[\"[object ArrayBuffer]\"]=Ri[\"[object Boolean]\"]=Ri[\"[object DataView]\"]=Ri[\"[object Date]\"]=Ri[\"[object Error]\"]=Ri[\"[object Function]\"]=Ri[\"[object Map]\"]=Ri[\"[object Number]\"]=Ri[\"[object Object]\"]=Ri[\"[object RegExp]\"]=Ri[\"[object Set]\"]=Ri[\"[object String]\"]=Ri[\"[object WeakMap]\"]=!1;var Pi=function(t){return Oi(t)&&Li(t.length)&&!!Ri[Di(t)]};var Ui=function(t){return function(e){return t(e)}},$i={};!function(t,e){var i=Et,n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,a=r&&r.exports===n&&i.process,o=function(){try{var t=r&&r.require&&r.require(\"util\").types;return t||a&&a.binding&&a.binding(\"util\")}catch(t){}}();t.exports=o}({get exports(){return $i},set exports(t){$i=t}},$i);var Ni=Pi,ji=Ui,Fi=$i&&$i.isTypedArray,Bi=Fi?ji(Fi):Ni,Wi=pi,qi=wi,Mi=xi,Vi=Si,Hi=Ei,Gi=Bi,Yi=Object.prototype.hasOwnProperty;var Ki=function(t,e){var i=Mi(t),n=!i&&qi(t),r=!i&&!n&&Vi(t),a=!i&&!n&&!r&&Gi(t),o=i||n||r||a,d=o?Wi(t.length,String):[],s=d.length;for(var l in t)!e&&!Yi.call(t,l)||o&&(\"length\"==l||r&&(\"offset\"==l||\"parent\"==l)||a&&(\"buffer\"==l||\"byteLength\"==l||\"byteOffset\"==l)||Hi(l,s))||d.push(l);return d},zi=Object.prototype;var Xi=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||zi)};var Qi=function(t,e){return function(i){return t(e(i))}},Ji=Qi(Object.keys,Object),Zi=Xi,tn=Ji,en=Object.prototype.hasOwnProperty;var nn=Kt,rn=Ci;var an=function(t){return null!=t&&rn(t.length)&&!nn(t)},on=Ki,dn=function(t){if(!Zi(t))return tn(t);var e=[];for(var i in Object(t))en.call(t,i)&&\"constructor\"!=i&&e.push(i);return e},sn=an;var ln=function(t){return sn(t)?on(t):dn(t)},cn=hi,un=ln;var hn=function(t,e){return t&&cn(e,un(e),t)};var pn=Vt,fn=Xi,vn=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e},mn=Object.prototype.hasOwnProperty;var _n=Ki,gn=function(t){if(!pn(t))return vn(t);var e=fn(t),i=[];for(var n in t)(\"constructor\"!=n||!e&&mn.call(t,n))&&i.push(n);return i},yn=an;var In=function(t){return yn(t)?_n(t,!0):gn(t)},bn=hi,kn=In;var wn=function(t,e){return t&&bn(e,kn(e),t)},xn={};!function(t,e){var i=Lt,n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,a=r&&r.exports===n?i.Buffer:void 0,o=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,n=o?o(i):new t.constructor(i);return t.copy(n),n}}({get exports(){return xn},set exports(t){xn=t}},xn);var Sn=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e};var Tn=function(){return[]},An=function(t,e){for(var i=-1,n=null==t?0:t.length,r=0,a=[];++i<n;){var o=t[i];e(o,i,t)&&(a[r++]=o)}return a},En=Tn,Cn=Object.prototype.propertyIsEnumerable,Dn=Object.getOwnPropertySymbols,Ln=Dn?function(t){return null==t?[]:(t=Object(t),An(Dn(t),(function(e){return Cn.call(t,e)})))}:En,On=hi,Rn=Ln;var Pn=function(t,e){return On(t,Rn(t),e)};var Un=function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t},$n=Qi(Object.getPrototypeOf,Object),Nn=Un,jn=$n,Fn=Ln,Bn=Tn,Wn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Nn(e,Fn(t)),t=jn(t);return e}:Bn,qn=hi,Mn=Wn;var Vn=function(t,e){return qn(t,Mn(t),e)},Hn=Un,Gn=xi;var Yn=function(t,e,i){var n=e(t);return Gn(t)?n:Hn(n,i(t))},Kn=Yn,zn=Ln,Xn=ln;var Qn=function(t){return Kn(t,Xn,zn)},Jn=Yn,Zn=Wn,tr=In;var er=function(t){return Jn(t,tr,Zn)},ir=he(Lt,\"DataView\"),nr=pe,rr=he(Lt,\"Promise\"),ar=he(Lt,\"Set\"),or=he(Lt,\"WeakMap\"),dr=Mt,sr=Zt,lr=\"[object Map]\",cr=\"[object Promise]\",ur=\"[object Set]\",hr=\"[object WeakMap]\",pr=\"[object DataView]\",fr=sr(ir),vr=sr(nr),mr=sr(rr),_r=sr(ar),gr=sr(or),yr=dr;(ir&&yr(new ir(new ArrayBuffer(1)))!=pr||nr&&yr(new nr)!=lr||rr&&yr(rr.resolve())!=cr||ar&&yr(new ar)!=ur||or&&yr(new or)!=hr)&&(yr=function(t){var e=dr(t),i=\"[object Object]\"==e?t.constructor:void 0,n=i?sr(i):\"\";if(n)switch(n){case fr:return pr;case vr:return lr;case mr:return cr;case _r:return ur;case gr:return hr}return e});var Ir=yr,br=Object.prototype.hasOwnProperty;var kr=function(t){var e=t.length,i=new t.constructor(e);return e&&\"string\"==typeof t[0]&&br.call(t,\"index\")&&(i.index=t.index,i.input=t.input),i},wr=Lt.Uint8Array;var xr=function(t){var e=new t.constructor(t.byteLength);return new wr(e).set(new wr(t)),e},Sr=xr;var Tr=function(t,e){var i=e?Sr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)},Ar=/\\w*$/;var Er=function(t){var e=new t.constructor(t.source,Ar.exec(t));return e.lastIndex=t.lastIndex,e},Cr=Ot?Ot.prototype:void 0,Dr=Cr?Cr.valueOf:void 0;var Lr=xr;var Or=xr,Rr=Tr,Pr=Er,Ur=function(t){return Dr?Object(Dr.call(t)):{}},$r=function(t,e){var i=e?Lr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)};var Nr=function(t,e,i){var n=t.constructor;switch(e){case\"[object ArrayBuffer]\":return Or(t);case\"[object Boolean]\":case\"[object Date]\":return new n(+t);case\"[object DataView]\":return Rr(t,i);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return $r(t,i);case\"[object Map]\":case\"[object Set]\":return new n;case\"[object Number]\":case\"[object String]\":return new n(t);case\"[object RegExp]\":return Pr(t);case\"[object Symbol]\":return Ur(t)}},jr=Vt,Fr=Object.create,Br=function(){function t(){}return function(e){if(!jr(e))return{};if(Fr)return Fr(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),Wr=$n,qr=Xi;var Mr=function(t){return\"function\"!=typeof t.constructor||qr(t)?{}:Br(Wr(t))},Vr=Ir,Hr=fi;var Gr=function(t){return Hr(t)&&\"[object Map]\"==Vr(t)},Yr=Ui,Kr=$i&&$i.isMap,zr=Kr?Yr(Kr):Gr,Xr=Ir,Qr=fi;var Jr=function(t){return Qr(t)&&\"[object Set]\"==Xr(t)},Zr=Ui,ta=$i&&$i.isSet,ea=ta?Zr(ta):Jr,ia=ei,na=ii,ra=li,aa=hn,oa=wn,da=xn,sa=Sn,la=Pn,ca=Vn,ua=Qn,ha=er,pa=Ir,fa=kr,va=Nr,ma=Mr,_a=xi,ga=Si,ya=zr,Ia=Vt,ba=ea,ka=ln,wa=In,xa=\"[object Arguments]\",Sa=\"[object Function]\",Ta=\"[object Object]\",Aa={};Aa[xa]=Aa[\"[object Array]\"]=Aa[\"[object ArrayBuffer]\"]=Aa[\"[object DataView]\"]=Aa[\"[object Boolean]\"]=Aa[\"[object Date]\"]=Aa[\"[object Float32Array]\"]=Aa[\"[object Float64Array]\"]=Aa[\"[object Int8Array]\"]=Aa[\"[object Int16Array]\"]=Aa[\"[object Int32Array]\"]=Aa[\"[object Map]\"]=Aa[\"[object Number]\"]=Aa[Ta]=Aa[\"[object RegExp]\"]=Aa[\"[object Set]\"]=Aa[\"[object String]\"]=Aa[\"[object Symbol]\"]=Aa[\"[object Uint8Array]\"]=Aa[\"[object Uint8ClampedArray]\"]=Aa[\"[object Uint16Array]\"]=Aa[\"[object Uint32Array]\"]=!0,Aa[\"[object Error]\"]=Aa[Sa]=Aa[\"[object WeakMap]\"]=!1;var Ea=function t(e,i,n,r,a,o){var d,s=1&i,l=2&i,c=4&i;if(n&&(d=a?n(e,r,a,o):n(e)),void 0!==d)return d;if(!Ia(e))return e;var u=_a(e);if(u){if(d=fa(e),!s)return sa(e,d)}else{var h=pa(e),p=h==Sa||\"[object GeneratorFunction]\"==h;if(ga(e))return da(e,s);if(h==Ta||h==xa||p&&!a){if(d=l||p?{}:ma(e),!s)return l?ca(e,oa(d,e)):la(e,aa(d,e))}else{if(!Aa[h])return a?e:{};d=va(e,h,s)}}o||(o=new ia);var f=o.get(e);if(f)return f;o.set(e,d),ba(e)?e.forEach((function(r){d.add(t(r,i,n,r,e,o))})):ya(e)&&e.forEach((function(r,a){d.set(a,t(r,i,n,a,e,o))}));var v=u?void 0:(c?l?ha:ua:l?wa:ka)(e);return na(v||e,(function(r,a){v&&(r=e[a=r]),ra(d,a,t(r,i,n,a,e,o))})),d},Ca=Ea;var Da=function(t){return Ca(t,5)},La=function(){function t(){d(this,t),this.reqUgNum=1,this.progress=0,this.isFirst=!0,this.statusList=[],this.STATUS_WAITING=\"waiting\",this.STATUS_LOADING=\"loading\",this.STATUS_CACHING=\"caching\",this.STATUS_TIMEOUT=\"timeout\",this.STATUS_EXPIRED=\"expired\",this.STATUS_FAILED=\"failed\",this.STATUS_SHOWED=\"showed\"}return l(t,[{key:\"load\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.progress=0;var n=[];e.forEach((function(e,i){var r=e.unit_id,a={index:i,itemId:r,unitId:r,nwFirmId:e.nw_firm_id,ecpm:e.ecpm,ecpmSort:e.s_pty,rank:e.sp_ps,rankSort:0,status:t.STATUS_WAITING,expirationTime:0,context:{},type:0,unit:Da(e)};n.push(a)})),(null==n?void 0:n.length)>1&&Oa(n),n.sort((function(t,e){var i=e.ecpmSort-t.ecpmSort,n=e.rankSort-t.rankSort;return 0===i?n:i})),n.forEach((function(t,e){t.index=e}));var r=i.reqUgNum,a=void 0===r?1:r;this.reqUgNum=a,this.progress=a-1,this.isFirst=!0,this.initStatusList(n)}},{key:\"merge\",value:function(t){var e,i=this;if(!(t.length<=0)){var n=[];t.forEach((function(t){var e=t.unit_id,r=t.nw_firm_id,a=t.ecpm,o=t.s_pty,d=t.nw_cache_time,s={index:0,itemId:e,unitId:e,nwFirmId:r,ecpm:a,ecpmSort:o,rank:t.sp_ps,rankSort:0,status:i.STATUS_WAITING,expirationTime:Date.now()+d,context:{},type:66==r?2:1,unit:Da(t)};n.push(s)})),(e=this.statusList).push.apply(e,n),this.statusList.sort((function(t,e){var i=e.ecpmSort-t.ecpmSort,n=e.type-t.type;return 0===i?n:i})),this.statusList.forEach((function(t,e){t.index=e,[1,2].includes(t.type)&&t.index<=i.progress&&(t.status=i.STATUS_LOADING),t.unit.bidTk&&(t.unit.bidTk.sortPriority=e+1)}))}}},{key:\"scheduler\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=[this.STATUS_WAITING],n=[this.STATUS_CACHING,this.STATUS_SHOWED],r=[this.STATUS_LOADING,this.STATUS_CACHING],a=[this.STATUS_LOADING,this.STATUS_CACHING,this.STATUS_TIMEOUT,this.STATUS_SHOWED],o=[],d=[],s=[],l=[];if(this.statusList.forEach((function(e,c){a.includes(e.status)&&o.push(e.itemId),r.includes(e.status)&&c<=t.progress&&d.push(e.itemId),i.includes(e.status)&&s.push(e.itemId),n.includes(e.status)&&l.push(e.itemId)})),e)return o;if((d.length<this.reqUgNum||this.isFirst)&&l.length<1){var c=this.reqUgNum-d.length,u=s.slice(0,c);this.statusList.forEach((function(e,i){u.includes(e.itemId)&&(e.status=t.STATUS_LOADING,t.progress=i)})),o=o.concat(u),this.isFirst=!1}return o}},{key:\"selecter\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"STATUS_CACHING\",i=Date.now(),n={};return this.statusList.forEach((function(r,a){[t[e]].includes(r.status)&&(0===r.expirationTime||r.expirationTime>i)&&v(n)&&(n=r)})),n}},{key:\"itemIdSeleter\",value:function(){var t=this.selecter();return t&&t.itemId?t.itemId:null}},{key:\"indexSeleter\",value:function(){var t=this.selecter();return t&&t.index?t.index:null}},{key:\"setLoading\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_LOADING,e)}},{key:\"setCaching\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setStatus(t,this.STATUS_CACHING,e,i)}},{key:\"setTimeout\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_TIMEOUT,e)}},{key:\"setFailed\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_FAILED,e)}},{key:\"setShowed\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_SHOWED,e)}},{key:\"getIndex\",value:function(t){var e=0;return this.statusList.forEach((function(i){i.itemId===t&&(e=i.index)})),e}},{key:\"getStatusList\",value:function(){return this.statusList}},{key:\"initStatusList\",value:function(t){var e=this,i=[],n=Date.now();t.forEach((function(t){e.statusList.forEach((function(i){i.itemId===t.itemId&&[e.STATUS_CACHING].includes(i.status)&&(0===i.expirationTime||i.expirationTime>n)&&(t.status=e.STATUS_CACHING,t.context=i.context,t.expirationTime=i.expirationTime)})),i.push(t)})),this.statusList=i}},{key:\"setStatus\",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.expirationTime,o=void 0===a?0:a;this.statusList.forEach((function(r){r.itemId===t&&(r.status=e,e===i.STATUS_CACHING&&(r.expirationTime=o,r.context=n))}))}},{key:\"isExpired\",value:function(){var t=this,e=0,i=Date.now(),n=this.statusList.filter((function(e){return[t.STATUS_LOADING,t.STATUS_TIMEOUT,t.STATUS_CACHING,t.STATUS_SHOWED].includes(e.status)}));return!(n.length<=0)&&(n.forEach((function(n,r){[t.STATUS_LOADING,t.STATUS_TIMEOUT,t.STATUS_SHOWED].includes(n.status)?t.setStatus(n.itemId,t.STATUS_EXPIRED):0===n.expirationTime||n.expirationTime>i?e++:t.setStatus(n.itemId,t.STATUS_EXPIRED)})),e<=0)}},{key:\"isFailed\",value:function(){var t=this;return this.statusList.filter((function(e){return e.status===t.STATUS_FAILED})).length>=this.statusList.length}},{key:\"isExist\",value:function(t){var e=!1;return this.statusList.forEach((function(i){i.itemId===t&&(e=!0)})),e}},{key:\"isLoaded\",value:function(){var t=this,e=this.statusList.filter((function(e){return e.status===t.STATUS_CACHING}));return(null==e?void 0:e.length)>0}}]),t}();function Oa(t){var e,i=(e=\"ecpmSort\",t.reduce((function(t,i){return t[i[e]]=t[i[e]]||[],t[i[e]].push(i),t}),{}));Object.keys(i).forEach((function(e){var n=Da(i[e]);if(!(n.length<=1||Ra(n,\"rank\"))){var r=function(t){var e=[];function i(t){if(t.length)if(1!==t.length)for(var n=t.length,r=function(){var r=A(1,Pa(t,\"rank\")),a=function(t,e){for(var i=[[1,t[0][e]]],n=t.length,r=1;r<n;r++){var a=i[i.length-1][1]+1,o=a+t[r][e]-1;i.push([a,o])}return i}(Da(t),\"rank\"),o=a.findIndex((function(t){return t[0]<=r&&r<=t[1]})),d={index:t.splice(o,1)[0].index,rankSort:n};e.push(d),i(t)},a=0;a<t.length;a++)r();else{var o={index:t[0].index,rankSort:1};e.push(o)}}return i(t),e}(n);r.forEach((function(e){t[e.index].rankSort=e.rankSort}))}}))}var Ra=function(t,e){return t.every((function(i){return i[e]===t[0][e]}))},Pa=function(t,e){return t.reduce((function(t,i){return t+i[e]}),0)};function Ua(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.rawResponse,n=void 0!==i&&i;return new Promise((function(e,i){S().$fetch.fetch({url:t.url,method:t.method,header:{\"Content-Type\":\"application/json;charset=utf-8\"},data:t.data}).then((function(t){if(n)e(t.data);else{var i=t.data,r=_(null==i?void 0:i.data)?JSON.parse(null==i?void 0:i.data):i.data;e(r)}})).catch((function(t){i(t)})).finally((function(){e()}))}))}function $a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.timeout,n=void 0===i?2e4:i;try{return Promise.race([Ua(t,e),new Promise((function(t,e){setTimeout((function(){e(new Error(\"\"))}),n)}))])}catch(t){}}Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))};var Na=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $a({method:\"post\",url:t,data:e},i)},ja=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $a({method:\"get\",url:T(t,e)},i)},Fa=\"http://da.anythinktech.com\",Ba=\"4.2.11\",Wa={API_ERROR:\"1004616\",STRATEGY_REQUEST_TIME:\"1004635\",LOAD_FAILED:\"1004630\",REQUEST_FAILED:\"1004631\",IS_READY:\"1004632\",SHOW_FAILED:\"1004633\",CAN_NOT_GET_DEVICE_INFO:\"1004681\",HOT_START_INTERVAL_TIME:\"1004682\",STAY_TIME:\"1004644\",CALLBACK_ERROR:\"1004683\",CLICK_URL_FAIL:\"1004648\",DEEPLINK_RESULT:\"1004650\",BID_LOSS:\"1004659\",BID_WIN:\"1004667\",BID_MERGE_TO_WF:\"1004668\",ADX_WEBVIEW_ACTION:\"1004675\",ADX_IMP_INVALID:\"1100004\",GET_AD:\"1100001\",VIVO_AD_PRICE:\"1100002\",AD_FEEDBACK:\"1004652\",BANNER_HIDE:\"1100003\"};function qa(t){return Ma.apply(this,arguments)}function Ma(){return(Ma=o(i().mark((function t(n){var r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,O,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L=null!==(r=null===(a=this.$app)||void 0===a?void 0:a.$def)&&void 0!==r?r:this.$def,O=(null==L?void 0:L.topon_sdk)||{},P=O.appKey,U=O.appId,$=O.store,N=O.channelId,j=void 0===N?\"\":N,F=O.subChannelId,B=void 0===F?\"\":F,W=R(),q=S(),V=q.app,Y=q.network,v(null==$||null===(o=$.device)||void 0===o?void 0:o.info)){t.next=8;break}t.t0=null==$||null===(d=$.device)||void 0===d?void 0:d.info,t.next=14;break;case 8:return t.next=10,H.getInfo();case 10:if(t.t1=t.sent,t.t1){t.next=13;break}t.t1={};case 13:t.t0=t.t1;case 14:return z=t.t0,Q=V.getInfo()||{},t.next=18,Y.getType();case 18:if(t.t2=t.sent,t.t2){t.next=21;break}t.t2={};case 21:if(J=t.t2,t.t4=null==$||null===(s=$.device)||void 0===s?void 0:s.ids,t.t4){t.next=27;break}return t.next=26,H.getDeviceIds();case 26:t.t4=t.sent;case 27:if(t.t3=t.t4,t.t3){t.next=30;break}t.t3={};case 30:if(Z=t.t3,t.t6=null==$||null===(l=$.device)||void 0===l?void 0:l.oaid,t.t6){t.next=36;break}return t.next=35,H.getOaId();case 35:t.t6=t.sent;case 36:if(t.t5=t.t6,t.t5){t.next=39;break}t.t5=\"\";case 39:if(tt=t.t5,et=Wa[n.key],it=\"1.0\",t.t7=null==$?void 0:$.upid,t.t7){t.next=47;break}return t.next=46,G();case 46:t.t7=t.sent;case 47:return rt=t.t7,t.next=50,K();case 50:return at=t.sent,ot=null!==(c=null==Q?void 0:Q.packageName)&&void 0!==c?c:\"\",dt=null!==(u=\"\"+(null==Q?void 0:Q.versionCode))&&void 0!==u?u:\"\",st=null!==(h=\"\"+(null==Q?void 0:Q.versionName))&&void 0!==h?h:\"\",lt=\"\".concat(null==z?void 0:z.screenWidth,\"*\").concat(null==z?void 0:z.screenHeight),ct=nt[null==J||null===(p=J.data)||void 0===p?void 0:p.type]||\"-1\",t.next=58,M.getItem(\"firstInitTime\");case 58:if(t.t8=t.sent,t.t8){t.next=61;break}t.t8=0;case 61:return ut=t.t8,t.next=64,M.getItem(\"currentInitTime\");case 64:if(t.t9=t.sent,t.t9){t.next=67;break}t.t9=0;case 67:return ht=t.t9,pt=Math.ceil((ht-ut+1)/864e5),ft=\"TOPON_AD_CACHE_APP_\"+U,t.next=72,M.getItem(ft,!1);case 72:if(t.t10=t.sent,t.t10){t.next=75;break}t.t10={};case 75:if(vt=t.t10,mt=e(e({},n),{},{key:et,psid:at,timestamp:String(Date.now())}),_t=\"\",!n.unitid){t.next=83;break}return t.next=81,X(n.unitid);case 81:_t=t.sent,mt.sessionid=_t;case 83:return gt=[mt],yt={app_id:U,system:1,platform:1,os_vn:null!==(f=\"\"+(null==z?void 0:z.osVersionName))&&void 0!==f?f:\"\",os_vc:null!==(m=\"\"+(null==z?void 0:z.osVersionCode))&&void 0!==m?m:\"\",package_name:ot,app_vn:st,app_vc:dt,brand:null!==(_=null==z?void 0:z.brand)&&void 0!==_?_:\"\",model:null!==(g=null==z?void 0:z.model)&&void 0!==g?g:\"\",pf_vn:null!==(y=null==z?void 0:z.platformVersionName)&&void 0!==y?y:\"\",pf_vc:null!==(I=\"\"+(null==z?void 0:z.platformVersionCode))&&void 0!==I?I:\"\",screen:lt,network_type:ct,mcc:\"1\",mnc:\"1\",language:null!==(b=null==z?void 0:z.language)&&void 0!==b?b:\"\",timezone:\"\",sdk_ver:\"UA_\".concat(Ba),nw_ver:\"\",gp_ver:\"\",ua:W||\"\",upid:rt,channel:j||\"\",sub_channel:B||\"\",orient:1,os_fw:8,data:gt,first_init_time:1*ut,days_from_first_init:1*pt,abtest_id:null!==(k=null==vt||null===(w=vt.data)||void 0===w?void 0:w.abtest_id)&&void 0!==k?k:\"\"},It={android_id:null!==(x=null==Z?void 0:Z.user)&&void 0!==x?x:\"\",mac:null!==(T=null==Z?void 0:Z.mac)&&void 0!==T?T:\"\",imei:\"\",oaid:tt,gaid:null!==(A=null==Z?void 0:Z.advertising)&&void 0!==A?A:\"\",is_cn_sdk:\"1\"},bt=C(D(yt)),kt=C(D(It)),wt=E(P,[{key:\"api_ver\",value:it},{key:\"p\",value:bt},{key:\"p2\",value:kt}]),t.abrupt(\"return\",{p:bt,p2:kt,api_ver:it,sign:wt});case 91:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Va(t){return Ha.apply(this,arguments)}function Ha(){return(Ha=o(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qa.call(this,e);case 3:return n=t.sent,t.abrupt(\"return\",Na(\"\".concat(Fa,\"/v2/da\"),n));case 7:t.prev=7,t.t0=t.catch(0);case 9:case\"end\":return t.stop()}}),t,this,[[0,7]])})))).apply(this,arguments)}function Ga(t){return Ya.apply(this,arguments)}function Ya(){return(Ya=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,E,C,D,L,O,P,U,$,N,j,F,B,W,q,M,V,Y,z,X,Q,J,Z,tt,et,it,rt,at,ot,dt,st;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,T=(null==x?void 0:x.topon_sdk)||{},A=T.appId,E=T.store,C=T.channelId,D=void 0===C?\"\":C,L=T.subChannelId,O=void 0===L?\"\":L,P=e.key,U=e.msg,$=e.msg1,N=e.msg2,j=e.msg3,F=R(),B=S(),W=B.app,q=B.network,v(null==E||null===(a=E.device)||void 0===a?void 0:a.info)){t.next=9;break}t.t0=null==E||null===(o=E.device)||void 0===o?void 0:o.info,t.next=15;break;case 9:return t.next=11,H.getInfo();case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1={};case 14:t.t0=t.t1;case 15:return M=t.t0,V=W.getInfo()||{},t.next=19,q.getType();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:if(Y=t.t2,t.t4=null==E||null===(d=E.device)||void 0===d?void 0:d.ids,t.t4){t.next=28;break}return t.next=27,H.getDeviceIds();case 27:t.t4=t.sent;case 28:if(t.t3=t.t4,t.t3){t.next=31;break}t.t3={};case 31:if(z=t.t3,t.t6=null==E||null===(s=E.device)||void 0===s?void 0:s.oaid,t.t6){t.next=37;break}return t.next=36,H.getOaId();case 36:t.t6=t.sent;case 37:if(t.t5=t.t6,t.t5){t.next=40;break}t.t5=\"\";case 40:if(X=t.t5,Q=Wa[P],t.t7=null==E?void 0:E.upid,t.t7){t.next=47;break}return t.next=46,G();case 46:t.t7=t.sent;case 47:return J=t.t7,t.next=50,K();case 50:return Z=t.sent,tt=null!==(l=null==V?void 0:V.packageName)&&void 0!==l?l:\"\",et=null!==(c=\"\"+(null==V?void 0:V.versionCode))&&void 0!==c?c:\"\",it=null!==(u=\"\"+(null==V?void 0:V.versionName))&&void 0!==u?u:\"\",rt=\"\".concat(null==M?void 0:M.screenWidth,\"*\").concat(null==M?void 0:M.screenHeight),at=nt[null==Y||null===(h=Y.data)||void 0===h?void 0:h.type]||\"-1\",ot={key:Q,psid:Z,timestamp:String(Date.now()),upid:J,sdk_time:Date.now(),msg:U,msg1:$,msg2:N,msg3:j},dt={app_id:A,system:1,platform:1,os_vn:null!==(p=\"\"+(null==M?void 0:M.osVersionName))&&void 0!==p?p:\"\",os_vc:null!==(f=\"\"+(null==M?void 0:M.osVersionCode))&&void 0!==f?f:\"\",package_name:tt,app_vn:it,app_vc:et,brand:null!==(m=null==M?void 0:M.brand)&&void 0!==m?m:\"\",model:null!==(_=null==M?void 0:M.model)&&void 0!==_?_:\"\",pf_vn:null!==(g=null==M?void 0:M.platformVersionName)&&void 0!==g?g:\"\",pf_vc:null!==(y=\"\"+(null==M?void 0:M.platformVersionCode))&&void 0!==y?y:\"\",screen:rt,network_type:at,mcc:\"1\",mnc:\"1\",language:null!==(I=null==M?void 0:M.language)&&void 0!==I?I:\"\",timezone:\"\",sdk_ver:\"UA_\".concat(Ba),nw_ver:\"\",gp_ver:\"\",ua:F||\"\",upid:J,channel:D||\"\",sub_channel:O||\"\",orient:1,os_fw:8},st={android_id:null!==(b=null==z?void 0:z.user)&&void 0!==b?b:\"\",mac:null!==(k=null==z?void 0:z.mac)&&void 0!==k?k:\"\",imei:\"\",oaid:X,gaid:null!==(w=null==z?void 0:z.advertising)&&void 0!==w?w:\"\",is_cn_sdk:\"1\"},t.abrupt(\"return\",{pParams:dt,p2Params:st,data:ot});case 60:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ka(t,e){var i,n,r=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:this.$def,a=((null==r?void 0:r.topon_sdk)||{}).appKey,o=C(D(t)),d=C(D(e));return{p:o,p2:d,api_ver:\"1.0\",sign:E(a,[{key:\"api_ver\",value:\"1.0\"},{key:\"p\",value:o},{key:\"p2\",value:d}])}}function za(t){try{var i,n=(null==this||null===(i=this.$def)||void 0===i||null===(i=i.topon_sdk)||void 0===i?void 0:i.destroyParams)||{},r=n.pParams,a=n.p2Params,o=function(t,i){var n=Wa[i.key];return e(e(e({},t),i),{},{key:n,timestamp:String(Date.now())})}(n.data,t),d=e(e({},r),{},{data:[o]}),s=Ka.call(this,d,a);return Na(\"\".concat(Fa,\"/v2/da\"),s)}catch(t){}}var Xa=\"4.2.11\",Qa=\"http://api.anythinktech.com\";function Ja(t){return Za.apply(this,arguments)}function Za(){return(Za=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt,xt,St,Tt,At;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,$=(null==U?void 0:U.topon_sdk)||{},N=$.appKey,j=$.appId,F=$.channelId,B=void 0===F?\"\":F,W=$.subChannelId,q=void 0===W?\"\":W,V=$.customParam,Y=void 0===V?{}:V,z=$.placementCustomParam,Q=void 0===z?{}:z,J=$.store,Z=e.placementId,tt=O(Y,Q),et=R(),it=S(),rt=it.app,at=it.network,ot=it.device,v(null==J||null===(a=J.device)||void 0===a?void 0:a.info)){t.next=10;break}t.t0=null==J||null===(o=J.device)||void 0===o?void 0:o.info,t.next=16;break;case 10:return t.next=12,H.getInfo();case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1={};case 15:t.t0=t.t1;case 16:return dt=t.t0,st=rt.getInfo()||{},t.next=20,at.getType();case 20:if(t.t2=t.sent,t.t2){t.next=23;break}t.t2={};case 23:if(lt=t.t2,t.t4=null==J||null===(d=J.device)||void 0===d?void 0:d.ids,t.t4){t.next=29;break}return t.next=28,H.getDeviceIds();case 28:t.t4=t.sent;case 29:if(t.t3=t.t4,t.t3){t.next=32;break}t.t3={};case 32:if(ct=t.t3,t.t6=null==J||null===(s=J.device)||void 0===s?void 0:s.oaid,t.t6){t.next=38;break}return t.next=37,H.getOaId();case 37:t.t6=t.sent;case 38:if(t.t5=t.t6,t.t5){t.next=41;break}t.t5=\"\";case 41:if(ut=t.t5,ht=\"\".concat(null==dt?void 0:dt.screenWidth,\"*\").concat(null==dt?void 0:dt.screenHeight),pt=nt[null==lt||null===(l=lt.data)||void 0===l?void 0:l.type]||\"-1\",ft=\"1.0\",t.t7=null==J?void 0:J.upid,t.t7){t.next=50;break}return t.next=49,G();case 49:t.t7=t.sent;case 50:return vt=t.t7,t.next=53,K();case 53:return mt=t.sent,t.next=56,X(Z);case 56:return _t=t.sent,t.next=59,M.getItem(\"firstInitTime\");case 59:if(t.t8=t.sent,t.t8){t.next=62;break}t.t8=0;case 62:return gt=t.t8,t.next=65,M.getItem(\"currentInitTime\");case 65:if(t.t9=t.sent,t.t9){t.next=68;break}t.t9=0;case 68:return yt=t.t9,It=Math.ceil((yt-gt+1)/864e5),bt=\"TOPON_AD_CACHE_APP_\"+j,t.next=73,M.getItem(bt,!1);case 73:if(t.t10=t.sent,t.t10){t.next=76;break}t.t10={};case 76:return kt=t.t10,wt={system:1,os_fw:8,mcc:\"1\",mnc:\"1\",timezone:\"\",nw_ver:\"\",orient:1,ua:et||\"\",os_vn:null!==(c=null==dt?void 0:dt.osVersionName)&&void 0!==c?c:\"\",os_vc:null!==(u=\"\"+(null==dt?void 0:dt.osVersionCode))&&void 0!==u?u:\"\",package_name:null!==(h=null==st?void 0:st.packageName)&&void 0!==h?h:\"\",app_vn:null!==(p=null==st?void 0:st.versionName)&&void 0!==p?p:\"\",app_vc:null!==(f=\"\"+(null==st?void 0:st.versionCode))&&void 0!==f?f:\"\",brand:null!==(m=null==dt?void 0:dt.brand)&&void 0!==m?m:\"\",model:null!==(_=null==dt?void 0:dt.model)&&void 0!==_?_:\"\",pf_vn:null!==(g=null==dt?void 0:dt.platformVersionName)&&void 0!==g?g:\"\",pf_vc:null!==(y=\"\"+(null==dt?void 0:dt.platformVersionCode))&&void 0!==y?y:\"\",network_type:pt,screen:ht,upid:vt,app_id:j,sdk_ver:\"UA_\".concat(Xa),platform:1,pl_id:Z,channel:B||\"\",sub_channel:q||\"\",custom:tt,ps_id:mt,session_id:_t,first_init_time:1*gt,days_from_first_init:It,deny:String(dt.screenDensity),api_ver:\"1.0\",host_vn:null!==(I=null==ot||null===(b=ot.host)||void 0===b?void 0:b.versionName)&&void 0!==I?I:\"\",host_vc:null!==(k=\"\"+(null==ot||null===(w=ot.host)||void 0===w?void 0:w.versionCode))&&void 0!==k?k:\"\",abtest_id:null!==(x=null==kt||null===(T=kt.data)||void 0===T?void 0:T.abtest_id)&&void 0!==x?x:\"\"},xt={android_id:null!==(A=null==ct?void 0:ct.user)&&void 0!==A?A:\"\",mac:null!==(L=null==ct?void 0:ct.mac)&&void 0!==L?L:\"\",imei:\"\",oaid:ut,gaid:null!==(P=null==ct?void 0:ct.advertising)&&void 0!==P?P:\"\",is_cn_sdk:\"1\"},St=C(D(wt)),Tt=C(D(xt)),At=E(N,[{key:\"api_ver\",value:ft},{key:\"p\",value:St},{key:\"p2\",value:Tt}]),t.abrupt(\"return\",{p:St,p2:Tt,api_ver:ft,sign:At});case 84:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function to(t){return eo.apply(this,arguments)}function eo(){return eo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=e.placementId,t.prev=2,a=Date.now(),t.next=6,Ja.call(this,e);case 6:return o=t.sent,t.next=9,Na(\"\".concat(Qa,\"/v2/open/placement\"),o,{rawResponse:!0});case 9:return d=t.sent,s=_(null==d?void 0:d.data)?JSON.parse(null==d?void 0:d.data):(null==d?void 0:d.data)||{},l=Date.now(),c={key:\"STRATEGY_REQUEST_TIME\",msg:\"placement\",unitid:r,msg1:String(a),msg2:String(l),msg3:String(l-a),msg4:null!=n&&n.isPreload?\"1\":\"\"},Va.call(this,c),s.code>0&&(u={key:\"API_ERROR\",msg:\"placement\",unitid:r,msg1:String(s.code),msg2:s.msg,msg3:Qa.replace(/^https?:\\/\\//,\"\")},Va.call(this,u)),t.abrupt(\"return\",d);case 18:return t.prev=18,t.t0=t.catch(2),h={key:\"API_ERROR\",msg:\"placement\",msg1:\"unknow\",msg2:\"request error\",unitid:r,msg3:Qa.replace(/^https?:\\/\\//,\"\")},Va.call(this,h),t.abrupt(\"return\",{});case 23:case\"end\":return t.stop()}}),t,this,[[2,18]])}))),eo.apply(this,arguments)}var io=\"http://tk.anythinktech.com\",no=\"4.2.11\",ro={AD_LOAD:10,AD_LOAD_FILLED:12,AD_REQUEST:1,AD_REQUEST_FILLED:2,AD_BIDDING:11,AD_SHOW:13,AD_CLICK:6,AD_IMPRESSION:4,APP_STARTUP:21};function ao(t){return oo.apply(this,arguments)}function oo(){return(oo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt,xt,St,Tt,At,Et,Ct,Dt,Lt,Ot,Rt,Pt,Ut,$t,Nt,jt,Ft,Bt,Wt,qt,Mt,Vt,Ht,Gt,Yt,Kt,zt,Xt,Qt,Jt,Zt,te,ee,ie,ne,re,ae,oe,de,se,le,ce;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,N=(null==$?void 0:$.topon_sdk)||{},j=N.appKey,F=N.appId,B=N.channelId,W=void 0===B?\"\":B,q=N.subChannelId,V=void 0===q?\"\":q,Y=N.customParam,z=void 0===Y?{}:Y,Q=N.placementCustomParam,J=void 0===Q?{}:Q,Z=N.store,tt=e.placementId,et=e.requestId,it=e.logType,rt=e.trafficGroupId,at=e.segmentId,ot=e.adSourceId,dt=e.nwFirmId,st=e.asId,lt=e.format,ct=e.ecpm,ut=e.sPty,ht=e.placementLoadTime,pt=e.unitFilledTime,ft=e.reqUgNum,vt=e.pC,mt=e.bidTk,_t=void 0===mt?{}:mt,gt=e.wfType,yt=e.psIdVirtual,It=void 0===yt?\"\":yt,bt=O(z,J),kt=S(),wt=kt.app,xt=kt.network,St=kt.device,Tt=R(),v(null==Z||null===(a=Z.device)||void 0===a?void 0:a.info)){t.next=10;break}t.t0=null==Z||null===(o=Z.device)||void 0===o?void 0:o.info,t.next=16;break;case 10:return t.next=12,H.getInfo();case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1={};case 15:t.t0=t.t1;case 16:return At=t.t0,Et=wt.getInfo()||{},t.next=20,xt.getType();case 20:if(t.t2=t.sent,t.t2){t.next=23;break}t.t2={};case 23:if(Ct=t.t2,t.t4=null==Z||null===(d=Z.device)||void 0===d?void 0:d.ids,t.t4){t.next=29;break}return t.next=28,H.getDeviceIds();case 28:t.t4=t.sent;case 29:if(t.t3=t.t4,t.t3){t.next=32;break}t.t3={};case 32:if(Dt=t.t3,t.t6=null==Z||null===(s=Z.device)||void 0===s?void 0:s.oaid,t.t6){t.next=38;break}return t.next=37,H.getOaId();case 37:t.t6=t.sent;case 38:if(t.t5=t.t6,t.t5){t.next=41;break}t.t5=\"\";case 41:if(Lt=t.t5,Ot=\"1.0\",t.t7=null==Z?void 0:Z.upid,t.t7){t.next=48;break}return t.next=47,G();case 47:t.t7=t.sent;case 48:return Rt=t.t7,t.next=51,K();case 51:return Pt=t.sent,It&&(Pt=Pt+\"/\"+It),t.next=55,X(tt);case 55:return Ut=t.sent,t.next=58,M.getItem(\"firstInitTime\");case 58:if(t.t8=t.sent,t.t8){t.next=61;break}t.t8=0;case 61:return $t=t.t8,t.next=64,M.getItem(\"currentInitTime\");case 64:if(t.t9=t.sent,t.t9){t.next=67;break}t.t9=0;case 67:return Nt=t.t9,jt=Math.ceil((Nt-$t+1)/864e5),Ft=\"\".concat(null==At?void 0:At.screenWidth,\"*\").concat(null==At?void 0:At.screenHeight),Bt=nt[null==Ct||null===(l=Ct.data)||void 0===l?void 0:l.type]||\"-1\",Wt=\"TOPON_AD_CACHE_APP_\"+F,t.next=74,M.getItem(Wt,!1);case 74:if(t.t10=t.sent,t.t10){t.next=77;break}t.t10={};case 77:return qt=t.t10,Mt={app_id:F,system:1,platform:1,os_vn:null!==(c=null==At?void 0:At.osVersionName)&&void 0!==c?c:\"\",os_vc:null!==(u=\"\"+(null==At?void 0:At.osVersionCode))&&void 0!==u?u:\"\",package_name:null!==(h=null==Et?void 0:Et.packageName)&&void 0!==h?h:\"\",app_vn:null!==(p=null==Et?void 0:Et.versionName)&&void 0!==p?p:\"\",app_vc:null!==(f=\"\"+(null==Et?void 0:Et.versionCode))&&void 0!==f?f:\"\",brand:null!==(m=null==At?void 0:At.brand)&&void 0!==m?m:\"\",model:null!==(_=null==At?void 0:At.model)&&void 0!==_?_:\"\",pf_vn:null!==(g=null==At?void 0:At.platformVersionName)&&void 0!==g?g:\"\",pf_vc:null!==(y=\"\"+(null==At?void 0:At.platformVersionCode))&&void 0!==y?y:\"\",screen:Ft,network_type:Bt,mcc:\"1\",mnc:\"1\",language:null!==(I=null==At?void 0:At.language)&&void 0!==I?I:\"\",timezone:\"\",sdk_ver:\"UA_\".concat(no),gp_ver:\"\",ua:Tt||\"\",orient:1,upid:Rt,channel:W,sub_channel:V,android_id:null!==(b=null==Dt?void 0:Dt.user)&&void 0!==b?b:\"\",oaid:Lt,mac:null!==(k=null==Dt?void 0:Dt.mac)&&void 0!==k?k:\"\",imei:\"\",is_cn_sdk:\"1\",gaid:null!==(w=null==Dt?void 0:Dt.advertising)&&void 0!==w?w:\"\",idfa:\"\",idfv:\"\",custom:bt,os_fw:8,first_init_time:1*$t,days_from_first_init:jt,host_vn:null!==(x=null==St||null===(T=St.host)||void 0===T?void 0:T.versionName)&&void 0!==x?x:\"\",host_vc:null!==(A=\"\"+(null==St||null===(L=St.host)||void 0===L?void 0:L.versionCode))&&void 0!==A?A:\"\",abtest_id:null!==(P=null==qt||null===(U=qt.data)||void 0===U?void 0:U.abtest_id)&&void 0!==P?P:\"\"},Vt=(new Date).getTime(),1===(Ht={traffic_group_id:rt,sdk_time:Vt,req_id:et,req_par:1,req_par_num:ft,pl_id:tt,type:ro[it],unit_id:ot,nw_firm_id:dt,gro_id:at,format:lt,ps_id:Pt,sessionid:Ut,asid:st,bidtype:[\"1\",\"2\"].includes(gt)?1:0,bidprice:ct,s_pty:ut,p_c:vt,cl_imp:0,isload:\"\"}).bidtype&&(Gt=_t.bidId,Yt=void 0===Gt?\"\":Gt,Kt=_t.tpBidId,zt=void 0===Kt?\"\":Kt,Xt=_t.bidRequestTime,Qt=_t.bidResponseTime,Jt=_t.bidFilledTime,Zt=_t.bidResult,te=_t.errorMsg,ee=void 0===te?\"\":te,ie=_t.rlBidStatus,ne=_t.sortType,re=_t.sortPriority,ae={bid_id:Yt,tp_bid_id:zt},oe={},\"AD_BIDDING\"===it&&(oe={bidrequesttime:Xt,bidresponsetime:Qt,bid_filledtime:Jt,bidresponselist:[{sortpriority:re,sorttype:ne,unit_id:ot,bidresult:Zt,bidprice:ct,errormsg:ee,tp_bid_id:zt,nw_firm_id:dt,rl_bid_status:ie,s_pty:ut}]}),Ht=Object.assign({},Ht,ae,oe)),\"AD_LOAD_FILLED\"===it&&(Ht.loadtime=ht),\"AD_REQUEST_FILLED\"===it&&(Ht.filledtime=pt),de=[Ht],se=C(D(Mt)),le=C(D(de)),ce=E(j,[{key:\"api_ver\",value:Ot},{key:\"common\",value:se},{key:\"data\",value:le}]),t.abrupt(\"return\",{common:se,data:le,api_ver:Ot,sign:ce});case 90:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function so(t){return lo.apply(this,arguments)}function lo(){return(lo=o(i().mark((function t(n){var r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ao.call(this,n);case 3:return r=t.sent,t.next=6,Na(\"\".concat(io,\"/v2/tk\"),r);case 6:(a=t.sent).code>0&&(o=e(e({},n),{},{key:\"API_ERROR\",msg:\"tk_2\",msg1:String(a.code),msg2:a.msg,msg3:io.replace(/^https?:\\/\\//,\"\")}),Va.call(this,o)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),d=e(e({},n),{},{key:\"API_ERROR\",msg:\"tk_2\",msg1:\"unknow\",msg2:\"request error\",msg3:io.replace(/^https?:\\/\\//,\"\")}),Va.call(this,d);case 14:case\"end\":return t.stop()}}),t,this,[[0,10]])})))).apply(this,arguments)}var co=\"4.2.11\",uo=\"http://adx-cn.anythinktech.com\",ho={BROWSER:2,WEBVIEW:3},po=[\"{__VIDEO_TIME__}\",\"{__BEGIN_TIME__}\",\"{__END_TIME__}\",\"{__PLAY_FIRST_FRAME__}\",\"{__PLAY_LAST_FRAME__}\",\"{__SCENE__}\",\"{__TYPE__}\",\"{__BEHAVIOR__}\",\"{__STATUS__}\",\"{__REQ_WIDTH__}\",\"{__REQ_HEIGHT__}\",\"{__WIDTH__}\",\"{__HEIGHT__}\",\"{__DOWN_X__}\",\"{__DOWN_Y__}\",\"{__UP_X__}\",\"{__UP_Y__}\",\"{__CLICK_ID__}\",\"{__RE_DOWN_X__}\",\"{__RE_DOWN_Y__}\",\"{__RE_UP_X__}\",\"{__RE_UP_Y__}\",\"{__TS__}\",\"{__TS_MSEC__}\",\"{__END_TS__}\",\"{__END_TS_MSEC__}\",\"{__PLAY_SEC__}\",\"{__PLAY_SEC__}\",\"{__PLAY_MSEC__}\",\"{__DPLINK_TYPE__}\",\"{ABSOLUTE_COORD}\",\"{RELATIVE_COORD}\"];function fo(t){return vo.apply(this,arguments)}function vo(){return(vo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,E,L,O,P,U,$,N,j,F,B,W,q,M,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,T=(null==x?void 0:x.topon_sdk)||{},A=T.appId,E=T.channelId,L=void 0===E?\"\":E,O=T.subChannelId,P=void 0===O?\"\":O,U=T.store,$=T.isTest,N=void 0!==$&&$,j=e.placementId,F=e.unitId,B=e.requestId,W=e.adxExt,q=void 0===W?\"\":W,M=e.adWidth,V=void 0===M?0:M,Y=e.adHeight,z=void 0===Y?0:Y,Q=e.format,J=void 0===Q?\"0\":Q,Z=R(),tt=S(),et=tt.app,it=tt.network,v(null==U||null===(a=U.device)||void 0===a?void 0:a.info)){t.next=9;break}t.t0=null==U||null===(o=U.device)||void 0===o?void 0:o.info,t.next=15;break;case 9:return t.next=11,H.getInfo();case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1={};case 14:t.t0=t.t1;case 15:return rt=t.t0,at=et.getInfo()||{},t.next=19,it.getType();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:if(ot=t.t2,t.t4=null==U||null===(d=U.device)||void 0===d?void 0:d.ids,t.t4){t.next=28;break}return t.next=27,H.getDeviceIds();case 27:t.t4=t.sent;case 28:if(t.t3=t.t4,t.t3){t.next=31;break}t.t3={};case 31:if(dt=t.t3,t.t6=null==U||null===(s=U.device)||void 0===s?void 0:s.oaid,t.t6){t.next=37;break}return t.next=36,H.getOaId();case 36:t.t6=t.sent;case 37:if(t.t5=t.t6,t.t5){t.next=40;break}t.t5=\"\";case 40:if(st=t.t5,lt=\"\".concat(null==rt?void 0:rt.screenWidth,\"*\").concat(null==rt?void 0:rt.screenHeight),ct=nt[null==ot||null===(l=ot.data)||void 0===l?void 0:l.type]||\"-1\",t.t7=null==U?void 0:U.upid,t.t7){t.next=48;break}return t.next=47,G();case 47:t.t7=t.sent;case 48:return ut=t.t7,t.next=51,K();case 51:return ht=t.sent,t.next=54,X(j);case 54:return pt=t.sent,ft={system:1,platform:1,brand:null!==(c=null==rt?void 0:rt.brand)&&void 0!==c?c:\"\",model:null!==(u=null==rt?void 0:rt.model)&&void 0!==u?u:\"\",os_vn:null!==(h=null==rt?void 0:rt.osVersionName)&&void 0!==h?h:\"\",os_vc:null!==(p=\"\"+(null==rt?void 0:rt.osVersionCode))&&void 0!==p?p:\"\",os_fw:8,pf_vn:null!==(f=null==rt?void 0:rt.platformVersionName)&&void 0!==f?f:\"\",pf_vc:null!==(m=\"\"+(null==rt?void 0:rt.platformVersionCode))&&void 0!==m?m:\"\",sdk_ver:\"UA_\".concat(co),app_id:A,app_vn:null!==(_=null==at?void 0:at.versionName)&&void 0!==_?_:\"\",app_vc:null!==(g=\"\"+(null==at?void 0:at.versionCode))&&void 0!==g?g:\"\",package_name:null!==(y=null==at?void 0:at.packageName)&&void 0!==y?y:\"\",pl_id:j,mcc:\"1\",mnc:\"1\",language:null!==(I=null==rt?void 0:rt.language)&&void 0!==I?I:\"\",timezone:\"\",nw_ver:\"\",orient:1,ua:Z||\"\",network_type:ct,screen:lt,upid:ut,channel:L||\"\",sub_channel:P||\"\",ps_id:ht,session_id:pt,deny:String(rt.screenDensity)},vt={android_id:null!==(b=null==dt?void 0:dt.user)&&void 0!==b?b:\"\",mac:null!==(k=null==dt?void 0:dt.mac)&&void 0!==k?k:\"\",imei:\"\",oaid:st,gaid:null!==(w=null==dt?void 0:dt.advertising)&&void 0!==w?w:\"\",is_cn_sdk:\"1\"},mt=[{ad_width:V,ad_height:z,nw_firm_id:66,unit_id:String(F),ad_source_id:String(F),get_offer:2,ad_format:J}],N&&(mt[0].test=1),_t=C(D(ft)),gt=C(D(vt)),yt=C(D(mt)),t.abrupt(\"return\",{p:_t,p2:gt,request_id:B,adx_ext:q,hb_list:yt});case 63:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function mo(t,e){return _o.apply(this,arguments)}function _o(){return(_o=o(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fo.call(this,e);case 3:return r=t.sent,t.abrupt(\"return\",Na(\"\".concat(uo,\"/bid\"),r,{timeout:n}));case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.abrupt(\"return\",{code:1,msg:\"API\"});case 10:case\"end\":return t.stop()}}),t,this,[[0,7]])})))).apply(this,arguments)}function go(t,e,i,n){return yo.apply(this,arguments)}function yo(){return(yo=o(i().mark((function t(n,r,a,o){var d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D,L,O,R,P,U,$,N,j,F,B,W,q,M,V;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.placementId,u=n.exchR,h=a.hbBidTimeout,p=a.requestId,f=a.segmentId,m=a.trafficGroupId,_=a.asId,g=Date.now(),t.next=5,mo.call(this,n,h);case 5:if(y=t.sent,I=Date.now(),b=null!==(d=null==y?void 0:y.data)&&void 0!==d?d:[],k=b[0]||{},w=this.placementLoadStart,x=this.placementLoadEnd,S=this.format,T=this.reqUgNum,A=this.apiData,E=A.t_g_id,C=A.gro_id,D=A.asid,L=A.p_c,O=void 0===L?{}:L,R=x-w,P=o.getStatusList(),U=P.length,1,$=P.findIndex((function(t){return t.ecpmSort<k.s_pty})),N={bidRequestTime:g,bidResponseTime:I,bidFilledTime:I-g,bidResult:0,rlBidStatus:0,sortType:-1,sortPriority:$>-1?$+1:U+1},j={placementId:c,requestId:p,logType:\"AD_BIDDING\",trafficGroupId:E,segmentId:C,asId:D,adSourceId:r.unit_id||0,nwFirmId:r.nw_firm_id||0,ecpm:k.price,sPty:k.s_pty||0,format:S,placementLoadTime:R,unitFilledTime:I-g,reqUgNum:T,pC:O,wfType:\"1\"},F=e(e({},j),{},{bidTk:N}),r.bidTk={bidFilledTime:I-g},!(y.code>0||(null==y||null===(s=y.data)||void 0===s?void 0:s.length)<=0)){t.next=25;break}return F.bidTk.errorMsg=\"bid error, code = \".concat(y.code,\", msg = \").concat(y.msg),so.call(this,F),t.abrupt(\"return\",r);case 25:if(!(1!==k.is_success||k.err_code>0)){t.next=29;break}return F.bidTk.errorMsg=\"bid error, code = \".concat(k.err_code,\", msg = \").concat(k.err_msg),so.call(this,F),t.abrupt(\"return\",r);case 29:if(!(v(k)||v(k.offer_data)||k.offer_data.seatbid&&k.offer_data.seatbid.length<=0)){t.next=32;break}return so.call(this,F),t.abrupt(\"return\",r);case 32:if(B=k.offer_data.seatbid[0],r.bidTk.bidId=k.bid_id,r.bidTk.tpBidId=k.tp_bid_id,F.bidTk.bidId=k.bid_id,F.bidTk.tpBidId=k.tp_bid_id,B.tk.lurl||(B.tk.lurl=[]),B.tk.nurl||(B.tk.nurl=[]),B.tk.burl||(B.tk.burl=[]),k.lurl&&B.tk.lurl.push(k.lurl),k.nurl&&B.tk.nurl.push(k.nurl),k.burl&&B.tk.burl.push(k.burl),Object.values(ho).includes((null==B?void 0:B.link_type)||0)){t.next=46;break}return so.call(this,F),t.abrupt(\"return\",r);case 46:if(F.bidTk.bidResult=1,F.bidTk.rlBidStatus=2,W=Io.call(this,c),q=null!==(l=null==W?void 0:W._expirationTime)&&void 0!==l?l:0,!v(W)&&W.price>k.price&&q>Date.now()&&(F.bidTk.bidResult=0,F.bidTk.rlBidStatus=1,ko.call(this,B.tk.lurl),M={key:\"BID_LOSS\",unitid:c,requestid:p,groupid:f,traffic_group_id:m,asid:_,msg:\"66\",msg1:\"\"+k.unit_id,msg2:\"\"+k.price,msg3:\"\"},k=W,Va.call(this,M)),F.bidTk.bidResult&&(F.bidTk.sortType=0),so.call(this,F),!(o.selecter().ecpm>k.price)){t.next=59;break}return ko.call(this,B.tk.lurl),V={key:\"BID_LOSS\",unitid:c,requestid:p,groupid:f,traffic_group_id:m,asid:_,msg:\"66\",msg1:\"\"+k.unit_id,msg2:\"\"+k.price,msg3:\"\"},Va.call(this,V),t.abrupt(\"return\",Promise.reject(\"ADX BID_LOSS\"));case 59:return r.ecpm=k.price,r.cy_ecpm=k.price*u,r.s_pty=k.s_pty,r.nw_cache_time=k.expire,k.bidTk=r.bidTk,k._expirationTime=Date.now()+k.expire,bo.call(this,c,k),t.abrupt(\"return\",r);case 67:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Io(t){var e,i,n,r,a,o=null!==(e=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:null==this?void 0:this.$def)&&void 0!==e?e:null;return o&&null!=o&&o.topon_sdk&&null!==(r=null===(a=o.topon_sdk)||void 0===a||null===(a=a.cache)||void 0===a||null===(a=a.adxOffer)||void 0===a?void 0:a[t])&&void 0!==r?r:{}}function bo(t,e){var i,n,r,a=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:null==this?void 0:this.$def)&&void 0!==i?i:null;a&&null!=a&&a.topon_sdk&&(a.topon_sdk.cache.adxOffer||(a.topon_sdk.cache.adxOffer=Object.create(null)),a.topon_sdk.cache.adxOffer[t]=e)}function ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new RegExp(po.join(\"|\"),\"gi\"),n=[];return t.forEach((function(t){var r=t.replace(i,(function(t){return e[t]}));n.push(ja(\"\".concat(r),{}))})),Promise.all(n)}function wo(t,e){var i=e.getStatusList()||[],n=i.length,r=i.findIndex((function(e){return e.ecpmSort<t.s_pty}));return r>-1?r+1:n+1}function xo(t,i,n,r,a,o){var d=o.placementId,s=o.format,l=this.placementLoadStart,c=this.placementLoadEnd,u=this.reqUgNum,h=this.apiData,p=h.t_g_id,f=h.gro_id,v=h.asid,m=h.p_c,_=void 0===m?{}:m,g=c-l,y={bidRequestTime:n,bidResponseTime:i,bidFilledTime:i-n,bidResult:0,rlBidStatus:0,sortType:-1,sortPriority:r};return e(e({},{placementId:d,requestId:a.requestId,logType:\"AD_BIDDING\",trafficGroupId:p,segmentId:f,asId:v,adSourceId:t.unit_id||0,nwFirmId:t.nw_firm_id||0,ecpm:t.price,sPty:t.s_pty||0,format:s,placementLoadTime:g,unitFilledTime:i-n,reqUgNum:u,pC:_,wfType:\"2\"}),{},{bidTk:y})}function So(t,e,i,n,r){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,d=n.placementId,s=n.exchRateC2u,l=n.accountCurrency,c=e.unit_id,u=d+\"/\"+c,h=j.call(this,\"unit\",u),p=null!==(a=null==h?void 0:h._expirationTime)&&void 0!==a?a:0;if(!v(h)&&h.offer.ecpm>t.ecpm&&p>Date.now()){var f;i.bidTk.bidResult=0,i.bidTk.rlBidStatus=1,o=null!==(f=null==h?void 0:h.ad)&&void 0!==f?f:null;var m=t.adId?{adid:t.adId}:{};Ao.call(this,{condition:n,strategy:r,unit:e,notifyOptions:m,notifyInstance:o});var _=(t=h.offer).ecpm/100;e.ecpm=_*s,e.price=_*s,e.cy_ecpm=\"USD\"===l?_*s:_,e.s_pty=_*s}return{offer:t,adInstance:o}}function To(t,e,i,n,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=r.selecter();if(o&&o.ecpm>e.ecpm){var d=t.adId?{adid:t.adId}:{};return Ao.call(this,{condition:i,strategy:n,unit:e,notifyOptions:d,notifyInstance:a}),o.unit}return null}function Ao(t){var i=t.condition,n=t.strategy,r=t.unit,a=t.daOptions,o=void 0===a?{}:a,d=t.notifyOptions,s=void 0===d?{}:d,l=t.notifyInstance,c=void 0===l?null:l,u=i.placementId,h=n.requestId,p=n.segmentId,f=n.trafficGroupId,v=n.asId;55===r.nw_firm_id&&Eo.call(this,s,c);var m=e({key:\"BID_LOSS\",unitid:u,requestid:h,groupid:p,traffic_group_id:f,asid:v,msg:r.nw_firm_id,msg1:\"\"+r.unit_id,msg2:\"\"+r.ecpm,msg3:\"\"},o);Va.call(this,m)}function Eo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=S(),r=n.ad,a=i||r,o=e({winPrice:0,code:1,channel:\"mob\"},t);a.notifyRankLoss(o)}function Co(t){var i=S().ad;return new Promise((function(n,r){i.preloadAd(e(e({},t),{},{success:function(t){n(t)},fail:function(t,e){n(t)}}))}))}function Do(t){var e=S().ad,i=null;try{i=e.createRewardedVideoAd(t)}catch(t){}return i}function Lo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((null==t?void 0:t.length)<=1)return t;var e=JSON.parse(JSON.stringify(t));return e.sort((function(t,e){return e.price-t.price})),e}function Oo(t,e,i,n){return Ro.apply(this,arguments)}function Ro(){return(Ro=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.unit_id,u=e.content,h=JSON.parse(u),p=h.unit_id,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+\"/\"+c,g={},y={adUnitId:p,ecpm:!0,type:\"native\",adCount:1},I=Date.now(),t.next=10,Co.call(this,y);case 10:if(b=t.sent,k=Date.now(),g=null!==(o=null==b||null===(d=b.adList)||void 0===d?void 0:d[0])&&void 0!==o?o:{},w=null!==(s=null===(l=g)||void 0===l?void 0:l.ecpm)&&void 0!==s?s:0,x=w/100,e.ecpm=x*v,e.price=x*v,e.cy_ecpm=\"USD\"===m?x*v:x,e.s_pty=x*v,e.bidTk={bidFilledTime:k-I},S=wo.call(this,e,a),(T=xo.call(this,e,k,I,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,g,e,T,n,r),E=A.offer,g=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),g.ecpm||(T.bidTk.sortType=-12,T.bidTk.errorMsg=\"0 bid price\"),so.call(this,T),g.ecpm){t.next=34;break}return C={msg2:\"0\"},D={adid:g.adId},Ao.call(this,{condition:n,strategy:r,unit:e,notifyOptions:D,daOptions:C}),t.abrupt(\"return\",Promise.reject(\"offer.ecpm: \".concat(g.ecpm,\"bidreject\")));case 34:if(!To.call(this,g,e,n,r,a)){t.next=37;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 37:return N.call(this,\"unit\",_,{ad:null,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 39:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Po(t,e,i,n){var r=this,a=t.unit_id,o=t.content,d=JSON.parse(o).unit_id,s=e.placementId,l=e.exchRateC2u,c=e.accountCurrency,u=s+\"/\"+a,h={ecpm:0},p={adUnitId:d},f=Date.now(),v=Do.call(this,p);return v?(v.load(),new Promise((function(a,o){v.onLoad((function(){var d,s;h=v.getECPM();var p=Date.now(),m=(null!==(d=null===(s=h)||void 0===s?void 0:s.ecpm)&&void 0!==d?d:0)/100;t.ecpm=m*l,t.price=m*l,t.cy_ecpm=\"USD\"===c?m*l:m,t.s_pty=m*l,t.bidTk={bidFilledTime:p-f};var _=wo.call(r,t,n),g=xo.call(r,t,p,f,_,i,e);g.bidTk.bidResult=1,g.bidTk.rlBidStatus=2;var y=So.call(r,h,t,g,e,i,v),I=y.offer,b=y.adInstance;if(h=I,v=b,g.bidTk.bidResult&&(g.bidTk.sortType=0),h.ecpm||(g.bidTk.sortType=-12,g.bidTk.errorMsg=\"0 bid price\"),so.call(r,g),!h.ecpm){return Ao.call(r,{condition:e,strategy:i,unit:t,daOptions:{msg2:\"0\"},notifyInstance:v}),Promise.reject(\"offer.ecpm: \".concat(h.ecpm,\"bidreject\"))}var k=To.call(r,h,t,e,i,n,v);k&&o(k),N.call(r,\"unit\",u,{ad:v,offer:h,_expirationTime:Date.now()+t.nw_cache_time}),a(t)})),v.onError((function(n){var a=Date.now(),d=xo.call(r,t,a,f,-1,i,e);d.bidTk.bidResult=0,d.bidTk.rlBidStatus=0,d.bidTk.sortType=-12,d.bidTk.errorMsg=\"\".concat(JSON.stringify(n)),so.call(r,d),o({msg:\" c2s : \".concat(JSON.stringify(n))})}))}))):t}function Uo(t,e,i,n){return $o.apply(this,arguments)}function $o(){return($o=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.topon_sdk)||void 0===o?void 0:o.channelId,c=e.unit_id,u=e.content,h=e.nw_req_num,p=JSON.parse(u),f=p.unit_id,v=n.placementId,m=n.exchRateC2u,_=n.accountCurrency,g=v+\"/\"+c,y={},I={adUnitId:f,type:\"native\",adCount:h&&h<=3?h:1},l&&(I.channel=l),b=Date.now(),t.next=12,Co.call(this,I);case 12:if(k=t.sent,w=Date.now(),x=k.adList||[],S=Lo(x),(y=S[0]||{}).ecpm=null!==(d=null===(s=y)||void 0===s?void 0:s.price)&&void 0!==d?d:0,T=y.ecpm/100,e.ecpm=T*m,e.price=T*m,e.cy_ecpm=\"USD\"===_?T*m:T,e.s_pty=T*m,e.bidTk={bidFilledTime:w-b},A=wo.call(this,e,a),(E=xo.call(this,e,w,b,A,r,n)).bidTk.bidResult=1,E.bidTk.rlBidStatus=2,C=So.call(this,y,e,E,n,r),D=C.offer,y=D,E.bidTk.bidResult&&(E.bidTk.sortType=0),so.call(this,E),!To.call(this,y,e,n,r,a)){t.next=35;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 35:return N.call(this,\"unit\",g,{ad:null,offer:y,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 37:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function No(t,e,i,n){return jo.apply(this,arguments)}function jo(){return(jo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.topon_sdk)||void 0===o?void 0:o.channelId,s=e.unit_id,l=e.content,c=e.nw_req_num,u=JSON.parse(l),h=u.unit_id,p=n.placementId,f=n.exchRateC2u,v=n.accountCurrency,m=p+\"/\"+s,_={},g={adUnitId:h,type:\"rewardedVideoAd\",adCount:c&&c<=3?c:1},d&&(g.channel=d),y=Date.now(),t.next=12,Co.call(this,g);case 12:if(I=t.sent,b=Date.now(),!I.adList){t.next=20;break}k=I.adList||[],w=Lo(k),_=w[0]||{},t.next=25;break;case 20:if(!I.adid){t.next=24;break}_=I,t.next=25;break;case 24:return t.abrupt(\"return\",Promise.reject(\"bid\"));case 25:if(_.ecpm=_.price||0,x=_.ecpm/100,e.ecpm=x*f,e.price=x*f,e.cy_ecpm=\"USD\"===v?x*f:x,e.s_pty=x*f,e.bidTk={bidFilledTime:b-y},S=wo.call(this,e,a),(T=xo.call(this,e,b,y,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,_,e,T,n,r),E=A.offer,_=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),so.call(this,T),!To.call(this,_,e,n,r,a)){t.next=43;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 43:if(C=Do.call(this,{multiton:!0})){t.next=46;break}return t.abrupt(\"return\",e);case 46:return N.call(this,\"unit\",m,{ad:C,offer:_,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 48:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Fo(t){var i,n,r=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:this.$def,a=(null==r?void 0:r.ylh_sdk)||{};return new Promise((function(i,n){v(a)&&i({code:2e3,msg:\"SDK\"}),a.onYlhReady((function(){var n=e({},t);a.loadFeedAd(n).then((function(t){var e={adList:t||[]};t.code&&t.code>0&&(e.code=at[t.code]||2e3,e.msg=\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\"),e.adList=[]),i(e)})).catch((function(t){i({code:2e3,msg:\"\".concat(null==t?void 0:t.message)})}))}))}))}function Bo(t,e,i,n){return Wo.apply(this,arguments)}function Wo(){return(Wo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=u.allow_recommend,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+\"/\"+l,g={},y={count:1,placementId:h,recommendation:\"1\"===p?2:1},I=Date.now(),t.next=10,Fo.call(this,y);case 10:if(b=t.sent,k=Date.now(),g=null!==(o=null==b||null===(d=b.adList)||void 0===d?void 0:d[0])&&void 0!==o?o:{},w=(null===(s=g)||void 0===s?void 0:s.getECPM())>0?g.getECPM():0,g.ecpm=w,x=w/100,e.ecpm=x*v,e.price=x*v,e.cy_ecpm=\"USD\"===m?x*v:x,e.s_pty=x*v,e.bidTk={bidFilledTime:k-I},S=wo.call(this,e,a),(T=xo.call(this,e,k,I,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,g,e,T,n,r),E=A.offer,g=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),g.ecpm||(T.bidTk.sortType=-12,T.bidTk.errorMsg=\"0 bid price\"),so.call(this,T),g.ecpm){t.next=32;break}return t.abrupt(\"return\",Promise.reject(\"offer.ecpm: \".concat(g.ecpm,\"bidreject\")));case 32:if(!To.call(this,g,e,n,r,a)){t.next=35;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 35:return N.call(this,\"unit\",_,{ad:null,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 37:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function qo(t,e,i,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null!==(o=null===(d=this.$app)||void 0===d?void 0:d.$def)&&void 0!==o?o:this.$def,l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=u.video_muted,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+\"/\"+l,g={ecpm:0},y={placementId:h,muted:\"1\"===p},I=Date.now(),t.abrupt(\"return\",new Promise((function(t,i){try{var o=s.ylh_sdk.createRewardVideoAd(y);o.onLoad((function(){var i,d;g.ecpm=o.getECPM();var s=Date.now(),l=(null!==(i=null===(d=g)||void 0===d?void 0:d.ecpm)&&void 0!==i?i:0)/100;e.ecpm=l*v,e.price=l*v,e.cy_ecpm=\"USD\"===m?l*v:l,e.s_pty=l*v,e.bidTk={bidFilledTime:s-I};var c=wo.call(b,e,a),u=xo.call(b,e,s,I,c,r,n);u.bidTk.bidResult=1,u.bidTk.rlBidStatus=2;var h=So.call(b,g,e,u,n,r).offer;return g=h,u.bidTk.bidResult&&(u.bidTk.sortType=0),g.ecpm||(u.bidTk.sortType=-12,u.bidTk.errorMsg=\"0 bid price\"),so.call(b,u),g.ecpm?To.call(b,g,e,n,r,a)?Promise.reject(\"HB BID_LOSS\"):(N.call(b,\"unit\",_,{ad:o,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),void t(e)):Promise.reject(\"offer.ecpm: \".concat(g.ecpm,\"bidreject\"))})),o.onError((function(t){if(t.errorCode){var a=Date.now(),o=xo.call(b,e,a,I,-1,r,n),d=at[t.errorCode]||2e3,s=\"\".concat(null==t?void 0:t.errorMsg,\" real code [\").concat(t.errorCode,\"]\");o.bidTk.bidResult=0,o.bidTk.rlBidStatus=0,o.bidTk.sortType=-12,o.bidTk.errorMsg=s,so.call(b,o),i({code:d,msg:s})}})),o.load()}catch(t){i({code:2e3,msg:\" c2s : \".concat(JSON.stringify(t))})}})));case 10:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vo(t,e,i,n){return Ho.apply(this,arguments)}function Ho(){return(Ho=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null!==(o=null===(d=this.$app)||void 0===d?void 0:d.$def)&&void 0!==o?o:this.$def,l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=n.placementId,f=n.exchRateC2u,v=n.accountCurrency,m=n.placementConfig,_=(void 0===m?{}:m).entry,g=p+\"/\"+l,y={ecpm:0},I={placementId:h,entry:void 0===_?\"\":_},b=Date.now(),t.abrupt(\"return\",new Promise((function(t,i){try{s.ylh_sdk.onYlhReady((function(){var o=s.ylh_sdk.createSplashAd(I);o.onLoad((function(){var i,d;y.ecpm=o.getECPM();var s=Date.now(),l=(null!==(i=null===(d=y)||void 0===d?void 0:d.ecpm)&&void 0!==i?i:0)/100;e.ecpm=l*f,e.price=l*f,e.cy_ecpm=\"USD\"===v?l*f:l,e.s_pty=l*f,e.bidTk={bidFilledTime:s-b};var c=wo.call(k,e,a),u=xo.call(k,e,s,b,c,r,n);u.bidTk.bidResult=1,u.bidTk.rlBidStatus=2;var h=So.call(k,y,e,u,n,r).offer;return y=h,u.bidTk.bidResult&&(u.bidTk.sortType=0),y.ecpm||(u.bidTk.sortType=-12,u.bidTk.errorMsg=\"0 bid price\"),so.call(k,u),y.ecpm?To.call(k,y,e,n,r,a)?Promise.reject(\"HB BID_LOSS\"):(N.call(k,\"unit\",g,{ad:o,offer:y,_expirationTime:Date.now()+e.nw_cache_time}),void t(e)):Promise.reject(\"offer.ecpm: \".concat(y.ecpm,\"bidreject\"))})),o.onError((function(t){if(t.errorCode){var a=Date.now(),o=xo.call(k,e,a,b,-1,r,n),d=at[t.errorCode]||2e3,s=\"\".concat(null==t?void 0:t.errorMsg,\" real code [\").concat(t.errorCode,\"]\");o.bidTk.bidResult=0,o.bidTk.rlBidStatus=0,o.bidTk.sortType=-12,o.bidTk.errorMsg=s,so.call(k,o),i({code:d,msg:s})}})),o.load()}))}catch(t){i({code:2e3,msg:\" c2s : \".concat(JSON.stringify(t))})}})));case 11:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}var Go=c(c(c({},tt.OPPO,{bid:function(t,e,i,n){var r=e.format,a={0:Oo,1:Po};return a[r]?a[r].call(this,t,e,i,n):Promise.reject(\"\")},brand:\"oppo\"}),tt.VIVO,{bid:function(t,e,i,n){var r=e.format,a={0:Uo,1:No};return a[r]?a[r].call(this,t,e,i,n):Promise.reject(\"\")},brand:\"vivo\"}),tt.YLH,{bid:function(t,e,i,n){var r=e.format,a={0:Bo,1:qo,4:Vo};return a[r]?a[r].call(this,t,e,i,n):Promise.reject(\"\")},brand:\"ylh\"});function Yo(t,e){var i=S().ad.getProvider().toLowerCase();return!!Go[t]&&(\"ylh\"===Go[t].brand?!((null==e?void 0:e.platformVersionCode)<1100):Go[t].brand===i&&!(\"oppo\"===i&&(null==e?void 0:e.platformVersionCode)<1119))}function Ko(t){return zo.apply(this,arguments)}function zo(){return(zo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(a=l.device)||void 0===a?void 0:a.info)){t.next=6;break}t.t0=null==l||null===(o=l.device)||void 0===o?void 0:o.info,t.next=12;break;case 6:return t.next=8,H.getInfo();case 8:if(t.t1=t.sent,t.t1){t.next=11;break}t.t1={};case 11:t.t0=t.t1;case 12:if(c=t.t0,u=e.hbUnit,h=e.condition,p=e.strategy,f=e.scheduler,m=[],_=u,Yo.call(this,_.nw_firm_id,c)){t.next=18;break}return t.abrupt(\"return\");case 18:if(Go[_.nw_firm_id]&&m.push(Go[_.nw_firm_id].bid.call(this,_,h,p,f)),m.length){t.next=21;break}return t.abrupt(\"return\",[]);case 21:return t.abrupt(\"return\",Promise.allSettled(m));case 22:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}var Xo,Qo,Jo,Zo,td={adProxyEvent:{onInit:function(){var t;if(!this.placementId)throw new Error(\"ID\");var e=\"\".concat(this.$page.name,\"/\").concat(this.placementId,\"/\").concat(null==this||null===(t=this._page)||void 0===t?void 0:t.id);if(j.call(this,\"global\",e)){var i=\": \".concat(this.$page.name,\" : \").concat(this.placementId,\"ID\");throw new Error(i)}N.call(this,\"global\",e,this.placementId),this.$watch(\"wfUnitIdsNeedRender\",\"checkWfCache\"),this.$on(\"proxyTkReport\",this.tkReportWatcher),this.$on(\"proxyAdLoad\",this.adLoadWatcher),this.$on(\"proxyAdShow\",this.adShowWatcher),this.$on(\"proxyAdClick\",this.adClickWatcher),this.$on(\"proxyAdClose\",this.adCloseWatcher),this.$on(\"proxyAdReward\",this.adRewardWatcher),this.$on(\"proxyAdError\",this.adErrorWatcher),this.handleAdInit()},onDestroy:function(){var t,e,i=\"\".concat(null===(t=this.$page)||void 0===t?void 0:t.name,\"/\").concat(this.placementId,\"/\").concat(null==this||null===(e=this._page)||void 0===e?void 0:e.id);N.call(this,\"global\",i,null);try{this.$off(\"proxyTkReport\",this.tkReportWatcher),this.$off(\"proxyAdLoad\",this.adLoadWatcher),this.$off(\"proxyAdShow\",this.adShowWatcher),this.$off(\"proxyAdClick\",this.adClickWatcher),this.$off(\"proxyAdClose\",this.adCloseWatcher),this.$off(\"proxyAdReward\",this.adRewardWatcher),this.$off(\"proxyAdError\",this.adErrorWatcher)}catch(t){}}},handleAdInit:(Jo=o(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=\"lockLoad\",this.lock.load!==e){t.next=3;break}return t.abrupt(\"return\");case 3:return this.lock.load=e,this.wfAdapter=null,this.adxBidding=!1,this.hitUnitId=null,this.wfScheduler||(this.wfScheduler=new La),t.next=10,this.beforeLoad();case 10:return t.next=12,this.handleCreateAd();case 12:this.reportTkData(\"AD_LOAD\"),this.wfScheduler.load(this.unitList,{reqUgNum:this.reqUgNum}),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),[0,1].includes(this.format)&&this.initAdx(),[0,1,4].includes(this.format)&&this.initHb();case 17:case\"end\":return t.stop()}}),t,this)}))),function(){return Jo.apply(this,arguments)}),initAdx:function(){var t,e,i=this;if(null!==(t=this.adxList)&&void 0!==t&&t.length){var n=this.adxList[0],r={placementId:this.placementId,requestId:this.requestId,adxExt:this.apiData.adx_ext,exchR:(null===(e=this.apiData)||void 0===e||null===(e=e.callback)||void 0===e?void 0:e.exch_r)||1,unitId:n.unit_id,format:\"\"+this.format},a=this.apiData||{},o=a.t_g_id,d=a.gro_id,s=a.asid,l=a.hb_bid_timeout,c=void 0===l?6e4:l,u={hbBidTimeout:c,requestId:this.requestId,segmentId:d,trafficGroupId:o,asId:s};this.adxBidding=!0;var h=P(this.mergeConfig.filter,tt.ADX,n.unit_id);if(h){this.adxBidding=!1;var p=\"0\";9006===h?p=\"5\":9007===h&&(p=\"9\");var f={key:\"REQUEST_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:d,traffic_group_id:o,asid:s,msg:String(tt.ADX),msg1:String(n.unit_id),msg2:\"\",msg3:p,msg4:p,msg5:\"ADX\",msg8:\"0\"};Va.call(this,f)}else this.adxBiddingTimeId=setTimeout((function(){i.adxBidding=!1}),c),this.emitWfUnitEvent(\"adUnitBiddingAttempt\",{unit:n}),go.call(this,r,n,u,this.wfScheduler).then((function(t){if(t.ecpm<=0)return i.emitWfUnitEvent(\"adUnitBiddingFail\",{unit:t,error:{code:22e3,msg:\"\"}}),!i.hbBidding&&i.wfScheduler.isFailed()&&i.adErrorWfEmpty(\"ADX\"),i.adxBidding=!1,void(i.adxBiddingTimeId&&clearTimeout(i.adxBiddingTimeId));i.wfScheduler.merge([t]),i.wfUnitIdsNeedRender=i.wfScheduler.scheduler(),i.adxBidding=!1,i.adxBiddingTimeId&&clearTimeout(i.adxBiddingTimeId);var e={key:\"BID_MERGE_TO_WF\",unitid:i.placementId,requestid:i.requestId,groupid:d,traffic_group_id:o,asid:s,msg:\"66\",msg1:\"\"+t.unit_id,msg2:\"\"+t.ecpm,msg3:i.wfScheduler.isFailed()?\"3\":i.wfScheduler.isLoaded()?\"2\":\"1\",msg4:\"2\"};Va.call(i,e),i.emitWfUnitEvent(\"adUnitBiddingFilled\",{unit:t,unitIndex:i.wfScheduler.getIndex(t.unit_id)})}))}},initHb:function(){var t,e,i,n,r=this;if(null!==(t=this.hbList)&&void 0!==t&&t.length){this.hbBidding=!0;var a=this.apiData||{},o=a.t_g_id,d=a.gro_id,s=a.asid,l=a.hb_bid_timeout,c=void 0===l?6e4:l,u={hbBidTimeout:c,requestId:this.requestId,segmentId:d,trafficGroupId:o,asId:s},p={condition:{placementId:this.placementId,requestId:this.requestId,format:\"\"+this.format,exchRateC2u:(null===(e=this.apiData)||void 0===e?void 0:e.exch_rate_c2u)||1,accountCurrency:null!==(i=null===(n=this.apiData)||void 0===n||null===(n=n.callback)||void 0===n?void 0:n.acct_cy)&&void 0!==i?i:\"\",placementConfig:this.mergeConfig},strategy:u,scheduler:this.wfScheduler};this.hbBiddingTimeId=setTimeout((function(){r.hbBidding=!1}),c),this.hbList.forEach((function(t){p.hbUnit=t,r.emitWfUnitEvent(\"adUnitBiddingAttempt\",{unit:t});var e={};Ko.call(r,p).then((function(i){var n=[];if(i.map((function(t){\"fulfilled\"===t.status?n.push(t.value):t.reason&&(e={code:22e3,msg:h(t.reason)?t.reason:JSON.stringify(t.reason)})})),n.length<=0)return r.emitWfUnitEvent(\"adUnitBiddingFail\",{unit:t,error:e}),!r.adxBidding&&r.wfScheduler.isFailed()&&r.adErrorWfEmpty(\"HB\"),r.hbBidding=!1,void(r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId));r.wfScheduler.merge(n),r.wfUnitIdsNeedRender=r.wfScheduler.scheduler(),r.hbBidding=!1,r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId),n.forEach((function(t){var e={key:\"BID_MERGE_TO_WF\",unitid:r.placementId,requestid:r.requestId,groupid:d,traffic_group_id:o,asid:s,msg:\"\"+t.nw_firm_id,msg1:\"\"+t.unit_id,msg2:\"\"+t.ecpm,msg3:r.wfScheduler.isFailed()?\"3\":r.wfScheduler.isLoaded()?\"2\":\"1\",msg4:\"2\"};Va.call(r,e),r.emitWfUnitEvent(\"adUnitBiddingFilled\",{unit:t,unitIndex:r.wfScheduler.getIndex(t.unit_id)})}))})).catch((function(){!r.adxBidding&&r.wfScheduler.isFailed()&&r.adErrorWfEmpty(\"HB\"),r.hbBidding=!1,r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId)}))}))}},beforeLoad:(Qo=o(i().mark((function t(){var e,n,r=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=Date.now(),this.unitLoadStart=e,this.placementLoadStart=e,t.t0=String,t.next=7,J();case 7:t.t1=t.sent,this.requestId=(0,t.t0)(t.t1),this.requestIdCount++,n=4===this.format?5e3:3e5,this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){r.checkTimeout()}),this.mergeConfig.timeout>0?this.mergeConfig.timeout:n),t.next=17;break;case 15:t.prev=15,t.t2=t.catch(0);case 17:case\"end\":return t.stop()}}),t,this,[[0,15]])}))),function(){return Qo.apply(this,arguments)}),checkTimeout:function(){var t=this;if(this.wfScheduler){var e=this.wfScheduler.getStatusList(),i=[];e.forEach((function(t){[\"loading\",\"timeout\"].includes(t.status)&&i.push(t)}));var n=this.apiData||{},r=n.t_g_id,a=n.gro_id,o=n.asid;i.forEach((function(e){var i={key:\"REQUEST_FAILED\",unitid:t.placementId,requestid:t.requestId,groupid:a,traffic_group_id:r,asid:o,msg:String(e.nwFirmId),msg1:String(e.unitId),msg2:String(e.index),msg3:\"1\",msg4:\"19002\",msg5:\"\",msg8:\"\"};Va.call(t,i)}));this.adError({},{detail:{code:9002,msg:\"Load Timeout\"}})}},handleCreateAd:(Xo=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,_,g,y,I,b,k,w,x=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isApiSuccess=!1,o=\"TOPON_AD_CACHE_PLACEMENT_\"+this.placementId,t.next=4,M.getItem(o,!1);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(!v(d=t.t0)){t.next=10;break}return t.abrupt(\"return\",this.handleApiRequest());case 10:if(s=null!==(e=null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n?void 0:n.topon_sdk)&&void 0!==e?e:{},l=s.channelId,c=void 0===l?\"\":l,u=s.subChannelId,h=void 0===u?\"\":u,p=s.customParam,f=void 0===p?{}:p,_=s.placementCustomParam,g=c+\"/\"+h,y=O(f,void 0===_?{}:_),I=(new Date).getTime(),b=(null==d||null===(r=d.data)||void 0===r?void 0:r.ps_ct_max)||6048e5,k=(null==d||null===(a=d.data)||void 0===a?void 0:a.ps_ct_out)||0,(w=(null==d?void 0:d._request_timestamp)||0)<=0&&(w=d._ps_ct_timestamp-d.data.ps_ct),!(d._ps_ct_timestamp>I&&d._channel===g&&m(d._custom_param,y))){t.next=22;break}this.handleApiResponse(d),t.next=28;break;case 22:if(!(w+b<I)){t.next=26;break}return t.abrupt(\"return\",this.handleApiRequest());case 26:return setTimeout((function(){x.handleApiResponse(d)}),k),t.abrupt(\"return\",this.handleApiRequest());case 28:case\"end\":return t.stop()}}),t,this)}))),function(){return Xo.apply(this,arguments)}),handleApiRequest:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,m,g,y,I,b,k;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=null!==(e=null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n?void 0:n.topon_sdk)&&void 0!==e?e:{},o=a.channelId,d=void 0===o?\"\":o,s=a.subChannelId,l=void 0===s?\"\":s,c=a.customParam,u=void 0===c?{}:c,h=a.placementCustomParam,p=O(u,void 0===h?{}:h),f={placementId:this.placementId},t.next=6,to.call(this,f);case 6:if(m=t.sent,g=_(null==m?void 0:m.data)?JSON.parse(null==m?void 0:m.data):(null==m?void 0:m.data)||{},699===m.code&&(g={code:0,data:{ad_delivery_sw:0,ps_ct:864e5,ps_ct_out:0}}),!((null===(r=g)||void 0===r?void 0:r.code)>0||v(g))&&g){t.next=15;break}if(!this.isApiSuccess){t.next=12;break}return t.abrupt(\"return\");case 12:return y={detail:{code:9004,msg:\"\"}},this.adError({},y),t.abrupt(\"return\");case 15:I=(new Date).getTime(),b=d+\"/\"+l,g._ps_ct_timestamp=I+g.data.ps_ct,g._channel=b,g._custom_param=p,g._request_timestamp=I,this.handleApiResponse(g),k=\"TOPON_AD_CACHE_PLACEMENT_\"+this.placementId,M.setItem(k,g,!1),t.next=28;break;case 26:t.prev=26,t.t0=t.catch(0);case 28:case\"end\":return t.stop()}}),t,this,[[0,26]])})));return function(){return t.apply(this,arguments)}}(),handleApiResponse:function(t){var e;if(!this.isApiSuccess){this.isApiSuccess=!0,this.apiData=t.data;var i=function(t){if(!t)return[];var e=t.data,i=e.adx_list,n=void 0===i?[]:i,r=e.hb_list,a=void 0===r?[]:r,o=e.ug_list,d=void 0===o?[]:o,s=b(),l=b(\"hb\"),c=d.filter((function(t){return s.includes(t.nw_firm_id)}))||[];return{adxList:n,hbList:a.filter((function(t){return l.includes(t.nw_firm_id)}))||[],ugList:c}}(t);if(1!==(null===(e=this.apiData)||void 0===e?void 0:e.ad_delivery_sw)&&(i={}),this.adxList=i.adxList||[],this.hbList=i.hbList||[],this.unitList=i.ugList||[],this.adxList.length||this.unitList.length||this.hbList.length)return i;this.adErrorWfEmpty()}},checkWfCache:function(){if(this.wfScheduler){var t=this.wfScheduler.selecter();if(!v(t)){var e=t.unit,i=this.requestId;if(this.lock.adLoad!==i){this.lock.adLoad=i,this.timerId&&clearTimeout(this.timerId);try{this.$emit(\"adLoad\",{})}catch(t){console.error(\"error\",t.message);var n={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:e.unit_id,msg1:\"1\",msg2:\"adLoad\",msg3:this.handleGetErrMsg(t.message)};Va.call(this,n)}this.reportTkData(\"AD_LOAD_FILLED\",e)}}}},load:function(){this.wfScheduler.isExpired()&&(this.lock.load=\"\"),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(!0),this.adErrorList=[],this.handleAdInit()},isReady:function(){var t=this.apiData||{},e=t.t_g_id,i=t.gro_id,n=t.asid,r={key:\"IS_READY\",unitid:this.placementId,requestid:this.requestId,groupid:i,traffic_group_id:e,asid:n},a=this.wfScheduler.selecter();return v(a)?(console.error(\"wfAdapterInstance not exist\"),r.msg=\"0\",r.msg1=\"1\",r.msg2=\"\",r.msg3=\"\",r.msg4=\"\",r.msg5=\"\",Va.call(this,r),!1):(r.msg=\"1\",r.msg1=\"\",r.msg2=String(a.index),r.msg3=String(a.unitId),r.msg4=String(a.nwFirmId),r.msg5=\"\",Va.call(this,r),!0)},getAd:function(){var t;if(!this.isReady())return this.wfAdapter=null,null;if(!this.wfScheduler)return null;this.wfAdapter=this.wfScheduler.selecter();var i=this.wfAdapter,n=this.getWfAdapterInstance(i.itemId);if(v(n))return console.error(\"wfAdapterInstance not exist\"),{};this.wfScheduler.setShowed(i.unitId),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.lock.load=\"\",this.hitUnitId=i.unitId;var r={},a=null;n.getAd&&(r=n.getAd()||{}),n.getInstance&&(a=n.getInstance());var o=e(e({},i.context.emit),{},{ad:r,instance:a});if(null!==(t=this.$app)&&void 0!==t&&null!==(t=t.$def)&&void 0!==t&&null!==(t=t.topon_sdk)&&void 0!==t&&t.enhancedLoggingMode){var d=this.apiData||{},s=d.t_g_id,l=d.gro_id,c=d.asid,u={key:\"GET_AD\",unitid:this.placementId,requestid:this.requestId,groupid:l,traffic_group_id:s,asid:c,msg:String((null==o?void 0:o.nwFirmId)||0),msg1:String((null==o?void 0:o.unitId)||0),msg2:String((null==o?void 0:o.ecpm)||0)};Va.call(this,u)}return o},show:function(){try{var t=this.apiData||{},e=t.t_g_id,i=t.gro_id,n=t.asid,r={key:\"SHOW_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:i,traffic_group_id:e,asid:n,msg:\"1\"};if(v(this.wfAdapter))return console.error(\"wfAdapterInstance not exist\"),void Va.call(this,r);var a=this.wfAdapter,o=this.getWfAdapterInstance(a.itemId);if(v(o)){return this.adError({},{detail:{code:9005,msg:\"\"}}),void Va.call(this,r)}var d={unit_id:a.unitId,nw_firm_id:a.nwFirmId,ecpm:a.ecpm,bidTk:a.unit.bidTk};this.reportTkData(\"AD_SHOW\",d),null==o||o.show()}catch(t){console.error(\"call show error\",t)}},adLoad:function(t,i){var n,r,a,o=t.nw_cache_time,d=t.wfAdOption,s=void 0===d?{}:d,l=Date.now();this.placementLoadEnd=l;var c=this.getWfAdEmit(t);null!=i&&null!==(n=i.detail)&&void 0!==n&&n.nwUnitVersion&&(c.nwUnitVersion=i.detail.nwUnitVersion);var u=0;[\"1\",\"2\"].includes(null==s?void 0:s._type)&&(u=1),c.isHeaderBidding=u;var h={adapter:i,emit:e({isSelfRendering:null!==(r=null===(a=i.detail)||void 0===a?void 0:a.isSelfRendering)&&void 0!==r&&r},c)},p=l+o;this.wfScheduler.setCaching(t.unit_id,h,{expirationTime:p}),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.emitWfUnitEvent(\"adUnitLoadFilled\",{unit:t})},adShow:function(t,e){this.wfScheduler.setShowed(t.unit_id),this.hitUnitId=t.unit_id,this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.lock.load=\"\";try{this.$emit(\"adShow\",e)}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"2\",msg2:\"adShow\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adClick:function(t,e){try{this.$emit(\"adClick\",e)}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"4\",msg2:\"adClick\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adClose:function(t,e){try{this.$emit(\"adClose\",e),this.hitUnitId=null}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"3\",msg2:\"adClose\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adReward:function(t,e){try{this.$emit(\"adReward\",e)}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"5\",msg2:\"adReward\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adError:function(t,e){var i,n,r,a,o=t.nw_firm_id,d=void 0===o?\"\":o,s=t.unit_id,l=t.wfIndex,c=null!==(i=null===(n=e.detail)||void 0===n?void 0:n.code)&&void 0!==i?i:void 0,u=rt.codeToEvent(d,c)||\"unknown\";9001===c?d===tt.BAIDU&&[1,3,4].includes(this.format)||d===tt.OPPO&&2===this.format?this.wfScheduler.setFailed(t.unit_id):this.wfScheduler.setTimeout(t.unit_id):\"loading\"!==u&&this.wfScheduler.setFailed(t.unit_id);var h=22e3,p=1*c;if(h=1e3<=p&&p<9e3?p+2e4:9e3<=p&&p<9999?p+1e4:22e3,\"loading\"!==u&&![9e3,9001,9003].includes(c)){var f,v,m=this.apiData||{},_=m.t_g_id,g=m.gro_id,y=m.asid,I=\"0\";9006===c?I=\"5\":9007===c?I=\"9\":9008===c&&(I=\"11\");var b={key:\"REQUEST_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:g,traffic_group_id:_,asid:y,msg:String(d),msg1:String(s),msg2:String(l),msg3:I,msg4:String(h),msg5:String(null!==(f=null==e||null===(v=e.detail)||void 0===v?void 0:v.msg)&&void 0!==f?f:e.msg),msg8:String(Date.now()-this.unitLoadStart)};Va.call(this,b)}if(this.isNeedEmitError(u)||this.isBusinessErrorCode(c)){var k,w,x=e.type?e:{};if(e.type){var S,T;x.detail=null!==(S=null==e?void 0:e.detail)&&void 0!==S?S:{},x.detail.code=h;var A={code:h,msg:null==e||null===(T=e.detail)||void 0===T?void 0:T.msg,unitId:s,nwFirmId:d};this.adErrorList.push(A),x.detail.errors=this.adErrorList}else{var E,C,D,L;x.msg=null!==(E=null==e||null===(C=e.detail)||void 0===C?void 0:C.msg)&&void 0!==E?E:e.msg,x.code=h;var O={code:h,msg:null!==(D=null==e||null===(L=e.detail)||void 0===L?void 0:L.msg)&&void 0!==D?D:e.msg,unitId:s,nwFirmId:d};this.adErrorList.push(O),x.errors=this.adErrorList}var R=this.requestId;if(this.lock.adError===R)return;this.lock.adError=R;try{this.$emit(\"adError\",x)}catch(t){console.error(\"error\",t.message);var P={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:s,msg1:\"6\",msg2:\"adError\",msg3:this.handleGetErrMsg(t.message)};Va.call(this,P)}this.lock.load=\"\",this.timerId&&clearTimeout(this.timerId);var U=this.apiData||{},$=U.t_g_id,N=U.gro_id,j=U.asid,F={key:\"LOAD_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:N,traffic_group_id:$,asid:j,msg:String(null!==(k=null==e||null===(w=e.detail)||void 0===w?void 0:w.msg)&&void 0!==k?k:e.msg),msg1:String(h)};Va.call(this,F)}else if(\"loading\"!==u){this.wfUnitIdsNeedRender=this.wfScheduler.scheduler();var B=(null==e?void 0:e.detail)||{};B.code=h,B.unitId=s,B.nwFirmId=d,this.adErrorList.push(B)}var W={code:h,msg:null!==(r=null==e||null===(a=e.detail)||void 0===a?void 0:a.msg)&&void 0!==r?r:e.msg};this.emitWfUnitEvent(\"adUnitLoadFail\",{unit:t,error:W})},adErrorWfEmpty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"/\",e={detail:{code:9003,msg:t}};this.adError({},e)},isNeedEmitError:function(t){return\"loading\"!==t&&(!this.adxBidding&&!this.hbBidding&&(\"show\"===t||this.wfScheduler.isFailed()))},isBusinessErrorCode:function(t){return[9002,19002,9003,19003,9004,19004,9005,19005].includes(t)},emitWfUnitEvent:function(t,e){var i=this||{},n=i.format,r=i.requestId,a=e.unit,o=void 0===a?{}:a,d=e.unitIndex,s=void 0===d?-1:d,l=e.isHeaderBidding,c=void 0===l?0:l,u=e.error,h=void 0===u?{}:u,p=o.wfAdOption,f=void 0===p?{}:p,v=this.getWfAdEmit(o)||{},m=v.ecpm,_=v.cyEcpm,g=v.unitId,y=v.unitLevel,I=v.nwFirmId,b=v.nwUnitId,k={format:n,requestId:r,abTestId:v.abTestId,segmentId:v.segmentId,unitId:g,nwFirmId:I,nwUnitId:b,ecpm:m,cyEcpm:_,isHeaderBidding:c,unitLevel:y,unitIndex:s,error:h};[19e3,19006,19007].includes(null==h?void 0:h.code)||this.isBusinessErrorCode(null==h?void 0:h.code)||([\"adUnitBiddingAttempt\",\"adUnitBiddingFail\"].includes(t)&&(k.ecpm=0,k.cyEcpm=0),([\"adUnitBiddingAttempt\",\"adUnitBiddingFilled\",\"adUnitBiddingFail\"].includes(t)||[\"1\",\"2\"].includes(null==f?void 0:f._type))&&(k.isHeaderBidding=1),this.$emit(t,k))},reportShow:function(){if(v(this.wfAdapter))console.error(\"wfAdapterInstance not exist\");else{var t=this.getWfAdapterInstance(this.wfAdapter.itemId);v(t)?console.error(\"wfAdapterInstance not exist\"):void 0!==t.reportShow&&t.reportShow()}},reportClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reportToProvider:!0};if(v(this.wfAdapter))console.error(\"wfAdapterInstance not exist\");else{var e=this.getWfAdapterInstance(this.wfAdapter.itemId);v(e)?console.error(\"wfAdapterInstance not exist\"):void 0!==e.reportClick&&e.reportClick(t)}},getWfAdapterInstance:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<=0&&(t=this.wfScheduler.itemIdSeleter()),this.$child(this.placementId+\"/\"+t)},getWfAdOption:function(t){var e,i={};return null!=t&&t.content&&(i=JSON.parse(t.content)),i._unit_id=null==t?void 0:t.unit_id,i._nw_req_num=null==t?void 0:t.nw_req_num,i._nw_timeout=null!==(e=null==t?void 0:t.nw_timeout)&&void 0!==e?e:5e4,i._request_id=this.requestId,i},getWfAdExtra:function(t){var e,i,n,r,a;return{unit:{unit_id:t.unit_id,nw_firm_id:t.nw_firm_id,ecpm:t.ecpm,nw_cache_time:t.nw_cache_time,cy_ecpm:t.cy_ecpm,content:t.content,bidTk:t.bidTk||{}},trafficGroupId:null===(e=this.apiData)||void 0===e?void 0:e.t_g_id,segmentId:null===(i=this.apiData)||void 0===i?void 0:i.gro_id,format:null===(n=this.apiData)||void 0===n?void 0:n.format,asId:null===(r=this.apiData)||void 0===r?void 0:r.asid,adSourceId:t.unit_id,nwFirmId:t.nw_firm_id,ecpm:t.ecpm,channelId:null===(a=this.$app)||void 0===a||null===(a=a.$def)||void 0===a||null===(a=a.topon_sdk)||void 0===a?void 0:a.channelId,placementId:this.placementId,bidTk:t.bidTk||{}}},getWfAdEmit:function(t){var e=t.ecpm,i=t.cy_ecpm,n=t.ecpm_level,r=t.unit_id,a=t.nw_firm_id,o=t.content,d=void 0===o?\"{}\":o,s=this.apiData||{},l=s.t_g_id,c=s.gro_id,u=r,h=a,p=JSON.parse(d),f=this.format;return{ecpm:e,cyEcpm:i,unitId:u,unitLevel:n,nwFirmId:h,nwUnitId:p[it[h]]||\"\",customExt:p.custom_ext||null,format:f,abTestId:l,segmentId:c}},handleReportTk:function(t,e){var i,n,r=e.detail.type,a=null!==(i=null===(n=e.detail)||void 0===n?void 0:n.ad)&&void 0!==i?i:null;\"AD_REQUEST\"===r&&(this.emitWfUnitEvent(\"adUnitLoadAttempt\",{unit:t}),this.unitLoadStart=Date.now()),\"AD_REQUEST_FILLED\"===r&&(this.unitLoadEnd=Date.now()),this.reportTkData(r,t,a)},reportTkData:function(t){var e,i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this||{},d=o.placementLoadStart,s=o.placementLoadEnd,l=o.unitLoadStart,c=o.unitLoadEnd,u=o.placementId,h=o.requestId,p=o.format,f=o.reqUgNum,v=o.apiData,m=void 0===v?{}:v,_=m.t_g_id,g=m.gro_id,y=m.asid,I=m.p_c,b=void 0===I?{}:I,k=s-d,w=c-l,x={placementId:u,requestId:h,logType:t,trafficGroupId:_,segmentId:g,asId:y,adSourceId:r.unit_id||0,nwFirmId:r.nw_firm_id||0,ecpm:r.ecpm||0,sPty:r.s_pty||0,format:p,placementLoadTime:k,unitFilledTime:w,adId:null!==(e=null==a?void 0:a.adId)&&void 0!==e?e:\"\",reqUgNum:f,pC:b,bidTk:r.bidTk||{},wfType:null==r||null===(i=r.wfAdOption)||void 0===i?void 0:i._type},S=Object.values(et);[].concat(S,[tt.ADX]).includes(r.nw_firm_id)&&null!==(n=r.bidTk)&&void 0!==n&&n.bidFilledTime&&(x.unitFilledTime=r.bidTk.bidFilledTime),so.call(this,x)},handleGetErrMsg:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return\"unlimited\"===e||isNaN(e)?t:t.slice(0,e)},hide:function(){var t=this.wfScheduler.selecter(\"STATUS_SHOWED\");if(t){var e=this.getWfAdapterInstance(t.itemId);null!=e&&e.hide&&(e.hide(),this.hitUnitId=null)}else console.error(\"hide error, wfAdapterInstance not exist\")},tkReportWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.handleReportTk(i,n)},adLoadWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adLoad(i,n)},adShowWatcher:function(t){var e=t.detail.unit;this.adShow(e,{})},adClickWatcher:function(t){var e=t.detail.unit;this.adClick(e,{})},adCloseWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adClose(i,n)},adRewardWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adReward(i,n)},adErrorWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adError(i,n)},getDownloadStatus:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(v(e))console.error(\"wfAdapterInstance not exist\");else if(e.getDownloadStatus)return e.getDownloadStatus()}},getDownloadProgress:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(v(i))console.error(\"wfAdapterInstance not exist\");else if(i.getDownloadProgress)return i.getDownloadProgress()}},subscribeDownloadStatus:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(!v(i)&&i.subscribeDownloadStatus)return i.subscribeDownloadStatus(t)}},unsubscribeDownloadStatus:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.unsubscribeDownloadStatus)return e.unsubscribeDownloadStatus()}},subscribeDownloadProgress:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(!v(i)&&i.subscribeDownloadProgress)return i.subscribeDownloadProgress(t)}},unsubscribeDownloadProgress:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.unsubscribeDownloadProgress)return e.unsubscribeDownloadProgress()}},showAppDetailPage:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.showAppDetailPage)return e.showAppDetailPage()}}},ed={landingContainer:{marginTop:\"0\",flex:1,flexDirection:\"column\"},landingWeb:{flex:1},loadingContainer:{flex:1,flexDirection:\"column\",alignItems:\"center\"},loadingText:{fontSize:\"30px\",color:\"#787878\",textAlign:\"center\"},landingBar:{width:\"100%\",height:\"100px\",backgroundColor:\"#f7f6f6\",justifyContent:\"center\",alignItems:\"center\"},landingBtn:{height:\"50px\",width:\"50px\",padding:\"5px\",marginLeft:\"20px\",fontSize:\"32px\",fontWeight:\"bolder\"},landingTitle:{textAlign:\"center\",fontSize:\"40px\",fontWeight:\"bolder\",width:\"100%\",color:\"#333\"}},id={adProxyEvent:{onInit:function(){this.adStyle=ed;var t=this.$app.$def.manifest.display.pages;t&&t[\"TopOn/AdLanding\"]&&t[\"TopOn/AdLanding\"].fullScreen&&!t[\"TopOn/AdLanding\"].titleBar&&(this.isFullScreen=!0)},onPageStart:function(t){},onPageFinish:function(t){},onTitleReceive:function(t){var e=this;this.$page.setTitleBar({text:t.title}),this.title=t.title,setTimeout((function(){e.isLoading=!1}),10)},onError:function(t){},onProgress:function(t){},onBack:function(t){S().router.back()}}},nd=[{name:\"onSubmit\",type:\"submit\",label:\"\"}],rd=[{label:\"\",parentId:\"1\",groups:[{id:\"11\",children:[{label:\"\",value:\"1\"},{label:\"\",value:\"2\"},{label:\"\",value:\"3\"}]}]},{label:\"\",parentId:\"2\",groups:[{id:\"22\",children:[{label:\"\",value:\"4\"},{label:\"\",value:\"5\"},{label:\"\",value:\"6\"}]},{id:\"23\",children:[{label:\"\",value:\"7\"},{label:\"\",value:\"8\"},{label:\"\",value:\"9\"}]}]}],ad={adProxyEvent:{onInit:function(){var t=this.$app.$def.manifest.display.pages;t&&t[\"TopOn/AdReward\"]&&t[\"TopOn/AdReward\"].fullScreen&&!t[\"TopOn/AdReward\"].titleBar&&(this.isFullScreen=!0),this.setInitialData(),this.getAdDataCache()},onCheck:function(t){var e={msg3:t.detail.data.value,msg4:\"0\"};this.feedbackSubmitError=!1,this.submitFeedback(e),this.hideDialog()},onInput:function(t){this.feedbackInputValue=t.detail.data||\"\",t.detail.data&&(this.feedbackSubmitError=!1)},onSubmit:function(){var t=this.feedbackInputValue;if(t){var e={msg3:\"0\",msg4:t};this.submitFeedback(e),this.hideDialog()}else this.feedbackSubmitError=!0},onShowDialog:function(){this.showDialog()},onHideDialog:function(){this.hideDialog()},onTouchStart:function(t){var i=t.timestamp||Date.now(),n=e(e({},t.detail.detail.touches[0]||{}),{},{timestamp:i});this.dispatchRewardedVideoEvent(\"adTouch\",{type:\"start\",data:n})},onTouchMove:function(t){},onTouchEnd:function(t){var i=t.timestamp||Date.now(),n=e(e({},t.detail.detail.changedTouches[0]||{}),{},{timestamp:i});this.dispatchRewardedVideoEvent(\"adTouch\",{type:\"end\",data:n})},onAdClick:function(t){this.dispatchRewardedVideoEvent(\"adClick\",t)},onAdClose:function(t){if(this.onVideoPause(),this.currentCountdown){var e=S().prompt,i=this;e.showDialog({message:\"\".concat(this.countdownInitial,\"\"),buttons:[{text:\"\"},{text:\"\"}],success:function(t){\"1\"==t.index?(i.dispatchRewardedVideoEvent(\"adClose\",{reward:!1}),i.onBack()):i.onVideoContinue()},cancel:function(){i.onVideoContinue()},fail:function(){i.onVideoContinue()}})}else this.dispatchRewardedVideoEvent(\"adClose\",{reward:!0}),this.onBack()},onAdShow:(Zo=o(i().mark((function t(e){var n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.option._request_id+\"/\"+this.adUnitId,this.lockAdAppear!==n){t.next=3;break}return t.abrupt(\"return\");case 3:return this.lockAdAppear=n,r=Date.now(),t.next=7,this.getBoundingClientRect();case 7:a=t.sent,o=Date.now(),d=o-r,this.dispatchRewardedVideoEvent(\"adImpression\",{clientRect:a,diff:d});case 11:case\"end\":return t.stop()}}),t,this)}))),function(t){return Zo.apply(this,arguments)}),onPause:function(){this.onVideoPause()},onContinue:function(){this.onVideoContinue()}},submitFeedback:function(t){this.dispatchRewardedVideoEvent(\"adFeedback\",t),this.feedbackSubmited=!0},showDialog:function(){this.feedbackDialogVisible=!0,this.onVideoPause()},hideDialog:function(){this.feedbackDialogVisible=!1,this.onVideoContinue()},setInitialData:function(){this.feedbackDialogButtons=nd,this.feedbackSelectOptions=rd},getAdDataCache:function(){var t,e,i,n=\"\".concat(this.plId,\"/\").concat(this.adUnitId),r=j.call(this,\"adxRewardedVideo\",n);this.adData=null!==(t=null==r?void 0:r.adData)&&void 0!==t?t:{},this.adStyle=null!==(e=null==r?void 0:r.adStyle)&&void 0!==e?e:{},this.option=null!==(i=null==r?void 0:r.option)&&void 0!==i?i:{};var a=Number(this.option._countdown);this.countdownInitial=a,this.currentCountdown=a,this.onCountdown(this.currentCountdown)},onCountdown:function(t){var e=this;if(t){var i=t;this.currentCountdown=i,this.countdownTimerId&&clearInterval(this.countdownTimerId),this.countdownTimerId=setInterval((function(){i--,e.currentCountdown=i,i<1&&e.onVideoFinish()}),1e3)}},onVideoFinish:function(){this.onVideoPause()},onVideoPause:function(){this.countdownTimerId&&clearInterval(this.countdownTimerId)},onVideoContinue:function(){this.onCountdown(this.currentCountdown)},onBack:function(){var t=S().router;this.lockAdAppear=\"\",t.back()},getBoundingClientRect:function(){var t=this.$element(\"top-on-adx-container-\".concat(this.adUnitId));return t?new Promise((function(e){t.getBoundingClientRect({success:function(t){return e(t)},fail:function(){return e({})}})})):{}},dispatchRewardedVideoEvent:function(t){var e,i=\"\".concat(this.plId,\"/\").concat(this.adUnitId);if(null!==(e=this.$app.$def.topon_sdk)&&void 0!==e&&e.rewardedVideo[i]){for(var n,r,a=arguments.length,o=new Array(a>1?a-1:0),d=1;d<a;d++)o[d-1]=arguments[d];null===(n=this.$app.$def.topon_sdk)||void 0===n||(r=n.rewardedVideo[i])[t].apply(r,o)}}},od={containerStyle:{flexDirection:\"column\",width:\"100%\",paddingTop:\"10px\",paddingRight:\"10px\",paddingBottom:\"10px\",paddingLeft:\"10px\"},contentStyle:{flexDirection:\"column\",width:\"100%\"},mainStyle:{flex:1,flexDirection:\"column\"},headerStyle:{flex:1,flexDirection:\"column\"},footerStyle:{flexDirection:\"row\"},imgStyle:{width:\"100%\",overflow:\"hidden\",borderRadius:\"10px\",justifyContent:\"flex-end\",position:\"relative\"},imgPropertiesStyle:{width:\"100%\",objectFit:\"fill\"},titleStyle:{padding:\"10px\",lineHeight:\"40px\",fontSize:\"36px\",fontWeight:700,color:\"rgb(44, 62, 88)\",textOverflow:\"ellipsis\",lines:\"1\"},descStyle:{marginRight:\"20px\",marginTop:\"12px\",fontSize:\"24px\",color:\"rgb(44, 62, 88)\",textOverflow:\"ellipsis\",lines:\"1\",display:\"none\"},buttonStyle:{width:\"100%\",paddingTop:\"20px\",paddingRight:\"20px\",paddingBottom:\"20px\",paddingLeft:\"20px\",borderRadius:\"20px\",backgroundColor:\"#ff9e2b\",textAlign:\"center\",fontSize:\"24px\",color:\"#FFFFFF\"},closeStyle:{closeContainer:{position:\"absolute\",right:\"15px\",top:\"15px\",zIndex:\"100\",alignItems:\"center\",justifyContent:\"center\",transform:\"translateY(0px)\"},closeClickArea:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"transparent\"},closeBtn:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"rgba(0, 0, 0, .4)\"}},logoStyle:{logoContainer:{height:\"30px\",alignItems:\"center\",alignSelf:\"flex-end\",justifyContent:\"flex-end\",marginBottom:\"4px\",marginRight:\"4px\",backgroundColor:\"rgba(153, 153, 153, 0.8)\"},logoImg:{width:\"70px\",marginRight:\"2px\",display:\"flex\"}}},dd={2:{containerStyle:{paddingTop:\"0px\",paddingBottom:\"0px\"},contentStyle:{flexDirection:\"row-reverse\"},headerStyle:{justifyContent:\"space-between\"},footerStyle:{justifyContent:\"flex-end\",alignItems:\"center\"},imgStyle:{width:\"175px\",height:\"100px\",marginLeft:\"20px\"},imgPropertiesStyle:{height:\"100%\"},titleStyle:{padding:\"0px\",fontSize:\"30px\",lineHeight:\"36px\"},descStyle:{width:\"100%\",marginRight:\"0\",marginTop:\"0px\",display:\"flex\"},buttonStyle:{width:\"auto\",paddingTop:\"8px\",paddingBottom:\"8px\",backgroundColor:\"transparent\",borderWidth:\"1px\",borderColor:\"rgb(44, 62, 88)\",borderStyle:\"solid\",color:\"rgb(44, 62, 88)\"},closeStyle:{closeBtn:{width:\"32px\",height:\"32px\",color:\"rgb(44, 62, 88)\",borderRadius:\"0\",backgroundColor:\"transparent\"},closeClickArea:{width:\"32px\",height:\"32px\",borderRadius:\"0\"}}},3:{containerStyle:{paddingTop:\"0px\",paddingBottom:\"0px\"},contentStyle:{flexDirection:\"row\"},imgStyle:{width:\"175px\",height:\"100px\",marginRight:\"20px\"},imgPropertiesStyle:{height:\"100%\"},titleStyle:{padding:\"0px\",fontSize:\"30px\",lineHeight:\"36px\"},descStyle:{marginRight:\"0px\",marginTop:\"12px\",display:\"flex\"},buttonStyle:{width:\"auto\",paddingTop:\"8px\",paddingBottom:\"8px\"},mainStyle:{flexDirection:\"row\",justifyContent:\"flex-start\",alignItems:\"center\"},footerStyle:{alignSelf:\"center\",justifyContent:\"flex-end\"},closeStyle:{closeContainer:{top:\"0px\",right:\"0px\"},closeBtn:{width:\"32px\",height:\"32px\",backgroundColor:\"rgba(0, 0, 0, .4)\",borderRadius:\"0\"},closeClickArea:{width:\"32px\",height:\"32px\",borderRadius:\"0\"}}},4:{containerStyle:{paddingTop:\"0px\",paddingBottom:\"0px\"},contentStyle:{flexDirection:\"row\"},imgStyle:{width:\"315px\",height:\"180px\",marginRight:\"20px\"},imgPropertiesStyle:{height:\"100%\"},titleStyle:{padding:\"0px\",fontSize:\"30px\"},descStyle:{marginRight:\"0px\",display:\"flex\"},buttonStyle:{width:\"auto\",paddingTop:\"8px\",paddingBottom:\"8px\"},footerStyle:{justifyContent:\"flex-end\"},closeStyle:{closeContainer:{top:\"0px\",right:\"0px\"},closeBtn:{width:\"32px\",height:\"32px\",backgroundColor:\"rgba(0, 0, 0, .4)\",borderRadius:\"0\"},closeClickArea:{width:\"32px\",height:\"32px\",borderRadius:\"0\"}}}};function sd(t){var i,n=t.name,a=t.proxyName,o=void 0===a?null:a,d=t.params,s=void 0===d?{}:d,l=t.proxyParams,c=void 0===l?{}:l;try{if(null==this||!this.$dispatch||null==this||!this.adExtra)return;var u=o||\"proxy\".concat((i=n).charAt(0).toUpperCase()+i.slice(1)),h=JSON.parse(function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&\"object\"!=r(t[i])&&\"function\"!=typeof t[i]&&(e[i]=t[i]);return JSON.stringify(e)}(this.adExtra.unit));this.$dispatch(u,e({unit:h,adapter:{detail:e({},s)}},c))}catch(t){}}function ld(){var t=this;if(null!=this&&this.adOption){var e=this.adOption,i=e._nw_timeout,n=e._unit_id;cd.call(this),this.timerId=setTimeout((function(){t.adError({code:9001,msg:\"unitId: \".concat(n,\" \")})}),i)}}function cd(t){var e=t||(null==this?void 0:this.timerId)||null;e&&clearTimeout(e)}function ud(t,e){if(!t)return e;if(!dd[t])return e;var i=$.call(this,e,dd[t],!1);return\"2\"===t&&delete i.closeStyle.closeContainer,i}var hd,pd,fd,vd={adProxyEvent:{onInit:(fd=o(i().mark((function t(){var e,n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=P(this.adConfig.filter,tt.ADX,this.adOption._unit_id))){t.next=4;break}return this.adError({code:a,msg:\"\"}),t.abrupt(\"return\");case 4:if(ld.call(this),this.handleAdInit(),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-show\"),v(null==this||null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.store)||void 0===n||null===(n=n.device)||void 0===n?void 0:n.info)){t.next=11;break}t.t0=null==this||null===(r=this.$app)||void 0===r||null===(r=r.$def)||void 0===r||null===(r=r.topon_sdk)||void 0===r||null===(r=r.store)||void 0===r||null===(r=r.device)||void 0===r?void 0:r.info,t.next=17;break;case 11:return t.next=13,H.getInfo();case 13:if(t.t1=t.sent,t.t1){t.next=16;break}t.t1={};case 16:t.t0=t.t1;case 17:o=t.t0,this.deviceInfoCache=o;case 19:case\"end\":return t.stop()}}),t,this)}))),function(){return fd.apply(this,arguments)}),onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t;this.lockAdAppear=\"\";var e=Io.call(this,this.adExtra.placementId),i=null!==(t=null==e?void 0:e.offer_data)&&void 0!==t?t:{};sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.adLoad(i)},show:function(){if(this.ready){var t=(this.adExtra||{}).placementId,e=void 0===t?\"\":t,i=Io.call(this,e);if(Date.now()>i._expirationTime)return this.adError({code:1101,msg:\"\"}),void bo.call(this,e,{});this.displayed=!0}},adLoad:function(t){var e,i;if(null!=t&&t.seatbid&&null!=t&&null!==(e=t.seatbid)&&void 0!==e&&e.length){this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(i=null==t?void 0:t.seatbid)&&void 0!==i?i:[],sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this);var n=ud.call(this,this.templateId,od),r=U.call(this,this.adConfig.style),a=U.call(this,n),o=$.call(this,a,r);this.adStyle=o,this.updateCloseStyle()}else{this.adError({code:2e3,msg:\"TopOn Adx\"})}},updateCloseStyle:function(){var t,e,i=null!==(t=null===(e=this.currentAd)||void 0===e||null===(e=e.ctrl)||void 0===e?void 0:e.ft_cl_sz)&&void 0!==t?t:1;if(1!==i){var n={1:1,2:1.5,3:.75,4:.5},r=this.adStyle.closeStyle.closeBtn.width.match(/\\d+/g)[0];if(this.adStyle.closeStyle.closeClickArea.width=r*n[i]+\"px\",this.adStyle.closeStyle.closeClickArea.height=r*n[i]+\"px\",n[i]>1){var a=r*n[i]/2-r/2+\"px\";this.adStyle.closeStyle.closeContainer.transform=\"translateY(-\".concat(a,\")\")}}},adShow:function(t){sd.call(this,{name:\"adShow\"})},adClick:function(t){var e=this;sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}}),this.handleNotice(\"click\"),this.noticeSucceed=!1,this.noticeFailed=!1;var i=S(),n=i.router,r=i.pkg,a=this||{},o=a.adExtra,d=void 0===o?{}:o,s=a.currentAd,l=void 0===s?{}:s,c=a.adOption,u=void 0===c?{}:c,h=d.placementId,p=void 0===h?\"\":h,f=l.deeplink,v=void 0===f?\"\":f,m=l.oid,_=l.click_u,g=void 0===_?\"\":_,y=l.link_type,I=l.pkg,b=void 0===I?\"\":I;if(v)return this.handleNotice(\"dp_start\"),void r.hasInstalled({package:b,success:function(t){if(t.result){var i,r,a;e.handleNotice(\"app_install\"),n.push({uri:v}),e.onHideCallback=e.subscribeAppHideCallback.bind(e),e.onShowCallback=e.handleDeepLinkFailed.bind(e);var o={once:!0};null==e||null===(i=e.$app)||void 0===i||null===(i=i.$def)||void 0===i||null===(i=i.topon_sdk)||void 0===i||null===(i=i.event)||void 0===i||null===(i=i.deeplink)||void 0===i||i.subscribe(\"app-on-hide\",e.onHideCallback,o),null==e||null===(r=e.$app)||void 0===r||null===(r=r.$def)||void 0===r||null===(r=r.topon_sdk)||void 0===r||null===(r=r.event)||void 0===r||null===(r=r.deeplink)||void 0===r||r.subscribe(\"app-on-show\",e.onShowCallback,o),\"vivo\"==(null==e||null===(a=e.deviceInfoCache)||void 0===a||null===(a=a.brand)||void 0===a?void 0:a.toLowerCase())&&(e.failTimeId&&clearTimeout(e.failTimeId),e.failTimeId=setTimeout((function(){e.noticeSucceed||e.handleDeepLinkFailed()}),3e3))}else{e.handleNotice(\"app_uninstall\"),e.handleNotice(\"dp_uninst_fail\");var d={key:\"DEEPLINK_RESULT\",unitid:p,requestid:u._request_id,msg:\"\"+m,msg1:\"2\",msg2:\"\"+g,msg3:\"0\",msg4:\"1\",msg7:\"0\"};Va.call(e,d),n.push({uri:\"TopOn/AdLanding\",params:{url:g}})}},fail:function(t,i){e.handleNotice(\"dp_uninst_fail\");var r={key:\"DEEPLINK_RESULT\",unitid:p,requestid:u._request_id,msg:\"\"+m,msg1:\"2\",msg2:\"\"+g,msg3:\"0\",msg4:\"1\",msg7:\"0\"};Va.call(e,r),n.push({uri:\"TopOn/AdLanding\",params:{url:g}})}});2===y&&n.push({uri:g}),3===y&&n.push({uri:\"TopOn/AdLanding\",params:{url:g}})},adClose:function(t){this.displayed=!1,this.adDestroy=!0,sd.call(this,{name:\"adClose\"}),this.validityTimeId&&clearTimeout(this.validityTimeId)},adError:function(t){var i=(this||{}).adOption,n=void 0===i?{}:i,r=n._request_id+\"/\"+n._unit_id;if(this.lockAdError!==r){this.lockAdError=r,this.ready=!1;var a=e(e({},t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code});delete a.errCode,delete a.errMsg,sd.call(this,{name:\"adError\",params:a}),cd.call(this)}},adAppear:(pd=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=this||{}).adOption,r=void 0===n?{}:n,a=e.adExtra,o=void 0===a?{}:a,d=r._request_id+\"/\"+r._unit_id,this.lockAdAppear!==d){t.next=4;break}return t.abrupt(\"return\");case 4:this.lockAdAppear=d,bo.call(this,o.placementId,{}),this.isAdExposureValid(),this.reportBidWinDa();case 8:case\"end\":return t.stop()}}),t,this)}))),function(){return pd.apply(this,arguments)}),reportBidWinDa:function(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=void 0===n?{}:n,a=t.currentAd,o=void 0===a?{}:a,d=r.placementId,s=r.trafficGroupId,l=r.segmentId,c=r.asId,u=r.nwFirmId,h=r.ecpm,p=r.bidTk,f={key:\"BID_WIN\",unitid:d,requestid:i._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(i._unit_id),msg2:\"\",msg3:\"\",msg4:\"\"+o.dsp_id,msg5:\"\"+o.oid,msg6:\"1\",msg7:p.tpBidId,msg8:\"\"+h,msg9:\"\"};Va.call(this,f)},isAdExposureValid:(hd=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=this||{}).adExtra,a=void 0===r?{}:r,o=n.currentAd,d=void 0===o?{}:o,s=Date.now(),t.next=4,this.getBoundingClientRect();case 4:if(l=t.sent,this.clientRect=l,c=[1,3].includes(a.format)?0:100,null!=d&&null!==(e=d.ctrl)&&void 0!==e&&e.shm_t&&(c=d.ctrl.shm_t),u=c,h=F.call(this,l,this.deviceInfoCache),p=Date.now(),c>(f=p-s)&&(u=c-f),c<f&&(u=0),h>.02){t.next=20;break}return console.error(\"ADX\"),_={ratio:h,clientRect:l,deviceInfo:{screenWidth:null===(v=this.deviceInfoCache)||void 0===v?void 0:v.screenWidth,screenHeight:null===(m=this.deviceInfoCache)||void 0===m?void 0:m.screenHeight}},this.reportInvalidImpressionDa(_),t.abrupt(\"return\");case 20:this.validityTimeId&&clearTimeout(this.validityTimeId),this.validityTimeId=setTimeout((function(){g.adDestroy?console.error(\"ADX\"):(g.adShow(),g.handleNotice(\"nurl\"),sd.call(g,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}}),g.handleNotice(\"imp\"),g.handleNotice(\"burl\"))}),u);case 22:case\"end\":return t.stop()}}),t,this)}))),function(){return hd.apply(this,arguments)}),handleNotice:function(t){var e,i=(this.currentAd||{}).tk,n=void 0===i?{}:i;if(n[t]&&null!==(e=n[t])&&void 0!==e&&e.length){var r=this.getMacroData();ko.call(this,n[t],r)}},adTouchStart:function(t){var i=t.timestamp||Date.now(),n=t.detail.touches[0]||{};this.startPoint=e(e({},n),{},{timestamp:i})},adTouchMove:function(t){},adTouchEnd:function(t){var i=t.timestamp||Date.now(),n=t.detail.changedTouches[0]||{};this.endPoint=e(e({},n),{},{timestamp:i})},getBoundingClientRect:function(){var t=this.$element(\"top-on-adx-container-\".concat(this.adOption._unit_id));return t?new Promise((function(e,i){t.getBoundingClientRect({success:function(t){return e(t)},fail:function(){return e({})}})})):{}},getMacroData:function(){var t,e,i,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this.clientRect,y=this.startPoint,I=void 0===y?{}:y,b=this.endPoint,k=void 0===b?{}:b,w=this.currentAd,x=void 0===w?{}:w,S={down_x:null!==(t=null==I?void 0:I.clientX)&&void 0!==t?t:\"-999\",down_y:null!==(e=null==I?void 0:I.clientY)&&void 0!==e?e:\"-999\",up_x:null!==(i=null==k?void 0:k.clientX)&&void 0!==i?i:\"-999\",up_y:null!==(n=null==k?void 0:k.clientY)&&void 0!==n?n:\"-999\"},T={down_x:null!==(r=null==I?void 0:I.offsetX)&&void 0!==r?r:\"-999\",down_y:null!==(a=null==I?void 0:I.offsetY)&&void 0!==a?a:\"-999\",up_x:null!==(o=null==k?void 0:k.offsetX)&&void 0!==o?o:\"-999\",up_y:null!==(d=null==k?void 0:k.offsetY)&&void 0!==d?d:\"-999\"};return{\"{__WIDTH__}\":null!==(s=null==g?void 0:g.width)&&void 0!==s?s:\"\",\"{__HEIGHT__}\":null!==(l=null==g?void 0:g.height)&&void 0!==l?l:\"\",\"{__DOWN_X__}\":null!==(c=null==I?void 0:I.clientX)&&void 0!==c?c:\"\",\"{__DOWN_Y__}\":null!==(u=null==I?void 0:I.clientY)&&void 0!==u?u:\"\",\"{__UP_X__}\":null!==(h=null==k?void 0:k.clientX)&&void 0!==h?h:\"\",\"{__UP_Y__}\":null!==(p=null==k?void 0:k.clientY)&&void 0!==p?p:\"\",\"{__RE_DOWN_X__}\":null!==(f=null==I?void 0:I.offsetX)&&void 0!==f?f:\"-999\",\"{__RE_DOWN_Y__}\":null!==(v=null==I?void 0:I.offsetY)&&void 0!==v?v:\"-999\",\"{__RE_UP_X__}\":null!==(m=null==k?void 0:k.offsetX)&&void 0!==m?m:\"-999\",\"{__RE_UP_Y__}\":null!==(_=null==k?void 0:k.offsetY)&&void 0!==_?_:\"-999\",\"{__TS__}\":I.timestamp/1e3,\"{__TS_MSEC__}\":I.timestamp,\"{__END_TS__}\":k.timestamp/1e3,\"{__END_TS_MSEC__}\":k.timestamp,\"{ABSOLUTE_COORD}\":S,\"{RELATIVE_COORD}\":T,\"{__DPLINK_TYPE__}\":x.deeplink?1:2}},handleDeepLinkSucceed:function(t){var e;this.handleNotice(\"dp_succ\"),this.noticeSucceed=!0,this.failTimeId&&clearTimeout(this.failTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-show\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"1\",msg4:\"0\",msg7:\"0\"};Va.call(this,p)},handleDeepLinkFailed:function(t){var e;this.handleNotice(\"dp_inst_fail\"),this.noticeFailed=!0,this.succeedTimeId&&clearTimeout(this.succeedTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-hide\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"0\",msg4:\"0\",msg7:\"0\"};Va.call(this,p)},subscribeAppHideCallback:function(){var t,e=this,i=null==this||null===(t=this.deviceInfoCache)||void 0===t||null===(t=t.brand)||void 0===t?void 0:t.toLowerCase();[\"oppo\",\"xiaomi\",\"redmi\"].includes(i)?(this.succeedTimeId&&clearTimeout(this.succeedTimeId),this.succeedTimeId=setTimeout((function(){e.noticeFailed||e.handleDeepLinkSucceed()}),1e3)):this.handleDeepLinkSucceed()},reportInvalidImpressionDa:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this||{},n=i.adOption,r=void 0===n?{}:n,a=i.adExtra,o=void 0===a?{}:a,d=i.currentAd,s=void 0===d?{}:d,l=o.placementId,c=o.trafficGroupId,u=o.segmentId,h=o.asId;o.nwFirmId,o.ecpm,o.bidTk;var p={key:\"ADX_IMP_INVALID\",unitid:l,requestid:r._request_id,groupid:u,traffic_group_id:c,asid:h,msg:s.dsp_id,msg1:String(r._unit_id),msg2:\"\"+s.oid,msg3:\"2\",msg4:null!==(t=null==e?void 0:e.msg4)&&void 0!==t?t:\"2\",msg5:JSON.stringify(e)};Va.call(this,p)}},md={containerStyle:{flexDirection:\"column\",width:\"100%\",height:\"100%\"},contentStyle:{flexDirection:\"column\",width:\"100%\",height:\"100%\",position:\"relative\",justifyContent:\"flex-end\"},imgStyle:{justifyContent:\"center\",width:\"100%\",height:\"100%\",alignItems:\"center\"},imgPropertiesStyle:{width:\"100%\",objectFit:\"fill\"},iconStyle:{width:\"80px\",height:\"80px\",marginRight:\"20px\"},iconPropertiesStyle:{width:\"100%\",borderRadius:\"10px\",height:\"100%\"},videoStyle:{justifyContent:\"center\",width:\"100%\",height:\"100%\",alignItems:\"center\"},videoPropertiesStyle:{width:\"100%\",objectFit:\"cover\",height:\"100%\"},downloadStyle:{container:{width:\"100%\"},panel:{width:\"100%\",flexDirection:\"column\",padding:\"20px\",filter:\"blur(180px)\",background:{values:[{type:\"linearGradient\",directions:[\"180deg\"],values:[\"rgba(0,0,0,0)\",\"rgba(0,0,0,0.8)\"]}]}},title:{flexDirection:\"column\"},titleText:{lineHeight:\"38px\",fontSize:\"36px\",fontWeight:700,color:\"rgba(255, 255, 255, 1)\"},desc:{fontSize:\"24px\",lineHeight:\"26px\",marginTop:\"4px\",color:\"rgba(255, 255, 255, 1)\"}},buttonStyle:{width:\"100%\",paddingTop:\"20px\",paddingRight:\"20px\",paddingBottom:\"20px\",paddingLeft:\"20px\",borderRadius:\"24px\",backgroundColor:\"#1D6AFF\",textAlign:\"center\",fontSize:\"28px\",color:\"#FFFFFF\",marginTop:\"30px\"},closeStyle:{closeContainer:{position:\"absolute\",right:\"30px\",top:\"60px\",zIndex:\"100\",alignItems:\"center\",justifyContent:\"center\",transform:\"translateY(0px)\"},closeClickArea:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"transparent\"},closeBtn:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"rgba(0, 0, 0, .4)\"}},logoStyle:{logoContainer:{height:\"30px\",alignItems:\"center\",alignSelf:\"flex-end\",justifyContent:\"flex-end\",marginBottom:\"4px\",backgroundColor:\"rgba(153, 153, 153, 0.8)\"},logoImg:{width:\"70px\",marginRight:\"2px\",display:\"flex\"}},factorStyle:{factorContainer:{justifyContent:\"space-between\",marginTop:\"20px\"},infoText:{fontSize:\"22px\",color:\"#A0A0A0\",marginRight:\"10px\"}},countdownStyle:{position:\"absolute\",left:\"30px\",top:\"60px\",width:\"160px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"24px\",zIndex:\"100\",color:\"#FFFFFF\",backgroundColor:\"rgba(0, 0, 0, .4)\",fontSize:\"20px\"},feedbackStyle:{containerStyle:{position:\"absolute\",right:\"100px\",top:\"60px\",height:\"48px\",paddingLeft:\"16px\",paddingRight:\"16px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"24px\",zIndex:\"100\",color:\"#FFFFFF\",backgroundColor:\"rgba(0, 0, 0, .4)\",fontSize:\"20px\"},iconStyle:{fontSize:\"20px\",color:\"#000000\",width:\"24px\",height:\"24px\",marginRight:\"4px\",borderRadius:\"50%\",alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"rgba(255, 255, 255, 1)\"}}},_d={adProxyEvent:{onInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=P(this.adConfig.filter,tt.ADX,this.adOption._unit_id))){t.next=4;break}return this.adError({code:r,msg:\"\"}),t.abrupt(\"return\");case 4:if(a=U.call(this,this.adConfig.style),o=U.call(this,md),d=$.call(this,o,a),this.adStyle=d,ld.call(this),this.handleAdInit(),v(null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.store)||void 0===e||null===(e=e.device)||void 0===e?void 0:e.info)){t.next=14;break}t.t0=null==this||null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.store)||void 0===n||null===(n=n.device)||void 0===n?void 0:n.info,t.next=20;break;case 14:return t.next=16,H.getInfo();case 16:if(t.t1=t.sent,t.t1){t.next=19;break}t.t1={};case 19:t.t0=t.t1;case 20:s=t.t0,this.deviceInfoCache=s;case 22:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e=Io.call(this,this.adExtra.placementId),i=null!==(t=null==e?void 0:e.offer_data)&&void 0!==t?t:{};sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.adLoad(i)},show:function(){var t;if(this.ready){var e=this||{},i=e.currentAd,n=void 0===i?{}:i,r=e.adStyle,a=void 0===r?{}:r,o=e.adExtra,d=void 0===o?{}:o,s=e.adOption,l=void 0===s?{}:s,c=d.placementId,u=void 0===c?\"\":c,h=S().router,p=Io.call(this,u);if(Date.now()>p._expirationTime)return this.adError({code:1101,msg:\"\"}),void bo.call(this,u,{});var f=\"\".concat(u,\"/\").concat(l._unit_id),v={adData:n,adStyle:a,option:{_request_id:l._request_id,_countdown:(null==n||null===(t=n.ctrl)||void 0===t?void 0:t.or_img_t)/1e3||0}};N.call(this,\"adxRewardedVideo\",f,v),h.push({uri:\"TopOn/AdReward\",params:{adUnitId:l._unit_id,plId:d.placementId}}),this.adShow()}},adLoad:function(t){var e,i,n;if(null!=t&&t.seatbid&&null!=t&&null!==(e=t.seatbid)&&void 0!==e&&e.length)if(null!=t&&null!==(i=t.seatbid[this.adListIndexInUse])&&void 0!==i&&i.full_u)this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(n=null==t?void 0:t.seatbid)&&void 0!==n?n:[],sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this),this.createRewardedVideo(),this.updateCloseStyle();else{this.adError({code:9008,msg:\"ADX[]\"})}else{this.adError({code:2e3,msg:\"ADX\"})}},updateCloseStyle:function(){var t,e,i=null!==(t=null===(e=this.currentAd)||void 0===e||null===(e=e.ctrl)||void 0===e?void 0:e.ft_cl_sz)&&void 0!==t?t:1;if(1!==i){var n={1:1,2:1.5,3:.75,4:.5},r=this.adStyle.closeStyle.closeBtn.width.match(/\\d+/g)[0];if(this.adStyle.closeStyle.closeClickArea.width=r*n[i]+\"px\",this.adStyle.closeStyle.closeClickArea.height=r*n[i]+\"px\",n[i]>1){var a=r*n[i]/2-r/2+\"px\";this.adStyle.closeStyle.closeContainer.transform=\"translateY(-\".concat(a,\")\")}}},createRewardedVideo:function(){this.$app.$def.topon_sdk.rewardedVideo||(this.$app.$def.topon_sdk.rewardedVideo=Object.create(null));var t=this.adExtra,e=this.adOption,i=\"\".concat(t.placementId,\"/\").concat(e._unit_id);this.$app.$def.topon_sdk.rewardedVideo[i]||(this.$app.$def.topon_sdk.rewardedVideo[i]=Object.create(null));var n=this;this.$app.$def.topon_sdk.rewardedVideo[i].adClick=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adClick).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adClose=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adClose).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adError=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adError).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adImpression=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adImpression).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adTouch=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adTouch).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adFeedback=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adFeedback).call.apply(t,[n].concat(i))}},destroyRewardedVideo:function(){var t;if(this.$app&&null!==(t=this.$app)&&void 0!==t&&t.$def){var e=this||{},i=e.adExtra,n=void 0===i?{}:i,r=e.adOption,a=void 0===r?{}:r,o=\"\".concat(n.placementId,\"/\").concat(a._unit_id);this.$app.$def.topon_sdk.rewardedVideo[o]=null,delete this.$app.$def.topon_sdk.rewardedVideo[o]}},adShow:function(t){var e;sd.call(this,{name:\"adShow\"}),bo.call(this,null===(e=this.adExtra)||void 0===e?void 0:e.placementId,{})},adClick:function(t,e){var i=this;sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}}),this.handleNotice(\"click\"),this.noticeSucceed=!1,this.noticeFailed=!1,e&&e();var n=S(),r=n.router,a=n.pkg,o=this||{},d=o.adExtra,s=void 0===d?{}:d,l=o.currentAd,c=void 0===l?{}:l,u=o.adOption,h=void 0===u?{}:u,p=s.placementId,f=void 0===p?\"\":p,v=c.deeplink,m=void 0===v?\"\":v,_=c.oid,g=c.click_u,y=void 0===g?\"\":g,I=c.link_type,b=c.pkg,k=void 0===b?\"\":b;if(m)return this.handleNotice(\"dp_start\"),void a.hasInstalled({package:k,success:function(t){if(t.result){var e,n,a;i.handleNotice(\"app_install\"),r.push({uri:m}),i.onHideCallback=i.subscribeAppHideCallback.bind(i),i.onShowCallback=i.handleDeepLinkFailed.bind(i);var o={once:!0};null==i||null===(e=i.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.subscribe(\"app-on-hide\",i.onHideCallback,o),null==i||null===(n=i.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.event)||void 0===n||null===(n=n.deeplink)||void 0===n||n.subscribe(\"app-on-show\",i.onShowCallback,o),\"vivo\"==(null==i||null===(a=i.deviceInfoCache)||void 0===a||null===(a=a.brand)||void 0===a?void 0:a.toLowerCase())&&(i.failTimeId&&clearTimeout(i.failTimeId),i.failTimeId=setTimeout((function(){i.noticeSucceed||i.handleDeepLinkFailed()}),3e3))}else{i.handleNotice(\"app_uninstall\"),i.handleNotice(\"dp_uninst_fail\");var d={key:\"DEEPLINK_RESULT\",unitid:f,requestid:h._request_id,msg:\"\"+_,msg1:\"2\",msg2:\"\"+y,msg3:\"0\",msg4:\"1\",msg7:\"1\"};Va.call(i,d),r.push({uri:\"TopOn/AdLanding\",params:{url:y}})}},fail:function(t,e){i.handleNotice(\"dp_uninst_fail\");var n={key:\"DEEPLINK_RESULT\",unitid:f,requestid:h._request_id,msg:\"\"+_,msg1:\"2\",msg2:\"\"+y,msg3:\"0\",msg4:\"1\",msg7:\"1\"};Va.call(i,n),r.push({uri:\"TopOn/AdLanding\",params:{url:y}})}});2===I&&r.push({uri:y}),3===I&&r.push({uri:\"TopOn/AdLanding\",params:{url:y}})},adClose:function(t){var e;this.adDestroy=!0;var i=null!==(e=null==t?void 0:t.reward)&&void 0!==e&&e;sd.call(this,{name:\"adClose\",params:{reward:i}}),i&&sd.call(this,{name:\"adReward\",params:{reward:i}}),this.validityTimeId&&clearTimeout(this.validityTimeId),this.destroyRewardedVideo()},adError:function(t){var i=(this||{}).adOption,n=void 0===i?{}:i,r=n._request_id+\"/\"+n._unit_id;if(this.lockAdError!==r){this.lockAdError=r,this.ready=!1;var a=e(e({},t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code});delete a.errCode,delete a.errMsg,sd.call(this,{name:\"adError\",params:a}),cd.call(this)}},adImpression:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clientRect,i=t.diff,n=void 0===i?0:i;this.clientRect=e,this.isAdExposureValid(e,n),this.reportBidWinDa()},reportBidWinDa:function(){var t=this||{},e=t.adExtra,i=void 0===e?{}:e,n=t.currentAd,r=void 0===n?{}:n,a=t.adOption,o=void 0===a?{}:a,d=i.placementId,s=i.trafficGroupId,l=i.segmentId,c=i.asId,u=i.nwFirmId,h=i.ecpm,p=i.bidTk,f={key:\"BID_WIN\",unitid:d,requestid:o._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(o._unit_id),msg2:\"\",msg3:\"\",msg4:\"\"+r.dsp_id,msg5:\"\"+r.oid,msg6:\"1\",msg7:p.tpBidId,msg8:\"\"+h,msg9:\"\"};Va.call(this,f)},isAdExposureValid:function(t,e){var i,n=this,r=this||{},a=r.adExtra,o=void 0===a?{}:a,d=r.currentAd,s=void 0===d?{}:d,l=Date.now(),c=[1,3].includes(o.format)?0:100;null!=s&&null!==(i=s.ctrl)&&void 0!==i&&i.shm_t&&(c=s.ctrl.shm_t);var u=c,h=F.call(this,t,this.deviceInfoCache),p=Date.now()-l+e;if(c>p&&(u=c-p),c<p&&(u=0),h>.02)this.validityTimeId&&clearTimeout(this.validityTimeId),this.validityTimeId=setTimeout((function(){n.adDestroy?console.error(\"ADX\"):(n.handleNotice(\"nurl\"),sd.call(n,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}}),n.handleNotice(\"imp\"),n.handleNotice(\"burl\"))}),u);else{var f,v;console.error(\"ADX\");var m={ratio:h,clientRect:t,deviceInfo:{screenWidth:null===(f=this.deviceInfoCache)||void 0===f?void 0:f.screenWidth,screenHeight:null===(v=this.deviceInfoCache)||void 0===v?void 0:v.screenHeight}};this.reportInvalidImpressionDa(m)}},handleNotice:function(t){var e,i=(this.currentAd||{}).tk,n=void 0===i?{}:i;if(n[t]&&null!==(e=n[t])&&void 0!==e&&e.length){var r=this.getMacroData();ko.call(this,n[t],r)}},getMacroData:function(){var t,e,i,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this.clientRect,y=this.startPoint,I=void 0===y?{}:y,b=this.endPoint,k=void 0===b?{}:b,w=this.currentAd,x=void 0===w?{}:w,S={down_x:null!==(t=null==I?void 0:I.clientX)&&void 0!==t?t:\"-999\",down_y:null!==(e=null==I?void 0:I.clientY)&&void 0!==e?e:\"-999\",up_x:null!==(i=null==k?void 0:k.clientX)&&void 0!==i?i:\"-999\",up_y:null!==(n=null==k?void 0:k.clientY)&&void 0!==n?n:\"-999\"},T={down_x:null!==(r=null==I?void 0:I.offsetX)&&void 0!==r?r:\"-999\",down_y:null!==(a=null==I?void 0:I.offsetY)&&void 0!==a?a:\"-999\",up_x:null!==(o=null==k?void 0:k.offsetX)&&void 0!==o?o:\"-999\",up_y:null!==(d=null==k?void 0:k.offsetY)&&void 0!==d?d:\"-999\"};return{\"{__WIDTH__}\":null!==(s=null==g?void 0:g.width)&&void 0!==s?s:\"\",\"{__HEIGHT__}\":null!==(l=null==g?void 0:g.height)&&void 0!==l?l:\"\",\"{__DOWN_X__}\":null!==(c=null==I?void 0:I.clientX)&&void 0!==c?c:\"\",\"{__DOWN_Y__}\":null!==(u=null==I?void 0:I.clientY)&&void 0!==u?u:\"\",\"{__UP_X__}\":null!==(h=null==k?void 0:k.clientX)&&void 0!==h?h:\"\",\"{__UP_Y__}\":null!==(p=null==k?void 0:k.clientY)&&void 0!==p?p:\"\",\"{__RE_DOWN_X__}\":null!==(f=null==I?void 0:I.offsetX)&&void 0!==f?f:\"-999\",\"{__RE_DOWN_Y__}\":null!==(v=null==I?void 0:I.offsetY)&&void 0!==v?v:\"-999\",\"{__RE_UP_X__}\":null!==(m=null==k?void 0:k.offsetX)&&void 0!==m?m:\"-999\",\"{__RE_UP_Y__}\":null!==(_=null==k?void 0:k.offsetY)&&void 0!==_?_:\"-999\",\"{__TS__}\":I.timestamp/1e3,\"{__TS_MSEC__}\":I.timestamp,\"{__END_TS__}\":k.timestamp/1e3,\"{__END_TS_MSEC__}\":k.timestamp,\"{ABSOLUTE_COORD}\":S,\"{RELATIVE_COORD}\":T,\"{__DPLINK_TYPE__}\":x.deeplink?1:2}},handleDeepLinkSucceed:function(t){var e;this.handleNotice(\"dp_succ\"),this.noticeSucceed=!0,this.failTimeId&&clearTimeout(this.failTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-show\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"1\",msg4:\"0\",msg7:\"1\"};Va.call(this,p)},handleDeepLinkFailed:function(t){var e;this.handleNotice(\"dp_inst_fail\"),this.noticeFailed=!0,this.succeedTimeId&&clearTimeout(this.succeedTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-hide\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"0\",msg4:\"0\",msg7:\"1\"};Va.call(this,p)},adTouch:function(t){var e=t.type,i=t.data;this[\"\".concat(e,\"Point\")]=i},adFeedback:function(t){var i,n,r,a,o,d,s,l,c=this||{},u=c.adExtra,h=void 0===u?{}:u,p=c.adOption,f=void 0===p?{}:p,v=c.currentAd,m=void 0===v?{}:v,_=e(e({key:\"AD_FEEDBACK\",unitid:h.placementId,requestid:f._request_id,msg:\"66\",msg1:\"\"+f._unit_id,msg2:\"2\"},t),{},{msg5:null!==(i=null==m?void 0:m.oid)&&void 0!==i?i:\"\",msg6:null!==(n=null==m?void 0:m.c_id)&&void 0!==n?n:\"\",msg7:null!==(r=null==m?void 0:m.pkg)&&void 0!==r?r:\"\",msg8:null!==(a=null==m?void 0:m.title)&&void 0!==a?a:\"\",msg9:null!==(o=null==m?void 0:m.desc)&&void 0!==o?o:\"\",msg10:null!==(d=null==m?void 0:m.icon_u)&&void 0!==d?d:\"\",msg11:null!==(s=null==m?void 0:m.full_u)&&void 0!==s?s:\"\",msg12:null!==(l=null==m?void 0:m.video_u)&&void 0!==l?l:\"\",msg13:JSON.stringify(null==m?void 0:m.img_list)});Va.call(this,_)},subscribeAppHideCallback:function(){var t,e=this,i=null==this||null===(t=this.deviceInfoCache)||void 0===t||null===(t=t.brand)||void 0===t?void 0:t.toLowerCase();[\"oppo\",\"xiaomi\",\"redmi\"].includes(i)?(this.succeedTimeId&&clearTimeout(this.succeedTimeId),this.succeedTimeId=setTimeout((function(){e.noticeFailed||e.handleDeepLinkSucceed()}),1e3)):this.handleDeepLinkSucceed()},reportInvalidImpressionDa:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this||{},n=i.adOption,r=void 0===n?{}:n,a=i.adExtra,o=void 0===a?{}:a,d=i.currentAd,s=void 0===d?{}:d,l=o.placementId,c=o.trafficGroupId,u=o.segmentId,h=o.asId;o.nwFirmId,o.ecpm,o.bidTk;var p={key:\"ADX_IMP_INVALID\",unitid:l,requestid:r._request_id,groupid:u,traffic_group_id:c,asid:h,msg:s.dsp_id,msg1:String(r._unit_id),msg2:\"\"+s.oid,msg3:\"2\",msg4:null!==(t=null==e?void 0:e.msg4)&&void 0!==t?t:\"2\",msg5:JSON.stringify(e)};Va.call(this,p)}},gd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(this.isShow=!0,this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}})},show:function(){this.ready&&(this.displayed=!0)},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){this.lockAdClicked=!0,sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adDownloadClick:function(t){this.lockAdClicked||(sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}}))},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},yd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e=this;try{this.ad=this.$app.$def.union_quick_app_sdk.createRewardedVideoAd({apid:this.adOption.placement_id,appid:this.adOption.app_id}),this.ad.onLoad((function(t){e.adLoad(t)})),this.ad.onClose((function(t){e.adClose(t)})),this.ad.onClick&&this.ad.onClick((function(t){e.adClick(t)})),this.ad.onError((function(t){e.ready=!1,e.adError(t)}))}catch(t){this.adError({code:2e3,msg:\"createRewardedVideoAd\"})}sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.lockAdLoad=!1,null===(t=this.ad)||void 0===t||t.load()},show:function(){this.ad&&this.ready&&(this.ad.show(),this.adShow(),this.ready=!1)},adLoad:function(t){this.lockAdLoad||(this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this))},adShow:function(t){this.lockAdLoad=!0,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){var e,i,n=null!==(e=null==t||null===(i=t.data)||void 0===i?void 0:i.reward)&&void 0!==e&&e;sd.call(this,{name:\"adClose\",params:{reward:n}}),n&&sd.call(this,{name:\"adReward\",params:t})},adError:function(t){if(!this.lockAdLoad){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}}},Id={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){this.isShow=(new Date).getTime(),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}})},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},bd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(this.isShow=!0,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}})},adLoad:function(t){this.ready=!0,this.lockAdClose=!1,this.showClassName=\"union-ad-wraper--show\",sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){this.lockAdClose||sd.call(this,{name:\"adClose\"})},adError:function(t){this.lockAdClose=!0,this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}};function kd(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=void 0===n?{}:n,a=r.placementId,o=r.trafficGroupId,d=r.segmentId,s=r.asId,l=r.nwFirmId,c=r.ecpm,u={key:\"BID_WIN\",unitid:a,requestid:i._request_id,groupid:d,traffic_group_id:o,asid:s,msg:String(l),msg1:String(i._unit_id),msg2:\"\",msg3:\"\",msg4:\"\",msg5:\"\",msg6:\"2\",msg7:\"\",msg8:\"\"+c,msg9:\"\"};Va.call(this,u)}function wd(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=\"\".concat((void 0===n?{}:n).placementId,\"/\").concat(i._unit_id);N.call(this,\"unit\",r,{})}function xd(){var t;null!=this&&this.adOption&&null!=this&&this.adExtra&&\"1\"===(null==this||null===(t=this.adOption)||void 0===t?void 0:t._type)&&(kd.call(this),wd.call(this))}var Sd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:\"\"}),t.abrupt(\"return\");case 17:\"1\"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.loadFeedAd();case 18:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=\"\".concat((void 0===n?{}:n).placementId,\"/\").concat(i._unit_id),a=j.call(this,\"unit\",r)||{},o={adList:a.offer?[a.offer]:[]};this.adLoad(o)},loadFeedAd:function(){var t,e=this,i=this.adOption,n=i._nw_req_num,r=i.unit_id,a=i.allow_recommend,o=null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk;v(o)?this.adError({code:2e3,msg:\"SDK\"}):o.onYlhReady((function(){var t={count:n&&n<=10?n:1,placementId:r,recommendation:\"1\"===a?2:1};o.loadFeedAd(t).then((function(t){var i={adList:t||[]};t.code&&t.code>0?e.adError({code:at[t.code]||2e3,msg:\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\")}):e.adLoad(i)})).catch((function(t){e.adError({code:2e3,msg:(null==t?void 0:t.message)||\"\"})}))}))},getAd:function(){if(!this.ready)return null;var t=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,t||(this.ready=!1),xd.call(this),t},adLoad:function(t){var e,i;this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(e=null==t?void 0:t.adList)&&void 0!==e?e:[],\"1\"!==(null==this||null===(i=this.adOption)||void 0===i?void 0:i._type)&&(this.adList=this.sortByPrice(this.adList)),sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!0}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)},reportShow:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},reportClick:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},sortByPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(null==t?void 0:t.length)<=1||t.sort((function(t,e){return e.getECPM()-t.getECPM()})),t}},Td={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:\"\"}),t.abrupt(\"return\");case 17:\"1\"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.createRewardVideoAd();case 18:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t,e,i=this,n=this||{},r=n.adOption,a=void 0===r?{}:r,o=n.adExtra,d=\"\".concat((void 0===o?{}:o).placementId,\"/\").concat(a._unit_id),s=j.call(this,\"unit\",d)||{},l=null!==(t=null==s?void 0:s.ad)&&void 0!==t?t:null,c=null!==(e=null==s?void 0:s.offer)&&void 0!==e?e:{};l&&(this.adLoad(c),this.bidOffer=c,this.ad=l,this.ad.onExpose((function(t){i.adShow()})),this.ad.onClick((function(){i.adClick()})),this.ad.onVideoFinish((function(){i.adVideoFinish()})),this.ad.onReward((function(){i.adReward()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})))},createRewardVideoAd:function(){var t,e=this,i=this.adOption,n=i.unit_id,r=i.video_muted;if(v(null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk))this.adError({code:2e3,msg:\"SDK\"});else try{var a={placementId:n,muted:\"1\"===r};this.ad=this.$app.$def.ylh_sdk.createRewardVideoAd(a),this.ad.onLoad((function(){e.adLoad()})),this.ad.onExpose((function(t){e.adShow()})),this.ad.onClick((function(){e.adClick()})),this.ad.onReward((function(){e.adReward()})),this.ad.onVideoFinish((function(){e.adVideoFinish()})),this.ad.onClose((function(){e.adClose()})),this.ad.onError((function(t){e.adError({code:at[t.code]||2e3,msg:\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\")})})),this.ad.load()}catch(t){this.adError({code:2e3,msg:t||\"\"})}},show:function(){this.ready&&(xd.call(this),this.ad.show(),this.ready=!1)},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adVideoFinish:function(t){this.isVideoEnded=!0},adClose:function(t){sd.call(this,{name:\"adClose\"})},adReward:function(t){sd.call(this,{name:\"adReward\",params:{reward:!0}})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},Ad={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:\"\"}),t.abrupt(\"return\");case 17:\"1\"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.createSplashAd();case 18:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t,e,i=this,n=this||{},r=n.adOption,a=void 0===r?{}:r,o=n.adExtra,d=\"\".concat((void 0===o?{}:o).placementId,\"/\").concat(a._unit_id),s=j.call(this,\"unit\",d)||{},l=null!==(t=null==s?void 0:s.ad)&&void 0!==t?t:null,c=null!==(e=null==s?void 0:s.offer)&&void 0!==e?e:{};l&&(this.adLoad(c),this.bidOffer=c,this.ad=l,this.ad.onExpose((function(t){i.adShow()})),this.ad.onClick((function(){i.adClick()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})))},createSplashAd:function(){var t,e=this,i=this.adOption.unit_id,n=this.adConfig.entry,r=void 0===n?\"\":n;v(null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk)?this.adError({code:2e3,msg:\"SDK\"}):this.$app.$def.ylh_sdk.onYlhReady((function(){try{e.ad=e.$app.$def.ylh_sdk.createSplashAd({placementId:i,entry:r}),e.ad.onLoad((function(){e.adLoad()})),e.ad.onExpose((function(t){e.adShow()})),e.ad.onClick((function(){e.adClick()})),e.ad.onClose((function(){e.adClose()})),e.ad.onError((function(t){e.adError({code:at[t.code]||2e3,msg:\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\")})})),e.ad.load()}catch(t){e.adError({code:2e3,msg:t||\"\"})}}))},show:function(){this.ready&&(xd.call(this),this.ad.show(),this.ready=!1)},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},Ed={main:{entry:td},web:{entry:id},views:{rewarde:ad},66:{native:vd,rewardedVideo:_d},56:{native:gd,rewardedVideo:yd,interstitial:Id,splash:bd},64:{native:Sd,rewardedVideo:Td,splash:Ad},60:{native:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=this,n=S().ad;this.provider=n.getProvider(),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}});try{var r={adUnitId:this.adOption.ad_id},a=this.adExtra.channelId;a&&(r.channel=a),this.ad=n.createNativeAd(r),this.ad.onLoad((function(t){i.adLoad(t)})),this.ad.onError((function(t){i.adError(t)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createNativeAd\"})}if(!(Date.now()>new Date(\"2023/05/01\").getTime())){var o=this.adExtra,d=o.placementId,s=o.trafficGroupId,l=o.segmentId,c=o.asId,u=o.nwFirmId,h=this.$app.$def.topon_sdk.store,p=void 0===h?{}:h,f={key:\"AD_PROVIDER\",unitid:d,requestid:this.adOption._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==p||null===(t=p.device)||void 0===t?void 0:t.info.brand,msg4:\"\"+(null==p||null===(e=p.device)||void 0===e?void 0:e.info.model)};Va.call(this,f)}},getAd:function(){if(!this.ready)return null;var t=this.adListIndexInUse,e=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,this.currentIndexUse=t,e||(this.ready=!1),e},adLoad:function(t){this.ready=!0,this.adListIndexInUse=0,this.adList=t.adList,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!0}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\",ad:this.adList[this.currentIndexUse]||{}}}),cd.call(this)},adShow:function(t){sd.call(this,{name:\"adShow\"})},adClick:function(t){sd.call(this,{name:\"adClick\"})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},reportShow:function(){var t;null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\",ad:this.adList[this.currentIndexUse]||{}}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\",ad:this.adList[this.currentIndexUse]||{}}}),this.ad.reportAdShow({adId:this.adList[this.currentIndexUse].adId}))},reportClick:function(t){var e;null!==(e=this.adList[this.currentIndexUse])&&void 0!==e&&e.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\",ad:this.adList[this.currentIndexUse]||{}}}),null!=t&&t.reportToProvider&&this.ad.reportAdClick({adId:this.adList[this.currentIndexUse].adId}))},getDownloadStatus:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getAppStatus({adId:this.adList[this.currentIndexUse].adId})},getDownloadProgress:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getDownloadProgress({adId:this.adList[this.currentIndexUse].adId})},subscribeDownloadStatus:function(t){this.ad.onStatusChanged(t)},unsubscribeDownloadStatus:function(){this.ad&&this.ready&&this.ad.offStatusChanged()},subscribeDownloadProgress:function(t){this.ad.onDownloadProgress(t)},unsubscribeDownloadProgress:function(){this.ad&&this.ready&&this.ad.offDownloadProgress()},showAppDetailPage:function(){var t;this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&this.ad.showAppDetailPage({adId:this.adList[this.currentIndexUse].adId})},getInstance:function(){return this.ad||null}},rewardedVideo:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=this,n=S().ad;this.provider=n.getProvider(),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.lockAdLoad=!1,this.showCalled=!1;try{var r={adUnitId:this.adOption.ad_id};this.ad=n.createRewardedVideoAd(r),this.ad.onLoad((function(t){i.adLoad()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createRewardedVideoAd\"})}if(!(Date.now()>new Date(\"2023/05/01\").getTime())){var a=this.adExtra,o=a.placementId,d=a.trafficGroupId,s=a.segmentId,l=a.asId,c=a.nwFirmId,u=this.$app.$def.topon_sdk.store,h=void 0===u?{}:u,p={key:\"AD_PROVIDER\",unitid:o,requestid:this.adOption._request_id,groupid:s,traffic_group_id:d,asid:l,msg:String(c),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==h||null===(t=h.device)||void 0===t?void 0:t.info.brand,msg4:\"\"+(null==h||null===(e=h.device)||void 0===e?void 0:e.info.model)};Va.call(this,p)}},show:function(){var t=this;this.ready&&(this.showCalled=!0,this.ad.show().then((function(e){t.adShow(e)})).catch((function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:\"\"};sd.call(t,{name:\"adError\",params:r})})),this.ready=!1)},adLoad:function(t){this.lockAdLoad||(this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this))},adShow:function(t){this.lockAdLoad=!0,this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){var e=t.isEnded;sd.call(this,{name:\"adClose\",params:{reward:e}}),e&&sd.call(this,{name:\"adReward\",params:t})},adError:function(t){this.ready=!1;var e=t.errMsg||t.msg,i=t.errCode||t.code,n={msg:e,code:i};this.showCalled&&(n.code=1101,n.msg=\" real code: [\".concat(i,\"] real msg: [\").concat(e,\"]\")),delete n.errCode,delete n.errMsg,sd.call(this,{name:\"adError\",params:n}),cd.call(this)},getInstance:function(){return this.ad||null}},banner:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){var t;cd.call(this),this.removeAdEventListener(),null==this||null===(t=this.ad)||void 0===t||t.destroy()}},removeAdEventListener:function(){var t,e,i,n,r,a,o,d;null==this||null===(t=this.ad)||void 0===t||null===(e=t.offLoad)||void 0===e||e.call(t),null==this||null===(i=this.ad)||void 0===i||null===(n=i.offClose)||void 0===n||n.call(i),null==this||null===(r=this.ad)||void 0===r||null===(a=r.offError)||void 0===a||a.call(r),null==this||null===(o=this.ad)||void 0===o||null===(d=o.offResize)||void 0===d||d.call(o)},handleAdInit:function(){var t,e,i=this,n=S().ad;sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.lockAdLoad=!1,this.ready=!1;try{var r,a={adUnitId:this.adOption.ad_id,style:{width:-1,height:-2,left:0,top:0}};t=a.style,(e=null===(r=this.adConfig)||void 0===r?void 0:r.style)&&!v(e)&&f(e)&&Object.assign(t,e),this.ad=n.createBannerAd(a),this.ad.onLoad((function(t){i.adLoad()})),this.ad.onClose((function(t){var e;i.adClose(t),i.removeAdEventListener(),null===(e=i.ad)||void 0===e||e.destroy()})),this.ad.onError((function(t){console.error(\"onError\",t),i.adError(t)}))}catch(t){this.adError({code:2e3,msg:\"createBannerAd\"})}this._show()},_show:function(){var t=this;this.ad&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),this.ad.show().then((function(){}),(function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:\": \".concat(JSON.stringify(e))};sd.call(t,{name:\"adError\",params:r})})))},adLoad:function(t){this.lockAdLoad||(this.ready=!0,this.lockAdLoad=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this),B.call(this,this.adShow))},adShow:function(t){sd.call(this,{name:\"adShow\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\",params:t})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,delete e.subErrCode,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},hide:function(){this.ad&&this.ad.hide&&this.ad.hide()}},interstitial:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){var t;cd.call(this),this.removeAdEventListener(),null==this||null===(t=this.ad)||void 0===t||t.destroy()}},removeAdEventListener:function(){var t,e,i,n,r,a,o,d,s,l;null==this||null===(t=this.ad)||void 0===t||null===(e=t.offLoad)||void 0===e||e.call(t),null==this||null===(i=this.ad)||void 0===i||null===(n=i.offClose)||void 0===n||n.call(i),null==this||null===(r=this.ad)||void 0===r||null===(a=r.offError)||void 0===a||a.call(r),null==this||null===(o=this.ad)||void 0===o||null===(d=o.offResize)||void 0===d||d.call(o),null==this||null===(s=this.ad)||void 0===s||null===(l=s.offClick)||void 0===l||l.call(s)},handleAdInit:function(){var t=this,e=S().ad;sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}});try{var i,n={adUnitId:this.adOption.ad_id};this.ad=e.createInterstitialAd(n),this.ad.onLoad((function(e){t.adLoad()})),this.ad.onClose((function(e){var i;t.adClose(e),t.removeAdEventListener(),null===(i=t.ad)||void 0===i||i.destroy()})),this.ad.onError((function(e){t.adError(e)})),null!=this&&null!==(i=this.ad)&&void 0!==i&&i.onClick&&this.ad.onClick((function(e){t.adClick(e)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createInterstitialAd\"})}},show:function(){var t=this;this.ad&&this.ready&&this.ad.show().then((function(){t.adShow()}),(function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:\": \".concat(JSON.stringify(e))};sd.call(t,{name:\"adError\",params:r})}))},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\",params:t})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,delete e.subErrCode,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},getInstance:function(){return this.ad||null}}},62:{native:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI_AGD_PRO,this.adOption._unit_id);t?this.adError({code:t,msg:\"\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=S().ad;if(this.provider=i.getProvider(),this.createNativeAd(),!(Date.now()>new Date(\"2023/05/01\").getTime())){var n=this.adExtra,r=n.placementId,a=n.trafficGroupId,o=n.segmentId,d=n.asId,s=n.nwFirmId,l=this.$app.$def.topon_sdk.store,c=void 0===l?{}:l,u={key:\"AD_PROVIDER\",unitid:r,requestid:this.adOption._request_id,groupid:o,traffic_group_id:a,asid:d,msg:String(s),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==c||null===(t=c.device)||void 0===t?void 0:t.info.brand,msg4:\"\"+(null==c||null===(e=c.device)||void 0===e?void 0:e.info.model)};Va.call(this,u)}},createNativeAd:function(){var t=this,e=S().ad;sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}});try{var i={adUnitId:this.adOption.ad_id},n=this.adExtra.channelId;n&&(i.channel=n),this.ad=e.createNativeAd(i),this.ad.onLoad((function(e){t.adLoad(e)})),this.ad.onError((function(e){t.adError(e)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createNativeAd\"})}},createTemplateAd:function(){var t=this,e=S().ad;try{this.ad=e.createTemplateAd({adUnitId:this.adOption.ad_id,type:this.templateAdType}),this.ad.load({success:function(e){t.adLoad(e)},fail:function(e,i){t.adError({code:2e3,msg:\"createTemplateAd\"})}})}catch(t){this.adError({code:2e3,msg:\"createTemplateAd\"})}},getAd:function(){if(!this.ready)return null;var t=this.adListIndexInUse,e=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,this.currentIndexUse=t,e||(this.ready=!1),e},adLoad:function(t){this.ready=!0,this.adListIndexInUse=0,this.adList=t.adList,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!this.isTemplateAd}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\",ad:this.adList[this.currentIndexUse]||{}}}),cd.call(this)},adShow:function(t){sd.call(this,{name:\"adShow\"})},adClick:function(t){sd.call(this,{name:\"adClick\"})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},reportShow:function(){var t;null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\",ad:this.adList[this.currentIndexUse]||{}}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\",ad:this.adList[this.currentIndexUse]||{}}}),this.ad.reportAdShow({adId:this.adList[this.currentIndexUse].adId}))},reportClick:function(t){var e;null!==(e=this.adList[this.currentIndexUse])&&void 0!==e&&e.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\",ad:this.adList[this.currentIndexUse]||{}}}),null!=t&&t.reportToProvider&&this.ad.reportAdClick({adId:this.adList[this.currentIndexUse].adId}))},getDownloadStatus:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getAppStatus({adId:this.adList[this.currentIndexUse].adId})},getDownloadProgress:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getDownloadProgress({adId:this.adList[this.currentIndexUse].adId})},subscribeDownloadStatus:function(t){this.ad.onStatusChanged(t)},unsubscribeDownloadStatus:function(){this.ad&&this.ready&&this.ad.offStatusChanged()},subscribeDownloadProgress:function(t){this.ad.onDownloadProgress(t)},unsubscribeDownloadProgress:function(){this.ad&&this.ready&&this.ad.offDownloadProgress()},showAppDetailPage:function(){var t;this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&this.ad.showAppDetailPage({adId:this.adList[this.currentIndexUse].adId})},getInstance:function(){return this.ad||null}}}},Cd=new(function(){function t(){d(this,t)}return l(t,[{key:\"dispatch\",value:function(t,e){t.$def.topon_sdk.store=Object.create(null),this._options=e,this.device(t),this.upId(t)}},{key:\"device\",value:function(t){t.$def.topon_sdk.store.device={};var e=[H.getInfo(),H.getOaId(),H.getDeviceIds()];Promise.all(e).then((function(e){t.$def.topon_sdk.store.device.info=e[0]||{},t.$def.topon_sdk.store.device.oaid=e[1]||\"\",t.$def.topon_sdk.store.device.ids=e[2]||{}}))}},{key:\"upId\",value:function(t){G().then((function(e){t.$def.topon_sdk.store.upid=e||\"\"}))}}]),t}()),Dd=function(){function t(e){d(this,t),this.name=e,this.eventMap={}}return l(t,[{key:\"subscribe\",value:function(t,e,i){var n=this;if(i&&i.once){return this.subscribe(t,(function i(r){e(r),n.unsubscribe(t,i)}))}if(this.eventMap[t]=this.eventMap[t]||[],\"function\"==typeof e){var r=this.eventMap[t];-1===r.indexOf(e)&&r.push(e)}}},{key:\"publish\",value:function(t,e){for(var i=null,n=this.eventMap[t]||[],r=0,a=n.length;r<a;r++)i=n[r]&&n[r](e,i);return i}},{key:\"unsubscribe\",value:function(t,e){if(this.eventMap[t]){var i=this.eventMap[t];if(e){var n=i.indexOf(e);n>-1&&i.splice(n,1)}else this.eventMap[t]=[]}}}]),t}(),Ld={};function Od(t){return Ld[t]||(Ld[t]=new Dd(t)),Ld[t]}function Rd(t,e){return Pd.apply(this,arguments)}function Pd(){return(Pd=o(i().mark((function t(e,n){var r,a,o,d,s,l,c,u,h,p,f,m,g,y,I;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.channelId,o=void 0===a?\"\":a,d=n.subChannelId,s=void 0===d?\"\":d,l=n.customParam,c=void 0===l?{}:l,u=n.placementCustomParam,h=O(c,void 0===u?{}:u),p={placementId:e},t.next=6,to.call(this,p,{isPreload:!0});case 6:if(f=t.sent,m=_(null==f?void 0:f.data)?JSON.parse(null==f?void 0:f.data):(null==f?void 0:f.data)||{},699===f.code&&(m={code:0,data:{ad_delivery_sw:0,ps_ct:864e5,ps_ct_out:0}}),!((null===(r=m)||void 0===r?void 0:r.code)>0||v(m))&&m){t.next=11;break}return t.abrupt(\"return\");case 11:g=(new Date).getTime(),y=o+\"/\"+s,m._ps_ct_timestamp=g+m.data.ps_ct,m._channel=y,m._custom_param=h,m._request_timestamp=g,I=\"TOPON_AD_CACHE_PLACEMENT_\"+e,M.setItem(I,m,!1),t.next=23;break;case 21:t.prev=21,t.t0=t.catch(0);case 23:case\"end\":return t.stop()}}),t,this,[[0,21]])})))).apply(this,arguments)}function Ud(t,e){return $d.apply(this,arguments)}function $d(){return($d=o(i().mark((function t(e,n){var r,a,o,d,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=\"TOPON_AD_CACHE_PLACEMENT_\"+e,t.next=3,M.getItem(a,!1);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:if(!v(o=t.t0)){t.next=9;break}return t.abrupt(\"return\",Rd.call(this,e,n));case 9:if(d=(new Date).getTime(),s=(null==o||null===(r=o.data)||void 0===r?void 0:r.ps_ct_max)||6048e5,(l=(null==o?void 0:o._request_timestamp)||0)<=0&&(l=o._ps_ct_timestamp-o.data.ps_ct),!(l+s<d)){t.next=15;break}return t.abrupt(\"return\",Rd.call(this,e,n));case 15:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Nd(t){var e=this,i=t.placementStrategy,n=void 0===i?[]:i;if(n.length){var r=JSON.parse(JSON.stringify(t));delete r.options;var a=n.slice(0,10),o=[];return a.forEach((function(t){o.push(Ud.call(e,t,r))})),Promise.all(o)}}var jd=\"4.2.11\",Fd=\"http://api.anythinktech.com\";function Bd(t){return Wd.apply(this,arguments)}function Wd(){return(Wd=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,X,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I=e.appId,b=e.appKey,k=e.channelId,w=void 0===k?\"\":k,x=e.subChannelId,T=void 0===x?\"\":x,A=e.abtest_id,L=void 0===A?\"\":A,P=e.customParam,U=void 0===P?{}:P,$=e.placementCustomParam,N=O(U,void 0===$?{}:$),j=R(),F=S(),B=F.app,W=F.network,q=F.device,t.next=6,H.getInfo();case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:return V=t.t0,Y=B.getInfo()||{},t.next=13,W.getType();case 13:if(t.t1=t.sent,t.t1){t.next=16;break}t.t1={};case 16:return z=t.t1,t.next=19,H.getDeviceIds();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:return X=t.t2,t.next=25,H.getOaId();case 25:if(t.t3=t.sent,t.t3){t.next=28;break}t.t3=\"\";case 28:return Q=t.t3,J=\"\".concat(null==V?void 0:V.screenWidth,\"*\").concat(null==V?void 0:V.screenHeight),Z=nt[null==z||null===(n=z.data)||void 0===n?void 0:n.type]||\"-1\",tt=\"1.0\",t.next=34,G();case 34:return et=t.sent,t.next=37,K();case 37:return it=t.sent,t.next=40,M.getItem(\"firstInitTime\");case 40:if(t.t4=t.sent,t.t4){t.next=43;break}t.t4=0;case 43:return rt=t.t4,t.next=46,M.getItem(\"currentInitTime\");case 46:if(t.t5=t.sent,t.t5){t.next=49;break}t.t5=0;case 49:return at=t.t5,ot=Math.ceil((at-rt+1)/864e5),dt={system:1,os_fw:8,mcc:\"1\",mnc:\"1\",timezone:\"\",nw_ver:\"\",orient:1,ua:j||\"\",os_vn:null!==(r=null==V?void 0:V.osVersionName)&&void 0!==r?r:\"\",os_vc:null!==(a=\"\"+(null==V?void 0:V.osVersionCode))&&void 0!==a?a:\"\",package_name:null!==(o=null==Y?void 0:Y.packageName)&&void 0!==o?o:\"\",app_vn:null!==(d=null==Y?void 0:Y.versionName)&&void 0!==d?d:\"\",app_vc:null!==(s=\"\"+(null==Y?void 0:Y.versionCode))&&void 0!==s?s:\"\",brand:null!==(l=null==V?void 0:V.brand)&&void 0!==l?l:\"\",model:null!==(c=null==V?void 0:V.model)&&void 0!==c?c:\"\",pf_vn:null!==(u=null==V?void 0:V.platformVersionName)&&void 0!==u?u:\"\",pf_vc:null!==(h=\"\"+(null==V?void 0:V.platformVersionCode))&&void 0!==h?h:\"\",network_type:Z,screen:J,upid:et,app_id:I,sdk_ver:\"UA_\".concat(jd),platform:1,channel:w||\"\",sub_channel:T||\"\",custom:N,ps_id:it,first_init_time:1*rt,days_from_first_init:ot,deny:String(V.screenDensity),api_ver:\"1.0\",host_vn:null!==(p=null==q||null===(f=q.host)||void 0===f?void 0:f.versionName)&&void 0!==p?p:\"\",host_vc:null!==(v=\"\"+(null==q||null===(m=q.host)||void 0===m?void 0:m.versionCode))&&void 0!==v?v:\"\",abtest_id:L},st={android_id:null!==(_=null==X?void 0:X.user)&&void 0!==_?_:\"\",mac:null!==(g=null==X?void 0:X.mac)&&void 0!==g?g:\"\",imei:\"\",oaid:Q,gaid:null!==(y=null==X?void 0:X.advertising)&&void 0!==y?y:\"\",is_cn_sdk:\"1\"},lt=C(D(dt)),ct=C(D(st)),ut=E(b,[{key:\"api_ver\",value:tt},{key:\"p\",value:lt},{key:\"p2\",value:ct}]),t.abrupt(\"return\",{p:lt,p2:ct,api_ver:tt,sign:ut});case 58:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function qd(t){return Md.apply(this,arguments)}function Md(){return(Md=o(i().mark((function t(e){var n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,t.prev=1,t.next=4,Bd.call(this,e);case 4:return r=t.sent,t.next=7,Na(\"\".concat(Fd,\"/v2/open/app\"),r);case 7:return a=t.sent,o=Date.now(),a._scet_timestamp=o+a.data.scet,a._request_timestamp=o,Vd.call(this,n,a),t.abrupt(\"return\",a);case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt(\"return\",{});case 18:case\"end\":return t.stop()}}),t,this,[[1,15]])})))).apply(this,arguments)}function Vd(t,e){var i=\"TOPON_AD_CACHE_APP_\"+t;return M.setItem(i,e,!1),Yd.call(this,t,e.data.logger),e}function Hd(t){return Gd.apply(this,arguments)}function Gd(){return(Gd=o(i().mark((function t(n){var r,a,o,d,s,l,c,u,h,p=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.appId,a=\"TOPON_AD_CACHE_APP_\"+r,t.next=4,M.getItem(a,!1);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(!v(o=t.t0)){t.next=10;break}return t.abrupt(\"return\",qd.call(this,n));case 10:if(d=Date.now(),s=(null==o?void 0:o._request_timestamp)||0,!(o._scet_timestamp>d)){t.next=16;break}return t.abrupt(\"return\",Vd.call(this,r,o));case 16:if(!(s+6048e5<d)){t.next=20;break}return t.abrupt(\"return\",qd.call(this,e(e({},n),{},{abtest_id:null!==(l=null==o||null===(c=o.data)||void 0===c?void 0:c.abtest_id)&&void 0!==l?l:\"\"})));case 20:return setTimeout((function(){Vd.call(p,r,o)}),100),t.abrupt(\"return\",qd.call(this,e(e({},n),{},{abtest_id:null!==(u=null==o||null===(h=o.data)||void 0===h?void 0:h.abtest_id)&&void 0!==u?u:\"\"})));case 22:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Yd(t,e){var i,n,r,a=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def)&&void 0!==i?i:null;a&&null!=a&&a.topon_sdk&&(a.topon_sdk.cache.logger||(a.topon_sdk.cache.logger=Object.create(null)),a.topon_sdk.cache.logger[t]=e)}function Kd(t){return/^([.A-Za-z0-9_-]){1,128}$/.test(t)}function zd(t){return _(t)?JSON.parse(t):t}function Xd(t){var e=[],i=zd(t);return f(i)?(Object.keys(i).forEach((function(t){h(i[t])||e.push(\"\".concat(t,\"\"))})),e):(e.push(\"setCustomParamJSON Object\"),e)}x&&(x.$topon_sdk=function(t,n){function r(){return r=o(i().mark((function t(e){var n,r,o,d,l,u,h,p,f,v,m,_,g=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this&&this.$def&&!this.$def.topon_sdk&&(this.$def.topon_sdk=Object.create(null),this.$def.topon_sdk.components=Ed,this.$def.topon_sdk.appId=e.appId,this.$def.topon_sdk.appKey=e.appKey,this.$def.topon_sdk.isTest=e.isTest||!1,this.$def.topon_sdk.event=Object.create(null),this.$def.topon_sdk.event.deeplink=Od(\"deeplink\"),this.$def.topon_sdk.cache=Object.create(null),this.$def.topon_sdk.channelId=Kd(e.channelId)?e.channelId:\"\",this.$def.topon_sdk.subChannelId=Kd(e.subChannelId)?e.subChannelId:\"\",this.$def.topon_sdk.customParam={},this.$def.topon_sdk.placementCustomParam={},this.$def.topon_sdk.onInitTimestamp=Date.now(),this.$def.topon_sdk.onShowTimestamp=0,this.$def.topon_sdk.onHideTimestamp=0,this.$def.topon_sdk.onDestroyTimestamp=0,this.$def.topon_sdk.onHideCounter=0,this.$def.topon_sdk.destroyParams={},h=(null==e||null===(n=e.config)||void 0===n?void 0:n.device)||\"0\",p=(null==e||null===(r=e.config)||void 0===r?void 0:r.startup)||\"0\",f=(null==e||null===(o=e.config)||void 0===o?void 0:o.startupUnlock)||\"0\",v=(null==e||null===(d=e.config)||void 0===d?void 0:d.enhancedLoggingMode)&&Date.now()<17119008e5,this.$def.topon_sdk.startup=p,this.$def.topon_sdk.startupUnlock=f,this.$def.topon_sdk.startupReported=!1,this.$def.topon_sdk.enhancedLoggingMode=v,m={appId:e.appId,appKey:e.appKey,channelId:Kd(e.channelId)?e.channelId:\"\",subChannelId:Kd(e.subChannelId)?e.subChannelId:\"\",customParam:{},placementCustomParam:{}},Hd.call(this,m),M.setItem(\"needDevice\",h),M.setItem(\"appId\",e.appId),Cd.dispatch(this,e),c.call(this),a.call(this).then((function(){\"1\"!==p&&s.call(g)})),_={placementStrategy:null!==(l=null===(u=e.config)||void 0===u||null===(u=u.preload)||void 0===u?void 0:u.placementStrategy)&&void 0!==l?l:[],channelId:Kd(e.channelId)?e.channelId:\"\",subChannelId:Kd(e.subChannelId)?e.subChannelId:\"\",customParam:{},placementCustomParam:{}},Nd.call(this,_));case 1:case\"end\":return t.stop()}}),t,this)}))),r.apply(this,arguments)}function a(){return d.apply(this,arguments)}function d(){return(d=o(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getItem(\"firstInitTime\");case 2:return(!(e=t.sent)||v(e)||1*e<16409664e5)&&(e=Date.now()),n=Date.now(),t.abrupt(\"return\",M.batch({firstInitTime:e,currentInitTime:n}));case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function s(t){var i=e({logType:\"APP_STARTUP\"},t);so.call(this,i)}function l(){if(\"1\"===this.$def.topon_sdk.startup){if(this.$def.topon_sdk.startupReported&&\"1\"===this.$def.topon_sdk.startupUnlock){var t=\"\"+Date.now();return void s.call(this,{psIdVirtual:t})}this.$def.topon_sdk.startupReported||(this.$def.topon_sdk.startupReported=!0,s.call(this))}}function c(){var t=this,e={setChannel:u,setSubChannel:h,setCustomParam:p,setPlacementCustomParam:f,onShow:m,onHide:_,onDestroy:y};Object.keys(e).forEach((function(i){t.$def.topon_sdk[i]=e[i]}))}function u(t){if(!Kd(t))return console.error(\"_-.\"),void l.call(this);this.$def.topon_sdk.channelId=t,l.call(this)}function h(t){Kd(t)?this.$def.topon_sdk.subChannelId=t:console.error(\"_-.\")}function p(t){if(t&&!v(t)){var e=Xd(t);if(null!=e&&e.length)for(var i=0;i<e.length;i++)console.error(e[i]);else{var n=zd(t);this.$def.topon_sdk.customParam=n}}else console.error(\"setCustomParam\")}function f(t,e){if(t&&e&&!v(e)){var i=Xd(e);if(null!=i&&i.length)for(var n=0;n<i.length;n++)console.error(i[n]);else{var r=zd(e);this.$def.topon_sdk.placementCustomParam[t]=r}}else console.error(\"setPlacementCustomParam\")}function m(){if(this.$def.topon_sdk.onShowTimestamp=Date.now(),this.$def.topon_sdk.onHideTimestamp>0){var t=this.$def.topon_sdk.onShowTimestamp-this.$def.topon_sdk.onHideTimestamp,e={key:\"HOT_START_INTERVAL_TIME\",msg:String(t)};Va.call(this,e),this.$def.topon_sdk.onHideTimestamp=0}}function _(){return g.apply(this,arguments)}function g(){return(g=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$def.topon_sdk.onHideTimestamp=Date.now(),e=this.$def.topon_sdk.onHideTimestamp-this.$def.topon_sdk.onInitTimestamp,n=this.$def.topon_sdk.onHideTimestamp-this.$def.topon_sdk.onShowTimestamp,o=String(this.$def.topon_sdk.onHideTimestamp),e>n&&this.$def.topon_sdk.onHideCounter>0?(r=\"3\",a=String(this.$def.topon_sdk.onShowTimestamp),d=String(n)):(r=\"1\",a=String(this.$def.topon_sdk.onInitTimestamp),d=String(e)),t.next=7,G();case 7:return s=t.sent,l={key:\"STAY_TIME\",sdk_time:Date.now(),upid:s,msg:r,msg1:a,msg2:o,msg3:d},Va.call(this,l),this.$def.topon_sdk.onHideCounter++,t.next=13,Ga.call(this,l);case 13:c=t.sent,this.$def.topon_sdk.destroyParams=c;case 15:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function y(){this.$def.topon_sdk.onDestroyTimestamp=Date.now();var t,e,i,n,r=this.$def.topon_sdk.onDestroyTimestamp-this.$def.topon_sdk.onInitTimestamp,a=this.$def.topon_sdk.onDestroyTimestamp-this.$def.topon_sdk.onShowTimestamp;i=String(this.$def.topon_sdk.onDestroyTimestamp),r>a&&this.$def.topon_sdk.onHideCounter>1?(t=\"4\",e=String(this.$def.topon_sdk.onShowTimestamp),n=String(a)):(t=\"2\",e=String(this.$def.topon_sdk.onInitTimestamp),n=String(r));var o={key:\"STAY_TIME\",sdk_time:Date.now(),msg:t,msg1:e,msg2:i,msg3:n};za.call(this,o)}return function(t){return r.apply(this,arguments)}.call(t,n)})}();\n";
exports["default"] = _default;

/***/ }),

/***/ "./src/Common/helper/ajax.js":
/*!***********************************!*\
  !*** ./src/Common/helper/ajax.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _system = _interopRequireDefault($app_require$("@app-module/system.fetch"));
var _system2 = _interopRequireDefault($app_require$("@app-module/system.storage"));
var _system3 = _interopRequireDefault($app_require$("@app-module/system.device"));
var _system4 = _interopRequireDefault($app_require$("@app-module/system.prompt"));
var _system5 = _interopRequireDefault($app_require$("@app-module/system.router"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
const getUserId = async () => {
  let userId = await _system3.default.getUserId();
  return userId.data.userId;
};
const quit = () => {
  _system4.default.showDialog({
    title: '',
    message: ",",
    buttons: [{
      text: '',
      color: '#333333'
    }],
    success: function (data) {
      _system5.default.push({
        uri: "Page_login"
      });
    },
    cancel: function () {
      console.log("cancel");
    }
  });
};
const getTokenData = () => {
  return new Promise(async (resolve, reject) => {
    const example = (__webpack_require__(/*! ./apis/example.js */ "./src/Common/helper/apis/example.js")["default"]);
    const deviceNum = await getUserId();
    // console.log(`getTokenData()---->deviceNum=${deviceNum}`);
    // console.log('');
    example.toLogin({
      loginType: "DEVICE",
      appId: 'SC_0001',
      deviceNum,
      loginAccount: deviceNum
    }).then(data => {
      console.log('');
      resolve(data);
    }).catch(err => {
      console.log(err, '');
      try {
        if (JSON.parse(err).code === '310001') {
          console.log('');
          quit();
        }
      } catch (error) {
        console.log(error, '');
      }
      reject(err);
    });
  });
};
let isRefreshing = false; // token
const refreshSubscribers = []; // 
const subscribeTokenRefresh = cb => {
  // push,[function(token){}, function(token){},...]
  refreshSubscribers.push(cb);
};
const onRrefreshed = token => {
  // tokentoken
  refreshSubscribers.map(cb => cb(token));
};
const isAccessTokenExpired = authData => {
  // token
  if (new Date().getTime() - authData.expireAt > 10000 * 60) {
    return true;
  }
  return false;
};
const request = options => {
  return new Promise(async (resolve, reject) => {
    const {
      method,
      url,
      data,
      headers = {}
    } = options;
    const authData = (await _system2.default.get({
      key: 'AUTH_TOKEN_DATA'
    })) || {};
    const accessToken = authData.data ? JSON.parse(authData.data).accessToken : '';
    if (isAccessTokenExpired(authData) || !accessToken) {
      if (!options.url.includes("qa/mini/basic/user/login")) {
        if (!isRefreshing) {
          isRefreshing = true;
          getTokenData().then(async res => {
            res = JSON.parse(res);
            isRefreshing = false;
            if (res.code === "000000") {
              headers.Authorization = res.data.accessToken;
              await _system2.default.set({
                key: "AUTH_TOKEN_DATA",
                value: JSON.stringify(res.data)
              });
              console.log('res.data.accessToken', res.data.accessToken);
              onRrefreshed(res.data.accessToken);
            }
          }).catch(err => {
            isRefreshing = false;
          });
        }
        let retry = new Promise(() => {
          subscribeTokenRefresh(token => {
            headers.Authorization = token; // token
            return request(options).then(resolve).catch(reject);
          });
        });
        return retry;
      }
    }
    headers.Authorization = accessToken || '';
    _system.default.fetch({
      // url: 'https://test.ipandata.com' + url,
      url: 'https://api.ihaituo.cn' + url,
      method,
      data,
      header: _objectSpread({
        "content-type": "application/json"
      }, headers),
      // success: function (res) {
      //   const data = res.data
      //   if (data.code === "000000" || JSON.parse(data).code === "000000") {
      //     resolve(url.includes("qa/mini/basic/user/login") ? res.data : JSON.parse(res.data));
      //   } else {
      //     if (data.code === "300002") {
      //       $storage.delete({
      //         key: 'AUTH_TOKEN_DATA'
      //       })
      //       request(options)
      //         .then(resolve)
      //         .catch(reject);
      //     } else {
      //       reject(res.data);
      //     }
      //   }
      // },

      success: function (res) {
        try {
          const data = res.data;

          //  JSON 
          const parsedData = typeof data === 'string' ? JSON.parse(data) : data;
          if (parsedData.code === "000000") {
            resolve(url.includes("qa/mini/basic/user/login") ? data : parsedData);
          } else {
            if (parsedData.code === "300002") {
              _system2.default.delete({
                key: 'AUTH_TOKEN_DATA'
              });
              request(options).then(resolve).catch(reject);
            } else {
              reject(data);
            }
          }
        } catch (e) {
          console.error("Error parsing JSON or handling code: ", e);

          //  HTML JSON
          if (typeof res.data === 'string' && res.data.startsWith('<html>')) {
            reject("Server returned an HTML page instead of JSON. Possible incorrect URL or server error.");
          } else {
            reject("Error parsing JSON or handling code: " + e.message);
          }
        }
      },
      fail: function (err) {
        reject(err);
      },
      complete: function (res) {}
    });
  });
};
var _default = exports["default"] = request;

/***/ }),

/***/ "./src/Common/helper/apis/example.js":
/*!*******************************************!*\
  !*** ./src/Common/helper/apis/example.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ajax = _interopRequireDefault(__webpack_require__(/*! ../ajax.js */ "./src/Common/helper/ajax.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
//  
const toLogin = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/user/login`,
    data
  });
};

// 
const uploadsteps = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/sc/upload`,
    data
  });
};
// 
const getsteps = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/sc`,
    data
  });
};

// 30
const getstepslist = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/sc/list`
  });
};

//
const withdraw = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/user/withdraw`,
    data
  });
};

//
const record = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/cash/record`,
    data
  });
};

//
const getAdCount = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/ad/complete/count`,
    data
  });
};

//
const completeAd = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/ad/complete`,
    data
  });
};

//-
const completeAdRSA = async data => {
  let timestamp = +new Date();
  data.timestamp = timestamp;
  let _data = await $utils.dataEncryption(data);
  let param = {
    data: _data
  };
  console.log('', param);
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/ad/finish`,
    data: JSON.stringify(param)
  });
};

//   type:: jh(), ks(), jl(), ,:jh,ks,jl
const convertUpload = data => {
  console.log('data= ', data, `url= /qa/mini/basic/ad/convert/upload/${data.type}`);
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/ad/convert/upload/${data.type}`,
    data
  });
};

//
const bolckReturn = () => {
  let brand = getApp().$def.dataApp.brand;
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/clickControl/return/info/${brand}`
  });
};

/**
 *   
 *
 */

const showTclayer = data => {
  let brand = getApp().$def.dataApp.brand;
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/clickControl/transparentLayer/info/${brand}`,
    data
  });
};

/**
 *   
 *
 */

const popUps = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/ad/auto/popUps`
  });
};

/**
 * 
 *
 */
const clickCount = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/ad/convert/clickCount/${data.type}`,
    data
  });
};
var _default = exports["default"] = {
  toLogin,
  uploadsteps,
  getsteps,
  getstepslist,
  withdraw,
  record,
  getAdCount,
  completeAd,
  completeAdRSA,
  convertUpload,
  bolckReturn,
  showTclayer,
  popUps,
  clickCount
};

/***/ }),

/***/ "./src/Common/helper/apis/index.js":
/*!*****************************************!*\
  !*** ./src/Common/helper/apis/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
/**
 *  apis 
 */
const files = __webpack_require__("./src/Common/helper/apis sync recursive \\.js");
const modules = {};
files.keys().forEach(key => {
  if (key === './index.js') {
    return;
  }
  modules[key.replace(/(^\.\/|\.js$)/g, '')] = files(key).default;
});
var _default = exports["default"] = modules;

/***/ }),

/***/ "./src/Common/helper/apis/user.js":
/*!****************************************!*\
  !*** ./src/Common/helper/apis/user.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ajax = _interopRequireDefault(__webpack_require__(/*! ../ajax.js */ "./src/Common/helper/ajax.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
//  
const getUserInfo = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/info`
  });
};

// 
const getDailySignDay = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/goldExchangeRule/daily/sign/day`,
    data
  });
};
//
const goSianIn = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/goldExchangeRule/daily/sign`,
    data
  });
};

// 
const postUserFeedback = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/user/feedback`,
    data
  });
};
//
const putForeverLogout = data => {
  return (0, _ajax.default)({
    method: "PUT",
    url: `/qa/mini/user/forever/logout`
  });
};

// 
const getUserCashRecord = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/cash/record`,
    data
  });
};

// 
const getUserGoldRecord = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/gold/record`,
    data
  });
};
//
const putAlipayAccount = data => {
  return (0, _ajax.default)({
    method: "PUT",
    url: `/qa/mini/user/alipay/account`,
    data
  });
};

//
const postSendCode = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/user/sendCode/${data.phone}`
  });
};
let user = {
  getUserInfo,
  getDailySignDay,
  goSianIn,
  postUserFeedback,
  getUserCashRecord,
  getUserGoldRecord,
  putForeverLogout,
  putAlipayAccount,
  postSendCode
};
var _default = exports["default"] = user;

/***/ }),

/***/ "./src/Common/helper/processData.js":
/*!******************************************!*\
  !*** ./src/Common/helper/processData.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.clearStorage = clearStorage;
exports["default"] = void 0;
exports.deleteStorage = deleteStorage;
exports.getStorage = getStorage;
exports.incrementTodayClicks = incrementTodayClicks;
exports.localStorage = localStorage;
exports.resetTodayClicksIfNeeded = resetTodayClicksIfNeeded;
exports.setStorage = setStorage;
var _system = _interopRequireDefault($app_require$("@app-module/system.storage"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
// get
function localStorage(key) {
  return new Promise((resolve, reject) => {
    _system.default.get({
      key,
      success: function (data) {
        resolve(data);
      },
      fail: function (data, code) {
        reject(data);
      }
    });
  });
}
function setStorage(key, value = "") {
  return new Promise((resolve, reject) => {
    _system.default.set({
      key,
      value: JSON.stringify(value),
      success: function (data) {
        resolve(`setStorage success`);
      },
      fail: function (data, code) {
        reject(`setStorage fail, code = ${code}`);
      }
    });
  });
}
function getStorage(key) {
  return new Promise((resolve, reject) => {
    _system.default.get({
      key,
      success: function (data) {
        if (data) {
          const res = JSON.parse(data);
          return resolve(res);
        }
        resolve(data);
      },
      fail: function (data, code) {
        reject(`getStorage fail, code = ${code}`);
      }
    });
  });
}
function deleteStorage(key) {
  return new Promise((resolve, reject) => {
    _system.default.delete({
      key,
      success: function (data) {
        resolve(`deleteStorage success`);
      },
      fail: function (data, code) {
        reject(`deleteStorage fail, code = ${code}`);
      }
    });
  });
}
function clearStorage() {
  return new Promise((resolve, reject) => {
    _system.default.clear({
      success: function (data) {
        resolve(`clearStorage success`);
      },
      fail: function (data, code) {
        reject(`clearStorage fail, code = ${code}`);
      }
    });
  });
}

//
function resetTodayClicksIfNeeded() {
  const currentDate = new Date().toLocaleDateString(); //

  _system.default.get({
    key: 'lastResetDate',
    default: '-1',
    success: function (data) {
      console.log('', currentDate, '--- ', data);
      if (data !== currentDate) {
        //
        // 
        _system.default.set({
          key: 'todayClicks',
          value: '0'
        });
      }
    }
  });
}

//
function incrementTodayClicks() {
  _system.default.get({
    key: 'todayClicks',
    default: '0',
    //0
    success: function (data) {
      console.log('+1,', data);
      let todayClicks = parseInt(data) || 0;
      todayClicks = todayClicks + 1;
      _system.default.set({
        key: 'todayClicks',
        value: todayClicks.toString()
      });
      _system.default.set({
        key: 'lastResetDate',
        value: new Date().toLocaleDateString()
      });
    }
  });
}
var _default = exports["default"] = {
  getStorage,
  setStorage,
  incrementTodayClicks,
  resetTodayClicksIfNeeded
};

/***/ }),

/***/ "./src/Common/helper/utils.js":
/*!************************************!*\
  !*** ./src/Common/helper/utils.js ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _system = _interopRequireDefault($app_require$("@app-module/system.device"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); } /**
 *  API require / import.
 */
// 
const throttle = (fn, gapTime = 1500) => {
  let _lastTime = null;
  // 
  return function () {
    let _nowTime = +new Date();
    if (_nowTime - _lastTime > gapTime || !_lastTime) {
      fn.apply(this, arguments); //this
      _lastTime = _nowTime;
    }
  };
};
const {
  JSEncrypt
} = __webpack_require__(/*! ../libs/jsencrypt/lib/index */ "./src/Common/libs/jsencrypt/lib/index.js");
const config = {
  publicKey: 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqaj0Y3k54jCyTq47t73ScBX9uBsSScDo7/uZ+PhHYh9eQqHNW1bBjKGV4t3Y8Wokhv783krxhIqzkPf9nHeZ2yWqoQlPa3qOUc7Wf/HpX2+eHGRjF1/RLARJmMcEgQYB3WGbdRedu0FjQSGd+OfSS/W7Heh2ZGlF/aSHj2NYhYE4p7x4jjQIi+ueKZvVJNZpu0vhQaF45jpqQDULPL+MkkQePmupjp/PR4Ra8BVg4DwJuI6K8jL77YWaxeQRbMrEiQ0ZbTKRQ4o8N73iIM97E/h8PbDl5FbuNn0k8urkYnmv56AMdkVEyIOUwNEa8oU9QKz37o5Z2L7+yqx2zmLpVwIDAQAB'
};
const dataEncryption = (data, action = "encrypt") => {
  try {
    let keyMap = {
      encrypt: config.publicKey,
      decrypt: config.privateKey
    };
    let key = keyMap[action];
    let _data = action === "encrypt" ? JSON.stringify(data) : data;
    return new Promise((resolve, reject) => {
      if (action === "encrypt") {
        const encryptor = new JSEncrypt();
        encryptor.setPublicKey(key);
        let result = encryptor.encrypt(_data);
        console.log(result, '');
        resolve(result);
        return resolve(result);
      }
    });
  } catch (error) {
    console.log(error, '');
  }
};
const getUserId = async () => {
  let userId = await _system.default.getUserId();
  return userId.data.userId;
};
const getOAID = async () => {
  let oaid = await _system.default.getOAID();
  return oaid;
};

/**
 * 
 * @param {*} that this 
 */
function getConvertUpload() {
  let param = _objectSpread({}, getApp().$def.dataApp.actiParam);
  console.log('getConvertUpload() param= ', param);
  for (const key in param) {
    param[key] = param[key].replace(/\/$/, "");
  }
  const convertedParam = convertKeysToCamelCase(param);
  if (!convertedParam.callback) {
    return;
  }
  console.log('getConvertUpload() convertedParam= ', convertedParam);
  $apis.example.convertUpload(_objectSpread(_objectSpread({}, convertedParam), {}, {
    deviceId: convertedParam.oaid,
    type: convertedParam.type || 'jh'
  })).then(res => {
    console.log(res, '');
  }).catch(err => {
    console.log(err, '');
  });
}
function toCamelCase(str) {
  return str.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());
}
function convertKeysToCamelCase(obj) {
  if (Array.isArray(obj)) {
    return obj.map(v => convertKeysToCamelCase(v));
  } else if (obj !== null && obj.constructor === Object) {
    return Object.keys(obj).reduce((result, key) => {
      const camelCaseKey = toCamelCase(key);
      result[camelCaseKey] = convertKeysToCamelCase(obj[key]);
      return result;
    }, {});
  }
  return obj;
}

/**
*    router.push(OBJECT)  @param {Object} e='hap://app/com.company.app/index?param1=value1'
*/
const saveHapUri = e => {
  console.log('saveHapUri() e= ', e);
  const {
    channelValue = '',
    callback = ''
  } = e;
  if (callback) {
    getApp().$def.dataApp.actiParam = _objectSpread({}, e);
  }
};

/**
*  
*/

const tablePlaque = async (onCloseCallback, onCatchCallback) => {
  // const storageFlag = await $processData.getStorage("_PRIVAC");
  // if (!storageFlag) {
  //   //
  //   console.log('= ', storageFlag);
  //   console.log(',');
  //   return
  // }

  let Provider = $ad.getProvider();
  if (!Provider) {
    console.log('');
    return;
  }
  let interstitialAd = $ad.createInterstitialAd({
    adUnitId: getApp().$def.dataApp.interstitialAdUnitId
  });
  interstitialAd.load().then(res => {
    console.log(res, '');
    interstitialAd.show().then(() => {
      console.log('show');
    }, () => {
      console.log('show');
    });
  })
  // .catch((err) => {
  //   console.log(err, '');
  // })
  .catch(onCatchCallback);
  interstitialAd.onClick(() => {
    console.log('');
    //
    getConvertUpload();
  });
  interstitialAd.onClose(onCloseCallback);
};

/**
* banner  margin_bot  
*/

let bannerAd;
const showBannerAd = async margin_bot => {
  // const storageFlag = await $processData.getStorage("_PRIVAC");
  // if (!storageFlag) {
  //   //
  //   console.log('= ', storageFlag);
  //   console.log(',banner');
  //   return
  // }

  let Provider = $ad.getProvider();
  if (!Provider) {
    console.log('');
    return;
  }
  var d = _system.default.getInfoSync();
  // console.info("banner- " + JSON.stringify(d));

  let height = 57; //  57144
  //
  let windowWidth = d.screenWidth;
  let windowHeight = d.screenHeight - 153 - margin_bot;
  //logicWidthmanifest.jsondesignWidth750
  let logicWidth = 750;
  //dppx
  let realAdHeighPX = height * d.screenDensity;
  //42dppx
  let titleBarHeight = 42 * d.screenDensity;
  //
  let realToppx = windowHeight - realAdHeighPX + d.statusBarHeight + titleBarHeight;

  // console.info("calBannerPostion1 realToppx=" + realToppx + ", logicWidth= " + logicWidth, "windowWidth= " + windowWidth);
  //
  let logicWebTop = realToppx * logicWidth / windowWidth;

  //data
  let top = logicWebTop === 0 ? 1230 : logicWebTop;
  // console.info("calBannerPostion1 top=" + top + ", logicWebTop= " + logicWebTop);

  const style = {
    left: 0,
    top: top,
    width: 360,
    height: height
  };
  let adid = getApp().$def.dataApp.bannerAdUnitId;
  // let adid = 'z1v6jykvy9'
  // console.info("banner=" + adid);
  bannerAd = $ad.createBannerAd({
    adUnitId: adid,
    //banner
    style: style,
    adIntervals: 60 //
  });
  // console.info("annerAd.style=" + JSON.stringify(bannerAd.style));
  bannerAd.onLoad(e => {
    console.info("load bannerAd  onload success e=" + JSON.stringify(e));
  });
  bannerAd.onError(e => {
    // console.error("load bannerAd  onError " + JSON.stringify(e));
  });
  bannerAd.onClose(e => {
    // console.info("load bannerAd  onClose");
  });
  bannerAd.show();
};
const hideBanerAd = () => {
  if (bannerAd) {
    bannerAd.hide();
  }
};
const viewBanner = () => {
  if (bannerAd) {
    bannerAd.show();
  }
};
const destroyBanner = () => {
  if (bannerAd) {
    bannerAd.destroy();
  }
};

/**
 * 
 * @param {Object} countDownData totalSecondsnameisFormat
 * @param {*} that this
 */
const startCountDown = (countDownData, that) => {
  let {
    totalSeconds = 3,
    name,
    isFormat = false
  } = countDownData;
  let _this = that;
  return new Promise((resolve, reject) => {
    let timer = setInterval(() => {
      if (totalSeconds > 1) {
        totalSeconds--;
        const minutes = isFormat ? (void 0).formatTime(Math.floor(totalSeconds / 60)) : Math.floor(totalSeconds / 60);
        const seconds = isFormat ? (void 0).formatTime(Math.floor(totalSeconds % 60)) : Math.floor(totalSeconds % 60);
        _this[name] = {
          minutes,
          seconds
        };
      } else {
        clearInterval(_this.timer);
        resolve();
      }
    }, 1000);
    _this.timer = timer;
  });
};
var _default = exports["default"] = {
  throttle,
  getUserId,
  getConvertUpload,
  startCountDown,
  dataEncryption,
  tablePlaque,
  showBannerAd,
  hideBanerAd,
  viewBanner,
  destroyBanner,
  saveHapUri,
  getOAID
};

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/JSEncrypt.js":
/*!****************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/JSEncrypt.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.JSEncrypt = void 0;
var _base = __webpack_require__(/*! ./lib/jsbn/base64 */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js");
var _JSEncryptRSAKey = __webpack_require__(/*! ./JSEncryptRSAKey */ "./src/Common/libs/jsencrypt/lib/JSEncryptRSAKey.js");
var _a;
var version = typeof process !== 'undefined' ? (_a = process.env) === null || _a === void 0 ? void 0 : _a.npm_package_version : undefined;
/**
 *
 * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour
 * possible parameters are:
 * - default_key_size        {number}  default: 1024 the key size in bit
 * - default_public_exponent {string}  default: '010001' the hexadecimal representation of the public exponent
 * - log                     {boolean} default: false whether log warn/error or not
 * @constructor
 */
var JSEncrypt = exports.JSEncrypt = /** @class */function () {
  function JSEncrypt(options) {
    if (options === void 0) {
      options = {};
    }
    options = options || {};
    this.default_key_size = options.default_key_size ? parseInt(options.default_key_size, 10) : 1024;
    this.default_public_exponent = options.default_public_exponent || "010001"; // 65537 default openssl public exponent for rsa key type
    this.log = options.log || false;
    // The private and public key.
    this.key = null;
  }
  /**
   * Method to set the rsa key parameter (one method is enough to set both the public
   * and the private key, since the private key contains the public key paramenters)
   * Log a warning if logs are enabled
   * @param {Object|string} key the pem encoded string or an object (with or without header/footer)
   * @public
   */
  JSEncrypt.prototype.setKey = function (key) {
    if (this.log && this.key) {
      console.warn("A key was already set, overriding existing.");
    }
    this.key = new _JSEncryptRSAKey.JSEncryptRSAKey(key);
  };
  /**
   * Proxy method for setKey, for api compatibility
   * @see setKey
   * @public
   */
  JSEncrypt.prototype.setPrivateKey = function (privkey) {
    // Create the key.
    this.setKey(privkey);
  };
  /**
   * Proxy method for setKey, for api compatibility
   * @see setKey
   * @public
   */
  JSEncrypt.prototype.setPublicKey = function (pubkey) {
    // Sets the public key.
    this.setKey(pubkey);
  };
  /**
   * Proxy method for RSAKey object's decrypt, decrypt the string using the private
   * components of the rsa key object. Note that if the object was not set will be created
   * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor
   * @param {string} str base64 encoded crypted string to decrypt
   * @return {string} the decrypted string
   * @public
   */
  JSEncrypt.prototype.decrypt = function (str) {
    // Return the decrypted string.
    try {
      return this.getKey().decrypt((0, _base.b64tohex)(str));
    } catch (ex) {
      return false;
    }
  };
  /**
   * Proxy method for RSAKey object's encrypt, encrypt the string using the public
   * components of the rsa key object. Note that if the object was not set will be created
   * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor
   * @param {string} str the string to encrypt
   * @return {string} the encrypted string encoded in base64
   * @public
   */
  JSEncrypt.prototype.encrypt = function (str) {
    // Return the encrypted string.
    try {
      return (0, _base.hex2b64)(this.getKey().encrypt(str));
    } catch (ex) {
      return false;
    }
  };
  /**
   * Proxy method for RSAKey object's sign.
   * @param {string} str the string to sign
   * @param {function} digestMethod hash method
   * @param {string} digestName the name of the hash algorithm
   * @return {string} the signature encoded in base64
   * @public
   */
  JSEncrypt.prototype.sign = function (str, digestMethod, digestName) {
    // return the RSA signature of 'str' in 'hex' format.
    try {
      return (0, _base.hex2b64)(this.getKey().sign(str, digestMethod, digestName));
    } catch (ex) {
      return false;
    }
  };
  /**
   * Proxy method for RSAKey object's verify.
   * @param {string} str the string to verify
   * @param {string} signature the signature encoded in base64 to compare the string to
   * @param {function} digestMethod hash method
   * @return {boolean} whether the data and signature match
   * @public
   */
  JSEncrypt.prototype.verify = function (str, signature, digestMethod) {
    // Return the decrypted 'digest' of the signature.
    try {
      return this.getKey().verify(str, (0, _base.b64tohex)(signature), digestMethod);
    } catch (ex) {
      return false;
    }
  };
  /**
   * Getter for the current JSEncryptRSAKey object. If it doesn't exists a new object
   * will be created and returned
   * @param {callback} [cb] the callback to be called if we want the key to be generated
   * in an async fashion
   * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object
   * @public
   */
  JSEncrypt.prototype.getKey = function (cb) {
    // Only create new if it does not exist.
    if (!this.key) {
      // Get a new private key.
      this.key = new _JSEncryptRSAKey.JSEncryptRSAKey();
      if (cb && {}.toString.call(cb) === "[object Function]") {
        this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);
        return;
      }
      // Generate the key.
      this.key.generate(this.default_key_size, this.default_public_exponent);
    }
    return this.key;
  };
  /**
   * Returns the pem encoded representation of the private key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the private key WITH header and footer
   * @public
   */
  JSEncrypt.prototype.getPrivateKey = function () {
    // Return the private representation of this key.
    return this.getKey().getPrivateKey();
  };
  /**
   * Returns the pem encoded representation of the private key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the private key WITHOUT header and footer
   * @public
   */
  JSEncrypt.prototype.getPrivateKeyB64 = function () {
    // Return the private representation of this key.
    return this.getKey().getPrivateBaseKeyB64();
  };
  /**
   * Returns the pem encoded representation of the public key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the public key WITH header and footer
   * @public
   */
  JSEncrypt.prototype.getPublicKey = function () {
    // Return the private representation of this key.
    return this.getKey().getPublicKey();
  };
  /**
   * Returns the pem encoded representation of the public key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the public key WITHOUT header and footer
   * @public
   */
  JSEncrypt.prototype.getPublicKeyB64 = function () {
    // Return the private representation of this key.
    return this.getKey().getPublicBaseKeyB64();
  };
  JSEncrypt.version = version;
  return JSEncrypt;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/JSEncryptRSAKey.js":
/*!**********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/JSEncryptRSAKey.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.JSEncryptRSAKey = void 0;
var _base = __webpack_require__(/*! ./lib/jsbn/base64 */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js");
var _hex = __webpack_require__(/*! ./lib/asn1js/hex */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/hex.js");
var _base2 = __webpack_require__(/*! ./lib/asn1js/base64 */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/base64.js");
var _asn = __webpack_require__(/*! ./lib/asn1js/asn1 */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/asn1.js");
var _rsa = __webpack_require__(/*! ./lib/jsbn/rsa */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rsa.js");
var _jsbn = __webpack_require__(/*! ./lib/jsbn/jsbn */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js");
var _asn2 = __webpack_require__(/*! ./lib/jsrsasign/asn1-1.0 */ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/asn1-1.0.js");
var __extends = void 0 && (void 0).__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
  };
  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Create a new JSEncryptRSAKey that extends Tom Wu's RSA key object.
 * This object is just a decorator for parsing the key parameter
 * @param {string|Object} key - The key in string format, or an object containing
 * the parameters needed to build a RSAKey object.
 * @constructor
 */
var JSEncryptRSAKey = exports.JSEncryptRSAKey = /** @class */function (_super) {
  __extends(JSEncryptRSAKey, _super);
  function JSEncryptRSAKey(key) {
    var _this = _super.call(this) || this;
    // Call the super constructor.
    //  RSAKey.call(this);
    // If a key key was provided.
    if (key) {
      // If this is a string...
      if (typeof key === "string") {
        _this.parseKey(key);
      } else if (JSEncryptRSAKey.hasPrivateKeyProperty(key) || JSEncryptRSAKey.hasPublicKeyProperty(key)) {
        // Set the values for the key.
        _this.parsePropertiesFrom(key);
      }
    }
    return _this;
  }
  /**
   * Method to parse a pem encoded string containing both a public or private key.
   * The method will translate the pem encoded string in a der encoded string and
   * will parse private key and public key parameters. This method accepts public key
   * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).
   *
   * @todo Check how many rsa formats use the same format of pkcs #1.
   *
   * The format is defined as:
   * PublicKeyInfo ::= SEQUENCE {
   *   algorithm       AlgorithmIdentifier,
   *   PublicKey       BIT STRING
   * }
   * Where AlgorithmIdentifier is:
   * AlgorithmIdentifier ::= SEQUENCE {
   *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm
   *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)
   * }
   * and PublicKey is a SEQUENCE encapsulated in a BIT STRING
   * RSAPublicKey ::= SEQUENCE {
   *   modulus           INTEGER,  -- n
   *   publicExponent    INTEGER   -- e
   * }
   * it's possible to examine the structure of the keys obtained from openssl using
   * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/
   * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer
   * @private
   */
  JSEncryptRSAKey.prototype.parseKey = function (pem) {
    try {
      var modulus = 0;
      var public_exponent = 0;
      var reHex = /^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/;
      var der = reHex.test(pem) ? _hex.Hex.decode(pem) : _base2.Base64.unarmor(pem);
      var asn1 = _asn.ASN1.decode(der);
      // Fixes a bug with OpenSSL 1.0+ private keys
      if (asn1.sub.length === 3) {
        asn1 = asn1.sub[2].sub[0];
      }
      if (asn1.sub.length === 9) {
        // Parse the private key.
        modulus = asn1.sub[1].getHexStringValue(); // bigint
        this.n = (0, _jsbn.parseBigInt)(modulus, 16);
        public_exponent = asn1.sub[2].getHexStringValue(); // int
        this.e = parseInt(public_exponent, 16);
        var private_exponent = asn1.sub[3].getHexStringValue(); // bigint
        this.d = (0, _jsbn.parseBigInt)(private_exponent, 16);
        var prime1 = asn1.sub[4].getHexStringValue(); // bigint
        this.p = (0, _jsbn.parseBigInt)(prime1, 16);
        var prime2 = asn1.sub[5].getHexStringValue(); // bigint
        this.q = (0, _jsbn.parseBigInt)(prime2, 16);
        var exponent1 = asn1.sub[6].getHexStringValue(); // bigint
        this.dmp1 = (0, _jsbn.parseBigInt)(exponent1, 16);
        var exponent2 = asn1.sub[7].getHexStringValue(); // bigint
        this.dmq1 = (0, _jsbn.parseBigInt)(exponent2, 16);
        var coefficient = asn1.sub[8].getHexStringValue(); // bigint
        this.coeff = (0, _jsbn.parseBigInt)(coefficient, 16);
      } else if (asn1.sub.length === 2) {
        if (asn1.sub[0].sub) {
          // Parse ASN.1 SubjectPublicKeyInfo type as defined by X.509
          var bit_string = asn1.sub[1];
          var sequence = bit_string.sub[0];
          modulus = sequence.sub[0].getHexStringValue();
          this.n = (0, _jsbn.parseBigInt)(modulus, 16);
          public_exponent = sequence.sub[1].getHexStringValue();
          this.e = parseInt(public_exponent, 16);
        } else {
          // Parse ASN.1 RSAPublicKey type as defined by PKCS #1
          modulus = asn1.sub[0].getHexStringValue();
          this.n = (0, _jsbn.parseBigInt)(modulus, 16);
          public_exponent = asn1.sub[1].getHexStringValue();
          this.e = parseInt(public_exponent, 16);
        }
      } else {
        return false;
      }
      return true;
    } catch (ex) {
      return false;
    }
  };
  /**
   * Translate rsa parameters in a hex encoded string representing the rsa key.
   *
   * The translation follow the ASN.1 notation :
   * RSAPrivateKey ::= SEQUENCE {
   *   version           Version,
   *   modulus           INTEGER,  -- n
   *   publicExponent    INTEGER,  -- e
   *   privateExponent   INTEGER,  -- d
   *   prime1            INTEGER,  -- p
   *   prime2            INTEGER,  -- q
   *   exponent1         INTEGER,  -- d mod (p1)
   *   exponent2         INTEGER,  -- d mod (q-1)
   *   coefficient       INTEGER,  -- (inverse of q) mod p
   * }
   * @returns {string}  DER Encoded String representing the rsa private key
   * @private
   */
  JSEncryptRSAKey.prototype.getPrivateBaseKey = function () {
    var options = {
      array: [new _asn2.KJUR.asn1.DERInteger({
        int: 0
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.n
      }), new _asn2.KJUR.asn1.DERInteger({
        int: this.e
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.d
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.p
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.q
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.dmp1
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.dmq1
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.coeff
      })]
    };
    var seq = new _asn2.KJUR.asn1.DERSequence(options);
    return seq.getEncodedHex();
  };
  /**
   * base64 (pem) encoded version of the DER encoded representation
   * @returns {string} pem encoded representation without header and footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPrivateBaseKeyB64 = function () {
    return (0, _base.hex2b64)(this.getPrivateBaseKey());
  };
  /**
   * Translate rsa parameters in a hex encoded string representing the rsa public key.
   * The representation follow the ASN.1 notation :
   * PublicKeyInfo ::= SEQUENCE {
   *   algorithm       AlgorithmIdentifier,
   *   PublicKey       BIT STRING
   * }
   * Where AlgorithmIdentifier is:
   * AlgorithmIdentifier ::= SEQUENCE {
   *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm
   *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)
   * }
   * and PublicKey is a SEQUENCE encapsulated in a BIT STRING
   * RSAPublicKey ::= SEQUENCE {
   *   modulus           INTEGER,  -- n
   *   publicExponent    INTEGER   -- e
   * }
   * @returns {string} DER Encoded String representing the rsa public key
   * @private
   */
  JSEncryptRSAKey.prototype.getPublicBaseKey = function () {
    var first_sequence = new _asn2.KJUR.asn1.DERSequence({
      array: [new _asn2.KJUR.asn1.DERObjectIdentifier({
        oid: "1.2.840.113549.1.1.1"
      }), new _asn2.KJUR.asn1.DERNull()]
    });
    var second_sequence = new _asn2.KJUR.asn1.DERSequence({
      array: [new _asn2.KJUR.asn1.DERInteger({
        bigint: this.n
      }), new _asn2.KJUR.asn1.DERInteger({
        int: this.e
      })]
    });
    var bit_string = new _asn2.KJUR.asn1.DERBitString({
      hex: "00" + second_sequence.getEncodedHex()
    });
    var seq = new _asn2.KJUR.asn1.DERSequence({
      array: [first_sequence, bit_string]
    });
    return seq.getEncodedHex();
  };
  /**
   * base64 (pem) encoded version of the DER encoded representation
   * @returns {string} pem encoded representation without header and footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPublicBaseKeyB64 = function () {
    return (0, _base.hex2b64)(this.getPublicBaseKey());
  };
  /**
   * wrap the string in block of width chars. The default value for rsa keys is 64
   * characters.
   * @param {string} str the pem encoded string without header and footer
   * @param {Number} [width=64] - the length the string has to be wrapped at
   * @returns {string}
   * @private
   */
  JSEncryptRSAKey.wordwrap = function (str, width) {
    width = width || 64;
    if (!str) {
      return str;
    }
    var regex = "(.{1," + width + "})( +|$\n?)|(.{1," + width + "})";
    return str.match(RegExp(regex, "g")).join("\n");
  };
  /**
   * Retrieve the pem encoded private key
   * @returns {string} the pem encoded private key with header/footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPrivateKey = function () {
    var key = "-----BEGIN RSA PRIVATE KEY-----\n";
    key += JSEncryptRSAKey.wordwrap(this.getPrivateBaseKeyB64()) + "\n";
    key += "-----END RSA PRIVATE KEY-----";
    return key;
  };
  /**
   * Retrieve the pem encoded public key
   * @returns {string} the pem encoded public key with header/footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPublicKey = function () {
    var key = "-----BEGIN PUBLIC KEY-----\n";
    key += JSEncryptRSAKey.wordwrap(this.getPublicBaseKeyB64()) + "\n";
    key += "-----END PUBLIC KEY-----";
    return key;
  };
  /**
   * Check if the object contains the necessary parameters to populate the rsa modulus
   * and public exponent parameters.
   * @param {Object} [obj={}] - An object that may contain the two public key
   * parameters
   * @returns {boolean} true if the object contains both the modulus and the public exponent
   * properties (n and e)
   * @todo check for types of n and e. N should be a parseable bigInt object, E should
   * be a parseable integer number
   * @private
   */
  JSEncryptRSAKey.hasPublicKeyProperty = function (obj) {
    obj = obj || {};
    return obj.hasOwnProperty("n") && obj.hasOwnProperty("e");
  };
  /**
   * Check if the object contains ALL the parameters of an RSA key.
   * @param {Object} [obj={}] - An object that may contain nine rsa key
   * parameters
   * @returns {boolean} true if the object contains all the parameters needed
   * @todo check for types of the parameters all the parameters but the public exponent
   * should be parseable bigint objects, the public exponent should be a parseable integer number
   * @private
   */
  JSEncryptRSAKey.hasPrivateKeyProperty = function (obj) {
    obj = obj || {};
    return obj.hasOwnProperty("n") && obj.hasOwnProperty("e") && obj.hasOwnProperty("d") && obj.hasOwnProperty("p") && obj.hasOwnProperty("q") && obj.hasOwnProperty("dmp1") && obj.hasOwnProperty("dmq1") && obj.hasOwnProperty("coeff");
  };
  /**
   * Parse the properties of obj in the current rsa object. Obj should AT LEAST
   * include the modulus and public exponent (n, e) parameters.
   * @param {Object} obj - the object containing rsa parameters
   * @private
   */
  JSEncryptRSAKey.prototype.parsePropertiesFrom = function (obj) {
    this.n = obj.n;
    this.e = obj.e;
    if (obj.hasOwnProperty("d")) {
      this.d = obj.d;
      this.p = obj.p;
      this.q = obj.q;
      this.dmp1 = obj.dmp1;
      this.dmq1 = obj.dmq1;
      this.coeff = obj.coeff;
    }
  };
  return JSEncryptRSAKey;
}(_rsa.RSAKey);

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/index.js":
/*!************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
Object.defineProperty(exports, "JSEncrypt", ({
  enumerable: true,
  get: function () {
    return _JSEncrypt.JSEncrypt;
  }
}));
exports["default"] = void 0;
var _JSEncrypt = __webpack_require__(/*! ./JSEncrypt */ "./src/Common/libs/jsencrypt/lib/JSEncrypt.js");
var _default = exports["default"] = _JSEncrypt.JSEncrypt;

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/asn1.js":
/*!**********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/asn1.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Stream = exports.ASN1Tag = exports.ASN1 = void 0;
var _int = __webpack_require__(/*! ./int10 */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/int10.js");
// ASN.1 JavaScript decoder
// Copyright (c) 2008-2014 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
/*global oids */

var ellipsis = "\u2026";
var reTimeS = /^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;
var reTimeL = /^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;
function stringCut(str, len) {
  if (str.length > len) {
    str = str.substring(0, len) + ellipsis;
  }
  return str;
}
var Stream = exports.Stream = /** @class */function () {
  function Stream(enc, pos) {
    this.hexDigits = "0123456789ABCDEF";
    if (enc instanceof Stream) {
      this.enc = enc.enc;
      this.pos = enc.pos;
    } else {
      // enc should be an array or a binary string
      this.enc = enc;
      this.pos = pos;
    }
  }
  Stream.prototype.get = function (pos) {
    if (pos === undefined) {
      pos = this.pos++;
    }
    if (pos >= this.enc.length) {
      throw new Error("Requesting byte offset ".concat(pos, " on a stream of length ").concat(this.enc.length));
    }
    return "string" === typeof this.enc ? this.enc.charCodeAt(pos) : this.enc[pos];
  };
  Stream.prototype.hexByte = function (b) {
    return this.hexDigits.charAt(b >> 4 & 0xF) + this.hexDigits.charAt(b & 0xF);
  };
  Stream.prototype.hexDump = function (start, end, raw) {
    var s = "";
    for (var i = start; i < end; ++i) {
      s += this.hexByte(this.get(i));
      if (raw !== true) {
        switch (i & 0xF) {
          case 0x7:
            s += "  ";
            break;
          case 0xF:
            s += "\n";
            break;
          default:
            s += " ";
        }
      }
    }
    return s;
  };
  Stream.prototype.isASCII = function (start, end) {
    for (var i = start; i < end; ++i) {
      var c = this.get(i);
      if (c < 32 || c > 176) {
        return false;
      }
    }
    return true;
  };
  Stream.prototype.parseStringISO = function (start, end) {
    var s = "";
    for (var i = start; i < end; ++i) {
      s += String.fromCharCode(this.get(i));
    }
    return s;
  };
  Stream.prototype.parseStringUTF = function (start, end) {
    var s = "";
    for (var i = start; i < end;) {
      var c = this.get(i++);
      if (c < 128) {
        s += String.fromCharCode(c);
      } else if (c > 191 && c < 224) {
        s += String.fromCharCode((c & 0x1F) << 6 | this.get(i++) & 0x3F);
      } else {
        s += String.fromCharCode((c & 0x0F) << 12 | (this.get(i++) & 0x3F) << 6 | this.get(i++) & 0x3F);
      }
    }
    return s;
  };
  Stream.prototype.parseStringBMP = function (start, end) {
    var str = "";
    var hi;
    var lo;
    for (var i = start; i < end;) {
      hi = this.get(i++);
      lo = this.get(i++);
      str += String.fromCharCode(hi << 8 | lo);
    }
    return str;
  };
  Stream.prototype.parseTime = function (start, end, shortYear) {
    var s = this.parseStringISO(start, end);
    var m = (shortYear ? reTimeS : reTimeL).exec(s);
    if (!m) {
      return "Unrecognized time: " + s;
    }
    if (shortYear) {
      // to avoid querying the timer, use the fixed range [1970, 2069]
      // it will conform with ITU X.400 [-10, +40] sliding window until 2030
      m[1] = +m[1];
      m[1] += +m[1] < 70 ? 2000 : 1900;
    }
    s = m[1] + "-" + m[2] + "-" + m[3] + " " + m[4];
    if (m[5]) {
      s += ":" + m[5];
      if (m[6]) {
        s += ":" + m[6];
        if (m[7]) {
          s += "." + m[7];
        }
      }
    }
    if (m[8]) {
      s += " UTC";
      if (m[8] != "Z") {
        s += m[8];
        if (m[9]) {
          s += ":" + m[9];
        }
      }
    }
    return s;
  };
  Stream.prototype.parseInteger = function (start, end) {
    var v = this.get(start);
    var neg = v > 127;
    var pad = neg ? 255 : 0;
    var len;
    var s = "";
    // skip unuseful bits (not allowed in DER)
    while (v == pad && ++start < end) {
      v = this.get(start);
    }
    len = end - start;
    if (len === 0) {
      return neg ? -1 : 0;
    }
    // show bit length of huge integers
    if (len > 4) {
      s = v;
      len <<= 3;
      while (((+s ^ pad) & 0x80) == 0) {
        s = +s << 1;
        --len;
      }
      s = "(" + len + " bit)\n";
    }
    // decode the integer
    if (neg) {
      v = v - 256;
    }
    var n = new _int.Int10(v);
    for (var i = start + 1; i < end; ++i) {
      n.mulAdd(256, this.get(i));
    }
    return s + n.toString();
  };
  Stream.prototype.parseBitString = function (start, end, maxLength) {
    var unusedBit = this.get(start);
    var lenBit = (end - start - 1 << 3) - unusedBit;
    var intro = "(" + lenBit + " bit)\n";
    var s = "";
    for (var i = start + 1; i < end; ++i) {
      var b = this.get(i);
      var skip = i == end - 1 ? unusedBit : 0;
      for (var j = 7; j >= skip; --j) {
        s += b >> j & 1 ? "1" : "0";
      }
      if (s.length > maxLength) {
        return intro + stringCut(s, maxLength);
      }
    }
    return intro + s;
  };
  Stream.prototype.parseOctetString = function (start, end, maxLength) {
    if (this.isASCII(start, end)) {
      return stringCut(this.parseStringISO(start, end), maxLength);
    }
    var len = end - start;
    var s = "(" + len + " byte)\n";
    maxLength /= 2; // we work in bytes
    if (len > maxLength) {
      end = start + maxLength;
    }
    for (var i = start; i < end; ++i) {
      s += this.hexByte(this.get(i));
    }
    if (len > maxLength) {
      s += ellipsis;
    }
    return s;
  };
  Stream.prototype.parseOID = function (start, end, maxLength) {
    var s = "";
    var n = new _int.Int10();
    var bits = 0;
    for (var i = start; i < end; ++i) {
      var v = this.get(i);
      n.mulAdd(128, v & 0x7F);
      bits += 7;
      if (!(v & 0x80)) {
        // finished
        if (s === "") {
          n = n.simplify();
          if (n instanceof _int.Int10) {
            n.sub(80);
            s = "2." + n.toString();
          } else {
            var m = n < 80 ? n < 40 ? 0 : 1 : 2;
            s = m + "." + (n - m * 40);
          }
        } else {
          s += "." + n.toString();
        }
        if (s.length > maxLength) {
          return stringCut(s, maxLength);
        }
        n = new _int.Int10();
        bits = 0;
      }
    }
    if (bits > 0) {
      s += ".incomplete";
    }
    return s;
  };
  return Stream;
}();
var ASN1 = exports.ASN1 = /** @class */function () {
  function ASN1(stream, header, length, tag, sub) {
    if (!(tag instanceof ASN1Tag)) {
      throw new Error("Invalid tag value.");
    }
    this.stream = stream;
    this.header = header;
    this.length = length;
    this.tag = tag;
    this.sub = sub;
  }
  ASN1.prototype.typeName = function () {
    switch (this.tag.tagClass) {
      case 0:
        // universal
        switch (this.tag.tagNumber) {
          case 0x00:
            return "EOC";
          case 0x01:
            return "BOOLEAN";
          case 0x02:
            return "INTEGER";
          case 0x03:
            return "BIT_STRING";
          case 0x04:
            return "OCTET_STRING";
          case 0x05:
            return "NULL";
          case 0x06:
            return "OBJECT_IDENTIFIER";
          case 0x07:
            return "ObjectDescriptor";
          case 0x08:
            return "EXTERNAL";
          case 0x09:
            return "REAL";
          case 0x0A:
            return "ENUMERATED";
          case 0x0B:
            return "EMBEDDED_PDV";
          case 0x0C:
            return "UTF8String";
          case 0x10:
            return "SEQUENCE";
          case 0x11:
            return "SET";
          case 0x12:
            return "NumericString";
          case 0x13:
            return "PrintableString";
          // ASCII subset
          case 0x14:
            return "TeletexString";
          // aka T61String
          case 0x15:
            return "VideotexString";
          case 0x16:
            return "IA5String";
          // ASCII
          case 0x17:
            return "UTCTime";
          case 0x18:
            return "GeneralizedTime";
          case 0x19:
            return "GraphicString";
          case 0x1A:
            return "VisibleString";
          // ASCII subset
          case 0x1B:
            return "GeneralString";
          case 0x1C:
            return "UniversalString";
          case 0x1E:
            return "BMPString";
        }
        return "Universal_" + this.tag.tagNumber.toString();
      case 1:
        return "Application_" + this.tag.tagNumber.toString();
      case 2:
        return "[" + this.tag.tagNumber.toString() + "]";
      // Context
      case 3:
        return "Private_" + this.tag.tagNumber.toString();
    }
  };
  ASN1.prototype.content = function (maxLength) {
    if (this.tag === undefined) {
      return null;
    }
    if (maxLength === undefined) {
      maxLength = Infinity;
    }
    var content = this.posContent();
    var len = Math.abs(this.length);
    if (!this.tag.isUniversal()) {
      if (this.sub !== null) {
        return "(" + this.sub.length + " elem)";
      }
      return this.stream.parseOctetString(content, content + len, maxLength);
    }
    switch (this.tag.tagNumber) {
      case 0x01:
        // BOOLEAN
        return this.stream.get(content) === 0 ? "false" : "true";
      case 0x02:
        // INTEGER
        return this.stream.parseInteger(content, content + len);
      case 0x03:
        // BIT_STRING
        return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseBitString(content, content + len, maxLength);
      case 0x04:
        // OCTET_STRING
        return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseOctetString(content, content + len, maxLength);
      // case 0x05: // NULL
      case 0x06:
        // OBJECT_IDENTIFIER
        return this.stream.parseOID(content, content + len, maxLength);
      // case 0x07: // ObjectDescriptor
      // case 0x08: // EXTERNAL
      // case 0x09: // REAL
      // case 0x0A: // ENUMERATED
      // case 0x0B: // EMBEDDED_PDV
      case 0x10: // SEQUENCE
      case 0x11:
        // SET
        if (this.sub !== null) {
          return "(" + this.sub.length + " elem)";
        } else {
          return "(no elem)";
        }
      case 0x0C:
        // UTF8String
        return stringCut(this.stream.parseStringUTF(content, content + len), maxLength);
      case 0x12: // NumericString
      case 0x13: // PrintableString
      case 0x14: // TeletexString
      case 0x15: // VideotexString
      case 0x16: // IA5String
      // case 0x19: // GraphicString
      case 0x1A:
        // VisibleString
        // case 0x1B: // GeneralString
        // case 0x1C: // UniversalString
        return stringCut(this.stream.parseStringISO(content, content + len), maxLength);
      case 0x1E:
        // BMPString
        return stringCut(this.stream.parseStringBMP(content, content + len), maxLength);
      case 0x17: // UTCTime
      case 0x18:
        // GeneralizedTime
        return this.stream.parseTime(content, content + len, this.tag.tagNumber == 0x17);
    }
    return null;
  };
  ASN1.prototype.toString = function () {
    return this.typeName() + "@" + this.stream.pos + "[header:" + this.header + ",length:" + this.length + ",sub:" + (this.sub === null ? "null" : this.sub.length) + "]";
  };
  ASN1.prototype.toPrettyString = function (indent) {
    if (indent === undefined) {
      indent = "";
    }
    var s = indent + this.typeName() + " @" + this.stream.pos;
    if (this.length >= 0) {
      s += "+";
    }
    s += this.length;
    if (this.tag.tagConstructed) {
      s += " (constructed)";
    } else if (this.tag.isUniversal() && (this.tag.tagNumber == 0x03 || this.tag.tagNumber == 0x04) && this.sub !== null) {
      s += " (encapsulates)";
    }
    s += "\n";
    if (this.sub !== null) {
      indent += "  ";
      for (var i = 0, max = this.sub.length; i < max; ++i) {
        s += this.sub[i].toPrettyString(indent);
      }
    }
    return s;
  };
  ASN1.prototype.posStart = function () {
    return this.stream.pos;
  };
  ASN1.prototype.posContent = function () {
    return this.stream.pos + this.header;
  };
  ASN1.prototype.posEnd = function () {
    return this.stream.pos + this.header + Math.abs(this.length);
  };
  ASN1.prototype.toHexString = function () {
    return this.stream.hexDump(this.posStart(), this.posEnd(), true);
  };
  ASN1.decodeLength = function (stream) {
    var buf = stream.get();
    var len = buf & 0x7F;
    if (len == buf) {
      return len;
    }
    // no reason to use Int10, as it would be a huge buffer anyways
    if (len > 6) {
      throw new Error("Length over 48 bits not supported at position " + (stream.pos - 1));
    }
    if (len === 0) {
      return null;
    } // undefined
    buf = 0;
    for (var i = 0; i < len; ++i) {
      buf = buf * 256 + stream.get();
    }
    return buf;
  };
  /**
   * Retrieve the hexadecimal value (as a string) of the current ASN.1 element
   * @returns {string}
   * @public
   */
  ASN1.prototype.getHexStringValue = function () {
    var hexString = this.toHexString();
    var offset = this.header * 2;
    var length = this.length * 2;
    return hexString.substr(offset, length);
  };
  ASN1.decode = function (str) {
    var stream;
    if (!(str instanceof Stream)) {
      stream = new Stream(str, 0);
    } else {
      stream = str;
    }
    var streamStart = new Stream(stream);
    var tag = new ASN1Tag(stream);
    var len = ASN1.decodeLength(stream);
    var start = stream.pos;
    var header = start - streamStart.pos;
    var sub = null;
    var getSub = function () {
      var ret = [];
      if (len !== null) {
        // definite length
        var end = start + len;
        while (stream.pos < end) {
          ret[ret.length] = ASN1.decode(stream);
        }
        if (stream.pos != end) {
          throw new Error("Content size is not correct for container starting at offset " + start);
        }
      } else {
        // undefined length
        try {
          for (;;) {
            var s = ASN1.decode(stream);
            if (s.tag.isEOC()) {
              break;
            }
            ret[ret.length] = s;
          }
          len = start - stream.pos; // undefined lengths are represented as negative values
        } catch (e) {
          throw new Error("Exception while decoding undefined length content: " + e);
        }
      }
      return ret;
    };
    if (tag.tagConstructed) {
      // must have valid content
      sub = getSub();
    } else if (tag.isUniversal() && (tag.tagNumber == 0x03 || tag.tagNumber == 0x04)) {
      // sometimes BitString and OctetString are used to encapsulate ASN.1
      try {
        if (tag.tagNumber == 0x03) {
          if (stream.get() != 0) {
            throw new Error("BIT STRINGs with unused bits cannot encapsulate.");
          }
        }
        sub = getSub();
        for (var i = 0; i < sub.length; ++i) {
          if (sub[i].tag.isEOC()) {
            throw new Error("EOC is not supposed to be actual content.");
          }
        }
      } catch (e) {
        // but silently ignore when they don't
        sub = null;
      }
    }
    if (sub === null) {
      if (len === null) {
        throw new Error("We can't skip over an invalid tag with undefined length at offset " + start);
      }
      stream.pos = start + Math.abs(len);
    }
    return new ASN1(streamStart, header, len, tag, sub);
  };
  return ASN1;
}();
var ASN1Tag = exports.ASN1Tag = /** @class */function () {
  function ASN1Tag(stream) {
    var buf = stream.get();
    this.tagClass = buf >> 6;
    this.tagConstructed = (buf & 0x20) !== 0;
    this.tagNumber = buf & 0x1F;
    if (this.tagNumber == 0x1F) {
      // long tag
      var n = new _int.Int10();
      do {
        buf = stream.get();
        n.mulAdd(128, buf & 0x7F);
      } while (buf & 0x80);
      this.tagNumber = n.simplify();
    }
  }
  ASN1Tag.prototype.isUniversal = function () {
    return this.tagClass === 0x00;
  };
  ASN1Tag.prototype.isEOC = function () {
    return this.tagClass === 0x00 && this.tagNumber === 0x00;
  };
  return ASN1Tag;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/base64.js":
/*!************************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/base64.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Base64 = void 0;
// Base64 JavaScript decoder
// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
var decoder;
var Base64 = exports.Base64 = {
  decode: function (a) {
    var i;
    if (decoder === undefined) {
      var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
      var ignore = "= \f\n\r\t\u00A0\u2028\u2029";
      decoder = Object.create(null);
      for (i = 0; i < 64; ++i) {
        decoder[b64.charAt(i)] = i;
      }
      decoder['-'] = 62; //+
      decoder['_'] = 63; //-
      for (i = 0; i < ignore.length; ++i) {
        decoder[ignore.charAt(i)] = -1;
      }
    }
    var out = [];
    var bits = 0;
    var char_count = 0;
    for (i = 0; i < a.length; ++i) {
      var c = a.charAt(i);
      if (c == "=") {
        break;
      }
      c = decoder[c];
      if (c == -1) {
        continue;
      }
      if (c === undefined) {
        throw new Error("Illegal character at offset " + i);
      }
      bits |= c;
      if (++char_count >= 4) {
        out[out.length] = bits >> 16;
        out[out.length] = bits >> 8 & 0xFF;
        out[out.length] = bits & 0xFF;
        bits = 0;
        char_count = 0;
      } else {
        bits <<= 6;
      }
    }
    switch (char_count) {
      case 1:
        throw new Error("Base64 encoding incomplete: at least 2 bits missing");
      case 2:
        out[out.length] = bits >> 10;
        break;
      case 3:
        out[out.length] = bits >> 16;
        out[out.length] = bits >> 8 & 0xFF;
        break;
    }
    return out;
  },
  re: /-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,
  unarmor: function (a) {
    var m = Base64.re.exec(a);
    if (m) {
      if (m[1]) {
        a = m[1];
      } else if (m[2]) {
        a = m[2];
      } else {
        throw new Error("RegExp out of sync");
      }
    }
    return Base64.decode(a);
  }
};

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/hex.js":
/*!*********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/hex.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Hex = void 0;
// Hex JavaScript decoder
// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
var decoder;
var Hex = exports.Hex = {
  decode: function (a) {
    var i;
    if (decoder === undefined) {
      var hex = "0123456789ABCDEF";
      var ignore = " \f\n\r\t\u00A0\u2028\u2029";
      decoder = {};
      for (i = 0; i < 16; ++i) {
        decoder[hex.charAt(i)] = i;
      }
      hex = hex.toLowerCase();
      for (i = 10; i < 16; ++i) {
        decoder[hex.charAt(i)] = i;
      }
      for (i = 0; i < ignore.length; ++i) {
        decoder[ignore.charAt(i)] = -1;
      }
    }
    var out = [];
    var bits = 0;
    var char_count = 0;
    for (i = 0; i < a.length; ++i) {
      var c = a.charAt(i);
      if (c == "=") {
        break;
      }
      c = decoder[c];
      if (c == -1) {
        continue;
      }
      if (c === undefined) {
        throw new Error("Illegal character at offset " + i);
      }
      bits |= c;
      if (++char_count >= 2) {
        out[out.length] = bits;
        bits = 0;
        char_count = 0;
      } else {
        bits <<= 4;
      }
    }
    if (char_count) {
      throw new Error("Hex encoding incomplete: 4 bits missing");
    }
    return out;
  }
};

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/int10.js":
/*!***********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/int10.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Int10 = void 0;
// Big integer base-10 printing library
// Copyright (c) 2014 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
var max = 10000000000000; // biggest integer that can still fit 2^53 when multiplied by 256
var Int10 = exports.Int10 = /** @class */function () {
  function Int10(value) {
    this.buf = [+value || 0];
  }
  Int10.prototype.mulAdd = function (m, c) {
    // assert(m <= 256)
    var b = this.buf;
    var l = b.length;
    var i;
    var t;
    for (i = 0; i < l; ++i) {
      t = b[i] * m + c;
      if (t < max) {
        c = 0;
      } else {
        c = 0 | t / max;
        t -= c * max;
      }
      b[i] = t;
    }
    if (c > 0) {
      b[i] = c;
    }
  };
  Int10.prototype.sub = function (c) {
    // assert(m <= 256)
    var b = this.buf;
    var l = b.length;
    var i;
    var t;
    for (i = 0; i < l; ++i) {
      t = b[i] - c;
      if (t < 0) {
        t += max;
        c = 1;
      } else {
        c = 0;
      }
      b[i] = t;
    }
    while (b[b.length - 1] === 0) {
      b.pop();
    }
  };
  Int10.prototype.toString = function (base) {
    if ((base || 10) != 10) {
      throw new Error("only base 10 is supported");
    }
    var b = this.buf;
    var s = b[b.length - 1].toString();
    for (var i = b.length - 2; i >= 0; --i) {
      s += (max + b[i]).toString().substring(1);
    }
    return s;
  };
  Int10.prototype.valueOf = function () {
    var b = this.buf;
    var v = 0;
    for (var i = b.length - 1; i >= 0; --i) {
      v = v * max + b[i];
    }
    return v;
  };
  Int10.prototype.simplify = function () {
    var b = this.buf;
    return b.length == 1 ? b[0] : this;
  };
  return Int10;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js":
/*!**********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.b64toBA = b64toBA;
exports.b64tohex = b64tohex;
exports.hex2b64 = hex2b64;
var _util = __webpack_require__(/*! ./util */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js");
var b64map = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
var b64pad = "=";
function hex2b64(h) {
  var i;
  var c;
  var ret = "";
  for (i = 0; i + 3 <= h.length; i += 3) {
    c = parseInt(h.substring(i, i + 3), 16);
    ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);
  }
  if (i + 1 == h.length) {
    c = parseInt(h.substring(i, i + 1), 16);
    ret += b64map.charAt(c << 2);
  } else if (i + 2 == h.length) {
    c = parseInt(h.substring(i, i + 2), 16);
    ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);
  }
  while ((ret.length & 3) > 0) {
    ret += b64pad;
  }
  return ret;
}
// convert a base64 string to hex
function b64tohex(s) {
  var ret = "";
  var i;
  var k = 0; // b64 state, 0-3
  var slop = 0;
  for (i = 0; i < s.length; ++i) {
    if (s.charAt(i) == b64pad) {
      break;
    }
    var v = b64map.indexOf(s.charAt(i));
    if (v < 0) {
      continue;
    }
    if (k == 0) {
      ret += (0, _util.int2char)(v >> 2);
      slop = v & 3;
      k = 1;
    } else if (k == 1) {
      ret += (0, _util.int2char)(slop << 2 | v >> 4);
      slop = v & 0xf;
      k = 2;
    } else if (k == 2) {
      ret += (0, _util.int2char)(slop);
      ret += (0, _util.int2char)(v >> 2);
      slop = v & 3;
      k = 3;
    } else {
      ret += (0, _util.int2char)(slop << 2 | v >> 4);
      ret += (0, _util.int2char)(v & 0xf);
      k = 0;
    }
  }
  if (k == 1) {
    ret += (0, _util.int2char)(slop << 2);
  }
  return ret;
}
// convert a base64 string to a byte/number array
function b64toBA(s) {
  // piggyback on b64tohex for now, optimize later
  var h = b64tohex(s);
  var i;
  var a = [];
  for (i = 0; 2 * i < h.length; ++i) {
    a[i] = parseInt(h.substring(2 * i, 2 * i + 2), 16);
  }
  return a;
}

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js":
/*!********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.BigInteger = void 0;
exports.intAt = intAt;
exports.nbi = nbi;
exports.nbits = nbits;
exports.nbv = nbv;
exports.parseBigInt = parseBigInt;
var _util = __webpack_require__(/*! ./util */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js");
// Copyright (c) 2005  Tom Wu
// All Rights Reserved.
// See "LICENSE" for details.
// Basic JavaScript BN library - subset useful for RSA encryption.

// Bits per digit
var dbits;
// JavaScript engine analysis
var canary = 0xdeadbeefcafe;
var j_lm = (canary & 0xffffff) == 0xefcafe;
//#region
var lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];
var lplim = (1 << 26) / lowprimes[lowprimes.length - 1];
//#endregion
// (public) Constructor
var BigInteger = exports.BigInteger = /** @class */function () {
  function BigInteger(a, b, c) {
    if (a != null) {
      if ("number" == typeof a) {
        this.fromNumber(a, b, c);
      } else if (b == null && "string" != typeof a) {
        this.fromString(a, 256);
      } else {
        this.fromString(a, b);
      }
    }
  }
  //#region PUBLIC
  // BigInteger.prototype.toString = bnToString;
  // (public) return string representation in given radix
  BigInteger.prototype.toString = function (b) {
    if (this.s < 0) {
      return "-" + this.negate().toString(b);
    }
    var k;
    if (b == 16) {
      k = 4;
    } else if (b == 8) {
      k = 3;
    } else if (b == 2) {
      k = 1;
    } else if (b == 32) {
      k = 5;
    } else if (b == 4) {
      k = 2;
    } else {
      return this.toRadix(b);
    }
    var km = (1 << k) - 1;
    var d;
    var m = false;
    var r = "";
    var i = this.t;
    var p = this.DB - i * this.DB % k;
    if (i-- > 0) {
      if (p < this.DB && (d = this[i] >> p) > 0) {
        m = true;
        r = (0, _util.int2char)(d);
      }
      while (i >= 0) {
        if (p < k) {
          d = (this[i] & (1 << p) - 1) << k - p;
          d |= this[--i] >> (p += this.DB - k);
        } else {
          d = this[i] >> (p -= k) & km;
          if (p <= 0) {
            p += this.DB;
            --i;
          }
        }
        if (d > 0) {
          m = true;
        }
        if (m) {
          r += (0, _util.int2char)(d);
        }
      }
    }
    return m ? r : "0";
  };
  // BigInteger.prototype.negate = bnNegate;
  // (public) -this
  BigInteger.prototype.negate = function () {
    var r = nbi();
    BigInteger.ZERO.subTo(this, r);
    return r;
  };
  // BigInteger.prototype.abs = bnAbs;
  // (public) |this|
  BigInteger.prototype.abs = function () {
    return this.s < 0 ? this.negate() : this;
  };
  // BigInteger.prototype.compareTo = bnCompareTo;
  // (public) return + if this > a, - if this < a, 0 if equal
  BigInteger.prototype.compareTo = function (a) {
    var r = this.s - a.s;
    if (r != 0) {
      return r;
    }
    var i = this.t;
    r = i - a.t;
    if (r != 0) {
      return this.s < 0 ? -r : r;
    }
    while (--i >= 0) {
      if ((r = this[i] - a[i]) != 0) {
        return r;
      }
    }
    return 0;
  };
  // BigInteger.prototype.bitLength = bnBitLength;
  // (public) return the number of bits in "this"
  BigInteger.prototype.bitLength = function () {
    if (this.t <= 0) {
      return 0;
    }
    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);
  };
  // BigInteger.prototype.mod = bnMod;
  // (public) this mod a
  BigInteger.prototype.mod = function (a) {
    var r = nbi();
    this.abs().divRemTo(a, null, r);
    if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {
      a.subTo(r, r);
    }
    return r;
  };
  // BigInteger.prototype.modPowInt = bnModPowInt;
  // (public) this^e % m, 0 <= e < 2^32
  BigInteger.prototype.modPowInt = function (e, m) {
    var z;
    if (e < 256 || m.isEven()) {
      z = new Classic(m);
    } else {
      z = new Montgomery(m);
    }
    return this.exp(e, z);
  };
  // BigInteger.prototype.clone = bnClone;
  // (public)
  BigInteger.prototype.clone = function () {
    var r = nbi();
    this.copyTo(r);
    return r;
  };
  // BigInteger.prototype.intValue = bnIntValue;
  // (public) return value as integer
  BigInteger.prototype.intValue = function () {
    if (this.s < 0) {
      if (this.t == 1) {
        return this[0] - this.DV;
      } else if (this.t == 0) {
        return -1;
      }
    } else if (this.t == 1) {
      return this[0];
    } else if (this.t == 0) {
      return 0;
    }
    // assumes 16 < DB < 32
    return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
  };
  // BigInteger.prototype.byteValue = bnByteValue;
  // (public) return value as byte
  BigInteger.prototype.byteValue = function () {
    return this.t == 0 ? this.s : this[0] << 24 >> 24;
  };
  // BigInteger.prototype.shortValue = bnShortValue;
  // (public) return value as short (assumes DB>=16)
  BigInteger.prototype.shortValue = function () {
    return this.t == 0 ? this.s : this[0] << 16 >> 16;
  };
  // BigInteger.prototype.signum = bnSigNum;
  // (public) 0 if this == 0, 1 if this > 0
  BigInteger.prototype.signum = function () {
    if (this.s < 0) {
      return -1;
    } else if (this.t <= 0 || this.t == 1 && this[0] <= 0) {
      return 0;
    } else {
      return 1;
    }
  };
  // BigInteger.prototype.toByteArray = bnToByteArray;
  // (public) convert to bigendian byte array
  BigInteger.prototype.toByteArray = function () {
    var i = this.t;
    var r = [];
    r[0] = this.s;
    var p = this.DB - i * this.DB % 8;
    var d;
    var k = 0;
    if (i-- > 0) {
      if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p) {
        r[k++] = d | this.s << this.DB - p;
      }
      while (i >= 0) {
        if (p < 8) {
          d = (this[i] & (1 << p) - 1) << 8 - p;
          d |= this[--i] >> (p += this.DB - 8);
        } else {
          d = this[i] >> (p -= 8) & 0xff;
          if (p <= 0) {
            p += this.DB;
            --i;
          }
        }
        if ((d & 0x80) != 0) {
          d |= -256;
        }
        if (k == 0 && (this.s & 0x80) != (d & 0x80)) {
          ++k;
        }
        if (k > 0 || d != this.s) {
          r[k++] = d;
        }
      }
    }
    return r;
  };
  // BigInteger.prototype.equals = bnEquals;
  BigInteger.prototype.equals = function (a) {
    return this.compareTo(a) == 0;
  };
  // BigInteger.prototype.min = bnMin;
  BigInteger.prototype.min = function (a) {
    return this.compareTo(a) < 0 ? this : a;
  };
  // BigInteger.prototype.max = bnMax;
  BigInteger.prototype.max = function (a) {
    return this.compareTo(a) > 0 ? this : a;
  };
  // BigInteger.prototype.and = bnAnd;
  BigInteger.prototype.and = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_and, r);
    return r;
  };
  // BigInteger.prototype.or = bnOr;
  BigInteger.prototype.or = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_or, r);
    return r;
  };
  // BigInteger.prototype.xor = bnXor;
  BigInteger.prototype.xor = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_xor, r);
    return r;
  };
  // BigInteger.prototype.andNot = bnAndNot;
  BigInteger.prototype.andNot = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_andnot, r);
    return r;
  };
  // BigInteger.prototype.not = bnNot;
  // (public) ~this
  BigInteger.prototype.not = function () {
    var r = nbi();
    for (var i = 0; i < this.t; ++i) {
      r[i] = this.DM & ~this[i];
    }
    r.t = this.t;
    r.s = ~this.s;
    return r;
  };
  // BigInteger.prototype.shiftLeft = bnShiftLeft;
  // (public) this << n
  BigInteger.prototype.shiftLeft = function (n) {
    var r = nbi();
    if (n < 0) {
      this.rShiftTo(-n, r);
    } else {
      this.lShiftTo(n, r);
    }
    return r;
  };
  // BigInteger.prototype.shiftRight = bnShiftRight;
  // (public) this >> n
  BigInteger.prototype.shiftRight = function (n) {
    var r = nbi();
    if (n < 0) {
      this.lShiftTo(-n, r);
    } else {
      this.rShiftTo(n, r);
    }
    return r;
  };
  // BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;
  // (public) returns index of lowest 1-bit (or -1 if none)
  BigInteger.prototype.getLowestSetBit = function () {
    for (var i = 0; i < this.t; ++i) {
      if (this[i] != 0) {
        return i * this.DB + (0, _util.lbit)(this[i]);
      }
    }
    if (this.s < 0) {
      return this.t * this.DB;
    }
    return -1;
  };
  // BigInteger.prototype.bitCount = bnBitCount;
  // (public) return number of set bits
  BigInteger.prototype.bitCount = function () {
    var r = 0;
    var x = this.s & this.DM;
    for (var i = 0; i < this.t; ++i) {
      r += (0, _util.cbit)(this[i] ^ x);
    }
    return r;
  };
  // BigInteger.prototype.testBit = bnTestBit;
  // (public) true iff nth bit is set
  BigInteger.prototype.testBit = function (n) {
    var j = Math.floor(n / this.DB);
    if (j >= this.t) {
      return this.s != 0;
    }
    return (this[j] & 1 << n % this.DB) != 0;
  };
  // BigInteger.prototype.setBit = bnSetBit;
  // (public) this | (1<<n)
  BigInteger.prototype.setBit = function (n) {
    return this.changeBit(n, _util.op_or);
  };
  // BigInteger.prototype.clearBit = bnClearBit;
  // (public) this & ~(1<<n)
  BigInteger.prototype.clearBit = function (n) {
    return this.changeBit(n, _util.op_andnot);
  };
  // BigInteger.prototype.flipBit = bnFlipBit;
  // (public) this ^ (1<<n)
  BigInteger.prototype.flipBit = function (n) {
    return this.changeBit(n, _util.op_xor);
  };
  // BigInteger.prototype.add = bnAdd;
  // (public) this + a
  BigInteger.prototype.add = function (a) {
    var r = nbi();
    this.addTo(a, r);
    return r;
  };
  // BigInteger.prototype.subtract = bnSubtract;
  // (public) this - a
  BigInteger.prototype.subtract = function (a) {
    var r = nbi();
    this.subTo(a, r);
    return r;
  };
  // BigInteger.prototype.multiply = bnMultiply;
  // (public) this * a
  BigInteger.prototype.multiply = function (a) {
    var r = nbi();
    this.multiplyTo(a, r);
    return r;
  };
  // BigInteger.prototype.divide = bnDivide;
  // (public) this / a
  BigInteger.prototype.divide = function (a) {
    var r = nbi();
    this.divRemTo(a, r, null);
    return r;
  };
  // BigInteger.prototype.remainder = bnRemainder;
  // (public) this % a
  BigInteger.prototype.remainder = function (a) {
    var r = nbi();
    this.divRemTo(a, null, r);
    return r;
  };
  // BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;
  // (public) [this/a,this%a]
  BigInteger.prototype.divideAndRemainder = function (a) {
    var q = nbi();
    var r = nbi();
    this.divRemTo(a, q, r);
    return [q, r];
  };
  // BigInteger.prototype.modPow = bnModPow;
  // (public) this^e % m (HAC 14.85)
  BigInteger.prototype.modPow = function (e, m) {
    var i = e.bitLength();
    var k;
    var r = nbv(1);
    var z;
    if (i <= 0) {
      return r;
    } else if (i < 18) {
      k = 1;
    } else if (i < 48) {
      k = 3;
    } else if (i < 144) {
      k = 4;
    } else if (i < 768) {
      k = 5;
    } else {
      k = 6;
    }
    if (i < 8) {
      z = new Classic(m);
    } else if (m.isEven()) {
      z = new Barrett(m);
    } else {
      z = new Montgomery(m);
    }
    // precomputation
    var g = [];
    var n = 3;
    var k1 = k - 1;
    var km = (1 << k) - 1;
    g[1] = z.convert(this);
    if (k > 1) {
      var g2 = nbi();
      z.sqrTo(g[1], g2);
      while (n <= km) {
        g[n] = nbi();
        z.mulTo(g2, g[n - 2], g[n]);
        n += 2;
      }
    }
    var j = e.t - 1;
    var w;
    var is1 = true;
    var r2 = nbi();
    var t;
    i = nbits(e[j]) - 1;
    while (j >= 0) {
      if (i >= k1) {
        w = e[j] >> i - k1 & km;
      } else {
        w = (e[j] & (1 << i + 1) - 1) << k1 - i;
        if (j > 0) {
          w |= e[j - 1] >> this.DB + i - k1;
        }
      }
      n = k;
      while ((w & 1) == 0) {
        w >>= 1;
        --n;
      }
      if ((i -= n) < 0) {
        i += this.DB;
        --j;
      }
      if (is1) {
        // ret == 1, don't bother squaring or multiplying it
        g[w].copyTo(r);
        is1 = false;
      } else {
        while (n > 1) {
          z.sqrTo(r, r2);
          z.sqrTo(r2, r);
          n -= 2;
        }
        if (n > 0) {
          z.sqrTo(r, r2);
        } else {
          t = r;
          r = r2;
          r2 = t;
        }
        z.mulTo(r2, g[w], r);
      }
      while (j >= 0 && (e[j] & 1 << i) == 0) {
        z.sqrTo(r, r2);
        t = r;
        r = r2;
        r2 = t;
        if (--i < 0) {
          i = this.DB - 1;
          --j;
        }
      }
    }
    return z.revert(r);
  };
  // BigInteger.prototype.modInverse = bnModInverse;
  // (public) 1/this % m (HAC 14.61)
  BigInteger.prototype.modInverse = function (m) {
    var ac = m.isEven();
    if (this.isEven() && ac || m.signum() == 0) {
      return BigInteger.ZERO;
    }
    var u = m.clone();
    var v = this.clone();
    var a = nbv(1);
    var b = nbv(0);
    var c = nbv(0);
    var d = nbv(1);
    while (u.signum() != 0) {
      while (u.isEven()) {
        u.rShiftTo(1, u);
        if (ac) {
          if (!a.isEven() || !b.isEven()) {
            a.addTo(this, a);
            b.subTo(m, b);
          }
          a.rShiftTo(1, a);
        } else if (!b.isEven()) {
          b.subTo(m, b);
        }
        b.rShiftTo(1, b);
      }
      while (v.isEven()) {
        v.rShiftTo(1, v);
        if (ac) {
          if (!c.isEven() || !d.isEven()) {
            c.addTo(this, c);
            d.subTo(m, d);
          }
          c.rShiftTo(1, c);
        } else if (!d.isEven()) {
          d.subTo(m, d);
        }
        d.rShiftTo(1, d);
      }
      if (u.compareTo(v) >= 0) {
        u.subTo(v, u);
        if (ac) {
          a.subTo(c, a);
        }
        b.subTo(d, b);
      } else {
        v.subTo(u, v);
        if (ac) {
          c.subTo(a, c);
        }
        d.subTo(b, d);
      }
    }
    if (v.compareTo(BigInteger.ONE) != 0) {
      return BigInteger.ZERO;
    }
    if (d.compareTo(m) >= 0) {
      return d.subtract(m);
    }
    if (d.signum() < 0) {
      d.addTo(m, d);
    } else {
      return d;
    }
    if (d.signum() < 0) {
      return d.add(m);
    } else {
      return d;
    }
  };
  // BigInteger.prototype.pow = bnPow;
  // (public) this^e
  BigInteger.prototype.pow = function (e) {
    return this.exp(e, new NullExp());
  };
  // BigInteger.prototype.gcd = bnGCD;
  // (public) gcd(this,a) (HAC 14.54)
  BigInteger.prototype.gcd = function (a) {
    var x = this.s < 0 ? this.negate() : this.clone();
    var y = a.s < 0 ? a.negate() : a.clone();
    if (x.compareTo(y) < 0) {
      var t = x;
      x = y;
      y = t;
    }
    var i = x.getLowestSetBit();
    var g = y.getLowestSetBit();
    if (g < 0) {
      return x;
    }
    if (i < g) {
      g = i;
    }
    if (g > 0) {
      x.rShiftTo(g, x);
      y.rShiftTo(g, y);
    }
    while (x.signum() > 0) {
      if ((i = x.getLowestSetBit()) > 0) {
        x.rShiftTo(i, x);
      }
      if ((i = y.getLowestSetBit()) > 0) {
        y.rShiftTo(i, y);
      }
      if (x.compareTo(y) >= 0) {
        x.subTo(y, x);
        x.rShiftTo(1, x);
      } else {
        y.subTo(x, y);
        y.rShiftTo(1, y);
      }
    }
    if (g > 0) {
      y.lShiftTo(g, y);
    }
    return y;
  };
  // BigInteger.prototype.isProbablePrime = bnIsProbablePrime;
  // (public) test primality with certainty >= 1-.5^t
  BigInteger.prototype.isProbablePrime = function (t) {
    var i;
    var x = this.abs();
    if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {
      for (i = 0; i < lowprimes.length; ++i) {
        if (x[0] == lowprimes[i]) {
          return true;
        }
      }
      return false;
    }
    if (x.isEven()) {
      return false;
    }
    i = 1;
    while (i < lowprimes.length) {
      var m = lowprimes[i];
      var j = i + 1;
      while (j < lowprimes.length && m < lplim) {
        m *= lowprimes[j++];
      }
      m = x.modInt(m);
      while (i < j) {
        if (m % lowprimes[i++] == 0) {
          return false;
        }
      }
    }
    return x.millerRabin(t);
  };
  //#endregion PUBLIC
  //#region PROTECTED
  // BigInteger.prototype.copyTo = bnpCopyTo;
  // (protected) copy this to r
  BigInteger.prototype.copyTo = function (r) {
    for (var i = this.t - 1; i >= 0; --i) {
      r[i] = this[i];
    }
    r.t = this.t;
    r.s = this.s;
  };
  // BigInteger.prototype.fromInt = bnpFromInt;
  // (protected) set from integer value x, -DV <= x < DV
  BigInteger.prototype.fromInt = function (x) {
    this.t = 1;
    this.s = x < 0 ? -1 : 0;
    if (x > 0) {
      this[0] = x;
    } else if (x < -1) {
      this[0] = x + this.DV;
    } else {
      this.t = 0;
    }
  };
  // BigInteger.prototype.fromString = bnpFromString;
  // (protected) set from string and radix
  BigInteger.prototype.fromString = function (s, b) {
    var k;
    if (b == 16) {
      k = 4;
    } else if (b == 8) {
      k = 3;
    } else if (b == 256) {
      k = 8;
      /* byte array */
    } else if (b == 2) {
      k = 1;
    } else if (b == 32) {
      k = 5;
    } else if (b == 4) {
      k = 2;
    } else {
      this.fromRadix(s, b);
      return;
    }
    this.t = 0;
    this.s = 0;
    var i = s.length;
    var mi = false;
    var sh = 0;
    while (--i >= 0) {
      var x = k == 8 ? +s[i] & 0xff : intAt(s, i);
      if (x < 0) {
        if (s.charAt(i) == "-") {
          mi = true;
        }
        continue;
      }
      mi = false;
      if (sh == 0) {
        this[this.t++] = x;
      } else if (sh + k > this.DB) {
        this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;
        this[this.t++] = x >> this.DB - sh;
      } else {
        this[this.t - 1] |= x << sh;
      }
      sh += k;
      if (sh >= this.DB) {
        sh -= this.DB;
      }
    }
    if (k == 8 && (+s[0] & 0x80) != 0) {
      this.s = -1;
      if (sh > 0) {
        this[this.t - 1] |= (1 << this.DB - sh) - 1 << sh;
      }
    }
    this.clamp();
    if (mi) {
      BigInteger.ZERO.subTo(this, this);
    }
  };
  // BigInteger.prototype.clamp = bnpClamp;
  // (protected) clamp off excess high words
  BigInteger.prototype.clamp = function () {
    var c = this.s & this.DM;
    while (this.t > 0 && this[this.t - 1] == c) {
      --this.t;
    }
  };
  // BigInteger.prototype.dlShiftTo = bnpDLShiftTo;
  // (protected) r = this << n*DB
  BigInteger.prototype.dlShiftTo = function (n, r) {
    var i;
    for (i = this.t - 1; i >= 0; --i) {
      r[i + n] = this[i];
    }
    for (i = n - 1; i >= 0; --i) {
      r[i] = 0;
    }
    r.t = this.t + n;
    r.s = this.s;
  };
  // BigInteger.prototype.drShiftTo = bnpDRShiftTo;
  // (protected) r = this >> n*DB
  BigInteger.prototype.drShiftTo = function (n, r) {
    for (var i = n; i < this.t; ++i) {
      r[i - n] = this[i];
    }
    r.t = Math.max(this.t - n, 0);
    r.s = this.s;
  };
  // BigInteger.prototype.lShiftTo = bnpLShiftTo;
  // (protected) r = this << n
  BigInteger.prototype.lShiftTo = function (n, r) {
    var bs = n % this.DB;
    var cbs = this.DB - bs;
    var bm = (1 << cbs) - 1;
    var ds = Math.floor(n / this.DB);
    var c = this.s << bs & this.DM;
    for (var i = this.t - 1; i >= 0; --i) {
      r[i + ds + 1] = this[i] >> cbs | c;
      c = (this[i] & bm) << bs;
    }
    for (var i = ds - 1; i >= 0; --i) {
      r[i] = 0;
    }
    r[ds] = c;
    r.t = this.t + ds + 1;
    r.s = this.s;
    r.clamp();
  };
  // BigInteger.prototype.rShiftTo = bnpRShiftTo;
  // (protected) r = this >> n
  BigInteger.prototype.rShiftTo = function (n, r) {
    r.s = this.s;
    var ds = Math.floor(n / this.DB);
    if (ds >= this.t) {
      r.t = 0;
      return;
    }
    var bs = n % this.DB;
    var cbs = this.DB - bs;
    var bm = (1 << bs) - 1;
    r[0] = this[ds] >> bs;
    for (var i = ds + 1; i < this.t; ++i) {
      r[i - ds - 1] |= (this[i] & bm) << cbs;
      r[i - ds] = this[i] >> bs;
    }
    if (bs > 0) {
      r[this.t - ds - 1] |= (this.s & bm) << cbs;
    }
    r.t = this.t - ds;
    r.clamp();
  };
  // BigInteger.prototype.subTo = bnpSubTo;
  // (protected) r = this - a
  BigInteger.prototype.subTo = function (a, r) {
    var i = 0;
    var c = 0;
    var m = Math.min(a.t, this.t);
    while (i < m) {
      c += this[i] - a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    if (a.t < this.t) {
      c -= a.s;
      while (i < this.t) {
        c += this[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += this.s;
    } else {
      c += this.s;
      while (i < a.t) {
        c -= a[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c -= a.s;
    }
    r.s = c < 0 ? -1 : 0;
    if (c < -1) {
      r[i++] = this.DV + c;
    } else if (c > 0) {
      r[i++] = c;
    }
    r.t = i;
    r.clamp();
  };
  // BigInteger.prototype.multiplyTo = bnpMultiplyTo;
  // (protected) r = this * a, r != this,a (HAC 14.12)
  // "this" should be the larger one if appropriate.
  BigInteger.prototype.multiplyTo = function (a, r) {
    var x = this.abs();
    var y = a.abs();
    var i = x.t;
    r.t = i + y.t;
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = 0; i < y.t; ++i) {
      r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);
    }
    r.s = 0;
    r.clamp();
    if (this.s != a.s) {
      BigInteger.ZERO.subTo(r, r);
    }
  };
  // BigInteger.prototype.squareTo = bnpSquareTo;
  // (protected) r = this^2, r != this (HAC 14.16)
  BigInteger.prototype.squareTo = function (r) {
    var x = this.abs();
    var i = r.t = 2 * x.t;
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = 0; i < x.t - 1; ++i) {
      var c = x.am(i, x[i], r, 2 * i, 0, 1);
      if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {
        r[i + x.t] -= x.DV;
        r[i + x.t + 1] = 1;
      }
    }
    if (r.t > 0) {
      r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);
    }
    r.s = 0;
    r.clamp();
  };
  // BigInteger.prototype.divRemTo = bnpDivRemTo;
  // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)
  // r != q, this != m.  q or r may be null.
  BigInteger.prototype.divRemTo = function (m, q, r) {
    var pm = m.abs();
    if (pm.t <= 0) {
      return;
    }
    var pt = this.abs();
    if (pt.t < pm.t) {
      if (q != null) {
        q.fromInt(0);
      }
      if (r != null) {
        this.copyTo(r);
      }
      return;
    }
    if (r == null) {
      r = nbi();
    }
    var y = nbi();
    var ts = this.s;
    var ms = m.s;
    var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus
    if (nsh > 0) {
      pm.lShiftTo(nsh, y);
      pt.lShiftTo(nsh, r);
    } else {
      pm.copyTo(y);
      pt.copyTo(r);
    }
    var ys = y.t;
    var y0 = y[ys - 1];
    if (y0 == 0) {
      return;
    }
    var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);
    var d1 = this.FV / yt;
    var d2 = (1 << this.F1) / yt;
    var e = 1 << this.F2;
    var i = r.t;
    var j = i - ys;
    var t = q == null ? nbi() : q;
    y.dlShiftTo(j, t);
    if (r.compareTo(t) >= 0) {
      r[r.t++] = 1;
      r.subTo(t, r);
    }
    BigInteger.ONE.dlShiftTo(ys, t);
    t.subTo(y, y); // "negative" y so we can replace sub with am later
    while (y.t < ys) {
      y[y.t++] = 0;
    }
    while (--j >= 0) {
      // Estimate quotient digit
      var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);
      if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {
        // Try it out
        y.dlShiftTo(j, t);
        r.subTo(t, r);
        while (r[i] < --qd) {
          r.subTo(t, r);
        }
      }
    }
    if (q != null) {
      r.drShiftTo(ys, q);
      if (ts != ms) {
        BigInteger.ZERO.subTo(q, q);
      }
    }
    r.t = ys;
    r.clamp();
    if (nsh > 0) {
      r.rShiftTo(nsh, r);
    } // Denormalize remainder
    if (ts < 0) {
      BigInteger.ZERO.subTo(r, r);
    }
  };
  // BigInteger.prototype.invDigit = bnpInvDigit;
  // (protected) return "-1/this % 2^DB"; useful for Mont. reduction
  // justification:
  //         xy == 1 (mod m)
  //         xy =  1+km
  //   xy(2-xy) = (1+km)(1-km)
  // x[y(2-xy)] = 1-k^2m^2
  // x[y(2-xy)] == 1 (mod m^2)
  // if y is 1/x mod m, then y(2-xy) is 1/x mod m^2
  // should reduce x and y(2-xy) by m^2 at each step to keep size bounded.
  // JS multiply "overflows" differently from C/C++, so care is needed here.
  BigInteger.prototype.invDigit = function () {
    if (this.t < 1) {
      return 0;
    }
    var x = this[0];
    if ((x & 1) == 0) {
      return 0;
    }
    var y = x & 3; // y == 1/x mod 2^2
    y = y * (2 - (x & 0xf) * y) & 0xf; // y == 1/x mod 2^4
    y = y * (2 - (x & 0xff) * y) & 0xff; // y == 1/x mod 2^8
    y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff; // y == 1/x mod 2^16
    // last step - calculate inverse mod DV directly;
    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints
    y = y * (2 - x * y % this.DV) % this.DV; // y == 1/x mod 2^dbits
    // we really want the negative inverse, and -DV < y < DV
    return y > 0 ? this.DV - y : -y;
  };
  // BigInteger.prototype.isEven = bnpIsEven;
  // (protected) true iff this is even
  BigInteger.prototype.isEven = function () {
    return (this.t > 0 ? this[0] & 1 : this.s) == 0;
  };
  // BigInteger.prototype.exp = bnpExp;
  // (protected) this^e, e < 2^32, doing sqr and mul with "r" (HAC 14.79)
  BigInteger.prototype.exp = function (e, z) {
    if (e > 0xffffffff || e < 1) {
      return BigInteger.ONE;
    }
    var r = nbi();
    var r2 = nbi();
    var g = z.convert(this);
    var i = nbits(e) - 1;
    g.copyTo(r);
    while (--i >= 0) {
      z.sqrTo(r, r2);
      if ((e & 1 << i) > 0) {
        z.mulTo(r2, g, r);
      } else {
        var t = r;
        r = r2;
        r2 = t;
      }
    }
    return z.revert(r);
  };
  // BigInteger.prototype.chunkSize = bnpChunkSize;
  // (protected) return x s.t. r^x < DV
  BigInteger.prototype.chunkSize = function (r) {
    return Math.floor(Math.LN2 * this.DB / Math.log(r));
  };
  // BigInteger.prototype.toRadix = bnpToRadix;
  // (protected) convert to radix string
  BigInteger.prototype.toRadix = function (b) {
    if (b == null) {
      b = 10;
    }
    if (this.signum() == 0 || b < 2 || b > 36) {
      return "0";
    }
    var cs = this.chunkSize(b);
    var a = Math.pow(b, cs);
    var d = nbv(a);
    var y = nbi();
    var z = nbi();
    var r = "";
    this.divRemTo(d, y, z);
    while (y.signum() > 0) {
      r = (a + z.intValue()).toString(b).substr(1) + r;
      y.divRemTo(d, y, z);
    }
    return z.intValue().toString(b) + r;
  };
  // BigInteger.prototype.fromRadix = bnpFromRadix;
  // (protected) convert from radix string
  BigInteger.prototype.fromRadix = function (s, b) {
    this.fromInt(0);
    if (b == null) {
      b = 10;
    }
    var cs = this.chunkSize(b);
    var d = Math.pow(b, cs);
    var mi = false;
    var j = 0;
    var w = 0;
    for (var i = 0; i < s.length; ++i) {
      var x = intAt(s, i);
      if (x < 0) {
        if (s.charAt(i) == "-" && this.signum() == 0) {
          mi = true;
        }
        continue;
      }
      w = b * w + x;
      if (++j >= cs) {
        this.dMultiply(d);
        this.dAddOffset(w, 0);
        j = 0;
        w = 0;
      }
    }
    if (j > 0) {
      this.dMultiply(Math.pow(b, j));
      this.dAddOffset(w, 0);
    }
    if (mi) {
      BigInteger.ZERO.subTo(this, this);
    }
  };
  // BigInteger.prototype.fromNumber = bnpFromNumber;
  // (protected) alternate constructor
  BigInteger.prototype.fromNumber = function (a, b, c) {
    if ("number" == typeof b) {
      // new BigInteger(int,int,RNG)
      if (a < 2) {
        this.fromInt(1);
      } else {
        this.fromNumber(a, c);
        if (!this.testBit(a - 1)) {
          // force MSB set
          this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), _util.op_or, this);
        }
        if (this.isEven()) {
          this.dAddOffset(1, 0);
        } // force odd
        while (!this.isProbablePrime(b)) {
          this.dAddOffset(2, 0);
          if (this.bitLength() > a) {
            this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);
          }
        }
      }
    } else {
      // new BigInteger(int,RNG)
      var x = [];
      var t = a & 7;
      x.length = (a >> 3) + 1;
      b.nextBytes(x);
      if (t > 0) {
        x[0] &= (1 << t) - 1;
      } else {
        x[0] = 0;
      }
      this.fromString(x, 256);
    }
  };
  // BigInteger.prototype.bitwiseTo = bnpBitwiseTo;
  // (protected) r = this op a (bitwise)
  BigInteger.prototype.bitwiseTo = function (a, op, r) {
    var i;
    var f;
    var m = Math.min(a.t, this.t);
    for (i = 0; i < m; ++i) {
      r[i] = op(this[i], a[i]);
    }
    if (a.t < this.t) {
      f = a.s & this.DM;
      for (i = m; i < this.t; ++i) {
        r[i] = op(this[i], f);
      }
      r.t = this.t;
    } else {
      f = this.s & this.DM;
      for (i = m; i < a.t; ++i) {
        r[i] = op(f, a[i]);
      }
      r.t = a.t;
    }
    r.s = op(this.s, a.s);
    r.clamp();
  };
  // BigInteger.prototype.changeBit = bnpChangeBit;
  // (protected) this op (1<<n)
  BigInteger.prototype.changeBit = function (n, op) {
    var r = BigInteger.ONE.shiftLeft(n);
    this.bitwiseTo(r, op, r);
    return r;
  };
  // BigInteger.prototype.addTo = bnpAddTo;
  // (protected) r = this + a
  BigInteger.prototype.addTo = function (a, r) {
    var i = 0;
    var c = 0;
    var m = Math.min(a.t, this.t);
    while (i < m) {
      c += this[i] + a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    if (a.t < this.t) {
      c += a.s;
      while (i < this.t) {
        c += this[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += this.s;
    } else {
      c += this.s;
      while (i < a.t) {
        c += a[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += a.s;
    }
    r.s = c < 0 ? -1 : 0;
    if (c > 0) {
      r[i++] = c;
    } else if (c < -1) {
      r[i++] = this.DV + c;
    }
    r.t = i;
    r.clamp();
  };
  // BigInteger.prototype.dMultiply = bnpDMultiply;
  // (protected) this *= n, this >= 0, 1 < n < DV
  BigInteger.prototype.dMultiply = function (n) {
    this[this.t] = this.am(0, n - 1, this, 0, 0, this.t);
    ++this.t;
    this.clamp();
  };
  // BigInteger.prototype.dAddOffset = bnpDAddOffset;
  // (protected) this += n << w words, this >= 0
  BigInteger.prototype.dAddOffset = function (n, w) {
    if (n == 0) {
      return;
    }
    while (this.t <= w) {
      this[this.t++] = 0;
    }
    this[w] += n;
    while (this[w] >= this.DV) {
      this[w] -= this.DV;
      if (++w >= this.t) {
        this[this.t++] = 0;
      }
      ++this[w];
    }
  };
  // BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;
  // (protected) r = lower n words of "this * a", a.t <= n
  // "this" should be the larger one if appropriate.
  BigInteger.prototype.multiplyLowerTo = function (a, n, r) {
    var i = Math.min(this.t + a.t, n);
    r.s = 0; // assumes a,this >= 0
    r.t = i;
    while (i > 0) {
      r[--i] = 0;
    }
    for (var j = r.t - this.t; i < j; ++i) {
      r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);
    }
    for (var j = Math.min(a.t, n); i < j; ++i) {
      this.am(0, a[i], r, i, 0, n - i);
    }
    r.clamp();
  };
  // BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;
  // (protected) r = "this * a" without lower n words, n > 0
  // "this" should be the larger one if appropriate.
  BigInteger.prototype.multiplyUpperTo = function (a, n, r) {
    --n;
    var i = r.t = this.t + a.t - n;
    r.s = 0; // assumes a,this >= 0
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = Math.max(n - this.t, 0); i < a.t; ++i) {
      r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n);
    }
    r.clamp();
    r.drShiftTo(1, r);
  };
  // BigInteger.prototype.modInt = bnpModInt;
  // (protected) this % n, n < 2^26
  BigInteger.prototype.modInt = function (n) {
    if (n <= 0) {
      return 0;
    }
    var d = this.DV % n;
    var r = this.s < 0 ? n - 1 : 0;
    if (this.t > 0) {
      if (d == 0) {
        r = this[0] % n;
      } else {
        for (var i = this.t - 1; i >= 0; --i) {
          r = (d * r + this[i]) % n;
        }
      }
    }
    return r;
  };
  // BigInteger.prototype.millerRabin = bnpMillerRabin;
  // (protected) true if probably prime (HAC 4.24, Miller-Rabin)
  BigInteger.prototype.millerRabin = function (t) {
    var n1 = this.subtract(BigInteger.ONE);
    var k = n1.getLowestSetBit();
    if (k <= 0) {
      return false;
    }
    var r = n1.shiftRight(k);
    t = t + 1 >> 1;
    if (t > lowprimes.length) {
      t = lowprimes.length;
    }
    var a = nbi();
    for (var i = 0; i < t; ++i) {
      // Pick bases at random, instead of starting at 2
      a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);
      var y = a.modPow(r, this);
      if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {
        var j = 1;
        while (j++ < k && y.compareTo(n1) != 0) {
          y = y.modPowInt(2, this);
          if (y.compareTo(BigInteger.ONE) == 0) {
            return false;
          }
        }
        if (y.compareTo(n1) != 0) {
          return false;
        }
      }
    }
    return true;
  };
  // BigInteger.prototype.square = bnSquare;
  // (public) this^2
  BigInteger.prototype.square = function () {
    var r = nbi();
    this.squareTo(r);
    return r;
  };
  //#region ASYNC
  // Public API method
  BigInteger.prototype.gcda = function (a, callback) {
    var x = this.s < 0 ? this.negate() : this.clone();
    var y = a.s < 0 ? a.negate() : a.clone();
    if (x.compareTo(y) < 0) {
      var t = x;
      x = y;
      y = t;
    }
    var i = x.getLowestSetBit();
    var g = y.getLowestSetBit();
    if (g < 0) {
      callback(x);
      return;
    }
    if (i < g) {
      g = i;
    }
    if (g > 0) {
      x.rShiftTo(g, x);
      y.rShiftTo(g, y);
    }
    // Workhorse of the algorithm, gets called 200 - 800 times per 512 bit keygen.
    var gcda1 = function () {
      if ((i = x.getLowestSetBit()) > 0) {
        x.rShiftTo(i, x);
      }
      if ((i = y.getLowestSetBit()) > 0) {
        y.rShiftTo(i, y);
      }
      if (x.compareTo(y) >= 0) {
        x.subTo(y, x);
        x.rShiftTo(1, x);
      } else {
        y.subTo(x, y);
        y.rShiftTo(1, y);
      }
      if (!(x.signum() > 0)) {
        if (g > 0) {
          y.lShiftTo(g, y);
        }
        setTimeout(function () {
          callback(y);
        }, 0); // escape
      } else {
        setTimeout(gcda1, 0);
      }
    };
    setTimeout(gcda1, 10);
  };
  // (protected) alternate constructor
  BigInteger.prototype.fromNumberAsync = function (a, b, c, callback) {
    if ("number" == typeof b) {
      if (a < 2) {
        this.fromInt(1);
      } else {
        this.fromNumber(a, c);
        if (!this.testBit(a - 1)) {
          this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), _util.op_or, this);
        }
        if (this.isEven()) {
          this.dAddOffset(1, 0);
        }
        var bnp_1 = this;
        var bnpfn1_1 = function () {
          bnp_1.dAddOffset(2, 0);
          if (bnp_1.bitLength() > a) {
            bnp_1.subTo(BigInteger.ONE.shiftLeft(a - 1), bnp_1);
          }
          if (bnp_1.isProbablePrime(b)) {
            setTimeout(function () {
              callback();
            }, 0); // escape
          } else {
            setTimeout(bnpfn1_1, 0);
          }
        };
        setTimeout(bnpfn1_1, 0);
      }
    } else {
      var x = [];
      var t = a & 7;
      x.length = (a >> 3) + 1;
      b.nextBytes(x);
      if (t > 0) {
        x[0] &= (1 << t) - 1;
      } else {
        x[0] = 0;
      }
      this.fromString(x, 256);
    }
  };
  return BigInteger;
}();
//#region REDUCERS
//#region NullExp
var NullExp = /** @class */function () {
  function NullExp() {}
  // NullExp.prototype.convert = nNop;
  NullExp.prototype.convert = function (x) {
    return x;
  };
  // NullExp.prototype.revert = nNop;
  NullExp.prototype.revert = function (x) {
    return x;
  };
  // NullExp.prototype.mulTo = nMulTo;
  NullExp.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
  };
  // NullExp.prototype.sqrTo = nSqrTo;
  NullExp.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
  };
  return NullExp;
}();
// Modular reduction using "classic" algorithm
var Classic = /** @class */function () {
  function Classic(m) {
    this.m = m;
  }
  // Classic.prototype.convert = cConvert;
  Classic.prototype.convert = function (x) {
    if (x.s < 0 || x.compareTo(this.m) >= 0) {
      return x.mod(this.m);
    } else {
      return x;
    }
  };
  // Classic.prototype.revert = cRevert;
  Classic.prototype.revert = function (x) {
    return x;
  };
  // Classic.prototype.reduce = cReduce;
  Classic.prototype.reduce = function (x) {
    x.divRemTo(this.m, null, x);
  };
  // Classic.prototype.mulTo = cMulTo;
  Classic.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  // Classic.prototype.sqrTo = cSqrTo;
  Classic.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Classic;
}();
//#endregion
//#region Montgomery
// Montgomery reduction
var Montgomery = /** @class */function () {
  function Montgomery(m) {
    this.m = m;
    this.mp = m.invDigit();
    this.mpl = this.mp & 0x7fff;
    this.mph = this.mp >> 15;
    this.um = (1 << m.DB - 15) - 1;
    this.mt2 = 2 * m.t;
  }
  // Montgomery.prototype.convert = montConvert;
  // xR mod m
  Montgomery.prototype.convert = function (x) {
    var r = nbi();
    x.abs().dlShiftTo(this.m.t, r);
    r.divRemTo(this.m, null, r);
    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {
      this.m.subTo(r, r);
    }
    return r;
  };
  // Montgomery.prototype.revert = montRevert;
  // x/R mod m
  Montgomery.prototype.revert = function (x) {
    var r = nbi();
    x.copyTo(r);
    this.reduce(r);
    return r;
  };
  // Montgomery.prototype.reduce = montReduce;
  // x = x/R mod m (HAC 14.32)
  Montgomery.prototype.reduce = function (x) {
    while (x.t <= this.mt2) {
      // pad x so am has enough room later
      x[x.t++] = 0;
    }
    for (var i = 0; i < this.m.t; ++i) {
      // faster way of calculating u0 = x[i]*mp mod DV
      var j = x[i] & 0x7fff;
      var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;
      // use am to combine the multiply-shift-add into one call
      j = i + this.m.t;
      x[j] += this.m.am(0, u0, x, i, 0, this.m.t);
      // propagate carry
      while (x[j] >= x.DV) {
        x[j] -= x.DV;
        x[++j]++;
      }
    }
    x.clamp();
    x.drShiftTo(this.m.t, x);
    if (x.compareTo(this.m) >= 0) {
      x.subTo(this.m, x);
    }
  };
  // Montgomery.prototype.mulTo = montMulTo;
  // r = "xy/R mod m"; x,y != r
  Montgomery.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  // Montgomery.prototype.sqrTo = montSqrTo;
  // r = "x^2/R mod m"; x != r
  Montgomery.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Montgomery;
}();
//#endregion Montgomery
//#region Barrett
// Barrett modular reduction
var Barrett = /** @class */function () {
  function Barrett(m) {
    this.m = m;
    // setup Barrett
    this.r2 = nbi();
    this.q3 = nbi();
    BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);
    this.mu = this.r2.divide(m);
  }
  // Barrett.prototype.convert = barrettConvert;
  Barrett.prototype.convert = function (x) {
    if (x.s < 0 || x.t > 2 * this.m.t) {
      return x.mod(this.m);
    } else if (x.compareTo(this.m) < 0) {
      return x;
    } else {
      var r = nbi();
      x.copyTo(r);
      this.reduce(r);
      return r;
    }
  };
  // Barrett.prototype.revert = barrettRevert;
  Barrett.prototype.revert = function (x) {
    return x;
  };
  // Barrett.prototype.reduce = barrettReduce;
  // x = x mod m (HAC 14.42)
  Barrett.prototype.reduce = function (x) {
    x.drShiftTo(this.m.t - 1, this.r2);
    if (x.t > this.m.t + 1) {
      x.t = this.m.t + 1;
      x.clamp();
    }
    this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);
    this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);
    while (x.compareTo(this.r2) < 0) {
      x.dAddOffset(1, this.m.t + 1);
    }
    x.subTo(this.r2, x);
    while (x.compareTo(this.m) >= 0) {
      x.subTo(this.m, x);
    }
  };
  // Barrett.prototype.mulTo = barrettMulTo;
  // r = x*y mod m; x,y != r
  Barrett.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  // Barrett.prototype.sqrTo = barrettSqrTo;
  // r = x^2 mod m; x != r
  Barrett.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Barrett;
}();
//#endregion
//#endregion REDUCERS
// return new, unset BigInteger
function nbi() {
  return new BigInteger(null);
}
function parseBigInt(str, r) {
  return new BigInteger(str, r);
}
// am: Compute w_j += (x*this_i), propagate carries,
// c is initial carry, returns final carry.
// c < 3*dvalue, x < 2*dvalue, this_i < dvalue
// We need to select the fastest one that works in this environment.
var inBrowser = typeof navigator !== "undefined";
if (inBrowser && j_lm && navigator.appName == "Microsoft Internet Explorer") {
  // am2 avoids a big mult-and-extract completely.
  // Max digit bits should be <= 30 because we do bitwise ops
  // on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)
  BigInteger.prototype.am = function am2(i, x, w, j, c, n) {
    var xl = x & 0x7fff;
    var xh = x >> 15;
    while (--n >= 0) {
      var l = this[i] & 0x7fff;
      var h = this[i++] >> 15;
      var m = xh * l + h * xl;
      l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);
      c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);
      w[j++] = l & 0x3fffffff;
    }
    return c;
  };
  dbits = 30;
} else if (inBrowser && j_lm && navigator.appName != "Netscape") {
  // am1: use a single mult and divide to get the high bits,
  // max digit bits should be 26 because
  // max internal value = 2*dvalue^2-2*dvalue (< 2^53)
  BigInteger.prototype.am = function am1(i, x, w, j, c, n) {
    while (--n >= 0) {
      var v = x * this[i++] + w[j] + c;
      c = Math.floor(v / 0x4000000);
      w[j++] = v & 0x3ffffff;
    }
    return c;
  };
  dbits = 26;
} else {
  // Mozilla/Netscape seems to prefer am3
  // Alternately, set max digit bits to 28 since some
  // browsers slow down when dealing with 32-bit numbers.
  BigInteger.prototype.am = function am3(i, x, w, j, c, n) {
    var xl = x & 0x3fff;
    var xh = x >> 14;
    while (--n >= 0) {
      var l = this[i] & 0x3fff;
      var h = this[i++] >> 14;
      var m = xh * l + h * xl;
      l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;
      c = (l >> 28) + (m >> 14) + xh * h;
      w[j++] = l & 0xfffffff;
    }
    return c;
  };
  dbits = 28;
}
BigInteger.prototype.DB = dbits;
BigInteger.prototype.DM = (1 << dbits) - 1;
BigInteger.prototype.DV = 1 << dbits;
var BI_FP = 52;
BigInteger.prototype.FV = Math.pow(2, BI_FP);
BigInteger.prototype.F1 = BI_FP - dbits;
BigInteger.prototype.F2 = 2 * dbits - BI_FP;
// Digit conversions
var BI_RC = [];
var rr;
var vv;
rr = "0".charCodeAt(0);
for (vv = 0; vv <= 9; ++vv) {
  BI_RC[rr++] = vv;
}
rr = "a".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) {
  BI_RC[rr++] = vv;
}
rr = "A".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) {
  BI_RC[rr++] = vv;
}
function intAt(s, i) {
  var c = BI_RC[s.charCodeAt(i)];
  return c == null ? -1 : c;
}
// return bigint initialized to value
function nbv(i) {
  var r = nbi();
  r.fromInt(i);
  return r;
}
// returns bit length of the integer x
function nbits(x) {
  var r = 1;
  var t;
  if ((t = x >>> 16) != 0) {
    x = t;
    r += 16;
  }
  if ((t = x >> 8) != 0) {
    x = t;
    r += 8;
  }
  if ((t = x >> 4) != 0) {
    x = t;
    r += 4;
  }
  if ((t = x >> 2) != 0) {
    x = t;
    r += 2;
  }
  if ((t = x >> 1) != 0) {
    x = t;
    r += 1;
  }
  return r;
}
// "constants"
BigInteger.ZERO = nbv(0);
BigInteger.ONE = nbv(1);

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/prng4.js":
/*!*********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/prng4.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Arcfour = void 0;
exports.prng_newstate = prng_newstate;
exports.rng_psize = void 0;
// prng4.js - uses Arcfour as a PRNG
var Arcfour = exports.Arcfour = /** @class */function () {
  function Arcfour() {
    this.i = 0;
    this.j = 0;
    this.S = [];
  }
  // Arcfour.prototype.init = ARC4init;
  // Initialize arcfour context from key, an array of ints, each from [0..255]
  Arcfour.prototype.init = function (key) {
    var i;
    var j;
    var t;
    for (i = 0; i < 256; ++i) {
      this.S[i] = i;
    }
    j = 0;
    for (i = 0; i < 256; ++i) {
      j = j + this.S[i] + key[i % key.length] & 255;
      t = this.S[i];
      this.S[i] = this.S[j];
      this.S[j] = t;
    }
    this.i = 0;
    this.j = 0;
  };
  // Arcfour.prototype.next = ARC4next;
  Arcfour.prototype.next = function () {
    var t;
    this.i = this.i + 1 & 255;
    this.j = this.j + this.S[this.i] & 255;
    t = this.S[this.i];
    this.S[this.i] = this.S[this.j];
    this.S[this.j] = t;
    return this.S[t + this.S[this.i] & 255];
  };
  return Arcfour;
}();
// Plug in your RNG constructor here
function prng_newstate() {
  return new Arcfour();
}
// Pool size must be a multiple of 4 and greater than 32.
// An array of bytes the size of the pool will be passed to init()
var rng_psize = exports.rng_psize = 256;

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rng.js":
/*!*******************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/rng.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.SecureRandom = void 0;
var _prng = __webpack_require__(/*! ./prng4 */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/prng4.js");
// Random number generator - requires a PRNG backend, e.g. prng4.js

var rng_state;
var rng_pool = null;
var rng_pptr;
// Initialize the pool with junk if needed.
if (rng_pool == null) {
  rng_pool = [];
  rng_pptr = 0;
  var t = void 0;
  if (typeof window !== 'undefined' && window.crypto && window.crypto.getRandomValues) {
    // Extract entropy (2048 bits) from RNG if available
    var z = new Uint32Array(256);
    window.crypto.getRandomValues(z);
    for (t = 0; t < z.length; ++t) {
      rng_pool[rng_pptr++] = z[t] & 255;
    }
  }
  // Use mouse events for entropy, if we do not have enough entropy by the time
  // we need it, entropy will be generated by Math.random.
  var count = 0;
  var onMouseMoveListener_1 = function (ev) {
    count = count || 0;
    if (count >= 256 || rng_pptr >= _prng.rng_psize) {
      if (window.removeEventListener) {
        window.removeEventListener("mousemove", onMouseMoveListener_1, false);
      } else if (window.detachEvent) {
        window.detachEvent("onmousemove", onMouseMoveListener_1);
      }
      return;
    }
    try {
      var mouseCoordinates = ev.x + ev.y;
      rng_pool[rng_pptr++] = mouseCoordinates & 255;
      count += 1;
    } catch (e) {
      // Sometimes Firefox will deny permission to access event properties for some reason. Ignore.
    }
  };
  if (typeof window !== 'undefined') {
    if (window.addEventListener) {
      window.addEventListener("mousemove", onMouseMoveListener_1, false);
    } else if (window.attachEvent) {
      window.attachEvent("onmousemove", onMouseMoveListener_1);
    }
  }
}
function rng_get_byte() {
  if (rng_state == null) {
    rng_state = (0, _prng.prng_newstate)();
    // At this point, we may not have collected enough entropy.  If not, fall back to Math.random
    while (rng_pptr < _prng.rng_psize) {
      var random = Math.floor(65536 * Math.random());
      rng_pool[rng_pptr++] = random & 255;
    }
    rng_state.init(rng_pool);
    for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) {
      rng_pool[rng_pptr] = 0;
    }
    rng_pptr = 0;
  }
  // TODO: allow reseeding after first request
  return rng_state.next();
}
var SecureRandom = exports.SecureRandom = /** @class */function () {
  function SecureRandom() {}
  SecureRandom.prototype.nextBytes = function (ba) {
    for (var i = 0; i < ba.length; ++i) {
      ba[i] = rng_get_byte();
    }
  };
  return SecureRandom;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rsa.js":
/*!*******************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/rsa.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.RSAKey = void 0;
var _jsbn = __webpack_require__(/*! ./jsbn */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js");
var _rng = __webpack_require__(/*! ./rng */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rng.js");
// Depends on jsbn.js and rng.js
// Version 1.1: support utf-8 encoding in pkcs1pad2
// convert a (hex) string to a bignum object

// function linebrk(s,n) {
//   var ret = "";
//   var i = 0;
//   while(i + n < s.length) {
//     ret += s.substring(i,i+n) + "\n";
//     i += n;
//   }
//   return ret + s.substring(i,s.length);
// }
// function byte2Hex(b) {
//   if(b < 0x10)
//     return "0" + b.toString(16);
//   else
//     return b.toString(16);
// }
function pkcs1pad1(s, n) {
  if (n < s.length + 22) {
    console.error("Message too long for RSA");
    return null;
  }
  var len = n - s.length - 6;
  var filler = "";
  for (var f = 0; f < len; f += 2) {
    filler += "ff";
  }
  var m = "0001" + filler + "00" + s;
  return (0, _jsbn.parseBigInt)(m, 16);
}
// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint
function pkcs1pad2(s, n) {
  if (n < s.length + 11) {
    // TODO: fix for utf-8
    console.error("Message too long for RSA");
    return null;
  }
  var ba = [];
  var i = s.length - 1;
  while (i >= 0 && n > 0) {
    var c = s.charCodeAt(i--);
    if (c < 128) {
      // encode using utf-8
      ba[--n] = c;
    } else if (c > 127 && c < 2048) {
      ba[--n] = c & 63 | 128;
      ba[--n] = c >> 6 | 192;
    } else {
      ba[--n] = c & 63 | 128;
      ba[--n] = c >> 6 & 63 | 128;
      ba[--n] = c >> 12 | 224;
    }
  }
  ba[--n] = 0;
  var rng = new _rng.SecureRandom();
  var x = [];
  while (n > 2) {
    // random non-zero pad
    x[0] = 0;
    while (x[0] == 0) {
      rng.nextBytes(x);
    }
    ba[--n] = x[0];
  }
  ba[--n] = 2;
  ba[--n] = 0;
  return new _jsbn.BigInteger(ba);
}
// "empty" RSA key constructor
var RSAKey = exports.RSAKey = /** @class */function () {
  function RSAKey() {
    this.n = null;
    this.e = 0;
    this.d = null;
    this.p = null;
    this.q = null;
    this.dmp1 = null;
    this.dmq1 = null;
    this.coeff = null;
  }
  //#region PROTECTED
  // protected
  // RSAKey.prototype.doPublic = RSADoPublic;
  // Perform raw public operation on "x": return x^e (mod n)
  RSAKey.prototype.doPublic = function (x) {
    return x.modPowInt(this.e, this.n);
  };
  // RSAKey.prototype.doPrivate = RSADoPrivate;
  // Perform raw private operation on "x": return x^d (mod n)
  RSAKey.prototype.doPrivate = function (x) {
    if (this.p == null || this.q == null) {
      return x.modPow(this.d, this.n);
    }
    // TODO: re-calculate any missing CRT params
    var xp = x.mod(this.p).modPow(this.dmp1, this.p);
    var xq = x.mod(this.q).modPow(this.dmq1, this.q);
    while (xp.compareTo(xq) < 0) {
      xp = xp.add(this.p);
    }
    return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);
  };
  //#endregion PROTECTED
  //#region PUBLIC
  // RSAKey.prototype.setPublic = RSASetPublic;
  // Set the public key fields N and e from hex strings
  RSAKey.prototype.setPublic = function (N, E) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = (0, _jsbn.parseBigInt)(N, 16);
      this.e = parseInt(E, 16);
    } else {
      console.error("Invalid RSA public key");
    }
  };
  // RSAKey.prototype.encrypt = RSAEncrypt;
  // Return the PKCS#1 RSA encryption of "text" as an even-length hex string
  RSAKey.prototype.encrypt = function (text) {
    var maxLength = this.n.bitLength() + 7 >> 3;
    var m = pkcs1pad2(text, maxLength);
    if (m == null) {
      return null;
    }
    var c = this.doPublic(m);
    if (c == null) {
      return null;
    }
    var h = c.toString(16);
    var length = h.length;
    // fix zero before result
    for (var i = 0; i < maxLength * 2 - length; i++) {
      h = "0" + h;
    }
    return h;
  };
  // RSAKey.prototype.setPrivate = RSASetPrivate;
  // Set the private key fields N, e, and d from hex strings
  RSAKey.prototype.setPrivate = function (N, E, D) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = (0, _jsbn.parseBigInt)(N, 16);
      this.e = parseInt(E, 16);
      this.d = (0, _jsbn.parseBigInt)(D, 16);
    } else {
      console.error("Invalid RSA private key");
    }
  };
  // RSAKey.prototype.setPrivateEx = RSASetPrivateEx;
  // Set the private key fields N, e, d and CRT params from hex strings
  RSAKey.prototype.setPrivateEx = function (N, E, D, P, Q, DP, DQ, C) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = (0, _jsbn.parseBigInt)(N, 16);
      this.e = parseInt(E, 16);
      this.d = (0, _jsbn.parseBigInt)(D, 16);
      this.p = (0, _jsbn.parseBigInt)(P, 16);
      this.q = (0, _jsbn.parseBigInt)(Q, 16);
      this.dmp1 = (0, _jsbn.parseBigInt)(DP, 16);
      this.dmq1 = (0, _jsbn.parseBigInt)(DQ, 16);
      this.coeff = (0, _jsbn.parseBigInt)(C, 16);
    } else {
      console.error("Invalid RSA private key");
    }
  };
  // RSAKey.prototype.generate = RSAGenerate;
  // Generate a new random private key B bits long, using public expt E
  RSAKey.prototype.generate = function (B, E) {
    var rng = new _rng.SecureRandom();
    var qs = B >> 1;
    this.e = parseInt(E, 16);
    var ee = new _jsbn.BigInteger(E, 16);
    for (;;) {
      for (;;) {
        this.p = new _jsbn.BigInteger(B - qs, 1, rng);
        if (this.p.subtract(_jsbn.BigInteger.ONE).gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) {
          break;
        }
      }
      for (;;) {
        this.q = new _jsbn.BigInteger(qs, 1, rng);
        if (this.q.subtract(_jsbn.BigInteger.ONE).gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) {
          break;
        }
      }
      if (this.p.compareTo(this.q) <= 0) {
        var t = this.p;
        this.p = this.q;
        this.q = t;
      }
      var p1 = this.p.subtract(_jsbn.BigInteger.ONE);
      var q1 = this.q.subtract(_jsbn.BigInteger.ONE);
      var phi = p1.multiply(q1);
      if (phi.gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0) {
        this.n = this.p.multiply(this.q);
        this.d = ee.modInverse(phi);
        this.dmp1 = this.d.mod(p1);
        this.dmq1 = this.d.mod(q1);
        this.coeff = this.q.modInverse(this.p);
        break;
      }
    }
  };
  // RSAKey.prototype.decrypt = RSADecrypt;
  // Return the PKCS#1 RSA decryption of "ctext".
  // "ctext" is an even-length hex string and the output is a plain string.
  RSAKey.prototype.decrypt = function (ctext) {
    var c = (0, _jsbn.parseBigInt)(ctext, 16);
    var m = this.doPrivate(c);
    if (m == null) {
      return null;
    }
    return pkcs1unpad2(m, this.n.bitLength() + 7 >> 3);
  };
  // Generate a new random private key B bits long, using public expt E
  RSAKey.prototype.generateAsync = function (B, E, callback) {
    var rng = new _rng.SecureRandom();
    var qs = B >> 1;
    this.e = parseInt(E, 16);
    var ee = new _jsbn.BigInteger(E, 16);
    var rsa = this;
    // These functions have non-descript names because they were originally for(;;) loops.
    // I don't know about cryptography to give them better names than loop1-4.
    var loop1 = function () {
      var loop4 = function () {
        if (rsa.p.compareTo(rsa.q) <= 0) {
          var t = rsa.p;
          rsa.p = rsa.q;
          rsa.q = t;
        }
        var p1 = rsa.p.subtract(_jsbn.BigInteger.ONE);
        var q1 = rsa.q.subtract(_jsbn.BigInteger.ONE);
        var phi = p1.multiply(q1);
        if (phi.gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0) {
          rsa.n = rsa.p.multiply(rsa.q);
          rsa.d = ee.modInverse(phi);
          rsa.dmp1 = rsa.d.mod(p1);
          rsa.dmq1 = rsa.d.mod(q1);
          rsa.coeff = rsa.q.modInverse(rsa.p);
          setTimeout(function () {
            callback();
          }, 0); // escape
        } else {
          setTimeout(loop1, 0);
        }
      };
      var loop3 = function () {
        rsa.q = (0, _jsbn.nbi)();
        rsa.q.fromNumberAsync(qs, 1, rng, function () {
          rsa.q.subtract(_jsbn.BigInteger.ONE).gcda(ee, function (r) {
            if (r.compareTo(_jsbn.BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {
              setTimeout(loop4, 0);
            } else {
              setTimeout(loop3, 0);
            }
          });
        });
      };
      var loop2 = function () {
        rsa.p = (0, _jsbn.nbi)();
        rsa.p.fromNumberAsync(B - qs, 1, rng, function () {
          rsa.p.subtract(_jsbn.BigInteger.ONE).gcda(ee, function (r) {
            if (r.compareTo(_jsbn.BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {
              setTimeout(loop3, 0);
            } else {
              setTimeout(loop2, 0);
            }
          });
        });
      };
      setTimeout(loop2, 0);
    };
    setTimeout(loop1, 0);
  };
  RSAKey.prototype.sign = function (text, digestMethod, digestName) {
    var header = getDigestHeader(digestName);
    var digest = header + digestMethod(text).toString();
    var m = pkcs1pad1(digest, this.n.bitLength() / 4);
    if (m == null) {
      return null;
    }
    var c = this.doPrivate(m);
    if (c == null) {
      return null;
    }
    var h = c.toString(16);
    if ((h.length & 1) == 0) {
      return h;
    } else {
      return "0" + h;
    }
  };
  RSAKey.prototype.verify = function (text, signature, digestMethod) {
    var c = (0, _jsbn.parseBigInt)(signature, 16);
    var m = this.doPublic(c);
    if (m == null) {
      return null;
    }
    var unpadded = m.toString(16).replace(/^1f+00/, "");
    var digest = removeDigestHeader(unpadded);
    return digest == digestMethod(text).toString();
  };
  return RSAKey;
}();
// Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext
function pkcs1unpad2(d, n) {
  var b = d.toByteArray();
  var i = 0;
  while (i < b.length && b[i] == 0) {
    ++i;
  }
  if (b.length - i != n - 1 || b[i] != 2) {
    return null;
  }
  ++i;
  while (b[i] != 0) {
    if (++i >= b.length) {
      return null;
    }
  }
  var ret = "";
  while (++i < b.length) {
    var c = b[i] & 255;
    if (c < 128) {
      // utf-8 decode
      ret += String.fromCharCode(c);
    } else if (c > 191 && c < 224) {
      ret += String.fromCharCode((c & 31) << 6 | b[i + 1] & 63);
      ++i;
    } else {
      ret += String.fromCharCode((c & 15) << 12 | (b[i + 1] & 63) << 6 | b[i + 2] & 63);
      i += 2;
    }
  }
  return ret;
}
// https://tools.ietf.org/html/rfc3447#page-43
var DIGEST_HEADERS = {
  md2: "3020300c06082a864886f70d020205000410",
  md5: "3020300c06082a864886f70d020505000410",
  sha1: "3021300906052b0e03021a05000414",
  sha224: "302d300d06096086480165030402040500041c",
  sha256: "3031300d060960864801650304020105000420",
  sha384: "3041300d060960864801650304020205000430",
  sha512: "3051300d060960864801650304020305000440",
  ripemd160: "3021300906052b2403020105000414"
};
function getDigestHeader(name) {
  return DIGEST_HEADERS[name] || "";
}
function removeDigestHeader(str) {
  for (var name_1 in DIGEST_HEADERS) {
    if (DIGEST_HEADERS.hasOwnProperty(name_1)) {
      var header = DIGEST_HEADERS[name_1];
      var len = header.length;
      if (str.substr(0, len) == header) {
        return str.substr(len);
      }
    }
  }
  return str;
}
// Return the PKCS#1 RSA encryption of "text" as a Base64-encoded string
// function RSAEncryptB64(text) {
//  var h = this.encrypt(text);
//  if(h) return hex2b64(h); else return null;
// }
// public
// RSAKey.prototype.encrypt_b64 = RSAEncryptB64;

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js":
/*!********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.cbit = cbit;
exports.int2char = int2char;
exports.lbit = lbit;
exports.op_and = op_and;
exports.op_andnot = op_andnot;
exports.op_or = op_or;
exports.op_xor = op_xor;
var BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz";
function int2char(n) {
  return BI_RM.charAt(n);
}
//#region BIT_OPERATIONS
// (public) this & a
function op_and(x, y) {
  return x & y;
}
// (public) this | a
function op_or(x, y) {
  return x | y;
}
// (public) this ^ a
function op_xor(x, y) {
  return x ^ y;
}
// (public) this & ~a
function op_andnot(x, y) {
  return x & ~y;
}
// return index of lowest 1-bit in x, x < 2^31
function lbit(x) {
  if (x == 0) {
    return -1;
  }
  var r = 0;
  if ((x & 0xffff) == 0) {
    x >>= 16;
    r += 16;
  }
  if ((x & 0xff) == 0) {
    x >>= 8;
    r += 8;
  }
  if ((x & 0xf) == 0) {
    x >>= 4;
    r += 4;
  }
  if ((x & 3) == 0) {
    x >>= 2;
    r += 2;
  }
  if ((x & 1) == 0) {
    ++r;
  }
  return r;
}
// return number of 1 bits in x
function cbit(x) {
  var r = 0;
  while (x != 0) {
    x &= x - 1;
    ++r;
  }
  return r;
}
//#endregion BIT_OPERATIONS

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/asn1-1.0.js":
/*!*****************************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsrsasign/asn1-1.0.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.KJUR = void 0;
var _jsbn = __webpack_require__(/*! ../jsbn/jsbn */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js");
var _yahoo = __webpack_require__(/*! ./yahoo */ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/yahoo.js");
/* asn1-1.0.13.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
/*
 * asn1.js - ASN.1 DER encoder classes
 *
 * Copyright (c) 2013-2017 Kenji Urushima (kenji.urushima@gmail.com)
 *
 * This software is licensed under the terms of the MIT License.
 * https://kjur.github.io/jsrsasign/license
 *
 * The above copyright and license notice shall be
 * included in all copies or substantial portions of the Software.
 */

/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
/**
 * kjur's class library name space
 * <p>
 * This name space provides following name spaces:
 * <ul>
 * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>
 * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>
 * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature
 * class and utilities</li>
 * </ul>
 * </p>
 * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.
 * @name KJUR
 * @namespace kjur's class library name space
 */
var KJUR = exports.KJUR = {};
/**
 * kjur's ASN.1 class library name space
 * <p>
 * This is ITU-T X.690 ASN.1 DER encoder class library and
 * class structure and methods is very similar to
 * org.bouncycastle.asn1 package of
 * well known BouncyCaslte Cryptography Library.
 * <h4>PROVIDING ASN.1 PRIMITIVES</h4>
 * Here are ASN.1 DER primitive classes.
 * <ul>
 * <li>0x01 {@link KJUR.asn1.DERBoolean}</li>
 * <li>0x02 {@link KJUR.asn1.DERInteger}</li>
 * <li>0x03 {@link KJUR.asn1.DERBitString}</li>
 * <li>0x04 {@link KJUR.asn1.DEROctetString}</li>
 * <li>0x05 {@link KJUR.asn1.DERNull}</li>
 * <li>0x06 {@link KJUR.asn1.DERObjectIdentifier}</li>
 * <li>0x0a {@link KJUR.asn1.DEREnumerated}</li>
 * <li>0x0c {@link KJUR.asn1.DERUTF8String}</li>
 * <li>0x12 {@link KJUR.asn1.DERNumericString}</li>
 * <li>0x13 {@link KJUR.asn1.DERPrintableString}</li>
 * <li>0x14 {@link KJUR.asn1.DERTeletexString}</li>
 * <li>0x16 {@link KJUR.asn1.DERIA5String}</li>
 * <li>0x17 {@link KJUR.asn1.DERUTCTime}</li>
 * <li>0x18 {@link KJUR.asn1.DERGeneralizedTime}</li>
 * <li>0x30 {@link KJUR.asn1.DERSequence}</li>
 * <li>0x31 {@link KJUR.asn1.DERSet}</li>
 * </ul>
 * <h4>OTHER ASN.1 CLASSES</h4>
 * <ul>
 * <li>{@link KJUR.asn1.ASN1Object}</li>
 * <li>{@link KJUR.asn1.DERAbstractString}</li>
 * <li>{@link KJUR.asn1.DERAbstractTime}</li>
 * <li>{@link KJUR.asn1.DERAbstractStructured}</li>
 * <li>{@link KJUR.asn1.DERTaggedObject}</li>
 * </ul>
 * <h4>SUB NAME SPACES</h4>
 * <ul>
 * <li>{@link KJUR.asn1.cades} - CAdES long term signature format</li>
 * <li>{@link KJUR.asn1.cms} - Cryptographic Message Syntax</li>
 * <li>{@link KJUR.asn1.csr} - Certificate Signing Request (CSR/PKCS#10)</li>
 * <li>{@link KJUR.asn1.tsp} - RFC 3161 Timestamping Protocol Format</li>
 * <li>{@link KJUR.asn1.x509} - RFC 5280 X.509 certificate and CRL</li>
 * </ul>
 * </p>
 * NOTE: Please ignore method summary and document of this namespace.
 * This caused by a bug of jsdoc2.
 * @name KJUR.asn1
 * @namespace
 */
if (typeof KJUR.asn1 == "undefined" || !KJUR.asn1) KJUR.asn1 = {};
/**
 * ASN1 utilities class
 * @name KJUR.asn1.ASN1Util
 * @class ASN1 utilities class
 * @since asn1 1.0.2
 */
KJUR.asn1.ASN1Util = new function () {
  this.integerToByteHex = function (i) {
    var h = i.toString(16);
    if (h.length % 2 == 1) h = '0' + h;
    return h;
  };
  this.bigIntToMinTwosComplementsHex = function (bigIntegerValue) {
    var h = bigIntegerValue.toString(16);
    if (h.substr(0, 1) != '-') {
      if (h.length % 2 == 1) {
        h = '0' + h;
      } else {
        if (!h.match(/^[0-7]/)) {
          h = '00' + h;
        }
      }
    } else {
      var hPos = h.substr(1);
      var xorLen = hPos.length;
      if (xorLen % 2 == 1) {
        xorLen += 1;
      } else {
        if (!h.match(/^[0-7]/)) {
          xorLen += 2;
        }
      }
      var hMask = '';
      for (var i = 0; i < xorLen; i++) {
        hMask += 'f';
      }
      var biMask = new _jsbn.BigInteger(hMask, 16);
      var biNeg = biMask.xor(bigIntegerValue).add(_jsbn.BigInteger.ONE);
      h = biNeg.toString(16).replace(/^-/, '');
    }
    return h;
  };
  /**
   * get PEM string from hexadecimal data and header string
   * @name getPEMStringFromHex
   * @memberOf KJUR.asn1.ASN1Util
   * @function
   * @param {String} dataHex hexadecimal string of PEM body
   * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')
   * @return {String} PEM formatted string of input data
   * @description
   * This method converts a hexadecimal string to a PEM string with
   * a specified header. Its line break will be CRLF("\r\n").
   * @example
   * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');
   * // value of pem will be:
   * -----BEGIN PRIVATE KEY-----
   * YWFh
   * -----END PRIVATE KEY-----
   */
  this.getPEMStringFromHex = function (dataHex, pemHeader) {
    return hextopem(dataHex, pemHeader);
  };
  /**
   * generate ASN1Object specifed by JSON parameters
   * @name newObject
   * @memberOf KJUR.asn1.ASN1Util
   * @function
   * @param {Array} param JSON parameter to generate ASN1Object
   * @return {KJUR.asn1.ASN1Object} generated object
   * @since asn1 1.0.3
   * @description
   * generate any ASN1Object specified by JSON param
   * including ASN.1 primitive or structured.
   * Generally 'param' can be described as follows:
   * <blockquote>
   * {TYPE-OF-ASNOBJ: ASN1OBJ-PARAMETER}
   * </blockquote>
   * 'TYPE-OF-ASN1OBJ' can be one of following symbols:
   * <ul>
   * <li>'bool' - DERBoolean</li>
   * <li>'int' - DERInteger</li>
   * <li>'bitstr' - DERBitString</li>
   * <li>'octstr' - DEROctetString</li>
   * <li>'null' - DERNull</li>
   * <li>'oid' - DERObjectIdentifier</li>
   * <li>'enum' - DEREnumerated</li>
   * <li>'utf8str' - DERUTF8String</li>
   * <li>'numstr' - DERNumericString</li>
   * <li>'prnstr' - DERPrintableString</li>
   * <li>'telstr' - DERTeletexString</li>
   * <li>'ia5str' - DERIA5String</li>
   * <li>'utctime' - DERUTCTime</li>
   * <li>'gentime' - DERGeneralizedTime</li>
   * <li>'seq' - DERSequence</li>
   * <li>'set' - DERSet</li>
   * <li>'tag' - DERTaggedObject</li>
   * </ul>
   * @example
   * newObject({'prnstr': 'aaa'});
   * newObject({'seq': [{'int': 3}, {'prnstr': 'aaa'}]})
   * // ASN.1 Tagged Object
   * newObject({'tag': {'tag': 'a1',
   *                    'explicit': true,
   *                    'obj': {'seq': [{'int': 3}, {'prnstr': 'aaa'}]}}});
   * // more simple representation of ASN.1 Tagged Object
   * newObject({'tag': ['a1',
   *                    true,
   *                    {'seq': [
   *                      {'int': 3},
   *                      {'prnstr': 'aaa'}]}
   *                   ]});
   */
  this.newObject = function (param) {
    var _KJUR = KJUR,
      _KJUR_asn1 = _KJUR.asn1,
      _DERBoolean = _KJUR_asn1.DERBoolean,
      _DERInteger = _KJUR_asn1.DERInteger,
      _DERBitString = _KJUR_asn1.DERBitString,
      _DEROctetString = _KJUR_asn1.DEROctetString,
      _DERNull = _KJUR_asn1.DERNull,
      _DERObjectIdentifier = _KJUR_asn1.DERObjectIdentifier,
      _DEREnumerated = _KJUR_asn1.DEREnumerated,
      _DERUTF8String = _KJUR_asn1.DERUTF8String,
      _DERNumericString = _KJUR_asn1.DERNumericString,
      _DERPrintableString = _KJUR_asn1.DERPrintableString,
      _DERTeletexString = _KJUR_asn1.DERTeletexString,
      _DERIA5String = _KJUR_asn1.DERIA5String,
      _DERUTCTime = _KJUR_asn1.DERUTCTime,
      _DERGeneralizedTime = _KJUR_asn1.DERGeneralizedTime,
      _DERSequence = _KJUR_asn1.DERSequence,
      _DERSet = _KJUR_asn1.DERSet,
      _DERTaggedObject = _KJUR_asn1.DERTaggedObject,
      _newObject = _KJUR_asn1.ASN1Util.newObject;
    var keys = Object.keys(param);
    if (keys.length != 1) throw "key of param shall be only one.";
    var key = keys[0];
    if (":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":" + key + ":") == -1) throw "undefined key: " + key;
    if (key == "bool") return new _DERBoolean(param[key]);
    if (key == "int") return new _DERInteger(param[key]);
    if (key == "bitstr") return new _DERBitString(param[key]);
    if (key == "octstr") return new _DEROctetString(param[key]);
    if (key == "null") return new _DERNull(param[key]);
    if (key == "oid") return new _DERObjectIdentifier(param[key]);
    if (key == "enum") return new _DEREnumerated(param[key]);
    if (key == "utf8str") return new _DERUTF8String(param[key]);
    if (key == "numstr") return new _DERNumericString(param[key]);
    if (key == "prnstr") return new _DERPrintableString(param[key]);
    if (key == "telstr") return new _DERTeletexString(param[key]);
    if (key == "ia5str") return new _DERIA5String(param[key]);
    if (key == "utctime") return new _DERUTCTime(param[key]);
    if (key == "gentime") return new _DERGeneralizedTime(param[key]);
    if (key == "seq") {
      var paramList = param[key];
      var a = [];
      for (var i = 0; i < paramList.length; i++) {
        var asn1Obj = _newObject(paramList[i]);
        a.push(asn1Obj);
      }
      return new _DERSequence({
        'array': a
      });
    }
    if (key == "set") {
      var paramList = param[key];
      var a = [];
      for (var i = 0; i < paramList.length; i++) {
        var asn1Obj = _newObject(paramList[i]);
        a.push(asn1Obj);
      }
      return new _DERSet({
        'array': a
      });
    }
    if (key == "tag") {
      var tagParam = param[key];
      if (Object.prototype.toString.call(tagParam) === '[object Array]' && tagParam.length == 3) {
        var obj = _newObject(tagParam[2]);
        return new _DERTaggedObject({
          tag: tagParam[0],
          explicit: tagParam[1],
          obj: obj
        });
      } else {
        var newParam = {};
        if (tagParam.explicit !== undefined) newParam.explicit = tagParam.explicit;
        if (tagParam.tag !== undefined) newParam.tag = tagParam.tag;
        if (tagParam.obj === undefined) throw "obj shall be specified for 'tag'.";
        newParam.obj = _newObject(tagParam.obj);
        return new _DERTaggedObject(newParam);
      }
    }
  };
  /**
   * get encoded hexadecimal string of ASN1Object specifed by JSON parameters
   * @name jsonToASN1HEX
   * @memberOf KJUR.asn1.ASN1Util
   * @function
   * @param {Array} param JSON parameter to generate ASN1Object
   * @return hexadecimal string of ASN1Object
   * @since asn1 1.0.4
   * @description
   * As for ASN.1 object representation of JSON object,
   * please see {@link newObject}.
   * @example
   * jsonToASN1HEX({'prnstr': 'aaa'});
   */
  this.jsonToASN1HEX = function (param) {
    var asn1Obj = this.newObject(param);
    return asn1Obj.getEncodedHex();
  };
}();
/**
 * get dot noted oid number string from hexadecimal value of OID
 * @name oidHexToInt
 * @memberOf KJUR.asn1.ASN1Util
 * @function
 * @param {String} hex hexadecimal value of object identifier
 * @return {String} dot noted string of object identifier
 * @since jsrsasign 4.8.3 asn1 1.0.7
 * @description
 * This static method converts from hexadecimal string representation of
 * ASN.1 value of object identifier to oid number string.
 * @example
 * KJUR.asn1.ASN1Util.oidHexToInt('550406') &rarr; "2.5.4.6"
 */
KJUR.asn1.ASN1Util.oidHexToInt = function (hex) {
  var s = "";
  var i01 = parseInt(hex.substr(0, 2), 16);
  var i0 = Math.floor(i01 / 40);
  var i1 = i01 % 40;
  var s = i0 + "." + i1;
  var binbuf = "";
  for (var i = 2; i < hex.length; i += 2) {
    var value = parseInt(hex.substr(i, 2), 16);
    var bin = ("00000000" + value.toString(2)).slice(-8);
    binbuf = binbuf + bin.substr(1, 7);
    if (bin.substr(0, 1) == "0") {
      var bi = new _jsbn.BigInteger(binbuf, 2);
      s = s + "." + bi.toString(10);
      binbuf = "";
    }
  }
  ;
  return s;
};
/**
 * get hexadecimal value of object identifier from dot noted oid value
 * @name oidIntToHex
 * @memberOf KJUR.asn1.ASN1Util
 * @function
 * @param {String} oidString dot noted string of object identifier
 * @return {String} hexadecimal value of object identifier
 * @since jsrsasign 4.8.3 asn1 1.0.7
 * @description
 * This static method converts from object identifier value string.
 * to hexadecimal string representation of it.
 * @example
 * KJUR.asn1.ASN1Util.oidIntToHex("2.5.4.6") &rarr; "550406"
 */
KJUR.asn1.ASN1Util.oidIntToHex = function (oidString) {
  var itox = function (i) {
    var h = i.toString(16);
    if (h.length == 1) h = '0' + h;
    return h;
  };
  var roidtox = function (roid) {
    var h = '';
    var bi = new _jsbn.BigInteger(roid, 10);
    var b = bi.toString(2);
    var padLen = 7 - b.length % 7;
    if (padLen == 7) padLen = 0;
    var bPad = '';
    for (var i = 0; i < padLen; i++) bPad += '0';
    b = bPad + b;
    for (var i = 0; i < b.length - 1; i += 7) {
      var b8 = b.substr(i, 7);
      if (i != b.length - 7) b8 = '1' + b8;
      h += itox(parseInt(b8, 2));
    }
    return h;
  };
  if (!oidString.match(/^[0-9.]+$/)) {
    throw "malformed oid string: " + oidString;
  }
  var h = '';
  var a = oidString.split('.');
  var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);
  h += itox(i0);
  a.splice(0, 2);
  for (var i = 0; i < a.length; i++) {
    h += roidtox(a[i]);
  }
  return h;
};
// ********************************************************************
//  Abstract ASN.1 Classes
// ********************************************************************
// ********************************************************************
/**
 * base class for ASN.1 DER encoder object
 * @name KJUR.asn1.ASN1Object
 * @class base class for ASN.1 DER encoder object
 * @property {Boolean} isModified flag whether internal data was changed
 * @property {String} hTLV hexadecimal string of ASN.1 TLV
 * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)
 * @property {String} hL hexadecimal string of ASN.1 TLV length(L)
 * @property {String} hV hexadecimal string of ASN.1 TLV value(V)
 * @description
 */
KJUR.asn1.ASN1Object = function () {
  var isModified = true;
  var hTLV = null;
  var hT = '00';
  var hL = '00';
  var hV = '';
  /**
   * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)
   * @name getLengthHexFromValue
   * @memberOf KJUR.asn1.ASN1Object#
   * @function
   * @return {String} hexadecimal string of ASN.1 TLV length(L)
   */
  this.getLengthHexFromValue = function () {
    if (typeof this.hV == "undefined" || this.hV == null) {
      throw "this.hV is null or undefined.";
    }
    if (this.hV.length % 2 == 1) {
      throw "value hex must be even length: n=" + hV.length + ",v=" + this.hV;
    }
    var n = this.hV.length / 2;
    var hN = n.toString(16);
    if (hN.length % 2 == 1) {
      hN = "0" + hN;
    }
    if (n < 128) {
      return hN;
    } else {
      var hNlen = hN.length / 2;
      if (hNlen > 15) {
        throw "ASN.1 length too long to represent by 8x: n = " + n.toString(16);
      }
      var head = 128 + hNlen;
      return head.toString(16) + hN;
    }
  };
  /**
   * get hexadecimal string of ASN.1 TLV bytes
   * @name getEncodedHex
   * @memberOf KJUR.asn1.ASN1Object#
   * @function
   * @return {String} hexadecimal string of ASN.1 TLV
   */
  this.getEncodedHex = function () {
    if (this.hTLV == null || this.isModified) {
      this.hV = this.getFreshValueHex();
      this.hL = this.getLengthHexFromValue();
      this.hTLV = this.hT + this.hL + this.hV;
      this.isModified = false;
      //alert("first time: " + this.hTLV);
    }
    return this.hTLV;
  };
  /**
   * get hexadecimal string of ASN.1 TLV value(V) bytes
   * @name getValueHex
   * @memberOf KJUR.asn1.ASN1Object#
   * @function
   * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes
   */
  this.getValueHex = function () {
    this.getEncodedHex();
    return this.hV;
  };
  this.getFreshValueHex = function () {
    return '';
  };
};
// == BEGIN DERAbstractString ================================================
/**
 * base class for ASN.1 DER string classes
 * @name KJUR.asn1.DERAbstractString
 * @class base class for ASN.1 DER string classes
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @property {String} s internal string of value
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>str - specify initial ASN.1 value(V) by a string</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERAbstractString = function (params) {
  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);
  var s = null;
  var hV = null;
  /**
   * get string value of this string object
   * @name getString
   * @memberOf KJUR.asn1.DERAbstractString#
   * @function
   * @return {String} string value of this string object
   */
  this.getString = function () {
    return this.s;
  };
  /**
   * set value by a string
   * @name setString
   * @memberOf KJUR.asn1.DERAbstractString#
   * @function
   * @param {String} newS value by a string to set
   */
  this.setString = function (newS) {
    this.hTLV = null;
    this.isModified = true;
    this.s = newS;
    this.hV = stohex(this.s);
  };
  /**
   * set value by a hexadecimal string
   * @name setStringHex
   * @memberOf KJUR.asn1.DERAbstractString#
   * @function
   * @param {String} newHexString value by a hexadecimal string to set
   */
  this.setStringHex = function (newHexString) {
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = newHexString;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params == "string") {
      this.setString(params);
    } else if (typeof params['str'] != "undefined") {
      this.setString(params['str']);
    } else if (typeof params['hex'] != "undefined") {
      this.setStringHex(params['hex']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);
// == END   DERAbstractString ================================================
// == BEGIN DERAbstractTime ==================================================
/**
 * base class for ASN.1 DER Generalized/UTCTime class
 * @name KJUR.asn1.DERAbstractTime
 * @class base class for ASN.1 DER Generalized/UTCTime class
 * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERAbstractTime = function (params) {
  KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);
  var s = null;
  var date = null;
  // --- PRIVATE METHODS --------------------
  this.localDateToUTC = function (d) {
    utc = d.getTime() + d.getTimezoneOffset() * 60000;
    var utcDate = new Date(utc);
    return utcDate;
  };
  /*
   * format date string by Data object
   * @name formatDate
   * @memberOf KJUR.asn1.AbstractTime;
   * @param {Date} dateObject
   * @param {string} type 'utc' or 'gen'
   * @param {boolean} withMillis flag for with millisections or not
   * @description
   * 'withMillis' flag is supported from asn1 1.0.6.
   */
  this.formatDate = function (dateObject, type, withMillis) {
    var pad = this.zeroPadding;
    var d = this.localDateToUTC(dateObject);
    var year = String(d.getFullYear());
    if (type == 'utc') year = year.substr(2, 2);
    var month = pad(String(d.getMonth() + 1), 2);
    var day = pad(String(d.getDate()), 2);
    var hour = pad(String(d.getHours()), 2);
    var min = pad(String(d.getMinutes()), 2);
    var sec = pad(String(d.getSeconds()), 2);
    var s = year + month + day + hour + min + sec;
    if (withMillis === true) {
      var millis = d.getMilliseconds();
      if (millis != 0) {
        var sMillis = pad(String(millis), 3);
        sMillis = sMillis.replace(/[0]+$/, "");
        s = s + "." + sMillis;
      }
    }
    return s + "Z";
  };
  this.zeroPadding = function (s, len) {
    if (s.length >= len) return s;
    return new Array(len - s.length + 1).join('0') + s;
  };
  // --- PUBLIC METHODS --------------------
  /**
   * get string value of this string object
   * @name getString
   * @memberOf KJUR.asn1.DERAbstractTime#
   * @function
   * @return {String} string value of this time object
   */
  this.getString = function () {
    return this.s;
  };
  /**
   * set value by a string
   * @name setString
   * @memberOf KJUR.asn1.DERAbstractTime#
   * @function
   * @param {String} newS value by a string to set such like "130430235959Z"
   */
  this.setString = function (newS) {
    this.hTLV = null;
    this.isModified = true;
    this.s = newS;
    this.hV = stohex(newS);
  };
  /**
   * set value by a Date object
   * @name setByDateValue
   * @memberOf KJUR.asn1.DERAbstractTime#
   * @function
   * @param {Integer} year year of date (ex. 2013)
   * @param {Integer} month month of date between 1 and 12 (ex. 12)
   * @param {Integer} day day of month
   * @param {Integer} hour hours of date
   * @param {Integer} min minutes of date
   * @param {Integer} sec seconds of date
   */
  this.setByDateValue = function (year, month, day, hour, min, sec) {
    var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));
    this.setByDate(dateObject);
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);
// == END   DERAbstractTime ==================================================
// == BEGIN DERAbstractStructured ============================================
/**
 * base class for ASN.1 DER structured class
 * @name KJUR.asn1.DERAbstractStructured
 * @class base class for ASN.1 DER structured class
 * @property {Array} asn1Array internal array of ASN1Object
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERAbstractStructured = function (params) {
  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);
  var asn1Array = null;
  /**
   * set value by array of ASN1Object
   * @name setByASN1ObjectArray
   * @memberOf KJUR.asn1.DERAbstractStructured#
   * @function
   * @param {array} asn1ObjectArray array of ASN1Object to set
   */
  this.setByASN1ObjectArray = function (asn1ObjectArray) {
    this.hTLV = null;
    this.isModified = true;
    this.asn1Array = asn1ObjectArray;
  };
  /**
   * append an ASN1Object to internal array
   * @name appendASN1Object
   * @memberOf KJUR.asn1.DERAbstractStructured#
   * @function
   * @param {ASN1Object} asn1Object to add
   */
  this.appendASN1Object = function (asn1Object) {
    this.hTLV = null;
    this.isModified = true;
    this.asn1Array.push(asn1Object);
  };
  this.asn1Array = new Array();
  if (typeof params != "undefined") {
    if (typeof params['array'] != "undefined") {
      this.asn1Array = params['array'];
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);
// ********************************************************************
//  ASN.1 Object Classes
// ********************************************************************
// ********************************************************************
/**
 * class for ASN.1 DER Boolean
 * @name KJUR.asn1.DERBoolean
 * @class class for ASN.1 DER Boolean
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERBoolean = function () {
  KJUR.asn1.DERBoolean.superclass.constructor.call(this);
  this.hT = "01";
  this.hTLV = "0101ff";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER Integer
 * @name KJUR.asn1.DERInteger
 * @class class for ASN.1 DER Integer
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>int - specify initial ASN.1 value(V) by integer value</li>
 * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERInteger = function (params) {
  KJUR.asn1.DERInteger.superclass.constructor.call(this);
  this.hT = "02";
  /**
   * set value by Tom Wu's BigInteger object
   * @name setByBigInteger
   * @memberOf KJUR.asn1.DERInteger#
   * @function
   * @param {BigInteger} bigIntegerValue to set
   */
  this.setByBigInteger = function (bigIntegerValue) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);
  };
  /**
   * set value by integer value
   * @name setByInteger
   * @memberOf KJUR.asn1.DERInteger
   * @function
   * @param {Integer} integer value to set
   */
  this.setByInteger = function (intValue) {
    var bi = new _jsbn.BigInteger(String(intValue), 10);
    this.setByBigInteger(bi);
  };
  /**
   * set value by integer value
   * @name setValueHex
   * @memberOf KJUR.asn1.DERInteger#
   * @function
   * @param {String} hexadecimal string of integer value
   * @description
   * <br/>
   * NOTE: Value shall be represented by minimum octet length of
   * two's complement representation.
   * @example
   * new KJUR.asn1.DERInteger(123);
   * new KJUR.asn1.DERInteger({'int': 123});
   * new KJUR.asn1.DERInteger({'hex': '1fad'});
   */
  this.setValueHex = function (newHexString) {
    this.hV = newHexString;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params['bigint'] != "undefined") {
      this.setByBigInteger(params['bigint']);
    } else if (typeof params['int'] != "undefined") {
      this.setByInteger(params['int']);
    } else if (typeof params == "number") {
      this.setByInteger(params);
    } else if (typeof params['hex'] != "undefined") {
      this.setValueHex(params['hex']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER encoded BitString primitive
 * @name KJUR.asn1.DERBitString
 * @class class for ASN.1 DER encoded BitString primitive
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>bin - specify binary string (ex. '10111')</li>
 * <li>array - specify array of boolean (ex. [true,false,true,true])</li>
 * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>
 * <li>obj - specify {@link KJUR.asn1.ASN1Util.newObject}
 * argument for "BitString encapsulates" structure.</li>
 * </ul>
 * NOTE1: 'params' can be omitted.<br/>
 * NOTE2: 'obj' parameter have been supported since
 * asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).<br/>
 * @example
 * // default constructor
 * o = new KJUR.asn1.DERBitString();
 * // initialize with binary string
 * o = new KJUR.asn1.DERBitString({bin: "1011"});
 * // initialize with boolean array
 * o = new KJUR.asn1.DERBitString({array: [true,false,true,true]});
 * // initialize with hexadecimal string (04 is unused bits)
 * o = new KJUR.asn1.DEROctetString({hex: "04bac0"});
 * // initialize with ASN1Util.newObject argument for encapsulated
 * o = new KJUR.asn1.DERBitString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});
 * // above generates a ASN.1 data like this:
 * // BIT STRING, encapsulates {
 * //   SEQUENCE {
 * //     INTEGER 3
 * //     PrintableString 'aaa'
 * //     }
 * //   }
 */
KJUR.asn1.DERBitString = function (params) {
  if (params !== undefined && typeof params.obj !== "undefined") {
    var o = KJUR.asn1.ASN1Util.newObject(params.obj);
    params.hex = "00" + o.getEncodedHex();
  }
  KJUR.asn1.DERBitString.superclass.constructor.call(this);
  this.hT = "03";
  /**
   * set ASN.1 value(V) by a hexadecimal string including unused bits
   * @name setHexValueIncludingUnusedBits
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {String} newHexStringIncludingUnusedBits
   */
  this.setHexValueIncludingUnusedBits = function (newHexStringIncludingUnusedBits) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = newHexStringIncludingUnusedBits;
  };
  /**
   * set ASN.1 value(V) by unused bit and hexadecimal string of value
   * @name setUnusedBitsAndHexValue
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {Integer} unusedBits
   * @param {String} hValue
   */
  this.setUnusedBitsAndHexValue = function (unusedBits, hValue) {
    if (unusedBits < 0 || 7 < unusedBits) {
      throw "unused bits shall be from 0 to 7: u = " + unusedBits;
    }
    var hUnusedBits = "0" + unusedBits;
    this.hTLV = null;
    this.isModified = true;
    this.hV = hUnusedBits + hValue;
  };
  /**
   * set ASN.1 DER BitString by binary string<br/>
   * @name setByBinaryString
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {String} binaryString binary value string (i.e. '10111')
   * @description
   * Its unused bits will be calculated automatically by length of
   * 'binaryValue'. <br/>
   * NOTE: Trailing zeros '0' will be ignored.
   * @example
   * o = new KJUR.asn1.DERBitString();
   * o.setByBooleanArray("01011");
   */
  this.setByBinaryString = function (binaryString) {
    binaryString = binaryString.replace(/0+$/, '');
    var unusedBits = 8 - binaryString.length % 8;
    if (unusedBits == 8) unusedBits = 0;
    for (var i = 0; i <= unusedBits; i++) {
      binaryString += '0';
    }
    var h = '';
    for (var i = 0; i < binaryString.length - 1; i += 8) {
      var b = binaryString.substr(i, 8);
      var x = parseInt(b, 2).toString(16);
      if (x.length == 1) x = '0' + x;
      h += x;
    }
    this.hTLV = null;
    this.isModified = true;
    this.hV = '0' + unusedBits + h;
  };
  /**
   * set ASN.1 TLV value(V) by an array of boolean<br/>
   * @name setByBooleanArray
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {array} booleanArray array of boolean (ex. [true, false, true])
   * @description
   * NOTE: Trailing falses will be ignored in the ASN.1 DER Object.
   * @example
   * o = new KJUR.asn1.DERBitString();
   * o.setByBooleanArray([false, true, false, true, true]);
   */
  this.setByBooleanArray = function (booleanArray) {
    var s = '';
    for (var i = 0; i < booleanArray.length; i++) {
      if (booleanArray[i] == true) {
        s += '1';
      } else {
        s += '0';
      }
    }
    this.setByBinaryString(s);
  };
  /**
   * generate an array of falses with specified length<br/>
   * @name newFalseArray
   * @memberOf KJUR.asn1.DERBitString
   * @function
   * @param {Integer} nLength length of array to generate
   * @return {array} array of boolean falses
   * @description
   * This static method may be useful to initialize boolean array.
   * @example
   * o = new KJUR.asn1.DERBitString();
   * o.newFalseArray(3) &rarr; [false, false, false]
   */
  this.newFalseArray = function (nLength) {
    var a = new Array(nLength);
    for (var i = 0; i < nLength; i++) {
      a[i] = false;
    }
    return a;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params == "string" && params.toLowerCase().match(/^[0-9a-f]+$/)) {
      this.setHexValueIncludingUnusedBits(params);
    } else if (typeof params['hex'] != "undefined") {
      this.setHexValueIncludingUnusedBits(params['hex']);
    } else if (typeof params['bin'] != "undefined") {
      this.setByBinaryString(params['bin']);
    } else if (typeof params['array'] != "undefined") {
      this.setByBooleanArray(params['array']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER OctetString<br/>
 * @name KJUR.asn1.DEROctetString
 * @class class for ASN.1 DER OctetString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * This class provides ASN.1 OctetString simple type.<br/>
 * Supported "params" attributes are:
 * <ul>
 * <li>str - to set a string as a value</li>
 * <li>hex - to set a hexadecimal string as a value</li>
 * <li>obj - to set a encapsulated ASN.1 value by JSON object
 * which is defined in {@link KJUR.asn1.ASN1Util.newObject}</li>
 * </ul>
 * NOTE: A parameter 'obj' have been supported
 * for "OCTET STRING, encapsulates" structure.
 * since asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).
 * @see KJUR.asn1.DERAbstractString - superclass
 * @example
 * // default constructor
 * o = new KJUR.asn1.DEROctetString();
 * // initialize with string
 * o = new KJUR.asn1.DEROctetString({str: "aaa"});
 * // initialize with hexadecimal string
 * o = new KJUR.asn1.DEROctetString({hex: "616161"});
 * // initialize with ASN1Util.newObject argument
 * o = new KJUR.asn1.DEROctetString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});
 * // above generates a ASN.1 data like this:
 * // OCTET STRING, encapsulates {
 * //   SEQUENCE {
 * //     INTEGER 3
 * //     PrintableString 'aaa'
 * //     }
 * //   }
 */
KJUR.asn1.DEROctetString = function (params) {
  if (params !== undefined && typeof params.obj !== "undefined") {
    var o = KJUR.asn1.ASN1Util.newObject(params.obj);
    params.hex = o.getEncodedHex();
  }
  KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);
  this.hT = "04";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER Null
 * @name KJUR.asn1.DERNull
 * @class class for ASN.1 DER Null
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERNull = function () {
  KJUR.asn1.DERNull.superclass.constructor.call(this);
  this.hT = "05";
  this.hTLV = "0500";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER ObjectIdentifier
 * @name KJUR.asn1.DERObjectIdentifier
 * @class class for ASN.1 DER ObjectIdentifier
 * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERObjectIdentifier = function (params) {
  var itox = function (i) {
    var h = i.toString(16);
    if (h.length == 1) h = '0' + h;
    return h;
  };
  var roidtox = function (roid) {
    var h = '';
    var bi = new _jsbn.BigInteger(roid, 10);
    var b = bi.toString(2);
    var padLen = 7 - b.length % 7;
    if (padLen == 7) padLen = 0;
    var bPad = '';
    for (var i = 0; i < padLen; i++) bPad += '0';
    b = bPad + b;
    for (var i = 0; i < b.length - 1; i += 7) {
      var b8 = b.substr(i, 7);
      if (i != b.length - 7) b8 = '1' + b8;
      h += itox(parseInt(b8, 2));
    }
    return h;
  };
  KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);
  this.hT = "06";
  /**
   * set value by a hexadecimal string
   * @name setValueHex
   * @memberOf KJUR.asn1.DERObjectIdentifier#
   * @function
   * @param {String} newHexString hexadecimal value of OID bytes
   */
  this.setValueHex = function (newHexString) {
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = newHexString;
  };
  /**
   * set value by a OID string<br/>
   * @name setValueOidString
   * @memberOf KJUR.asn1.DERObjectIdentifier#
   * @function
   * @param {String} oidString OID string (ex. 2.5.4.13)
   * @example
   * o = new KJUR.asn1.DERObjectIdentifier();
   * o.setValueOidString("2.5.4.13");
   */
  this.setValueOidString = function (oidString) {
    if (!oidString.match(/^[0-9.]+$/)) {
      throw "malformed oid string: " + oidString;
    }
    var h = '';
    var a = oidString.split('.');
    var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);
    h += itox(i0);
    a.splice(0, 2);
    for (var i = 0; i < a.length; i++) {
      h += roidtox(a[i]);
    }
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = h;
  };
  /**
   * set value by a OID name
   * @name setValueName
   * @memberOf KJUR.asn1.DERObjectIdentifier#
   * @function
   * @param {String} oidName OID name (ex. 'serverAuth')
   * @since 1.0.1
   * @description
   * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.
   * Otherwise raise error.
   * @example
   * o = new KJUR.asn1.DERObjectIdentifier();
   * o.setValueName("serverAuth");
   */
  this.setValueName = function (oidName) {
    var oid = KJUR.asn1.x509.OID.name2oid(oidName);
    if (oid !== '') {
      this.setValueOidString(oid);
    } else {
      throw "DERObjectIdentifier oidName undefined: " + oidName;
    }
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (params !== undefined) {
    if (typeof params === "string") {
      if (params.match(/^[0-2].[0-9.]+$/)) {
        this.setValueOidString(params);
      } else {
        this.setValueName(params);
      }
    } else if (params.oid !== undefined) {
      this.setValueOidString(params.oid);
    } else if (params.hex !== undefined) {
      this.setValueHex(params.hex);
    } else if (params.name !== undefined) {
      this.setValueName(params.name);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER Enumerated
 * @name KJUR.asn1.DEREnumerated
 * @class class for ASN.1 DER Enumerated
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>int - specify initial ASN.1 value(V) by integer value</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 * @example
 * new KJUR.asn1.DEREnumerated(123);
 * new KJUR.asn1.DEREnumerated({int: 123});
 * new KJUR.asn1.DEREnumerated({hex: '1fad'});
 */
KJUR.asn1.DEREnumerated = function (params) {
  KJUR.asn1.DEREnumerated.superclass.constructor.call(this);
  this.hT = "0a";
  /**
   * set value by Tom Wu's BigInteger object
   * @name setByBigInteger
   * @memberOf KJUR.asn1.DEREnumerated#
   * @function
   * @param {BigInteger} bigIntegerValue to set
   */
  this.setByBigInteger = function (bigIntegerValue) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);
  };
  /**
   * set value by integer value
   * @name setByInteger
   * @memberOf KJUR.asn1.DEREnumerated#
   * @function
   * @param {Integer} integer value to set
   */
  this.setByInteger = function (intValue) {
    var bi = new _jsbn.BigInteger(String(intValue), 10);
    this.setByBigInteger(bi);
  };
  /**
   * set value by integer value
   * @name setValueHex
   * @memberOf KJUR.asn1.DEREnumerated#
   * @function
   * @param {String} hexadecimal string of integer value
   * @description
   * <br/>
   * NOTE: Value shall be represented by minimum octet length of
   * two's complement representation.
   */
  this.setValueHex = function (newHexString) {
    this.hV = newHexString;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params['int'] != "undefined") {
      this.setByInteger(params['int']);
    } else if (typeof params == "number") {
      this.setByInteger(params);
    } else if (typeof params['hex'] != "undefined") {
      this.setValueHex(params['hex']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DEREnumerated, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER UTF8String
 * @name KJUR.asn1.DERUTF8String
 * @class class for ASN.1 DER UTF8String
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERUTF8String = function (params) {
  KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);
  this.hT = "0c";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER NumericString
 * @name KJUR.asn1.DERNumericString
 * @class class for ASN.1 DER NumericString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERNumericString = function (params) {
  KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);
  this.hT = "12";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER PrintableString
 * @name KJUR.asn1.DERPrintableString
 * @class class for ASN.1 DER PrintableString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERPrintableString = function (params) {
  KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);
  this.hT = "13";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER TeletexString
 * @name KJUR.asn1.DERTeletexString
 * @class class for ASN.1 DER TeletexString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERTeletexString = function (params) {
  KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);
  this.hT = "14";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER IA5String
 * @name KJUR.asn1.DERIA5String
 * @class class for ASN.1 DER IA5String
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERIA5String = function (params) {
  KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);
  this.hT = "16";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER UTCTime
 * @name KJUR.asn1.DERUTCTime
 * @class class for ASN.1 DER UTCTime
 * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})
 * @extends KJUR.asn1.DERAbstractTime
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * <li>date - specify Date object.</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 * <h4>EXAMPLES</h4>
 * @example
 * d1 = new KJUR.asn1.DERUTCTime();
 * d1.setString('130430125959Z');
 *
 * d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});
 * d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});
 * d4 = new KJUR.asn1.DERUTCTime('130430125959Z');
 */
KJUR.asn1.DERUTCTime = function (params) {
  KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);
  this.hT = "17";
  /**
   * set value by a Date object<br/>
   * @name setByDate
   * @memberOf KJUR.asn1.DERUTCTime#
   * @function
   * @param {Date} dateObject Date object to set ASN.1 value(V)
   * @example
   * o = new KJUR.asn1.DERUTCTime();
   * o.setByDate(new Date("2016/12/31"));
   */
  this.setByDate = function (dateObject) {
    this.hTLV = null;
    this.isModified = true;
    this.date = dateObject;
    this.s = this.formatDate(this.date, 'utc');
    this.hV = stohex(this.s);
  };
  this.getFreshValueHex = function () {
    if (typeof this.date == "undefined" && typeof this.s == "undefined") {
      this.date = new Date();
      this.s = this.formatDate(this.date, 'utc');
      this.hV = stohex(this.s);
    }
    return this.hV;
  };
  if (params !== undefined) {
    if (params.str !== undefined) {
      this.setString(params.str);
    } else if (typeof params == "string" && params.match(/^[0-9]{12}Z$/)) {
      this.setString(params);
    } else if (params.hex !== undefined) {
      this.setStringHex(params.hex);
    } else if (params.date !== undefined) {
      this.setByDate(params.date);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);
// ********************************************************************
/**
 * class for ASN.1 DER GeneralizedTime
 * @name KJUR.asn1.DERGeneralizedTime
 * @class class for ASN.1 DER GeneralizedTime
 * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})
 * @property {Boolean} withMillis flag to show milliseconds or not
 * @extends KJUR.asn1.DERAbstractTime
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * <li>date - specify Date object.</li>
 * <li>millis - specify flag to show milliseconds (from 1.0.6)</li>
 * </ul>
 * NOTE1: 'params' can be omitted.
 * NOTE2: 'withMillis' property is supported from asn1 1.0.6.
 */
KJUR.asn1.DERGeneralizedTime = function (params) {
  KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);
  this.hT = "18";
  this.withMillis = false;
  /**
   * set value by a Date object
   * @name setByDate
   * @memberOf KJUR.asn1.DERGeneralizedTime#
   * @function
   * @param {Date} dateObject Date object to set ASN.1 value(V)
   * @example
   * When you specify UTC time, use 'Date.UTC' method like this:<br/>
   * o1 = new DERUTCTime();
   * o1.setByDate(date);
   *
   * date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59
   */
  this.setByDate = function (dateObject) {
    this.hTLV = null;
    this.isModified = true;
    this.date = dateObject;
    this.s = this.formatDate(this.date, 'gen', this.withMillis);
    this.hV = stohex(this.s);
  };
  this.getFreshValueHex = function () {
    if (this.date === undefined && this.s === undefined) {
      this.date = new Date();
      this.s = this.formatDate(this.date, 'gen', this.withMillis);
      this.hV = stohex(this.s);
    }
    return this.hV;
  };
  if (params !== undefined) {
    if (params.str !== undefined) {
      this.setString(params.str);
    } else if (typeof params == "string" && params.match(/^[0-9]{14}Z$/)) {
      this.setString(params);
    } else if (params.hex !== undefined) {
      this.setStringHex(params.hex);
    } else if (params.date !== undefined) {
      this.setByDate(params.date);
    }
    if (params.millis === true) {
      this.withMillis = true;
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);
// ********************************************************************
/**
 * class for ASN.1 DER Sequence
 * @name KJUR.asn1.DERSequence
 * @class class for ASN.1 DER Sequence
 * @extends KJUR.asn1.DERAbstractStructured
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>array - specify array of ASN1Object to set elements of content</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERSequence = function (params) {
  KJUR.asn1.DERSequence.superclass.constructor.call(this, params);
  this.hT = "30";
  this.getFreshValueHex = function () {
    var h = '';
    for (var i = 0; i < this.asn1Array.length; i++) {
      var asn1Obj = this.asn1Array[i];
      h += asn1Obj.getEncodedHex();
    }
    this.hV = h;
    return this.hV;
  };
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);
// ********************************************************************
/**
 * class for ASN.1 DER Set
 * @name KJUR.asn1.DERSet
 * @class class for ASN.1 DER Set
 * @extends KJUR.asn1.DERAbstractStructured
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>array - specify array of ASN1Object to set elements of content</li>
 * <li>sortflag - flag for sort (default: true). ASN.1 BER is not sorted in 'SET OF'.</li>
 * </ul>
 * NOTE1: 'params' can be omitted.<br/>
 * NOTE2: sortflag is supported since 1.0.5.
 */
KJUR.asn1.DERSet = function (params) {
  KJUR.asn1.DERSet.superclass.constructor.call(this, params);
  this.hT = "31";
  this.sortFlag = true; // item shall be sorted only in ASN.1 DER
  this.getFreshValueHex = function () {
    var a = new Array();
    for (var i = 0; i < this.asn1Array.length; i++) {
      var asn1Obj = this.asn1Array[i];
      a.push(asn1Obj.getEncodedHex());
    }
    if (this.sortFlag == true) a.sort();
    this.hV = a.join('');
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params.sortflag != "undefined" && params.sortflag == false) this.sortFlag = false;
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);
// ********************************************************************
/**
 * class for ASN.1 DER TaggedObject
 * @name KJUR.asn1.DERTaggedObject
 * @class class for ASN.1 DER TaggedObject
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.
 * For example, if you find '[1]' tag in a ASN.1 dump,
 * 'tagNoHex' will be 'a1'.
 * <br/>
 * As for optional argument 'params' for constructor, you can specify *ANY* of
 * following properties:
 * <ul>
 * <li>explicit - specify true if this is explicit tag otherwise false
 *     (default is 'true').</li>
 * <li>tag - specify tag (default is 'a0' which means [0])</li>
 * <li>obj - specify ASN1Object which is tagged</li>
 * </ul>
 * @example
 * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});
 * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});
 * hex = d2.getEncodedHex();
 */
KJUR.asn1.DERTaggedObject = function (params) {
  KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);
  this.hT = "a0";
  this.hV = '';
  this.isExplicit = true;
  this.asn1Object = null;
  /**
   * set value by an ASN1Object
   * @name setString
   * @memberOf KJUR.asn1.DERTaggedObject#
   * @function
   * @param {Boolean} isExplicitFlag flag for explicit/implicit tag
   * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag
   * @param {ASN1Object} asn1Object ASN.1 to encapsulate
   */
  this.setASN1Object = function (isExplicitFlag, tagNoHex, asn1Object) {
    this.hT = tagNoHex;
    this.isExplicit = isExplicitFlag;
    this.asn1Object = asn1Object;
    if (this.isExplicit) {
      this.hV = this.asn1Object.getEncodedHex();
      this.hTLV = null;
      this.isModified = true;
    } else {
      this.hV = null;
      this.hTLV = asn1Object.getEncodedHex();
      this.hTLV = this.hTLV.replace(/^../, tagNoHex);
      this.isModified = false;
    }
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params['tag'] != "undefined") {
      this.hT = params['tag'];
    }
    if (typeof params['explicit'] != "undefined") {
      this.isExplicit = params['explicit'];
    }
    if (typeof params['obj'] != "undefined") {
      this.asn1Object = params['obj'];
      this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/yahoo.js":
/*!**************************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsrsasign/yahoo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.YAHOO = void 0;
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
var YAHOO = exports.YAHOO = {};
YAHOO.lang = {
  /**
   * Utility to set up the prototype, constructor and superclass properties to
   * support an inheritance strategy that can chain constructors and methods.
   * Static members will not be inherited.
   *
   * @method extend
   * @static
   * @param {Function} subc   the object to modify
   * @param {Function} superc the object to inherit
   * @param {Object} overrides  additional properties/methods to add to the
   *                              subclass prototype.  These will override the
   *                              matching items obtained from the superclass
   *                              if present.
   */
  extend: function (subc, superc, overrides) {
    if (!superc || !subc) {
      throw new Error("YAHOO.lang.extend failed, please check that " + "all dependencies are included.");
    }
    var F = function () {};
    F.prototype = superc.prototype;
    subc.prototype = new F();
    subc.prototype.constructor = subc;
    subc.superclass = superc.prototype;
    if (superc.prototype.constructor == Object.prototype.constructor) {
      superc.prototype.constructor = superc;
    }
    if (overrides) {
      var i;
      for (i in overrides) {
        subc.prototype[i] = overrides[i];
      }
      /*
       * IE will not enumerate native functions in a derived object even if the
       * function was overridden.  This is a workaround for specific functions
       * we care about on the Object prototype.
       * @property _IEEnumFix
       * @param {Function} r  the object to receive the augmentation
       * @param {Function} s  the object that supplies the properties to augment
       * @static
       * @private
       */
      var _IEEnumFix = function () {},
        ADD = ["toString", "valueOf"];
      try {
        if (/MSIE/.test(navigator.userAgent)) {
          _IEEnumFix = function (r, s) {
            for (i = 0; i < ADD.length; i = i + 1) {
              var fname = ADD[i],
                f = s[fname];
              if (typeof f === 'function' && f != Object.prototype[fname]) {
                r[fname] = f;
              }
            }
          };
        }
      } catch (ex) {}
      ;
      _IEEnumFix(subc.prototype, overrides);
    }
  }
};

/***/ }),

/***/ "./src/Common/libs/umeng/umenganalysis.es.min.js":
/*!*******************************************************!*\
  !*** ./src/Common/libs/umeng/umenganalysis.es.min.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _system = _interopRequireDefault($app_require$("@app-module/system.storage"));
var _system2 = _interopRequireDefault($app_require$("@app-module/system.device"));
var _system3 = _interopRequireDefault($app_require$("@app-module/system.network"));
var _system4 = _interopRequireDefault($app_require$("@app-module/system.router"));
var _system5 = _interopRequireDefault($app_require$("@app-module/system.app"));
var _system6 = _interopRequireDefault($app_require$("@app-module/system.fetch"));
var _system7 = _interopRequireDefault($app_require$("@app-module/system.file"));
var _system8 = _interopRequireDefault($app_require$("@app-module/system.request"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function buildUniqueId(t) {
  const e = [];
  e.push(DeviceUtil.getAdvertisingId()), e.push(DeviceUtil.getAndroidId()), e.push(DeviceUtil.getOAID()), Promise.all(e).then(e => {
    const n = e[0];
    const o = e[1];
    const i = e[2];
    StorageUtil.putData(constants.MOBILE_ADVERTISING_ID, n);
    StorageUtil.putData(constants.MOBILE_ANDROID_ID, o);
    StorageUtil.putData(constants.MOBILE_OAID, i);
    uniqueidCache = o || n || i;
    StorageUtil.putData("umeng_uniqueid", uniqueidCache);
    t(uniqueidCache);
  });
}
function createCommonjsModule(t, e) {
  return e = {
    exports: {}
  }, t(e, e.exports), e.exports;
}
function MD5$1(t) {
  return MD5(t);
}
function encode(t) {
  return Base64_2.encode(t, !1);
}
function decode(t) {
  return Base64_2.decode(t);
}
function checkEmptyArgument(t) {
  return t.length && this.checkId(t[0]);
}
function checkId(t) {
  return t && "string" == typeof t;
}
function toStr(t) {
  let e = "";
  if (t) try {
    e = JSON.stringify(t);
  } catch (t) {}
  return e;
}
function stringToArray(t) {
  if (t) try {
    return JSON.parse(t);
  } catch (t) {}
  return [];
}
function toObject(t) {
  if (t) try {
    return JSON.parse(t);
  } catch (t) {}
  return null;
}
function checkAttrOrString(t) {
  return !(!t || "string" != typeof t && ("object" != typeof t || isArray(t)));
}
function isArray(t) {
  return "[object Array]" === {}.toString.call(t);
}
function isNotANumber(t) {
  return !isNaN(parseInt(t, 10));
}
function checkMD5(t, e) {
  try {
    return t === MD5(e);
  } catch (t) {
    return !1;
  }
}
function Looper() {}
function send(t) {
  _system3.default.getType({
    success(e) {
      "none" !== e.type && hasEnvelope(t, (e, n) => {
        if (e) {
          if (n) {
            const e = {
              md5Key: n,
              type: "second"
            };
            RequestHelper.getInstance().send(e, () => {
              StoreQueue.getInstance().handleMessage(null);
              realSend(t);
            });
          }
        } else realSend(t);
      });
    },
    fail() {}
  });
}
function hasEnvelope(t, e) {
  StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, n => {
    if (!n) return void e(!1, null);
    const o = UmengUtils.stringToArray(n);
    if (!o || 0 === o.length) return void e(!1, null);
    for (const n in o) if ({}.hasOwnProperty.call(o, n)) {
      const i = o[n];
      if (i) {
        const n = i.indexOf(constants.KEY_EVENT_PREFIX);
        if (0 === n && t === constants.REQUEST_TYPE_EVENT) return void e(!0, i);
        const o = i.indexOf(constants.KEY_HALF_SESSION_PREFIX);
        if (0 === o && t === constants.REQUEST_TYPE_SESSION_HALF) return void e(!0, i);
        const r = i.indexOf(constants.KEY_CLOSE_SESSION_PREFIX);
        if (0 === r && t === constants.REQUEST_TYPE_SESSION_CLOSE) return void e(!0, i);
      }
    }
    e(!1, null);
  });
}
function realSend(t) {
  if (RequestHelper.getInstance().paramsIsValid(t)) if (t === constants.REQUEST_TYPE_SESSION_HALF) {
    const e = RequestHelper.getInstance().buildSendContent(t, null),
      n = e.data;
    n.analytics && RequestHelper.getInstance().send(e, t => {
      t && -1 !== t.indexOf(constants.KEY_HALF_SESSION_PREFIX) && (Header.getInstance().setFirstSendFlag(), StorageUtil.putData(constants.APP_FIRST_OPEN_FLAG, "false"));
    });
  } else if (t === constants.REQUEST_TYPE_SESSION_CLOSE) {
    const e = RequestHelper.getInstance().buildSendContent(t, null);
    if (e && e.data) {
      const t = e.data;
      t.analytics && RequestHelper.getInstance().send(e);
    }
  } else t === constants.REQUEST_TYPE_EVENT && EventStoreQueue.getInstance().readEkvDatas(e => {
    if (!e || 0 === e.length) return;
    const n = RequestHelper.getInstance().buildSendContent(t, e);
    if (n) {
      const t = n.data;
      t.analytics && (RequestHelper.getInstance().send(n), EventController.getInstance().setSendTime());
    }
  });
}
function sendAll() {
  if (0 === time) {
    time = 10;
    const t = setInterval(() => {
      time -= 1;
      0 === time && clearInterval(t);
    }, 100);
    Header.getInstance().getHeader() ? (send(constants.REQUEST_TYPE_SESSION_HALF), send(constants.REQUEST_TYPE_SESSION_CLOSE), send(constants.REQUEST_TYPE_EVENT)) : setTimeout(sendAll, 100);
  }
}
function PageController() {
  this._pagelist = [], this._currentPage = {}, this.pageObject = {};
}
function UmengAnalysisLib() {
  this.pageController = new PageController();
}
function isInit() {
  return !!inited || (console.error("[app.ux] ==> onCreate not invoked init() method"), !1);
}
function sendDatas() {
  Header.getInstance().getHeader() ? (Request.send(constants.REQUEST_TYPE_SESSION_HALF), Request.send(constants.REQUEST_TYPE_SESSION_CLOSE), StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY, t => {
    t === constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE && Request.send(constants.REQUEST_TYPE_EVENT);
  })) : setTimeout(sendDatas, 100);
}
function SdkUpdater() {
  this.url = constants.SDK_UPDATE_SERVER_ADDRESS;
}
function Page(t) {
  if (t) {
    const e = t.onShow;
    t.onShow = function (...t) {
      try {
        UmengAnalysis.resume(this);
      } catch (t) {}
      if (e) return e.apply(this, t);
    };
    const n = t.onHide;
    t.onHide = function (...t) {
      try {
        UmengAnalysis.pause(this);
      } catch (t) {}
      if (n) return n.apply(this, t);
    };
  }
  return t;
}
const StorageUtil = {
    putData(t, e, n, o) {
      _system.default.set({
        key: t,
        value: e,
        success(t) {
          n && n(t);
        },
        fail(t, e) {
          o && o(t, e);
        }
      });
    },
    getData(t, e, n) {
      _system.default.get({
        key: t,
        success(t) {
          e && e(t);
        },
        fail(t, e) {
          n && n(t, e);
        }
      });
    },
    deleteData(t, e) {
      _system.default.delete({
        key: t,
        success() {
          e && e(!0);
        },
        fail() {
          e && e(!1);
        }
      });
    }
  },
  constants = {
    KEY_NO_SEND_REQUEST_KEYS: "umeng_key_no_send_request",
    SESSION_INTERVAL: 3e4,
    TEST_URL: "https://preulogs.umeng.com/unify_logs",
    RELEASE_URL: "https://ulogs.umeng.com/unify_logs",
    KEY_SESSION_PREFIX: "umeng_session_prefix_",
    KEY_EVENT_PREFIX: "umeng_event_prefix_",
    KEY_HALF_SESSION_PREFIX: "umeng_half_session_prefix_",
    KEY_CLOSE_SESSION_PREFIX: "umeng_close_session_prefix_",
    REQUEST_TYPE_SESSION_HALF: 1,
    REQUEST_TYPE_SESSION_CLOSE: 2,
    REQUEST_TYPE_EVENT: 3,
    IS_DEBUG: !1,
    SDK_VERSION: "2.0.3",
    APP_FIRST_OPEN_FLAG: "umeng_key_first_open_flag",
    MOBILE_ADVERTISING_ID: "umeng_mobile_advertising_id",
    MOBILE_ANDROID_ID: "umeng_android__id",
    MOBILE_OAID: "umeng_oaid",
    EVENT_SEND_MIN_INTERVAL: 90,
    EVENT_SEND_MAX_INTERVAL: 86400,
    EVENT_LAST_SEND_TIME: "umeng_ekv_last_send_time",
    EVENT_SEND_REPORT_POLICY: "event_send_report_policy",
    EVENT_SEND_REPORT_INTERVAL_TIME: "event_send_report_interval_time",
    EVENT_SEND_REPORT_POLICY_START_SEND_VALUE: "1",
    EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE: "6",
    DOWNLOAD_FILE_FIRST_CACHE: "umeng_sdk_update_firstCacheLevel",
    DOWNLOAD_FILE_SECOND_CACHE: "umeng_sdk_update_secondCacheLevel",
    SDK_UPDATE_SERVER_ADDRESS: "http://s.cnzz.com/sdk/quickapp",
    SDK_UPDATE_LOCAL_STORAGE_PATH: "internal://files/umengsdk/"
  };
let oaidCache = null,
  androididCache = null,
  idfaCache = null,
  uniqueidCache = null,
  deviceInfoCache = null;
const DeviceUtil = {
    getBaseInfo() {
      return new Promise(t => {
        if (deviceInfoCache) return void t(deviceInfoCache);
        _system2.default.getInfo({
          success(e) {
            deviceInfoCache = e, t(e);
          },
          fail() {
            t(null);
          }
        });
      });
    },
    getNetworkInfo(t) {
      _system3.default.getType({
        success(e) {
          t(e);
        }
      });
    },
    getAndroidId() {
      return new Promise(t => {
        if (androididCache) return void t(androididCache.userId);
        _system2.default.getUserId({
          success(e) {
            androididCache = e, t(e.userId);
          },
          fail() {
            t("");
          }
        });
      });
    },
    getAdvertisingId() {
      return new Promise(t => {
        if (idfaCache) return void t(idfaCache.advertisingId);
        _system2.default.getAdvertisingId({
          success(e) {
            idfaCache = e, t(e.advertisingId);
          },
          fail() {
            t("");
          }
        });
      });
    },
    getOAID() {
      return console.log("call getOAID"), new Promise(t => {
        if (null !== oaidCache) return void t(oaidCache.oaid);
        "function" != typeof _system2.default.getOAID || !1 === _system2.default.allowTrackOAID ? t("") : _system2.default.getOAID({
          success(e) {
            oaidCache = e, t(e.oaid);
          },
          fail() {
            t("");
          }
        });
      });
    },
    getUniqueId() {
      return new Promise(t => {
        uniqueidCache ? t(uniqueidCache) : buildUniqueId(t);
      });
    },
    getPageName() {
      try {
        const t = _system4.default.getState();
        return t.name;
      } catch (t) {}
    },
    getSystemBaseInfo(t, e) {
      if (deviceInfoCache) return void (t && t(deviceInfoCache));
      _system2.default.getInfo({
        success(e) {
          deviceInfoCache = e, t && t(e);
        },
        fail(t, n) {
          e && e(t, n);
        }
      });
    }
  },
  Log = {
    d(t) {},
    i(t) {
      try {
        userDebug && console.info(t);
      } catch (t) {}
    },
    e(t) {},
    w(t) {},
    v(t) {}
  };
var commonjsGlobal = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
  MD5 = createCommonjsModule(function (t) {
    !function (e) {
      function n(t, e) {
        var n = (65535 & t) + (65535 & e);
        return (t >> 16) + (e >> 16) + (n >> 16) << 16 | 65535 & n;
      }
      function o(t, e) {
        return t << e | t >>> 32 - e;
      }
      function i(t, e, i, r, s, c) {
        return n(o(n(n(e, t), n(r, c)), s), i);
      }
      function r(t, e, n, o, r, s, c) {
        return i(e & n | ~e & o, t, e, r, s, c);
      }
      function s(t, e, n, o, r, s, c) {
        return i(e & o | n & ~o, t, e, r, s, c);
      }
      function c(t, e, n, o, r, s, c) {
        return i(e ^ n ^ o, t, e, r, s, c);
      }
      function a(t, e, n, o, r, s, c) {
        return i(n ^ (e | ~o), t, e, r, s, c);
      }
      function u(t, e) {
        t[e >> 5] |= 128 << e % 32, t[14 + (e + 64 >>> 9 << 4)] = e;
        var o,
          i,
          u,
          f,
          l,
          _ = 1732584193,
          E = -271733879,
          g = -1732584194,
          d = 271733878;
        for (o = 0; o < t.length; o += 16) i = _, u = E, f = g, l = d, E = a(E = a(E = a(E = a(E = c(E = c(E = c(E = c(E = s(E = s(E = s(E = s(E = r(E = r(E = r(E = r(E, g = r(g, d = r(d, _ = r(_, E, g, d, t[o], 7, -680876936), E, g, t[o + 1], 12, -389564586), _, E, t[o + 2], 17, 606105819), d, _, t[o + 3], 22, -1044525330), g = r(g, d = r(d, _ = r(_, E, g, d, t[o + 4], 7, -176418897), E, g, t[o + 5], 12, 1200080426), _, E, t[o + 6], 17, -1473231341), d, _, t[o + 7], 22, -45705983), g = r(g, d = r(d, _ = r(_, E, g, d, t[o + 8], 7, 1770035416), E, g, t[o + 9], 12, -1958414417), _, E, t[o + 10], 17, -42063), d, _, t[o + 11], 22, -1990404162), g = r(g, d = r(d, _ = r(_, E, g, d, t[o + 12], 7, 1804603682), E, g, t[o + 13], 12, -40341101), _, E, t[o + 14], 17, -1502002290), d, _, t[o + 15], 22, 1236535329), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 1], 5, -165796510), E, g, t[o + 6], 9, -1069501632), _, E, t[o + 11], 14, 643717713), d, _, t[o], 20, -373897302), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 5], 5, -701558691), E, g, t[o + 10], 9, 38016083), _, E, t[o + 15], 14, -660478335), d, _, t[o + 4], 20, -405537848), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 9], 5, 568446438), E, g, t[o + 14], 9, -1019803690), _, E, t[o + 3], 14, -187363961), d, _, t[o + 8], 20, 1163531501), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 13], 5, -1444681467), E, g, t[o + 2], 9, -51403784), _, E, t[o + 7], 14, 1735328473), d, _, t[o + 12], 20, -1926607734), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 5], 4, -378558), E, g, t[o + 8], 11, -2022574463), _, E, t[o + 11], 16, 1839030562), d, _, t[o + 14], 23, -35309556), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 1], 4, -1530992060), E, g, t[o + 4], 11, 1272893353), _, E, t[o + 7], 16, -155497632), d, _, t[o + 10], 23, -1094730640), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 13], 4, 681279174), E, g, t[o], 11, -358537222), _, E, t[o + 3], 16, -722521979), d, _, t[o + 6], 23, 76029189), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 9], 4, -640364487), E, g, t[o + 12], 11, -421815835), _, E, t[o + 15], 16, 530742520), d, _, t[o + 2], 23, -995338651), g = a(g, d = a(d, _ = a(_, E, g, d, t[o], 6, -198630844), E, g, t[o + 7], 10, 1126891415), _, E, t[o + 14], 15, -1416354905), d, _, t[o + 5], 21, -57434055), g = a(g, d = a(d, _ = a(_, E, g, d, t[o + 12], 6, 1700485571), E, g, t[o + 3], 10, -1894986606), _, E, t[o + 10], 15, -1051523), d, _, t[o + 1], 21, -2054922799), g = a(g, d = a(d, _ = a(_, E, g, d, t[o + 8], 6, 1873313359), E, g, t[o + 15], 10, -30611744), _, E, t[o + 6], 15, -1560198380), d, _, t[o + 13], 21, 1309151649), g = a(g, d = a(d, _ = a(_, E, g, d, t[o + 4], 6, -145523070), E, g, t[o + 11], 10, -1120210379), _, E, t[o + 2], 15, 718787259), d, _, t[o + 9], 21, -343485551), _ = n(_, i), E = n(E, u), g = n(g, f), d = n(d, l);
        return [_, E, g, d];
      }
      function f(t) {
        var e,
          n = "",
          o = 32 * t.length;
        for (e = 0; e < o; e += 8) n += String.fromCharCode(t[e >> 5] >>> e % 32 & 255);
        return n;
      }
      function l(t) {
        var e,
          n = [];
        for (n[(t.length >> 2) - 1] = void 0, e = 0; e < n.length; e += 1) n[e] = 0;
        var o = 8 * t.length;
        for (e = 0; e < o; e += 8) n[e >> 5] |= (255 & t.charCodeAt(e / 8)) << e % 32;
        return n;
      }
      function _(t) {
        return f(u(l(t), 8 * t.length));
      }
      function E(t, e) {
        var n,
          o,
          i = l(t),
          r = [],
          s = [];
        for (r[15] = s[15] = void 0, i.length > 16 && (i = u(i, 8 * t.length)), n = 0; n < 16; n += 1) r[n] = 909522486 ^ i[n], s[n] = 1549556828 ^ i[n];
        return o = u(r.concat(l(e)), 512 + 8 * e.length), f(u(s.concat(o), 640));
      }
      function g(t) {
        var e,
          n,
          o = "";
        for (n = 0; n < t.length; n += 1) e = t.charCodeAt(n), o += "0123456789abcdef".charAt(e >>> 4 & 15) + "0123456789abcdef".charAt(15 & e);
        return o;
      }
      function d(t) {
        return unescape(encodeURIComponent(t));
      }
      function S(t) {
        return _(d(t));
      }
      function h(t) {
        return g(S(t));
      }
      function p(t, e) {
        return E(d(t), d(e));
      }
      function U(t, e) {
        return g(p(t, e));
      }
      function N(t, e, n) {
        return e ? n ? p(e, t) : U(e, t) : n ? S(t) : h(t);
      }
      t.exports ? t.exports = N : e.md5 = N;
    }(commonjsGlobal);
  }),
  Base64_1 = createCommonjsModule(function (module, exports) {
    !function (global, factory) {
      module.exports = function (global) {
        var _Base64 = global.Base64,
          version = "2.4.8",
          buffer;
        if (module.exports) try {
          buffer = eval("require('buffer').Buffer");
        } catch (t) {
          buffer = void 0;
        }
        var b64chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
          b64tab = function (t) {
            for (var e = {}, n = 0, o = t.length; n < o; n++) e[t.charAt(n)] = n;
            return e;
          }(b64chars),
          fromCharCode = String.fromCharCode,
          cb_utob = function (t) {
            if (t.length < 2) return (e = t.charCodeAt(0)) < 128 ? t : e < 2048 ? fromCharCode(192 | e >>> 6) + fromCharCode(128 | 63 & e) : fromCharCode(224 | e >>> 12 & 15) + fromCharCode(128 | e >>> 6 & 63) + fromCharCode(128 | 63 & e);
            var e = 65536 + 1024 * (t.charCodeAt(0) - 55296) + (t.charCodeAt(1) - 56320);
            return fromCharCode(240 | e >>> 18 & 7) + fromCharCode(128 | e >>> 12 & 63) + fromCharCode(128 | e >>> 6 & 63) + fromCharCode(128 | 63 & e);
          },
          re_utob = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,
          utob = function (t) {
            return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g, cb_utob);
          },
          cb_encode = function (t) {
            var e = [0, 2, 1][t.length % 3],
              n = t.charCodeAt(0) << 16 | (t.length > 1 ? t.charCodeAt(1) : 0) << 8 | (t.length > 2 ? t.charCodeAt(2) : 0);
            return [b64chars.charAt(n >>> 18), b64chars.charAt(n >>> 12 & 63), e >= 2 ? "=" : b64chars.charAt(n >>> 6 & 63), e >= 1 ? "=" : b64chars.charAt(63 & n)].join("");
          },
          btoa = global.btoa ? function (t) {
            return global.btoa(t);
          } : function (t) {
            return t.replace(/[\s\S]{1,3}/g, cb_encode);
          },
          _encode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (t) {
            return (t.constructor === buffer.constructor ? t : buffer.from(t)).toString("base64");
          } : function (t) {
            return (t.constructor === buffer.constructor ? t : new buffer(t)).toString("base64");
          } : function (t) {
            return btoa(utob(t));
          },
          encode = function (t, e) {
            return e ? _encode(String(t)).replace(/[+\/]/g, function (t) {
              return "+" == t ? "-" : "_";
            }).replace(/=/g, "") : _encode(String(t));
          },
          encodeURI = function (t) {
            return encode(t, !0);
          },
          re_btou = new RegExp(["[-][-]", "[-][-]{2}", "[-][-]{3}"].join("|"), "g"),
          cb_btou = function (t) {
            switch (t.length) {
              case 4:
                var e = ((7 & t.charCodeAt(0)) << 18 | (63 & t.charCodeAt(1)) << 12 | (63 & t.charCodeAt(2)) << 6 | 63 & t.charCodeAt(3)) - 65536;
                return fromCharCode(55296 + (e >>> 10)) + fromCharCode(56320 + (1023 & e));
              case 3:
                return fromCharCode((15 & t.charCodeAt(0)) << 12 | (63 & t.charCodeAt(1)) << 6 | 63 & t.charCodeAt(2));
              default:
                return fromCharCode((31 & t.charCodeAt(0)) << 6 | 63 & t.charCodeAt(1));
            }
          },
          btou = function (t) {
            return t.replace(re_btou, cb_btou);
          },
          cb_decode = function (t) {
            var e = t.length,
              n = e % 4,
              o = (e > 0 ? b64tab[t.charAt(0)] << 18 : 0) | (e > 1 ? b64tab[t.charAt(1)] << 12 : 0) | (e > 2 ? b64tab[t.charAt(2)] << 6 : 0) | (e > 3 ? b64tab[t.charAt(3)] : 0),
              i = [fromCharCode(o >>> 16), fromCharCode(o >>> 8 & 255), fromCharCode(255 & o)];
            return i.length -= [0, 0, 2, 1][n], i.join("");
          },
          atob = global.atob ? function (t) {
            return global.atob(t);
          } : function (t) {
            return t.replace(/[\s\S]{1,4}/g, cb_decode);
          },
          _decode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (t) {
            return (t.constructor === buffer.constructor ? t : buffer.from(t, "base64")).toString();
          } : function (t) {
            return (t.constructor === buffer.constructor ? t : new buffer(t, "base64")).toString();
          } : function (t) {
            return btou(atob(t));
          },
          decode = function (t) {
            return _decode(String(t).replace(/[-_]/g, function (t) {
              return "-" == t ? "+" : "/";
            }).replace(/[^A-Za-z0-9\+\/]/g, ""));
          },
          noConflict = function () {
            var t = global.Base64;
            return global.Base64 = _Base64, t;
          };
        if (global.Base64 = {
          VERSION: "2.4.8",
          atob: atob,
          btoa: btoa,
          fromBase64: decode,
          toBase64: encode,
          utob: utob,
          encode: encode,
          encodeURI: encodeURI,
          btou: btou,
          decode: decode,
          noConflict: noConflict,
          __buffer__: buffer
        }, "function" == typeof Object.defineProperty) {
          var noEnum = function (t) {
            return {
              value: t,
              enumerable: !1,
              writable: !0,
              configurable: !0
            };
          };
          global.Base64.extendString = function () {
            Object.defineProperty(String.prototype, "fromBase64", noEnum(function () {
              return decode(this);
            })), Object.defineProperty(String.prototype, "toBase64", noEnum(function (t) {
              return encode(this, t);
            })), Object.defineProperty(String.prototype, "toBase64URI", noEnum(function () {
              return encode(this, !0);
            }));
          };
        }
        return global.Meteor && (Base64 = global.Base64), module.exports && (module.exports.Base64 = global.Base64), {
          Base64: global.Base64
        };
      }(global);
    }("undefined" != typeof self ? self : "undefined" != typeof window ? window : commonjsGlobal);
  }),
  Base64_2 = Base64_1.Base64,
  UmengUtils = {
    MD5: MD5$1,
    encode: encode,
    decode: decode,
    checkEmptyArgument: checkEmptyArgument,
    checkId: checkId,
    stringToArray: stringToArray,
    toStr: toStr,
    toObject: toObject,
    checkAttrOrString: checkAttrOrString,
    isNotANumber: isNotANumber,
    checkMD5: checkMD5
  };
const $JSON_UMENG_SESSIONS$ = "json_umeng_sessions",
  $JSON_UMENG_HALF_SESSIONS$ = "json_umeng_half_session",
  $JSON_UMENG_CURRENT_SESSION$ = "json_umeng_current_session",
  $JSON_UMENG_PAGE_END_TIME$ = "json_umeng_page_end_time",
  Session = function () {
    function t() {
      return {
        getCurrentSessionId() {
          return f;
        },
        getCurrentSession() {
          return a;
        },
        getSessions() {
          return l;
        },
        init(t) {
          this.appkey = t, o();
        },
        endSession() {
          a && (c = Date.now(), a.end_time = c, StorageUtil.putData($JSON_UMENG_CURRENT_SESSION$, UmengUtils.toStr(a)), StorageUtil.putData($JSON_UMENG_PAGE_END_TIME$, c));
        },
        clearSessions() {
          StorageUtil.deleteData($JSON_UMENG_SESSIONS$), l.splice(0, l.length), l = [];
        },
        setOnSessionListener(t) {
          this.sessionListener = t;
        },
        getHalfSessions() {
          return _;
        },
        clearHalfSession() {
          StorageUtil.deleteData($JSON_UMENG_HALF_SESSIONS$), _.splice(0, _.length), _ = [];
        }
      };
    }
    function e(t, e) {
      const n = Date.now();
      DeviceUtil.getUniqueId().then(t => {
        const o = UmengUtils.MD5(`${n}:::${Session.getInstance().appkey}:::${t}`);
        e(o);
      });
    }
    function n(t) {
      const e = {};
      return e.id = t, e.start_time = Date.now(), e;
    }
    function o() {
      const t = Date.now();
      a ? c && t - c > constants.SESSION_INTERVAL && (i(c), r(a)) : StorageUtil.getData($JSON_UMENG_CURRENT_SESSION$, e => {
        e && (a = UmengUtils.toObject(e)) ? StorageUtil.getData($JSON_UMENG_PAGE_END_TIME$, e => {
          e && t - e > constants.SESSION_INTERVAL ? (i(e), r(a)) : f = a.id;
        }) : r(null);
      });
    }
    function i(t) {
      try {
        a.end_time = parseInt(t, 10);
      } catch (e) {
        a.end_time = t;
      }
      const e = t - a.start_time;
      a.duration = e;
    }
    function r(t) {
      const o = t ? t.id : "",
        i = Session.getInstance().sessionListener(o);
      e(o, e => {
        a = n(e);
        StorageUtil.getData($JSON_UMENG_SESSIONS$, n => {
          l = UmengUtils.stringToArray(n);
          t ? i.pages(n => {
            n && n.length > 0 && (t.pages = n, t.$page_num = n.length);
            l.push(t);
            StorageUtil.putData($JSON_UMENG_SESSIONS$, UmengUtils.toStr(l));
            s(i, e);
          }) : s(i, e);
        });
        StorageUtil.putData($JSON_UMENG_CURRENT_SESSION$, UmengUtils.toStr(a));
        f = e;
      });
    }
    function s(t, e) {
      StorageUtil.getData($JSON_UMENG_HALF_SESSIONS$, n => {
        _ = UmengUtils.stringToArray(n);
        a && (_.push(JSON.parse(JSON.stringify(a))), StorageUtil.putData($JSON_UMENG_HALF_SESSIONS$, UmengUtils.toStr(_)), t.generateSessionAfterHandler(e));
      });
    }
    let c,
      a,
      u = null,
      f = "",
      l = [],
      _ = [];
    return {
      getInstance() {
        return u || (u = t()), u;
      }
    };
  }(),
  $JSON_UMENG_HEADER$ = "json_umeng_header",
  $UMENG_KEY_IMPRINT$ = "umeng_key_imprint",
  MOBILE_NETWORK_2G = "2g",
  MOBILE_NETWORK_3G = "3g",
  MOBILE_NETWORK_4G = "4g",
  MOBILE_NETWORK_NONE = "none",
  BLANK_SPACE = " ",
  UMENG_ADVERTISTING_ID = "idfa",
  UMENG_ANDROID_ID = "android_id",
  UMENG_OAID = "oaid",
  Header = function () {
    function t() {
      return {
        init(t) {
          this.appkey = t, this.appInfo = _system5.default.getInfo(), e(t => {
            this.header = t;
            StorageUtil.putData($JSON_UMENG_HEADER$, UmengUtils.toStr(t));
          });
        },
        getHeader(t) {
          switch (t) {
            case constants.REQUEST_TYPE_SESSION_HALF:
              this.header.st = "1", !0 === s && delete this.header.atm;
              break;
            case constants.REQUEST_TYPE_SESSION_CLOSE:
            case constants.REQUEST_TYPE_EVENT:
              delete this.header.st, delete this.header.atm;
          }
          return this.header;
        },
        addHeaderAttr(t, e) {
          this.header && (this.header[t] = e);
        },
        getHeaderAttr(t) {
          return this.header && {}.hasOwnProperty.call(this.header, t) ? this.header[t] : null;
        },
        getPackageName() {
          try {
            return this.appInfo.packageName;
          } catch (t) {}
          return "";
        },
        setFirstSendFlag() {
          s = !0;
        }
      };
    }
    function e(t) {
      DeviceUtil.getBaseInfo().then(e => {
        DeviceUtil.getUniqueId().then(r => {
          DeviceUtil.getNetworkInfo(s => {
            let {
              type: type
            } = s;
            type === MOBILE_NETWORK_NONE && (type = "unknown");
            const c = i(e, r, type);
            StorageUtil.getData($UMENG_KEY_IMPRINT$, e => {
              0 !== e.length && (c.imprint = e);
              StorageUtil.getData(constants.APP_FIRST_OPEN_FLAG, e => {
                const i = "true" === e;
                let r = new Date();
                i && (r = new Date(), c.atm = "1");
                console.log(r);
                StorageUtil.getData(constants.MOBILE_ADVERTISING_ID, e => {
                  if (e) {
                    const t = n(e);
                    if (t) {
                      const e = o(UMENG_ADVERTISTING_ID, t);
                      c.id_tracking = e;
                    }
                  }
                  StorageUtil.getData(constants.MOBILE_ANDROID_ID, e => {
                    if (e) {
                      const t = n(e);
                      if (t) if (c.id_tracking && c.id_tracking.snapshots) c.id_tracking.snapshots[UMENG_ANDROID_ID] = t;else {
                        const e = o(UMENG_ANDROID_ID, t);
                        c.id_tracking = e;
                      }
                    }
                    StorageUtil.getData(constants.MOBILE_OAID, e => {
                      if (e) {
                        const t = n(e);
                        if (t) if (c.id_tracking && c.id_tracking.snapshots) c.id_tracking.snapshots[UMENG_OAID] = t;else {
                          const e = o(UMENG_OAID, t);
                          c.id_tracking = e;
                        }
                      }
                      t(c);
                    });
                  });
                });
              });
            });
          });
        });
      });
    }
    function n(t) {
      if (t) {
        const e = {
          identity: t,
          version: 1,
          ts: Date.now()
        };
        return e;
      }
    }
    function o(t, e) {
      const n = {
        snapshots: {}
      };
      return n.snapshots[t] = e, n;
    }
    function i(t, e, n) {
      let o = null;
      if (t) {
        const n = t.screenWidth,
          i = t.screenHeight,
          s = n > i ? `${n}*${i}` : `${i}*${n}`,
          {
            appInfo: appInfo
          } = r,
          {
            model: model,
            brand: brand
          } = t,
          c = brand.toLowerCase();
        o = {
          app_version: appInfo.versionName,
          version_code: appInfo.versionCode,
          app_source_extra: appInfo.source.extra,
          device_type: "Phone",
          package_name: appInfo.packageName,
          sdk_type: "Android",
          os: "Android",
          sdk_version: constants.SDK_VERSION,
          appkey: r.appkey,
          device_model: model.toLowerCase().indexOf(c) > -1 ? model : c + BLANK_SPACE + model,
          device_brand: brand,
          channel: c,
          device_manufacturer: t.manufacturer,
          device_manuid: model.toLowerCase().indexOf(c) > -1 ? model : c + BLANK_SPACE + model,
          device_name: t.product.toLowerCase().indexOf(c) > -1 ? t.product : c + BLANK_SPACE + t.product,
          os_version: t.osVersionName,
          resolution: s,
          language: t.language,
          display_name: t.name,
          idmd5: UmengUtils.MD5(e),
          platform: "quickapp",
          pro_ver: "1"
        };
      } else o = {
        app_version: r.appInfo.versionName,
        version_code: r.appInfo.versionCode,
        device_type: "Phone",
        package_name: r.appInfo.packageName,
        sdk_type: "Android",
        os: "Android",
        sdk_version: constants.SDK_VERSION,
        appkey: r.appkey,
        idmd5: UmengUtils.MD5(e),
        platform: "quickapp",
        pro_ver: "1"
      };
      switch (n) {
        case MOBILE_NETWORK_4G:
          o.access_subtype = "LTE", o.access = "2G/3G";
          break;
        case MOBILE_NETWORK_3G:
          o.access_subtype = "CDMA", o.access = "2G/3G";
          break;
        case MOBILE_NETWORK_2G:
          o.access_subtype = "GRPS", o.access = "2G/3G";
          break;
        default:
          o.access = n, delete o.access_subtype;
      }
      return o;
    }
    let r = null,
      s = !1;
    return {
      getInstance() {
        return r || (r = t()), r;
      }
    };
  }();
Looper.prototype = {
  prepare(t) {
    this.queueObject = t, this.isRunning = !1, this.isForceStop = !1;
  },
  loop() {
    if (!this.isForceStop && this.queueObject && !this.isRunning) for (this.isRunning = !0; this.isRunning;) {
      if (!this.queueObject.isCanPop()) {
        this.isRunning = !1;
        break;
      }
      try {
        this.queueObject.dispatchMessage();
      } catch (t) {}
    }
  },
  wait() {
    this.isRunning = !1;
  },
  forceStop() {
    this.isForceStop = !0;
  },
  cancelForceStop() {
    this.isForceStop = !1, this.loop();
  }
};
const RequestQueue = function () {
    function t(t) {
      return !!t && (f.unshift(t), u.loop(), !0);
    }
    function e() {
      if (f.length > 0) return f.pop();
      const t = l.length;
      return t > 0 ? (1 === t && RequestHelper.getInstance().clearNoSendDatas(), l.pop()) : null;
    }
    function n(t, e) {
      const n = setTimeout(() => {
          o(t);
        }, 3e4),
        i = {
          key: t,
          timeOutFun: n,
          isExe: !1
        };
      g.push(i), e(t => {
        o(t);
      });
    }
    function o(t) {
      for (let e = g.length - 1; e >= 0; e--) {
        const n = g[e];
        if (n.key === t) {
          if (!n.isExe) {
            n.isExe = !0;
            const t = n.timeOutFun;
            t && clearTimeout(t), i(), g.splice(e, 1);
          }
          break;
        }
      }
    }
    function i() {
      (E -= 1) <= _ && u.loop();
    }
    function r(t) {
      const e = g.length,
        n = t.md5Key;
      for (let t = e - 1; t >= 0; t--) {
        const e = g[t];
        if (e.key === n) return i(), !0;
      }
      return !1;
    }
    function s() {
      RequestHelper.getInstance().onNoSendDatasListener(t => {
        if (!t || 0 === t.length) return;
        for (const e in t) if ({}.hasOwnProperty.call(t, e)) {
          const n = {
            md5Key: t[e],
            type: "second"
          };
          l.push(n);
        }
        u.loop();
      });
    }
    function c() {
      return s(), {
        handleMessage(e, n) {
          e && "second" === e.type && i(), e && e.data && (e.executeFunction = n, t(e));
        },
        dispatchMessage() {
          if (E > _) return void u.wait();
          E += 1;
          const t = e();
          r(t) || (t.data ? n(t.md5Key, t.executeFunction) : RequestHelper.getInstance().send(t), this.isCanPop() || u.wait());
        },
        isCanPop() {
          return f.length > 0 || l.length > 0;
        }
      };
    }
    let a, u;
    const f = [],
      l = [],
      _ = 3;
    let E = 1;
    const g = [];
    return {
      getInstance() {
        return a || (a = c(), (u = new Looper()).prepare(a)), a;
      }
    };
  }(),
  StoreQueue = function () {
    function t(t) {
      if (!t) return !1;
      const e = {
        key: t,
        type: _
      };
      return u.unshift(e), a.loop(), !0;
    }
    function e() {
      if (u.length > 0) return u.pop();
      const t = f.length;
      if (t > 0) {
        const e = f.pop();
        return 0 === t && n(), e;
      }
      return n(), null;
    }
    function n() {
      g || (g = !0, StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, t => {
        g = !1;
        if (!t) return;
        const e = UmengUtils.stringToArray(t);
        const n = t => e => {
          e && '""' !== e || (e = {
            key: t,
            type: E
          }, f.push(e));
          f.length > 0 && a.loop();
        };
        for (const t in e) if ({}.hasOwnProperty.call(e, t)) {
          const o = e[t];
          StorageUtil.getData(o, n(o));
        }
      }, () => {
        g = !1;
      }));
    }
    function o(t) {
      StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, e => {
        e = e ? UmengUtils.toObject(e) : [];
        e.push(t);
        StorageUtil.putData(constants.KEY_NO_SEND_REQUEST_KEYS, UmengUtils.toStr(e), () => {
          r(t);
        }, () => {
          r(t);
        });
      }, () => {
        r(t);
      });
    }
    function i(t) {
      StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, e => {
        if (!e) return void r(t);
        e = UmengUtils.stringToArray(e);
        for (const n in e) if ({}.hasOwnProperty.call(e, n)) {
          const o = e[n];
          if (o === t) {
            e.splice(n, 1);
            break;
          }
        }
        StorageUtil.putData(constants.KEY_NO_SEND_REQUEST_KEYS, UmengUtils.toStr(e), () => {
          r(t);
        }, () => {
          r(t);
        });
      }, () => {
        r(t);
      });
    }
    function r() {
      (d -= 1) <= l && a.loop();
    }
    function s() {
      return n(), {
        handleMessage(e) {
          e ? t(e) : n();
        },
        dispatchMessage() {
          if (d > l) return void a.wait();
          d += 1;
          const t = e();
          if (!t || null === t) return void r();
          const {
            key: key
          } = t;
          t.type === _ ? o(key) : i(key), this.isCanPop() || a.wait();
        },
        isCanPop() {
          return u.length > 0 || f.length > 0;
        }
      };
    }
    let c, a;
    const u = [],
      f = [],
      l = 1,
      _ = "write",
      E = "delete";
    let g = !1,
      d = 1;
    return {
      getInstance() {
        return c || (c = s(), (a = new Looper()).prepare(c)), c;
      }
    };
  }(),
  $UMENG_KEY_IMPRINT$$1 = "umeng_key_imprint";
let noSendRequestKeys = [];
const RequestHelper = function () {
    function t() {
      const t = [].concat(Session.getInstance().getSessions());
      if (t && 0 !== t.length) return Session.getInstance().clearSessions(), t;
    }
    function e() {
      const t = [].concat(Session.getInstance().getHalfSessions());
      if (t && 0 !== t.length) return Session.getInstance().clearHalfSession(), t;
    }
    function n(t) {
      StorageUtil.deleteData(t, t => {
        t && StoreQueue.getInstance().handleMessage(null);
      });
    }
    function o(t, e, o, r) {
      if (!t || '""' === t) return void (o && o(e));
      const s = constants.RELEASE_URL;
      _system6.default.fetch({
        url: s,
        method: "POST",
        data: UmengUtils.encode(t),
        header: {
          "Content-Type": "quickapp/json",
          "Msg-Type": "quickapp/json"
        },
        success(t) {
          if (200 === t.code) {
            Log.i("*** umeng_sdk *** request send success"), n(e), r && r(e);
            try {
              const e = UmengUtils.toObject(t.data);
              i(e.imprint);
            } catch (t) {}
          } else 413 === t.code && (Log.i("*** umeng_sdk *** request is to large!"), n(e), r && r(e));
        },
        fail: function (t, e) {
          Log.i("*** umeng_sdk *** request error, please check your permission! ");
        },
        complete() {
          o && o(e);
        }
      });
    }
    function i(t) {
      try {
        if (t) {
          StorageUtil.putData($UMENG_KEY_IMPRINT$$1, t), Header.getInstance().addHeaderAttr("imprint", t);
          const e = UmengUtils.toObject(UmengUtils.decode(t)),
            n = e.report_policy;
          if (n && UmengUtils.isNotANumber(n)) {
            if (StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, n), n === constants.EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE) {
              let t = e.report_interval;
              t && UmengUtils.isNotANumber(t) ? (t <= constants.EVENT_SEND_MIN_INTERVAL ? t = constants.EVENT_SEND_MIN_INTERVAL : t > constants.EVENT_SEND_MAX_INTERVAL && (t = constants.EVENT_SEND_MAX_INTERVAL), StorageUtil.putData(constants.EVENT_SEND_REPORT_INTERVAL_TIME, t)) : StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
            }
          } else StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
        }
      } catch (t) {}
    }
    function r(t, e) {
      const n = UmengUtils.toStr(e);
      let o = null;
      switch (t) {
        case constants.REQUEST_TYPE_SESSION_HALF:
          o = constants.KEY_HALF_SESSION_PREFIX;
          break;
        case constants.REQUEST_TYPE_SESSION_CLOSE:
          o = constants.KEY_CLOSE_SESSION_PREFIX;
          break;
        case constants.REQUEST_TYPE_EVENT:
          o = constants.KEY_EVENT_PREFIX;
      }
      const i = o + UmengUtils.MD5(n);
      return StorageUtil.putData(i, n), StoreQueue.getInstance().handleMessage(i), 0 === noSendRequestKeys.length && StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, t => {
        if (!t) return;
        const e = UmengUtils.stringToArray(t);
        0 === noSendRequestKeys.length && (noSendRequestKeys = e, a && a(noSendRequestKeys));
      }), i;
    }
    function s() {
      return {
        paramsIsValid(t) {
          return -1 !== [constants.REQUEST_TYPE_SESSION_HALF, constants.REQUEST_TYPE_SESSION_CLOSE, constants.REQUEST_TYPE_EVENT].indexOf(t);
        },
        buildSendContent(n, o) {
          if (Header.getInstance().getHeader(n)) {
            const i = {
              header: Header.getInstance().getHeader(n),
              analytics: null
            };
            switch (n) {
              case constants.REQUEST_TYPE_SESSION_HALF:
                {
                  const t = e();
                  if (!t) break;
                  i.analytics = {
                    sessions: t
                  };
                  break;
                }
              case constants.REQUEST_TYPE_SESSION_CLOSE:
                {
                  const e = t();
                  if (!e) break;
                  i.analytics = {
                    sessions: e
                  };
                  break;
                }
              case constants.REQUEST_TYPE_EVENT:
                o && o.length > 0 && (i.analytics = {
                  ekv: o
                });
            }
            let s = "";
            return i.analytics && (s = r(n, i)), {
              data: i,
              md5Key: s
            };
          }
        },
        send(t, e) {
          const n = t.md5Key;
          n && ("second" === t.type ? StorageUtil.getData(n, n => {
            t.data = UmengUtils.toObject(n);
            t.data || e && e();
            RequestQueue.getInstance().handleMessage(t, n => {
              o(UmengUtils.toStr(t.data), t.md5Key, n, e);
            });
          }) : RequestQueue.getInstance().handleMessage(t, n => {
            o(UmengUtils.toStr(t.data), t.md5Key, n, e);
          }));
        },
        getNoSendRequestKeys() {
          return noSendRequestKeys;
        },
        onNoSendDatasListener(t) {
          a = t;
        },
        clearNoSendDatas() {
          noSendRequestKeys.splice(0, noSendRequestKeys.length), noSendRequestKeys = [];
        }
      };
    }
    let c, a;
    return {
      getInstance() {
        return c || (c = s()), c;
      }
    };
  }(),
  EventStoreQueue = function () {
    function t(t) {
      if (t) {
        if (!Session.getInstance().getCurrentSessionId()) return void U.unshift(t);
        p.unshift(t), p.length >= _ && g.loop();
      }
    }
    function e() {
      return p.length < _ ? null : p.splice(0, _);
    }
    function n() {
      h && h.length > 0 && s(t => {
        for (const e in h) if ({}.hasOwnProperty.call(h, e)) try {
          h[e](t);
        } catch (t) {}
      }), (d -= 1) < 1 && (d = 1), d <= E && g.loop();
    }
    function o(t, e) {
      StorageUtil.putData(u, e, () => {
        StorageUtil.putData(f, UmengUtils.toStr(t), () => {
          n();
        }, () => {
          n();
        });
      }, () => {
        n();
      });
    }
    function i(t, e) {
      t && (h[t] = e);
    }
    function r(t) {
      t && delete h[t];
    }
    function s(t) {
      StorageUtil.getData(f, e => {
        StorageUtil.deleteData(f, () => {
          const n = c(UmengUtils.stringToArray(e), p);
          p.splice(0, p.length);
          t(n);
          g.cancelForceStop();
        });
      }, () => {
        t([]);
        g.cancelForceStop();
      });
    }
    function c(t, e) {
      const n = Session.getInstance().getCurrentSessionId();
      let o,
        i = -1;
      for (const e in t) if ({}.hasOwnProperty.call(t, e)) {
        const r = t[e];
        if (o = r[n]) {
          i = e;
          break;
        }
      }
      return -1 === i && (o = []), (o = o.concat(e)) && 0 !== o.length ? (-1 === i ? t.push({
        [n]: o
      }) : t[i][n] = o, t) : t;
    }
    function a() {
      return {
        saveEkvData(e) {
          t(e), Log.d(`[saveEkvData] data is ${UmengUtils.toStr(e)}`);
        },
        readEkvDatas(t) {
          t && (g.forceStop(), d <= E ? s(e => {
            t(e);
            g.cancelForceStop();
          }) : i("readEkvDatas", e => {
            t(e);
            r("readEkvDatas");
            g.cancelForceStop();
          }));
        },
        handlerNoSessionEkvDatas() {
          if (U && U.length > 0) {
            Log.d(`no sessionId event is ${JSON.stringify(U)}`);
            for (const t in U) ({}).hasOwnProperty.call(U, t) && this.saveEkvData(U[t]);
            U.splice(0, U.length);
          }
        },
        quitHandler() {
          0 !== p.length && (g.forceStop(), d <= E ? StorageUtil.getData(f, t => {
            const e = c(UmengUtils.stringToArray(t), p);
            StorageUtil.putData(f, UmengUtils.toStr(e));
            p.splice(0, p.length);
            g.cancelForceStop();
          }, () => {
            g.cancelForceStop();
          }) : i("quitHandler", t => {
            const e = UmengUtils.toStr(c(t, p));
            StorageUtil.putData(f, e);
            p.splice(0, p.length);
            r("quitHandler");
            g.cancelForceStop();
          }));
        },
        dispatchMessage() {
          if (d > E) return void g.wait();
          d += 1;
          const t = e();
          if (!t || 0 === t.length) return void n();
          StorageUtil.getData(u, e => {
            e || (e = 0);
            e >= l + t.length ? n() : StorageUtil.getData(f, n => {
              const i = c(UmengUtils.stringToArray(n), t);
              o(i, Number(e) + Number(t.length));
            }, () => {
              n();
            });
          }, () => {
            n();
          });
        },
        isCanPop() {
          return p.length >= _;
        }
      };
    }
    const u = "umeng_ekv_count_key",
      f = "umeng_key_ekvs",
      l = 1e4,
      _ = 5,
      E = 1;
    let g,
      d = 1,
      S = null;
    const h = {},
      p = [],
      U = [];
    return {
      getInstance() {
        return S || (S = new a(), (g = new Looper()).prepare(S)), S;
      }
    };
  }(),
  EventController = function () {
    function t(t, e) {
      const n = {
        id: t,
        ts: Date.now()
      };
      switch (typeof e) {
        case "string":
          n[t] = e;
          break;
        case "object":
          for (const t in e) ({}).hasOwnProperty.call(e, t) && (n[t] = e[t]);
      }
      return n;
    }
    function e() {
      StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY, t => {
        t === constants.EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE && StorageUtil.getData(constants.EVENT_SEND_REPORT_INTERVAL_TIME, t => {
          StorageUtil.getData(constants.EVENT_LAST_SEND_TIME, e => {
            if (t) {
              const n = Date.now();
              e && n - e > 1e3 * t && Request.sendAll();
            } else StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
          });
        });
      });
    }
    function n() {
      return {
        addEvent(n, o) {
          const i = t(n, o);
          EventStoreQueue.getInstance().saveEkvData(i), e();
        },
        handlerNoSessionEkvDatas() {
          EventStoreQueue.getInstance().handlerNoSessionEkvDatas();
        },
        quitHandler() {
          EventStoreQueue.getInstance().quitHandler();
        },
        setSendTime() {
          StorageUtil.putData(constants.EVENT_LAST_SEND_TIME, Date.now());
        }
      };
    }
    let o;
    return {
      getInstance() {
        return o || (o = n()), o;
      }
    };
  }();
let time = 0;
var Request = {
  send: send,
  sendAll: sendAll
};
const KEY_PRE_PAGE = "umeng_page_";
PageController.prototype = {
  addCurrentPage(t) {
    this._currentPage = {
      ts: Date.now(),
      page_name: DeviceUtil.getPageName()
    }, this.pageObject = t;
  },
  savePage(t, e) {
    if (t && e && this._currentPage.page_name && e === this.pageObject) {
      const e = Date.now() - this._currentPage.ts;
      this._currentPage.duration = Math.abs(e), this._pagelist = this._pagelist.concat(this._currentPage), this._currentPage = {}, this.pageObject = {}, this.saveStroragePages(t);
    }
  },
  saveStroragePages(t) {
    t && this._pagelist.length > 0 && this.updateStorage(KEY_PRE_PAGE + t, this._pagelist);
  },
  getPages(t, e) {
    StorageUtil.getData(KEY_PRE_PAGE + t, n => {
      const o = UmengUtils.stringToArray(n).concat(this._pagelist);
      this.clear(t);
      e && e(o);
    }, () => {
      e && e(null);
    });
  },
  updateStorage(t, e) {
    e && 0 !== e.length && StorageUtil.getData(t, n => {
      const o = UmengUtils.stringToArray(n).concat(e);
      StorageUtil.putData(t, UmengUtils.toStr(o), () => {
        this._pagelist = [];
      });
    });
  },
  clear(t) {
    StorageUtil.deleteData(KEY_PRE_PAGE + t), this._pagelist = [];
  }
};
let inited = !1;
UmengAnalysisLib.prototype = {
  init(t) {
    if (Log.i(`*** umeng_sdk *** sdk version is: ${constants.SDK_VERSION}`), !inited) {
      try {
        this.appkey = t.$data.umeng_appkey;
      } catch (t) {}
      if (!this.appkey) return inited = !1, void console.error("please set umeng_appkey : [manifest.json --\x3e config:{data:{umeng_appkey: xxx}}]");
      inited = !0, Header.getInstance().init(this.appkey);
      const e = this;
      if (Session.getInstance().setOnSessionListener(t => ({
        pages(n) {
          e.pageController.getPages(t, n);
        },
        generateSessionAfterHandler(t) {
          EventController.getInstance().handlerNoSessionEkvDatas(), sendDatas();
        }
      })), StorageUtil.getData(constants.APP_FIRST_OPEN_FLAG, t => {
        0 === t.length && StorageUtil.putData(constants.APP_FIRST_OPEN_FLAG, "true");
      }), StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY, t => {
        t || StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
      }), StorageUtil.getData(constants.EVENT_LAST_SEND_TIME, t => {
        t || EventController.getInstance().setSendTime();
      }), t) try {
        Object.defineProperty(t, "_status", {
          set(t) {
            "destroy" === t && Request.sendAll();
          }
        });
      } catch (t) {}
    }
  },
  resume(t) {
    isInit() && t && (Log.i(`*** umeng_sdk *** page name: ${DeviceUtil.getPageName()}`), this.pageController.addCurrentPage(t), Session.getInstance().init(this.appkey));
  },
  pause(t) {
    isInit() && t && (this.pageController.savePage(Session.getInstance().getCurrentSessionId(), t), Session.getInstance().endSession(), EventController.getInstance().quitHandler());
  },
  trackEvent(t, e) {
    if (isInit()) return UmengUtils.checkId(t) ? e && !UmengUtils.checkAttrOrString(e) ? (console.error("error-----please check trackEvent attr. attr should be 'String' or 'Object'(not include 'Array')"), !1) : (Log.i(`*** umeng_sdk *** event id: ${UmengUtils.toStr(t)}${e ? ` || event attr: ${UmengUtils.toStr(e)}` : ""}`), EventController.getInstance().addEvent(t, e), !0) : (console.error("error-----please check trackEvent id. id should be 'String' and not null"), !1);
  }
};
const FileUtils = {
    getFile(t, e, n) {
      _system7.default.readText({
        uri: t,
        success(t) {
          e && e(t.text);
        },
        fail(t, e) {
          n && n(t, e);
        }
      });
    },
    moveFile(t, e, n, o) {
      _system7.default.move({
        srcUri: t,
        dstUri: e,
        success(t) {
          n && n(t);
        },
        fail(t, e) {
          o && o(t, e);
        }
      });
    },
    deleteFile(t, e, n) {
      _system7.default.delete({
        uri: t,
        success(t) {
          e && e(t);
        },
        fail(t, e) {
          n && n(t, e);
        }
      });
    }
  },
  modules = {
    "@system.app": $app_require$("@app-module/system.app"),
    "@system.storage": $app_require$("@app-module/system.storage"),
    "@system.fetch": $app_require$("@app-module/system.fetch"),
    "@system.network": $app_require$("@app-module/system.network"),
    "@system.device": $app_require$("@app-module/system.device"),
    "@system.router": $app_require$("@app-module/system.router"),
    "@system.file": $app_require$("@app-module/system.file")
  },
  callQueue = [],
  umeng_stat_global = Object.getPrototypeOf(global) || global;
SdkUpdater.prototype = {
  init(t, e) {
    this.installApi(t, null);
    try {
      DeviceUtil.getSystemBaseInfo(t => {
        1e3 === t.platformVersionCode ? e(0) : StorageUtil.getData(constants.DOWNLOAD_FILE_FIRST_CACHE, t => {
          t ? this.getSdkFileContent(t, (t, n, o) => {
            t ? e(1, n, o) : this.getSecondCacheFile(e);
          }) : this.getSecondCacheFile(e);
        });
      });
    } catch (t) {
      e(0);
    }
  },
  getSecondCacheFile(t) {
    StorageUtil.getData(constants.DOWNLOAD_FILE_SECOND_CACHE, e => {
      e ? this.getSdkFileContent(e, t) : t(0);
    });
  },
  getSdkFileContent(t, e) {
    try {
      const n = UmengUtils.toObject(t);
      Log.d(`current sdk:${n.version}${n.md5}${n.filePath}`), FileUtils.getFile(n.filePath, t => {
        UmengUtils.checkMD5(n.md5, t) ? e(1, t, n.version) : e(0);
      }, () => {
        e(0);
      });
    } catch (t) {
      e(0);
    }
    return !1;
  },
  downloadFile(t, e, n, o, i) {
    try {
      _system8.default.download({
        url: t,
        success(t) {
          Log.d(`handling success ${t.token}`), _system8.default.onDownloadComplete({
            token: t.token,
            success(t) {
              try {
                const r = t.uri,
                  s = r.split("/"),
                  c = s[s.length - 1];
                let a = constants.SDK_UPDATE_LOCAL_STORAGE_PATH;
                a = `${a + Date.now()}/${c}`, FileUtils.moveFile(t.uri, a, t => {
                  const r = {
                    version: e,
                    md5: n,
                    filePath: t,
                    stable: o
                  };
                  i(r);
                });
              } catch (t) {}
            },
            fail(t, e) {}
          });
        },
        fail() {}
      });
    } catch (t) {}
  },
  storageFileInfo(t) {
    try {
      FileUtils.getFile(t.filePath, e => {
        Log.d(`---------${JSON.stringify(t)}-----------${UmengUtils.MD5(e)}`);
        e && t.md5 && t.md5 === UmengUtils.MD5(e) ? (StorageUtil.getData(constants.DOWNLOAD_FILE_FIRST_CACHE, e => {
          StorageUtil.putData(constants.DOWNLOAD_FILE_FIRST_CACHE, t, () => {
            if (e) {
              const t = UmengUtils.toObject(e);
              !t.stable && t.filePath && FileUtils.deleteFile(t.filePath);
            }
          });
        }), t.stable ? StorageUtil.getData(constants.DOWNLOAD_FILE_SECOND_CACHE, e => {
          StorageUtil.putData(constants.DOWNLOAD_FILE_SECOND_CACHE, t, () => {
            if (e) {
              const t = UmengUtils.toObject(e);
              t.filePath && FileUtils.deleteFile(t.filePath);
            }
          });
        }) : StorageUtil.putData(constants.DOWNLOAD_FILE_FIRST_CACHE, t)) : FileUtils.deleteFile(t.filePath, () => {});
      });
    } catch (t) {
      Log.d(`error message: ${t.toString()}`);
    }
  },
  checkVersionNew(t, e, n, o, i, r) {
    const s = {
      version: t,
      platform: "quickapp",
      appVersion: n,
      appKey: e,
      seedVersion: o,
      systemBaseInfo: i
    };
    _system6.default.fetch({
      url: this.url,
      method: "POST",
      data: s,
      success(t) {
        if (200 === t.code) try {
          const e = UmengUtils.toObject(t.data);
          if (200 === e.code && e.data.update) {
            const t = e.data.info;
            t && r(t);
          }
        } catch (t) {}
      },
      fail(t, e) {},
      complete() {}
    });
  },
  createMethod(t, e, n) {
    try {
      t[e] = n ? function (...t) {
        return n[e](...t);
      } : function (...t) {
        callQueue.push([e, t]);
      };
    } catch (t) {}
  },
  installApi(t, e) {
    try {
      const n = ["resume", "pause", "trackEvent"];
      for (let o = 0, i = n.length; o < i; o++) this.createMethod(t, n[o], e);
      if (e) for (let t = 0, n = callQueue.length; t < n; t++) {
        const n = callQueue[t];
        e[n[0]](...n[1]);
      }
    } catch (t) {}
  },
  compileModule(t, e) {
    try {
      const t = new Function("module", "exports", "require", e),
        n = {
          exports: {}
        },
        o = function (t) {
          return t in modules ? modules[t] : __webpack_require__("./src/Common/libs/umeng sync recursive")(t);
        };
      return t(n, n.exports, o), n.exports;
    } catch (t) {}
  },
  loadModule(t, e) {
    try {
      let n;
      if (0 === t) n = UmengAnalysisLib;else try {
        n = this.compileModule(t, e);
      } catch (t) {
        n = UmengAnalysisLib;
      }
      return n;
    } catch (t) {}
    return null;
  }
};
const UmengAnalysis = {
  seed_version: "0.0.1",
  version: constants.SDK_VERSION,
  appKey: "",
  _impl: null,
  _inited: !1,
  init(t) {
    if (!this._inited) {
      this._inited = !0, umeng_stat_global.userDubug = !!t.$data.umeng_debug, this.appKey = t.$data.umeng_appkey;
      const e = new SdkUpdater();
      e.init(this, (n, o, i) => {
        const r = e.loadModule(n, o);
        if (r) {
          const n = new r();
          this._impl = n, n.init(t), e.installApi(this, n);
        }
        i || (i = this.version);
        DeviceUtil.getSystemBaseInfo(t => {
          if (1e3 === t.platformVersionCode) return;
          e.checkVersionNew(i, this.appKey, _system5.default.getInfo().versionName, this.seed_version, t, t => {
            t && e.downloadFile(t.fileUrl, t.version, t.fileMD5, t.stable, t => {
              e.storageFileInfo(t);
            });
          });
        });
      });
    }
  }
};
!function () {
  umeng_stat_global && (umeng_stat_global.$umeng_stat = UmengAnalysis, umeng_stat_global.Page = Page);
}();
var _default = exports["default"] = UmengAnalysis;

/***/ }),

/***/ "./node_modules/js-base64/base64.js":
/*!******************************************!*\
  !*** ./node_modules/js-base64/base64.js ***!
  \******************************************/
/***/ (function(module) {

//
// THIS FILE IS AUTOMATICALLY GENERATED! DO NOT EDIT BY HAND!
//
;
(function (global, factory) {
     true
        ? module.exports = factory()
        : 0;
}((typeof self !== 'undefined' ? self
    : typeof window !== 'undefined' ? window
        : typeof global !== 'undefined' ? global
            : this), function () {
    'use strict';
    /**
     *  base64.ts
     *
     *  Licensed under the BSD 3-Clause License.
     *    http://opensource.org/licenses/BSD-3-Clause
     *
     *  References:
     *    http://en.wikipedia.org/wiki/Base64
     *
     * @author Dan Kogai (https://github.com/dankogai)
     */
    var version = '3.7.2';
    /**
     * @deprecated use lowercase `version`.
     */
    var VERSION = version;
    var _hasatob = typeof atob === 'function';
    var _hasbtoa = typeof btoa === 'function';
    var _hasBuffer = typeof Buffer === 'function';
    var _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;
    var _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;
    var b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
    var b64chs = Array.prototype.slice.call(b64ch);
    var b64tab = (function (a) {
        var tab = {};
        a.forEach(function (c, i) { return tab[c] = i; });
        return tab;
    })(b64chs);
    var b64re = /^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;
    var _fromCC = String.fromCharCode.bind(String);
    var _U8Afrom = typeof Uint8Array.from === 'function'
        ? Uint8Array.from.bind(Uint8Array)
        : function (it, fn) {
            if (fn === void 0) { fn = function (x) { return x; }; }
            return new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));
        };
    var _mkUriSafe = function (src) { return src
        .replace(/=/g, '').replace(/[+\/]/g, function (m0) { return m0 == '+' ? '-' : '_'; }); };
    var _tidyB64 = function (s) { return s.replace(/[^A-Za-z0-9\+\/]/g, ''); };
    /**
     * polyfill version of `btoa`
     */
    var btoaPolyfill = function (bin) {
        // console.log('polyfilled');
        var u32, c0, c1, c2, asc = '';
        var pad = bin.length % 3;
        for (var i = 0; i < bin.length;) {
            if ((c0 = bin.charCodeAt(i++)) > 255 ||
                (c1 = bin.charCodeAt(i++)) > 255 ||
                (c2 = bin.charCodeAt(i++)) > 255)
                throw new TypeError('invalid character found');
            u32 = (c0 << 16) | (c1 << 8) | c2;
            asc += b64chs[u32 >> 18 & 63]
                + b64chs[u32 >> 12 & 63]
                + b64chs[u32 >> 6 & 63]
                + b64chs[u32 & 63];
        }
        return pad ? asc.slice(0, pad - 3) + "===".substring(pad) : asc;
    };
    /**
     * does what `window.btoa` of web browsers do.
     * @param {String} bin binary string
     * @returns {string} Base64-encoded string
     */
    var _btoa = _hasbtoa ? function (bin) { return btoa(bin); }
        : _hasBuffer ? function (bin) { return Buffer.from(bin, 'binary').toString('base64'); }
            : btoaPolyfill;
    var _fromUint8Array = _hasBuffer
        ? function (u8a) { return Buffer.from(u8a).toString('base64'); }
        : function (u8a) {
            // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326
            var maxargs = 0x1000;
            var strs = [];
            for (var i = 0, l = u8a.length; i < l; i += maxargs) {
                strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));
            }
            return _btoa(strs.join(''));
        };
    /**
     * converts a Uint8Array to a Base64 string.
     * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 5
     * @returns {string} Base64 string
     */
    var fromUint8Array = function (u8a, urlsafe) {
        if (urlsafe === void 0) { urlsafe = false; }
        return urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);
    };
    // This trick is found broken https://github.com/dankogai/js-base64/issues/130
    // const utob = (src: string) => unescape(encodeURIComponent(src));
    // reverting good old fationed regexp
    var cb_utob = function (c) {
        if (c.length < 2) {
            var cc = c.charCodeAt(0);
            return cc < 0x80 ? c
                : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))
                    + _fromCC(0x80 | (cc & 0x3f)))
                    : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))
                        + _fromCC(0x80 | ((cc >>> 6) & 0x3f))
                        + _fromCC(0x80 | (cc & 0x3f)));
        }
        else {
            var cc = 0x10000
                + (c.charCodeAt(0) - 0xD800) * 0x400
                + (c.charCodeAt(1) - 0xDC00);
            return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))
                + _fromCC(0x80 | ((cc >>> 12) & 0x3f))
                + _fromCC(0x80 | ((cc >>> 6) & 0x3f))
                + _fromCC(0x80 | (cc & 0x3f)));
        }
    };
    var re_utob = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;
    /**
     * @deprecated should have been internal use only.
     * @param {string} src UTF-8 string
     * @returns {string} UTF-16 string
     */
    var utob = function (u) { return u.replace(re_utob, cb_utob); };
    //
    var _encode = _hasBuffer
        ? function (s) { return Buffer.from(s, 'utf8').toString('base64'); }
        : _TE
            ? function (s) { return _fromUint8Array(_TE.encode(s)); }
            : function (s) { return _btoa(utob(s)); };
    /**
     * converts a UTF-8-encoded string to a Base64 string.
     * @param {boolean} [urlsafe] if `true` make the result URL-safe
     * @returns {string} Base64 string
     */
    var encode = function (src, urlsafe) {
        if (urlsafe === void 0) { urlsafe = false; }
        return urlsafe
            ? _mkUriSafe(_encode(src))
            : _encode(src);
    };
    /**
     * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 5.
     * @returns {string} Base64 string
     */
    var encodeURI = function (src) { return encode(src, true); };
    // This trick is found broken https://github.com/dankogai/js-base64/issues/130
    // const btou = (src: string) => decodeURIComponent(escape(src));
    // reverting good old fationed regexp
    var re_btou = /[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g;
    var cb_btou = function (cccc) {
        switch (cccc.length) {
            case 4:
                var cp = ((0x07 & cccc.charCodeAt(0)) << 18)
                    | ((0x3f & cccc.charCodeAt(1)) << 12)
                    | ((0x3f & cccc.charCodeAt(2)) << 6)
                    | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;
                return (_fromCC((offset >>> 10) + 0xD800)
                    + _fromCC((offset & 0x3FF) + 0xDC00));
            case 3:
                return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)
                    | ((0x3f & cccc.charCodeAt(1)) << 6)
                    | (0x3f & cccc.charCodeAt(2)));
            default:
                return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)
                    | (0x3f & cccc.charCodeAt(1)));
        }
    };
    /**
     * @deprecated should have been internal use only.
     * @param {string} src UTF-16 string
     * @returns {string} UTF-8 string
     */
    var btou = function (b) { return b.replace(re_btou, cb_btou); };
    /**
     * polyfill version of `atob`
     */
    var atobPolyfill = function (asc) {
        // console.log('polyfilled');
        asc = asc.replace(/\s+/g, '');
        if (!b64re.test(asc))
            throw new TypeError('malformed base64.');
        asc += '=='.slice(2 - (asc.length & 3));
        var u24, bin = '', r1, r2;
        for (var i = 0; i < asc.length;) {
            u24 = b64tab[asc.charAt(i++)] << 18
                | b64tab[asc.charAt(i++)] << 12
                | (r1 = b64tab[asc.charAt(i++)]) << 6
                | (r2 = b64tab[asc.charAt(i++)]);
            bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)
                : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)
                    : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);
        }
        return bin;
    };
    /**
     * does what `window.atob` of web browsers do.
     * @param {String} asc Base64-encoded string
     * @returns {string} binary string
     */
    var _atob = _hasatob ? function (asc) { return atob(_tidyB64(asc)); }
        : _hasBuffer ? function (asc) { return Buffer.from(asc, 'base64').toString('binary'); }
            : atobPolyfill;
    //
    var _toUint8Array = _hasBuffer
        ? function (a) { return _U8Afrom(Buffer.from(a, 'base64')); }
        : function (a) { return _U8Afrom(_atob(a), function (c) { return c.charCodeAt(0); }); };
    /**
     * converts a Base64 string to a Uint8Array.
     */
    var toUint8Array = function (a) { return _toUint8Array(_unURI(a)); };
    //
    var _decode = _hasBuffer
        ? function (a) { return Buffer.from(a, 'base64').toString('utf8'); }
        : _TD
            ? function (a) { return _TD.decode(_toUint8Array(a)); }
            : function (a) { return btou(_atob(a)); };
    var _unURI = function (a) { return _tidyB64(a.replace(/[-_]/g, function (m0) { return m0 == '-' ? '+' : '/'; })); };
    /**
     * converts a Base64 string to a UTF-8 string.
     * @param {String} src Base64 string.  Both normal and URL-safe are supported
     * @returns {string} UTF-8 string
     */
    var decode = function (src) { return _decode(_unURI(src)); };
    /**
     * check if a value is a valid Base64 string
     * @param {String} src a value to check
      */
    var isValid = function (src) {
        if (typeof src !== 'string')
            return false;
        var s = src.replace(/\s+/g, '').replace(/={0,2}$/, '');
        return !/[^\s0-9a-zA-Z\+/]/.test(s) || !/[^\s0-9a-zA-Z\-_]/.test(s);
    };
    //
    var _noEnum = function (v) {
        return {
            value: v, enumerable: false, writable: true, configurable: true
        };
    };
    /**
     * extend String.prototype with relevant methods
     */
    var extendString = function () {
        var _add = function (name, body) { return Object.defineProperty(String.prototype, name, _noEnum(body)); };
        _add('fromBase64', function () { return decode(this); });
        _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });
        _add('toBase64URI', function () { return encode(this, true); });
        _add('toBase64URL', function () { return encode(this, true); });
        _add('toUint8Array', function () { return toUint8Array(this); });
    };
    /**
     * extend Uint8Array.prototype with relevant methods
     */
    var extendUint8Array = function () {
        var _add = function (name, body) { return Object.defineProperty(Uint8Array.prototype, name, _noEnum(body)); };
        _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });
        _add('toBase64URI', function () { return fromUint8Array(this, true); });
        _add('toBase64URL', function () { return fromUint8Array(this, true); });
    };
    /**
     * extend Builtin prototypes with relevant methods
     */
    var extendBuiltins = function () {
        extendString();
        extendUint8Array();
    };
    var gBase64 = {
        version: version,
        VERSION: VERSION,
        atob: _atob,
        atobPolyfill: atobPolyfill,
        btoa: _btoa,
        btoaPolyfill: btoaPolyfill,
        fromBase64: decode,
        toBase64: encode,
        encode: encode,
        encodeURI: encodeURI,
        encodeURL: encodeURI,
        utob: utob,
        btou: btou,
        decode: decode,
        isValid: isValid,
        fromUint8Array: fromUint8Array,
        toUint8Array: toUint8Array,
        extendString: extendString,
        extendUint8Array: extendUint8Array,
        extendBuiltins: extendBuiltins
    };
    //
    // export Base64 to the namespace
    //
    // ES5 is yet to have Object.assign() that may make transpilers unhappy.
    // gBase64.Base64 = Object.assign({}, gBase64);
    gBase64.Base64 = {};
    Object.keys(gBase64).forEach(function (k) { return gBase64.Base64[k] = gBase64[k]; });
    return gBase64;
}));


/***/ }),

/***/ "./node_modules/js-md5/src/md5.js":
/*!****************************************!*\
  !*** ./node_modules/js-md5/src/md5.js ***!
  \****************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
(function () {
  'use strict';

  var ERROR = 'input is invalid type';
  var WINDOW = typeof window === 'object';
  var root = WINDOW ? window : {};
  if (root.JS_MD5_NO_WINDOW) {
    WINDOW = false;
  }
  var WEB_WORKER = !WINDOW && typeof self === 'object';
  var NODE_JS = !root.JS_MD5_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;
  if (NODE_JS) {
    root = global;
  } else if (WEB_WORKER) {
    root = self;
  }
  var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && "object" === 'object' && module.exports;
  var AMD =  true && __webpack_require__.amdO;
  var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';
  var HEX_CHARS = '0123456789abcdef'.split('');
  var EXTRA = [128, 32768, 8388608, -2147483648];
  var SHIFT = [0, 8, 16, 24];
  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];
  var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');

  var blocks = [], buffer8;
  if (ARRAY_BUFFER) {
    var buffer = new ArrayBuffer(68);
    buffer8 = new Uint8Array(buffer);
    blocks = new Uint32Array(buffer);
  }

  if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {
    Array.isArray = function (obj) {
      return Object.prototype.toString.call(obj) === '[object Array]';
    };
  }

  if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {
    ArrayBuffer.isView = function (obj) {
      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;
    };
  }

  /**
   * @method hex
   * @memberof md5
   * @description Output hash as hex string
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {String} Hex string
   * @example
   * md5.hex('The quick brown fox jumps over the lazy dog');
   * // equal to
   * md5('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method digest
   * @memberof md5
   * @description Output hash as bytes array
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Array} Bytes array
   * @example
   * md5.digest('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method array
   * @memberof md5
   * @description Output hash as bytes array
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Array} Bytes array
   * @example
   * md5.array('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method arrayBuffer
   * @memberof md5
   * @description Output hash as ArrayBuffer
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {ArrayBuffer} ArrayBuffer
   * @example
   * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method buffer
   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.
   * @memberof md5
   * @description Output hash as ArrayBuffer
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {ArrayBuffer} ArrayBuffer
   * @example
   * md5.buffer('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method base64
   * @memberof md5
   * @description Output hash as base64 string
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {String} base64 string
   * @example
   * md5.base64('The quick brown fox jumps over the lazy dog');
   */
  var createOutputMethod = function (outputType) {
    return function (message) {
      return new Md5(true).update(message)[outputType]();
    };
  };

  /**
   * @method create
   * @memberof md5
   * @description Create Md5 object
   * @returns {Md5} Md5 object.
   * @example
   * var hash = md5.create();
   */
  /**
   * @method update
   * @memberof md5
   * @description Create and update Md5 object
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Md5} Md5 object.
   * @example
   * var hash = md5.update('The quick brown fox jumps over the lazy dog');
   * // equal to
   * var hash = md5.create();
   * hash.update('The quick brown fox jumps over the lazy dog');
   */
  var createMethod = function () {
    var method = createOutputMethod('hex');
    if (NODE_JS) {
      method = nodeWrap(method);
    }
    method.create = function () {
      return new Md5();
    };
    method.update = function (message) {
      return method.create().update(message);
    };
    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {
      var type = OUTPUT_TYPES[i];
      method[type] = createOutputMethod(type);
    }
    return method;
  };

  var nodeWrap = function (method) {
    var crypto = eval("require('crypto')");
    var Buffer = eval("require('buffer').Buffer");
    var nodeMethod = function (message) {
      if (typeof message === 'string') {
        return crypto.createHash('md5').update(message, 'utf8').digest('hex');
      } else {
        if (message === null || message === undefined) {
          throw ERROR;
        } else if (message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        }
      }
      if (Array.isArray(message) || ArrayBuffer.isView(message) ||
        message.constructor === Buffer) {
        return crypto.createHash('md5').update(new Buffer(message)).digest('hex');
      } else {
        return method(message);
      }
    };
    return nodeMethod;
  };

  /**
   * Md5 class
   * @class Md5
   * @description This is internal class.
   * @see {@link md5.create}
   */
  function Md5(sharedMemory) {
    if (sharedMemory) {
      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =
      blocks[4] = blocks[5] = blocks[6] = blocks[7] =
      blocks[8] = blocks[9] = blocks[10] = blocks[11] =
      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      this.blocks = blocks;
      this.buffer8 = buffer8;
    } else {
      if (ARRAY_BUFFER) {
        var buffer = new ArrayBuffer(68);
        this.buffer8 = new Uint8Array(buffer);
        this.blocks = new Uint32Array(buffer);
      } else {
        this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      }
    }
    this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;
    this.finalized = this.hashed = false;
    this.first = true;
  }

  /**
   * @method update
   * @memberof Md5
   * @instance
   * @description Update hash
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Md5} Md5 object.
   * @see {@link md5.update}
   */
  Md5.prototype.update = function (message) {
    if (this.finalized) {
      return;
    }

    var notString, type = typeof message;
    if (type !== 'string') {
      if (type === 'object') {
        if (message === null) {
          throw ERROR;
        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        } else if (!Array.isArray(message)) {
          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {
            throw ERROR;
          }
        }
      } else {
        throw ERROR;
      }
      notString = true;
    }
    var code, index = 0, i, length = message.length, blocks = this.blocks;
    var buffer8 = this.buffer8;

    while (index < length) {
      if (this.hashed) {
        this.hashed = false;
        blocks[0] = blocks[16];
        blocks[16] = blocks[1] = blocks[2] = blocks[3] =
        blocks[4] = blocks[5] = blocks[6] = blocks[7] =
        blocks[8] = blocks[9] = blocks[10] = blocks[11] =
        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      }

      if (notString) {
        if (ARRAY_BUFFER) {
          for (i = this.start; index < length && i < 64; ++index) {
            buffer8[i++] = message[index];
          }
        } else {
          for (i = this.start; index < length && i < 64; ++index) {
            blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];
          }
        }
      } else {
        if (ARRAY_BUFFER) {
          for (i = this.start; index < length && i < 64; ++index) {
            code = message.charCodeAt(index);
            if (code < 0x80) {
              buffer8[i++] = code;
            } else if (code < 0x800) {
              buffer8[i++] = 0xc0 | (code >> 6);
              buffer8[i++] = 0x80 | (code & 0x3f);
            } else if (code < 0xd800 || code >= 0xe000) {
              buffer8[i++] = 0xe0 | (code >> 12);
              buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);
              buffer8[i++] = 0x80 | (code & 0x3f);
            } else {
              code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));
              buffer8[i++] = 0xf0 | (code >> 18);
              buffer8[i++] = 0x80 | ((code >> 12) & 0x3f);
              buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);
              buffer8[i++] = 0x80 | (code & 0x3f);
            }
          }
        } else {
          for (i = this.start; index < length && i < 64; ++index) {
            code = message.charCodeAt(index);
            if (code < 0x80) {
              blocks[i >> 2] |= code << SHIFT[i++ & 3];
            } else if (code < 0x800) {
              blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
            } else if (code < 0xd800 || code >= 0xe000) {
              blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
            } else {
              code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));
              blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
            }
          }
        }
      }
      this.lastByteIndex = i;
      this.bytes += i - this.start;
      if (i >= 64) {
        this.start = i - 64;
        this.hash();
        this.hashed = true;
      } else {
        this.start = i;
      }
    }
    if (this.bytes > 4294967295) {
      this.hBytes += this.bytes / 4294967296 << 0;
      this.bytes = this.bytes % 4294967296;
    }
    return this;
  };

  Md5.prototype.finalize = function () {
    if (this.finalized) {
      return;
    }
    this.finalized = true;
    var blocks = this.blocks, i = this.lastByteIndex;
    blocks[i >> 2] |= EXTRA[i & 3];
    if (i >= 56) {
      if (!this.hashed) {
        this.hash();
      }
      blocks[0] = blocks[16];
      blocks[16] = blocks[1] = blocks[2] = blocks[3] =
      blocks[4] = blocks[5] = blocks[6] = blocks[7] =
      blocks[8] = blocks[9] = blocks[10] = blocks[11] =
      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
    }
    blocks[14] = this.bytes << 3;
    blocks[15] = this.hBytes << 3 | this.bytes >>> 29;
    this.hash();
  };

  Md5.prototype.hash = function () {
    var a, b, c, d, bc, da, blocks = this.blocks;

    if (this.first) {
      a = blocks[0] - 680876937;
      a = (a << 7 | a >>> 25) - 271733879 << 0;
      d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;
      d = (d << 12 | d >>> 20) + a << 0;
      c = (-271733879 ^ (d & (a ^ -271733879))) + blocks[2] - 1126478375;
      c = (c << 17 | c >>> 15) + d << 0;
      b = (a ^ (c & (d ^ a))) + blocks[3] - 1316259209;
      b = (b << 22 | b >>> 10) + c << 0;
    } else {
      a = this.h0;
      b = this.h1;
      c = this.h2;
      d = this.h3;
      a += (d ^ (b & (c ^ d))) + blocks[0] - 680876936;
      a = (a << 7 | a >>> 25) + b << 0;
      d += (c ^ (a & (b ^ c))) + blocks[1] - 389564586;
      d = (d << 12 | d >>> 20) + a << 0;
      c += (b ^ (d & (a ^ b))) + blocks[2] + 606105819;
      c = (c << 17 | c >>> 15) + d << 0;
      b += (a ^ (c & (d ^ a))) + blocks[3] - 1044525330;
      b = (b << 22 | b >>> 10) + c << 0;
    }

    a += (d ^ (b & (c ^ d))) + blocks[4] - 176418897;
    a = (a << 7 | a >>> 25) + b << 0;
    d += (c ^ (a & (b ^ c))) + blocks[5] + 1200080426;
    d = (d << 12 | d >>> 20) + a << 0;
    c += (b ^ (d & (a ^ b))) + blocks[6] - 1473231341;
    c = (c << 17 | c >>> 15) + d << 0;
    b += (a ^ (c & (d ^ a))) + blocks[7] - 45705983;
    b = (b << 22 | b >>> 10) + c << 0;
    a += (d ^ (b & (c ^ d))) + blocks[8] + 1770035416;
    a = (a << 7 | a >>> 25) + b << 0;
    d += (c ^ (a & (b ^ c))) + blocks[9] - 1958414417;
    d = (d << 12 | d >>> 20) + a << 0;
    c += (b ^ (d & (a ^ b))) + blocks[10] - 42063;
    c = (c << 17 | c >>> 15) + d << 0;
    b += (a ^ (c & (d ^ a))) + blocks[11] - 1990404162;
    b = (b << 22 | b >>> 10) + c << 0;
    a += (d ^ (b & (c ^ d))) + blocks[12] + 1804603682;
    a = (a << 7 | a >>> 25) + b << 0;
    d += (c ^ (a & (b ^ c))) + blocks[13] - 40341101;
    d = (d << 12 | d >>> 20) + a << 0;
    c += (b ^ (d & (a ^ b))) + blocks[14] - 1502002290;
    c = (c << 17 | c >>> 15) + d << 0;
    b += (a ^ (c & (d ^ a))) + blocks[15] + 1236535329;
    b = (b << 22 | b >>> 10) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[1] - 165796510;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[6] - 1069501632;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[11] + 643717713;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[0] - 373897302;
    b = (b << 20 | b >>> 12) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[5] - 701558691;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[10] + 38016083;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[15] - 660478335;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[4] - 405537848;
    b = (b << 20 | b >>> 12) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[9] + 568446438;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[14] - 1019803690;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[3] - 187363961;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[8] + 1163531501;
    b = (b << 20 | b >>> 12) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[13] - 1444681467;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[2] - 51403784;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[7] + 1735328473;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[12] - 1926607734;
    b = (b << 20 | b >>> 12) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[5] - 378558;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[8] - 2022574463;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[11] + 1839030562;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[14] - 35309556;
    b = (b << 23 | b >>> 9) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[1] - 1530992060;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[4] + 1272893353;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[7] - 155497632;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[10] - 1094730640;
    b = (b << 23 | b >>> 9) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[13] + 681279174;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[0] - 358537222;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[3] - 722521979;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[6] + 76029189;
    b = (b << 23 | b >>> 9) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[9] - 640364487;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[12] - 421815835;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[15] + 530742520;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[2] - 995338651;
    b = (b << 23 | b >>> 9) + c << 0;
    a += (c ^ (b | ~d)) + blocks[0] - 198630844;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[7] + 1126891415;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[14] - 1416354905;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[5] - 57434055;
    b = (b << 21 | b >>> 11) + c << 0;
    a += (c ^ (b | ~d)) + blocks[12] + 1700485571;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[3] - 1894986606;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[10] - 1051523;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[1] - 2054922799;
    b = (b << 21 | b >>> 11) + c << 0;
    a += (c ^ (b | ~d)) + blocks[8] + 1873313359;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[15] - 30611744;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[6] - 1560198380;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[13] + 1309151649;
    b = (b << 21 | b >>> 11) + c << 0;
    a += (c ^ (b | ~d)) + blocks[4] - 145523070;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[11] - 1120210379;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[2] + 718787259;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[9] - 343485551;
    b = (b << 21 | b >>> 11) + c << 0;

    if (this.first) {
      this.h0 = a + 1732584193 << 0;
      this.h1 = b - 271733879 << 0;
      this.h2 = c - 1732584194 << 0;
      this.h3 = d + 271733878 << 0;
      this.first = false;
    } else {
      this.h0 = this.h0 + a << 0;
      this.h1 = this.h1 + b << 0;
      this.h2 = this.h2 + c << 0;
      this.h3 = this.h3 + d << 0;
    }
  };

  /**
   * @method hex
   * @memberof Md5
   * @instance
   * @description Output hash as hex string
   * @returns {String} Hex string
   * @see {@link md5.hex}
   * @example
   * hash.hex();
   */
  Md5.prototype.hex = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;

    return HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +
      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +
      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +
      HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +
      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +
      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +
      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +
      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +
      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +
      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +
      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +
      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +
      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +
      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +
      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +
      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F];
  };

  /**
   * @method toString
   * @memberof Md5
   * @instance
   * @description Output hash as hex string
   * @returns {String} Hex string
   * @see {@link md5.hex}
   * @example
   * hash.toString();
   */
  Md5.prototype.toString = Md5.prototype.hex;

  /**
   * @method digest
   * @memberof Md5
   * @instance
   * @description Output hash as bytes array
   * @returns {Array} Bytes array
   * @see {@link md5.digest}
   * @example
   * hash.digest();
   */
  Md5.prototype.digest = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;
    return [
      h0 & 0xFF, (h0 >> 8) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 24) & 0xFF,
      h1 & 0xFF, (h1 >> 8) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 24) & 0xFF,
      h2 & 0xFF, (h2 >> 8) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 24) & 0xFF,
      h3 & 0xFF, (h3 >> 8) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 24) & 0xFF
    ];
  };

  /**
   * @method array
   * @memberof Md5
   * @instance
   * @description Output hash as bytes array
   * @returns {Array} Bytes array
   * @see {@link md5.array}
   * @example
   * hash.array();
   */
  Md5.prototype.array = Md5.prototype.digest;

  /**
   * @method arrayBuffer
   * @memberof Md5
   * @instance
   * @description Output hash as ArrayBuffer
   * @returns {ArrayBuffer} ArrayBuffer
   * @see {@link md5.arrayBuffer}
   * @example
   * hash.arrayBuffer();
   */
  Md5.prototype.arrayBuffer = function () {
    this.finalize();

    var buffer = new ArrayBuffer(16);
    var blocks = new Uint32Array(buffer);
    blocks[0] = this.h0;
    blocks[1] = this.h1;
    blocks[2] = this.h2;
    blocks[3] = this.h3;
    return buffer;
  };

  /**
   * @method buffer
   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.
   * @memberof Md5
   * @instance
   * @description Output hash as ArrayBuffer
   * @returns {ArrayBuffer} ArrayBuffer
   * @see {@link md5.buffer}
   * @example
   * hash.buffer();
   */
  Md5.prototype.buffer = Md5.prototype.arrayBuffer;

  /**
   * @method base64
   * @memberof Md5
   * @instance
   * @description Output hash as base64 string
   * @returns {String} base64 string
   * @see {@link md5.base64}
   * @example
   * hash.base64();
   */
  Md5.prototype.base64 = function () {
    var v1, v2, v3, base64Str = '', bytes = this.array();
    for (var i = 0; i < 15;) {
      v1 = bytes[i++];
      v2 = bytes[i++];
      v3 = bytes[i++];
      base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +
        BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] +
        BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] +
        BASE64_ENCODE_CHAR[v3 & 63];
    }
    v1 = bytes[i];
    base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +
      BASE64_ENCODE_CHAR[(v1 << 4) & 63] +
      '==';
    return base64Str;
  };

  var exports = createMethod();

  if (COMMON_JS) {
    module.exports = exports;
  } else {
    /**
     * @method md5
     * @description Md5 hash function, export to global in browsers.
     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
     * @returns {String} md5 hashes
     * @example
     * md5(''); // d41d8cd98f00b204e9800998ecf8427e
     * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6
     * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0
     *
     * // It also supports UTF-8 encoding
     * md5(''); // a7bac2239fcdcb3a067903d8077c4a07
     *
     * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`
     * md5([]); // d41d8cd98f00b204e9800998ecf8427e
     * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e
     */
    root.md5 = exports;
    if (AMD) {
      !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
        return exports;
      }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }
  }
})();


/***/ }),

/***/ "./node_modules/union-quick-app-ad/app.js":
/*!************************************************!*\
  !*** ./node_modules/union-quick-app-ad/app.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports, "__esModule", ({value:!0})),exports["default"]=void 0;var _system=_interopRequireDefault($app_require$("@app-module/system.device")),_system2=_interopRequireDefault($app_require$("@app-module/system.app")),_system3=_interopRequireDefault($app_require$("@app-module/system.network")),_system4=_interopRequireDefault($app_require$("@app-module/system.fetch")),_system5=_interopRequireDefault($app_require$("@app-module/system.package")),_system6=_interopRequireDefault($app_require$("@app-module/system.webview")),_system7=_interopRequireDefault($app_require$("@app-module/system.prompt")),_system8=_interopRequireDefault($app_require$("@app-module/system.router")),_system9=_interopRequireDefault($app_require$("@app-module/system.request")),_system10=_interopRequireDefault($app_require$("@app-module/system.storage")),_service=_interopRequireDefault($app_require$("@app-module/service.account")),_system11=_interopRequireDefault($app_require$("@app-module/system.sensor")),_system12=_interopRequireDefault($app_require$("@app-module/system.vibrator")),_system13=_interopRequireDefault($app_require$("@app-module/system.file")),_system14=_interopRequireDefault($app_require$("@app-module/system.image")),_package=__webpack_require__(/*! ./package.json */ "./node_modules/union-quick-app-ad/package.json");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m_global=Object.getPrototypeOf(global)||global,fileUrl="internal://files/unionad/".concat(_package.version,"/ad-render-quick.min.js");function execRemoteJs(e,t){var r=this;try{new Function(e)()}catch(e){t&&fetchRemoteJs.call(this).then(function(e){execRemoteJs(e,!1),initAdSdk.call(r)})}}function initAdSdk(e){try{m_global.$union_quick_app_sdk&&(m_global.$union_quick_app_sdk.api={device:_system.default,app:_system2.default,network:_system3.default,fetch:_system4.default,pkg:_system5.default,webview:_system6.default,prompt:_system7.default,router:_system8.default,request:_system9.default,storage:_system10.default,account:_service.default,file:_system13.default,sensor:_system11.default,image:_system14.default,vibrator:_system12.default},m_global.$union_quick_app_sdk.sdkVersion=_package.version,m_global.$union_quick_app_sdk.fileUrl=fileUrl,new m_global.$union_quick_app_sdk(this,e))}catch(e){}}function fetchRemoteJs(){return new Promise(function(t,r){_system4.default.fetch({url:"https://cpro.baidustatic.com/cpro/xcx/js/ad-render-quick.min.js",responseType:"text",method:"GET",success:function(e){_system13.default.writeText({uri:fileUrl,text:e.data,success:function(){},fail:function(e,t){}}),t(e.data)},fail:function(e,t){r()}})})}var UNION_AD_SDK=_createClass(function e(r,i){_classCallCheck(this,e),m_global&&m_global.$union_quick_app_sdk?initAdSdk.call(r,i):_system13.default.readText({uri:fileUrl,success:function(e){execRemoteJs.call(r,e.text,!0),initAdSdk.call(r,i)},fail:function(e,t){fetchRemoteJs.call(r).then(function(e){execRemoteJs.call(r,e,!1),initAdSdk.call(r,i)})}})}),_default=UNION_AD_SDK;exports["default"]=_default;

/***/ }),

/***/ "./node_modules/ylh-quick-app-ad-sdk/index.js":
/*!****************************************************!*\
  !*** ./node_modules/ylh-quick-app-ad-sdk/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ YLH_UNION_AD_SDK),
/* harmony export */   "isPlatformVersionCodeGreaterThen1100": () => (/* binding */ isPlatformVersionCodeGreaterThen1100)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/ylh-quick-app-ad-sdk/utils/index.js");
/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./package.json */ "./node_modules/ylh-quick-app-ad-sdk/package.json");
/* eslint-disable import/no-unresolved */
var app = $app_require$( '@app-module/system.app');;
var fetch = $app_require$( '@app-module/system.fetch');;
var file = $app_require$( '@app-module/system.file');;
var device = $app_require$( '@app-module/system.device');;
var network = $app_require$( '@app-module/system.network');;
var shortcut = $app_require$( '@app-module/system.shortcut');;
var battery = $app_require$( '@app-module/system.battery');;
var brightness = $app_require$( '@app-module/system.brightness');;
var webview = $app_require$( '@app-module/system.webview');;
var storage = $app_require$( '@app-module/system.storage');;
var pkg = $app_require$( '@app-module/system.package');;
var router = $app_require$( '@app-module/system.router');;
var prompt = $app_require$( '@app-module/system.prompt');;
var cipher = $app_require$( '@app-module/system.cipher');;
var volume = $app_require$( '@app-module/system.volume');;
var sensor = $app_require$( '@app-module/system.sensor');;
var vibrator = $app_require$( '@app-module/system.vibrator');;



const qaGlobal = Object.getPrototypeOf(global) || global;

const { version } = _package_json__WEBPACK_IMPORTED_MODULE_1__;

const REMOTE_JS_TYPE = {
  CORE: 'core',
  LIBS: 'libs',
};

const FIRST_CORE_VERSION = 1050;

const LIBS_VERSION = '1.0.0';
const FIRST_LIBS_VERSION = 1000;

const isSomeStubVersionScope = ({ entryVersion, localVersion }) => {
  const { length: localLen } = localVersion;
  const { length: entryLen } = entryVersion;
  return localVersion.slice(0, localLen - 2) === entryVersion.slice(0, entryLen - 2);
};

const getRemoteJSConfigInfo = ({
  type,
  firstPublishUrl,
  stubVersion,
  firstPublishPluginVersion,
  isUseRemoteJS,
  validateFn = (localJsUrl) => {
    if (isUseRemoteJS) {
      return !isUseRemoteJS;
    }
    if (!localJsUrl) {
      return false;
    }
    const [localStubVersion, localPluginVersion] = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getCoreVersionByUrl)(localJsUrl);
    const isSameSdkVersion = isSomeStubVersionScope({
      entryVersion: stubVersion,
      localVersion: localStubVersion,
    });
    return isSameSdkVersion && localPluginVersion >= firstPublishPluginVersion;
  },
}) => {
  const coreInfo = {
    //  JS  uri 
    cacheUri: `internal://files/ylh-sdk-${type}/${stubVersion}`,
    //  JS  validateFn  JS 
    remoteUrl: firstPublishUrl,
    validateFn,
  };
  return coreInfo;
};

const coreInfo = getRemoteJSConfigInfo({
  type: REMOTE_JS_TYPE.CORE,
  firstPublishUrl: `https://qzs.gdtimg.com/union/res/ylh-sdk-core-v1.5.1050.min.js?d=${Date.now()}`, // 
  stubVersion: version,
  firstPublishPluginVersion: FIRST_CORE_VERSION,
  isUseRemoteJS: false,
});

const libsInfo = getRemoteJSConfigInfo({
  type: REMOTE_JS_TYPE.LIBS,
  firstPublishUrl: `https://qzs.gdtimg.com/union/res/ylh-sdk-libs-v1.0.1000.min.js?d=${Date.now()}`, // 
  stubVersion: LIBS_VERSION,
  firstPublishPluginVersion: FIRST_LIBS_VERSION,
  isUseRemoteJS: false,
});

const system = {
  fetch,
  file,
  device,
  network,
  shortcut,
  battery,
  brightness,
  webview,
  storage,
  pkg,
  router,
  prompt,
  cipher,
  volume,
  sensor,
  vibrator,
  app,
  sdkVersion: version,
  BroadcastChannel,
};

// promise
const userPromiseCache = {};

const YLH_SDK_SUPPORT_MINI_PLATFORM_VER = 1100;

const isPlatformVersionCodeGreaterThen1100 = async () => {
  if (!userPromiseCache.platformPromise) {
    userPromiseCache.platformPromise = new Promise((resolve, reject) => {
      device.getInfo({
        success: (deviceInfoInfo) => {
          const { platformVersionCode } = deviceInfoInfo;
          if (platformVersionCode < YLH_SDK_SUPPORT_MINI_PLATFORM_VER) {
            reject(new Error(JSON.stringify({ platform: platformVersionCode })));
          } else {
            resolve(true);
          }
        },
        fail: () => {
          reject(new Error(JSON.stringify({ platform: '' })));
        },
      });
    });
  }
  return userPromiseCache.platformPromise;
};

/**
 *  CDN JS 
 * @returns Promise
 */
const fetchRemoteJS = ({ cacheUri, remoteUrl }) => new Promise((resolve, reject) => {
  let pollCount = 0;
  const errMessage = `${remoteUrl} `;
  const pollFetch = () => {
    fetch.fetch({
      url: remoteUrl,
      responseType: 'text',
      method: 'get',
      success: (res) => {
        const { code, data: jsCode } = res;
        if (code !== 200) {
          if (pollCount < 3) {
            pollCount += 1;
            // 1s
            setTimeout(() => {
              pollFetch();
            }, 1000);
          } else {
            reject(errMessage);
          }
        } else {
          resolve(jsCode);
          //  JS
          if (cacheUri) {
            file.writeText({
              uri: cacheUri,
              text: { jsCode, jsUrl: remoteUrl },
            });
          }
        }
      },
      fail: () => {
        // 
        if (pollCount < 3) {
          pollCount += 1;
          // 1s
          setTimeout(() => {
            pollFetch();
          }, 1000);
        } else {
          reject(errMessage);
        }
      },
    });
  };
  pollFetch();
});

// local JSlocal JSvalidateFnremoteUrl JS
const getLocalJS = async ({ cacheUri, remoteUrl, validateFn }) => {
  try {
    const res = await file.readText({
      uri: cacheUri,
    });
    const { data = {} } = res || {};
    const { jsCode, jsUrl } = JSON.parse(data.text || '{}');
    if (validateFn(jsUrl)) {
      return jsCode;
    }
  } catch (err) {
    console.log('getLocalJS-err', err);
  }

  return fetchRemoteJS({ cacheUri, remoteUrl });
};

// local JS, remoteUrl
const executeLocalJS = async (params) => {
  getLocalJS(params).then((localJS) => {
    // eslint-disable-next-line no-new, no-new-func
    const func = new Function('$YLHSDK', localJS);
    func(qaGlobal.$YLHSDK);
  }).catch((err) => {
    console.log('executeLocalJS', err, params);
  });
};

/**
 * SDK
 * @param {Object} $app  App $appapp$app-app-@system.app api
 */
function YLH_UNION_AD_SDK($app, config = {}) {
  (0,_utils__WEBPACK_IMPORTED_MODULE_0__.classCallCheck)(this, YLH_UNION_AD_SDK);

  if (!config.appId) {
    console.error('appIdylh_sdk');
    return;
  }
  (0,_utils__WEBPACK_IMPORTED_MODULE_0__.initYLHSDK)($app);

  isPlatformVersionCodeGreaterThen1100().then(() => {
    qaGlobal.$YLHSDK = {
      $app,
      config,
      system: {
        ...system,
        telecom: $app_require$('@app-module/system.telecom'), // telecom   1080 
        keyguard: $app_require$('@app-module/system.keyguard'), // keyguard   1090 
        downloadTask: $app_require$('@app-module/system.downloadtask'), // downloadTask   1100 
      },
      fetchRemoteJS,
      localCore: {
        localCoreUri: coreInfo.cacheUri,
        getCoreVersionByUrl: _utils__WEBPACK_IMPORTED_MODULE_0__.getCoreVersionByUrl,
      },
      localLibs: {
        localLibsUri: libsInfo.cacheUri,
      },
    };

    executeLocalJS(coreInfo);
    executeLocalJS(libsInfo);
  }).catch((err) => {
    const errObj = err?.message ? JSON.parse(err.message) : {};
    console.warn(` minPlatformVersion ${errObj.platform}, ${YLH_SDK_SUPPORT_MINI_PLATFORM_VER}, 
    ylh_sdk `);
  });
}


/***/ }),

/***/ "./node_modules/ylh-quick-app-ad-sdk/utils/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/ylh-quick-app-ad-sdk/utils/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "classCallCheck": () => (/* binding */ classCallCheck),
/* harmony export */   "defineAdComponent": () => (/* binding */ defineAdComponent),
/* harmony export */   "defineAdScene": () => (/* binding */ defineAdScene),
/* harmony export */   "dispatchAdEvent": () => (/* binding */ dispatchAdEvent),
/* harmony export */   "getCoreVersionByUrl": () => (/* binding */ getCoreVersionByUrl),
/* harmony export */   "initYLHSDK": () => (/* binding */ initYLHSDK)
/* harmony export */ });
function dispatchAdEvent(eventName, params) {
  try {
    if (this.isAdDestroyed) return;
    if (this.lifetimes && this.lifetimes?.[eventName]) {
      this.lifetimes[eventName].call(this, params);
    } else if (this.events && this.events?.[eventName]) {
      this.events[eventName].call(this, params);
    }
  } catch (error) {
    console.warn('dispatchAdEvent error: ', eventName, error.message, params);
  }
}

function registerProps(componentName, adTimer) {
  if (this.$app) {
    const component = this.$app.$def?.ylh_sdk?.components?.[componentName];
    if (component) {
      Object.keys(component).forEach((prop) => {
        this[prop] = component[prop];
      });
      dispatchAdEvent.call(this, 'onInit', componentName);
      if (adTimer) {
        clearInterval(adTimer);
      }
    }
  }
}

function defineAdComponent(componentName) {
  try {
    if (this.adTimer) {
      clearInterval(this.adTimer);
    }
    if (this.$app?.$def?.ylh_sdk?.components) {
      registerProps.call(this, componentName, undefined);
    } else {
      let time = 0;
      const adTimer = setInterval(() => {
        if (time > 1000 * 5) {
          clearInterval(adTimer);
        }
        registerProps.call(this, componentName, adTimer);
        time += 10;
      }, 10);
    }
  } catch (error) {
    console.error(error.message);
    if (this.onYLHSDKError) {
      this.onYLHSDKError(error.message);
    }
  }
}

function defineAdScene(scene) {
  defineAdComponent.call(this, scene);
}

/**
 *  new 
 * @param {Object} sdkInstance 
 * @param {function} sdkConstructor 
 */
function classCallCheck(sdkInstance, sdkConstructor) {
  if (!(sdkInstance instanceof sdkConstructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

// https://qzs.gdtimg.com/union/res/ylh-sdk-core-v1.3.1030.min.js?d=13333' url['1.3', 1030]
function getCoreVersionByUrl(jsUrl = '') {
  const res = jsUrl.match(/ylh-sdk-(?:[a-z]+)-v(\d+\.\d+\.\d+)(?:@debug)?\.min\.js/);
  const str = res && res[1] ? res[1] : ''; // '1.3.1030.min/1.3.1030@debug.min'
  const [a, b, c] = str.split('.');
  return [`${a}.${b}.0`, Number(c.substr(0, 4))];
}

// , onYlhReady
function initYLHSDK($app) {
  if ($app.$def?.ylh_sdk) {
    return;
  }
  // eslint-disable-next-line  no-param-reassign
  $app.$def.ylh_sdk = {
    // eslint-disable-next-line  consistent-return
    onYlhReady(callback) {
      const { onYlhReadyCallback = [] } = $app.$def.ylh_sdk;
      // console.log('app.$def.ylh_sdk', app.$def.ylh_sdk, onYlhReadyCallback);
      if (typeof callback !== 'function') {
        console.warn('onYlhReady: then');
      } else if ($app.$def.ylh_sdk.SDK_CORE_READY) {
        return callback();
      } else {
        // eslint-disable-next-line  no-param-reassign
        $app.$def.ylh_sdk.onYlhReadyCallback = [...onYlhReadyCallback, callback];
      }
    },
  };
}


/***/ }),

/***/ "./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader/lib/index.js?presets[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\preset-env,targets=node 8&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-transform-modules-commonjs&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-class-properties&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader/lib/index.js?presets[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\preset-env,targets=node 8&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-transform-modules-commonjs&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-class-properties&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function(module, exports, $app_require$){"use strict";

__webpack_require__(/*! ./Common/libs/umeng/umenganalysis.es.min */ "./src/Common/libs/umeng/umenganalysis.es.min.js");
var _app = _interopRequireDefault(__webpack_require__(/*! @topon/quick-app-sdk-hw/app.js */ "./node_modules/@topon/quick-app-sdk-hw/app.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
module.exports = {
  onCreate() {
    console.info('Application onCreate');
    const hook2global = global.__proto__ || global;
    const $router = $app_require$('@app-module/system.router');
    const $utils = (__webpack_require__(/*! ./Common/helper/utils */ "./src/Common/helper/utils.js")["default"]);
    const $storage = $app_require$("@app-module/system.storage");
    const $cipher = $app_require$("@app-module/system.cipher");
    const $prompt = $app_require$("@app-module/system.prompt");
    const $webview = $app_require$("@app-module/system.webview");
    const $apis = (__webpack_require__(/*! ./Common/helper/apis */ "./src/Common/helper/apis/index.js")["default"]);
    const $ad = $app_require$("@app-module/service.ad");
    const $app = $app_require$("@app-module/system.app");
    const $device = $app_require$("@app-module/system.device");
    const $processData = (__webpack_require__(/*! ./Common/helper/processData */ "./src/Common/helper/processData.js")["default"]);
    hook2global.$router = $router;
    hook2global.$utils = $utils;
    hook2global.$storage = $storage;
    hook2global.$prompt = $prompt;
    hook2global.$apis = $apis;
    hook2global.$webview = $webview;
    hook2global.$ad = $ad;
    hook2global.$cipher = $cipher;
    hook2global.$app = $app;
    hook2global.$device = $device;
    hook2global.$processData = $processData;
    console.log("[app.ux] onCreate...");
    $umeng_stat.init(this);
    try {
      const instance = new _app.default({
        app: this,
        appId: 'a6690ddbfd2bbc',
        appKey: 'ac7b8c3807532084e93fdf61490e25fa5'
      });
      this.$def.topon_sdk_instance = instance;
    } catch (error) {
      console.log('error', error);
    }
  },
  onHide() {
    this.instance.onHide();
  },
  onDestroy() {
    console.info('Application onDestroy');
    this.instance.onDestroy();
  },
  dataApp: {
    url1: "http://www.ihaituo.cn/xy/jb/bzzx.html",
    url2: "http://www.ihaituo.cn/xy/jb/yhxy.html",
    url3: "http://www.ihaituo.cn/xy/jb/yszc.html",
    countMax: 8,
    brand: 'HUAWEI',
    channel: 'jh',
    bannerAdUnitId: "z1v6jykvy9",
    nAbannerAdUnitId: "i8zsc3gcbg",
    nativeAdUnitId: "v5h5xsklp2",
    interstitialAdUnitId: "a7nvl7fm00",
    userData: {
      loginPhone: '',
      userId: '',
      balance: 0
    },
    actiParam: ''
  }
};
(exports.default || module.exports).manifest = __webpack_require__(/*! !!../node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./manifest.json */ "./node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./src/manifest.json")
}

/***/ }),

/***/ "./src/Common/helper/apis sync recursive \\.js":
/*!*******************************************!*\
  !*** ./src/Common/helper/apis/ sync \.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./example.js": "./src/Common/helper/apis/example.js",
	"./index.js": "./src/Common/helper/apis/index.js",
	"./user.js": "./src/Common/helper/apis/user.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./src/Common/helper/apis sync recursive \\.js";

/***/ }),

/***/ "./src/Common/libs/umeng sync recursive":
/*!*************************************!*\
  !*** ./src/Common/libs/umeng/ sync ***!
  \*************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./src/Common/libs/umeng sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./src/manifest.json":
/*!*******************************************************************************************!*\
  !*** ./node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./src/manifest.json ***!
  \*******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"package":"com.haituo.setpplanet","name":"","versionName":"1.0.20","versionCode":20,"icon":"/Common/img/logo.png","minPlatformVersion":1100,"features":[{"name":"system.storage"},{"name":"system.fetch"},{"name":"system.network"},{"name":"system.device"},{"name":"system.file"},{"name":"system.sensor"},{"name":"system.webview"},{"name":"system.request"},{"name":"system.package"},{"name":"service.account"},{"name":"service.ad"}],"config":{"data":{"umeng_appkey":"667b68fccac2a664de54f5ac"}},"router":{"entry":"Page_MainTab","pages":{"Page_MainTab":{"launchMode":"singleTask","component":"index"},"Page_Tixian":{"component":"index"},"Page_login":{"component":"index"},"Page_about":{"component":"index"},"feedback":{"component":"index"},"logOut":{"component":"index"},"permissions":{"component":"index"},"Page_setPay":{"component":"index"},"Page_cfd/":{"component":"index"},"Page_cfd-taku/":{"component":"index"},"ad/nativeAD":{"component":"index"},"TopOn/AdLanding":{"component":"index"}}},"display":{"pages":{"Page_MainTab":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0},"Page_cfd/":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0,"titleBarBackgroundOpacity":0},"Page_cfd-taku/":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0,"titleBarBackgroundOpacity":0},"Page_Tixian":{"titleBar":true,"menu":true,"titleBarText":""},"Page_login":{"titleBar":true,"menu":false,"titleBarText":""},"TopOn/AdLanding":{"fullScreen":true,"titleBar":false,"statusBarImmersive":true,"menuBarData":{"menuBar":false}}}},"versionType":"debug"}');

/***/ }),

/***/ "./node_modules/union-quick-app-ad/package.json":
/*!******************************************************!*\
  !*** ./node_modules/union-quick-app-ad/package.json ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"union-quick-app-ad","version":"1.0.49","description":"sdk","main":"app.js","files":["components/*","app.js"],"keywords":["",""],"author":"cm-fe","license":"ISC","dependencies":{},"devDependencies":{}}');

/***/ }),

/***/ "./node_modules/ylh-quick-app-ad-sdk/package.json":
/*!********************************************************!*\
  !*** ./node_modules/ylh-quick-app-ad-sdk/package.json ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"ylh-quick-app-ad-sdk","version":"1.5.0","description":"","main":"index.js","scripts":{"test":"eslint ./","cz":"git cz","prepare":"husky install"},"keywords":["","","SDK"],"author":"zuoxingli4534@gmail.com","license":"ISC","devDependencies":{"@babel/cli":"^7.21.0","@babel/core":"^7.21.0","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-chaining":"^7.21.0","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","babel-loader":"^9.1.2","eslint":"^7.32.0 || ^8.2.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2","husky":"^8.0.3","less":"^4.1.3","less-loader":"^11.1.0"},"husky":{"hooks":{"pre-commit":"lint-staged"}}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	(() => {
/******/ 		__webpack_require__.amdO = {};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!********************!*\
  !*** ./src/app.ux ***!
  \********************/
var $app_script$ = __webpack_require__(/*! !!./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader?presets[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\preset-env,targets=node 8&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-transform-modules-commonjs&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-class-properties&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux */ "./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader/lib/index.js?presets[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\preset-env,targets=node 8&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-transform-modules-commonjs&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-class-properties&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux")

$app_define$('@app-application/app', [], function($app_require$, $app_exports$, $app_module$){

        $app_script$($app_module$, $app_exports$, $app_require$)
        if ($app_exports$.__esModule && $app_exports$.default) {
            $app_module$.exports = $app_exports$.default;
        }
})
$app_bootstrap$('@app-application/app',{packagerName:'fa-toolkit', packagerVersion: '14.0.1-Stable.300'})
})();

/******/ })()
;   };
                        if (typeof window === "undefined") {
                            return createAppHandler();
                        }
                        else {
                            window.createAppHandler = createAppHandler
                        }
                    })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGRcXGFwcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzVMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNyS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNySUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDaFNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDOUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3BVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM1akJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDcEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUN6RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDM3FEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3JYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3ZoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN6dURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM5VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUMxcUJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDaEdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7OztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZCQTs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ1BBOzs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRvcG9uL3F1aWNrLWFwcC1zZGstaHcvYXBwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdG9wb24vcXVpY2stYXBwLXNkay1ody9idW5kbGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9oZWxwZXIvYWpheC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2hlbHBlci9hcGlzL2V4YW1wbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9oZWxwZXIvYXBpcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2hlbHBlci9hcGlzL3VzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9oZWxwZXIvcHJvY2Vzc0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9oZWxwZXIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvSlNFbmNyeXB0LmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL0pTRW5jcnlwdFJTQUtleS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvYXNuMWpzL2FzbjEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvbGliL2FzbjFqcy9iYXNlNjQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvbGliL2FzbjFqcy9oZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvbGliL2FzbjFqcy9pbnQxMC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvanNibi9iYXNlNjQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvbGliL2pzYm4vanNibi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvanNibi9wcm5nNC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvanNibi9ybmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvbGliL2pzYm4vcnNhLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL2xpYi9qc2JuL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvbGliL2pzcnNhc2lnbi9hc24xLTEuMC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvanNyc2FzaWduL3lhaG9vLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy91bWVuZy91bWVuZ2FuYWx5c2lzLmVzLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanMtYmFzZTY0L2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanMtbWQ1L3NyYy9tZDUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuaW9uLXF1aWNrLWFwcC1hZC9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3lsaC1xdWljay1hcHAtYWQtc2RrL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy95bGgtcXVpY2stYXBwLWFkLXNkay91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vc3JjL2Q6XFxxdWlja2FwcFdvcmtzcGFjZVxcY29tLmhhaXR1by5zZXRwcGxhbmV0XFxzcmNcXGFwcC51eCIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2hlbHBlci9hcGlzLyBzeW5jIFxcLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy91bWVuZy8gc3luYyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9hbWQgb3B0aW9ucyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3NyYy9hcHAudXgiXSwic291cmNlc0NvbnRlbnQiOlsiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMDt2YXIgZT12KHJlcXVpcmUoXCJ1bmlvbi1xdWljay1hcHAtYWQvYXBwLmpzXCIpKSx0PXYoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5kZXZpY2VcIikpLG49digkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnBhY2thZ2VcIikpLG89digkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLm5ldHdvcmtcIikpLHI9digkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmFwcFwiKSksbD12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSksaT12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zZXJ2aWNlLmFkXCIpKSx1PXYoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5mZXRjaFwiKSksYT12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmlsZVwiKSksYz12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ucm91dGVyXCIpKSxzPXYoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5wcm9tcHRcIikpLGQ9dihyZXF1aXJlKFwianMtbWQ1XCIpKSxmPXYocmVxdWlyZShcImpzLWJhc2U2NFwiKSkscD12KHJlcXVpcmUoXCIuL2J1bmRsZVwiKSk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24geShlKXtyZXR1cm4geT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSx5KGUpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihvPW8uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLG8pfXJldHVybiBufWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybih0PWsodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxrKG8ua2V5KSxvKX19ZnVuY3Rpb24gayhlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXkoZSl8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgbz1uLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9eShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXkodCk/dDp0K1wiXCJ9dmFyICQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCl8fGdsb2JhbCxPPVwiaW50ZXJuYWw6Ly9maWxlcy90b3BvbmFkL1wiLmNvbmNhdChcIlwiLmNvbmNhdChcIjQuMi4xMVwiKSxcIi9jb3JlLXJlbmRlci5qc1wiKSx4PVwibG9jYWxcIixqPVwiaHR0cDovLzE5Mi4xNjguODYuMTEzOjcwMDFcIjtmdW5jdGlvbiB3KGUpe3RyeXtuZXcgRnVuY3Rpb24oZSkoKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwibG9hZCBzZGsgZXJyb3JcIixlKX19ZnVuY3Rpb24gUCgpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXt1LmRlZmF1bHQuZmV0Y2goe3VybDpcIlwiLmNvbmNhdChqLFwiL2NvcmUvcmVuZGVyL2NvcmUtcmVuZGVyLmpzXCIpLHJlc3BvbnNlVHlwZTpcInRleHRcIixtZXRob2Q6XCJHRVRcIixzdWNjZXNzOmZ1bmN0aW9uKHQpe2EuZGVmYXVsdC53cml0ZVRleHQoe3VyaTpPLHRleHQ6dC5kYXRhLHN1Y2Nlc3M6ZnVuY3Rpb24oKXt9LGZhaWw6ZnVuY3Rpb24oZSx0KXt9fSksZSh0LmRhdGEpfSxmYWlsOmZ1bmN0aW9uKGUsbil7dCgpfX0pfSkpfWZ1bmN0aW9uIF8oYSl7dHJ5e3ZhciBwOyQuJHRvcG9uX3NkayYmKCQuJHRvcG9uX3Nkay5hcGk9e2RldmljZTp0LmRlZmF1bHQscGtnOm4uZGVmYXVsdCxuZXR3b3JrOm8uZGVmYXVsdCxhcHA6ci5kZWZhdWx0LHN0b3JhZ2U6bC5kZWZhdWx0LGFkOmkuZGVmYXVsdCwkZmV0Y2g6dS5kZWZhdWx0LHJvdXRlcjpjLmRlZmF1bHQscHJvbXB0OnMuZGVmYXVsdCxtZDU6ZC5kZWZhdWx0LGpzQmFzZTY0OmYuZGVmYXVsdH0pLG5ldyAkLiR0b3Bvbl9zZGsodGhpcyxhKSxuZXcgZS5kZWZhdWx0KHRoaXMpO3ZhciB2PShudWxsPT1hfHxudWxsPT09KHA9YS5jb25maWcpfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLnlsaEFwcElkKXx8XCJcIjtpZih2KXRyeXtuZXcoMCxyZXF1aXJlKFwieWxoLXF1aWNrLWFwcC1hZC1zZGtcIikuZGVmYXVsdCkodGhpcyx7YXBwSWQ6dn0pfWNhdGNoKGUpe319Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImluaXQgc2RrIGVycm9yXCIsZSl9fXZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpO3ZhciBuPXQuYXBwLG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2IoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmgoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LHQpO3RoaXMuJGN0eD1uLGRlbGV0ZSBvLmFwcCwkJiYkLiR0b3Bvbl9zZGs/Xy5jYWxsKG4sbyk6XCJsb2NhbFwiPT09eD8ody5jYWxsKG4scC5kZWZhdWx0LCExKSxfLmNhbGwobixvKSk6YS5kZWZhdWx0LnJlYWRUZXh0KHt1cmk6TyxzdWNjZXNzOmZ1bmN0aW9uKGUpe3cuY2FsbChuLGUudGV4dCksXy5jYWxsKG4sbyl9LGZhaWw6ZnVuY3Rpb24oZSx0KXtQLmNhbGwobikudGhlbigoZnVuY3Rpb24oZSl7dy5jYWxsKG4sZSwhMSksXy5jYWxsKG4sbyl9KSl9fSl9dmFyIHQsbixvO3JldHVybiB0PWUsKG49W3trZXk6XCJzZXRDaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLiRjdHgpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudG9wb25fc2RrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zZXRDaGFubmVsLmNhbGwodGhpcy4kY3R4LGUpfX0se2tleTpcInNldFN1YkNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuJGN0eCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC50b3Bvbl9zZGspfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNldFN1YkNoYW5uZWwuY2FsbCh0aGlzLiRjdHgsZSl9fSx7a2V5Olwic2V0Q3VzdG9tUGFyYW1cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuJGN0eCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC50b3Bvbl9zZGspfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNldEN1c3RvbVBhcmFtLmNhbGwodGhpcy4kY3R4LGUpfX0se2tleTpcInNldFBsYWNlbWVudEN1c3RvbVBhcmFtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLiRjdHgpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudG9wb25fc2RrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zZXRQbGFjZW1lbnRDdXN0b21QYXJhbS5jYWxsKHRoaXMuJGN0eCxlKX19LHtrZXk6XCJvblNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLiRjdHgpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS4kZGVmKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUudG9wb25fc2RrKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZXZlbnQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5kZWVwbGluayl8fHZvaWQgMD09PWV8fGUucHVibGlzaChcImFwcC1vbi1zaG93XCIpLG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLiRjdHgpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudG9wb25fc2RrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vblNob3cuY2FsbCh0aGlzLiRjdHgpfX0se2tleTpcIm9uSGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGN0eCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5ldmVudCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmRlZXBsaW5rKXx8dm9pZCAwPT09ZXx8ZS5wdWJsaXNoKFwiYXBwLW9uLWhpZGVcIiksbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuJGN0eCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC50b3Bvbl9zZGspfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm9uSGlkZS5jYWxsKHRoaXMuJGN0eCl9fSx7a2V5Olwib25EZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGN0eCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm9uRGVzdHJveS5jYWxsKHRoaXMuJGN0eCl9fV0pJiZtKHQucHJvdG90eXBlLG4pLG8mJm0odCxvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KCk7ZXhwb3J0cy5kZWZhdWx0PWc7IiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdm9pZCAwO1xudmFyIF9kZWZhdWx0ID0gXCIhZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIGk9T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYobj1uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBlKGUpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tpXT9hcmd1bWVudHNbaV06e307aSUyP3QoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtjKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp0KE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGkoKXtpPWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3ZhciB0LGU9e30sbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLGkpe3RbZV09aS52YWx1ZX0sbz1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxkPW8uaXRlcmF0b3J8fFxcXCJAQGl0ZXJhdG9yXFxcIixzPW8uYXN5bmNJdGVyYXRvcnx8XFxcIkBAYXN5bmNJdGVyYXRvclxcXCIsbD1vLnRvU3RyaW5nVGFnfHxcXFwiQEB0b1N0cmluZ1RhZ1xcXCI7ZnVuY3Rpb24gYyh0LGUsaSl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtjKHt9LFxcXCJcXFwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFtlXT1pfX1mdW5jdGlvbiB1KHQsZSxpLG4pe3ZhciByPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgXz9lOl8sbz1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxkPW5ldyBEKG58fFtdKTtyZXR1cm4gYShvLFxcXCJfaW52b2tlXFxcIix7dmFsdWU6VCh0LGksZCl9KSxvfWZ1bmN0aW9uIGgodCxlLGkpe3RyeXtyZXR1cm57dHlwZTpcXFwibm9ybWFsXFxcIixhcmc6dC5jYWxsKGUsaSl9fWNhdGNoKHQpe3JldHVybnt0eXBlOlxcXCJ0aHJvd1xcXCIsYXJnOnR9fX1lLndyYXA9dTt2YXIgcD1cXFwic3VzcGVuZGVkU3RhcnRcXFwiLGY9XFxcImV4ZWN1dGluZ1xcXCIsdj1cXFwiY29tcGxldGVkXFxcIixtPXt9O2Z1bmN0aW9uIF8oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiB5KCl7fXZhciBJPXt9O2MoSSxkLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZixrPWImJmIoYihMKFtdKSkpO2smJmshPT1uJiZyLmNhbGwoayxkKSYmKEk9ayk7dmFyIHc9eS5wcm90b3R5cGU9Xy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShJKTtmdW5jdGlvbiB4KHQpe1tcXFwibmV4dFxcXCIsXFxcInRocm93XFxcIixcXFwicmV0dXJuXFxcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBTKHQsZSl7ZnVuY3Rpb24gaShuLGEsbyxkKXt2YXIgcz1oKHRbbl0sdCxhKTtpZihcXFwidGhyb3dcXFwiIT09cy50eXBlKXt2YXIgbD1zLmFyZyxjPWwudmFsdWU7cmV0dXJuIGMmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYyYmci5jYWxsKGMsXFxcIl9fYXdhaXRcXFwiKT9lLnJlc29sdmUoYy5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtpKFxcXCJuZXh0XFxcIix0LG8sZCl9KSwoZnVuY3Rpb24odCl7aShcXFwidGhyb3dcXFwiLHQsbyxkKX0pKTplLnJlc29sdmUoYykudGhlbigoZnVuY3Rpb24odCl7bC52YWx1ZT10LG8obCl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGkoXFxcInRocm93XFxcIix0LG8sZCl9KSl9ZChzLmFyZyl9dmFyIG47YSh0aGlzLFxcXCJfaW52b2tlXFxcIix7dmFsdWU6ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG4pe2kodCxyLGUsbil9KSl9cmV0dXJuIG49bj9uLnRoZW4oYSxhKTphKCl9fSl9ZnVuY3Rpb24gVChlLGksbil7dmFyIHI9cDtyZXR1cm4gZnVuY3Rpb24oYSxvKXtpZihyPT09Zil0aHJvdyBFcnJvcihcXFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1xcXCIpO2lmKHI9PT12KXtpZihcXFwidGhyb3dcXFwiPT09YSl0aHJvdyBvO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihuLm1ldGhvZD1hLG4uYXJnPW87Oyl7dmFyIGQ9bi5kZWxlZ2F0ZTtpZihkKXt2YXIgcz1BKGQsbik7aWYocyl7aWYocz09PW0pY29udGludWU7cmV0dXJuIHN9fWlmKFxcXCJuZXh0XFxcIj09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoXFxcInRocm93XFxcIj09PW4ubWV0aG9kKXtpZihyPT09cCl0aHJvdyByPXYsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZVxcXCJyZXR1cm5cXFwiPT09bi5tZXRob2QmJm4uYWJydXB0KFxcXCJyZXR1cm5cXFwiLG4uYXJnKTtyPWY7dmFyIGw9aChlLGksbik7aWYoXFxcIm5vcm1hbFxcXCI9PT1sLnR5cGUpe2lmKHI9bi5kb25lP3Y6XFxcInN1c3BlbmRlZFlpZWxkXFxcIixsLmFyZz09PW0pY29udGludWU7cmV0dXJue3ZhbHVlOmwuYXJnLGRvbmU6bi5kb25lfX1cXFwidGhyb3dcXFwiPT09bC50eXBlJiYocj12LG4ubWV0aG9kPVxcXCJ0aHJvd1xcXCIsbi5hcmc9bC5hcmcpfX19ZnVuY3Rpb24gQShlLGkpe3ZhciBuPWkubWV0aG9kLHI9ZS5pdGVyYXRvcltuXTtpZihyPT09dClyZXR1cm4gaS5kZWxlZ2F0ZT1udWxsLFxcXCJ0aHJvd1xcXCI9PT1uJiZlLml0ZXJhdG9yLnJldHVybiYmKGkubWV0aG9kPVxcXCJyZXR1cm5cXFwiLGkuYXJnPXQsQShlLGkpLFxcXCJ0aHJvd1xcXCI9PT1pLm1ldGhvZCl8fFxcXCJyZXR1cm5cXFwiIT09biYmKGkubWV0aG9kPVxcXCJ0aHJvd1xcXCIsaS5hcmc9bmV3IFR5cGVFcnJvcihcXFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXFxcIituK1xcXCInIG1ldGhvZFxcXCIpKSxtO3ZhciBhPWgocixlLml0ZXJhdG9yLGkuYXJnKTtpZihcXFwidGhyb3dcXFwiPT09YS50eXBlKXJldHVybiBpLm1ldGhvZD1cXFwidGhyb3dcXFwiLGkuYXJnPWEuYXJnLGkuZGVsZWdhdGU9bnVsbCxtO3ZhciBvPWEuYXJnO3JldHVybiBvP28uZG9uZT8oaVtlLnJlc3VsdE5hbWVdPW8udmFsdWUsaS5uZXh0PWUubmV4dExvYyxcXFwicmV0dXJuXFxcIiE9PWkubWV0aG9kJiYoaS5tZXRob2Q9XFxcIm5leHRcXFwiLGkuYXJnPXQpLGkuZGVsZWdhdGU9bnVsbCxtKTpvOihpLm1ldGhvZD1cXFwidGhyb3dcXFwiLGkuYXJnPW5ldyBUeXBlRXJyb3IoXFxcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XFxcIiksaS5kZWxlZ2F0ZT1udWxsLG0pfWZ1bmN0aW9uIEUodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gQyh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cXFwibm9ybWFsXFxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gRCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XFxcInJvb3RcXFwifV0sdC5mb3JFYWNoKEUsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gTChlKXtpZihlfHxcXFwiXFxcIj09PWUpe3ZhciBpPWVbZF07aWYoaSlyZXR1cm4gaS5jYWxsKGUpO2lmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG49LTEsYT1mdW5jdGlvbiBpKCl7Zm9yKDsrK248ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG4pKXJldHVybiBpLnZhbHVlPWVbbl0saS5kb25lPSExLGk7cmV0dXJuIGkudmFsdWU9dCxpLmRvbmU9ITAsaX07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKHR5cGVvZiBlK1xcXCIgaXMgbm90IGl0ZXJhYmxlXFxcIil9cmV0dXJuIGcucHJvdG90eXBlPXksYSh3LFxcXCJjb25zdHJ1Y3RvclxcXCIse3ZhbHVlOnksY29uZmlndXJhYmxlOiEwfSksYSh5LFxcXCJjb25zdHJ1Y3RvclxcXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKHksbCxcXFwiR2VuZXJhdG9yRnVuY3Rpb25cXFwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWd8fFxcXCJHZW5lcmF0b3JGdW5jdGlvblxcXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LHkpOih0Ll9fcHJvdG9fXz15LGModCxsLFxcXCJHZW5lcmF0b3JGdW5jdGlvblxcXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLHR9LGUuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LHgoUy5wcm90b3R5cGUpLGMoUy5wcm90b3R5cGUscywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9UyxlLmFzeW5jPWZ1bmN0aW9uKHQsaSxuLHIsYSl7dm9pZCAwPT09YSYmKGE9UHJvbWlzZSk7dmFyIG89bmV3IFModSh0LGksbixyKSxhKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKGkpP286by5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOm8ubmV4dCgpfSkpfSx4KHcpLGModyxsLFxcXCJHZW5lcmF0b3JcXFwiKSxjKHcsZCwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxjKHcsXFxcInRvU3RyaW5nXFxcIiwoZnVuY3Rpb24oKXtyZXR1cm5cXFwiW29iamVjdCBHZW5lcmF0b3JdXFxcIn0pKSxlLmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLGk9W107Zm9yKHZhciBuIGluIGUpaS5wdXNoKG4pO3JldHVybiBpLnJldmVyc2UoKSxmdW5jdGlvbiB0KCl7Zm9yKDtpLmxlbmd0aDspe3ZhciBuPWkucG9wKCk7aWYobiBpbiBlKXJldHVybiB0LnZhbHVlPW4sdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sZS52YWx1ZXM9TCxELnByb3RvdHlwZT17Y29uc3RydWN0b3I6RCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XFxcIm5leHRcXFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goQyksIWUpZm9yKHZhciBpIGluIHRoaXMpXFxcInRcXFwiPT09aS5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLGkpJiYhaXNOYU4oK2kuc2xpY2UoMSkpJiYodGhpc1tpXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcXFwidGhyb3dcXFwiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBpPXRoaXM7ZnVuY3Rpb24gbihuLHIpe3JldHVybiBkLnR5cGU9XFxcInRocm93XFxcIixkLmFyZz1lLGkubmV4dD1uLHImJihpLm1ldGhvZD1cXFwibmV4dFxcXCIsaS5hcmc9dCksISFyfWZvcih2YXIgYT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7YT49MDstLWEpe3ZhciBvPXRoaXMudHJ5RW50cmllc1thXSxkPW8uY29tcGxldGlvbjtpZihcXFwicm9vdFxcXCI9PT1vLnRyeUxvYylyZXR1cm4gbihcXFwiZW5kXFxcIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIHM9ci5jYWxsKG8sXFxcImNhdGNoTG9jXFxcIiksbD1yLmNhbGwobyxcXFwiZmluYWxseUxvY1xcXCIpO2lmKHMmJmwpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBuKG8uY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIG4oby5maW5hbGx5TG9jKX1lbHNlIGlmKHMpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBuKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIWwpdGhyb3cgRXJyb3IoXFxcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XFxcIik7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gbihvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbaV07aWYobi50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG4sXFxcImZpbmFsbHlMb2NcXFwiKSYmdGhpcy5wcmV2PG4uZmluYWxseUxvYyl7dmFyIGE9bjticmVha319YSYmKFxcXCJicmVha1xcXCI9PT10fHxcXFwiY29udGludWVcXFwiPT09dCkmJmEudHJ5TG9jPD1lJiZlPD1hLmZpbmFsbHlMb2MmJihhPW51bGwpO3ZhciBvPWE/YS5jb21wbGV0aW9uOnt9O3JldHVybiBvLnR5cGU9dCxvLmFyZz1lLGE/KHRoaXMubWV0aG9kPVxcXCJuZXh0XFxcIix0aGlzLm5leHQ9YS5maW5hbGx5TG9jLG0pOnRoaXMuY29tcGxldGUobyl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXFxcInRocm93XFxcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cXFwiYnJlYWtcXFwiPT09dC50eXBlfHxcXFwiY29udGludWVcXFwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcXFwicmV0dXJuXFxcIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVxcXCJyZXR1cm5cXFwiLHRoaXMubmV4dD1cXFwiZW5kXFxcIik6XFxcIm5vcm1hbFxcXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksbX0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBpPXRoaXMudHJ5RW50cmllc1tlXTtpZihpLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKGkuY29tcGxldGlvbixpLmFmdGVyTG9jKSxDKGkpLG19fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgaT10aGlzLnRyeUVudHJpZXNbZV07aWYoaS50cnlMb2M9PT10KXt2YXIgbj1pLmNvbXBsZXRpb247aWYoXFxcInRocm93XFxcIj09PW4udHlwZSl7dmFyIHI9bi5hcmc7QyhpKX1yZXR1cm4gcn19dGhyb3cgRXJyb3IoXFxcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFxcXCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsaSxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6TChlKSxyZXN1bHROYW1lOmksbmV4dExvYzpufSxcXFwibmV4dFxcXCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLG19fSxlfWZ1bmN0aW9uIG4odCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIHR8fCF0KXJldHVybiB0O3ZhciBpPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwodCxlfHxcXFwiZGVmYXVsdFxcXCIpO2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgbilyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlxcXCIpfXJldHVybihcXFwic3RyaW5nXFxcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXFxcInN0cmluZ1xcXCIpO3JldHVyblxcXCJzeW1ib2xcXFwiPT10eXBlb2YgZT9lOmUrXFxcIlxcXCJ9ZnVuY3Rpb24gcih0KXtyZXR1cm4gcj1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgU3ltYm9sJiZcXFwic3ltYm9sXFxcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cXFwic3ltYm9sXFxcIjp0eXBlb2YgdH0scih0KX1mdW5jdGlvbiBhKHQsZSxpLG4scixhLG8pe3RyeXt2YXIgZD10W2FdKG8pLHM9ZC52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBpKHQpfWQuZG9uZT9lKHMpOlByb21pc2UucmVzb2x2ZShzKS50aGVuKG4scil9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLGk9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgbz10LmFwcGx5KGUsaSk7ZnVuY3Rpb24gZCh0KXthKG8sbixyLGQscyxcXFwibmV4dFxcXCIsdCl9ZnVuY3Rpb24gcyh0KXthKG8sbixyLGQscyxcXFwidGhyb3dcXFwiLHQpfWQodm9pZCAwKX0pKX19ZnVuY3Rpb24gZCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIHModCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHI9ZVtpXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4oci5rZXkpLHIpfX1mdW5jdGlvbiBsKHQsZSxpKXtyZXR1cm4gZSYmcyh0LnByb3RvdHlwZSxlKSxpJiZzKHQsaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXFxcInByb3RvdHlwZVxcXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBjKHQsZSxpKXtyZXR1cm4oZT1uKGUpKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09aSx0fWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKX0odCk9PT1lfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHUodCxcXFwiU3RyaW5nXFxcIil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gdSh0LFxcXCJOdW1iZXJcXFwiKX1mdW5jdGlvbiBmKHQpe3JldHVybiB1KHQsXFxcIk9iamVjdFxcXCIpfWZ1bmN0aW9uIHYodCl7Zm9yKHZhciBlIGluIHQpaWYoe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG0odCxlKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KSxuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpO2lmKGkubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKz0xKXt2YXIgYT1pW3JdO2lmKHRbYV0hPT1lW2FdKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIF8odCl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0KXRyeXt2YXIgZT1KU09OLnBhcnNlKHQpO3JldHVybiEoXFxcIm9iamVjdFxcXCIhPT1yKGUpfHwhZSl9Y2F0Y2godCl7cmV0dXJuITF9fXZhciBnPXtWSVZPOjU0LE9QUE86NTUsQkFJRFU6NTYsSFVBV0VJOjYwLFhJQU9NSTo2MSxIVUFXRUlfQUdEX1BSTzo2MixIT05PUjo2MyxZTEg6NjQsQURYOjY2fSx5PXtWSVZPOjU0LE9QUE86NTUsWUxIOjY0fTtmdW5jdGlvbiBJKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPWUuc2VwYXJhdG9yfHxcXFwiLVxcXCIsbj1lLnNwbGl0fHwvKD89W0EtWl0pLztyZXR1cm4gdC5zcGxpdChuKS5qb2luKGkpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcXFwiXFxcIixlPVxcXCJoYlxcXCI9PT10P3k6ZyxpPU9iamVjdC52YWx1ZXMoZSl8fFtdO3JldHVybiBpfXZhciBrPVtcXFwiY29udGFpbmVyU3R5bGVcXFwiLFxcXCJpbWdTdHlsZVxcXCIsXFxcInRpdGxlU3R5bGVcXFwiLFxcXCJidXR0b25TdHlsZVxcXCIsXFxcImRlc2NTdHlsZVxcXCJdLHc9e2c6ZnVuY3Rpb24oKXtpZihcXFwib2JqZWN0XFxcIj09KFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZ2xvYmFsVGhpcz9cXFwidW5kZWZpbmVkXFxcIjpyKGdsb2JhbFRoaXMpKSlyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbihcXFwicmV0dXJuIHRoaXNcXFwiKSgpfWNhdGNoKHQpe2lmKFxcXCJvYmplY3RcXFwiPT0oXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiB3aW5kb3c/XFxcInVuZGVmaW5lZFxcXCI6cih3aW5kb3cpKSlyZXR1cm4gd2luZG93fX0oKX0seD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yody5nKXx8dy5nO2Z1bmN0aW9uIFMoKXtyZXR1cm4geCYmeC4kdG9wb25fc2RrP3guJHRvcG9uX3Nkay5hcGk6bnVsbH1mdW5jdGlvbiBUKHQsZSl7dmFyIGk9W107Zm9yKHZhciBuIGluIGUpaS5wdXNoKG4rXFxcIj1cXFwiK2Vbbl0pO3ZhciByPWkuam9pbihcXFwiJlxcXCIpO3JldHVybiByP1xcXCJcXFwiLmNvbmNhdCh0LFxcXCI/XFxcIikuY29uY2F0KHIpOnR9ZnVuY3Rpb24gQSh0LGUpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUtdCkpK3R9ZnVuY3Rpb24gRSh0LGUpe2Zvcih2YXIgaT1lLmxlbmd0aCxuPVtdLHI9MDtyPGk7cisrKXt2YXIgYT1lW3JdLmtleSxvPWVbcl0udmFsdWUsZD1cXFwiXFxcIi5jb25jYXQoYSxcXFwiPVxcXCIpLmNvbmNhdChvKTtuLnB1c2goZCl9cmV0dXJuIEwodCtuLmpvaW4oXFxcIiZcXFwiKSl9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gUygpLmpzQmFzZTY0LkJhc2U2NC5lbmNvZGUodCl9ZnVuY3Rpb24gRCh0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvXFxcXC8vZyxcXFwiXFxcXFxcXFwvXFxcIil9ZnVuY3Rpb24gTCh0KXtyZXR1cm4oMCxTKCkubWQ1KSh0KS50b1N0cmluZygpfWZ1bmN0aW9uIE8odCxpKXt2YXIgbj1lKHt9LHQpO3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdJiZ0W2VdPT09aVtlXXx8KG5bZV09aVtlXSl9KSksbn1mdW5jdGlvbiBSKCl7dmFyIHQsZT0obnVsbD09PSh0PWdsb2JhbCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubmF2aWdhdG9yKXx8e30saT1lLnVzZXJBZ2VudHx8XFxcIlxcXCIsbj1lLnZlbmRvcnx8XFxcIlxcXCI7cmV0dXJuXFxcIlxcXCIuY29uY2F0KGksXFxcIiBcXFwiKS5jb25jYXQobikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBQKHQsZSxpKXt2YXIgbj10Lm53RmlybUlkc3x8W107cmV0dXJuKHQudW5pdElkc3x8W10pLmluY2x1ZGVzKDEqaSk/OTAwNjpuLmluY2x1ZGVzKDEqZSk/OTAwNzowfWZ1bmN0aW9uIFUodCxlKXtlfHwoZT10aGlzLiRhcHAmJnRoaXMuJGFwcC4kZGVmLm1hbmlmZXN0LmNvbmZpZyYmdGhpcy4kYXBwLiRkZWYubWFuaWZlc3QuY29uZmlnLmRlc2lnbldpZHRoKTt2YXIgaT1wKGUpP2UvNzUwOjEsbj17fTtmb3IodmFyIHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKWlmKHRbcl0mJmYodFtyXSkpbltyXT1VLmNhbGwodGhpcyx0W3JdKTtlbHNlIGlmKGgodFtyXSkmJnRbcl0uZW5kc1dpdGgoXFxcInB4XFxcIikpe3ZhciBhPXBhcnNlSW50KHRbcl0uc3BsaXQoXFxcInB4XFxcIilbMF0sMTApO3AoYSkmJihuW3JdPWEqaStcXFwicHhcXFwiKX1lbHNlIG5bcl09dFtyXTtyZXR1cm4gbn1mdW5jdGlvbiAkKHQsZSl7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxuPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpLHI9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7aWYoaSlmb3IodmFyIGEgaW4gcilrLmluY2x1ZGVzKGEpfHxkZWxldGUgclthXTtmdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIG49ZVtpXTtpZihmKG4pKWZvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJihmKG5bcl0pP28odFtpXVtyXSxuW3JdKTohdFtpXXx8dFtpXVtyXSYmdFtpXVtyXT09PW5bcl18fCh0W2ldW3JdPW5bcl0pKTtlbHNlIHRbaV0mJnRbaV09PT1ufHwodFtpXT1uKX19cmV0dXJuIG8obixyKSxudWxsIT1uJiZuLmltZ1Byb3BlcnRpZXNTdHlsZSYmbnVsbCE9biYmbi5pbWdTdHlsZSYmKG4uaW1nUHJvcGVydGllc1N0eWxlPU9iamVjdC5hc3NpZ24oe30sbi5pbWdQcm9wZXJ0aWVzU3R5bGUsbi5pbWdTdHlsZSksZGVsZXRlIG4uaW1nUHJvcGVydGllc1N0eWxlLnBvc2l0aW9uKSxufWZ1bmN0aW9uIE4odCxlLGkpe3ZhciBuLHIsYSxvPW51bGwhPT0obj1udWxsIT09KHI9bnVsbD09PShhPXRoaXMuJGFwcCl8fHZvaWQgMD09PWE/dm9pZCAwOmEuJGRlZikmJnZvaWQgMCE9PXI/cjp0aGlzLiRkZWYpJiZ2b2lkIDAhPT1uP246bnVsbDtvJiZudWxsIT1vJiZvLnRvcG9uX3NkayYmKG8udG9wb25fc2RrLmNhY2hlW3RdfHwoby50b3Bvbl9zZGsuY2FjaGVbdF09T2JqZWN0LmNyZWF0ZShudWxsKSksby50b3Bvbl9zZGsuY2FjaGVbdF1bZV09aSl9ZnVuY3Rpb24gaih0LGUpe3ZhciBpLG4scixhLG8sZD1udWxsIT09KGk9bnVsbCE9PShuPW51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLiRkZWYpJiZ2b2lkIDAhPT1uP246dGhpcy4kZGVmKSYmdm9pZCAwIT09aT9pOm51bGw7cmV0dXJuIGQmJm51bGwhPWQmJmQudG9wb25fc2RrJiZudWxsIT09KGE9bnVsbD09PShvPWQudG9wb25fc2RrKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uY2FjaGVbdF0pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvW2VdKSYmdm9pZCAwIT09YT9hOm51bGx9ZnVuY3Rpb24gRih0LGUpe3ZhciBpLG4scixhLG8sZD1udWxsIT09KGk9bnVsbD09dD92b2lkIDA6dC53aWR0aCkmJnZvaWQgMCE9PWk/aTowLHM9bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQuaGVpZ2h0KSYmdm9pZCAwIT09bj9uOjAsbD1udWxsIT09KHI9bnVsbD09ZT92b2lkIDA6ZS5zY3JlZW5XaWR0aCkmJnZvaWQgMCE9PXI/cjo3NTAsYz1udWxsIT09KGE9bnVsbD09ZT92b2lkIDA6ZS5zY3JlZW5IZWlnaHQpJiZ2b2lkIDAhPT1hP2E6MTQxNSx1PShudWxsPT09KG89dGhpcy4kYXBwKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uJGRlZil8fHZvaWQgMD09PW98fG51bGw9PT0obz1vLm1hbmlmZXN0KXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uY29uZmlnKXx8dm9pZCAwPT09bz92b2lkIDA6by5kZXNpZ25XaWR0aCl8fDc1MDtyZXR1cm4gZCpzLyh1Kih1KihjL2wpKSl9ZnVuY3Rpb24gQih0KXt2YXIgZT10aGlzO251bGwhPXRoaXMmJnRoaXMuJG5leHRUaWNrP3RoaXMuJG5leHRUaWNrKChmdW5jdGlvbigpe3JldHVybiB0LmNhbGwoZSl9KSk6dm9pZCAwIT09KFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgUHJvbWlzZT9cXFwidW5kZWZpbmVkXFxcIjpyKFByb21pc2UpKT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKHQpOnNldFRpbWVvdXQodCwwKX12YXIgVz1cXFwiVE9QT05fQURfQ0FDSEVcXFwiLHE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7ZCh0aGlzLHQpLHRoaXMuX3N0b3JhZ2U9e319dmFyIGUsbixyLGE7cmV0dXJuIGwodCxbe2tleTpcXFwiX2dldEtleVxcXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZighZSlyZXR1cm4gdDt2YXIgaT1JKHQse3NlcGFyYXRvcjpcXFwiX1xcXCJ9KTtyZXR1cm4gaT1cXFwiXFxcIi5jb25jYXQoVyxcXFwiX1xcXCIpLmNvbmNhdChpLnRvVXBwZXJDYXNlKCkpfX0se2tleTpcXFwiYmF0Y2hcXFwiLHZhbHVlOihhPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhPXRoaXMsbz1hcmd1bWVudHM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj0hKG8ubGVuZ3RoPjEmJnZvaWQgMCE9PW9bMV0pfHxvWzFdLHI9W10sT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ci5wdXNoKGEuc2V0SXRlbSh0LGVbdF0sbikpfSkpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UuYWxsKHIpKTtjYXNlIDQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSksZnVuY3Rpb24odCl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcInNldEl0ZW1cXFwiLHZhbHVlOihyPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcixhLG8sZCxzPWFyZ3VtZW50cztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiByPSEocy5sZW5ndGg+MiYmdm9pZCAwIT09c1syXSl8fHNbMl0sYT10aGlzLl9nZXRLZXkoZSxyKSxvPVMoKSxkPW8uc3RvcmFnZSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixkLnNldCh7a2V5OmEsdmFsdWU6bn0pKTtjYXNlIDQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0LGUpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlxcXCJnZXRJdGVtXFxcIix2YWx1ZToobj1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYSxvLGQscyxsLGM9YXJndW1lbnRzO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9IShjLmxlbmd0aD4xJiZ2b2lkIDAhPT1jWzFdKXx8Y1sxXSxhPXRoaXMuX2dldEtleShlLHIpLG89UygpLGQ9by5zdG9yYWdlLHQubmV4dD01LGQuZ2V0KHtrZXk6YX0pO2Nhc2UgNTpyZXR1cm4gcz10LnNlbnQsbD1udWxsIT09KG49bnVsbD09cz92b2lkIDA6cy5kYXRhKSYmdm9pZCAwIT09bj9uOlxcXCJcXFwiLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLF8obCk/SlNPTi5wYXJzZShsKTpsKTtjYXNlIDg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0KXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcXFwiZGVsZXRlXFxcIix2YWx1ZTooZT1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYT1hcmd1bWVudHM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpuPSEoYS5sZW5ndGg+MSYmdm9pZCAwIT09YVsxXSl8fGFbMV0scj10aGlzLl9nZXRLZXkoZSxuKSxTKCkuc3RvcmFnZS5kZWxldGUoe2tleTpyfSk7Y2FzZSA0OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcImNsZWFyXFxcIix2YWx1ZTpmdW5jdGlvbigpe1MoKS5zdG9yYWdlLmNsZWFyKCl9fV0pLHR9KCksTT1uZXcgcSxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2QodGhpcyx0KSx0aGlzLl9kZXZpY2U9e319dmFyIGUsbixyLGEscztyZXR1cm4gbCh0LFt7a2V5OlxcXCJnZXRJbmZvXFxcIix2YWx1ZToocz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxuPVMoKSxyPW4uZGV2aWNlLHQubmV4dD00LHIuZ2V0SW5mbygpO2Nhc2UgNDpyZXR1cm4gYT10LnNlbnQsbz1udWxsIT09KGU9bnVsbD09YT92b2lkIDA6YS5kYXRhKSYmdm9pZCAwIT09ZT9lOnt9LHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLG8pO2Nhc2UgOTp0LnByZXY9OSx0LnQwPXQuY2F0Y2goMCk7Y2FzZSAxMTpyZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse30pO2Nhc2UgMTI6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1swLDldXSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcImdldEFkdmVydGlzaW5nSWRcXFwiLHZhbHVlOihhPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAscj1TKCksYT1yLmRldmljZSx0Lm5leHQ9NCxhLmdldEFkdmVydGlzaW5nSWQoKTtjYXNlIDQ6cmV0dXJuIG89dC5zZW50LGQ9bnVsbCE9PShlPW51bGw9PW98fG51bGw9PT0obj1vLmRhdGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmFkdmVydGlzaW5nSWQpJiZ2b2lkIDAhPT1lP2U6XFxcIlxcXCIsdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsZCk7Y2FzZSA5OnQucHJldj05LHQudDA9dC5jYXRjaCgwKTtjYXNlIDExOnJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixcXFwiXFxcIik7Y2FzZSAxMjpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzAsOV1dKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcXFwiZ2V0T2FJZFxcXCIsdmFsdWU6KHI9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxyPVMoKSxhPXIuZGV2aWNlLHQubmV4dD00LGEuZ2V0T0FJRCgpO2Nhc2UgNDpyZXR1cm4gbz10LnNlbnQsZD1udWxsIT09KGU9bnVsbD09b3x8bnVsbD09PShuPW8uZGF0YSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ub2FpZCkmJnZvaWQgMCE9PWU/ZTpcXFwiXFxcIix0LmFicnVwdChcXFwicmV0dXJuXFxcIixkKTtjYXNlIDk6dC5wcmV2PTksdC50MD10LmNhdGNoKDApO2Nhc2UgMTE6cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFxcXCJcXFwiKTtjYXNlIDEyOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMCw5XV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlxcXCJnZXRVc2VySWRcXFwiLHZhbHVlOihuPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAscj1TKCksYT1yLmRldmljZSx0Lm5leHQ9NCxhLmdldFVzZXJJZCgpO2Nhc2UgNDpyZXR1cm4gbz10LnNlbnQsZD1udWxsIT09KGU9bnVsbD09b3x8bnVsbD09PShuPW8uZGF0YSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udXNlcklkKSYmdm9pZCAwIT09ZT9lOlxcXCJcXFwiLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGQpO2Nhc2UgOTp0LnByZXY9OSx0LnQwPXQuY2F0Y2goMCk7Y2FzZSAxMTpyZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsXFxcIlxcXCIpO2Nhc2UgMTI6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1swLDldXSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcImdldERldmljZUlkc1xcXCIsdmFsdWU6KGU9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGcseSxJLGIsayx3O3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGU9XFxcIlxcXCIsbj1cXFwiXFxcIixyPVxcXCJcXFwiLGE9XFxcIlxcXCIsbz1TKCksZD1vLmRldmljZSx0LnByZXY9Mix0Lm5leHQ9NSxNLmdldEl0ZW0oXFxcIm5lZWREZXZpY2VcXFwiKTtjYXNlIDU6aWYoXFxcIjFcXFwiIT10LnNlbnQpe3QubmV4dD0xNzticmVha31yZXR1cm4gdC5uZXh0PTksZC5nZXRJZCh7dHlwZTpbXFxcImRldmljZVxcXCIsXFxcIm1hY1xcXCIsXFxcInVzZXJcXFwiXX0pO2Nhc2UgOTpwPXQuc2VudCxmPW51bGwhPT0ocz1udWxsPT1wP3ZvaWQgMDpwLmRhdGEpJiZ2b2lkIDAhPT1zP3M6e30sZT1udWxsIT09KGw9bnVsbD09Zj92b2lkIDA6Zi5hZHZlcnRpc2luZykmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIixuPW51bGwhPT0oYz1udWxsPT1mP3ZvaWQgMDpmLnVzZXIpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIscj1udWxsIT09KHU9bnVsbD09Zj92b2lkIDA6Zi5kZXZpY2UpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCIsYT1udWxsIT09KGg9bnVsbD09Zj92b2lkIDA6Zi5tYWMpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsdC5uZXh0PTMwO2JyZWFrO2Nhc2UgMTc6cmV0dXJuIHQubmV4dD0xOSxkLmdldFVzZXJJZCgpO2Nhc2UgMTk6cmV0dXJuIF89dC5zZW50LG49bnVsbCE9PSh2PW51bGw9PV98fG51bGw9PT0obT1fLmRhdGEpfHx2b2lkIDA9PT1tP3ZvaWQgMDptLnVzZXJJZCkmJnZvaWQgMCE9PXY/djpcXFwiXFxcIix0LnByZXY9MjEsdC5uZXh0PTI0LGQuZ2V0QWR2ZXJ0aXNpbmdJZCgpO2Nhc2UgMjQ6ST10LnNlbnQsZT1udWxsIT09KGc9bnVsbD09SXx8bnVsbD09PSh5PUkuZGF0YSl8fHZvaWQgMD09PXk/dm9pZCAwOnkuYWR2ZXJ0aXNpbmdJZCkmJnZvaWQgMCE9PWc/ZzpcXFwiXFxcIix0Lm5leHQ9MzA7YnJlYWs7Y2FzZSAyODp0LnByZXY9MjgsdC50MD10LmNhdGNoKDIxKTtjYXNlIDMwOnQubmV4dD0zOTticmVhaztjYXNlIDMyOnJldHVybiB0LnByZXY9MzIsdC50MT10LmNhdGNoKDIpLDIwMT09PXQudDEuY29kZSYmTS5zZXRJdGVtKFxcXCJuZWVkRGV2aWNlXFxcIixcXFwiMFxcXCIpLHQubmV4dD0zNyxkLmdldFVzZXJJZCgpO2Nhc2UgMzc6dz10LnNlbnQsbj1udWxsIT09KGI9bnVsbD09d3x8bnVsbD09PShrPXcuZGF0YSl8fHZvaWQgMD09PWs/dm9pZCAwOmsudXNlcklkKSYmdm9pZCAwIT09Yj9iOlxcXCJcXFwiO2Nhc2UgMzk6cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtkZXZpY2U6cixtYWM6YSx1c2VyOm4sYWR2ZXJ0aXNpbmc6ZX0pO2Nhc2UgNDA6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1syLDMyXSxbMjEsMjhdXSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksdH0oKSxIPW5ldyBWO2Z1bmN0aW9uIEcoKXtyZXR1cm4gWS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWSgpe3JldHVybihZPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQscyxsLGMsdTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiByPVxcXCJ1cElkXFxcIixhPVxcXCJcXFwiLHQubmV4dD00LE0uZ2V0SXRlbShyKTtjYXNlIDQ6aWYobz10LnNlbnQsW1xcXCJkNDFkOGNkOThmMDBiMjA0ZTk4MDA5OThlY2Y4NDI3ZVxcXCIsXFxcIjlmODljODRhNTU5ZjU3MzYzNmE0N2ZmOGRhZWQwZDMzXFxcIl0uaW5jbHVkZXMoYT1vKSYmKGE9XFxcIlxcXCIsTS5kZWxldGUocikpLCFhKXt0Lm5leHQ9OTticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsYSk7Y2FzZSA5OnJldHVybiB0Lm5leHQ9MTEsSC5nZXREZXZpY2VJZHMoKTtjYXNlIDExOnJldHVybiBkPXQuc2VudCx0Lm5leHQ9MTQsSC5nZXRPYUlkKCk7Y2FzZSAxNDppZih0LnQwPXQuc2VudCx0LnQwKXt0Lm5leHQ9MTc7YnJlYWt9dC50MD1cXFwiXFxcIjtjYXNlIDE3OmlmKHM9dC50MCxsPW51bGwhPT0oZT1udWxsPT1kP3ZvaWQgMDpkLmFkdmVydGlzaW5nKSYmdm9pZCAwIT09ZT9lOlxcXCJcXFwiLGM9bnVsbCE9PShuPW51bGw9PWQ/dm9pZCAwOmQudXNlcikmJnZvaWQgMCE9PW4/bjpcXFwiXFxcIiwhbCl7dC5uZXh0PTI0O2JyZWFrfWE9TChsKSx0Lm5leHQ9MzY7YnJlYWs7Y2FzZSAyNDppZighc3x8XFxcIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMFxcXCI9PT1zKXt0Lm5leHQ9Mjg7YnJlYWt9YT1MKHMpLHQubmV4dD0zNjticmVhaztjYXNlIDI4OmlmKCFjKXt0Lm5leHQ9MzI7YnJlYWt9YT1MKGMpLHQubmV4dD0zNjticmVhaztjYXNlIDMyOnJldHVybiB0Lm5leHQ9MzQsTS5nZXRJdGVtKFxcXCJhcHBJZFxcXCIpO2Nhc2UgMzQ6dT10LnNlbnQsYT1MKHUrRGF0ZS5ub3coKStBKDAsMWU4KSk7Y2FzZSAzNjpyZXR1cm4gdC5uZXh0PTM4LE0uc2V0SXRlbShyLGEpO2Nhc2UgMzg6cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGEpO2Nhc2UgMzk6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBLKCl7cmV0dXJuIHouYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHooKXtyZXR1cm4oej1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGE7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsRygpO2Nhc2UgMjpyZXR1cm4gZT10LnNlbnQsdC5uZXh0PTUsTS5nZXRJdGVtKFxcXCJhcHBJZFxcXCIpO2Nhc2UgNTpyZXR1cm4gbj10LnNlbnQsdC5uZXh0PTgsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDg6cmV0dXJuIHI9dC5zZW50LGE9TChlK24rciksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsYSk7Y2FzZSAxMTpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFgodCl7cmV0dXJuIFEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFEoKXtyZXR1cm4oUT1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0Lm5leHQ9MixHKCk7Y2FzZSAyOnJldHVybiBuPXQuc2VudCxyPURhdGUubm93KCksYT1MKG4rZStyKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixhKTtjYXNlIDY6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBKKCl7cmV0dXJuIFouYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFooKXtyZXR1cm4oWj1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsdjtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiByPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHQubmV4dD0zLEguZ2V0RGV2aWNlSWRzKCk7Y2FzZSAzOnJldHVybiBhPXQuc2VudCx0Lm5leHQ9NixHKCk7Y2FzZSA2OmZvcihvPXQuc2VudCxkPW51bGwhPT0oZT1udWxsPT1hP3ZvaWQgMDphLnVzZXIpJiZ2b2lkIDAhPT1lP2U6XFxcIlxcXCIscz1udWxsIT09KG49bnVsbD09YT92b2lkIDA6YS5hZHZlcnRpc2luZykmJnZvaWQgMCE9PW4/bjpcXFwiXFxcIixsPVtkLHMsbyxyXSxjPUEoMCwxZTQpLHU9bC5sZW5ndGgsaD1bXSxwPTA7cDx1O3ArKyloLnB1c2gobFtwXSk7cmV0dXJuIGgucHVzaChjKSxmPWguam9pbihcXFwiJlxcXCIpLHY9TChmKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIix2KTtjYXNlIDE4OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHR0PWUoe30sZyksZXQ9ZSh7fSx5KSxpdD17NTQ6XFxcInVuaXRfaWRcXFwiLDU1OlxcXCJ1bml0X2lkXFxcIiw1NjpcXFwicGxhY2VtZW50X2lkXFxcIiw2MDpcXFwiYWRfaWRcXFwiLDYxOlxcXCJ1bml0X2lkXFxcIiw2MjpcXFwiYWRfaWRcXFwiLDYzOlxcXCJ1bml0X2lkXFxcIiw2NDpcXFwidW5pdF9pZFxcXCJ9LG50PXtcXFwiMmdcXFwiOlxcXCIxXFxcIixcXFwiM2dcXFwiOlxcXCIzXFxcIixcXFwiNGdcXFwiOlxcXCIxM1xcXCIsXFxcIjVnXFxcIjpcXFwiMTVcXFwiLHdpZmk6XFxcIi0yXFxcIixub25lOlxcXCItMVxcXCJ9LHJ0PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtkKHRoaXMsdCksdGhpcy5jb2RlPXs1NDp7bG9hZDpbMWUzLDEwMDEsMTAwMiwxMDAzLDEwMDQsMTAwNSwxMDA2LDEwMDcsMTAwOCwxMDA5LDExMDAsMTEwMiwxMTAzLDExMDQsMmUzLDllMyw5MDAxLDkwMDYsOTAwN10sbG9hZGluZzpbMTEwNV0sc2hvdzpbMTEwMSwxMTA2XX0sNTU6e2xvYWQ6WzFlMywxMDAxLDEwMDIsMTAwMywxMDA0LDEwMDUsMTAwNiwxMDA3LDEwMDgsMTAwOSwxMTAwLDExMDIsMTEwMywxMTA0LDExMDUsMmUzLDllMyw5MDAxLDkwMDYsOTAwN10sbG9hZGluZzpbOGUzXSxzaG93OlsxMTAxLDExMDZdfSw1Njp7bG9hZDpbXFxcImVycm9yXFxcIixcXFwiYWRFcnJvclxcXCIsOWUzLDkwMDEsOTAwNiw5MDA3XSxsb2FkaW5nOltdLHNob3c6W1xcXCJlcnJvclxcXCIsMTEwMV19LDYwOntsb2FkOlsxZTMsMTAwMSwxMDAyLDEwMDMsMTAwNCwxMDA1LDEwMDYsMTAwNywxMDA4LDEwMDksMTEwMCwxMTAyLDExMDMsMTEwNCwxMTA1LDJlMyw5ZTMsOTAwMSw5MDA2LDkwMDddLGxvYWRpbmc6WzhlM10sc2hvdzpbMTEwMSwxMTA2XX0sNjE6e2xvYWQ6WzFlMywxMDAxLDEwMDIsMTAwMywxMDA0LDEwMDUsMTAwNiwxMDA3LDEwMDgsMTAwOSwxMTAwLDExMDIsMTEwMywxMTA0LDExMDUsMmUzLDllMyw5MDAxLDkwMDYsOTAwN10sbG9hZGluZzpbOGUzXSxzaG93OlsxMTAxLDExMDZdfSw2Mjp7bG9hZDpbMWUzLDEwMDEsMTAwMiwxMDAzLDEwMDQsMTAwNSwxMDA2LDEwMDcsMTAwOCwxMDA5LDExMDAsMTEwMiwxMTAzLDExMDQsMTEwNSwyZTMsOWUzLDkwMDEsOTAwNiw5MDA3XSxsb2FkaW5nOls4ZTNdLHNob3c6WzExMDEsMTEwNl19LDYzOntsb2FkOlsxZTMsMTAwMSwxMDAyLDEwMDMsMTAwNF0sbG9hZGluZzpbXSxzaG93OltdfSw2NDp7bG9hZDpbMTAwMSwxMDA0LDExMDBdLGxvYWRpbmc6W10sc2hvdzpbXX0sNjY6e2xvYWQ6WzkwMDYsOTAwNyw5MDA4XSxsb2FkaW5nOltdLHNob3c6WzExMDFdfX19cmV0dXJuIGwodCxbe2tleTpcXFwiY29kZVRvRXZlbnRcXFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixyLGE9aXNOYU4oZSk/ZToxKmU7cmV0dXJuIG51bGwhPT0oaT10aGlzLmNvZGVbdF0pJiZ2b2lkIDAhPT1pJiZudWxsIT09KGk9aS5sb2FkKSYmdm9pZCAwIT09aSYmaS5pbmNsdWRlcyhhKT9cXFwibG9hZFxcXCI6bnVsbCE9PShuPXRoaXMuY29kZVt0XSkmJnZvaWQgMCE9PW4mJm51bGwhPT0obj1uLmxvYWRpbmcpJiZ2b2lkIDAhPT1uJiZuLmluY2x1ZGVzKGEpP1xcXCJsb2FkaW5nXFxcIjpudWxsIT09KHI9dGhpcy5jb2RlW3RdKSYmdm9pZCAwIT09ciYmbnVsbCE9PShyPXIuc2hvdykmJnZvaWQgMCE9PXImJnIuaW5jbHVkZXMoYSk/XFxcInNob3dcXFwiOlxcXCJ1bmtub3duXFxcIn19XSksdH0oKSksYXQ9ezEwMDEzMzoxMDAxLDEzNjAwMToxMDAxLDEzNjAwMjoxMDAxLDEzNjAwNDoxMDAxLDEwMjAwNjoxMDA0LDEwOTUwMjoxMTAwfSxvdD1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O3ZhciBkdD1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W10sdGhpcy5zaXplPTB9O3ZhciBzdD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZXx8dCE9dCYmZSE9ZX0sbHQ9c3Q7dmFyIGN0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQubGVuZ3RoO2ktLTspaWYobHQodFtpXVswXSxlKSlyZXR1cm4gaTtyZXR1cm4tMX0sdXQ9Y3QsaHQ9QXJyYXkucHJvdG90eXBlLnNwbGljZTt2YXIgcHQ9Y3Q7dmFyIGZ0PWN0O3ZhciB2dD1jdDt2YXIgbXQ9ZHQsX3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxpPXV0KGUsdCk7cmV0dXJuIShpPDApJiYoaT09ZS5sZW5ndGgtMT9lLnBvcCgpOmh0LmNhbGwoZSxpLDEpLC0tdGhpcy5zaXplLCEwKX0sZ3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxpPXB0KGUsdCk7cmV0dXJuIGk8MD92b2lkIDA6ZVtpXVsxXX0seXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ0KHRoaXMuX19kYXRhX18sdCk+LTF9LEl0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fX2RhdGFfXyxuPXZ0KGksdCk7cmV0dXJuIG48MD8oKyt0aGlzLnNpemUsaS5wdXNoKFt0LGVdKSk6aVtuXVsxXT1lLHRoaXN9O2Z1bmN0aW9uIGJ0KHQpe3ZhciBlPS0xLGk9bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPGk7KXt2YXIgbj10W2VdO3RoaXMuc2V0KG5bMF0sblsxXSl9fWJ0LnByb3RvdHlwZS5jbGVhcj1tdCxidC5wcm90b3R5cGUuZGVsZXRlPV90LGJ0LnByb3RvdHlwZS5nZXQ9Z3QsYnQucHJvdG90eXBlLmhhcz15dCxidC5wcm90b3R5cGUuc2V0PUl0O3ZhciBrdD1idCx3dD1rdDt2YXIgeHQ9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPW5ldyB3dCx0aGlzLnNpemU9MH07dmFyIFN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18saT1lLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplPWUuc2l6ZSxpfTt2YXIgVHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KHQpfTt2YXIgQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfSxFdD1cXFwib2JqZWN0XFxcIj09dHlwZW9mIG90JiZvdCYmb3QuT2JqZWN0PT09T2JqZWN0JiZvdCxDdD1FdCxEdD1cXFwib2JqZWN0XFxcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLEx0PUN0fHxEdHx8RnVuY3Rpb24oXFxcInJldHVybiB0aGlzXFxcIikoKSxPdD1MdC5TeW1ib2wsUnQ9T3QsUHQ9T2JqZWN0LnByb3RvdHlwZSxVdD1QdC5oYXNPd25Qcm9wZXJ0eSwkdD1QdC50b1N0cmluZyxOdD1SdD9SdC50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIGp0PWZ1bmN0aW9uKHQpe3ZhciBlPVV0LmNhbGwodCxOdCksaT10W050XTt0cnl7dFtOdF09dm9pZCAwO3ZhciBuPSEwfWNhdGNoKHQpe312YXIgcj0kdC5jYWxsKHQpO3JldHVybiBuJiYoZT90W050XT1pOmRlbGV0ZSB0W050XSkscn0sRnQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt2YXIgQnQ9anQsV3Q9ZnVuY3Rpb24odCl7cmV0dXJuIEZ0LmNhbGwodCl9LHF0PU90P090LnRvU3RyaW5nVGFnOnZvaWQgMDt2YXIgTXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD9cXFwiW29iamVjdCBVbmRlZmluZWRdXFxcIjpcXFwiW29iamVjdCBOdWxsXVxcXCI6cXQmJnF0IGluIE9iamVjdCh0KT9CdCh0KTpXdCh0KX07dmFyIFZ0PWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiBudWxsIT10JiYoXFxcIm9iamVjdFxcXCI9PWV8fFxcXCJmdW5jdGlvblxcXCI9PWUpfSxIdD1NdCxHdD1WdDt2YXIgWXQsS3Q9ZnVuY3Rpb24odCl7aWYoIUd0KHQpKXJldHVybiExO3ZhciBlPUh0KHQpO3JldHVyblxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCI9PWV8fFxcXCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVxcXCI9PWV8fFxcXCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXFxcIj09ZXx8XFxcIltvYmplY3QgUHJveHldXFxcIj09ZX0senQ9THRbXFxcIl9fY29yZS1qc19zaGFyZWRfX1xcXCJdLFh0PShZdD0vW14uXSskLy5leGVjKHp0JiZ6dC5rZXlzJiZ6dC5rZXlzLklFX1BST1RPfHxcXFwiXFxcIikpP1xcXCJTeW1ib2woc3JjKV8xLlxcXCIrWXQ6XFxcIlxcXCI7dmFyIFF0PWZ1bmN0aW9uKHQpe3JldHVybiEhWHQmJlh0IGluIHR9LEp0PUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZzt2YXIgWnQ9ZnVuY3Rpb24odCl7aWYobnVsbCE9dCl7dHJ5e3JldHVybiBKdC5jYWxsKHQpfWNhdGNoKHQpe310cnl7cmV0dXJuIHQrXFxcIlxcXCJ9Y2F0Y2godCl7fX1yZXR1cm5cXFwiXFxcIn0sdGU9S3QsZWU9UXQsaWU9VnQsbmU9WnQscmU9L15cXFxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXFxdJC8sYWU9RnVuY3Rpb24ucHJvdG90eXBlLG9lPU9iamVjdC5wcm90b3R5cGUsZGU9YWUudG9TdHJpbmcsc2U9b2UuaGFzT3duUHJvcGVydHksbGU9UmVnRXhwKFxcXCJeXFxcIitkZS5jYWxsKHNlKS5yZXBsYWNlKC9bXFxcXFxcXFxeJC4qKz8oKVtcXFxcXXt9fF0vZyxcXFwiXFxcXFxcXFwkJlxcXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFxcXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXFxcXFxcXF0pL2csXFxcIiQxLio/XFxcIikrXFxcIiRcXFwiKTt2YXIgY2U9ZnVuY3Rpb24odCl7cmV0dXJuISghaWUodCl8fGVlKHQpKSYmKHRlKHQpP2xlOnJlKS50ZXN0KG5lKHQpKX0sdWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX07dmFyIGhlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dWUodCxlKTtyZXR1cm4gY2UoaSk/aTp2b2lkIDB9LHBlPWhlKEx0LFxcXCJNYXBcXFwiKSxmZT1oZShPYmplY3QsXFxcImNyZWF0ZVxcXCIpLHZlPWZlO3ZhciBtZT1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189dmU/dmUobnVsbCk6e30sdGhpcy5zaXplPTB9O3ZhciBfZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmhhcyh0KSYmZGVsZXRlIHRoaXMuX19kYXRhX19bdF07cmV0dXJuIHRoaXMuc2l6ZS09ZT8xOjAsZX0sZ2U9ZmUseWU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgSWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztpZihnZSl7dmFyIGk9ZVt0XTtyZXR1cm5cXFwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1xcXCI9PT1pP3ZvaWQgMDppfXJldHVybiB5ZS5jYWxsKGUsdCk/ZVt0XTp2b2lkIDB9LGJlPWZlLGtlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIHdlPWZlO3ZhciB4ZT1tZSxTZT1fZSxUZT1JZSxBZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO3JldHVybiBiZT92b2lkIDAhPT1lW3RdOmtlLmNhbGwoZSx0KX0sRWU9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9fZGF0YV9fO3JldHVybiB0aGlzLnNpemUrPXRoaXMuaGFzKHQpPzA6MSxpW3RdPXdlJiZ2b2lkIDA9PT1lP1xcXCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXFxcIjplLHRoaXN9O2Z1bmN0aW9uIENlKHQpe3ZhciBlPS0xLGk9bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPGk7KXt2YXIgbj10W2VdO3RoaXMuc2V0KG5bMF0sblsxXSl9fUNlLnByb3RvdHlwZS5jbGVhcj14ZSxDZS5wcm90b3R5cGUuZGVsZXRlPVNlLENlLnByb3RvdHlwZS5nZXQ9VGUsQ2UucHJvdG90eXBlLmhhcz1BZSxDZS5wcm90b3R5cGUuc2V0PUVlO3ZhciBEZT1DZSxMZT1rdCxPZT1wZTt2YXIgUmU9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXFxcInN0cmluZ1xcXCI9PWV8fFxcXCJudW1iZXJcXFwiPT1lfHxcXFwic3ltYm9sXFxcIj09ZXx8XFxcImJvb2xlYW5cXFwiPT1lP1xcXCJfX3Byb3RvX19cXFwiIT09dDpudWxsPT09dH07dmFyIFBlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5fX2RhdGFfXztyZXR1cm4gUmUoZSk/aVtcXFwic3RyaW5nXFxcIj09dHlwZW9mIGU/XFxcInN0cmluZ1xcXCI6XFxcImhhc2hcXFwiXTppLm1hcH0sVWU9UGU7dmFyICRlPVBlO3ZhciBOZT1QZTt2YXIgamU9UGU7dmFyIEZlPWZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgRGUsbWFwOm5ldyhPZXx8TGUpLHN0cmluZzpuZXcgRGV9fSxCZT1mdW5jdGlvbih0KXt2YXIgZT1VZSh0aGlzLHQpLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfSxXZT1mdW5jdGlvbih0KXtyZXR1cm4gJGUodGhpcyx0KS5nZXQodCl9LHFlPWZ1bmN0aW9uKHQpe3JldHVybiBOZSh0aGlzLHQpLmhhcyh0KX0sTWU9ZnVuY3Rpb24odCxlKXt2YXIgaT1qZSh0aGlzLHQpLG49aS5zaXplO3JldHVybiBpLnNldCh0LGUpLHRoaXMuc2l6ZSs9aS5zaXplPT1uPzA6MSx0aGlzfTtmdW5jdGlvbiBWZSh0KXt2YXIgZT0tMSxpPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxpOyl7dmFyIG49dFtlXTt0aGlzLnNldChuWzBdLG5bMV0pfX1WZS5wcm90b3R5cGUuY2xlYXI9RmUsVmUucHJvdG90eXBlLmRlbGV0ZT1CZSxWZS5wcm90b3R5cGUuZ2V0PVdlLFZlLnByb3RvdHlwZS5oYXM9cWUsVmUucHJvdG90eXBlLnNldD1NZTt2YXIgSGU9a3QsR2U9cGUsWWU9VmU7dmFyIEtlPWt0LHplPXh0LFhlPVN0LFFlPVR0LEplPUF0LFplPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fX2RhdGFfXztpZihpIGluc3RhbmNlb2YgSGUpe3ZhciBuPWkuX19kYXRhX187aWYoIUdlfHxuLmxlbmd0aDwxOTkpcmV0dXJuIG4ucHVzaChbdCxlXSksdGhpcy5zaXplPSsraS5zaXplLHRoaXM7aT10aGlzLl9fZGF0YV9fPW5ldyBZZShuKX1yZXR1cm4gaS5zZXQodCxlKSx0aGlzLnNpemU9aS5zaXplLHRoaXN9O2Z1bmN0aW9uIHRpKHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IEtlKHQpO3RoaXMuc2l6ZT1lLnNpemV9dGkucHJvdG90eXBlLmNsZWFyPXplLHRpLnByb3RvdHlwZS5kZWxldGU9WGUsdGkucHJvdG90eXBlLmdldD1RZSx0aS5wcm90b3R5cGUuaGFzPUplLHRpLnByb3RvdHlwZS5zZXQ9WmU7dmFyIGVpPXRpO3ZhciBpaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK2k8biYmITEhPT1lKHRbaV0saSx0KTspO3JldHVybiB0fSxuaT1oZSxyaT1mdW5jdGlvbigpe3RyeXt2YXIgdD1uaShPYmplY3QsXFxcImRlZmluZVByb3BlcnR5XFxcIik7cmV0dXJuIHQoe30sXFxcIlxcXCIse30pLHR9Y2F0Y2godCl7fX0oKTt2YXIgYWk9ZnVuY3Rpb24odCxlLGkpe1xcXCJfX3Byb3RvX19cXFwiPT1lJiZyaT9yaSh0LGUse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmksd3JpdGFibGU6ITB9KTp0W2VdPWl9LG9pPWFpLGRpPXN0LHNpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGxpPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10W2VdO3NpLmNhbGwodCxlKSYmZGkobixpKSYmKHZvaWQgMCE9PWl8fGUgaW4gdCl8fG9pKHQsZSxpKX0sY2k9bGksdWk9YWk7dmFyIGhpPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciByPSFpO2l8fChpPXt9KTtmb3IodmFyIGE9LTEsbz1lLmxlbmd0aDsrK2E8bzspe3ZhciBkPWVbYV0scz1uP24oaVtkXSx0W2RdLGQsaSx0KTp2b2lkIDA7dm9pZCAwPT09cyYmKHM9dFtkXSkscj91aShpLGQscyk6Y2koaSxkLHMpfXJldHVybiBpfTt2YXIgcGk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9LTEsbj1BcnJheSh0KTsrK2k8dDspbltpXT1lKGkpO3JldHVybiBufTt2YXIgZmk9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgdH0sdmk9TXQsbWk9Zmk7dmFyIF9pPWZ1bmN0aW9uKHQpe3JldHVybiBtaSh0KSYmXFxcIltvYmplY3QgQXJndW1lbnRzXVxcXCI9PXZpKHQpfSxnaT1maSx5aT1PYmplY3QucHJvdG90eXBlLElpPXlpLmhhc093blByb3BlcnR5LGJpPXlpLnByb3BlcnR5SXNFbnVtZXJhYmxlLGtpPV9pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/X2k6ZnVuY3Rpb24odCl7cmV0dXJuIGdpKHQpJiZJaS5jYWxsKHQsXFxcImNhbGxlZVxcXCIpJiYhYmkuY2FsbCh0LFxcXCJjYWxsZWVcXFwiKX0sd2k9a2kseGk9QXJyYXkuaXNBcnJheSxTaT17fTt2YXIgVGk9ZnVuY3Rpb24oKXtyZXR1cm4hMX07IWZ1bmN0aW9uKHQsZSl7dmFyIGk9THQsbj1UaSxyPWUmJiFlLm5vZGVUeXBlJiZlLGE9ciYmdCYmIXQubm9kZVR5cGUmJnQsbz1hJiZhLmV4cG9ydHM9PT1yP2kuQnVmZmVyOnZvaWQgMCxkPShvP28uaXNCdWZmZXI6dm9pZCAwKXx8bjt0LmV4cG9ydHM9ZH0oe2dldCBleHBvcnRzKCl7cmV0dXJuIFNpfSxzZXQgZXhwb3J0cyh0KXtTaT10fX0sU2kpO3ZhciBBaT0vXig/OjB8WzEtOV1cXFxcZCopJC87dmFyIEVpPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dHlwZW9mIHQ7cmV0dXJuISEoZT1udWxsPT1lPzkwMDcxOTkyNTQ3NDA5OTE6ZSkmJihcXFwibnVtYmVyXFxcIj09aXx8XFxcInN5bWJvbFxcXCIhPWkmJkFpLnRlc3QodCkpJiZ0Pi0xJiZ0JTE9PTAmJnQ8ZX07dmFyIENpPWZ1bmN0aW9uKHQpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgdCYmdD4tMSYmdCUxPT0wJiZ0PD05MDA3MTk5MjU0NzQwOTkxfSxEaT1NdCxMaT1DaSxPaT1maSxSaT17fTtSaVtcXFwiW29iamVjdCBGbG9hdDMyQXJyYXldXFxcIl09UmlbXFxcIltvYmplY3QgRmxvYXQ2NEFycmF5XVxcXCJdPVJpW1xcXCJbb2JqZWN0IEludDhBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBJbnQxNkFycmF5XVxcXCJdPVJpW1xcXCJbb2JqZWN0IEludDMyQXJyYXldXFxcIl09UmlbXFxcIltvYmplY3QgVWludDhBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBVaW50MTZBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBVaW50MzJBcnJheV1cXFwiXT0hMCxSaVtcXFwiW29iamVjdCBBcmd1bWVudHNdXFxcIl09UmlbXFxcIltvYmplY3QgQXJyYXldXFxcIl09UmlbXFxcIltvYmplY3QgQXJyYXlCdWZmZXJdXFxcIl09UmlbXFxcIltvYmplY3QgQm9vbGVhbl1cXFwiXT1SaVtcXFwiW29iamVjdCBEYXRhVmlld11cXFwiXT1SaVtcXFwiW29iamVjdCBEYXRlXVxcXCJdPVJpW1xcXCJbb2JqZWN0IEVycm9yXVxcXCJdPVJpW1xcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCJdPVJpW1xcXCJbb2JqZWN0IE1hcF1cXFwiXT1SaVtcXFwiW29iamVjdCBOdW1iZXJdXFxcIl09UmlbXFxcIltvYmplY3QgT2JqZWN0XVxcXCJdPVJpW1xcXCJbb2JqZWN0IFJlZ0V4cF1cXFwiXT1SaVtcXFwiW29iamVjdCBTZXRdXFxcIl09UmlbXFxcIltvYmplY3QgU3RyaW5nXVxcXCJdPVJpW1xcXCJbb2JqZWN0IFdlYWtNYXBdXFxcIl09ITE7dmFyIFBpPWZ1bmN0aW9uKHQpe3JldHVybiBPaSh0KSYmTGkodC5sZW5ndGgpJiYhIVJpW0RpKHQpXX07dmFyIFVpPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChlKX19LCRpPXt9OyFmdW5jdGlvbih0LGUpe3ZhciBpPUV0LG49ZSYmIWUubm9kZVR5cGUmJmUscj1uJiZ0JiYhdC5ub2RlVHlwZSYmdCxhPXImJnIuZXhwb3J0cz09PW4mJmkucHJvY2VzcyxvPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PXImJnIucmVxdWlyZSYmci5yZXF1aXJlKFxcXCJ1dGlsXFxcIikudHlwZXM7cmV0dXJuIHR8fGEmJmEuYmluZGluZyYmYS5iaW5kaW5nKFxcXCJ1dGlsXFxcIil9Y2F0Y2godCl7fX0oKTt0LmV4cG9ydHM9b30oe2dldCBleHBvcnRzKCl7cmV0dXJuICRpfSxzZXQgZXhwb3J0cyh0KXskaT10fX0sJGkpO3ZhciBOaT1QaSxqaT1VaSxGaT0kaSYmJGkuaXNUeXBlZEFycmF5LEJpPUZpP2ppKEZpKTpOaSxXaT1waSxxaT13aSxNaT14aSxWaT1TaSxIaT1FaSxHaT1CaSxZaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBLaT1mdW5jdGlvbih0LGUpe3ZhciBpPU1pKHQpLG49IWkmJnFpKHQpLHI9IWkmJiFuJiZWaSh0KSxhPSFpJiYhbiYmIXImJkdpKHQpLG89aXx8bnx8cnx8YSxkPW8/V2kodC5sZW5ndGgsU3RyaW5nKTpbXSxzPWQubGVuZ3RoO2Zvcih2YXIgbCBpbiB0KSFlJiYhWWkuY2FsbCh0LGwpfHxvJiYoXFxcImxlbmd0aFxcXCI9PWx8fHImJihcXFwib2Zmc2V0XFxcIj09bHx8XFxcInBhcmVudFxcXCI9PWwpfHxhJiYoXFxcImJ1ZmZlclxcXCI9PWx8fFxcXCJieXRlTGVuZ3RoXFxcIj09bHx8XFxcImJ5dGVPZmZzZXRcXFwiPT1sKXx8SGkobCxzKSl8fGQucHVzaChsKTtyZXR1cm4gZH0semk9T2JqZWN0LnByb3RvdHlwZTt2YXIgWGk9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PShcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZSYmZS5wcm90b3R5cGV8fHppKX07dmFyIFFpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiB0KGUoaSkpfX0sSmk9UWkoT2JqZWN0LmtleXMsT2JqZWN0KSxaaT1YaSx0bj1KaSxlbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBubj1LdCxybj1DaTt2YXIgYW49ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJnJuKHQubGVuZ3RoKSYmIW5uKHQpfSxvbj1LaSxkbj1mdW5jdGlvbih0KXtpZighWmkodCkpcmV0dXJuIHRuKHQpO3ZhciBlPVtdO2Zvcih2YXIgaSBpbiBPYmplY3QodCkpZW4uY2FsbCh0LGkpJiZcXFwiY29uc3RydWN0b3JcXFwiIT1pJiZlLnB1c2goaSk7cmV0dXJuIGV9LHNuPWFuO3ZhciBsbj1mdW5jdGlvbih0KXtyZXR1cm4gc24odCk/b24odCk6ZG4odCl9LGNuPWhpLHVuPWxuO3ZhciBobj1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZjbihlLHVuKGUpLHQpfTt2YXIgcG49VnQsZm49WGksdm49ZnVuY3Rpb24odCl7dmFyIGU9W107aWYobnVsbCE9dClmb3IodmFyIGkgaW4gT2JqZWN0KHQpKWUucHVzaChpKTtyZXR1cm4gZX0sbW49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgX249S2ksZ249ZnVuY3Rpb24odCl7aWYoIXBuKHQpKXJldHVybiB2bih0KTt2YXIgZT1mbih0KSxpPVtdO2Zvcih2YXIgbiBpbiB0KShcXFwiY29uc3RydWN0b3JcXFwiIT1ufHwhZSYmbW4uY2FsbCh0LG4pKSYmaS5wdXNoKG4pO3JldHVybiBpfSx5bj1hbjt2YXIgSW49ZnVuY3Rpb24odCl7cmV0dXJuIHluKHQpP19uKHQsITApOmduKHQpfSxibj1oaSxrbj1Jbjt2YXIgd249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmYm4oZSxrbihlKSx0KX0seG49e307IWZ1bmN0aW9uKHQsZSl7dmFyIGk9THQsbj1lJiYhZS5ub2RlVHlwZSYmZSxyPW4mJnQmJiF0Lm5vZGVUeXBlJiZ0LGE9ciYmci5leHBvcnRzPT09bj9pLkJ1ZmZlcjp2b2lkIDAsbz1hP2EuYWxsb2NVbnNhZmU6dm9pZCAwO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHQuc2xpY2UoKTt2YXIgaT10Lmxlbmd0aCxuPW8/byhpKTpuZXcgdC5jb25zdHJ1Y3RvcihpKTtyZXR1cm4gdC5jb3B5KG4pLG59fSh7Z2V0IGV4cG9ydHMoKXtyZXR1cm4geG59LHNldCBleHBvcnRzKHQpe3huPXR9fSx4bik7dmFyIFNuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9LTEsbj10Lmxlbmd0aDtmb3IoZXx8KGU9QXJyYXkobikpOysraTxuOyllW2ldPXRbaV07cmV0dXJuIGV9O3ZhciBUbj1mdW5jdGlvbigpe3JldHVybltdfSxBbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aCxyPTAsYT1bXTsrK2k8bjspe3ZhciBvPXRbaV07ZShvLGksdCkmJihhW3IrK109byl9cmV0dXJuIGF9LEVuPVRuLENuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsRG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxMbj1Ebj9mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXToodD1PYmplY3QodCksQW4oRG4odCksKGZ1bmN0aW9uKGUpe3JldHVybiBDbi5jYWxsKHQsZSl9KSkpfTpFbixPbj1oaSxSbj1Mbjt2YXIgUG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gT24odCxSbih0KSxlKX07dmFyIFVuPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPS0xLG49ZS5sZW5ndGgscj10Lmxlbmd0aDsrK2k8bjspdFtyK2ldPWVbaV07cmV0dXJuIHR9LCRuPVFpKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpLE5uPVVuLGpuPSRuLEZuPUxuLEJuPVRuLFduPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdO3Q7KU5uKGUsRm4odCkpLHQ9am4odCk7cmV0dXJuIGV9OkJuLHFuPWhpLE1uPVduO3ZhciBWbj1mdW5jdGlvbih0LGUpe3JldHVybiBxbih0LE1uKHQpLGUpfSxIbj1VbixHbj14aTt2YXIgWW49ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUodCk7cmV0dXJuIEduKHQpP246SG4obixpKHQpKX0sS249WW4sem49TG4sWG49bG47dmFyIFFuPWZ1bmN0aW9uKHQpe3JldHVybiBLbih0LFhuLHpuKX0sSm49WW4sWm49V24sdHI9SW47dmFyIGVyPWZ1bmN0aW9uKHQpe3JldHVybiBKbih0LHRyLFpuKX0saXI9aGUoTHQsXFxcIkRhdGFWaWV3XFxcIiksbnI9cGUscnI9aGUoTHQsXFxcIlByb21pc2VcXFwiKSxhcj1oZShMdCxcXFwiU2V0XFxcIiksb3I9aGUoTHQsXFxcIldlYWtNYXBcXFwiKSxkcj1NdCxzcj1adCxscj1cXFwiW29iamVjdCBNYXBdXFxcIixjcj1cXFwiW29iamVjdCBQcm9taXNlXVxcXCIsdXI9XFxcIltvYmplY3QgU2V0XVxcXCIsaHI9XFxcIltvYmplY3QgV2Vha01hcF1cXFwiLHByPVxcXCJbb2JqZWN0IERhdGFWaWV3XVxcXCIsZnI9c3IoaXIpLHZyPXNyKG5yKSxtcj1zcihyciksX3I9c3IoYXIpLGdyPXNyKG9yKSx5cj1kcjsoaXImJnlyKG5ldyBpcihuZXcgQXJyYXlCdWZmZXIoMSkpKSE9cHJ8fG5yJiZ5cihuZXcgbnIpIT1scnx8cnImJnlyKHJyLnJlc29sdmUoKSkhPWNyfHxhciYmeXIobmV3IGFyKSE9dXJ8fG9yJiZ5cihuZXcgb3IpIT1ocikmJih5cj1mdW5jdGlvbih0KXt2YXIgZT1kcih0KSxpPVxcXCJbb2JqZWN0IE9iamVjdF1cXFwiPT1lP3QuY29uc3RydWN0b3I6dm9pZCAwLG49aT9zcihpKTpcXFwiXFxcIjtpZihuKXN3aXRjaChuKXtjYXNlIGZyOnJldHVybiBwcjtjYXNlIHZyOnJldHVybiBscjtjYXNlIG1yOnJldHVybiBjcjtjYXNlIF9yOnJldHVybiB1cjtjYXNlIGdyOnJldHVybiBocn1yZXR1cm4gZX0pO3ZhciBJcj15cixicj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBrcj1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxpPW5ldyB0LmNvbnN0cnVjdG9yKGUpO3JldHVybiBlJiZcXFwic3RyaW5nXFxcIj09dHlwZW9mIHRbMF0mJmJyLmNhbGwodCxcXFwiaW5kZXhcXFwiKSYmKGkuaW5kZXg9dC5pbmRleCxpLmlucHV0PXQuaW5wdXQpLGl9LHdyPUx0LlVpbnQ4QXJyYXk7dmFyIHhyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0LmNvbnN0cnVjdG9yKHQuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyB3cihlKS5zZXQobmV3IHdyKHQpKSxlfSxTcj14cjt2YXIgVHI9ZnVuY3Rpb24odCxlKXt2YXIgaT1lP1NyKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3IoaSx0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX0sQXI9L1xcXFx3KiQvO3ZhciBFcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LnNvdXJjZSxBci5leGVjKHQpKTtyZXR1cm4gZS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsZX0sQ3I9T3Q/T3QucHJvdG90eXBlOnZvaWQgMCxEcj1Dcj9Dci52YWx1ZU9mOnZvaWQgMDt2YXIgTHI9eHI7dmFyIE9yPXhyLFJyPVRyLFByPUVyLFVyPWZ1bmN0aW9uKHQpe3JldHVybiBEcj9PYmplY3QoRHIuY2FsbCh0KSk6e319LCRyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZT9Mcih0LmJ1ZmZlcik6dC5idWZmZXI7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGksdC5ieXRlT2Zmc2V0LHQubGVuZ3RoKX07dmFyIE5yPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmNvbnN0cnVjdG9yO3N3aXRjaChlKXtjYXNlXFxcIltvYmplY3QgQXJyYXlCdWZmZXJdXFxcIjpyZXR1cm4gT3IodCk7Y2FzZVxcXCJbb2JqZWN0IEJvb2xlYW5dXFxcIjpjYXNlXFxcIltvYmplY3QgRGF0ZV1cXFwiOnJldHVybiBuZXcgbigrdCk7Y2FzZVxcXCJbb2JqZWN0IERhdGFWaWV3XVxcXCI6cmV0dXJuIFJyKHQsaSk7Y2FzZVxcXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cXFwiOmNhc2VcXFwiW29iamVjdCBGbG9hdDY0QXJyYXldXFxcIjpjYXNlXFxcIltvYmplY3QgSW50OEFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IEludDE2QXJyYXldXFxcIjpjYXNlXFxcIltvYmplY3QgSW50MzJBcnJheV1cXFwiOmNhc2VcXFwiW29iamVjdCBVaW50OEFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IFVpbnQxNkFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IFVpbnQzMkFycmF5XVxcXCI6cmV0dXJuICRyKHQsaSk7Y2FzZVxcXCJbb2JqZWN0IE1hcF1cXFwiOmNhc2VcXFwiW29iamVjdCBTZXRdXFxcIjpyZXR1cm4gbmV3IG47Y2FzZVxcXCJbb2JqZWN0IE51bWJlcl1cXFwiOmNhc2VcXFwiW29iamVjdCBTdHJpbmddXFxcIjpyZXR1cm4gbmV3IG4odCk7Y2FzZVxcXCJbb2JqZWN0IFJlZ0V4cF1cXFwiOnJldHVybiBQcih0KTtjYXNlXFxcIltvYmplY3QgU3ltYm9sXVxcXCI6cmV0dXJuIFVyKHQpfX0sanI9VnQsRnI9T2JqZWN0LmNyZWF0ZSxCcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFqcihlKSlyZXR1cm57fTtpZihGcilyZXR1cm4gRnIoZSk7dC5wcm90b3R5cGU9ZTt2YXIgaT1uZXcgdDtyZXR1cm4gdC5wcm90b3R5cGU9dm9pZCAwLGl9fSgpLFdyPSRuLHFyPVhpO3ZhciBNcj1mdW5jdGlvbih0KXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgdC5jb25zdHJ1Y3Rvcnx8cXIodCk/e306QnIoV3IodCkpfSxWcj1JcixIcj1maTt2YXIgR3I9ZnVuY3Rpb24odCl7cmV0dXJuIEhyKHQpJiZcXFwiW29iamVjdCBNYXBdXFxcIj09VnIodCl9LFlyPVVpLEtyPSRpJiYkaS5pc01hcCx6cj1Lcj9ZcihLcik6R3IsWHI9SXIsUXI9Zmk7dmFyIEpyPWZ1bmN0aW9uKHQpe3JldHVybiBRcih0KSYmXFxcIltvYmplY3QgU2V0XVxcXCI9PVhyKHQpfSxacj1VaSx0YT0kaSYmJGkuaXNTZXQsZWE9dGE/WnIodGEpOkpyLGlhPWVpLG5hPWlpLHJhPWxpLGFhPWhuLG9hPXduLGRhPXhuLHNhPVNuLGxhPVBuLGNhPVZuLHVhPVFuLGhhPWVyLHBhPUlyLGZhPWtyLHZhPU5yLG1hPU1yLF9hPXhpLGdhPVNpLHlhPXpyLElhPVZ0LGJhPWVhLGthPWxuLHdhPUluLHhhPVxcXCJbb2JqZWN0IEFyZ3VtZW50c11cXFwiLFNhPVxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIsVGE9XFxcIltvYmplY3QgT2JqZWN0XVxcXCIsQWE9e307QWFbeGFdPUFhW1xcXCJbb2JqZWN0IEFycmF5XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEFycmF5QnVmZmVyXVxcXCJdPUFhW1xcXCJbb2JqZWN0IERhdGFWaWV3XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEJvb2xlYW5dXFxcIl09QWFbXFxcIltvYmplY3QgRGF0ZV1cXFwiXT1BYVtcXFwiW29iamVjdCBGbG9hdDMyQXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgRmxvYXQ2NEFycmF5XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEludDhBcnJheV1cXFwiXT1BYVtcXFwiW29iamVjdCBJbnQxNkFycmF5XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEludDMyQXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgTWFwXVxcXCJdPUFhW1xcXCJbb2JqZWN0IE51bWJlcl1cXFwiXT1BYVtUYV09QWFbXFxcIltvYmplY3QgUmVnRXhwXVxcXCJdPUFhW1xcXCJbb2JqZWN0IFNldF1cXFwiXT1BYVtcXFwiW29iamVjdCBTdHJpbmddXFxcIl09QWFbXFxcIltvYmplY3QgU3ltYm9sXVxcXCJdPUFhW1xcXCJbb2JqZWN0IFVpbnQ4QXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgVWludDE2QXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgVWludDMyQXJyYXldXFxcIl09ITAsQWFbXFxcIltvYmplY3QgRXJyb3JdXFxcIl09QWFbU2FdPUFhW1xcXCJbb2JqZWN0IFdlYWtNYXBdXFxcIl09ITE7dmFyIEVhPWZ1bmN0aW9uIHQoZSxpLG4scixhLG8pe3ZhciBkLHM9MSZpLGw9MiZpLGM9NCZpO2lmKG4mJihkPWE/bihlLHIsYSxvKTpuKGUpKSx2b2lkIDAhPT1kKXJldHVybiBkO2lmKCFJYShlKSlyZXR1cm4gZTt2YXIgdT1fYShlKTtpZih1KXtpZihkPWZhKGUpLCFzKXJldHVybiBzYShlLGQpfWVsc2V7dmFyIGg9cGEoZSkscD1oPT1TYXx8XFxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXFxcIj09aDtpZihnYShlKSlyZXR1cm4gZGEoZSxzKTtpZihoPT1UYXx8aD09eGF8fHAmJiFhKXtpZihkPWx8fHA/e306bWEoZSksIXMpcmV0dXJuIGw/Y2EoZSxvYShkLGUpKTpsYShlLGFhKGQsZSkpfWVsc2V7aWYoIUFhW2hdKXJldHVybiBhP2U6e307ZD12YShlLGgscyl9fW98fChvPW5ldyBpYSk7dmFyIGY9by5nZXQoZSk7aWYoZilyZXR1cm4gZjtvLnNldChlLGQpLGJhKGUpP2UuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZC5hZGQodChyLGksbixyLGUsbykpfSkpOnlhKGUpJiZlLmZvckVhY2goKGZ1bmN0aW9uKHIsYSl7ZC5zZXQoYSx0KHIsaSxuLGEsZSxvKSl9KSk7dmFyIHY9dT92b2lkIDA6KGM/bD9oYTp1YTpsP3dhOmthKShlKTtyZXR1cm4gbmEodnx8ZSwoZnVuY3Rpb24ocixhKXt2JiYocj1lW2E9cl0pLHJhKGQsYSx0KHIsaSxuLGEsZSxvKSl9KSksZH0sQ2E9RWE7dmFyIERhPWZ1bmN0aW9uKHQpe3JldHVybiBDYSh0LDUpfSxMYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtkKHRoaXMsdCksdGhpcy5yZXFVZ051bT0xLHRoaXMucHJvZ3Jlc3M9MCx0aGlzLmlzRmlyc3Q9ITAsdGhpcy5zdGF0dXNMaXN0PVtdLHRoaXMuU1RBVFVTX1dBSVRJTkc9XFxcIndhaXRpbmdcXFwiLHRoaXMuU1RBVFVTX0xPQURJTkc9XFxcImxvYWRpbmdcXFwiLHRoaXMuU1RBVFVTX0NBQ0hJTkc9XFxcImNhY2hpbmdcXFwiLHRoaXMuU1RBVFVTX1RJTUVPVVQ9XFxcInRpbWVvdXRcXFwiLHRoaXMuU1RBVFVTX0VYUElSRUQ9XFxcImV4cGlyZWRcXFwiLHRoaXMuU1RBVFVTX0ZBSUxFRD1cXFwiZmFpbGVkXFxcIix0aGlzLlNUQVRVU19TSE9XRUQ9XFxcInNob3dlZFxcXCJ9cmV0dXJuIGwodCxbe2tleTpcXFwibG9hZFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3RoaXMucHJvZ3Jlc3M9MDt2YXIgbj1bXTtlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dmFyIHI9ZS51bml0X2lkLGE9e2luZGV4OmksaXRlbUlkOnIsdW5pdElkOnIsbndGaXJtSWQ6ZS5ud19maXJtX2lkLGVjcG06ZS5lY3BtLGVjcG1Tb3J0OmUuc19wdHkscmFuazplLnNwX3BzLHJhbmtTb3J0OjAsc3RhdHVzOnQuU1RBVFVTX1dBSVRJTkcsZXhwaXJhdGlvblRpbWU6MCxjb250ZXh0Ont9LHR5cGU6MCx1bml0OkRhKGUpfTtuLnB1c2goYSl9KSksKG51bGw9PW4/dm9pZCAwOm4ubGVuZ3RoKT4xJiZPYShuKSxuLnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5lY3BtU29ydC10LmVjcG1Tb3J0LG49ZS5yYW5rU29ydC10LnJhbmtTb3J0O3JldHVybiAwPT09aT9uOml9KSksbi5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3QuaW5kZXg9ZX0pKTt2YXIgcj1pLnJlcVVnTnVtLGE9dm9pZCAwPT09cj8xOnI7dGhpcy5yZXFVZ051bT1hLHRoaXMucHJvZ3Jlc3M9YS0xLHRoaXMuaXNGaXJzdD0hMCx0aGlzLmluaXRTdGF0dXNMaXN0KG4pfX0se2tleTpcXFwibWVyZ2VcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcztpZighKHQubGVuZ3RoPD0wKSl7dmFyIG49W107dC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LnVuaXRfaWQscj10Lm53X2Zpcm1faWQsYT10LmVjcG0sbz10LnNfcHR5LGQ9dC5ud19jYWNoZV90aW1lLHM9e2luZGV4OjAsaXRlbUlkOmUsdW5pdElkOmUsbndGaXJtSWQ6cixlY3BtOmEsZWNwbVNvcnQ6byxyYW5rOnQuc3BfcHMscmFua1NvcnQ6MCxzdGF0dXM6aS5TVEFUVVNfV0FJVElORyxleHBpcmF0aW9uVGltZTpEYXRlLm5vdygpK2QsY29udGV4dDp7fSx0eXBlOjY2PT1yPzI6MSx1bml0OkRhKHQpfTtuLnB1c2gocyl9KSksKGU9dGhpcy5zdGF0dXNMaXN0KS5wdXNoLmFwcGx5KGUsbiksdGhpcy5zdGF0dXNMaXN0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5lY3BtU29ydC10LmVjcG1Tb3J0LG49ZS50eXBlLXQudHlwZTtyZXR1cm4gMD09PWk/bjppfSkpLHRoaXMuc3RhdHVzTGlzdC5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3QuaW5kZXg9ZSxbMSwyXS5pbmNsdWRlcyh0LnR5cGUpJiZ0LmluZGV4PD1pLnByb2dyZXNzJiYodC5zdGF0dXM9aS5TVEFUVVNfTE9BRElORyksdC51bml0LmJpZFRrJiYodC51bml0LmJpZFRrLnNvcnRQcmlvcml0eT1lKzEpfSkpfX19LHtrZXk6XFxcInNjaGVkdWxlclxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxpPVt0aGlzLlNUQVRVU19XQUlUSU5HXSxuPVt0aGlzLlNUQVRVU19DQUNISU5HLHRoaXMuU1RBVFVTX1NIT1dFRF0scj1bdGhpcy5TVEFUVVNfTE9BRElORyx0aGlzLlNUQVRVU19DQUNISU5HXSxhPVt0aGlzLlNUQVRVU19MT0FESU5HLHRoaXMuU1RBVFVTX0NBQ0hJTkcsdGhpcy5TVEFUVVNfVElNRU9VVCx0aGlzLlNUQVRVU19TSE9XRURdLG89W10sZD1bXSxzPVtdLGw9W107aWYodGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUsYyl7YS5pbmNsdWRlcyhlLnN0YXR1cykmJm8ucHVzaChlLml0ZW1JZCksci5pbmNsdWRlcyhlLnN0YXR1cykmJmM8PXQucHJvZ3Jlc3MmJmQucHVzaChlLml0ZW1JZCksaS5pbmNsdWRlcyhlLnN0YXR1cykmJnMucHVzaChlLml0ZW1JZCksbi5pbmNsdWRlcyhlLnN0YXR1cykmJmwucHVzaChlLml0ZW1JZCl9KSksZSlyZXR1cm4gbztpZigoZC5sZW5ndGg8dGhpcy5yZXFVZ051bXx8dGhpcy5pc0ZpcnN0KSYmbC5sZW5ndGg8MSl7dmFyIGM9dGhpcy5yZXFVZ051bS1kLmxlbmd0aCx1PXMuc2xpY2UoMCxjKTt0aGlzLnN0YXR1c0xpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXt1LmluY2x1ZGVzKGUuaXRlbUlkKSYmKGUuc3RhdHVzPXQuU1RBVFVTX0xPQURJTkcsdC5wcm9ncmVzcz1pKX0pKSxvPW8uY29uY2F0KHUpLHRoaXMuaXNGaXJzdD0hMX1yZXR1cm4gb319LHtrZXk6XFxcInNlbGVjdGVyXFxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XFxcIlNUQVRVU19DQUNISU5HXFxcIixpPURhdGUubm93KCksbj17fTtyZXR1cm4gdGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHIsYSl7W3RbZV1dLmluY2x1ZGVzKHIuc3RhdHVzKSYmKDA9PT1yLmV4cGlyYXRpb25UaW1lfHxyLmV4cGlyYXRpb25UaW1lPmkpJiZ2KG4pJiYobj1yKX0pKSxufX0se2tleTpcXFwiaXRlbUlkU2VsZXRlclxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlbGVjdGVyKCk7cmV0dXJuIHQmJnQuaXRlbUlkP3QuaXRlbUlkOm51bGx9fSx7a2V5OlxcXCJpbmRleFNlbGV0ZXJcXFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWxlY3RlcigpO3JldHVybiB0JiZ0LmluZGV4P3QuaW5kZXg6bnVsbH19LHtrZXk6XFxcInNldExvYWRpbmdcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLnNldFN0YXR1cyh0LHRoaXMuU1RBVFVTX0xPQURJTkcsZSl9fSx7a2V5OlxcXCJzZXRDYWNoaW5nXFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307dGhpcy5zZXRTdGF0dXModCx0aGlzLlNUQVRVU19DQUNISU5HLGUsaSl9fSx7a2V5OlxcXCJzZXRUaW1lb3V0XFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5zZXRTdGF0dXModCx0aGlzLlNUQVRVU19USU1FT1VULGUpfX0se2tleTpcXFwic2V0RmFpbGVkXFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5zZXRTdGF0dXModCx0aGlzLlNUQVRVU19GQUlMRUQsZSl9fSx7a2V5OlxcXCJzZXRTaG93ZWRcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLnNldFN0YXR1cyh0LHRoaXMuU1RBVFVTX1NIT1dFRCxlKX19LHtrZXk6XFxcImdldEluZGV4XFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0wO3JldHVybiB0aGlzLnN0YXR1c0xpc3QuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aS5pdGVtSWQ9PT10JiYoZT1pLmluZGV4KX0pKSxlfX0se2tleTpcXFwiZ2V0U3RhdHVzTGlzdFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXNMaXN0fX0se2tleTpcXFwiaW5pdFN0YXR1c0xpc3RcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1bXSxuPURhdGUubm93KCk7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtlLnN0YXR1c0xpc3QuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aS5pdGVtSWQ9PT10Lml0ZW1JZCYmW2UuU1RBVFVTX0NBQ0hJTkddLmluY2x1ZGVzKGkuc3RhdHVzKSYmKDA9PT1pLmV4cGlyYXRpb25UaW1lfHxpLmV4cGlyYXRpb25UaW1lPm4pJiYodC5zdGF0dXM9ZS5TVEFUVVNfQ0FDSElORyx0LmNvbnRleHQ9aS5jb250ZXh0LHQuZXhwaXJhdGlvblRpbWU9aS5leHBpcmF0aW9uVGltZSl9KSksaS5wdXNoKHQpfSkpLHRoaXMuc3RhdHVzTGlzdD1pfX0se2tleTpcXFwic2V0U3RhdHVzXFxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30sYT1yLmV4cGlyYXRpb25UaW1lLG89dm9pZCAwPT09YT8wOmE7dGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHIpe3IuaXRlbUlkPT09dCYmKHIuc3RhdHVzPWUsZT09PWkuU1RBVFVTX0NBQ0hJTkcmJihyLmV4cGlyYXRpb25UaW1lPW8sci5jb250ZXh0PW4pKX0pKX19LHtrZXk6XFxcImlzRXhwaXJlZFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9MCxpPURhdGUubm93KCksbj10aGlzLnN0YXR1c0xpc3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5bdC5TVEFUVVNfTE9BRElORyx0LlNUQVRVU19USU1FT1VULHQuU1RBVFVTX0NBQ0hJTkcsdC5TVEFUVVNfU0hPV0VEXS5pbmNsdWRlcyhlLnN0YXR1cyl9KSk7cmV0dXJuIShuLmxlbmd0aDw9MCkmJihuLmZvckVhY2goKGZ1bmN0aW9uKG4scil7W3QuU1RBVFVTX0xPQURJTkcsdC5TVEFUVVNfVElNRU9VVCx0LlNUQVRVU19TSE9XRURdLmluY2x1ZGVzKG4uc3RhdHVzKT90LnNldFN0YXR1cyhuLml0ZW1JZCx0LlNUQVRVU19FWFBJUkVEKTowPT09bi5leHBpcmF0aW9uVGltZXx8bi5leHBpcmF0aW9uVGltZT5pP2UrKzp0LnNldFN0YXR1cyhuLml0ZW1JZCx0LlNUQVRVU19FWFBJUkVEKX0pKSxlPD0wKX19LHtrZXk6XFxcImlzRmFpbGVkXFxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuc3RhdHVzTGlzdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz09PXQuU1RBVFVTX0ZBSUxFRH0pKS5sZW5ndGg+PXRoaXMuc3RhdHVzTGlzdC5sZW5ndGh9fSx7a2V5OlxcXCJpc0V4aXN0XFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGkpe2kuaXRlbUlkPT09dCYmKGU9ITApfSkpLGV9fSx7a2V5OlxcXCJpc0xvYWRlZFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5zdGF0dXNMaXN0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09dC5TVEFUVVNfQ0FDSElOR30pKTtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS5sZW5ndGgpPjB9fV0pLHR9KCk7ZnVuY3Rpb24gT2EodCl7dmFyIGUsaT0oZT1cXFwiZWNwbVNvcnRcXFwiLHQucmVkdWNlKChmdW5jdGlvbih0LGkpe3JldHVybiB0W2lbZV1dPXRbaVtlXV18fFtdLHRbaVtlXV0ucHVzaChpKSx0fSkse30pKTtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1EYShpW2VdKTtpZighKG4ubGVuZ3RoPD0xfHxSYShuLFxcXCJyYW5rXFxcIikpKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT1bXTtmdW5jdGlvbiBpKHQpe2lmKHQubGVuZ3RoKWlmKDEhPT10Lmxlbmd0aClmb3IodmFyIG49dC5sZW5ndGgscj1mdW5jdGlvbigpe3ZhciByPUEoMSxQYSh0LFxcXCJyYW5rXFxcIikpLGE9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W1sxLHRbMF1bZV1dXSxuPXQubGVuZ3RoLHI9MTtyPG47cisrKXt2YXIgYT1pW2kubGVuZ3RoLTFdWzFdKzEsbz1hK3Rbcl1bZV0tMTtpLnB1c2goW2Esb10pfXJldHVybiBpfShEYSh0KSxcXFwicmFua1xcXCIpLG89YS5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPD1yJiZyPD10WzFdfSkpLGQ9e2luZGV4OnQuc3BsaWNlKG8sMSlbMF0uaW5kZXgscmFua1NvcnQ6bn07ZS5wdXNoKGQpLGkodCl9LGE9MDthPHQubGVuZ3RoO2ErKylyKCk7ZWxzZXt2YXIgbz17aW5kZXg6dFswXS5pbmRleCxyYW5rU29ydDoxfTtlLnB1c2gobyl9fXJldHVybiBpKHQpLGV9KG4pO3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLmluZGV4XS5yYW5rU29ydD1lLnJhbmtTb3J0fSkpfX0pKX12YXIgUmE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ldmVyeSgoZnVuY3Rpb24oaSl7cmV0dXJuIGlbZV09PT10WzBdW2VdfSkpfSxQYT1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdCtpW2VdfSksMCl9O2Z1bmN0aW9uIFVhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPWUucmF3UmVzcG9uc2Usbj12b2lkIDAhPT1pJiZpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXtTKCkuJGZldGNoLmZldGNoKHt1cmw6dC51cmwsbWV0aG9kOnQubWV0aG9kLGhlYWRlcjp7XFxcIkNvbnRlbnQtVHlwZVxcXCI6XFxcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFxcXCJ9LGRhdGE6dC5kYXRhfSkudGhlbigoZnVuY3Rpb24odCl7aWYobillKHQuZGF0YSk7ZWxzZXt2YXIgaT10LmRhdGEscj1fKG51bGw9PWk/dm9pZCAwOmkuZGF0YSk/SlNPTi5wYXJzZShudWxsPT1pP3ZvaWQgMDppLmRhdGEpOmkuZGF0YTtlKHIpfX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aSh0KX0pKS5maW5hbGx5KChmdW5jdGlvbigpe2UoKX0pKX0pKX1mdW5jdGlvbiAkYSh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1lLnRpbWVvdXQsbj12b2lkIDA9PT1pPzJlNDppO3RyeXtyZXR1cm4gUHJvbWlzZS5yYWNlKFtVYSh0LGUpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZShuZXcgRXJyb3IoXFxcIue9kee7nOeKtuWGteS4jeWkquWlve+8jOWGjeWIt+aWsOS4gOasoe+8n1xcXCIpKX0pLG4pfSkpXSl9Y2F0Y2godCl7fX1Qcm9taXNlLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMudGhlbigoZnVuY3Rpb24oaSl7cmV0dXJuIGUucmVzb2x2ZSh0KCkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9KSwoZnVuY3Rpb24oaSl7cmV0dXJuIGUucmVzb2x2ZSh0KCkpLnRoZW4oKGZ1bmN0aW9uKCl7dGhyb3cgaX0pKX0pKX07dmFyIE5hPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiAkYSh7bWV0aG9kOlxcXCJwb3N0XFxcIix1cmw6dCxkYXRhOmV9LGkpfSxqYT1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gJGEoe21ldGhvZDpcXFwiZ2V0XFxcIix1cmw6VCh0LGUpfSxpKX0sRmE9XFxcImh0dHA6Ly9kYS5hbnl0aGlua3RlY2guY29tXFxcIixCYT1cXFwiNC4yLjExXFxcIixXYT17QVBJX0VSUk9SOlxcXCIxMDA0NjE2XFxcIixTVFJBVEVHWV9SRVFVRVNUX1RJTUU6XFxcIjEwMDQ2MzVcXFwiLExPQURfRkFJTEVEOlxcXCIxMDA0NjMwXFxcIixSRVFVRVNUX0ZBSUxFRDpcXFwiMTAwNDYzMVxcXCIsSVNfUkVBRFk6XFxcIjEwMDQ2MzJcXFwiLFNIT1dfRkFJTEVEOlxcXCIxMDA0NjMzXFxcIixDQU5fTk9UX0dFVF9ERVZJQ0VfSU5GTzpcXFwiMTAwNDY4MVxcXCIsSE9UX1NUQVJUX0lOVEVSVkFMX1RJTUU6XFxcIjEwMDQ2ODJcXFwiLFNUQVlfVElNRTpcXFwiMTAwNDY0NFxcXCIsQ0FMTEJBQ0tfRVJST1I6XFxcIjEwMDQ2ODNcXFwiLENMSUNLX1VSTF9GQUlMOlxcXCIxMDA0NjQ4XFxcIixERUVQTElOS19SRVNVTFQ6XFxcIjEwMDQ2NTBcXFwiLEJJRF9MT1NTOlxcXCIxMDA0NjU5XFxcIixCSURfV0lOOlxcXCIxMDA0NjY3XFxcIixCSURfTUVSR0VfVE9fV0Y6XFxcIjEwMDQ2NjhcXFwiLEFEWF9XRUJWSUVXX0FDVElPTjpcXFwiMTAwNDY3NVxcXCIsQURYX0lNUF9JTlZBTElEOlxcXCIxMTAwMDA0XFxcIixHRVRfQUQ6XFxcIjExMDAwMDFcXFwiLFZJVk9fQURfUFJJQ0U6XFxcIjExMDAwMDJcXFwiLEFEX0ZFRURCQUNLOlxcXCIxMDA0NjUyXFxcIixCQU5ORVJfSElERTpcXFwiMTEwMDAwM1xcXCJ9O2Z1bmN0aW9uIHFhKHQpe3JldHVybiBNYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTWEoKXtyZXR1cm4oTWE9byhpKCkubWFyaygoZnVuY3Rpb24gdChuKXt2YXIgcixhLG8sZCxzLGwsYyx1LGgscCxmLG0sXyxnLHksSSxiLGssdyx4LFQsQSxMLE8sUCxVLCQsTixqLEYsQixXLHEsVixZLHosUSxKLFosdHQsZXQsaXQscnQsYXQsb3QsZHQsc3QsbHQsY3QsdXQsaHQscHQsZnQsdnQsbXQsX3QsZ3QseXQsSXQsYnQsa3Qsd3Q7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihMPW51bGwhPT0ocj1udWxsPT09KGE9dGhpcy4kYXBwKXx8dm9pZCAwPT09YT92b2lkIDA6YS4kZGVmKSYmdm9pZCAwIT09cj9yOnRoaXMuJGRlZixPPShudWxsPT1MP3ZvaWQgMDpMLnRvcG9uX3Nkayl8fHt9LFA9Ty5hcHBLZXksVT1PLmFwcElkLCQ9Ty5zdG9yZSxOPU8uY2hhbm5lbElkLGo9dm9pZCAwPT09Tj9cXFwiXFxcIjpOLEY9Ty5zdWJDaGFubmVsSWQsQj12b2lkIDA9PT1GP1xcXCJcXFwiOkYsVz1SKCkscT1TKCksVj1xLmFwcCxZPXEubmV0d29yayx2KG51bGw9PSR8fG51bGw9PT0obz0kLmRldmljZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaW5mbykpe3QubmV4dD04O2JyZWFrfXQudDA9bnVsbD09JHx8bnVsbD09PShkPSQuZGV2aWNlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5pbmZvLHQubmV4dD0xNDticmVhaztjYXNlIDg6cmV0dXJuIHQubmV4dD0xMCxILmdldEluZm8oKTtjYXNlIDEwOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xMzticmVha310LnQxPXt9O2Nhc2UgMTM6dC50MD10LnQxO2Nhc2UgMTQ6cmV0dXJuIHo9dC50MCxRPVYuZ2V0SW5mbygpfHx7fSx0Lm5leHQ9MTgsWS5nZXRUeXBlKCk7Y2FzZSAxODppZih0LnQyPXQuc2VudCx0LnQyKXt0Lm5leHQ9MjE7YnJlYWt9dC50Mj17fTtjYXNlIDIxOmlmKEo9dC50Mix0LnQ0PW51bGw9PSR8fG51bGw9PT0ocz0kLmRldmljZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuaWRzLHQudDQpe3QubmV4dD0yNzticmVha31yZXR1cm4gdC5uZXh0PTI2LEguZ2V0RGV2aWNlSWRzKCk7Y2FzZSAyNjp0LnQ0PXQuc2VudDtjYXNlIDI3OmlmKHQudDM9dC50NCx0LnQzKXt0Lm5leHQ9MzA7YnJlYWt9dC50Mz17fTtjYXNlIDMwOmlmKFo9dC50Myx0LnQ2PW51bGw9PSR8fG51bGw9PT0obD0kLmRldmljZSl8fHZvaWQgMD09PWw/dm9pZCAwOmwub2FpZCx0LnQ2KXt0Lm5leHQ9MzY7YnJlYWt9cmV0dXJuIHQubmV4dD0zNSxILmdldE9hSWQoKTtjYXNlIDM1OnQudDY9dC5zZW50O2Nhc2UgMzY6aWYodC50NT10LnQ2LHQudDUpe3QubmV4dD0zOTticmVha310LnQ1PVxcXCJcXFwiO2Nhc2UgMzk6aWYodHQ9dC50NSxldD1XYVtuLmtleV0saXQ9XFxcIjEuMFxcXCIsdC50Nz1udWxsPT0kP3ZvaWQgMDokLnVwaWQsdC50Nyl7dC5uZXh0PTQ3O2JyZWFrfXJldHVybiB0Lm5leHQ9NDYsRygpO2Nhc2UgNDY6dC50Nz10LnNlbnQ7Y2FzZSA0NzpyZXR1cm4gcnQ9dC50Nyx0Lm5leHQ9NTAsSygpO2Nhc2UgNTA6cmV0dXJuIGF0PXQuc2VudCxvdD1udWxsIT09KGM9bnVsbD09UT92b2lkIDA6US5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PWM/YzpcXFwiXFxcIixkdD1udWxsIT09KHU9XFxcIlxcXCIrKG51bGw9PVE/dm9pZCAwOlEudmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09dT91OlxcXCJcXFwiLHN0PW51bGwhPT0oaD1cXFwiXFxcIisobnVsbD09UT92b2lkIDA6US52ZXJzaW9uTmFtZSkpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsbHQ9XFxcIlxcXCIuY29uY2F0KG51bGw9PXo/dm9pZCAwOnouc2NyZWVuV2lkdGgsXFxcIipcXFwiKS5jb25jYXQobnVsbD09ej92b2lkIDA6ei5zY3JlZW5IZWlnaHQpLGN0PW50W251bGw9PUp8fG51bGw9PT0ocD1KLmRhdGEpfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLnR5cGVdfHxcXFwiLTFcXFwiLHQubmV4dD01OCxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDU4OmlmKHQudDg9dC5zZW50LHQudDgpe3QubmV4dD02MTticmVha310LnQ4PTA7Y2FzZSA2MTpyZXR1cm4gdXQ9dC50OCx0Lm5leHQ9NjQsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDY0OmlmKHQudDk9dC5zZW50LHQudDkpe3QubmV4dD02NzticmVha310LnQ5PTA7Y2FzZSA2NzpyZXR1cm4gaHQ9dC50OSxwdD1NYXRoLmNlaWwoKGh0LXV0KzEpLzg2NGU1KSxmdD1cXFwiVE9QT05fQURfQ0FDSEVfQVBQX1xcXCIrVSx0Lm5leHQ9NzIsTS5nZXRJdGVtKGZ0LCExKTtjYXNlIDcyOmlmKHQudDEwPXQuc2VudCx0LnQxMCl7dC5uZXh0PTc1O2JyZWFrfXQudDEwPXt9O2Nhc2UgNzU6aWYodnQ9dC50MTAsbXQ9ZShlKHt9LG4pLHt9LHtrZXk6ZXQscHNpZDphdCx0aW1lc3RhbXA6U3RyaW5nKERhdGUubm93KCkpfSksX3Q9XFxcIlxcXCIsIW4udW5pdGlkKXt0Lm5leHQ9ODM7YnJlYWt9cmV0dXJuIHQubmV4dD04MSxYKG4udW5pdGlkKTtjYXNlIDgxOl90PXQuc2VudCxtdC5zZXNzaW9uaWQ9X3Q7Y2FzZSA4MzpyZXR1cm4gZ3Q9W210XSx5dD17YXBwX2lkOlUsc3lzdGVtOjEscGxhdGZvcm06MSxvc192bjpudWxsIT09KGY9XFxcIlxcXCIrKG51bGw9PXo/dm9pZCAwOnoub3NWZXJzaW9uTmFtZSkpJiZ2b2lkIDAhPT1mP2Y6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PShtPVxcXCJcXFwiKyhudWxsPT16P3ZvaWQgMDp6Lm9zVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09bT9tOlxcXCJcXFwiLHBhY2thZ2VfbmFtZTpvdCxhcHBfdm46c3QsYXBwX3ZjOmR0LGJyYW5kOm51bGwhPT0oXz1udWxsPT16P3ZvaWQgMDp6LmJyYW5kKSYmdm9pZCAwIT09Xz9fOlxcXCJcXFwiLG1vZGVsOm51bGwhPT0oZz1udWxsPT16P3ZvaWQgMDp6Lm1vZGVsKSYmdm9pZCAwIT09Zz9nOlxcXCJcXFwiLHBmX3ZuOm51bGwhPT0oeT1udWxsPT16P3ZvaWQgMDp6LnBsYXRmb3JtVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT15P3k6XFxcIlxcXCIscGZfdmM6bnVsbCE9PShJPVxcXCJcXFwiKyhudWxsPT16P3ZvaWQgMDp6LnBsYXRmb3JtVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09ST9JOlxcXCJcXFwiLHNjcmVlbjpsdCxuZXR3b3JrX3R5cGU6Y3QsbWNjOlxcXCIxXFxcIixtbmM6XFxcIjFcXFwiLGxhbmd1YWdlOm51bGwhPT0oYj1udWxsPT16P3ZvaWQgMDp6Lmxhbmd1YWdlKSYmdm9pZCAwIT09Yj9iOlxcXCJcXFwiLHRpbWV6b25lOlxcXCJcXFwiLHNka192ZXI6XFxcIlVBX1xcXCIuY29uY2F0KEJhKSxud192ZXI6XFxcIlxcXCIsZ3BfdmVyOlxcXCJcXFwiLHVhOld8fFxcXCJcXFwiLHVwaWQ6cnQsY2hhbm5lbDpqfHxcXFwiXFxcIixzdWJfY2hhbm5lbDpCfHxcXFwiXFxcIixvcmllbnQ6MSxvc19mdzo4LGRhdGE6Z3QsZmlyc3RfaW5pdF90aW1lOjEqdXQsZGF5c19mcm9tX2ZpcnN0X2luaXQ6MSpwdCxhYnRlc3RfaWQ6bnVsbCE9PShrPW51bGw9PXZ0fHxudWxsPT09KHc9dnQuZGF0YSl8fHZvaWQgMD09PXc/dm9pZCAwOncuYWJ0ZXN0X2lkKSYmdm9pZCAwIT09az9rOlxcXCJcXFwifSxJdD17YW5kcm9pZF9pZDpudWxsIT09KHg9bnVsbD09Wj92b2lkIDA6Wi51c2VyKSYmdm9pZCAwIT09eD94OlxcXCJcXFwiLG1hYzpudWxsIT09KFQ9bnVsbD09Wj92b2lkIDA6Wi5tYWMpJiZ2b2lkIDAhPT1UP1Q6XFxcIlxcXCIsaW1laTpcXFwiXFxcIixvYWlkOnR0LGdhaWQ6bnVsbCE9PShBPW51bGw9PVo/dm9pZCAwOlouYWR2ZXJ0aXNpbmcpJiZ2b2lkIDAhPT1BP0E6XFxcIlxcXCIsaXNfY25fc2RrOlxcXCIxXFxcIn0sYnQ9QyhEKHl0KSksa3Q9QyhEKEl0KSksd3Q9RShQLFt7a2V5OlxcXCJhcGlfdmVyXFxcIix2YWx1ZTppdH0se2tleTpcXFwicFxcXCIsdmFsdWU6YnR9LHtrZXk6XFxcInAyXFxcIix2YWx1ZTprdH1dKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIix7cDpidCxwMjprdCxhcGlfdmVyOml0LHNpZ246d3R9KTtjYXNlIDkxOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBWYSh0KXtyZXR1cm4gSGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEhhKCl7cmV0dXJuKEhhPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG47cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAsdC5uZXh0PTMscWEuY2FsbCh0aGlzLGUpO2Nhc2UgMzpyZXR1cm4gbj10LnNlbnQsdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsTmEoXFxcIlxcXCIuY29uY2F0KEZhLFxcXCIvdjIvZGFcXFwiKSxuKSk7Y2FzZSA3OnQucHJldj03LHQudDA9dC5jYXRjaCgwKTtjYXNlIDk6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDddXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gR2EodCl7cmV0dXJuIFlhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBZYSgpe3JldHVybihZYT1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYSxvLGQscyxsLGMsdSxoLHAsZixtLF8sZyx5LEksYixrLHcseCxULEEsRSxDLEQsTCxPLFAsVSwkLE4saixGLEIsVyxxLE0sVixZLHosWCxRLEosWix0dCxldCxpdCxydCxhdCxvdCxkdCxzdDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKHg9bnVsbCE9PShuPW51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLiRkZWYpJiZ2b2lkIDAhPT1uP246dGhpcy4kZGVmLFQ9KG51bGw9PXg/dm9pZCAwOngudG9wb25fc2RrKXx8e30sQT1ULmFwcElkLEU9VC5zdG9yZSxDPVQuY2hhbm5lbElkLEQ9dm9pZCAwPT09Qz9cXFwiXFxcIjpDLEw9VC5zdWJDaGFubmVsSWQsTz12b2lkIDA9PT1MP1xcXCJcXFwiOkwsUD1lLmtleSxVPWUubXNnLCQ9ZS5tc2cxLE49ZS5tc2cyLGo9ZS5tc2czLEY9UigpLEI9UygpLFc9Qi5hcHAscT1CLm5ldHdvcmssdihudWxsPT1FfHxudWxsPT09KGE9RS5kZXZpY2UpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmluZm8pKXt0Lm5leHQ9OTticmVha310LnQwPW51bGw9PUV8fG51bGw9PT0obz1FLmRldmljZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaW5mbyx0Lm5leHQ9MTU7YnJlYWs7Y2FzZSA5OnJldHVybiB0Lm5leHQ9MTEsSC5nZXRJbmZvKCk7Y2FzZSAxMTppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTQ7YnJlYWt9dC50MT17fTtjYXNlIDE0OnQudDA9dC50MTtjYXNlIDE1OnJldHVybiBNPXQudDAsVj1XLmdldEluZm8oKXx8e30sdC5uZXh0PTE5LHEuZ2V0VHlwZSgpO2Nhc2UgMTk6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIyO2JyZWFrfXQudDI9e307Y2FzZSAyMjppZihZPXQudDIsdC50ND1udWxsPT1FfHxudWxsPT09KGQ9RS5kZXZpY2UpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLmlkcyx0LnQ0KXt0Lm5leHQ9Mjg7YnJlYWt9cmV0dXJuIHQubmV4dD0yNyxILmdldERldmljZUlkcygpO2Nhc2UgMjc6dC50ND10LnNlbnQ7Y2FzZSAyODppZih0LnQzPXQudDQsdC50Myl7dC5uZXh0PTMxO2JyZWFrfXQudDM9e307Y2FzZSAzMTppZih6PXQudDMsdC50Nj1udWxsPT1FfHxudWxsPT09KHM9RS5kZXZpY2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm9haWQsdC50Nil7dC5uZXh0PTM3O2JyZWFrfXJldHVybiB0Lm5leHQ9MzYsSC5nZXRPYUlkKCk7Y2FzZSAzNjp0LnQ2PXQuc2VudDtjYXNlIDM3OmlmKHQudDU9dC50Nix0LnQ1KXt0Lm5leHQ9NDA7YnJlYWt9dC50NT1cXFwiXFxcIjtjYXNlIDQwOmlmKFg9dC50NSxRPVdhW1BdLHQudDc9bnVsbD09RT92b2lkIDA6RS51cGlkLHQudDcpe3QubmV4dD00NzticmVha31yZXR1cm4gdC5uZXh0PTQ2LEcoKTtjYXNlIDQ2OnQudDc9dC5zZW50O2Nhc2UgNDc6cmV0dXJuIEo9dC50Nyx0Lm5leHQ9NTAsSygpO2Nhc2UgNTA6cmV0dXJuIFo9dC5zZW50LHR0PW51bGwhPT0obD1udWxsPT1WP3ZvaWQgMDpWLnBhY2thZ2VOYW1lKSYmdm9pZCAwIT09bD9sOlxcXCJcXFwiLGV0PW51bGwhPT0oYz1cXFwiXFxcIisobnVsbD09Vj92b2lkIDA6Vi52ZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIsaXQ9bnVsbCE9PSh1PVxcXCJcXFwiKyhudWxsPT1WP3ZvaWQgMDpWLnZlcnNpb25OYW1lKSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixydD1cXFwiXFxcIi5jb25jYXQobnVsbD09TT92b2lkIDA6TS5zY3JlZW5XaWR0aCxcXFwiKlxcXCIpLmNvbmNhdChudWxsPT1NP3ZvaWQgMDpNLnNjcmVlbkhlaWdodCksYXQ9bnRbbnVsbD09WXx8bnVsbD09PShoPVkuZGF0YSl8fHZvaWQgMD09PWg/dm9pZCAwOmgudHlwZV18fFxcXCItMVxcXCIsb3Q9e2tleTpRLHBzaWQ6Wix0aW1lc3RhbXA6U3RyaW5nKERhdGUubm93KCkpLHVwaWQ6SixzZGtfdGltZTpEYXRlLm5vdygpLG1zZzpVLG1zZzE6JCxtc2cyOk4sbXNnMzpqfSxkdD17YXBwX2lkOkEsc3lzdGVtOjEscGxhdGZvcm06MSxvc192bjpudWxsIT09KHA9XFxcIlxcXCIrKG51bGw9PU0/dm9pZCAwOk0ub3NWZXJzaW9uTmFtZSkpJiZ2b2lkIDAhPT1wP3A6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PShmPVxcXCJcXFwiKyhudWxsPT1NP3ZvaWQgMDpNLm9zVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09Zj9mOlxcXCJcXFwiLHBhY2thZ2VfbmFtZTp0dCxhcHBfdm46aXQsYXBwX3ZjOmV0LGJyYW5kOm51bGwhPT0obT1udWxsPT1NP3ZvaWQgMDpNLmJyYW5kKSYmdm9pZCAwIT09bT9tOlxcXCJcXFwiLG1vZGVsOm51bGwhPT0oXz1udWxsPT1NP3ZvaWQgMDpNLm1vZGVsKSYmdm9pZCAwIT09Xz9fOlxcXCJcXFwiLHBmX3ZuOm51bGwhPT0oZz1udWxsPT1NP3ZvaWQgMDpNLnBsYXRmb3JtVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1nP2c6XFxcIlxcXCIscGZfdmM6bnVsbCE9PSh5PVxcXCJcXFwiKyhudWxsPT1NP3ZvaWQgMDpNLnBsYXRmb3JtVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09eT95OlxcXCJcXFwiLHNjcmVlbjpydCxuZXR3b3JrX3R5cGU6YXQsbWNjOlxcXCIxXFxcIixtbmM6XFxcIjFcXFwiLGxhbmd1YWdlOm51bGwhPT0oST1udWxsPT1NP3ZvaWQgMDpNLmxhbmd1YWdlKSYmdm9pZCAwIT09ST9JOlxcXCJcXFwiLHRpbWV6b25lOlxcXCJcXFwiLHNka192ZXI6XFxcIlVBX1xcXCIuY29uY2F0KEJhKSxud192ZXI6XFxcIlxcXCIsZ3BfdmVyOlxcXCJcXFwiLHVhOkZ8fFxcXCJcXFwiLHVwaWQ6SixjaGFubmVsOkR8fFxcXCJcXFwiLHN1Yl9jaGFubmVsOk98fFxcXCJcXFwiLG9yaWVudDoxLG9zX2Z3Ojh9LHN0PXthbmRyb2lkX2lkOm51bGwhPT0oYj1udWxsPT16P3ZvaWQgMDp6LnVzZXIpJiZ2b2lkIDAhPT1iP2I6XFxcIlxcXCIsbWFjOm51bGwhPT0oaz1udWxsPT16P3ZvaWQgMDp6Lm1hYykmJnZvaWQgMCE9PWs/azpcXFwiXFxcIixpbWVpOlxcXCJcXFwiLG9haWQ6WCxnYWlkOm51bGwhPT0odz1udWxsPT16P3ZvaWQgMDp6LmFkdmVydGlzaW5nKSYmdm9pZCAwIT09dz93OlxcXCJcXFwiLGlzX2NuX3NkazpcXFwiMVxcXCJ9LHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwUGFyYW1zOmR0LHAyUGFyYW1zOnN0LGRhdGE6b3R9KTtjYXNlIDYwOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBLYSh0LGUpe3ZhciBpLG4scj1udWxsIT09KGk9bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uJGRlZikmJnZvaWQgMCE9PWk/aTp0aGlzLiRkZWYsYT0oKG51bGw9PXI/dm9pZCAwOnIudG9wb25fc2RrKXx8e30pLmFwcEtleSxvPUMoRCh0KSksZD1DKEQoZSkpO3JldHVybntwOm8scDI6ZCxhcGlfdmVyOlxcXCIxLjBcXFwiLHNpZ246RShhLFt7a2V5OlxcXCJhcGlfdmVyXFxcIix2YWx1ZTpcXFwiMS4wXFxcIn0se2tleTpcXFwicFxcXCIsdmFsdWU6b30se2tleTpcXFwicDJcXFwiLHZhbHVlOmR9XSl9fWZ1bmN0aW9uIHphKHQpe3RyeXt2YXIgaSxuPShudWxsPT10aGlzfHxudWxsPT09KGk9dGhpcy4kZGVmKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkudG9wb25fc2RrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5kZXN0cm95UGFyYW1zKXx8e30scj1uLnBQYXJhbXMsYT1uLnAyUGFyYW1zLG89ZnVuY3Rpb24odCxpKXt2YXIgbj1XYVtpLmtleV07cmV0dXJuIGUoZShlKHt9LHQpLGkpLHt9LHtrZXk6bix0aW1lc3RhbXA6U3RyaW5nKERhdGUubm93KCkpfSl9KG4uZGF0YSx0KSxkPWUoZSh7fSxyKSx7fSx7ZGF0YTpbb119KSxzPUthLmNhbGwodGhpcyxkLGEpO3JldHVybiBOYShcXFwiXFxcIi5jb25jYXQoRmEsXFxcIi92Mi9kYVxcXCIpLHMpfWNhdGNoKHQpe319dmFyIFhhPVxcXCI0LjIuMTFcXFwiLFFhPVxcXCJodHRwOi8vYXBpLmFueXRoaW5rdGVjaC5jb21cXFwiO2Z1bmN0aW9uIEphKHQpe3JldHVybiBaYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWmEoKXtyZXR1cm4oWmE9byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsbSxfLGcseSxJLGIsayx3LHgsVCxBLEwsUCxVLCQsTixqLEYsQixXLHEsVixZLHosUSxKLFosdHQsZXQsaXQscnQsYXQsb3QsZHQsc3QsbHQsY3QsdXQsaHQscHQsZnQsdnQsbXQsX3QsZ3QseXQsSXQsYnQsa3Qsd3QseHQsU3QsVHQsQXQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihVPW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZiwkPShudWxsPT1VP3ZvaWQgMDpVLnRvcG9uX3Nkayl8fHt9LE49JC5hcHBLZXksaj0kLmFwcElkLEY9JC5jaGFubmVsSWQsQj12b2lkIDA9PT1GP1xcXCJcXFwiOkYsVz0kLnN1YkNoYW5uZWxJZCxxPXZvaWQgMD09PVc/XFxcIlxcXCI6VyxWPSQuY3VzdG9tUGFyYW0sWT12b2lkIDA9PT1WP3t9OlYsej0kLnBsYWNlbWVudEN1c3RvbVBhcmFtLFE9dm9pZCAwPT09ej97fTp6LEo9JC5zdG9yZSxaPWUucGxhY2VtZW50SWQsdHQ9TyhZLFEpLGV0PVIoKSxpdD1TKCkscnQ9aXQuYXBwLGF0PWl0Lm5ldHdvcmssb3Q9aXQuZGV2aWNlLHYobnVsbD09Snx8bnVsbD09PShhPUouZGV2aWNlKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pbmZvKSl7dC5uZXh0PTEwO2JyZWFrfXQudDA9bnVsbD09Snx8bnVsbD09PShvPUouZGV2aWNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmZvLHQubmV4dD0xNjticmVhaztjYXNlIDEwOnJldHVybiB0Lm5leHQ9MTIsSC5nZXRJbmZvKCk7Y2FzZSAxMjppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTU7YnJlYWt9dC50MT17fTtjYXNlIDE1OnQudDA9dC50MTtjYXNlIDE2OnJldHVybiBkdD10LnQwLHN0PXJ0LmdldEluZm8oKXx8e30sdC5uZXh0PTIwLGF0LmdldFR5cGUoKTtjYXNlIDIwOmlmKHQudDI9dC5zZW50LHQudDIpe3QubmV4dD0yMzticmVha310LnQyPXt9O2Nhc2UgMjM6aWYobHQ9dC50Mix0LnQ0PW51bGw9PUp8fG51bGw9PT0oZD1KLmRldmljZSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuaWRzLHQudDQpe3QubmV4dD0yOTticmVha31yZXR1cm4gdC5uZXh0PTI4LEguZ2V0RGV2aWNlSWRzKCk7Y2FzZSAyODp0LnQ0PXQuc2VudDtjYXNlIDI5OmlmKHQudDM9dC50NCx0LnQzKXt0Lm5leHQ9MzI7YnJlYWt9dC50Mz17fTtjYXNlIDMyOmlmKGN0PXQudDMsdC50Nj1udWxsPT1KfHxudWxsPT09KHM9Si5kZXZpY2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm9haWQsdC50Nil7dC5uZXh0PTM4O2JyZWFrfXJldHVybiB0Lm5leHQ9MzcsSC5nZXRPYUlkKCk7Y2FzZSAzNzp0LnQ2PXQuc2VudDtjYXNlIDM4OmlmKHQudDU9dC50Nix0LnQ1KXt0Lm5leHQ9NDE7YnJlYWt9dC50NT1cXFwiXFxcIjtjYXNlIDQxOmlmKHV0PXQudDUsaHQ9XFxcIlxcXCIuY29uY2F0KG51bGw9PWR0P3ZvaWQgMDpkdC5zY3JlZW5XaWR0aCxcXFwiKlxcXCIpLmNvbmNhdChudWxsPT1kdD92b2lkIDA6ZHQuc2NyZWVuSGVpZ2h0KSxwdD1udFtudWxsPT1sdHx8bnVsbD09PShsPWx0LmRhdGEpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLnR5cGVdfHxcXFwiLTFcXFwiLGZ0PVxcXCIxLjBcXFwiLHQudDc9bnVsbD09Sj92b2lkIDA6Si51cGlkLHQudDcpe3QubmV4dD01MDticmVha31yZXR1cm4gdC5uZXh0PTQ5LEcoKTtjYXNlIDQ5OnQudDc9dC5zZW50O2Nhc2UgNTA6cmV0dXJuIHZ0PXQudDcsdC5uZXh0PTUzLEsoKTtjYXNlIDUzOnJldHVybiBtdD10LnNlbnQsdC5uZXh0PTU2LFgoWik7Y2FzZSA1NjpyZXR1cm4gX3Q9dC5zZW50LHQubmV4dD01OSxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDU5OmlmKHQudDg9dC5zZW50LHQudDgpe3QubmV4dD02MjticmVha310LnQ4PTA7Y2FzZSA2MjpyZXR1cm4gZ3Q9dC50OCx0Lm5leHQ9NjUsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDY1OmlmKHQudDk9dC5zZW50LHQudDkpe3QubmV4dD02ODticmVha310LnQ5PTA7Y2FzZSA2ODpyZXR1cm4geXQ9dC50OSxJdD1NYXRoLmNlaWwoKHl0LWd0KzEpLzg2NGU1KSxidD1cXFwiVE9QT05fQURfQ0FDSEVfQVBQX1xcXCIraix0Lm5leHQ9NzMsTS5nZXRJdGVtKGJ0LCExKTtjYXNlIDczOmlmKHQudDEwPXQuc2VudCx0LnQxMCl7dC5uZXh0PTc2O2JyZWFrfXQudDEwPXt9O2Nhc2UgNzY6cmV0dXJuIGt0PXQudDEwLHd0PXtzeXN0ZW06MSxvc19mdzo4LG1jYzpcXFwiMVxcXCIsbW5jOlxcXCIxXFxcIix0aW1lem9uZTpcXFwiXFxcIixud192ZXI6XFxcIlxcXCIsb3JpZW50OjEsdWE6ZXR8fFxcXCJcXFwiLG9zX3ZuOm51bGwhPT0oYz1udWxsPT1kdD92b2lkIDA6ZHQub3NWZXJzaW9uTmFtZSkmJnZvaWQgMCE9PWM/YzpcXFwiXFxcIixvc192YzpudWxsIT09KHU9XFxcIlxcXCIrKG51bGw9PWR0P3ZvaWQgMDpkdC5vc1ZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixwYWNrYWdlX25hbWU6bnVsbCE9PShoPW51bGw9PXN0P3ZvaWQgMDpzdC5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PWg/aDpcXFwiXFxcIixhcHBfdm46bnVsbCE9PShwPW51bGw9PXN0P3ZvaWQgMDpzdC52ZXJzaW9uTmFtZSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixhcHBfdmM6bnVsbCE9PShmPVxcXCJcXFwiKyhudWxsPT1zdD92b2lkIDA6c3QudmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09Zj9mOlxcXCJcXFwiLGJyYW5kOm51bGwhPT0obT1udWxsPT1kdD92b2lkIDA6ZHQuYnJhbmQpJiZ2b2lkIDAhPT1tP206XFxcIlxcXCIsbW9kZWw6bnVsbCE9PShfPW51bGw9PWR0P3ZvaWQgMDpkdC5tb2RlbCkmJnZvaWQgMCE9PV8/XzpcXFwiXFxcIixwZl92bjpudWxsIT09KGc9bnVsbD09ZHQ/dm9pZCAwOmR0LnBsYXRmb3JtVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1nP2c6XFxcIlxcXCIscGZfdmM6bnVsbCE9PSh5PVxcXCJcXFwiKyhudWxsPT1kdD92b2lkIDA6ZHQucGxhdGZvcm1WZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT15P3k6XFxcIlxcXCIsbmV0d29ya190eXBlOnB0LHNjcmVlbjpodCx1cGlkOnZ0LGFwcF9pZDpqLHNka192ZXI6XFxcIlVBX1xcXCIuY29uY2F0KFhhKSxwbGF0Zm9ybToxLHBsX2lkOlosY2hhbm5lbDpCfHxcXFwiXFxcIixzdWJfY2hhbm5lbDpxfHxcXFwiXFxcIixjdXN0b206dHQscHNfaWQ6bXQsc2Vzc2lvbl9pZDpfdCxmaXJzdF9pbml0X3RpbWU6MSpndCxkYXlzX2Zyb21fZmlyc3RfaW5pdDpJdCxkZW55OlN0cmluZyhkdC5zY3JlZW5EZW5zaXR5KSxhcGlfdmVyOlxcXCIxLjBcXFwiLGhvc3Rfdm46bnVsbCE9PShJPW51bGw9PW90fHxudWxsPT09KGI9b3QuaG9zdCl8fHZvaWQgMD09PWI/dm9pZCAwOmIudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1JP0k6XFxcIlxcXCIsaG9zdF92YzpudWxsIT09KGs9XFxcIlxcXCIrKG51bGw9PW90fHxudWxsPT09KHc9b3QuaG9zdCl8fHZvaWQgMD09PXc/dm9pZCAwOncudmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09az9rOlxcXCJcXFwiLGFidGVzdF9pZDpudWxsIT09KHg9bnVsbD09a3R8fG51bGw9PT0oVD1rdC5kYXRhKXx8dm9pZCAwPT09VD92b2lkIDA6VC5hYnRlc3RfaWQpJiZ2b2lkIDAhPT14P3g6XFxcIlxcXCJ9LHh0PXthbmRyb2lkX2lkOm51bGwhPT0oQT1udWxsPT1jdD92b2lkIDA6Y3QudXNlcikmJnZvaWQgMCE9PUE/QTpcXFwiXFxcIixtYWM6bnVsbCE9PShMPW51bGw9PWN0P3ZvaWQgMDpjdC5tYWMpJiZ2b2lkIDAhPT1MP0w6XFxcIlxcXCIsaW1laTpcXFwiXFxcIixvYWlkOnV0LGdhaWQ6bnVsbCE9PShQPW51bGw9PWN0P3ZvaWQgMDpjdC5hZHZlcnRpc2luZykmJnZvaWQgMCE9PVA/UDpcXFwiXFxcIixpc19jbl9zZGs6XFxcIjFcXFwifSxTdD1DKEQod3QpKSxUdD1DKEQoeHQpKSxBdD1FKE4sW3trZXk6XFxcImFwaV92ZXJcXFwiLHZhbHVlOmZ0fSx7a2V5OlxcXCJwXFxcIix2YWx1ZTpTdH0se2tleTpcXFwicDJcXFwiLHZhbHVlOlR0fV0pLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwOlN0LHAyOlR0LGFwaV92ZXI6ZnQsc2lnbjpBdH0pO2Nhc2UgODQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHRvKHQpe3JldHVybiBlby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZW8oKXtyZXR1cm4gZW89byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwPWFyZ3VtZW50cztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBuPXAubGVuZ3RoPjEmJnZvaWQgMCE9PXBbMV0/cFsxXTp7fSxyPWUucGxhY2VtZW50SWQsdC5wcmV2PTIsYT1EYXRlLm5vdygpLHQubmV4dD02LEphLmNhbGwodGhpcyxlKTtjYXNlIDY6cmV0dXJuIG89dC5zZW50LHQubmV4dD05LE5hKFxcXCJcXFwiLmNvbmNhdChRYSxcXFwiL3YyL29wZW4vcGxhY2VtZW50XFxcIiksbyx7cmF3UmVzcG9uc2U6ITB9KTtjYXNlIDk6cmV0dXJuIGQ9dC5zZW50LHM9XyhudWxsPT1kP3ZvaWQgMDpkLmRhdGEpP0pTT04ucGFyc2UobnVsbD09ZD92b2lkIDA6ZC5kYXRhKToobnVsbD09ZD92b2lkIDA6ZC5kYXRhKXx8e30sbD1EYXRlLm5vdygpLGM9e2tleTpcXFwiU1RSQVRFR1lfUkVRVUVTVF9USU1FXFxcIixtc2c6XFxcInBsYWNlbWVudFxcXCIsdW5pdGlkOnIsbXNnMTpTdHJpbmcoYSksbXNnMjpTdHJpbmcobCksbXNnMzpTdHJpbmcobC1hKSxtc2c0Om51bGwhPW4mJm4uaXNQcmVsb2FkP1xcXCIxXFxcIjpcXFwiXFxcIn0sVmEuY2FsbCh0aGlzLGMpLHMuY29kZT4wJiYodT17a2V5OlxcXCJBUElfRVJST1JcXFwiLG1zZzpcXFwicGxhY2VtZW50XFxcIix1bml0aWQ6cixtc2cxOlN0cmluZyhzLmNvZGUpLG1zZzI6cy5tc2csbXNnMzpRYS5yZXBsYWNlKC9eaHR0cHM/OlxcXFwvXFxcXC8vLFxcXCJcXFwiKX0sVmEuY2FsbCh0aGlzLHUpKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixkKTtjYXNlIDE4OnJldHVybiB0LnByZXY9MTgsdC50MD10LmNhdGNoKDIpLGg9e2tleTpcXFwiQVBJX0VSUk9SXFxcIixtc2c6XFxcInBsYWNlbWVudFxcXCIsbXNnMTpcXFwidW5rbm93XFxcIixtc2cyOlxcXCJyZXF1ZXN0IGVycm9yXFxcIix1bml0aWQ6cixtc2czOlFhLnJlcGxhY2UoL15odHRwcz86XFxcXC9cXFxcLy8sXFxcIlxcXCIpfSxWYS5jYWxsKHRoaXMsaCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse30pO2Nhc2UgMjM6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1syLDE4XV0pfSkpKSxlby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGlvPVxcXCJodHRwOi8vdGsuYW55dGhpbmt0ZWNoLmNvbVxcXCIsbm89XFxcIjQuMi4xMVxcXCIscm89e0FEX0xPQUQ6MTAsQURfTE9BRF9GSUxMRUQ6MTIsQURfUkVRVUVTVDoxLEFEX1JFUVVFU1RfRklMTEVEOjIsQURfQklERElORzoxMSxBRF9TSE9XOjEzLEFEX0NMSUNLOjYsQURfSU1QUkVTU0lPTjo0LEFQUF9TVEFSVFVQOjIxfTtmdW5jdGlvbiBhbyh0KXtyZXR1cm4gb28uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG9vKCl7cmV0dXJuKG9vPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLG8sZCxzLGwsYyx1LGgscCxmLG0sXyxnLHksSSxiLGssdyx4LFQsQSxMLFAsVSwkLE4saixGLEIsVyxxLFYsWSx6LFEsSixaLHR0LGV0LGl0LHJ0LGF0LG90LGR0LHN0LGx0LGN0LHV0LGh0LHB0LGZ0LHZ0LG10LF90LGd0LHl0LEl0LGJ0LGt0LHd0LHh0LFN0LFR0LEF0LEV0LEN0LER0LEx0LE90LFJ0LFB0LFV0LCR0LE50LGp0LEZ0LEJ0LFd0LHF0LE10LFZ0LEh0LEd0LFl0LEt0LHp0LFh0LFF0LEp0LFp0LHRlLGVlLGllLG5lLHJlLGFlLG9lLGRlLHNlLGxlLGNlO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoJD1udWxsIT09KG49bnVsbD09PShyPXRoaXMuJGFwcCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuJGRlZikmJnZvaWQgMCE9PW4/bjp0aGlzLiRkZWYsTj0obnVsbD09JD92b2lkIDA6JC50b3Bvbl9zZGspfHx7fSxqPU4uYXBwS2V5LEY9Ti5hcHBJZCxCPU4uY2hhbm5lbElkLFc9dm9pZCAwPT09Qj9cXFwiXFxcIjpCLHE9Ti5zdWJDaGFubmVsSWQsVj12b2lkIDA9PT1xP1xcXCJcXFwiOnEsWT1OLmN1c3RvbVBhcmFtLHo9dm9pZCAwPT09WT97fTpZLFE9Ti5wbGFjZW1lbnRDdXN0b21QYXJhbSxKPXZvaWQgMD09PVE/e306USxaPU4uc3RvcmUsdHQ9ZS5wbGFjZW1lbnRJZCxldD1lLnJlcXVlc3RJZCxpdD1lLmxvZ1R5cGUscnQ9ZS50cmFmZmljR3JvdXBJZCxhdD1lLnNlZ21lbnRJZCxvdD1lLmFkU291cmNlSWQsZHQ9ZS5ud0Zpcm1JZCxzdD1lLmFzSWQsbHQ9ZS5mb3JtYXQsY3Q9ZS5lY3BtLHV0PWUuc1B0eSxodD1lLnBsYWNlbWVudExvYWRUaW1lLHB0PWUudW5pdEZpbGxlZFRpbWUsZnQ9ZS5yZXFVZ051bSx2dD1lLnBDLG10PWUuYmlkVGssX3Q9dm9pZCAwPT09bXQ/e306bXQsZ3Q9ZS53ZlR5cGUseXQ9ZS5wc0lkVmlydHVhbCxJdD12b2lkIDA9PT15dD9cXFwiXFxcIjp5dCxidD1PKHosSiksa3Q9UygpLHd0PWt0LmFwcCx4dD1rdC5uZXR3b3JrLFN0PWt0LmRldmljZSxUdD1SKCksdihudWxsPT1afHxudWxsPT09KGE9Wi5kZXZpY2UpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmluZm8pKXt0Lm5leHQ9MTA7YnJlYWt9dC50MD1udWxsPT1afHxudWxsPT09KG89Wi5kZXZpY2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmluZm8sdC5uZXh0PTE2O2JyZWFrO2Nhc2UgMTA6cmV0dXJuIHQubmV4dD0xMixILmdldEluZm8oKTtjYXNlIDEyOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xNTticmVha310LnQxPXt9O2Nhc2UgMTU6dC50MD10LnQxO2Nhc2UgMTY6cmV0dXJuIEF0PXQudDAsRXQ9d3QuZ2V0SW5mbygpfHx7fSx0Lm5leHQ9MjAseHQuZ2V0VHlwZSgpO2Nhc2UgMjA6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIzO2JyZWFrfXQudDI9e307Y2FzZSAyMzppZihDdD10LnQyLHQudDQ9bnVsbD09Wnx8bnVsbD09PShkPVouZGV2aWNlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5pZHMsdC50NCl7dC5uZXh0PTI5O2JyZWFrfXJldHVybiB0Lm5leHQ9MjgsSC5nZXREZXZpY2VJZHMoKTtjYXNlIDI4OnQudDQ9dC5zZW50O2Nhc2UgMjk6aWYodC50Mz10LnQ0LHQudDMpe3QubmV4dD0zMjticmVha310LnQzPXt9O2Nhc2UgMzI6aWYoRHQ9dC50Myx0LnQ2PW51bGw9PVp8fG51bGw9PT0ocz1aLmRldmljZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMub2FpZCx0LnQ2KXt0Lm5leHQ9Mzg7YnJlYWt9cmV0dXJuIHQubmV4dD0zNyxILmdldE9hSWQoKTtjYXNlIDM3OnQudDY9dC5zZW50O2Nhc2UgMzg6aWYodC50NT10LnQ2LHQudDUpe3QubmV4dD00MTticmVha310LnQ1PVxcXCJcXFwiO2Nhc2UgNDE6aWYoTHQ9dC50NSxPdD1cXFwiMS4wXFxcIix0LnQ3PW51bGw9PVo/dm9pZCAwOloudXBpZCx0LnQ3KXt0Lm5leHQ9NDg7YnJlYWt9cmV0dXJuIHQubmV4dD00NyxHKCk7Y2FzZSA0Nzp0LnQ3PXQuc2VudDtjYXNlIDQ4OnJldHVybiBSdD10LnQ3LHQubmV4dD01MSxLKCk7Y2FzZSA1MTpyZXR1cm4gUHQ9dC5zZW50LEl0JiYoUHQ9UHQrXFxcIi9cXFwiK0l0KSx0Lm5leHQ9NTUsWCh0dCk7Y2FzZSA1NTpyZXR1cm4gVXQ9dC5zZW50LHQubmV4dD01OCxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDU4OmlmKHQudDg9dC5zZW50LHQudDgpe3QubmV4dD02MTticmVha310LnQ4PTA7Y2FzZSA2MTpyZXR1cm4gJHQ9dC50OCx0Lm5leHQ9NjQsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDY0OmlmKHQudDk9dC5zZW50LHQudDkpe3QubmV4dD02NzticmVha310LnQ5PTA7Y2FzZSA2NzpyZXR1cm4gTnQ9dC50OSxqdD1NYXRoLmNlaWwoKE50LSR0KzEpLzg2NGU1KSxGdD1cXFwiXFxcIi5jb25jYXQobnVsbD09QXQ/dm9pZCAwOkF0LnNjcmVlbldpZHRoLFxcXCIqXFxcIikuY29uY2F0KG51bGw9PUF0P3ZvaWQgMDpBdC5zY3JlZW5IZWlnaHQpLEJ0PW50W251bGw9PUN0fHxudWxsPT09KGw9Q3QuZGF0YSl8fHZvaWQgMD09PWw/dm9pZCAwOmwudHlwZV18fFxcXCItMVxcXCIsV3Q9XFxcIlRPUE9OX0FEX0NBQ0hFX0FQUF9cXFwiK0YsdC5uZXh0PTc0LE0uZ2V0SXRlbShXdCwhMSk7Y2FzZSA3NDppZih0LnQxMD10LnNlbnQsdC50MTApe3QubmV4dD03NzticmVha310LnQxMD17fTtjYXNlIDc3OnJldHVybiBxdD10LnQxMCxNdD17YXBwX2lkOkYsc3lzdGVtOjEscGxhdGZvcm06MSxvc192bjpudWxsIT09KGM9bnVsbD09QXQ/dm9pZCAwOkF0Lm9zVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PSh1PVxcXCJcXFwiKyhudWxsPT1BdD92b2lkIDA6QXQub3NWZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCIscGFja2FnZV9uYW1lOm51bGwhPT0oaD1udWxsPT1FdD92b2lkIDA6RXQucGFja2FnZU5hbWUpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsYXBwX3ZuOm51bGwhPT0ocD1udWxsPT1FdD92b2lkIDA6RXQudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1wP3A6XFxcIlxcXCIsYXBwX3ZjOm51bGwhPT0oZj1cXFwiXFxcIisobnVsbD09RXQ/dm9pZCAwOkV0LnZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PWY/ZjpcXFwiXFxcIixicmFuZDpudWxsIT09KG09bnVsbD09QXQ/dm9pZCAwOkF0LmJyYW5kKSYmdm9pZCAwIT09bT9tOlxcXCJcXFwiLG1vZGVsOm51bGwhPT0oXz1udWxsPT1BdD92b2lkIDA6QXQubW9kZWwpJiZ2b2lkIDAhPT1fP186XFxcIlxcXCIscGZfdm46bnVsbCE9PShnPW51bGw9PUF0P3ZvaWQgMDpBdC5wbGF0Zm9ybVZlcnNpb25OYW1lKSYmdm9pZCAwIT09Zz9nOlxcXCJcXFwiLHBmX3ZjOm51bGwhPT0oeT1cXFwiXFxcIisobnVsbD09QXQ/dm9pZCAwOkF0LnBsYXRmb3JtVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09eT95OlxcXCJcXFwiLHNjcmVlbjpGdCxuZXR3b3JrX3R5cGU6QnQsbWNjOlxcXCIxXFxcIixtbmM6XFxcIjFcXFwiLGxhbmd1YWdlOm51bGwhPT0oST1udWxsPT1BdD92b2lkIDA6QXQubGFuZ3VhZ2UpJiZ2b2lkIDAhPT1JP0k6XFxcIlxcXCIsdGltZXpvbmU6XFxcIlxcXCIsc2RrX3ZlcjpcXFwiVUFfXFxcIi5jb25jYXQobm8pLGdwX3ZlcjpcXFwiXFxcIix1YTpUdHx8XFxcIlxcXCIsb3JpZW50OjEsdXBpZDpSdCxjaGFubmVsOlcsc3ViX2NoYW5uZWw6VixhbmRyb2lkX2lkOm51bGwhPT0oYj1udWxsPT1EdD92b2lkIDA6RHQudXNlcikmJnZvaWQgMCE9PWI/YjpcXFwiXFxcIixvYWlkOkx0LG1hYzpudWxsIT09KGs9bnVsbD09RHQ/dm9pZCAwOkR0Lm1hYykmJnZvaWQgMCE9PWs/azpcXFwiXFxcIixpbWVpOlxcXCJcXFwiLGlzX2NuX3NkazpcXFwiMVxcXCIsZ2FpZDpudWxsIT09KHc9bnVsbD09RHQ/dm9pZCAwOkR0LmFkdmVydGlzaW5nKSYmdm9pZCAwIT09dz93OlxcXCJcXFwiLGlkZmE6XFxcIlxcXCIsaWRmdjpcXFwiXFxcIixjdXN0b206YnQsb3NfZnc6OCxmaXJzdF9pbml0X3RpbWU6MSokdCxkYXlzX2Zyb21fZmlyc3RfaW5pdDpqdCxob3N0X3ZuOm51bGwhPT0oeD1udWxsPT1TdHx8bnVsbD09PShUPVN0Lmhvc3QpfHx2b2lkIDA9PT1UP3ZvaWQgMDpULnZlcnNpb25OYW1lKSYmdm9pZCAwIT09eD94OlxcXCJcXFwiLGhvc3RfdmM6bnVsbCE9PShBPVxcXCJcXFwiKyhudWxsPT1TdHx8bnVsbD09PShMPVN0Lmhvc3QpfHx2b2lkIDA9PT1MP3ZvaWQgMDpMLnZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PUE/QTpcXFwiXFxcIixhYnRlc3RfaWQ6bnVsbCE9PShQPW51bGw9PXF0fHxudWxsPT09KFU9cXQuZGF0YSl8fHZvaWQgMD09PVU/dm9pZCAwOlUuYWJ0ZXN0X2lkKSYmdm9pZCAwIT09UD9QOlxcXCJcXFwifSxWdD0obmV3IERhdGUpLmdldFRpbWUoKSwxPT09KEh0PXt0cmFmZmljX2dyb3VwX2lkOnJ0LHNka190aW1lOlZ0LHJlcV9pZDpldCxyZXFfcGFyOjEscmVxX3Bhcl9udW06ZnQscGxfaWQ6dHQsdHlwZTpyb1tpdF0sdW5pdF9pZDpvdCxud19maXJtX2lkOmR0LGdyb19pZDphdCxmb3JtYXQ6bHQscHNfaWQ6UHQsc2Vzc2lvbmlkOlV0LGFzaWQ6c3QsYmlkdHlwZTpbXFxcIjFcXFwiLFxcXCIyXFxcIl0uaW5jbHVkZXMoZ3QpPzE6MCxiaWRwcmljZTpjdCxzX3B0eTp1dCxwX2M6dnQsY2xfaW1wOjAsaXNsb2FkOlxcXCJcXFwifSkuYmlkdHlwZSYmKEd0PV90LmJpZElkLFl0PXZvaWQgMD09PUd0P1xcXCJcXFwiOkd0LEt0PV90LnRwQmlkSWQsenQ9dm9pZCAwPT09S3Q/XFxcIlxcXCI6S3QsWHQ9X3QuYmlkUmVxdWVzdFRpbWUsUXQ9X3QuYmlkUmVzcG9uc2VUaW1lLEp0PV90LmJpZEZpbGxlZFRpbWUsWnQ9X3QuYmlkUmVzdWx0LHRlPV90LmVycm9yTXNnLGVlPXZvaWQgMD09PXRlP1xcXCJcXFwiOnRlLGllPV90LnJsQmlkU3RhdHVzLG5lPV90LnNvcnRUeXBlLHJlPV90LnNvcnRQcmlvcml0eSxhZT17YmlkX2lkOll0LHRwX2JpZF9pZDp6dH0sb2U9e30sXFxcIkFEX0JJRERJTkdcXFwiPT09aXQmJihvZT17YmlkcmVxdWVzdHRpbWU6WHQsYmlkcmVzcG9uc2V0aW1lOlF0LGJpZF9maWxsZWR0aW1lOkp0LGJpZHJlc3BvbnNlbGlzdDpbe3NvcnRwcmlvcml0eTpyZSxzb3J0dHlwZTpuZSx1bml0X2lkOm90LGJpZHJlc3VsdDpadCxiaWRwcmljZTpjdCxlcnJvcm1zZzplZSx0cF9iaWRfaWQ6enQsbndfZmlybV9pZDpkdCxybF9iaWRfc3RhdHVzOmllLHNfcHR5OnV0fV19KSxIdD1PYmplY3QuYXNzaWduKHt9LEh0LGFlLG9lKSksXFxcIkFEX0xPQURfRklMTEVEXFxcIj09PWl0JiYoSHQubG9hZHRpbWU9aHQpLFxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCI9PT1pdCYmKEh0LmZpbGxlZHRpbWU9cHQpLGRlPVtIdF0sc2U9QyhEKE10KSksbGU9QyhEKGRlKSksY2U9RShqLFt7a2V5OlxcXCJhcGlfdmVyXFxcIix2YWx1ZTpPdH0se2tleTpcXFwiY29tbW9uXFxcIix2YWx1ZTpzZX0se2tleTpcXFwiZGF0YVxcXCIsdmFsdWU6bGV9XSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse2NvbW1vbjpzZSxkYXRhOmxlLGFwaV92ZXI6T3Qsc2lnbjpjZX0pO2Nhc2UgOTA6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHNvKHQpe3JldHVybiBsby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbG8oKXtyZXR1cm4obG89byhpKCkubWFyaygoZnVuY3Rpb24gdChuKXt2YXIgcixhLG8sZDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCx0Lm5leHQ9Myxhby5jYWxsKHRoaXMsbik7Y2FzZSAzOnJldHVybiByPXQuc2VudCx0Lm5leHQ9NixOYShcXFwiXFxcIi5jb25jYXQoaW8sXFxcIi92Mi90a1xcXCIpLHIpO2Nhc2UgNjooYT10LnNlbnQpLmNvZGU+MCYmKG89ZShlKHt9LG4pLHt9LHtrZXk6XFxcIkFQSV9FUlJPUlxcXCIsbXNnOlxcXCJ0a18yXFxcIixtc2cxOlN0cmluZyhhLmNvZGUpLG1zZzI6YS5tc2csbXNnMzppby5yZXBsYWNlKC9eaHR0cHM/OlxcXFwvXFxcXC8vLFxcXCJcXFwiKX0pLFZhLmNhbGwodGhpcyxvKSksdC5uZXh0PTE0O2JyZWFrO2Nhc2UgMTA6dC5wcmV2PTEwLHQudDA9dC5jYXRjaCgwKSxkPWUoZSh7fSxuKSx7fSx7a2V5OlxcXCJBUElfRVJST1JcXFwiLG1zZzpcXFwidGtfMlxcXCIsbXNnMTpcXFwidW5rbm93XFxcIixtc2cyOlxcXCJyZXF1ZXN0IGVycm9yXFxcIixtc2czOmlvLnJlcGxhY2UoL15odHRwcz86XFxcXC9cXFxcLy8sXFxcIlxcXCIpfSksVmEuY2FsbCh0aGlzLGQpO2Nhc2UgMTQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDEwXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjbz1cXFwiNC4yLjExXFxcIix1bz1cXFwiaHR0cDovL2FkeC1jbi5hbnl0aGlua3RlY2guY29tXFxcIixobz17QlJPV1NFUjoyLFdFQlZJRVc6M30scG89W1xcXCJ7X19WSURFT19USU1FX199XFxcIixcXFwie19fQkVHSU5fVElNRV9ffVxcXCIsXFxcIntfX0VORF9USU1FX199XFxcIixcXFwie19fUExBWV9GSVJTVF9GUkFNRV9ffVxcXCIsXFxcIntfX1BMQVlfTEFTVF9GUkFNRV9ffVxcXCIsXFxcIntfX1NDRU5FX199XFxcIixcXFwie19fVFlQRV9ffVxcXCIsXFxcIntfX0JFSEFWSU9SX199XFxcIixcXFwie19fU1RBVFVTX199XFxcIixcXFwie19fUkVRX1dJRFRIX199XFxcIixcXFwie19fUkVRX0hFSUdIVF9ffVxcXCIsXFxcIntfX1dJRFRIX199XFxcIixcXFwie19fSEVJR0hUX199XFxcIixcXFwie19fRE9XTl9YX199XFxcIixcXFwie19fRE9XTl9ZX199XFxcIixcXFwie19fVVBfWF9ffVxcXCIsXFxcIntfX1VQX1lfX31cXFwiLFxcXCJ7X19DTElDS19JRF9ffVxcXCIsXFxcIntfX1JFX0RPV05fWF9ffVxcXCIsXFxcIntfX1JFX0RPV05fWV9ffVxcXCIsXFxcIntfX1JFX1VQX1hfX31cXFwiLFxcXCJ7X19SRV9VUF9ZX199XFxcIixcXFwie19fVFNfX31cXFwiLFxcXCJ7X19UU19NU0VDX199XFxcIixcXFwie19fRU5EX1RTX199XFxcIixcXFwie19fRU5EX1RTX01TRUNfX31cXFwiLFxcXCJ7X19QTEFZX1NFQ19ffVxcXCIsXFxcIntfX1BMQVlfU0VDX199XFxcIixcXFwie19fUExBWV9NU0VDX199XFxcIixcXFwie19fRFBMSU5LX1RZUEVfX31cXFwiLFxcXCJ7QUJTT0xVVEVfQ09PUkR9XFxcIixcXFwie1JFTEFUSVZFX0NPT1JEfVxcXCJdO2Z1bmN0aW9uIGZvKHQpe3JldHVybiB2by5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdm8oKXtyZXR1cm4odm89byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsbSxfLGcseSxJLGIsayx3LHgsVCxBLEUsTCxPLFAsVSwkLE4saixGLEIsVyxxLE0sVixZLHosUSxKLFosdHQsZXQsaXQscnQsYXQsb3QsZHQsc3QsbHQsY3QsdXQsaHQscHQsZnQsdnQsbXQsX3QsZ3QseXQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZih4PW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZixUPShudWxsPT14P3ZvaWQgMDp4LnRvcG9uX3Nkayl8fHt9LEE9VC5hcHBJZCxFPVQuY2hhbm5lbElkLEw9dm9pZCAwPT09RT9cXFwiXFxcIjpFLE89VC5zdWJDaGFubmVsSWQsUD12b2lkIDA9PT1PP1xcXCJcXFwiOk8sVT1ULnN0b3JlLCQ9VC5pc1Rlc3QsTj12b2lkIDAhPT0kJiYkLGo9ZS5wbGFjZW1lbnRJZCxGPWUudW5pdElkLEI9ZS5yZXF1ZXN0SWQsVz1lLmFkeEV4dCxxPXZvaWQgMD09PVc/XFxcIlxcXCI6VyxNPWUuYWRXaWR0aCxWPXZvaWQgMD09PU0/MDpNLFk9ZS5hZEhlaWdodCx6PXZvaWQgMD09PVk/MDpZLFE9ZS5mb3JtYXQsSj12b2lkIDA9PT1RP1xcXCIwXFxcIjpRLFo9UigpLHR0PVMoKSxldD10dC5hcHAsaXQ9dHQubmV0d29yayx2KG51bGw9PVV8fG51bGw9PT0oYT1VLmRldmljZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaW5mbykpe3QubmV4dD05O2JyZWFrfXQudDA9bnVsbD09VXx8bnVsbD09PShvPVUuZGV2aWNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmZvLHQubmV4dD0xNTticmVhaztjYXNlIDk6cmV0dXJuIHQubmV4dD0xMSxILmdldEluZm8oKTtjYXNlIDExOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xNDticmVha310LnQxPXt9O2Nhc2UgMTQ6dC50MD10LnQxO2Nhc2UgMTU6cmV0dXJuIHJ0PXQudDAsYXQ9ZXQuZ2V0SW5mbygpfHx7fSx0Lm5leHQ9MTksaXQuZ2V0VHlwZSgpO2Nhc2UgMTk6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIyO2JyZWFrfXQudDI9e307Y2FzZSAyMjppZihvdD10LnQyLHQudDQ9bnVsbD09VXx8bnVsbD09PShkPVUuZGV2aWNlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5pZHMsdC50NCl7dC5uZXh0PTI4O2JyZWFrfXJldHVybiB0Lm5leHQ9MjcsSC5nZXREZXZpY2VJZHMoKTtjYXNlIDI3OnQudDQ9dC5zZW50O2Nhc2UgMjg6aWYodC50Mz10LnQ0LHQudDMpe3QubmV4dD0zMTticmVha310LnQzPXt9O2Nhc2UgMzE6aWYoZHQ9dC50Myx0LnQ2PW51bGw9PVV8fG51bGw9PT0ocz1VLmRldmljZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMub2FpZCx0LnQ2KXt0Lm5leHQ9Mzc7YnJlYWt9cmV0dXJuIHQubmV4dD0zNixILmdldE9hSWQoKTtjYXNlIDM2OnQudDY9dC5zZW50O2Nhc2UgMzc6aWYodC50NT10LnQ2LHQudDUpe3QubmV4dD00MDticmVha310LnQ1PVxcXCJcXFwiO2Nhc2UgNDA6aWYoc3Q9dC50NSxsdD1cXFwiXFxcIi5jb25jYXQobnVsbD09cnQ/dm9pZCAwOnJ0LnNjcmVlbldpZHRoLFxcXCIqXFxcIikuY29uY2F0KG51bGw9PXJ0P3ZvaWQgMDpydC5zY3JlZW5IZWlnaHQpLGN0PW50W251bGw9PW90fHxudWxsPT09KGw9b3QuZGF0YSl8fHZvaWQgMD09PWw/dm9pZCAwOmwudHlwZV18fFxcXCItMVxcXCIsdC50Nz1udWxsPT1VP3ZvaWQgMDpVLnVwaWQsdC50Nyl7dC5uZXh0PTQ4O2JyZWFrfXJldHVybiB0Lm5leHQ9NDcsRygpO2Nhc2UgNDc6dC50Nz10LnNlbnQ7Y2FzZSA0ODpyZXR1cm4gdXQ9dC50Nyx0Lm5leHQ9NTEsSygpO2Nhc2UgNTE6cmV0dXJuIGh0PXQuc2VudCx0Lm5leHQ9NTQsWChqKTtjYXNlIDU0OnJldHVybiBwdD10LnNlbnQsZnQ9e3N5c3RlbToxLHBsYXRmb3JtOjEsYnJhbmQ6bnVsbCE9PShjPW51bGw9PXJ0P3ZvaWQgMDpydC5icmFuZCkmJnZvaWQgMCE9PWM/YzpcXFwiXFxcIixtb2RlbDpudWxsIT09KHU9bnVsbD09cnQ/dm9pZCAwOnJ0Lm1vZGVsKSYmdm9pZCAwIT09dT91OlxcXCJcXFwiLG9zX3ZuOm51bGwhPT0oaD1udWxsPT1ydD92b2lkIDA6cnQub3NWZXJzaW9uTmFtZSkmJnZvaWQgMCE9PWg/aDpcXFwiXFxcIixvc192YzpudWxsIT09KHA9XFxcIlxcXCIrKG51bGw9PXJ0P3ZvaWQgMDpydC5vc1ZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixvc19mdzo4LHBmX3ZuOm51bGwhPT0oZj1udWxsPT1ydD92b2lkIDA6cnQucGxhdGZvcm1WZXJzaW9uTmFtZSkmJnZvaWQgMCE9PWY/ZjpcXFwiXFxcIixwZl92YzpudWxsIT09KG09XFxcIlxcXCIrKG51bGw9PXJ0P3ZvaWQgMDpydC5wbGF0Zm9ybVZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PW0/bTpcXFwiXFxcIixzZGtfdmVyOlxcXCJVQV9cXFwiLmNvbmNhdChjbyksYXBwX2lkOkEsYXBwX3ZuOm51bGwhPT0oXz1udWxsPT1hdD92b2lkIDA6YXQudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1fP186XFxcIlxcXCIsYXBwX3ZjOm51bGwhPT0oZz1cXFwiXFxcIisobnVsbD09YXQ/dm9pZCAwOmF0LnZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PWc/ZzpcXFwiXFxcIixwYWNrYWdlX25hbWU6bnVsbCE9PSh5PW51bGw9PWF0P3ZvaWQgMDphdC5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PXk/eTpcXFwiXFxcIixwbF9pZDpqLG1jYzpcXFwiMVxcXCIsbW5jOlxcXCIxXFxcIixsYW5ndWFnZTpudWxsIT09KEk9bnVsbD09cnQ/dm9pZCAwOnJ0Lmxhbmd1YWdlKSYmdm9pZCAwIT09ST9JOlxcXCJcXFwiLHRpbWV6b25lOlxcXCJcXFwiLG53X3ZlcjpcXFwiXFxcIixvcmllbnQ6MSx1YTpafHxcXFwiXFxcIixuZXR3b3JrX3R5cGU6Y3Qsc2NyZWVuOmx0LHVwaWQ6dXQsY2hhbm5lbDpMfHxcXFwiXFxcIixzdWJfY2hhbm5lbDpQfHxcXFwiXFxcIixwc19pZDpodCxzZXNzaW9uX2lkOnB0LGRlbnk6U3RyaW5nKHJ0LnNjcmVlbkRlbnNpdHkpfSx2dD17YW5kcm9pZF9pZDpudWxsIT09KGI9bnVsbD09ZHQ/dm9pZCAwOmR0LnVzZXIpJiZ2b2lkIDAhPT1iP2I6XFxcIlxcXCIsbWFjOm51bGwhPT0oaz1udWxsPT1kdD92b2lkIDA6ZHQubWFjKSYmdm9pZCAwIT09az9rOlxcXCJcXFwiLGltZWk6XFxcIlxcXCIsb2FpZDpzdCxnYWlkOm51bGwhPT0odz1udWxsPT1kdD92b2lkIDA6ZHQuYWR2ZXJ0aXNpbmcpJiZ2b2lkIDAhPT13P3c6XFxcIlxcXCIsaXNfY25fc2RrOlxcXCIxXFxcIn0sbXQ9W3thZF93aWR0aDpWLGFkX2hlaWdodDp6LG53X2Zpcm1faWQ6NjYsdW5pdF9pZDpTdHJpbmcoRiksYWRfc291cmNlX2lkOlN0cmluZyhGKSxnZXRfb2ZmZXI6MixhZF9mb3JtYXQ6Sn1dLE4mJihtdFswXS50ZXN0PTEpLF90PUMoRChmdCkpLGd0PUMoRCh2dCkpLHl0PUMoRChtdCkpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwOl90LHAyOmd0LHJlcXVlc3RfaWQ6QixhZHhfZXh0OnEsaGJfbGlzdDp5dH0pO2Nhc2UgNjM6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG1vKHQsZSl7cmV0dXJuIF9vLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBfbygpe3JldHVybihfbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbil7dmFyIHI7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAsdC5uZXh0PTMsZm8uY2FsbCh0aGlzLGUpO2Nhc2UgMzpyZXR1cm4gcj10LnNlbnQsdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsTmEoXFxcIlxcXCIuY29uY2F0KHVvLFxcXCIvYmlkXFxcIikscix7dGltZW91dDpufSkpO2Nhc2UgNzp0LnByZXY9Nyx0LnQwPXQuY2F0Y2goMCk7Y2FzZSA5OnJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIix7Y29kZToxLG1zZzpcXFwi6K+35rGCQVBJ5byC5bi4XFxcIn0pO2Nhc2UgMTA6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDddXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZ28odCxlLGksbil7cmV0dXJuIHlvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB5bygpe3JldHVybih5bz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KG4scixhLG8pe3ZhciBkLHMsbCxjLHUsaCxwLGYsbSxfLGcseSxJLGIsayx3LHgsUyxULEEsRSxDLEQsTCxPLFIsUCxVLCQsTixqLEYsQixXLHEsTSxWO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGM9bi5wbGFjZW1lbnRJZCx1PW4uZXhjaFIsaD1hLmhiQmlkVGltZW91dCxwPWEucmVxdWVzdElkLGY9YS5zZWdtZW50SWQsbT1hLnRyYWZmaWNHcm91cElkLF89YS5hc0lkLGc9RGF0ZS5ub3coKSx0Lm5leHQ9NSxtby5jYWxsKHRoaXMsbixoKTtjYXNlIDU6aWYoeT10LnNlbnQsST1EYXRlLm5vdygpLGI9bnVsbCE9PShkPW51bGw9PXk/dm9pZCAwOnkuZGF0YSkmJnZvaWQgMCE9PWQ/ZDpbXSxrPWJbMF18fHt9LHc9dGhpcy5wbGFjZW1lbnRMb2FkU3RhcnQseD10aGlzLnBsYWNlbWVudExvYWRFbmQsUz10aGlzLmZvcm1hdCxUPXRoaXMucmVxVWdOdW0sQT10aGlzLmFwaURhdGEsRT1BLnRfZ19pZCxDPUEuZ3JvX2lkLEQ9QS5hc2lkLEw9QS5wX2MsTz12b2lkIDA9PT1MP3t9OkwsUj14LXcsUD1vLmdldFN0YXR1c0xpc3QoKSxVPVAubGVuZ3RoLDEsJD1QLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZWNwbVNvcnQ8ay5zX3B0eX0pKSxOPXtiaWRSZXF1ZXN0VGltZTpnLGJpZFJlc3BvbnNlVGltZTpJLGJpZEZpbGxlZFRpbWU6SS1nLGJpZFJlc3VsdDowLHJsQmlkU3RhdHVzOjAsc29ydFR5cGU6LTEsc29ydFByaW9yaXR5OiQ+LTE/JCsxOlUrMX0saj17cGxhY2VtZW50SWQ6YyxyZXF1ZXN0SWQ6cCxsb2dUeXBlOlxcXCJBRF9CSURESU5HXFxcIix0cmFmZmljR3JvdXBJZDpFLHNlZ21lbnRJZDpDLGFzSWQ6RCxhZFNvdXJjZUlkOnIudW5pdF9pZHx8MCxud0Zpcm1JZDpyLm53X2Zpcm1faWR8fDAsZWNwbTprLnByaWNlLHNQdHk6ay5zX3B0eXx8MCxmb3JtYXQ6UyxwbGFjZW1lbnRMb2FkVGltZTpSLHVuaXRGaWxsZWRUaW1lOkktZyxyZXFVZ051bTpULHBDOk8sd2ZUeXBlOlxcXCIxXFxcIn0sRj1lKGUoe30saikse30se2JpZFRrOk59KSxyLmJpZFRrPXtiaWRGaWxsZWRUaW1lOkktZ30sISh5LmNvZGU+MHx8KG51bGw9PXl8fG51bGw9PT0ocz15LmRhdGEpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmxlbmd0aCk8PTApKXt0Lm5leHQ9MjU7YnJlYWt9cmV0dXJuIEYuYmlkVGsuZXJyb3JNc2c9XFxcImJpZCBlcnJvciwgY29kZSA9IFxcXCIuY29uY2F0KHkuY29kZSxcXFwiLCBtc2cgPSBcXFwiKS5jb25jYXQoeS5tc2cpLHNvLmNhbGwodGhpcyxGKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixyKTtjYXNlIDI1OmlmKCEoMSE9PWsuaXNfc3VjY2Vzc3x8ay5lcnJfY29kZT4wKSl7dC5uZXh0PTI5O2JyZWFrfXJldHVybiBGLmJpZFRrLmVycm9yTXNnPVxcXCJiaWQgZXJyb3IsIGNvZGUgPSBcXFwiLmNvbmNhdChrLmVycl9jb2RlLFxcXCIsIG1zZyA9IFxcXCIpLmNvbmNhdChrLmVycl9tc2cpLHNvLmNhbGwodGhpcyxGKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixyKTtjYXNlIDI5OmlmKCEodihrKXx8dihrLm9mZmVyX2RhdGEpfHxrLm9mZmVyX2RhdGEuc2VhdGJpZCYmay5vZmZlcl9kYXRhLnNlYXRiaWQubGVuZ3RoPD0wKSl7dC5uZXh0PTMyO2JyZWFrfXJldHVybiBzby5jYWxsKHRoaXMsRiksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIscik7Y2FzZSAzMjppZihCPWsub2ZmZXJfZGF0YS5zZWF0YmlkWzBdLHIuYmlkVGsuYmlkSWQ9ay5iaWRfaWQsci5iaWRUay50cEJpZElkPWsudHBfYmlkX2lkLEYuYmlkVGsuYmlkSWQ9ay5iaWRfaWQsRi5iaWRUay50cEJpZElkPWsudHBfYmlkX2lkLEIudGsubHVybHx8KEIudGsubHVybD1bXSksQi50ay5udXJsfHwoQi50ay5udXJsPVtdKSxCLnRrLmJ1cmx8fChCLnRrLmJ1cmw9W10pLGsubHVybCYmQi50ay5sdXJsLnB1c2goay5sdXJsKSxrLm51cmwmJkIudGsubnVybC5wdXNoKGsubnVybCksay5idXJsJiZCLnRrLmJ1cmwucHVzaChrLmJ1cmwpLE9iamVjdC52YWx1ZXMoaG8pLmluY2x1ZGVzKChudWxsPT1CP3ZvaWQgMDpCLmxpbmtfdHlwZSl8fDApKXt0Lm5leHQ9NDY7YnJlYWt9cmV0dXJuIHNvLmNhbGwodGhpcyxGKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixyKTtjYXNlIDQ2OmlmKEYuYmlkVGsuYmlkUmVzdWx0PTEsRi5iaWRUay5ybEJpZFN0YXR1cz0yLFc9SW8uY2FsbCh0aGlzLGMpLHE9bnVsbCE9PShsPW51bGw9PVc/dm9pZCAwOlcuX2V4cGlyYXRpb25UaW1lKSYmdm9pZCAwIT09bD9sOjAsIXYoVykmJlcucHJpY2U+ay5wcmljZSYmcT5EYXRlLm5vdygpJiYoRi5iaWRUay5iaWRSZXN1bHQ9MCxGLmJpZFRrLnJsQmlkU3RhdHVzPTEsa28uY2FsbCh0aGlzLEIudGsubHVybCksTT17a2V5OlxcXCJCSURfTE9TU1xcXCIsdW5pdGlkOmMscmVxdWVzdGlkOnAsZ3JvdXBpZDpmLHRyYWZmaWNfZ3JvdXBfaWQ6bSxhc2lkOl8sbXNnOlxcXCI2NlxcXCIsbXNnMTpcXFwiXFxcIitrLnVuaXRfaWQsbXNnMjpcXFwiXFxcIitrLnByaWNlLG1zZzM6XFxcIlxcXCJ9LGs9VyxWYS5jYWxsKHRoaXMsTSkpLEYuYmlkVGsuYmlkUmVzdWx0JiYoRi5iaWRUay5zb3J0VHlwZT0wKSxzby5jYWxsKHRoaXMsRiksIShvLnNlbGVjdGVyKCkuZWNwbT5rLnByaWNlKSl7dC5uZXh0PTU5O2JyZWFrfXJldHVybiBrby5jYWxsKHRoaXMsQi50ay5sdXJsKSxWPXtrZXk6XFxcIkJJRF9MT1NTXFxcIix1bml0aWQ6YyxyZXF1ZXN0aWQ6cCxncm91cGlkOmYsdHJhZmZpY19ncm91cF9pZDptLGFzaWQ6Xyxtc2c6XFxcIjY2XFxcIixtc2cxOlxcXCJcXFwiK2sudW5pdF9pZCxtc2cyOlxcXCJcXFwiK2sucHJpY2UsbXNnMzpcXFwiXFxcIn0sVmEuY2FsbCh0aGlzLFYpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UucmVqZWN0KFxcXCJBRFggQklEX0xPU1NcXFwiKSk7Y2FzZSA1OTpyZXR1cm4gci5lY3BtPWsucHJpY2Usci5jeV9lY3BtPWsucHJpY2UqdSxyLnNfcHR5PWsuc19wdHksci5ud19jYWNoZV90aW1lPWsuZXhwaXJlLGsuYmlkVGs9ci5iaWRUayxrLl9leHBpcmF0aW9uVGltZT1EYXRlLm5vdygpK2suZXhwaXJlLGJvLmNhbGwodGhpcyxjLGspLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHIpO2Nhc2UgNjc6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIElvKHQpe3ZhciBlLGksbixyLGEsbz1udWxsIT09KGU9bnVsbCE9PShpPW51bGw9PT0obj10aGlzLiRhcHApfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLiRkZWYpJiZ2b2lkIDAhPT1pP2k6bnVsbD09dGhpcz92b2lkIDA6dGhpcy4kZGVmKSYmdm9pZCAwIT09ZT9lOm51bGw7cmV0dXJuIG8mJm51bGwhPW8mJm8udG9wb25fc2RrJiZudWxsIT09KHI9bnVsbD09PShhPW8udG9wb25fc2RrKXx8dm9pZCAwPT09YXx8bnVsbD09PShhPWEuY2FjaGUpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS5hZHhPZmZlcil8fHZvaWQgMD09PWE/dm9pZCAwOmFbdF0pJiZ2b2lkIDAhPT1yP3I6e319ZnVuY3Rpb24gYm8odCxlKXt2YXIgaSxuLHIsYT1udWxsIT09KGk9bnVsbCE9PShuPW51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLiRkZWYpJiZ2b2lkIDAhPT1uP246bnVsbD09dGhpcz92b2lkIDA6dGhpcy4kZGVmKSYmdm9pZCAwIT09aT9pOm51bGw7YSYmbnVsbCE9YSYmYS50b3Bvbl9zZGsmJihhLnRvcG9uX3Nkay5jYWNoZS5hZHhPZmZlcnx8KGEudG9wb25fc2RrLmNhY2hlLmFkeE9mZmVyPU9iamVjdC5jcmVhdGUobnVsbCkpLGEudG9wb25fc2RrLmNhY2hlLmFkeE9mZmVyW3RdPWUpfWZ1bmN0aW9uIGtvKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPW5ldyBSZWdFeHAocG8uam9pbihcXFwifFxcXCIpLFxcXCJnaVxcXCIpLG49W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5yZXBsYWNlKGksKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpO24ucHVzaChqYShcXFwiXFxcIi5jb25jYXQocikse30pKX0pKSxQcm9taXNlLmFsbChuKX1mdW5jdGlvbiB3byh0LGUpe3ZhciBpPWUuZ2V0U3RhdHVzTGlzdCgpfHxbXSxuPWkubGVuZ3RoLHI9aS5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVjcG1Tb3J0PHQuc19wdHl9KSk7cmV0dXJuIHI+LTE/cisxOm4rMX1mdW5jdGlvbiB4byh0LGksbixyLGEsbyl7dmFyIGQ9by5wbGFjZW1lbnRJZCxzPW8uZm9ybWF0LGw9dGhpcy5wbGFjZW1lbnRMb2FkU3RhcnQsYz10aGlzLnBsYWNlbWVudExvYWRFbmQsdT10aGlzLnJlcVVnTnVtLGg9dGhpcy5hcGlEYXRhLHA9aC50X2dfaWQsZj1oLmdyb19pZCx2PWguYXNpZCxtPWgucF9jLF89dm9pZCAwPT09bT97fTptLGc9Yy1sLHk9e2JpZFJlcXVlc3RUaW1lOm4sYmlkUmVzcG9uc2VUaW1lOmksYmlkRmlsbGVkVGltZTppLW4sYmlkUmVzdWx0OjAscmxCaWRTdGF0dXM6MCxzb3J0VHlwZTotMSxzb3J0UHJpb3JpdHk6cn07cmV0dXJuIGUoZSh7fSx7cGxhY2VtZW50SWQ6ZCxyZXF1ZXN0SWQ6YS5yZXF1ZXN0SWQsbG9nVHlwZTpcXFwiQURfQklERElOR1xcXCIsdHJhZmZpY0dyb3VwSWQ6cCxzZWdtZW50SWQ6Zixhc0lkOnYsYWRTb3VyY2VJZDp0LnVuaXRfaWR8fDAsbndGaXJtSWQ6dC5ud19maXJtX2lkfHwwLGVjcG06dC5wcmljZSxzUHR5OnQuc19wdHl8fDAsZm9ybWF0OnMscGxhY2VtZW50TG9hZFRpbWU6Zyx1bml0RmlsbGVkVGltZTppLW4scmVxVWdOdW06dSxwQzpfLHdmVHlwZTpcXFwiMlxcXCJ9KSx7fSx7YmlkVGs6eX0pfWZ1bmN0aW9uIFNvKHQsZSxpLG4scil7dmFyIGEsbz1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06bnVsbCxkPW4ucGxhY2VtZW50SWQscz1uLmV4Y2hSYXRlQzJ1LGw9bi5hY2NvdW50Q3VycmVuY3ksYz1lLnVuaXRfaWQsdT1kK1xcXCIvXFxcIitjLGg9ai5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLHUpLHA9bnVsbCE9PShhPW51bGw9PWg/dm9pZCAwOmguX2V4cGlyYXRpb25UaW1lKSYmdm9pZCAwIT09YT9hOjA7aWYoIXYoaCkmJmgub2ZmZXIuZWNwbT50LmVjcG0mJnA+RGF0ZS5ub3coKSl7dmFyIGY7aS5iaWRUay5iaWRSZXN1bHQ9MCxpLmJpZFRrLnJsQmlkU3RhdHVzPTEsbz1udWxsIT09KGY9bnVsbD09aD92b2lkIDA6aC5hZCkmJnZvaWQgMCE9PWY/ZjpudWxsO3ZhciBtPXQuYWRJZD97YWRpZDp0LmFkSWR9Ont9O0FvLmNhbGwodGhpcyx7Y29uZGl0aW9uOm4sc3RyYXRlZ3k6cix1bml0OmUsbm90aWZ5T3B0aW9uczptLG5vdGlmeUluc3RhbmNlOm99KTt2YXIgXz0odD1oLm9mZmVyKS5lY3BtLzEwMDtlLmVjcG09XypzLGUucHJpY2U9XypzLGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PWw/XypzOl8sZS5zX3B0eT1fKnN9cmV0dXJue29mZmVyOnQsYWRJbnN0YW5jZTpvfX1mdW5jdGlvbiBUbyh0LGUsaSxuLHIpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTpudWxsLG89ci5zZWxlY3RlcigpO2lmKG8mJm8uZWNwbT5lLmVjcG0pe3ZhciBkPXQuYWRJZD97YWRpZDp0LmFkSWR9Ont9O3JldHVybiBBby5jYWxsKHRoaXMse2NvbmRpdGlvbjppLHN0cmF0ZWd5Om4sdW5pdDplLG5vdGlmeU9wdGlvbnM6ZCxub3RpZnlJbnN0YW5jZTphfSksby51bml0fXJldHVybiBudWxsfWZ1bmN0aW9uIEFvKHQpe3ZhciBpPXQuY29uZGl0aW9uLG49dC5zdHJhdGVneSxyPXQudW5pdCxhPXQuZGFPcHRpb25zLG89dm9pZCAwPT09YT97fTphLGQ9dC5ub3RpZnlPcHRpb25zLHM9dm9pZCAwPT09ZD97fTpkLGw9dC5ub3RpZnlJbnN0YW5jZSxjPXZvaWQgMD09PWw/bnVsbDpsLHU9aS5wbGFjZW1lbnRJZCxoPW4ucmVxdWVzdElkLHA9bi5zZWdtZW50SWQsZj1uLnRyYWZmaWNHcm91cElkLHY9bi5hc0lkOzU1PT09ci5ud19maXJtX2lkJiZFby5jYWxsKHRoaXMscyxjKTt2YXIgbT1lKHtrZXk6XFxcIkJJRF9MT1NTXFxcIix1bml0aWQ6dSxyZXF1ZXN0aWQ6aCxncm91cGlkOnAsdHJhZmZpY19ncm91cF9pZDpmLGFzaWQ6dixtc2c6ci5ud19maXJtX2lkLG1zZzE6XFxcIlxcXCIrci51bml0X2lkLG1zZzI6XFxcIlxcXCIrci5lY3BtLG1zZzM6XFxcIlxcXCJ9LG8pO1ZhLmNhbGwodGhpcyxtKX1mdW5jdGlvbiBFbygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49UygpLHI9bi5hZCxhPWl8fHIsbz1lKHt3aW5QcmljZTowLGNvZGU6MSxjaGFubmVsOlxcXCJtb2JcXFwifSx0KTthLm5vdGlmeVJhbmtMb3NzKG8pfWZ1bmN0aW9uIENvKHQpe3ZhciBpPVMoKS5hZDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7aS5wcmVsb2FkQWQoZShlKHt9LHQpLHt9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe24odCl9LGZhaWw6ZnVuY3Rpb24odCxlKXtuKHQpfX0pKX0pKX1mdW5jdGlvbiBEbyh0KXt2YXIgZT1TKCkuYWQsaT1udWxsO3RyeXtpPWUuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHQpfWNhdGNoKHQpe31yZXR1cm4gaX1mdW5jdGlvbiBMbygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtpZigobnVsbD09dD92b2lkIDA6dC5sZW5ndGgpPD0xKXJldHVybiB0O3ZhciBlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpO3JldHVybiBlLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJpY2UtdC5wcmljZX0pKSxlfWZ1bmN0aW9uIE9vKHQsZSxpLG4pe3JldHVybiBSby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUm8oKXtyZXR1cm4oUm89byhpKCkubWFyaygoZnVuY3Rpb24gdChlLG4scixhKXt2YXIgbyxkLHMsbCxjLHUsaCxwLGYsdixtLF8sZyx5LEksYixrLHcseCxTLFQsQSxFLEMsRDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBjPWUudW5pdF9pZCx1PWUuY29udGVudCxoPUpTT04ucGFyc2UodSkscD1oLnVuaXRfaWQsZj1uLnBsYWNlbWVudElkLHY9bi5leGNoUmF0ZUMydSxtPW4uYWNjb3VudEN1cnJlbmN5LF89ZitcXFwiL1xcXCIrYyxnPXt9LHk9e2FkVW5pdElkOnAsZWNwbTohMCx0eXBlOlxcXCJuYXRpdmVcXFwiLGFkQ291bnQ6MX0sST1EYXRlLm5vdygpLHQubmV4dD0xMCxDby5jYWxsKHRoaXMseSk7Y2FzZSAxMDppZihiPXQuc2VudCxrPURhdGUubm93KCksZz1udWxsIT09KG89bnVsbD09Ynx8bnVsbD09PShkPWIuYWRMaXN0KXx8dm9pZCAwPT09ZD92b2lkIDA6ZFswXSkmJnZvaWQgMCE9PW8/bzp7fSx3PW51bGwhPT0ocz1udWxsPT09KGw9Zyl8fHZvaWQgMD09PWw/dm9pZCAwOmwuZWNwbSkmJnZvaWQgMCE9PXM/czowLHg9dy8xMDAsZS5lY3BtPXgqdixlLnByaWNlPXgqdixlLmN5X2VjcG09XFxcIlVTRFxcXCI9PT1tP3gqdjp4LGUuc19wdHk9eCp2LGUuYmlkVGs9e2JpZEZpbGxlZFRpbWU6ay1JfSxTPXdvLmNhbGwodGhpcyxlLGEpLChUPXhvLmNhbGwodGhpcyxlLGssSSxTLHIsbikpLmJpZFRrLmJpZFJlc3VsdD0xLFQuYmlkVGsucmxCaWRTdGF0dXM9MixBPVNvLmNhbGwodGhpcyxnLGUsVCxuLHIpLEU9QS5vZmZlcixnPUUsVC5iaWRUay5iaWRSZXN1bHQmJihULmJpZFRrLnNvcnRUeXBlPTApLGcuZWNwbXx8KFQuYmlkVGsuc29ydFR5cGU9LTEyLFQuYmlkVGsuZXJyb3JNc2c9XFxcIjAgYmlkIHByaWNlXFxcIiksc28uY2FsbCh0aGlzLFQpLGcuZWNwbSl7dC5uZXh0PTM0O2JyZWFrfXJldHVybiBDPXttc2cyOlxcXCIwXFxcIn0sRD17YWRpZDpnLmFkSWR9LEFvLmNhbGwodGhpcyx7Y29uZGl0aW9uOm4sc3RyYXRlZ3k6cix1bml0OmUsbm90aWZ5T3B0aW9uczpELGRhT3B0aW9uczpDfSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsUHJvbWlzZS5yZWplY3QoXFxcIm9mZmVyLmVjcG06IFxcXCIuY29uY2F0KGcuZWNwbSxcXFwi5LiN56ym5ZCIYmlk5Zy65pmv77yMcmVqZWN05o6JXFxcIikpKTtjYXNlIDM0OmlmKCFUby5jYWxsKHRoaXMsZyxlLG4scixhKSl7dC5uZXh0PTM3O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixQcm9taXNlLnJlamVjdChcXFwiSEIgQklEX0xPU1NcXFwiKSk7Y2FzZSAzNzpyZXR1cm4gTi5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLF8se2FkOm51bGwsb2ZmZXI6ZyxfZXhwaXJhdGlvblRpbWU6RGF0ZS5ub3coKStlLm53X2NhY2hlX3RpbWV9KSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixlKTtjYXNlIDM5OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBQbyh0LGUsaSxuKXt2YXIgcj10aGlzLGE9dC51bml0X2lkLG89dC5jb250ZW50LGQ9SlNPTi5wYXJzZShvKS51bml0X2lkLHM9ZS5wbGFjZW1lbnRJZCxsPWUuZXhjaFJhdGVDMnUsYz1lLmFjY291bnRDdXJyZW5jeSx1PXMrXFxcIi9cXFwiK2EsaD17ZWNwbTowfSxwPXthZFVuaXRJZDpkfSxmPURhdGUubm93KCksdj1Eby5jYWxsKHRoaXMscCk7cmV0dXJuIHY/KHYubG9hZCgpLG5ldyBQcm9taXNlKChmdW5jdGlvbihhLG8pe3Yub25Mb2FkKChmdW5jdGlvbigpe3ZhciBkLHM7aD12LmdldEVDUE0oKTt2YXIgcD1EYXRlLm5vdygpLG09KG51bGwhPT0oZD1udWxsPT09KHM9aCl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZWNwbSkmJnZvaWQgMCE9PWQ/ZDowKS8xMDA7dC5lY3BtPW0qbCx0LnByaWNlPW0qbCx0LmN5X2VjcG09XFxcIlVTRFxcXCI9PT1jP20qbDptLHQuc19wdHk9bSpsLHQuYmlkVGs9e2JpZEZpbGxlZFRpbWU6cC1mfTt2YXIgXz13by5jYWxsKHIsdCxuKSxnPXhvLmNhbGwocix0LHAsZixfLGksZSk7Zy5iaWRUay5iaWRSZXN1bHQ9MSxnLmJpZFRrLnJsQmlkU3RhdHVzPTI7dmFyIHk9U28uY2FsbChyLGgsdCxnLGUsaSx2KSxJPXkub2ZmZXIsYj15LmFkSW5zdGFuY2U7aWYoaD1JLHY9YixnLmJpZFRrLmJpZFJlc3VsdCYmKGcuYmlkVGsuc29ydFR5cGU9MCksaC5lY3BtfHwoZy5iaWRUay5zb3J0VHlwZT0tMTIsZy5iaWRUay5lcnJvck1zZz1cXFwiMCBiaWQgcHJpY2VcXFwiKSxzby5jYWxsKHIsZyksIWguZWNwbSl7cmV0dXJuIEFvLmNhbGwocix7Y29uZGl0aW9uOmUsc3RyYXRlZ3k6aSx1bml0OnQsZGFPcHRpb25zOnttc2cyOlxcXCIwXFxcIn0sbm90aWZ5SW5zdGFuY2U6dn0pLFByb21pc2UucmVqZWN0KFxcXCJvZmZlci5lY3BtOiBcXFwiLmNvbmNhdChoLmVjcG0sXFxcIuS4jeespuWQiGJpZOWcuuaZr++8jHJlamVjdOaOiVxcXCIpKX12YXIgaz1Uby5jYWxsKHIsaCx0LGUsaSxuLHYpO2smJm8oayksTi5jYWxsKHIsXFxcInVuaXRcXFwiLHUse2FkOnYsb2ZmZXI6aCxfZXhwaXJhdGlvblRpbWU6RGF0ZS5ub3coKSt0Lm53X2NhY2hlX3RpbWV9KSxhKHQpfSkpLHYub25FcnJvcigoZnVuY3Rpb24obil7dmFyIGE9RGF0ZS5ub3coKSxkPXhvLmNhbGwocix0LGEsZiwtMSxpLGUpO2QuYmlkVGsuYmlkUmVzdWx0PTAsZC5iaWRUay5ybEJpZFN0YXR1cz0wLGQuYmlkVGsuc29ydFR5cGU9LTEyLGQuYmlkVGsuZXJyb3JNc2c9XFxcIlxcXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSxzby5jYWxsKHIsZCksbyh7bXNnOlxcXCLmv4DlirHop4bpopEgYzJzIOWksei0pTogXFxcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpfSl9KSl9KSkpOnR9ZnVuY3Rpb24gVW8odCxlLGksbil7cmV0dXJuICRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiAkbygpe3JldHVybigkbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3ZhciBvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnLHksSSxiLGssdyx4LFMsVCxBLEUsQyxEO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGw9bnVsbD09PShvPXRoaXMuJGFwcCl8fHZvaWQgMD09PW98fG51bGw9PT0obz1vLiRkZWYpfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by50b3Bvbl9zZGspfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNoYW5uZWxJZCxjPWUudW5pdF9pZCx1PWUuY29udGVudCxoPWUubndfcmVxX251bSxwPUpTT04ucGFyc2UodSksZj1wLnVuaXRfaWQsdj1uLnBsYWNlbWVudElkLG09bi5leGNoUmF0ZUMydSxfPW4uYWNjb3VudEN1cnJlbmN5LGc9ditcXFwiL1xcXCIrYyx5PXt9LEk9e2FkVW5pdElkOmYsdHlwZTpcXFwibmF0aXZlXFxcIixhZENvdW50OmgmJmg8PTM/aDoxfSxsJiYoSS5jaGFubmVsPWwpLGI9RGF0ZS5ub3coKSx0Lm5leHQ9MTIsQ28uY2FsbCh0aGlzLEkpO2Nhc2UgMTI6aWYoaz10LnNlbnQsdz1EYXRlLm5vdygpLHg9ay5hZExpc3R8fFtdLFM9TG8oeCksKHk9U1swXXx8e30pLmVjcG09bnVsbCE9PShkPW51bGw9PT0ocz15KXx8dm9pZCAwPT09cz92b2lkIDA6cy5wcmljZSkmJnZvaWQgMCE9PWQ/ZDowLFQ9eS5lY3BtLzEwMCxlLmVjcG09VCptLGUucHJpY2U9VCptLGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PV8/VCptOlQsZS5zX3B0eT1UKm0sZS5iaWRUaz17YmlkRmlsbGVkVGltZTp3LWJ9LEE9d28uY2FsbCh0aGlzLGUsYSksKEU9eG8uY2FsbCh0aGlzLGUsdyxiLEEscixuKSkuYmlkVGsuYmlkUmVzdWx0PTEsRS5iaWRUay5ybEJpZFN0YXR1cz0yLEM9U28uY2FsbCh0aGlzLHksZSxFLG4sciksRD1DLm9mZmVyLHk9RCxFLmJpZFRrLmJpZFJlc3VsdCYmKEUuYmlkVGsuc29ydFR5cGU9MCksc28uY2FsbCh0aGlzLEUpLCFUby5jYWxsKHRoaXMseSxlLG4scixhKSl7dC5uZXh0PTM1O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixQcm9taXNlLnJlamVjdChcXFwiSEIgQklEX0xPU1NcXFwiKSk7Y2FzZSAzNTpyZXR1cm4gTi5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLGcse2FkOm51bGwsb2ZmZXI6eSxfZXhwaXJhdGlvblRpbWU6RGF0ZS5ub3coKStlLm53X2NhY2hlX3RpbWV9KSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixlKTtjYXNlIDM3OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBObyh0LGUsaSxuKXtyZXR1cm4gam8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGpvKCl7cmV0dXJuKGpvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsYSl7dmFyIG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGcseSxJLGIsayx3LHgsUyxULEEsRSxDO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGQ9bnVsbD09PShvPXRoaXMuJGFwcCl8fHZvaWQgMD09PW98fG51bGw9PT0obz1vLiRkZWYpfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by50b3Bvbl9zZGspfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNoYW5uZWxJZCxzPWUudW5pdF9pZCxsPWUuY29udGVudCxjPWUubndfcmVxX251bSx1PUpTT04ucGFyc2UobCksaD11LnVuaXRfaWQscD1uLnBsYWNlbWVudElkLGY9bi5leGNoUmF0ZUMydSx2PW4uYWNjb3VudEN1cnJlbmN5LG09cCtcXFwiL1xcXCIrcyxfPXt9LGc9e2FkVW5pdElkOmgsdHlwZTpcXFwicmV3YXJkZWRWaWRlb0FkXFxcIixhZENvdW50OmMmJmM8PTM/YzoxfSxkJiYoZy5jaGFubmVsPWQpLHk9RGF0ZS5ub3coKSx0Lm5leHQ9MTIsQ28uY2FsbCh0aGlzLGcpO2Nhc2UgMTI6aWYoST10LnNlbnQsYj1EYXRlLm5vdygpLCFJLmFkTGlzdCl7dC5uZXh0PTIwO2JyZWFrfWs9SS5hZExpc3R8fFtdLHc9TG8oayksXz13WzBdfHx7fSx0Lm5leHQ9MjU7YnJlYWs7Y2FzZSAyMDppZighSS5hZGlkKXt0Lm5leHQ9MjQ7YnJlYWt9Xz1JLHQubmV4dD0yNTticmVhaztjYXNlIDI0OnJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixQcm9taXNlLnJlamVjdChcXFwiYmlk5peg57uT5p6cXFxcIikpO2Nhc2UgMjU6aWYoXy5lY3BtPV8ucHJpY2V8fDAseD1fLmVjcG0vMTAwLGUuZWNwbT14KmYsZS5wcmljZT14KmYsZS5jeV9lY3BtPVxcXCJVU0RcXFwiPT09dj94KmY6eCxlLnNfcHR5PXgqZixlLmJpZFRrPXtiaWRGaWxsZWRUaW1lOmIteX0sUz13by5jYWxsKHRoaXMsZSxhKSwoVD14by5jYWxsKHRoaXMsZSxiLHksUyxyLG4pKS5iaWRUay5iaWRSZXN1bHQ9MSxULmJpZFRrLnJsQmlkU3RhdHVzPTIsQT1Tby5jYWxsKHRoaXMsXyxlLFQsbixyKSxFPUEub2ZmZXIsXz1FLFQuYmlkVGsuYmlkUmVzdWx0JiYoVC5iaWRUay5zb3J0VHlwZT0wKSxzby5jYWxsKHRoaXMsVCksIVRvLmNhbGwodGhpcyxfLGUsbixyLGEpKXt0Lm5leHQ9NDM7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UucmVqZWN0KFxcXCJIQiBCSURfTE9TU1xcXCIpKTtjYXNlIDQzOmlmKEM9RG8uY2FsbCh0aGlzLHttdWx0aXRvbjohMH0pKXt0Lm5leHQ9NDY7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGUpO2Nhc2UgNDY6cmV0dXJuIE4uY2FsbCh0aGlzLFxcXCJ1bml0XFxcIixtLHthZDpDLG9mZmVyOl8sX2V4cGlyYXRpb25UaW1lOkRhdGUubm93KCkrZS5ud19jYWNoZV90aW1lfSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsZSk7Y2FzZSA0ODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRm8odCl7dmFyIGksbixyPW51bGwhPT0oaT1udWxsPT09KG49dGhpcy4kYXBwKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kZGVmKSYmdm9pZCAwIT09aT9pOnRoaXMuJGRlZixhPShudWxsPT1yP3ZvaWQgMDpyLnlsaF9zZGspfHx7fTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbil7dihhKSYmaSh7Y29kZToyZTMsbXNnOlxcXCLmib7kuI3liLDkvJjph4/msYdTREtcXFwifSksYS5vbllsaFJlYWR5KChmdW5jdGlvbigpe3ZhciBuPWUoe30sdCk7YS5sb2FkRmVlZEFkKG4pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXthZExpc3Q6dHx8W119O3QuY29kZSYmdC5jb2RlPjAmJihlLmNvZGU9YXRbdC5jb2RlXXx8MmUzLGUubXNnPVxcXCJcXFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2UsXFxcIiByZWFsIGNvZGUgW1xcXCIpLmNvbmNhdCh0LmNvZGUsXFxcIl1cXFwiKSxlLmFkTGlzdD1bXSksaShlKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aSh7Y29kZToyZTMsbXNnOlxcXCJcXFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2UpfSl9KSl9KSl9KSl9ZnVuY3Rpb24gQm8odCxlLGksbil7cmV0dXJuIFdvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBXbygpe3JldHVybihXbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3ZhciBvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnLHksSSxiLGssdyx4LFMsVCxBLEU7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbD1lLnVuaXRfaWQsYz1lLmNvbnRlbnQsdT1KU09OLnBhcnNlKGMpLGg9dS51bml0X2lkLHA9dS5hbGxvd19yZWNvbW1lbmQsZj1uLnBsYWNlbWVudElkLHY9bi5leGNoUmF0ZUMydSxtPW4uYWNjb3VudEN1cnJlbmN5LF89ZitcXFwiL1xcXCIrbCxnPXt9LHk9e2NvdW50OjEscGxhY2VtZW50SWQ6aCxyZWNvbW1lbmRhdGlvbjpcXFwiMVxcXCI9PT1wPzI6MX0sST1EYXRlLm5vdygpLHQubmV4dD0xMCxGby5jYWxsKHRoaXMseSk7Y2FzZSAxMDppZihiPXQuc2VudCxrPURhdGUubm93KCksZz1udWxsIT09KG89bnVsbD09Ynx8bnVsbD09PShkPWIuYWRMaXN0KXx8dm9pZCAwPT09ZD92b2lkIDA6ZFswXSkmJnZvaWQgMCE9PW8/bzp7fSx3PShudWxsPT09KHM9Zyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZ2V0RUNQTSgpKT4wP2cuZ2V0RUNQTSgpOjAsZy5lY3BtPXcseD13LzEwMCxlLmVjcG09eCp2LGUucHJpY2U9eCp2LGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PW0/eCp2OngsZS5zX3B0eT14KnYsZS5iaWRUaz17YmlkRmlsbGVkVGltZTprLUl9LFM9d28uY2FsbCh0aGlzLGUsYSksKFQ9eG8uY2FsbCh0aGlzLGUsayxJLFMscixuKSkuYmlkVGsuYmlkUmVzdWx0PTEsVC5iaWRUay5ybEJpZFN0YXR1cz0yLEE9U28uY2FsbCh0aGlzLGcsZSxULG4sciksRT1BLm9mZmVyLGc9RSxULmJpZFRrLmJpZFJlc3VsdCYmKFQuYmlkVGsuc29ydFR5cGU9MCksZy5lY3BtfHwoVC5iaWRUay5zb3J0VHlwZT0tMTIsVC5iaWRUay5lcnJvck1zZz1cXFwiMCBiaWQgcHJpY2VcXFwiKSxzby5jYWxsKHRoaXMsVCksZy5lY3BtKXt0Lm5leHQ9MzI7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UucmVqZWN0KFxcXCJvZmZlci5lY3BtOiBcXFwiLmNvbmNhdChnLmVjcG0sXFxcIuS4jeespuWQiGJpZOWcuuaZr++8jHJlamVjdOaOiVxcXCIpKSk7Y2FzZSAzMjppZighVG8uY2FsbCh0aGlzLGcsZSxuLHIsYSkpe3QubmV4dD0zNTticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsUHJvbWlzZS5yZWplY3QoXFxcIkhCIEJJRF9MT1NTXFxcIikpO2Nhc2UgMzU6cmV0dXJuIE4uY2FsbCh0aGlzLFxcXCJ1bml0XFxcIixfLHthZDpudWxsLG9mZmVyOmcsX2V4cGlyYXRpb25UaW1lOkRhdGUubm93KCkrZS5ud19jYWNoZV90aW1lfSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsZSk7Y2FzZSAzNzpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcW8odCxlLGksbil7cmV0dXJuIE1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNbygpe3JldHVybihNbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3ZhciBvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnLHksSSxiPXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcz1udWxsIT09KG89bnVsbD09PShkPXRoaXMuJGFwcCl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuJGRlZikmJnZvaWQgMCE9PW8/bzp0aGlzLiRkZWYsbD1lLnVuaXRfaWQsYz1lLmNvbnRlbnQsdT1KU09OLnBhcnNlKGMpLGg9dS51bml0X2lkLHA9dS52aWRlb19tdXRlZCxmPW4ucGxhY2VtZW50SWQsdj1uLmV4Y2hSYXRlQzJ1LG09bi5hY2NvdW50Q3VycmVuY3ksXz1mK1xcXCIvXFxcIitsLGc9e2VjcG06MH0seT17cGxhY2VtZW50SWQ6aCxtdXRlZDpcXFwiMVxcXCI9PT1wfSxJPURhdGUubm93KCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7dHJ5e3ZhciBvPXMueWxoX3Nkay5jcmVhdGVSZXdhcmRWaWRlb0FkKHkpO28ub25Mb2FkKChmdW5jdGlvbigpe3ZhciBpLGQ7Zy5lY3BtPW8uZ2V0RUNQTSgpO3ZhciBzPURhdGUubm93KCksbD0obnVsbCE9PShpPW51bGw9PT0oZD1nKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5lY3BtKSYmdm9pZCAwIT09aT9pOjApLzEwMDtlLmVjcG09bCp2LGUucHJpY2U9bCp2LGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PW0/bCp2OmwsZS5zX3B0eT1sKnYsZS5iaWRUaz17YmlkRmlsbGVkVGltZTpzLUl9O3ZhciBjPXdvLmNhbGwoYixlLGEpLHU9eG8uY2FsbChiLGUscyxJLGMscixuKTt1LmJpZFRrLmJpZFJlc3VsdD0xLHUuYmlkVGsucmxCaWRTdGF0dXM9Mjt2YXIgaD1Tby5jYWxsKGIsZyxlLHUsbixyKS5vZmZlcjtyZXR1cm4gZz1oLHUuYmlkVGsuYmlkUmVzdWx0JiYodS5iaWRUay5zb3J0VHlwZT0wKSxnLmVjcG18fCh1LmJpZFRrLnNvcnRUeXBlPS0xMix1LmJpZFRrLmVycm9yTXNnPVxcXCIwIGJpZCBwcmljZVxcXCIpLHNvLmNhbGwoYix1KSxnLmVjcG0/VG8uY2FsbChiLGcsZSxuLHIsYSk/UHJvbWlzZS5yZWplY3QoXFxcIkhCIEJJRF9MT1NTXFxcIik6KE4uY2FsbChiLFxcXCJ1bml0XFxcIixfLHthZDpvLG9mZmVyOmcsX2V4cGlyYXRpb25UaW1lOkRhdGUubm93KCkrZS5ud19jYWNoZV90aW1lfSksdm9pZCB0KGUpKTpQcm9taXNlLnJlamVjdChcXFwib2ZmZXIuZWNwbTogXFxcIi5jb25jYXQoZy5lY3BtLFxcXCLkuI3nrKblkIhiaWTlnLrmma/vvIxyZWplY3TmjolcXFwiKSl9KSksby5vbkVycm9yKChmdW5jdGlvbih0KXtpZih0LmVycm9yQ29kZSl7dmFyIGE9RGF0ZS5ub3coKSxvPXhvLmNhbGwoYixlLGEsSSwtMSxyLG4pLGQ9YXRbdC5lcnJvckNvZGVdfHwyZTMscz1cXFwiXFxcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC5lcnJvck1zZyxcXFwiIHJlYWwgY29kZSBbXFxcIikuY29uY2F0KHQuZXJyb3JDb2RlLFxcXCJdXFxcIik7by5iaWRUay5iaWRSZXN1bHQ9MCxvLmJpZFRrLnJsQmlkU3RhdHVzPTAsby5iaWRUay5zb3J0VHlwZT0tMTIsby5iaWRUay5lcnJvck1zZz1zLHNvLmNhbGwoYixvKSxpKHtjb2RlOmQsbXNnOnN9KX19KSksby5sb2FkKCl9Y2F0Y2godCl7aSh7Y29kZToyZTMsbXNnOlxcXCLmv4DlirHop4bpopEgYzJzIOWksei0pTogXFxcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpfSl9fSkpKTtjYXNlIDEwOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBWbyh0LGUsaSxuKXtyZXR1cm4gSG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEhvKCl7cmV0dXJuKEhvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsYSl7dmFyIG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGcseSxJLGIsaz10aGlzO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHM9bnVsbCE9PShvPW51bGw9PT0oZD10aGlzLiRhcHApfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLiRkZWYpJiZ2b2lkIDAhPT1vP286dGhpcy4kZGVmLGw9ZS51bml0X2lkLGM9ZS5jb250ZW50LHU9SlNPTi5wYXJzZShjKSxoPXUudW5pdF9pZCxwPW4ucGxhY2VtZW50SWQsZj1uLmV4Y2hSYXRlQzJ1LHY9bi5hY2NvdW50Q3VycmVuY3ksbT1uLnBsYWNlbWVudENvbmZpZyxfPSh2b2lkIDA9PT1tP3t9Om0pLmVudHJ5LGc9cCtcXFwiL1xcXCIrbCx5PXtlY3BtOjB9LEk9e3BsYWNlbWVudElkOmgsZW50cnk6dm9pZCAwPT09Xz9cXFwiXFxcIjpffSxiPURhdGUubm93KCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7dHJ5e3MueWxoX3Nkay5vbllsaFJlYWR5KChmdW5jdGlvbigpe3ZhciBvPXMueWxoX3Nkay5jcmVhdGVTcGxhc2hBZChJKTtvLm9uTG9hZCgoZnVuY3Rpb24oKXt2YXIgaSxkO3kuZWNwbT1vLmdldEVDUE0oKTt2YXIgcz1EYXRlLm5vdygpLGw9KG51bGwhPT0oaT1udWxsPT09KGQ9eSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuZWNwbSkmJnZvaWQgMCE9PWk/aTowKS8xMDA7ZS5lY3BtPWwqZixlLnByaWNlPWwqZixlLmN5X2VjcG09XFxcIlVTRFxcXCI9PT12P2wqZjpsLGUuc19wdHk9bCpmLGUuYmlkVGs9e2JpZEZpbGxlZFRpbWU6cy1ifTt2YXIgYz13by5jYWxsKGssZSxhKSx1PXhvLmNhbGwoayxlLHMsYixjLHIsbik7dS5iaWRUay5iaWRSZXN1bHQ9MSx1LmJpZFRrLnJsQmlkU3RhdHVzPTI7dmFyIGg9U28uY2FsbChrLHksZSx1LG4scikub2ZmZXI7cmV0dXJuIHk9aCx1LmJpZFRrLmJpZFJlc3VsdCYmKHUuYmlkVGsuc29ydFR5cGU9MCkseS5lY3BtfHwodS5iaWRUay5zb3J0VHlwZT0tMTIsdS5iaWRUay5lcnJvck1zZz1cXFwiMCBiaWQgcHJpY2VcXFwiKSxzby5jYWxsKGssdSkseS5lY3BtP1RvLmNhbGwoayx5LGUsbixyLGEpP1Byb21pc2UucmVqZWN0KFxcXCJIQiBCSURfTE9TU1xcXCIpOihOLmNhbGwoayxcXFwidW5pdFxcXCIsZyx7YWQ6byxvZmZlcjp5LF9leHBpcmF0aW9uVGltZTpEYXRlLm5vdygpK2UubndfY2FjaGVfdGltZX0pLHZvaWQgdChlKSk6UHJvbWlzZS5yZWplY3QoXFxcIm9mZmVyLmVjcG06IFxcXCIuY29uY2F0KHkuZWNwbSxcXFwi5LiN56ym5ZCIYmlk5Zy65pmv77yMcmVqZWN05o6JXFxcIikpfSkpLG8ub25FcnJvcigoZnVuY3Rpb24odCl7aWYodC5lcnJvckNvZGUpe3ZhciBhPURhdGUubm93KCksbz14by5jYWxsKGssZSxhLGIsLTEscixuKSxkPWF0W3QuZXJyb3JDb2RlXXx8MmUzLHM9XFxcIlxcXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuZXJyb3JNc2csXFxcIiByZWFsIGNvZGUgW1xcXCIpLmNvbmNhdCh0LmVycm9yQ29kZSxcXFwiXVxcXCIpO28uYmlkVGsuYmlkUmVzdWx0PTAsby5iaWRUay5ybEJpZFN0YXR1cz0wLG8uYmlkVGsuc29ydFR5cGU9LTEyLG8uYmlkVGsuZXJyb3JNc2c9cyxzby5jYWxsKGssbyksaSh7Y29kZTpkLG1zZzpzfSl9fSkpLG8ubG9hZCgpfSkpfWNhdGNoKHQpe2koe2NvZGU6MmUzLG1zZzpcXFwi5byA5bGP5bm/5ZGKIGMycyDlpLHotKU6IFxcXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKX0pfX0pKSk7Y2FzZSAxMTpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEdvPWMoYyhjKHt9LHR0Lk9QUE8se2JpZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgcj1lLmZvcm1hdCxhPXswOk9vLDE6UG99O3JldHVybiBhW3JdP2Fbcl0uY2FsbCh0aGlzLHQsZSxpLG4pOlByb21pc2UucmVqZWN0KFxcXCLkuI3mlK/mjIHor6Xlub/lkYrnsbvlnotcXFwiKX0sYnJhbmQ6XFxcIm9wcG9cXFwifSksdHQuVklWTyx7YmlkOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciByPWUuZm9ybWF0LGE9ezA6VW8sMTpOb307cmV0dXJuIGFbcl0/YVtyXS5jYWxsKHRoaXMsdCxlLGksbik6UHJvbWlzZS5yZWplY3QoXFxcIuS4jeaUr+aMgeivpeW5v+WRiuexu+Wei1xcXCIpfSxicmFuZDpcXFwidml2b1xcXCJ9KSx0dC5ZTEgse2JpZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgcj1lLmZvcm1hdCxhPXswOkJvLDE6cW8sNDpWb307cmV0dXJuIGFbcl0/YVtyXS5jYWxsKHRoaXMsdCxlLGksbik6UHJvbWlzZS5yZWplY3QoXFxcIuS4jeaUr+aMgeivpeW5v+WRiuexu+Wei1xcXCIpfSxicmFuZDpcXFwieWxoXFxcIn0pO2Z1bmN0aW9uIFlvKHQsZSl7dmFyIGk9UygpLmFkLmdldFByb3ZpZGVyKCkudG9Mb3dlckNhc2UoKTtyZXR1cm4hIUdvW3RdJiYoXFxcInlsaFxcXCI9PT1Hb1t0XS5icmFuZD8hKChudWxsPT1lP3ZvaWQgMDplLnBsYXRmb3JtVmVyc2lvbkNvZGUpPDExMDApOkdvW3RdLmJyYW5kPT09aSYmIShcXFwib3Bwb1xcXCI9PT1pJiYobnVsbD09ZT92b2lkIDA6ZS5wbGF0Zm9ybVZlcnNpb25Db2RlKTwxMTE5KSl9ZnVuY3Rpb24gS28odCl7cmV0dXJuIHpvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB6bygpe3JldHVybih6bz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYSxvLGQscyxsLGMsdSxoLHAsZixtLF87cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihkPW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZixzPShudWxsPT1kP3ZvaWQgMDpkLnRvcG9uX3Nkayl8fHt9LHYobnVsbD09KGw9cy5zdG9yZSl8fG51bGw9PT0oYT1sLmRldmljZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaW5mbykpe3QubmV4dD02O2JyZWFrfXQudDA9bnVsbD09bHx8bnVsbD09PShvPWwuZGV2aWNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmZvLHQubmV4dD0xMjticmVhaztjYXNlIDY6cmV0dXJuIHQubmV4dD04LEguZ2V0SW5mbygpO2Nhc2UgODppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTE7YnJlYWt9dC50MT17fTtjYXNlIDExOnQudDA9dC50MTtjYXNlIDEyOmlmKGM9dC50MCx1PWUuaGJVbml0LGg9ZS5jb25kaXRpb24scD1lLnN0cmF0ZWd5LGY9ZS5zY2hlZHVsZXIsbT1bXSxfPXUsWW8uY2FsbCh0aGlzLF8ubndfZmlybV9pZCxjKSl7dC5uZXh0PTE4O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIik7Y2FzZSAxODppZihHb1tfLm53X2Zpcm1faWRdJiZtLnB1c2goR29bXy5ud19maXJtX2lkXS5iaWQuY2FsbCh0aGlzLF8saCxwLGYpKSxtLmxlbmd0aCl7dC5uZXh0PTIxO2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixbXSk7Y2FzZSAyMTpyZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsUHJvbWlzZS5hbGxTZXR0bGVkKG0pKTtjYXNlIDIyOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgWG8sUW8sSm8sWm8sdGQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ7aWYoIXRoaXMucGxhY2VtZW50SWQpdGhyb3cgbmV3IEVycm9yKFxcXCLor7fkvKDlhaXlub/lkYrkvY1JRFxcXCIpO3ZhciBlPVxcXCJcXFwiLmNvbmNhdCh0aGlzLiRwYWdlLm5hbWUsXFxcIi9cXFwiKS5jb25jYXQodGhpcy5wbGFjZW1lbnRJZCxcXFwiL1xcXCIpLmNvbmNhdChudWxsPT10aGlzfHxudWxsPT09KHQ9dGhpcy5fcGFnZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaWQpO2lmKGouY2FsbCh0aGlzLFxcXCJnbG9iYWxcXFwiLGUpKXt2YXIgaT1cXFwi5b2T5YmN6aG16Z2iOiBcXFwiLmNvbmNhdCh0aGlzLiRwYWdlLm5hbWUsXFxcIiDlt7LlrZjlnKjlub/lkYrkvY06IFxcXCIpLmNvbmNhdCh0aGlzLnBsYWNlbWVudElkLFxcXCLvvIzlkIzkuIDpobXpnaLkuK3or7fli7/kvb/nlKjnm7jlkIzlub/lkYrkvY1JRFxcXCIpO3Rocm93IG5ldyBFcnJvcihpKX1OLmNhbGwodGhpcyxcXFwiZ2xvYmFsXFxcIixlLHRoaXMucGxhY2VtZW50SWQpLHRoaXMuJHdhdGNoKFxcXCJ3ZlVuaXRJZHNOZWVkUmVuZGVyXFxcIixcXFwiY2hlY2tXZkNhY2hlXFxcIiksdGhpcy4kb24oXFxcInByb3h5VGtSZXBvcnRcXFwiLHRoaXMudGtSZXBvcnRXYXRjaGVyKSx0aGlzLiRvbihcXFwicHJveHlBZExvYWRcXFwiLHRoaXMuYWRMb2FkV2F0Y2hlciksdGhpcy4kb24oXFxcInByb3h5QWRTaG93XFxcIix0aGlzLmFkU2hvd1dhdGNoZXIpLHRoaXMuJG9uKFxcXCJwcm94eUFkQ2xpY2tcXFwiLHRoaXMuYWRDbGlja1dhdGNoZXIpLHRoaXMuJG9uKFxcXCJwcm94eUFkQ2xvc2VcXFwiLHRoaXMuYWRDbG9zZVdhdGNoZXIpLHRoaXMuJG9uKFxcXCJwcm94eUFkUmV3YXJkXFxcIix0aGlzLmFkUmV3YXJkV2F0Y2hlciksdGhpcy4kb24oXFxcInByb3h5QWRFcnJvclxcXCIsdGhpcy5hZEVycm9yV2F0Y2hlciksdGhpcy5oYW5kbGVBZEluaXQoKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPVxcXCJcXFwiLmNvbmNhdChudWxsPT09KHQ9dGhpcy4kcGFnZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubmFtZSxcXFwiL1xcXCIpLmNvbmNhdCh0aGlzLnBsYWNlbWVudElkLFxcXCIvXFxcIikuY29uY2F0KG51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLl9wYWdlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pZCk7Ti5jYWxsKHRoaXMsXFxcImdsb2JhbFxcXCIsaSxudWxsKTt0cnl7dGhpcy4kb2ZmKFxcXCJwcm94eVRrUmVwb3J0XFxcIix0aGlzLnRrUmVwb3J0V2F0Y2hlciksdGhpcy4kb2ZmKFxcXCJwcm94eUFkTG9hZFxcXCIsdGhpcy5hZExvYWRXYXRjaGVyKSx0aGlzLiRvZmYoXFxcInByb3h5QWRTaG93XFxcIix0aGlzLmFkU2hvd1dhdGNoZXIpLHRoaXMuJG9mZihcXFwicHJveHlBZENsaWNrXFxcIix0aGlzLmFkQ2xpY2tXYXRjaGVyKSx0aGlzLiRvZmYoXFxcInByb3h5QWRDbG9zZVxcXCIsdGhpcy5hZENsb3NlV2F0Y2hlciksdGhpcy4kb2ZmKFxcXCJwcm94eUFkUmV3YXJkXFxcIix0aGlzLmFkUmV3YXJkV2F0Y2hlciksdGhpcy4kb2ZmKFxcXCJwcm94eUFkRXJyb3JcXFwiLHRoaXMuYWRFcnJvcldhdGNoZXIpfWNhdGNoKHQpe319fSxoYW5kbGVBZEluaXQ6KEpvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKGU9XFxcImxvY2tMb2FkXFxcIix0aGlzLmxvY2subG9hZCE9PWUpe3QubmV4dD0zO2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIik7Y2FzZSAzOnJldHVybiB0aGlzLmxvY2subG9hZD1lLHRoaXMud2ZBZGFwdGVyPW51bGwsdGhpcy5hZHhCaWRkaW5nPSExLHRoaXMuaGl0VW5pdElkPW51bGwsdGhpcy53ZlNjaGVkdWxlcnx8KHRoaXMud2ZTY2hlZHVsZXI9bmV3IExhKSx0Lm5leHQ9MTAsdGhpcy5iZWZvcmVMb2FkKCk7Y2FzZSAxMDpyZXR1cm4gdC5uZXh0PTEyLHRoaXMuaGFuZGxlQ3JlYXRlQWQoKTtjYXNlIDEyOnRoaXMucmVwb3J0VGtEYXRhKFxcXCJBRF9MT0FEXFxcIiksdGhpcy53ZlNjaGVkdWxlci5sb2FkKHRoaXMudW5pdExpc3Qse3JlcVVnTnVtOnRoaXMucmVxVWdOdW19KSx0aGlzLndmVW5pdElkc05lZWRSZW5kZXI9dGhpcy53ZlNjaGVkdWxlci5zY2hlZHVsZXIoKSxbMCwxXS5pbmNsdWRlcyh0aGlzLmZvcm1hdCkmJnRoaXMuaW5pdEFkeCgpLFswLDEsNF0uaW5jbHVkZXModGhpcy5mb3JtYXQpJiZ0aGlzLmluaXRIYigpO2Nhc2UgMTc6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBKby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxpbml0QWR4OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXM7aWYobnVsbCE9PSh0PXRoaXMuYWR4TGlzdCkmJnZvaWQgMCE9PXQmJnQubGVuZ3RoKXt2YXIgbj10aGlzLmFkeExpc3RbMF0scj17cGxhY2VtZW50SWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0SWQ6dGhpcy5yZXF1ZXN0SWQsYWR4RXh0OnRoaXMuYXBpRGF0YS5hZHhfZXh0LGV4Y2hSOihudWxsPT09KGU9dGhpcy5hcGlEYXRhKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuY2FsbGJhY2spfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmV4Y2hfcil8fDEsdW5pdElkOm4udW5pdF9pZCxmb3JtYXQ6XFxcIlxcXCIrdGhpcy5mb3JtYXR9LGE9dGhpcy5hcGlEYXRhfHx7fSxvPWEudF9nX2lkLGQ9YS5ncm9faWQscz1hLmFzaWQsbD1hLmhiX2JpZF90aW1lb3V0LGM9dm9pZCAwPT09bD82ZTQ6bCx1PXtoYkJpZFRpbWVvdXQ6YyxyZXF1ZXN0SWQ6dGhpcy5yZXF1ZXN0SWQsc2VnbWVudElkOmQsdHJhZmZpY0dyb3VwSWQ6byxhc0lkOnN9O3RoaXMuYWR4QmlkZGluZz0hMDt2YXIgaD1QKHRoaXMubWVyZ2VDb25maWcuZmlsdGVyLHR0LkFEWCxuLnVuaXRfaWQpO2lmKGgpe3RoaXMuYWR4QmlkZGluZz0hMTt2YXIgcD1cXFwiMFxcXCI7OTAwNj09PWg/cD1cXFwiNVxcXCI6OTAwNz09PWgmJihwPVxcXCI5XFxcIik7dmFyIGY9e2tleTpcXFwiUkVRVUVTVF9GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmQsdHJhZmZpY19ncm91cF9pZDpvLGFzaWQ6cyxtc2c6U3RyaW5nKHR0LkFEWCksbXNnMTpTdHJpbmcobi51bml0X2lkKSxtc2cyOlxcXCJcXFwiLG1zZzM6cCxtc2c0OnAsbXNnNTpcXFwiQURY5bm/5ZGK5rqQ6KKr6L+H5rukXFxcIixtc2c4OlxcXCIwXFxcIn07VmEuY2FsbCh0aGlzLGYpfWVsc2UgdGhpcy5hZHhCaWRkaW5nVGltZUlkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5hZHhCaWRkaW5nPSExfSksYyksdGhpcy5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdBdHRlbXB0XFxcIix7dW5pdDpufSksZ28uY2FsbCh0aGlzLHIsbix1LHRoaXMud2ZTY2hlZHVsZXIpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKHQuZWNwbTw9MClyZXR1cm4gaS5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGYWlsXFxcIix7dW5pdDp0LGVycm9yOntjb2RlOjIyZTMsbXNnOlxcXCJcXFwifX0pLCFpLmhiQmlkZGluZyYmaS53ZlNjaGVkdWxlci5pc0ZhaWxlZCgpJiZpLmFkRXJyb3JXZkVtcHR5KFxcXCJBRFjml6DloavlhYVcXFwiKSxpLmFkeEJpZGRpbmc9ITEsdm9pZChpLmFkeEJpZGRpbmdUaW1lSWQmJmNsZWFyVGltZW91dChpLmFkeEJpZGRpbmdUaW1lSWQpKTtpLndmU2NoZWR1bGVyLm1lcmdlKFt0XSksaS53ZlVuaXRJZHNOZWVkUmVuZGVyPWkud2ZTY2hlZHVsZXIuc2NoZWR1bGVyKCksaS5hZHhCaWRkaW5nPSExLGkuYWR4QmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KGkuYWR4QmlkZGluZ1RpbWVJZCk7dmFyIGU9e2tleTpcXFwiQklEX01FUkdFX1RPX1dGXFxcIix1bml0aWQ6aS5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6aS5yZXF1ZXN0SWQsZ3JvdXBpZDpkLHRyYWZmaWNfZ3JvdXBfaWQ6byxhc2lkOnMsbXNnOlxcXCI2NlxcXCIsbXNnMTpcXFwiXFxcIit0LnVuaXRfaWQsbXNnMjpcXFwiXFxcIit0LmVjcG0sbXNnMzppLndmU2NoZWR1bGVyLmlzRmFpbGVkKCk/XFxcIjNcXFwiOmkud2ZTY2hlZHVsZXIuaXNMb2FkZWQoKT9cXFwiMlxcXCI6XFxcIjFcXFwiLG1zZzQ6XFxcIjJcXFwifTtWYS5jYWxsKGksZSksaS5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGaWxsZWRcXFwiLHt1bml0OnQsdW5pdEluZGV4Omkud2ZTY2hlZHVsZXIuZ2V0SW5kZXgodC51bml0X2lkKX0pfSkpfX0saW5pdEhiOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG4scj10aGlzO2lmKG51bGwhPT0odD10aGlzLmhiTGlzdCkmJnZvaWQgMCE9PXQmJnQubGVuZ3RoKXt0aGlzLmhiQmlkZGluZz0hMDt2YXIgYT10aGlzLmFwaURhdGF8fHt9LG89YS50X2dfaWQsZD1hLmdyb19pZCxzPWEuYXNpZCxsPWEuaGJfYmlkX3RpbWVvdXQsYz12b2lkIDA9PT1sPzZlNDpsLHU9e2hiQmlkVGltZW91dDpjLHJlcXVlc3RJZDp0aGlzLnJlcXVlc3RJZCxzZWdtZW50SWQ6ZCx0cmFmZmljR3JvdXBJZDpvLGFzSWQ6c30scD17Y29uZGl0aW9uOntwbGFjZW1lbnRJZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RJZDp0aGlzLnJlcXVlc3RJZCxmb3JtYXQ6XFxcIlxcXCIrdGhpcy5mb3JtYXQsZXhjaFJhdGVDMnU6KG51bGw9PT0oZT10aGlzLmFwaURhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmV4Y2hfcmF0ZV9jMnUpfHwxLGFjY291bnRDdXJyZW5jeTpudWxsIT09KGk9bnVsbD09PShuPXRoaXMuYXBpRGF0YSl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmNhbGxiYWNrKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hY2N0X2N5KSYmdm9pZCAwIT09aT9pOlxcXCJcXFwiLHBsYWNlbWVudENvbmZpZzp0aGlzLm1lcmdlQ29uZmlnfSxzdHJhdGVneTp1LHNjaGVkdWxlcjp0aGlzLndmU2NoZWR1bGVyfTt0aGlzLmhiQmlkZGluZ1RpbWVJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IuaGJCaWRkaW5nPSExfSksYyksdGhpcy5oYkxpc3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7cC5oYlVuaXQ9dCxyLmVtaXRXZlVuaXRFdmVudChcXFwiYWRVbml0QmlkZGluZ0F0dGVtcHRcXFwiLHt1bml0OnR9KTt2YXIgZT17fTtLby5jYWxsKHIscCkudGhlbigoZnVuY3Rpb24oaSl7dmFyIG49W107aWYoaS5tYXAoKGZ1bmN0aW9uKHQpe1xcXCJmdWxmaWxsZWRcXFwiPT09dC5zdGF0dXM/bi5wdXNoKHQudmFsdWUpOnQucmVhc29uJiYoZT17Y29kZToyMmUzLG1zZzpoKHQucmVhc29uKT90LnJlYXNvbjpKU09OLnN0cmluZ2lmeSh0LnJlYXNvbil9KX0pKSxuLmxlbmd0aDw9MClyZXR1cm4gci5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGYWlsXFxcIix7dW5pdDp0LGVycm9yOmV9KSwhci5hZHhCaWRkaW5nJiZyLndmU2NoZWR1bGVyLmlzRmFpbGVkKCkmJnIuYWRFcnJvcldmRW1wdHkoXFxcIkhC5peg5aGr5YWFXFxcIiksci5oYkJpZGRpbmc9ITEsdm9pZChyLmhiQmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KHIuaGJCaWRkaW5nVGltZUlkKSk7ci53ZlNjaGVkdWxlci5tZXJnZShuKSxyLndmVW5pdElkc05lZWRSZW5kZXI9ci53ZlNjaGVkdWxlci5zY2hlZHVsZXIoKSxyLmhiQmlkZGluZz0hMSxyLmhiQmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KHIuaGJCaWRkaW5nVGltZUlkKSxuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXtrZXk6XFxcIkJJRF9NRVJHRV9UT19XRlxcXCIsdW5pdGlkOnIucGxhY2VtZW50SWQscmVxdWVzdGlkOnIucmVxdWVzdElkLGdyb3VwaWQ6ZCx0cmFmZmljX2dyb3VwX2lkOm8sYXNpZDpzLG1zZzpcXFwiXFxcIit0Lm53X2Zpcm1faWQsbXNnMTpcXFwiXFxcIit0LnVuaXRfaWQsbXNnMjpcXFwiXFxcIit0LmVjcG0sbXNnMzpyLndmU2NoZWR1bGVyLmlzRmFpbGVkKCk/XFxcIjNcXFwiOnIud2ZTY2hlZHVsZXIuaXNMb2FkZWQoKT9cXFwiMlxcXCI6XFxcIjFcXFwiLG1zZzQ6XFxcIjJcXFwifTtWYS5jYWxsKHIsZSksci5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGaWxsZWRcXFwiLHt1bml0OnQsdW5pdEluZGV4OnIud2ZTY2hlZHVsZXIuZ2V0SW5kZXgodC51bml0X2lkKX0pfSkpfSkpLmNhdGNoKChmdW5jdGlvbigpeyFyLmFkeEJpZGRpbmcmJnIud2ZTY2hlZHVsZXIuaXNGYWlsZWQoKSYmci5hZEVycm9yV2ZFbXB0eShcXFwiSELml6DloavlhYVcXFwiKSxyLmhiQmlkZGluZz0hMSxyLmhiQmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KHIuaGJCaWRkaW5nVGltZUlkKX0pKX0pKX19LGJlZm9yZUxvYWQ6KFFvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHI9dGhpcztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxlPURhdGUubm93KCksdGhpcy51bml0TG9hZFN0YXJ0PWUsdGhpcy5wbGFjZW1lbnRMb2FkU3RhcnQ9ZSx0LnQwPVN0cmluZyx0Lm5leHQ9NyxKKCk7Y2FzZSA3OnQudDE9dC5zZW50LHRoaXMucmVxdWVzdElkPSgwLHQudDApKHQudDEpLHRoaXMucmVxdWVzdElkQ291bnQrKyxuPTQ9PT10aGlzLmZvcm1hdD81ZTM6M2U1LHRoaXMudGltZXJJZCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5jaGVja1RpbWVvdXQoKX0pLHRoaXMubWVyZ2VDb25maWcudGltZW91dD4wP3RoaXMubWVyZ2VDb25maWcudGltZW91dDpuKSx0Lm5leHQ9MTc7YnJlYWs7Y2FzZSAxNTp0LnByZXY9MTUsdC50Mj10LmNhdGNoKDApO2Nhc2UgMTc6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDE1XV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiBRby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxjaGVja1RpbWVvdXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMud2ZTY2hlZHVsZXIpe3ZhciBlPXRoaXMud2ZTY2hlZHVsZXIuZ2V0U3RhdHVzTGlzdCgpLGk9W107ZS5mb3JFYWNoKChmdW5jdGlvbih0KXtbXFxcImxvYWRpbmdcXFwiLFxcXCJ0aW1lb3V0XFxcIl0uaW5jbHVkZXModC5zdGF0dXMpJiZpLnB1c2godCl9KSk7dmFyIG49dGhpcy5hcGlEYXRhfHx7fSxyPW4udF9nX2lkLGE9bi5ncm9faWQsbz1uLmFzaWQ7aS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT17a2V5OlxcXCJSRVFVRVNUX0ZBSUxFRFxcXCIsdW5pdGlkOnQucGxhY2VtZW50SWQscmVxdWVzdGlkOnQucmVxdWVzdElkLGdyb3VwaWQ6YSx0cmFmZmljX2dyb3VwX2lkOnIsYXNpZDpvLG1zZzpTdHJpbmcoZS5ud0Zpcm1JZCksbXNnMTpTdHJpbmcoZS51bml0SWQpLG1zZzI6U3RyaW5nKGUuaW5kZXgpLG1zZzM6XFxcIjFcXFwiLG1zZzQ6XFxcIjE5MDAyXFxcIixtc2c1OlxcXCJcXFwiLG1zZzg6XFxcIlxcXCJ9O1ZhLmNhbGwodCxpKX0pKTt0aGlzLmFkRXJyb3Ioe30se2RldGFpbDp7Y29kZTo5MDAyLG1zZzpcXFwiTG9hZCBUaW1lb3V0XFxcIn19KX19LGhhbmRsZUNyZWF0ZUFkOihYbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsXyxnLHksSSxiLGssdyx4PXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pc0FwaVN1Y2Nlc3M9ITEsbz1cXFwiVE9QT05fQURfQ0FDSEVfUExBQ0VNRU5UX1xcXCIrdGhpcy5wbGFjZW1lbnRJZCx0Lm5leHQ9NCxNLmdldEl0ZW0obywhMSk7Y2FzZSA0OmlmKHQudDA9dC5zZW50LHQudDApe3QubmV4dD03O2JyZWFrfXQudDA9e307Y2FzZSA3OmlmKCF2KGQ9dC50MCkpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsdGhpcy5oYW5kbGVBcGlSZXF1ZXN0KCkpO2Nhc2UgMTA6aWYocz1udWxsIT09KGU9bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLiRkZWYpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRvcG9uX3NkaykmJnZvaWQgMCE9PWU/ZTp7fSxsPXMuY2hhbm5lbElkLGM9dm9pZCAwPT09bD9cXFwiXFxcIjpsLHU9cy5zdWJDaGFubmVsSWQsaD12b2lkIDA9PT11P1xcXCJcXFwiOnUscD1zLmN1c3RvbVBhcmFtLGY9dm9pZCAwPT09cD97fTpwLF89cy5wbGFjZW1lbnRDdXN0b21QYXJhbSxnPWMrXFxcIi9cXFwiK2gseT1PKGYsdm9pZCAwPT09Xz97fTpfKSxJPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGI9KG51bGw9PWR8fG51bGw9PT0ocj1kLmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnBzX2N0X21heCl8fDYwNDhlNSxrPShudWxsPT1kfHxudWxsPT09KGE9ZC5kYXRhKXx8dm9pZCAwPT09YT92b2lkIDA6YS5wc19jdF9vdXQpfHwwLCh3PShudWxsPT1kP3ZvaWQgMDpkLl9yZXF1ZXN0X3RpbWVzdGFtcCl8fDApPD0wJiYodz1kLl9wc19jdF90aW1lc3RhbXAtZC5kYXRhLnBzX2N0KSwhKGQuX3BzX2N0X3RpbWVzdGFtcD5JJiZkLl9jaGFubmVsPT09ZyYmbShkLl9jdXN0b21fcGFyYW0seSkpKXt0Lm5leHQ9MjI7YnJlYWt9dGhpcy5oYW5kbGVBcGlSZXNwb25zZShkKSx0Lm5leHQ9Mjg7YnJlYWs7Y2FzZSAyMjppZighKHcrYjxJKSl7dC5uZXh0PTI2O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIix0aGlzLmhhbmRsZUFwaVJlcXVlc3QoKSk7Y2FzZSAyNjpyZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKXt4LmhhbmRsZUFwaVJlc3BvbnNlKGQpfSksayksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsdGhpcy5oYW5kbGVBcGlSZXF1ZXN0KCkpO2Nhc2UgMjg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBYby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxoYW5kbGVBcGlSZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIHQ9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZCxzLGwsYyx1LGgscCxmLG0sZyx5LEksYixrO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQucHJldj0wLGE9bnVsbCE9PShlPW51bGw9PT0obj10aGlzLiRhcHApfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi4kZGVmKXx8dm9pZCAwPT09bj92b2lkIDA6bi50b3Bvbl9zZGspJiZ2b2lkIDAhPT1lP2U6e30sbz1hLmNoYW5uZWxJZCxkPXZvaWQgMD09PW8/XFxcIlxcXCI6byxzPWEuc3ViQ2hhbm5lbElkLGw9dm9pZCAwPT09cz9cXFwiXFxcIjpzLGM9YS5jdXN0b21QYXJhbSx1PXZvaWQgMD09PWM/e306YyxoPWEucGxhY2VtZW50Q3VzdG9tUGFyYW0scD1PKHUsdm9pZCAwPT09aD97fTpoKSxmPXtwbGFjZW1lbnRJZDp0aGlzLnBsYWNlbWVudElkfSx0Lm5leHQ9Nix0by5jYWxsKHRoaXMsZik7Y2FzZSA2OmlmKG09dC5zZW50LGc9XyhudWxsPT1tP3ZvaWQgMDptLmRhdGEpP0pTT04ucGFyc2UobnVsbD09bT92b2lkIDA6bS5kYXRhKToobnVsbD09bT92b2lkIDA6bS5kYXRhKXx8e30sNjk5PT09bS5jb2RlJiYoZz17Y29kZTowLGRhdGE6e2FkX2RlbGl2ZXJ5X3N3OjAscHNfY3Q6ODY0ZTUscHNfY3Rfb3V0OjB9fSksISgobnVsbD09PShyPWcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNvZGUpPjB8fHYoZykpJiZnKXt0Lm5leHQ9MTU7YnJlYWt9aWYoIXRoaXMuaXNBcGlTdWNjZXNzKXt0Lm5leHQ9MTI7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiKTtjYXNlIDEyOnJldHVybiB5PXtkZXRhaWw6e2NvZGU6OTAwNCxtc2c6XFxcIuaOpeWPo+acjeWKoemUmeivr1xcXCJ9fSx0aGlzLmFkRXJyb3Ioe30seSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTU6ST0obmV3IERhdGUpLmdldFRpbWUoKSxiPWQrXFxcIi9cXFwiK2wsZy5fcHNfY3RfdGltZXN0YW1wPUkrZy5kYXRhLnBzX2N0LGcuX2NoYW5uZWw9YixnLl9jdXN0b21fcGFyYW09cCxnLl9yZXF1ZXN0X3RpbWVzdGFtcD1JLHRoaXMuaGFuZGxlQXBpUmVzcG9uc2UoZyksaz1cXFwiVE9QT05fQURfQ0FDSEVfUExBQ0VNRU5UX1xcXCIrdGhpcy5wbGFjZW1lbnRJZCxNLnNldEl0ZW0oayxnLCExKSx0Lm5leHQ9Mjg7YnJlYWs7Y2FzZSAyNjp0LnByZXY9MjYsdC50MD10LmNhdGNoKDApO2Nhc2UgMjg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDI2XV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLGhhbmRsZUFwaVJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCF0aGlzLmlzQXBpU3VjY2Vzcyl7dGhpcy5pc0FwaVN1Y2Nlc3M9ITAsdGhpcy5hcGlEYXRhPXQuZGF0YTt2YXIgaT1mdW5jdGlvbih0KXtpZighdClyZXR1cm5bXTt2YXIgZT10LmRhdGEsaT1lLmFkeF9saXN0LG49dm9pZCAwPT09aT9bXTppLHI9ZS5oYl9saXN0LGE9dm9pZCAwPT09cj9bXTpyLG89ZS51Z19saXN0LGQ9dm9pZCAwPT09bz9bXTpvLHM9YigpLGw9YihcXFwiaGJcXFwiKSxjPWQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gcy5pbmNsdWRlcyh0Lm53X2Zpcm1faWQpfSkpfHxbXTtyZXR1cm57YWR4TGlzdDpuLGhiTGlzdDphLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGwuaW5jbHVkZXModC5ud19maXJtX2lkKX0pKXx8W10sdWdMaXN0OmN9fSh0KTtpZigxIT09KG51bGw9PT0oZT10aGlzLmFwaURhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmFkX2RlbGl2ZXJ5X3N3KSYmKGk9e30pLHRoaXMuYWR4TGlzdD1pLmFkeExpc3R8fFtdLHRoaXMuaGJMaXN0PWkuaGJMaXN0fHxbXSx0aGlzLnVuaXRMaXN0PWkudWdMaXN0fHxbXSx0aGlzLmFkeExpc3QubGVuZ3RofHx0aGlzLnVuaXRMaXN0Lmxlbmd0aHx8dGhpcy5oYkxpc3QubGVuZ3RoKXJldHVybiBpO3RoaXMuYWRFcnJvcldmRW1wdHkoKX19LGNoZWNrV2ZDYWNoZTpmdW5jdGlvbigpe2lmKHRoaXMud2ZTY2hlZHVsZXIpe3ZhciB0PXRoaXMud2ZTY2hlZHVsZXIuc2VsZWN0ZXIoKTtpZighdih0KSl7dmFyIGU9dC51bml0LGk9dGhpcy5yZXF1ZXN0SWQ7aWYodGhpcy5sb2NrLmFkTG9hZCE9PWkpe3RoaXMubG9jay5hZExvYWQ9aSx0aGlzLnRpbWVySWQmJmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO3RyeXt0aGlzLiRlbWl0KFxcXCJhZExvYWRcXFwiLHt9KX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFxcXCJlcnJvclxcXCIsdC5tZXNzYWdlKTt2YXIgbj17a2V5OlxcXCJDQUxMQkFDS19FUlJPUlxcXCIsdW5pdGlkOnRoaXMucGxhY2VtZW50SWQscmVxdWVzdGlkOnRoaXMucmVxdWVzdElkLG1zZzplLnVuaXRfaWQsbXNnMTpcXFwiMVxcXCIsbXNnMjpcXFwiYWRMb2Fk5Zue6LCD6ZSZ6K+vXFxcIixtc2czOnRoaXMuaGFuZGxlR2V0RXJyTXNnKHQubWVzc2FnZSl9O1ZhLmNhbGwodGhpcyxuKX10aGlzLnJlcG9ydFRrRGF0YShcXFwiQURfTE9BRF9GSUxMRURcXFwiLGUpfX19fSxsb2FkOmZ1bmN0aW9uKCl7dGhpcy53ZlNjaGVkdWxlci5pc0V4cGlyZWQoKSYmKHRoaXMubG9jay5sb2FkPVxcXCJcXFwiKSx0aGlzLndmVW5pdElkc05lZWRSZW5kZXI9dGhpcy53ZlNjaGVkdWxlci5zY2hlZHVsZXIoITApLHRoaXMuYWRFcnJvckxpc3Q9W10sdGhpcy5oYW5kbGVBZEluaXQoKX0saXNSZWFkeTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYXBpRGF0YXx8e30sZT10LnRfZ19pZCxpPXQuZ3JvX2lkLG49dC5hc2lkLHI9e2tleTpcXFwiSVNfUkVBRFlcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmksdHJhZmZpY19ncm91cF9pZDplLGFzaWQ6bn0sYT10aGlzLndmU2NoZWR1bGVyLnNlbGVjdGVyKCk7cmV0dXJuIHYoYSk/KGNvbnNvbGUuZXJyb3IoXFxcIndmQWRhcHRlckluc3RhbmNlIG5vdCBleGlzdFxcXCIpLHIubXNnPVxcXCIwXFxcIixyLm1zZzE9XFxcIjFcXFwiLHIubXNnMj1cXFwiXFxcIixyLm1zZzM9XFxcIlxcXCIsci5tc2c0PVxcXCJcXFwiLHIubXNnNT1cXFwiXFxcIixWYS5jYWxsKHRoaXMsciksITEpOihyLm1zZz1cXFwiMVxcXCIsci5tc2cxPVxcXCJcXFwiLHIubXNnMj1TdHJpbmcoYS5pbmRleCksci5tc2czPVN0cmluZyhhLnVuaXRJZCksci5tc2c0PVN0cmluZyhhLm53RmlybUlkKSxyLm1zZzU9XFxcIlxcXCIsVmEuY2FsbCh0aGlzLHIpLCEwKX0sZ2V0QWQ6ZnVuY3Rpb24oKXt2YXIgdDtpZighdGhpcy5pc1JlYWR5KCkpcmV0dXJuIHRoaXMud2ZBZGFwdGVyPW51bGwsbnVsbDtpZighdGhpcy53ZlNjaGVkdWxlcilyZXR1cm4gbnVsbDt0aGlzLndmQWRhcHRlcj10aGlzLndmU2NoZWR1bGVyLnNlbGVjdGVyKCk7dmFyIGk9dGhpcy53ZkFkYXB0ZXIsbj10aGlzLmdldFdmQWRhcHRlckluc3RhbmNlKGkuaXRlbUlkKTtpZih2KG4pKXJldHVybiBjb25zb2xlLmVycm9yKFxcXCJ3ZkFkYXB0ZXJJbnN0YW5jZSBub3QgZXhpc3RcXFwiKSx7fTt0aGlzLndmU2NoZWR1bGVyLnNldFNob3dlZChpLnVuaXRJZCksdGhpcy53ZlVuaXRJZHNOZWVkUmVuZGVyPXRoaXMud2ZTY2hlZHVsZXIuc2NoZWR1bGVyKCksdGhpcy5sb2NrLmxvYWQ9XFxcIlxcXCIsdGhpcy5oaXRVbml0SWQ9aS51bml0SWQ7dmFyIHI9e30sYT1udWxsO24uZ2V0QWQmJihyPW4uZ2V0QWQoKXx8e30pLG4uZ2V0SW5zdGFuY2UmJihhPW4uZ2V0SW5zdGFuY2UoKSk7dmFyIG89ZShlKHt9LGkuY29udGV4dC5lbWl0KSx7fSx7YWQ6cixpbnN0YW5jZTphfSk7aWYobnVsbCE9PSh0PXRoaXMuJGFwcCkmJnZvaWQgMCE9PXQmJm51bGwhPT0odD10LiRkZWYpJiZ2b2lkIDAhPT10JiZudWxsIT09KHQ9dC50b3Bvbl9zZGspJiZ2b2lkIDAhPT10JiZ0LmVuaGFuY2VkTG9nZ2luZ01vZGUpe3ZhciBkPXRoaXMuYXBpRGF0YXx8e30scz1kLnRfZ19pZCxsPWQuZ3JvX2lkLGM9ZC5hc2lkLHU9e2tleTpcXFwiR0VUX0FEXFxcIix1bml0aWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6dGhpcy5yZXF1ZXN0SWQsZ3JvdXBpZDpsLHRyYWZmaWNfZ3JvdXBfaWQ6cyxhc2lkOmMsbXNnOlN0cmluZygobnVsbD09bz92b2lkIDA6by5ud0Zpcm1JZCl8fDApLG1zZzE6U3RyaW5nKChudWxsPT1vP3ZvaWQgMDpvLnVuaXRJZCl8fDApLG1zZzI6U3RyaW5nKChudWxsPT1vP3ZvaWQgMDpvLmVjcG0pfHwwKX07VmEuY2FsbCh0aGlzLHUpfXJldHVybiBvfSxzaG93OmZ1bmN0aW9uKCl7dHJ5e3ZhciB0PXRoaXMuYXBpRGF0YXx8e30sZT10LnRfZ19pZCxpPXQuZ3JvX2lkLG49dC5hc2lkLHI9e2tleTpcXFwiU0hPV19GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmksdHJhZmZpY19ncm91cF9pZDplLGFzaWQ6bixtc2c6XFxcIjFcXFwifTtpZih2KHRoaXMud2ZBZGFwdGVyKSlyZXR1cm4gY29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIiksdm9pZCBWYS5jYWxsKHRoaXMscik7dmFyIGE9dGhpcy53ZkFkYXB0ZXIsbz10aGlzLmdldFdmQWRhcHRlckluc3RhbmNlKGEuaXRlbUlkKTtpZih2KG8pKXtyZXR1cm4gdGhpcy5hZEVycm9yKHt9LHtkZXRhaWw6e2NvZGU6OTAwNSxtc2c6XFxcIuW5v+WRiue8k+WtmOW3sui/h+acn1xcXCJ9fSksdm9pZCBWYS5jYWxsKHRoaXMscil9dmFyIGQ9e3VuaXRfaWQ6YS51bml0SWQsbndfZmlybV9pZDphLm53RmlybUlkLGVjcG06YS5lY3BtLGJpZFRrOmEudW5pdC5iaWRUa307dGhpcy5yZXBvcnRUa0RhdGEoXFxcIkFEX1NIT1dcXFwiLGQpLG51bGw9PW98fG8uc2hvdygpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXFxcImNhbGwgc2hvdyBlcnJvclxcXCIsdCl9fSxhZExvYWQ6ZnVuY3Rpb24odCxpKXt2YXIgbixyLGEsbz10Lm53X2NhY2hlX3RpbWUsZD10LndmQWRPcHRpb24scz12b2lkIDA9PT1kP3t9OmQsbD1EYXRlLm5vdygpO3RoaXMucGxhY2VtZW50TG9hZEVuZD1sO3ZhciBjPXRoaXMuZ2V0V2ZBZEVtaXQodCk7bnVsbCE9aSYmbnVsbCE9PShuPWkuZGV0YWlsKSYmdm9pZCAwIT09biYmbi5ud1VuaXRWZXJzaW9uJiYoYy5ud1VuaXRWZXJzaW9uPWkuZGV0YWlsLm53VW5pdFZlcnNpb24pO3ZhciB1PTA7W1xcXCIxXFxcIixcXFwiMlxcXCJdLmluY2x1ZGVzKG51bGw9PXM/dm9pZCAwOnMuX3R5cGUpJiYodT0xKSxjLmlzSGVhZGVyQmlkZGluZz11O3ZhciBoPXthZGFwdGVyOmksZW1pdDplKHtpc1NlbGZSZW5kZXJpbmc6bnVsbCE9PShyPW51bGw9PT0oYT1pLmRldGFpbCl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaXNTZWxmUmVuZGVyaW5nKSYmdm9pZCAwIT09ciYmcn0sYyl9LHA9bCtvO3RoaXMud2ZTY2hlZHVsZXIuc2V0Q2FjaGluZyh0LnVuaXRfaWQsaCx7ZXhwaXJhdGlvblRpbWU6cH0pLHRoaXMud2ZVbml0SWRzTmVlZFJlbmRlcj10aGlzLndmU2NoZWR1bGVyLnNjaGVkdWxlcigpLHRoaXMuZW1pdFdmVW5pdEV2ZW50KFxcXCJhZFVuaXRMb2FkRmlsbGVkXFxcIix7dW5pdDp0fSl9LGFkU2hvdzpmdW5jdGlvbih0LGUpe3RoaXMud2ZTY2hlZHVsZXIuc2V0U2hvd2VkKHQudW5pdF9pZCksdGhpcy5oaXRVbml0SWQ9dC51bml0X2lkLHRoaXMud2ZVbml0SWRzTmVlZFJlbmRlcj10aGlzLndmU2NoZWR1bGVyLnNjaGVkdWxlcigpLHRoaXMubG9jay5sb2FkPVxcXCJcXFwiO3RyeXt0aGlzLiRlbWl0KFxcXCJhZFNob3dcXFwiLGUpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXFxcImVycm9yXFxcIixlLm1lc3NhZ2UpO3ZhciBpPXtrZXk6XFxcIkNBTExCQUNLX0VSUk9SXFxcIix1bml0aWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6dGhpcy5yZXF1ZXN0SWQsbXNnOnQudW5pdF9pZCxtc2cxOlxcXCIyXFxcIixtc2cyOlxcXCJhZFNob3flm57osIPplJnor69cXFwiLG1zZzM6dGhpcy5oYW5kbGVHZXRFcnJNc2coZS5tZXNzYWdlKX07VmEuY2FsbCh0aGlzLGkpfX0sYWRDbGljazpmdW5jdGlvbih0LGUpe3RyeXt0aGlzLiRlbWl0KFxcXCJhZENsaWNrXFxcIixlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFxcXCJlcnJvclxcXCIsZS5tZXNzYWdlKTt2YXIgaT17a2V5OlxcXCJDQUxMQkFDS19FUlJPUlxcXCIsdW5pdGlkOnRoaXMucGxhY2VtZW50SWQscmVxdWVzdGlkOnRoaXMucmVxdWVzdElkLG1zZzp0LnVuaXRfaWQsbXNnMTpcXFwiNFxcXCIsbXNnMjpcXFwiYWRDbGlja+Wbnuiwg+mUmeivr1xcXCIsbXNnMzp0aGlzLmhhbmRsZUdldEVyck1zZyhlLm1lc3NhZ2UpfTtWYS5jYWxsKHRoaXMsaSl9fSxhZENsb3NlOmZ1bmN0aW9uKHQsZSl7dHJ5e3RoaXMuJGVtaXQoXFxcImFkQ2xvc2VcXFwiLGUpLHRoaXMuaGl0VW5pdElkPW51bGx9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcXFwiZXJyb3JcXFwiLGUubWVzc2FnZSk7dmFyIGk9e2tleTpcXFwiQ0FMTEJBQ0tfRVJST1JcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxtc2c6dC51bml0X2lkLG1zZzE6XFxcIjNcXFwiLG1zZzI6XFxcImFkQ2xvc2Xlm57osIPplJnor69cXFwiLG1zZzM6dGhpcy5oYW5kbGVHZXRFcnJNc2coZS5tZXNzYWdlKX07VmEuY2FsbCh0aGlzLGkpfX0sYWRSZXdhcmQ6ZnVuY3Rpb24odCxlKXt0cnl7dGhpcy4kZW1pdChcXFwiYWRSZXdhcmRcXFwiLGUpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXFxcImVycm9yXFxcIixlLm1lc3NhZ2UpO3ZhciBpPXtrZXk6XFxcIkNBTExCQUNLX0VSUk9SXFxcIix1bml0aWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6dGhpcy5yZXF1ZXN0SWQsbXNnOnQudW5pdF9pZCxtc2cxOlxcXCI1XFxcIixtc2cyOlxcXCJhZFJld2FyZOWbnuiwg+mUmeivr1xcXCIsbXNnMzp0aGlzLmhhbmRsZUdldEVyck1zZyhlLm1lc3NhZ2UpfTtWYS5jYWxsKHRoaXMsaSl9fSxhZEVycm9yOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixyLGEsbz10Lm53X2Zpcm1faWQsZD12b2lkIDA9PT1vP1xcXCJcXFwiOm8scz10LnVuaXRfaWQsbD10LndmSW5kZXgsYz1udWxsIT09KGk9bnVsbD09PShuPWUuZGV0YWlsKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb2RlKSYmdm9pZCAwIT09aT9pOnZvaWQgMCx1PXJ0LmNvZGVUb0V2ZW50KGQsYyl8fFxcXCJ1bmtub3duXFxcIjs5MDAxPT09Yz9kPT09dHQuQkFJRFUmJlsxLDMsNF0uaW5jbHVkZXModGhpcy5mb3JtYXQpfHxkPT09dHQuT1BQTyYmMj09PXRoaXMuZm9ybWF0P3RoaXMud2ZTY2hlZHVsZXIuc2V0RmFpbGVkKHQudW5pdF9pZCk6dGhpcy53ZlNjaGVkdWxlci5zZXRUaW1lb3V0KHQudW5pdF9pZCk6XFxcImxvYWRpbmdcXFwiIT09dSYmdGhpcy53ZlNjaGVkdWxlci5zZXRGYWlsZWQodC51bml0X2lkKTt2YXIgaD0yMmUzLHA9MSpjO2lmKGg9MWUzPD1wJiZwPDllMz9wKzJlNDo5ZTM8PXAmJnA8OTk5OT9wKzFlNDoyMmUzLFxcXCJsb2FkaW5nXFxcIiE9PXUmJiFbOWUzLDkwMDEsOTAwM10uaW5jbHVkZXMoYykpe3ZhciBmLHYsbT10aGlzLmFwaURhdGF8fHt9LF89bS50X2dfaWQsZz1tLmdyb19pZCx5PW0uYXNpZCxJPVxcXCIwXFxcIjs5MDA2PT09Yz9JPVxcXCI1XFxcIjo5MDA3PT09Yz9JPVxcXCI5XFxcIjo5MDA4PT09YyYmKEk9XFxcIjExXFxcIik7dmFyIGI9e2tleTpcXFwiUkVRVUVTVF9GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmcsdHJhZmZpY19ncm91cF9pZDpfLGFzaWQ6eSxtc2c6U3RyaW5nKGQpLG1zZzE6U3RyaW5nKHMpLG1zZzI6U3RyaW5nKGwpLG1zZzM6SSxtc2c0OlN0cmluZyhoKSxtc2c1OlN0cmluZyhudWxsIT09KGY9bnVsbD09ZXx8bnVsbD09PSh2PWUuZGV0YWlsKXx8dm9pZCAwPT09dj92b2lkIDA6di5tc2cpJiZ2b2lkIDAhPT1mP2Y6ZS5tc2cpLG1zZzg6U3RyaW5nKERhdGUubm93KCktdGhpcy51bml0TG9hZFN0YXJ0KX07VmEuY2FsbCh0aGlzLGIpfWlmKHRoaXMuaXNOZWVkRW1pdEVycm9yKHUpfHx0aGlzLmlzQnVzaW5lc3NFcnJvckNvZGUoYykpe3ZhciBrLHcseD1lLnR5cGU/ZTp7fTtpZihlLnR5cGUpe3ZhciBTLFQ7eC5kZXRhaWw9bnVsbCE9PShTPW51bGw9PWU/dm9pZCAwOmUuZGV0YWlsKSYmdm9pZCAwIT09Uz9TOnt9LHguZGV0YWlsLmNvZGU9aDt2YXIgQT17Y29kZTpoLG1zZzpudWxsPT1lfHxudWxsPT09KFQ9ZS5kZXRhaWwpfHx2b2lkIDA9PT1UP3ZvaWQgMDpULm1zZyx1bml0SWQ6cyxud0Zpcm1JZDpkfTt0aGlzLmFkRXJyb3JMaXN0LnB1c2goQSkseC5kZXRhaWwuZXJyb3JzPXRoaXMuYWRFcnJvckxpc3R9ZWxzZXt2YXIgRSxDLEQsTDt4Lm1zZz1udWxsIT09KEU9bnVsbD09ZXx8bnVsbD09PShDPWUuZGV0YWlsKXx8dm9pZCAwPT09Qz92b2lkIDA6Qy5tc2cpJiZ2b2lkIDAhPT1FP0U6ZS5tc2cseC5jb2RlPWg7dmFyIE89e2NvZGU6aCxtc2c6bnVsbCE9PShEPW51bGw9PWV8fG51bGw9PT0oTD1lLmRldGFpbCl8fHZvaWQgMD09PUw/dm9pZCAwOkwubXNnKSYmdm9pZCAwIT09RD9EOmUubXNnLHVuaXRJZDpzLG53RmlybUlkOmR9O3RoaXMuYWRFcnJvckxpc3QucHVzaChPKSx4LmVycm9ycz10aGlzLmFkRXJyb3JMaXN0fXZhciBSPXRoaXMucmVxdWVzdElkO2lmKHRoaXMubG9jay5hZEVycm9yPT09UilyZXR1cm47dGhpcy5sb2NrLmFkRXJyb3I9Ujt0cnl7dGhpcy4kZW1pdChcXFwiYWRFcnJvclxcXCIseCl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcXFwiZXJyb3JcXFwiLHQubWVzc2FnZSk7dmFyIFA9e2tleTpcXFwiQ0FMTEJBQ0tfRVJST1JcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxtc2c6cyxtc2cxOlxcXCI2XFxcIixtc2cyOlxcXCJhZEVycm9y5Zue6LCD6ZSZ6K+vXFxcIixtc2czOnRoaXMuaGFuZGxlR2V0RXJyTXNnKHQubWVzc2FnZSl9O1ZhLmNhbGwodGhpcyxQKX10aGlzLmxvY2subG9hZD1cXFwiXFxcIix0aGlzLnRpbWVySWQmJmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO3ZhciBVPXRoaXMuYXBpRGF0YXx8e30sJD1VLnRfZ19pZCxOPVUuZ3JvX2lkLGo9VS5hc2lkLEY9e2tleTpcXFwiTE9BRF9GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOk4sdHJhZmZpY19ncm91cF9pZDokLGFzaWQ6aixtc2c6U3RyaW5nKG51bGwhPT0oaz1udWxsPT1lfHxudWxsPT09KHc9ZS5kZXRhaWwpfHx2b2lkIDA9PT13P3ZvaWQgMDp3Lm1zZykmJnZvaWQgMCE9PWs/azplLm1zZyksbXNnMTpTdHJpbmcoaCl9O1ZhLmNhbGwodGhpcyxGKX1lbHNlIGlmKFxcXCJsb2FkaW5nXFxcIiE9PXUpe3RoaXMud2ZVbml0SWRzTmVlZFJlbmRlcj10aGlzLndmU2NoZWR1bGVyLnNjaGVkdWxlcigpO3ZhciBCPShudWxsPT1lP3ZvaWQgMDplLmRldGFpbCl8fHt9O0IuY29kZT1oLEIudW5pdElkPXMsQi5ud0Zpcm1JZD1kLHRoaXMuYWRFcnJvckxpc3QucHVzaChCKX12YXIgVz17Y29kZTpoLG1zZzpudWxsIT09KHI9bnVsbD09ZXx8bnVsbD09PShhPWUuZGV0YWlsKXx8dm9pZCAwPT09YT92b2lkIDA6YS5tc2cpJiZ2b2lkIDAhPT1yP3I6ZS5tc2d9O3RoaXMuZW1pdFdmVW5pdEV2ZW50KFxcXCJhZFVuaXRMb2FkRmFpbFxcXCIse3VuaXQ6dCxlcnJvcjpXfSl9LGFkRXJyb3JXZkVtcHR5OmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlxcXCLml6Dlub/lkYrmupDmlbDmja4v5bm/5ZGK5L2N5bey5YWz6ZetXFxcIixlPXtkZXRhaWw6e2NvZGU6OTAwMyxtc2c6dH19O3RoaXMuYWRFcnJvcih7fSxlKX0saXNOZWVkRW1pdEVycm9yOmZ1bmN0aW9uKHQpe3JldHVyblxcXCJsb2FkaW5nXFxcIiE9PXQmJighdGhpcy5hZHhCaWRkaW5nJiYhdGhpcy5oYkJpZGRpbmcmJihcXFwic2hvd1xcXCI9PT10fHx0aGlzLndmU2NoZWR1bGVyLmlzRmFpbGVkKCkpKX0saXNCdXNpbmVzc0Vycm9yQ29kZTpmdW5jdGlvbih0KXtyZXR1cm5bOTAwMiwxOTAwMiw5MDAzLDE5MDAzLDkwMDQsMTkwMDQsOTAwNSwxOTAwNV0uaW5jbHVkZXModCl9LGVtaXRXZlVuaXRFdmVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXN8fHt9LG49aS5mb3JtYXQscj1pLnJlcXVlc3RJZCxhPWUudW5pdCxvPXZvaWQgMD09PWE/e306YSxkPWUudW5pdEluZGV4LHM9dm9pZCAwPT09ZD8tMTpkLGw9ZS5pc0hlYWRlckJpZGRpbmcsYz12b2lkIDA9PT1sPzA6bCx1PWUuZXJyb3IsaD12b2lkIDA9PT11P3t9OnUscD1vLndmQWRPcHRpb24sZj12b2lkIDA9PT1wP3t9OnAsdj10aGlzLmdldFdmQWRFbWl0KG8pfHx7fSxtPXYuZWNwbSxfPXYuY3lFY3BtLGc9di51bml0SWQseT12LnVuaXRMZXZlbCxJPXYubndGaXJtSWQsYj12Lm53VW5pdElkLGs9e2Zvcm1hdDpuLHJlcXVlc3RJZDpyLGFiVGVzdElkOnYuYWJUZXN0SWQsc2VnbWVudElkOnYuc2VnbWVudElkLHVuaXRJZDpnLG53RmlybUlkOkksbndVbml0SWQ6YixlY3BtOm0sY3lFY3BtOl8saXNIZWFkZXJCaWRkaW5nOmMsdW5pdExldmVsOnksdW5pdEluZGV4OnMsZXJyb3I6aH07WzE5ZTMsMTkwMDYsMTkwMDddLmluY2x1ZGVzKG51bGw9PWg/dm9pZCAwOmguY29kZSl8fHRoaXMuaXNCdXNpbmVzc0Vycm9yQ29kZShudWxsPT1oP3ZvaWQgMDpoLmNvZGUpfHwoW1xcXCJhZFVuaXRCaWRkaW5nQXR0ZW1wdFxcXCIsXFxcImFkVW5pdEJpZGRpbmdGYWlsXFxcIl0uaW5jbHVkZXModCkmJihrLmVjcG09MCxrLmN5RWNwbT0wKSwoW1xcXCJhZFVuaXRCaWRkaW5nQXR0ZW1wdFxcXCIsXFxcImFkVW5pdEJpZGRpbmdGaWxsZWRcXFwiLFxcXCJhZFVuaXRCaWRkaW5nRmFpbFxcXCJdLmluY2x1ZGVzKHQpfHxbXFxcIjFcXFwiLFxcXCIyXFxcIl0uaW5jbHVkZXMobnVsbD09Zj92b2lkIDA6Zi5fdHlwZSkpJiYoay5pc0hlYWRlckJpZGRpbmc9MSksdGhpcy4kZW1pdCh0LGspKX0scmVwb3J0U2hvdzpmdW5jdGlvbigpe2lmKHYodGhpcy53ZkFkYXB0ZXIpKWNvbnNvbGUuZXJyb3IoXFxcIndmQWRhcHRlckluc3RhbmNlIG5vdCBleGlzdFxcXCIpO2Vsc2V7dmFyIHQ9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZSh0aGlzLndmQWRhcHRlci5pdGVtSWQpO3YodCk/Y29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIik6dm9pZCAwIT09dC5yZXBvcnRTaG93JiZ0LnJlcG9ydFNob3coKX19LHJlcG9ydENsaWNrOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntyZXBvcnRUb1Byb3ZpZGVyOiEwfTtpZih2KHRoaXMud2ZBZGFwdGVyKSljb25zb2xlLmVycm9yKFxcXCJ3ZkFkYXB0ZXJJbnN0YW5jZSBub3QgZXhpc3RcXFwiKTtlbHNle3ZhciBlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodGhpcy53ZkFkYXB0ZXIuaXRlbUlkKTt2KGUpP2NvbnNvbGUuZXJyb3IoXFxcIndmQWRhcHRlckluc3RhbmNlIG5vdCBleGlzdFxcXCIpOnZvaWQgMCE9PWUucmVwb3J0Q2xpY2smJmUucmVwb3J0Q2xpY2sodCl9fSxnZXRXZkFkYXB0ZXJJbnN0YW5jZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiB0PD0wJiYodD10aGlzLndmU2NoZWR1bGVyLml0ZW1JZFNlbGV0ZXIoKSksdGhpcy4kY2hpbGQodGhpcy5wbGFjZW1lbnRJZCtcXFwiL1xcXCIrdCl9LGdldFdmQWRPcHRpb246ZnVuY3Rpb24odCl7dmFyIGUsaT17fTtyZXR1cm4gbnVsbCE9dCYmdC5jb250ZW50JiYoaT1KU09OLnBhcnNlKHQuY29udGVudCkpLGkuX3VuaXRfaWQ9bnVsbD09dD92b2lkIDA6dC51bml0X2lkLGkuX253X3JlcV9udW09bnVsbD09dD92b2lkIDA6dC5ud19yZXFfbnVtLGkuX253X3RpbWVvdXQ9bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQubndfdGltZW91dCkmJnZvaWQgMCE9PWU/ZTo1ZTQsaS5fcmVxdWVzdF9pZD10aGlzLnJlcXVlc3RJZCxpfSxnZXRXZkFkRXh0cmE6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLHIsYTtyZXR1cm57dW5pdDp7dW5pdF9pZDp0LnVuaXRfaWQsbndfZmlybV9pZDp0Lm53X2Zpcm1faWQsZWNwbTp0LmVjcG0sbndfY2FjaGVfdGltZTp0Lm53X2NhY2hlX3RpbWUsY3lfZWNwbTp0LmN5X2VjcG0sY29udGVudDp0LmNvbnRlbnQsYmlkVGs6dC5iaWRUa3x8e319LHRyYWZmaWNHcm91cElkOm51bGw9PT0oZT10aGlzLmFwaURhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRfZ19pZCxzZWdtZW50SWQ6bnVsbD09PShpPXRoaXMuYXBpRGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZ3JvX2lkLGZvcm1hdDpudWxsPT09KG49dGhpcy5hcGlEYXRhKXx8dm9pZCAwPT09bj92b2lkIDA6bi5mb3JtYXQsYXNJZDpudWxsPT09KHI9dGhpcy5hcGlEYXRhKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hc2lkLGFkU291cmNlSWQ6dC51bml0X2lkLG53RmlybUlkOnQubndfZmlybV9pZCxlY3BtOnQuZWNwbSxjaGFubmVsSWQ6bnVsbD09PShhPXRoaXMuJGFwcCl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLiRkZWYpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS50b3Bvbl9zZGspfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmNoYW5uZWxJZCxwbGFjZW1lbnRJZDp0aGlzLnBsYWNlbWVudElkLGJpZFRrOnQuYmlkVGt8fHt9fX0sZ2V0V2ZBZEVtaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5lY3BtLGk9dC5jeV9lY3BtLG49dC5lY3BtX2xldmVsLHI9dC51bml0X2lkLGE9dC5ud19maXJtX2lkLG89dC5jb250ZW50LGQ9dm9pZCAwPT09bz9cXFwie31cXFwiOm8scz10aGlzLmFwaURhdGF8fHt9LGw9cy50X2dfaWQsYz1zLmdyb19pZCx1PXIsaD1hLHA9SlNPTi5wYXJzZShkKSxmPXRoaXMuZm9ybWF0O3JldHVybntlY3BtOmUsY3lFY3BtOmksdW5pdElkOnUsdW5pdExldmVsOm4sbndGaXJtSWQ6aCxud1VuaXRJZDpwW2l0W2hdXXx8XFxcIlxcXCIsY3VzdG9tRXh0OnAuY3VzdG9tX2V4dHx8bnVsbCxmb3JtYXQ6ZixhYlRlc3RJZDpsLHNlZ21lbnRJZDpjfX0saGFuZGxlUmVwb3J0VGs6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLHI9ZS5kZXRhaWwudHlwZSxhPW51bGwhPT0oaT1udWxsPT09KG49ZS5kZXRhaWwpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmFkKSYmdm9pZCAwIT09aT9pOm51bGw7XFxcIkFEX1JFUVVFU1RcXFwiPT09ciYmKHRoaXMuZW1pdFdmVW5pdEV2ZW50KFxcXCJhZFVuaXRMb2FkQXR0ZW1wdFxcXCIse3VuaXQ6dH0pLHRoaXMudW5pdExvYWRTdGFydD1EYXRlLm5vdygpKSxcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwiPT09ciYmKHRoaXMudW5pdExvYWRFbmQ9RGF0ZS5ub3coKSksdGhpcy5yZXBvcnRUa0RhdGEocix0LGEpfSxyZXBvcnRUa0RhdGE6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGE9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGwsbz10aGlzfHx7fSxkPW8ucGxhY2VtZW50TG9hZFN0YXJ0LHM9by5wbGFjZW1lbnRMb2FkRW5kLGw9by51bml0TG9hZFN0YXJ0LGM9by51bml0TG9hZEVuZCx1PW8ucGxhY2VtZW50SWQsaD1vLnJlcXVlc3RJZCxwPW8uZm9ybWF0LGY9by5yZXFVZ051bSx2PW8uYXBpRGF0YSxtPXZvaWQgMD09PXY/e306dixfPW0udF9nX2lkLGc9bS5ncm9faWQseT1tLmFzaWQsST1tLnBfYyxiPXZvaWQgMD09PUk/e306SSxrPXMtZCx3PWMtbCx4PXtwbGFjZW1lbnRJZDp1LHJlcXVlc3RJZDpoLGxvZ1R5cGU6dCx0cmFmZmljR3JvdXBJZDpfLHNlZ21lbnRJZDpnLGFzSWQ6eSxhZFNvdXJjZUlkOnIudW5pdF9pZHx8MCxud0Zpcm1JZDpyLm53X2Zpcm1faWR8fDAsZWNwbTpyLmVjcG18fDAsc1B0eTpyLnNfcHR5fHwwLGZvcm1hdDpwLHBsYWNlbWVudExvYWRUaW1lOmssdW5pdEZpbGxlZFRpbWU6dyxhZElkOm51bGwhPT0oZT1udWxsPT1hP3ZvaWQgMDphLmFkSWQpJiZ2b2lkIDAhPT1lP2U6XFxcIlxcXCIscmVxVWdOdW06ZixwQzpiLGJpZFRrOnIuYmlkVGt8fHt9LHdmVHlwZTpudWxsPT1yfHxudWxsPT09KGk9ci53ZkFkT3B0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5fdHlwZX0sUz1PYmplY3QudmFsdWVzKGV0KTtbXS5jb25jYXQoUyxbdHQuQURYXSkuaW5jbHVkZXMoci5ud19maXJtX2lkKSYmbnVsbCE9PShuPXIuYmlkVGspJiZ2b2lkIDAhPT1uJiZuLmJpZEZpbGxlZFRpbWUmJih4LnVuaXRGaWxsZWRUaW1lPXIuYmlkVGsuYmlkRmlsbGVkVGltZSksc28uY2FsbCh0aGlzLHgpfSxoYW5kbGVHZXRFcnJNc2c6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwMDtyZXR1cm5cXFwidW5saW1pdGVkXFxcIj09PWV8fGlzTmFOKGUpP3Q6dC5zbGljZSgwLGUpfSxoaWRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53ZlNjaGVkdWxlci5zZWxlY3RlcihcXFwiU1RBVFVTX1NIT1dFRFxcXCIpO2lmKHQpe3ZhciBlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodC5pdGVtSWQpO251bGwhPWUmJmUuaGlkZSYmKGUuaGlkZSgpLHRoaXMuaGl0VW5pdElkPW51bGwpfWVsc2UgY29uc29sZS5lcnJvcihcXFwiaGlkZSBlcnJvciwgd2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIil9LHRrUmVwb3J0V2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbCxpPWUudW5pdCxuPWUuYWRhcHRlcjt0aGlzLmhhbmRsZVJlcG9ydFRrKGksbil9LGFkTG9hZFdhdGNoZXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZXRhaWwsaT1lLnVuaXQsbj1lLmFkYXB0ZXI7dGhpcy5hZExvYWQoaSxuKX0sYWRTaG93V2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbC51bml0O3RoaXMuYWRTaG93KGUse30pfSxhZENsaWNrV2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbC51bml0O3RoaXMuYWRDbGljayhlLHt9KX0sYWRDbG9zZVdhdGNoZXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZXRhaWwsaT1lLnVuaXQsbj1lLmFkYXB0ZXI7dGhpcy5hZENsb3NlKGksbil9LGFkUmV3YXJkV2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbCxpPWUudW5pdCxuPWUuYWRhcHRlcjt0aGlzLmFkUmV3YXJkKGksbil9LGFkRXJyb3JXYXRjaGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGV0YWlsLGk9ZS51bml0LG49ZS5hZGFwdGVyO3RoaXMuYWRFcnJvcihpLG4pfSxnZXREb3dubG9hZFN0YXR1czpmdW5jdGlvbigpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgdD10aGlzLndmQWRhcHRlcixlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodC5pdGVtSWQpO2lmKHYoZSkpY29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIik7ZWxzZSBpZihlLmdldERvd25sb2FkU3RhdHVzKXJldHVybiBlLmdldERvd25sb2FkU3RhdHVzKCl9fSxnZXREb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKHQpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgZT10aGlzLndmQWRhcHRlcixpPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UoZS5pdGVtSWQpO2lmKHYoaSkpY29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIik7ZWxzZSBpZihpLmdldERvd25sb2FkUHJvZ3Jlc3MpcmV0dXJuIGkuZ2V0RG93bmxvYWRQcm9ncmVzcygpfX0sc3Vic2NyaWJlRG93bmxvYWRTdGF0dXM6ZnVuY3Rpb24odCl7aWYodGhpcy53ZkFkYXB0ZXIpe3ZhciBlPXRoaXMud2ZBZGFwdGVyLGk9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZShlLml0ZW1JZCk7aWYoIXYoaSkmJmkuc3Vic2NyaWJlRG93bmxvYWRTdGF0dXMpcmV0dXJuIGkuc3Vic2NyaWJlRG93bmxvYWRTdGF0dXModCl9fSx1bnN1YnNjcmliZURvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKCl7aWYodGhpcy53ZkFkYXB0ZXIpe3ZhciB0PXRoaXMud2ZBZGFwdGVyLGU9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZSh0Lml0ZW1JZCk7aWYoIXYoZSkmJmUudW5zdWJzY3JpYmVEb3dubG9hZFN0YXR1cylyZXR1cm4gZS51bnN1YnNjcmliZURvd25sb2FkU3RhdHVzKCl9fSxzdWJzY3JpYmVEb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKHQpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgZT10aGlzLndmQWRhcHRlcixpPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UoZS5pdGVtSWQpO2lmKCF2KGkpJiZpLnN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3MpcmV0dXJuIGkuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzcyh0KX19LHVuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzczpmdW5jdGlvbigpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgdD10aGlzLndmQWRhcHRlcixlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodC5pdGVtSWQpO2lmKCF2KGUpJiZlLnVuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzcylyZXR1cm4gZS51bnN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3MoKX19LHNob3dBcHBEZXRhaWxQYWdlOmZ1bmN0aW9uKCl7aWYodGhpcy53ZkFkYXB0ZXIpe3ZhciB0PXRoaXMud2ZBZGFwdGVyLGU9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZSh0Lml0ZW1JZCk7aWYoIXYoZSkmJmUuc2hvd0FwcERldGFpbFBhZ2UpcmV0dXJuIGUuc2hvd0FwcERldGFpbFBhZ2UoKX19fSxlZD17bGFuZGluZ0NvbnRhaW5lcjp7bWFyZ2luVG9wOlxcXCIwXFxcIixmbGV4OjEsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIn0sbGFuZGluZ1dlYjp7ZmxleDoxfSxsb2FkaW5nQ29udGFpbmVyOntmbGV4OjEsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwifSxsb2FkaW5nVGV4dDp7Zm9udFNpemU6XFxcIjMwcHhcXFwiLGNvbG9yOlxcXCIjNzg3ODc4XFxcIix0ZXh0QWxpZ246XFxcImNlbnRlclxcXCJ9LGxhbmRpbmdCYXI6e3dpZHRoOlxcXCIxMDAlXFxcIixoZWlnaHQ6XFxcIjEwMHB4XFxcIixiYWNrZ3JvdW5kQ29sb3I6XFxcIiNmN2Y2ZjZcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCJ9LGxhbmRpbmdCdG46e2hlaWdodDpcXFwiNTBweFxcXCIsd2lkdGg6XFxcIjUwcHhcXFwiLHBhZGRpbmc6XFxcIjVweFxcXCIsbWFyZ2luTGVmdDpcXFwiMjBweFxcXCIsZm9udFNpemU6XFxcIjMycHhcXFwiLGZvbnRXZWlnaHQ6XFxcImJvbGRlclxcXCJ9LGxhbmRpbmdUaXRsZTp7dGV4dEFsaWduOlxcXCJjZW50ZXJcXFwiLGZvbnRTaXplOlxcXCI0MHB4XFxcIixmb250V2VpZ2h0OlxcXCJib2xkZXJcXFwiLHdpZHRoOlxcXCIxMDAlXFxcIixjb2xvcjpcXFwiIzMzM1xcXCJ9fSxpZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLmFkU3R5bGU9ZWQ7dmFyIHQ9dGhpcy4kYXBwLiRkZWYubWFuaWZlc3QuZGlzcGxheS5wYWdlczt0JiZ0W1xcXCJUb3BPbi9BZExhbmRpbmdcXFwiXSYmdFtcXFwiVG9wT24vQWRMYW5kaW5nXFxcIl0uZnVsbFNjcmVlbiYmIXRbXFxcIlRvcE9uL0FkTGFuZGluZ1xcXCJdLnRpdGxlQmFyJiYodGhpcy5pc0Z1bGxTY3JlZW49ITApfSxvblBhZ2VTdGFydDpmdW5jdGlvbih0KXt9LG9uUGFnZUZpbmlzaDpmdW5jdGlvbih0KXt9LG9uVGl0bGVSZWNlaXZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy4kcGFnZS5zZXRUaXRsZUJhcih7dGV4dDp0LnRpdGxlfSksdGhpcy50aXRsZT10LnRpdGxlLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5pc0xvYWRpbmc9ITF9KSwxMCl9LG9uRXJyb3I6ZnVuY3Rpb24odCl7fSxvblByb2dyZXNzOmZ1bmN0aW9uKHQpe30sb25CYWNrOmZ1bmN0aW9uKHQpe1MoKS5yb3V0ZXIuYmFjaygpfX19LG5kPVt7bmFtZTpcXFwib25TdWJtaXRcXFwiLHR5cGU6XFxcInN1Ym1pdFxcXCIsbGFiZWw6XFxcIuaPkOS6pFxcXCJ9XSxyZD1be2xhYmVsOlxcXCLlvILluLjlub/lkYpcXFwiLHBhcmVudElkOlxcXCIxXFxcIixncm91cHM6W3tpZDpcXFwiMTFcXFwiLGNoaWxkcmVuOlt7bGFiZWw6XFxcIuW5v+WRiuWNoemhv1xcXCIsdmFsdWU6XFxcIjFcXFwifSx7bGFiZWw6XFxcIum7keeZveWxj1xcXCIsdmFsdWU6XFxcIjJcXFwifSx7bGFiZWw6XFxcIuaXoOazleWFs+mXrVxcXCIsdmFsdWU6XFxcIjNcXFwifV19XX0se2xhYmVsOlxcXCLkuL7miqXlub/lkYpcXFwiLHBhcmVudElkOlxcXCIyXFxcIixncm91cHM6W3tpZDpcXFwiMjJcXFwiLGNoaWxkcmVuOlt7bGFiZWw6XFxcIuivseWvvOeCueWHu1xcXCIsdmFsdWU6XFxcIjRcXFwifSx7bGFiZWw6XFxcIui/neazlei/neinhFxcXCIsdmFsdWU6XFxcIjVcXFwifSx7bGFiZWw6XFxcIuiZmuWBh+asuuiviFxcXCIsdmFsdWU6XFxcIjZcXFwifV19LHtpZDpcXFwiMjNcXFwiLGNoaWxkcmVuOlt7bGFiZWw6XFxcIuWGheWuueaKhOiirVxcXCIsdmFsdWU6XFxcIjdcXFwifSx7bGFiZWw6XFxcIuWGheWuueS9juS/l1xcXCIsdmFsdWU6XFxcIjhcXFwifSx7bGFiZWw6XFxcIuS4jeaEn+WFtOi2o1xcXCIsdmFsdWU6XFxcIjlcXFwifV19XX1dLGFkPXthZFByb3h5RXZlbnQ6e29uSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJGFwcC4kZGVmLm1hbmlmZXN0LmRpc3BsYXkucGFnZXM7dCYmdFtcXFwiVG9wT24vQWRSZXdhcmRcXFwiXSYmdFtcXFwiVG9wT24vQWRSZXdhcmRcXFwiXS5mdWxsU2NyZWVuJiYhdFtcXFwiVG9wT24vQWRSZXdhcmRcXFwiXS50aXRsZUJhciYmKHRoaXMuaXNGdWxsU2NyZWVuPSEwKSx0aGlzLnNldEluaXRpYWxEYXRhKCksdGhpcy5nZXRBZERhdGFDYWNoZSgpfSxvbkNoZWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXttc2czOnQuZGV0YWlsLmRhdGEudmFsdWUsbXNnNDpcXFwiMFxcXCJ9O3RoaXMuZmVlZGJhY2tTdWJtaXRFcnJvcj0hMSx0aGlzLnN1Ym1pdEZlZWRiYWNrKGUpLHRoaXMuaGlkZURpYWxvZygpfSxvbklucHV0OmZ1bmN0aW9uKHQpe3RoaXMuZmVlZGJhY2tJbnB1dFZhbHVlPXQuZGV0YWlsLmRhdGF8fFxcXCJcXFwiLHQuZGV0YWlsLmRhdGEmJih0aGlzLmZlZWRiYWNrU3VibWl0RXJyb3I9ITEpfSxvblN1Ym1pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZmVlZGJhY2tJbnB1dFZhbHVlO2lmKHQpe3ZhciBlPXttc2czOlxcXCIwXFxcIixtc2c0OnR9O3RoaXMuc3VibWl0RmVlZGJhY2soZSksdGhpcy5oaWRlRGlhbG9nKCl9ZWxzZSB0aGlzLmZlZWRiYWNrU3VibWl0RXJyb3I9ITB9LG9uU2hvd0RpYWxvZzpmdW5jdGlvbigpe3RoaXMuc2hvd0RpYWxvZygpfSxvbkhpZGVEaWFsb2c6ZnVuY3Rpb24oKXt0aGlzLmhpZGVEaWFsb2coKX0sb25Ub3VjaFN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXQudGltZXN0YW1wfHxEYXRlLm5vdygpLG49ZShlKHt9LHQuZGV0YWlsLmRldGFpbC50b3VjaGVzWzBdfHx7fSkse30se3RpbWVzdGFtcDppfSk7dGhpcy5kaXNwYXRjaFJld2FyZGVkVmlkZW9FdmVudChcXFwiYWRUb3VjaFxcXCIse3R5cGU6XFxcInN0YXJ0XFxcIixkYXRhOm59KX0sb25Ub3VjaE1vdmU6ZnVuY3Rpb24odCl7fSxvblRvdWNoRW5kOmZ1bmN0aW9uKHQpe3ZhciBpPXQudGltZXN0YW1wfHxEYXRlLm5vdygpLG49ZShlKHt9LHQuZGV0YWlsLmRldGFpbC5jaGFuZ2VkVG91Y2hlc1swXXx8e30pLHt9LHt0aW1lc3RhbXA6aX0pO3RoaXMuZGlzcGF0Y2hSZXdhcmRlZFZpZGVvRXZlbnQoXFxcImFkVG91Y2hcXFwiLHt0eXBlOlxcXCJlbmRcXFwiLGRhdGE6bn0pfSxvbkFkQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5kaXNwYXRjaFJld2FyZGVkVmlkZW9FdmVudChcXFwiYWRDbGlja1xcXCIsdCl9LG9uQWRDbG9zZTpmdW5jdGlvbih0KXtpZih0aGlzLm9uVmlkZW9QYXVzZSgpLHRoaXMuY3VycmVudENvdW50ZG93bil7dmFyIGU9UygpLnByb21wdCxpPXRoaXM7ZS5zaG93RGlhbG9nKHttZXNzYWdlOlxcXCLop4LnnIvop4bpopHmu6FcXFwiLmNvbmNhdCh0aGlzLmNvdW50ZG93bkluaXRpYWwsXFxcIuenkuWNs+WPr+iOt+W+l+a/gOWKse+8jOehruWumuimgeemu+W8gOWQl++8n1xcXCIpLGJ1dHRvbnM6W3t0ZXh0OlxcXCLnu6fnu63op4LnnIvop4bpopFcXFwifSx7dGV4dDpcXFwi5pS+5byD5r+A5Yqx56a75byAXFxcIn1dLHN1Y2Nlc3M6ZnVuY3Rpb24odCl7XFxcIjFcXFwiPT10LmluZGV4PyhpLmRpc3BhdGNoUmV3YXJkZWRWaWRlb0V2ZW50KFxcXCJhZENsb3NlXFxcIix7cmV3YXJkOiExfSksaS5vbkJhY2soKSk6aS5vblZpZGVvQ29udGludWUoKX0sY2FuY2VsOmZ1bmN0aW9uKCl7aS5vblZpZGVvQ29udGludWUoKX0sZmFpbDpmdW5jdGlvbigpe2kub25WaWRlb0NvbnRpbnVlKCl9fSl9ZWxzZSB0aGlzLmRpc3BhdGNoUmV3YXJkZWRWaWRlb0V2ZW50KFxcXCJhZENsb3NlXFxcIix7cmV3YXJkOiEwfSksdGhpcy5vbkJhY2soKX0sb25BZFNob3c6KFpvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLG8sZDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG49dGhpcy5vcHRpb24uX3JlcXVlc3RfaWQrXFxcIi9cXFwiK3RoaXMuYWRVbml0SWQsdGhpcy5sb2NrQWRBcHBlYXIhPT1uKXt0Lm5leHQ9MzticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMzpyZXR1cm4gdGhpcy5sb2NrQWRBcHBlYXI9bixyPURhdGUubm93KCksdC5uZXh0PTcsdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtjYXNlIDc6YT10LnNlbnQsbz1EYXRlLm5vdygpLGQ9by1yLHRoaXMuZGlzcGF0Y2hSZXdhcmRlZFZpZGVvRXZlbnQoXFxcImFkSW1wcmVzc2lvblxcXCIse2NsaWVudFJlY3Q6YSxkaWZmOmR9KTtjYXNlIDExOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24odCl7cmV0dXJuIFpvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG9uUGF1c2U6ZnVuY3Rpb24oKXt0aGlzLm9uVmlkZW9QYXVzZSgpfSxvbkNvbnRpbnVlOmZ1bmN0aW9uKCl7dGhpcy5vblZpZGVvQ29udGludWUoKX19LHN1Ym1pdEZlZWRiYWNrOmZ1bmN0aW9uKHQpe3RoaXMuZGlzcGF0Y2hSZXdhcmRlZFZpZGVvRXZlbnQoXFxcImFkRmVlZGJhY2tcXFwiLHQpLHRoaXMuZmVlZGJhY2tTdWJtaXRlZD0hMH0sc2hvd0RpYWxvZzpmdW5jdGlvbigpe3RoaXMuZmVlZGJhY2tEaWFsb2dWaXNpYmxlPSEwLHRoaXMub25WaWRlb1BhdXNlKCl9LGhpZGVEaWFsb2c6ZnVuY3Rpb24oKXt0aGlzLmZlZWRiYWNrRGlhbG9nVmlzaWJsZT0hMSx0aGlzLm9uVmlkZW9Db250aW51ZSgpfSxzZXRJbml0aWFsRGF0YTpmdW5jdGlvbigpe3RoaXMuZmVlZGJhY2tEaWFsb2dCdXR0b25zPW5kLHRoaXMuZmVlZGJhY2tTZWxlY3RPcHRpb25zPXJkfSxnZXRBZERhdGFDYWNoZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxuPVxcXCJcXFwiLmNvbmNhdCh0aGlzLnBsSWQsXFxcIi9cXFwiKS5jb25jYXQodGhpcy5hZFVuaXRJZCkscj1qLmNhbGwodGhpcyxcXFwiYWR4UmV3YXJkZWRWaWRlb1xcXCIsbik7dGhpcy5hZERhdGE9bnVsbCE9PSh0PW51bGw9PXI/dm9pZCAwOnIuYWREYXRhKSYmdm9pZCAwIT09dD90Ont9LHRoaXMuYWRTdHlsZT1udWxsIT09KGU9bnVsbD09cj92b2lkIDA6ci5hZFN0eWxlKSYmdm9pZCAwIT09ZT9lOnt9LHRoaXMub3B0aW9uPW51bGwhPT0oaT1udWxsPT1yP3ZvaWQgMDpyLm9wdGlvbikmJnZvaWQgMCE9PWk/aTp7fTt2YXIgYT1OdW1iZXIodGhpcy5vcHRpb24uX2NvdW50ZG93bik7dGhpcy5jb3VudGRvd25Jbml0aWFsPWEsdGhpcy5jdXJyZW50Q291bnRkb3duPWEsdGhpcy5vbkNvdW50ZG93bih0aGlzLmN1cnJlbnRDb3VudGRvd24pfSxvbkNvdW50ZG93bjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHQpe3ZhciBpPXQ7dGhpcy5jdXJyZW50Q291bnRkb3duPWksdGhpcy5jb3VudGRvd25UaW1lcklkJiZjbGVhckludGVydmFsKHRoaXMuY291bnRkb3duVGltZXJJZCksdGhpcy5jb3VudGRvd25UaW1lcklkPXNldEludGVydmFsKChmdW5jdGlvbigpe2ktLSxlLmN1cnJlbnRDb3VudGRvd249aSxpPDEmJmUub25WaWRlb0ZpbmlzaCgpfSksMWUzKX19LG9uVmlkZW9GaW5pc2g6ZnVuY3Rpb24oKXt0aGlzLm9uVmlkZW9QYXVzZSgpfSxvblZpZGVvUGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmNvdW50ZG93blRpbWVySWQmJmNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25UaW1lcklkKX0sb25WaWRlb0NvbnRpbnVlOmZ1bmN0aW9uKCl7dGhpcy5vbkNvdW50ZG93bih0aGlzLmN1cnJlbnRDb3VudGRvd24pfSxvbkJhY2s6ZnVuY3Rpb24oKXt2YXIgdD1TKCkucm91dGVyO3RoaXMubG9ja0FkQXBwZWFyPVxcXCJcXFwiLHQuYmFjaygpfSxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRlbGVtZW50KFxcXCJ0b3Atb24tYWR4LWNvbnRhaW5lci1cXFwiLmNvbmNhdCh0aGlzLmFkVW5pdElkKSk7cmV0dXJuIHQ/bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSxmYWlsOmZ1bmN0aW9uKCl7cmV0dXJuIGUoe30pfX0pfSkpOnt9fSxkaXNwYXRjaFJld2FyZGVkVmlkZW9FdmVudDpmdW5jdGlvbih0KXt2YXIgZSxpPVxcXCJcXFwiLmNvbmNhdCh0aGlzLnBsSWQsXFxcIi9cXFwiKS5jb25jYXQodGhpcy5hZFVuaXRJZCk7aWYobnVsbCE9PShlPXRoaXMuJGFwcC4kZGVmLnRvcG9uX3NkaykmJnZvaWQgMCE9PWUmJmUucmV3YXJkZWRWaWRlb1tpXSl7Zm9yKHZhciBuLHIsYT1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KGE+MT9hLTE6MCksZD0xO2Q8YTtkKyspb1tkLTFdPWFyZ3VtZW50c1tkXTtudWxsPT09KG49dGhpcy4kYXBwLiRkZWYudG9wb25fc2RrKXx8dm9pZCAwPT09bnx8KHI9bi5yZXdhcmRlZFZpZGVvW2ldKVt0XS5hcHBseShyLG8pfX19LG9kPXtjb250YWluZXJTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIix3aWR0aDpcXFwiMTAwJVxcXCIscGFkZGluZ1RvcDpcXFwiMTBweFxcXCIscGFkZGluZ1JpZ2h0OlxcXCIxMHB4XFxcIixwYWRkaW5nQm90dG9tOlxcXCIxMHB4XFxcIixwYWRkaW5nTGVmdDpcXFwiMTBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIix3aWR0aDpcXFwiMTAwJVxcXCJ9LG1haW5TdHlsZTp7ZmxleDoxLGZsZXhEaXJlY3Rpb246XFxcImNvbHVtblxcXCJ9LGhlYWRlclN0eWxlOntmbGV4OjEsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIn0sZm9vdGVyU3R5bGU6e2ZsZXhEaXJlY3Rpb246XFxcInJvd1xcXCJ9LGltZ1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsb3ZlcmZsb3c6XFxcImhpZGRlblxcXCIsYm9yZGVyUmFkaXVzOlxcXCIxMHB4XFxcIixqdXN0aWZ5Q29udGVudDpcXFwiZmxleC1lbmRcXFwiLHBvc2l0aW9uOlxcXCJyZWxhdGl2ZVxcXCJ9LGltZ1Byb3BlcnRpZXNTdHlsZTp7d2lkdGg6XFxcIjEwMCVcXFwiLG9iamVjdEZpdDpcXFwiZmlsbFxcXCJ9LHRpdGxlU3R5bGU6e3BhZGRpbmc6XFxcIjEwcHhcXFwiLGxpbmVIZWlnaHQ6XFxcIjQwcHhcXFwiLGZvbnRTaXplOlxcXCIzNnB4XFxcIixmb250V2VpZ2h0OjcwMCxjb2xvcjpcXFwicmdiKDQ0LCA2MiwgODgpXFxcIix0ZXh0T3ZlcmZsb3c6XFxcImVsbGlwc2lzXFxcIixsaW5lczpcXFwiMVxcXCJ9LGRlc2NTdHlsZTp7bWFyZ2luUmlnaHQ6XFxcIjIwcHhcXFwiLG1hcmdpblRvcDpcXFwiMTJweFxcXCIsZm9udFNpemU6XFxcIjI0cHhcXFwiLGNvbG9yOlxcXCJyZ2IoNDQsIDYyLCA4OClcXFwiLHRleHRPdmVyZmxvdzpcXFwiZWxsaXBzaXNcXFwiLGxpbmVzOlxcXCIxXFxcIixkaXNwbGF5OlxcXCJub25lXFxcIn0sYnV0dG9uU3R5bGU6e3dpZHRoOlxcXCIxMDAlXFxcIixwYWRkaW5nVG9wOlxcXCIyMHB4XFxcIixwYWRkaW5nUmlnaHQ6XFxcIjIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjIwcHhcXFwiLHBhZGRpbmdMZWZ0OlxcXCIyMHB4XFxcIixib3JkZXJSYWRpdXM6XFxcIjIwcHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwiI2ZmOWUyYlxcXCIsdGV4dEFsaWduOlxcXCJjZW50ZXJcXFwiLGZvbnRTaXplOlxcXCIyNHB4XFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCJ9LGNsb3NlU3R5bGU6e2Nsb3NlQ29udGFpbmVyOntwb3NpdGlvbjpcXFwiYWJzb2x1dGVcXFwiLHJpZ2h0OlxcXCIxNXB4XFxcIix0b3A6XFxcIjE1cHhcXFwiLHpJbmRleDpcXFwiMTAwXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLHRyYW5zZm9ybTpcXFwidHJhbnNsYXRlWSgwcHgpXFxcIn0sY2xvc2VDbGlja0FyZWE6e3dpZHRoOlxcXCI0OHB4XFxcIixoZWlnaHQ6XFxcIjQ4cHhcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsYm9yZGVyUmFkaXVzOlxcXCI1MCVcXFwiLGNvbG9yOlxcXCIjRkZGRkZGXFxcIixmb250U2l6ZTpcXFwiMjRweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJ0cmFuc3BhcmVudFxcXCJ9LGNsb3NlQnRuOnt3aWR0aDpcXFwiNDhweFxcXCIsaGVpZ2h0OlxcXCI0OHB4XFxcIixqdXN0aWZ5Q29udGVudDpcXFwiY2VudGVyXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGJvcmRlclJhZGl1czpcXFwiNTAlXFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCIsZm9udFNpemU6XFxcIjI0cHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgwLCAwLCAwLCAuNClcXFwifX0sbG9nb1N0eWxlOntsb2dvQ29udGFpbmVyOntoZWlnaHQ6XFxcIjMwcHhcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsYWxpZ25TZWxmOlxcXCJmbGV4LWVuZFxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtZW5kXFxcIixtYXJnaW5Cb3R0b206XFxcIjRweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjRweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJyZ2JhKDE1MywgMTUzLCAxNTMsIDAuOClcXFwifSxsb2dvSW1nOnt3aWR0aDpcXFwiNzBweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjJweFxcXCIsZGlzcGxheTpcXFwiZmxleFxcXCJ9fX0sZGQ9ezI6e2NvbnRhaW5lclN0eWxlOntwYWRkaW5nVG9wOlxcXCIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwicm93LXJldmVyc2VcXFwifSxoZWFkZXJTdHlsZTp7anVzdGlmeUNvbnRlbnQ6XFxcInNwYWNlLWJldHdlZW5cXFwifSxmb290ZXJTdHlsZTp7anVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtZW5kXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwifSxpbWdTdHlsZTp7d2lkdGg6XFxcIjE3NXB4XFxcIixoZWlnaHQ6XFxcIjEwMHB4XFxcIixtYXJnaW5MZWZ0OlxcXCIyMHB4XFxcIn0saW1nUHJvcGVydGllc1N0eWxlOntoZWlnaHQ6XFxcIjEwMCVcXFwifSx0aXRsZVN0eWxlOntwYWRkaW5nOlxcXCIwcHhcXFwiLGZvbnRTaXplOlxcXCIzMHB4XFxcIixsaW5lSGVpZ2h0OlxcXCIzNnB4XFxcIn0sZGVzY1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsbWFyZ2luUmlnaHQ6XFxcIjBcXFwiLG1hcmdpblRvcDpcXFwiMHB4XFxcIixkaXNwbGF5OlxcXCJmbGV4XFxcIn0sYnV0dG9uU3R5bGU6e3dpZHRoOlxcXCJhdXRvXFxcIixwYWRkaW5nVG9wOlxcXCI4cHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjhweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJ0cmFuc3BhcmVudFxcXCIsYm9yZGVyV2lkdGg6XFxcIjFweFxcXCIsYm9yZGVyQ29sb3I6XFxcInJnYig0NCwgNjIsIDg4KVxcXCIsYm9yZGVyU3R5bGU6XFxcInNvbGlkXFxcIixjb2xvcjpcXFwicmdiKDQ0LCA2MiwgODgpXFxcIn0sY2xvc2VTdHlsZTp7Y2xvc2VCdG46e3dpZHRoOlxcXCIzMnB4XFxcIixoZWlnaHQ6XFxcIjMycHhcXFwiLGNvbG9yOlxcXCJyZ2IoNDQsIDYyLCA4OClcXFwiLGJvcmRlclJhZGl1czpcXFwiMFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJ0cmFuc3BhcmVudFxcXCJ9LGNsb3NlQ2xpY2tBcmVhOnt3aWR0aDpcXFwiMzJweFxcXCIsaGVpZ2h0OlxcXCIzMnB4XFxcIixib3JkZXJSYWRpdXM6XFxcIjBcXFwifX19LDM6e2NvbnRhaW5lclN0eWxlOntwYWRkaW5nVG9wOlxcXCIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwicm93XFxcIn0saW1nU3R5bGU6e3dpZHRoOlxcXCIxNzVweFxcXCIsaGVpZ2h0OlxcXCIxMDBweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjIwcHhcXFwifSxpbWdQcm9wZXJ0aWVzU3R5bGU6e2hlaWdodDpcXFwiMTAwJVxcXCJ9LHRpdGxlU3R5bGU6e3BhZGRpbmc6XFxcIjBweFxcXCIsZm9udFNpemU6XFxcIjMwcHhcXFwiLGxpbmVIZWlnaHQ6XFxcIjM2cHhcXFwifSxkZXNjU3R5bGU6e21hcmdpblJpZ2h0OlxcXCIwcHhcXFwiLG1hcmdpblRvcDpcXFwiMTJweFxcXCIsZGlzcGxheTpcXFwiZmxleFxcXCJ9LGJ1dHRvblN0eWxlOnt3aWR0aDpcXFwiYXV0b1xcXCIscGFkZGluZ1RvcDpcXFwiOHB4XFxcIixwYWRkaW5nQm90dG9tOlxcXCI4cHhcXFwifSxtYWluU3R5bGU6e2ZsZXhEaXJlY3Rpb246XFxcInJvd1xcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtc3RhcnRcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCJ9LGZvb3RlclN0eWxlOnthbGlnblNlbGY6XFxcImNlbnRlclxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtZW5kXFxcIn0sY2xvc2VTdHlsZTp7Y2xvc2VDb250YWluZXI6e3RvcDpcXFwiMHB4XFxcIixyaWdodDpcXFwiMHB4XFxcIn0sY2xvc2VCdG46e3dpZHRoOlxcXCIzMnB4XFxcIixoZWlnaHQ6XFxcIjMycHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgwLCAwLCAwLCAuNClcXFwiLGJvcmRlclJhZGl1czpcXFwiMFxcXCJ9LGNsb3NlQ2xpY2tBcmVhOnt3aWR0aDpcXFwiMzJweFxcXCIsaGVpZ2h0OlxcXCIzMnB4XFxcIixib3JkZXJSYWRpdXM6XFxcIjBcXFwifX19LDQ6e2NvbnRhaW5lclN0eWxlOntwYWRkaW5nVG9wOlxcXCIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwicm93XFxcIn0saW1nU3R5bGU6e3dpZHRoOlxcXCIzMTVweFxcXCIsaGVpZ2h0OlxcXCIxODBweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjIwcHhcXFwifSxpbWdQcm9wZXJ0aWVzU3R5bGU6e2hlaWdodDpcXFwiMTAwJVxcXCJ9LHRpdGxlU3R5bGU6e3BhZGRpbmc6XFxcIjBweFxcXCIsZm9udFNpemU6XFxcIjMwcHhcXFwifSxkZXNjU3R5bGU6e21hcmdpblJpZ2h0OlxcXCIwcHhcXFwiLGRpc3BsYXk6XFxcImZsZXhcXFwifSxidXR0b25TdHlsZTp7d2lkdGg6XFxcImF1dG9cXFwiLHBhZGRpbmdUb3A6XFxcIjhweFxcXCIscGFkZGluZ0JvdHRvbTpcXFwiOHB4XFxcIn0sZm9vdGVyU3R5bGU6e2p1c3RpZnlDb250ZW50OlxcXCJmbGV4LWVuZFxcXCJ9LGNsb3NlU3R5bGU6e2Nsb3NlQ29udGFpbmVyOnt0b3A6XFxcIjBweFxcXCIscmlnaHQ6XFxcIjBweFxcXCJ9LGNsb3NlQnRuOnt3aWR0aDpcXFwiMzJweFxcXCIsaGVpZ2h0OlxcXCIzMnB4XFxcIixiYWNrZ3JvdW5kQ29sb3I6XFxcInJnYmEoMCwgMCwgMCwgLjQpXFxcIixib3JkZXJSYWRpdXM6XFxcIjBcXFwifSxjbG9zZUNsaWNrQXJlYTp7d2lkdGg6XFxcIjMycHhcXFwiLGhlaWdodDpcXFwiMzJweFxcXCIsYm9yZGVyUmFkaXVzOlxcXCIwXFxcIn19fX07ZnVuY3Rpb24gc2QodCl7dmFyIGksbj10Lm5hbWUsYT10LnByb3h5TmFtZSxvPXZvaWQgMD09PWE/bnVsbDphLGQ9dC5wYXJhbXMscz12b2lkIDA9PT1kP3t9OmQsbD10LnByb3h5UGFyYW1zLGM9dm9pZCAwPT09bD97fTpsO3RyeXtpZihudWxsPT10aGlzfHwhdGhpcy4kZGlzcGF0Y2h8fG51bGw9PXRoaXN8fCF0aGlzLmFkRXh0cmEpcmV0dXJuO3ZhciB1PW98fFxcXCJwcm94eVxcXCIuY29uY2F0KChpPW4pLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc2xpY2UoMSkpLGg9SlNPTi5wYXJzZShmdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZcXFwib2JqZWN0XFxcIiE9cih0W2ldKSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIHRbaV0mJihlW2ldPXRbaV0pO3JldHVybiBKU09OLnN0cmluZ2lmeShlKX0odGhpcy5hZEV4dHJhLnVuaXQpKTt0aGlzLiRkaXNwYXRjaCh1LGUoe3VuaXQ6aCxhZGFwdGVyOntkZXRhaWw6ZSh7fSxzKX19LGMpKX1jYXRjaCh0KXt9fWZ1bmN0aW9uIGxkKCl7dmFyIHQ9dGhpcztpZihudWxsIT10aGlzJiZ0aGlzLmFkT3B0aW9uKXt2YXIgZT10aGlzLmFkT3B0aW9uLGk9ZS5fbndfdGltZW91dCxuPWUuX3VuaXRfaWQ7Y2QuY2FsbCh0aGlzKSx0aGlzLnRpbWVySWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmFkRXJyb3Ioe2NvZGU6OTAwMSxtc2c6XFxcInVuaXRJZDogXFxcIi5jb25jYXQobixcXFwiIOi2heaXtlxcXCIpfSl9KSxpKX19ZnVuY3Rpb24gY2QodCl7dmFyIGU9dHx8KG51bGw9PXRoaXM/dm9pZCAwOnRoaXMudGltZXJJZCl8fG51bGw7ZSYmY2xlYXJUaW1lb3V0KGUpfWZ1bmN0aW9uIHVkKHQsZSl7aWYoIXQpcmV0dXJuIGU7aWYoIWRkW3RdKXJldHVybiBlO3ZhciBpPSQuY2FsbCh0aGlzLGUsZGRbdF0sITEpO3JldHVyblxcXCIyXFxcIj09PXQmJmRlbGV0ZSBpLmNsb3NlU3R5bGUuY2xvc2VDb250YWluZXIsaX12YXIgaGQscGQsZmQsdmQ9e2FkUHJveHlFdmVudDp7b25Jbml0OihmZD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKCEoYT1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkFEWCx0aGlzLmFkT3B0aW9uLl91bml0X2lkKSkpe3QubmV4dD00O2JyZWFrfXJldHVybiB0aGlzLmFkRXJyb3Ioe2NvZGU6YSxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KSx0LmFicnVwdChcXFwicmV0dXJuXFxcIik7Y2FzZSA0OmlmKGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSxudWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy4kYXBwKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuJGRlZil8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnRvcG9uX3Nkayl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmV2ZW50KXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZGVlcGxpbmspfHx2b2lkIDA9PT1lfHxlLnVuc3Vic2NyaWJlKFxcXCJhcHAtb24tc2hvd1xcXCIpLHYobnVsbD09dGhpc3x8bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLiRkZWYpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi50b3Bvbl9zZGspfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5zdG9yZSl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmRldmljZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaW5mbykpe3QubmV4dD0xMTticmVha310LnQwPW51bGw9PXRoaXN8fG51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci4kZGVmKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIudG9wb25fc2RrKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIuc3RvcmUpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5kZXZpY2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluZm8sdC5uZXh0PTE3O2JyZWFrO2Nhc2UgMTE6cmV0dXJuIHQubmV4dD0xMyxILmdldEluZm8oKTtjYXNlIDEzOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xNjticmVha310LnQxPXt9O2Nhc2UgMTY6dC50MD10LnQxO2Nhc2UgMTc6bz10LnQwLHRoaXMuZGV2aWNlSW5mb0NhY2hlPW87Y2FzZSAxOTpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGZkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmxvY2tBZEFwcGVhcj1cXFwiXFxcIjt2YXIgZT1Jby5jYWxsKHRoaXMsdGhpcy5hZEV4dHJhLnBsYWNlbWVudElkKSxpPW51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLm9mZmVyX2RhdGEpJiZ2b2lkIDAhPT10P3Q6e307c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmFkTG9hZChpKX0sc2hvdzpmdW5jdGlvbigpe2lmKHRoaXMucmVhZHkpe3ZhciB0PSh0aGlzLmFkRXh0cmF8fHt9KS5wbGFjZW1lbnRJZCxlPXZvaWQgMD09PXQ/XFxcIlxcXCI6dCxpPUlvLmNhbGwodGhpcyxlKTtpZihEYXRlLm5vdygpPmkuX2V4cGlyYXRpb25UaW1lKXJldHVybiB0aGlzLmFkRXJyb3Ioe2NvZGU6MTEwMSxtc2c6XFxcIuW5v+WRiuW3sui/h+acn++8jOivt+mHjeaWsOiOt+WPluW5v+WRiuaIluWIt+aWsOW5v+WRilxcXCJ9KSx2b2lkIGJvLmNhbGwodGhpcyxlLHt9KTt0aGlzLmRpc3BsYXllZD0hMH19LGFkTG9hZDpmdW5jdGlvbih0KXt2YXIgZSxpO2lmKG51bGwhPXQmJnQuc2VhdGJpZCYmbnVsbCE9dCYmbnVsbCE9PShlPXQuc2VhdGJpZCkmJnZvaWQgMCE9PWUmJmUubGVuZ3RoKXt0aGlzLnJlYWR5PSEwLHRoaXMuYWRMaXN0SW5kZXhJblVzZT0wLHRoaXMuYWRMaXN0PW51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0LnNlYXRiaWQpJiZ2b2lkIDAhPT1pP2k6W10sc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyk7dmFyIG49dWQuY2FsbCh0aGlzLHRoaXMudGVtcGxhdGVJZCxvZCkscj1VLmNhbGwodGhpcyx0aGlzLmFkQ29uZmlnLnN0eWxlKSxhPVUuY2FsbCh0aGlzLG4pLG89JC5jYWxsKHRoaXMsYSxyKTt0aGlzLmFkU3R5bGU9byx0aGlzLnVwZGF0ZUNsb3NlU3R5bGUoKX1lbHNle3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJUb3BPbiBBZHjlub/lkYrmnI3liqHml6DmlbDmja7ov5Tlm55cXFwifSl9fSx1cGRhdGVDbG9zZVN0eWxlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPW51bGwhPT0odD1udWxsPT09KGU9dGhpcy5jdXJyZW50QWQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5jdHJsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5mdF9jbF9zeikmJnZvaWQgMCE9PXQ/dDoxO2lmKDEhPT1pKXt2YXIgbj17MToxLDI6MS41LDM6Ljc1LDQ6LjV9LHI9dGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VCdG4ud2lkdGgubWF0Y2goL1xcXFxkKy9nKVswXTtpZih0aGlzLmFkU3R5bGUuY2xvc2VTdHlsZS5jbG9zZUNsaWNrQXJlYS53aWR0aD1yKm5baV0rXFxcInB4XFxcIix0aGlzLmFkU3R5bGUuY2xvc2VTdHlsZS5jbG9zZUNsaWNrQXJlYS5oZWlnaHQ9cipuW2ldK1xcXCJweFxcXCIsbltpXT4xKXt2YXIgYT1yKm5baV0vMi1yLzIrXFxcInB4XFxcIjt0aGlzLmFkU3R5bGUuY2xvc2VTdHlsZS5jbG9zZUNvbnRhaW5lci50cmFuc2Zvcm09XFxcInRyYW5zbGF0ZVkoLVxcXCIuY29uY2F0KGEsXFxcIilcXFwiKX19fSxhZFNob3c6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSksdGhpcy5oYW5kbGVOb3RpY2UoXFxcImNsaWNrXFxcIiksdGhpcy5ub3RpY2VTdWNjZWVkPSExLHRoaXMubm90aWNlRmFpbGVkPSExO3ZhciBpPVMoKSxuPWkucm91dGVyLHI9aS5wa2csYT10aGlzfHx7fSxvPWEuYWRFeHRyYSxkPXZvaWQgMD09PW8/e306byxzPWEuY3VycmVudEFkLGw9dm9pZCAwPT09cz97fTpzLGM9YS5hZE9wdGlvbix1PXZvaWQgMD09PWM/e306YyxoPWQucGxhY2VtZW50SWQscD12b2lkIDA9PT1oP1xcXCJcXFwiOmgsZj1sLmRlZXBsaW5rLHY9dm9pZCAwPT09Zj9cXFwiXFxcIjpmLG09bC5vaWQsXz1sLmNsaWNrX3UsZz12b2lkIDA9PT1fP1xcXCJcXFwiOl8seT1sLmxpbmtfdHlwZSxJPWwucGtnLGI9dm9pZCAwPT09ST9cXFwiXFxcIjpJO2lmKHYpcmV0dXJuIHRoaXMuaGFuZGxlTm90aWNlKFxcXCJkcF9zdGFydFxcXCIpLHZvaWQgci5oYXNJbnN0YWxsZWQoe3BhY2thZ2U6YixzdWNjZXNzOmZ1bmN0aW9uKHQpe2lmKHQucmVzdWx0KXt2YXIgaSxyLGE7ZS5oYW5kbGVOb3RpY2UoXFxcImFwcF9pbnN0YWxsXFxcIiksbi5wdXNoKHt1cmk6dn0pLGUub25IaWRlQ2FsbGJhY2s9ZS5zdWJzY3JpYmVBcHBIaWRlQ2FsbGJhY2suYmluZChlKSxlLm9uU2hvd0NhbGxiYWNrPWUuaGFuZGxlRGVlcExpbmtGYWlsZWQuYmluZChlKTt2YXIgbz17b25jZTohMH07bnVsbD09ZXx8bnVsbD09PShpPWUuJGFwcCl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLiRkZWYpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS50b3Bvbl9zZGspfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5ldmVudCl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLmRlZXBsaW5rKXx8dm9pZCAwPT09aXx8aS5zdWJzY3JpYmUoXFxcImFwcC1vbi1oaWRlXFxcIixlLm9uSGlkZUNhbGxiYWNrLG8pLG51bGw9PWV8fG51bGw9PT0ocj1lLiRhcHApfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci4kZGVmKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIudG9wb25fc2RrKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIuZXZlbnQpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5kZWVwbGluayl8fHZvaWQgMD09PXJ8fHIuc3Vic2NyaWJlKFxcXCJhcHAtb24tc2hvd1xcXCIsZS5vblNob3dDYWxsYmFjayxvKSxcXFwidml2b1xcXCI9PShudWxsPT1lfHxudWxsPT09KGE9ZS5kZXZpY2VJbmZvQ2FjaGUpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS5icmFuZCl8fHZvaWQgMD09PWE/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSkmJihlLmZhaWxUaW1lSWQmJmNsZWFyVGltZW91dChlLmZhaWxUaW1lSWQpLGUuZmFpbFRpbWVJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uubm90aWNlU3VjY2VlZHx8ZS5oYW5kbGVEZWVwTGlua0ZhaWxlZCgpfSksM2UzKSl9ZWxzZXtlLmhhbmRsZU5vdGljZShcXFwiYXBwX3VuaW5zdGFsbFxcXCIpLGUuaGFuZGxlTm90aWNlKFxcXCJkcF91bmluc3RfZmFpbFxcXCIpO3ZhciBkPXtrZXk6XFxcIkRFRVBMSU5LX1JFU1VMVFxcXCIsdW5pdGlkOnAscmVxdWVzdGlkOnUuX3JlcXVlc3RfaWQsbXNnOlxcXCJcXFwiK20sbXNnMTpcXFwiMlxcXCIsbXNnMjpcXFwiXFxcIitnLG1zZzM6XFxcIjBcXFwiLG1zZzQ6XFxcIjFcXFwiLG1zZzc6XFxcIjBcXFwifTtWYS5jYWxsKGUsZCksbi5wdXNoKHt1cmk6XFxcIlRvcE9uL0FkTGFuZGluZ1xcXCIscGFyYW1zOnt1cmw6Z319KX19LGZhaWw6ZnVuY3Rpb24odCxpKXtlLmhhbmRsZU5vdGljZShcXFwiZHBfdW5pbnN0X2ZhaWxcXFwiKTt2YXIgcj17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpwLHJlcXVlc3RpZDp1Ll9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIittLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIrZyxtc2czOlxcXCIwXFxcIixtc2c0OlxcXCIxXFxcIixtc2c3OlxcXCIwXFxcIn07VmEuY2FsbChlLHIpLG4ucHVzaCh7dXJpOlxcXCJUb3BPbi9BZExhbmRpbmdcXFwiLHBhcmFtczp7dXJsOmd9fSl9fSk7Mj09PXkmJm4ucHVzaCh7dXJpOmd9KSwzPT09eSYmbi5wdXNoKHt1cmk6XFxcIlRvcE9uL0FkTGFuZGluZ1xcXCIscGFyYW1zOnt1cmw6Z319KX0sYWRDbG9zZTpmdW5jdGlvbih0KXt0aGlzLmRpc3BsYXllZD0hMSx0aGlzLmFkRGVzdHJveT0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwifSksdGhpcy52YWxpZGl0eVRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMudmFsaWRpdHlUaW1lSWQpfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzfHx7fSkuYWRPcHRpb24sbj12b2lkIDA9PT1pP3t9Omkscj1uLl9yZXF1ZXN0X2lkK1xcXCIvXFxcIituLl91bml0X2lkO2lmKHRoaXMubG9ja0FkRXJyb3IhPT1yKXt0aGlzLmxvY2tBZEVycm9yPXIsdGhpcy5yZWFkeT0hMTt2YXIgYT1lKGUoe30sdCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX0pO2RlbGV0ZSBhLmVyckNvZGUsZGVsZXRlIGEuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOmF9KSxjZC5jYWxsKHRoaXMpfX0sYWRBcHBlYXI6KHBkPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihuPShlPXRoaXN8fHt9KS5hZE9wdGlvbixyPXZvaWQgMD09PW4/e306bixhPWUuYWRFeHRyYSxvPXZvaWQgMD09PWE/e306YSxkPXIuX3JlcXVlc3RfaWQrXFxcIi9cXFwiK3IuX3VuaXRfaWQsdGhpcy5sb2NrQWRBcHBlYXIhPT1kKXt0Lm5leHQ9NDticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgNDp0aGlzLmxvY2tBZEFwcGVhcj1kLGJvLmNhbGwodGhpcyxvLnBsYWNlbWVudElkLHt9KSx0aGlzLmlzQWRFeHBvc3VyZVZhbGlkKCksdGhpcy5yZXBvcnRCaWRXaW5EYSgpO2Nhc2UgODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHBkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHJlcG9ydEJpZFdpbkRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8e30sZT10LmFkT3B0aW9uLGk9dm9pZCAwPT09ZT97fTplLG49dC5hZEV4dHJhLHI9dm9pZCAwPT09bj97fTpuLGE9dC5jdXJyZW50QWQsbz12b2lkIDA9PT1hP3t9OmEsZD1yLnBsYWNlbWVudElkLHM9ci50cmFmZmljR3JvdXBJZCxsPXIuc2VnbWVudElkLGM9ci5hc0lkLHU9ci5ud0Zpcm1JZCxoPXIuZWNwbSxwPXIuYmlkVGssZj17a2V5OlxcXCJCSURfV0lOXFxcIix1bml0aWQ6ZCxyZXF1ZXN0aWQ6aS5fcmVxdWVzdF9pZCxncm91cGlkOmwsdHJhZmZpY19ncm91cF9pZDpzLGFzaWQ6Yyxtc2c6U3RyaW5nKHUpLG1zZzE6U3RyaW5nKGkuX3VuaXRfaWQpLG1zZzI6XFxcIlxcXCIsbXNnMzpcXFwiXFxcIixtc2c0OlxcXCJcXFwiK28uZHNwX2lkLG1zZzU6XFxcIlxcXCIrby5vaWQsbXNnNjpcXFwiMVxcXCIsbXNnNzpwLnRwQmlkSWQsbXNnODpcXFwiXFxcIitoLG1zZzk6XFxcIlxcXCJ9O1ZhLmNhbGwodGhpcyxmKX0saXNBZEV4cG9zdXJlVmFsaWQ6KGhkPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnPXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj0obj10aGlzfHx7fSkuYWRFeHRyYSxhPXZvaWQgMD09PXI/e306cixvPW4uY3VycmVudEFkLGQ9dm9pZCAwPT09bz97fTpvLHM9RGF0ZS5ub3coKSx0Lm5leHQ9NCx0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Nhc2UgNDppZihsPXQuc2VudCx0aGlzLmNsaWVudFJlY3Q9bCxjPVsxLDNdLmluY2x1ZGVzKGEuZm9ybWF0KT8wOjEwMCxudWxsIT1kJiZudWxsIT09KGU9ZC5jdHJsKSYmdm9pZCAwIT09ZSYmZS5zaG1fdCYmKGM9ZC5jdHJsLnNobV90KSx1PWMsaD1GLmNhbGwodGhpcyxsLHRoaXMuZGV2aWNlSW5mb0NhY2hlKSxwPURhdGUubm93KCksYz4oZj1wLXMpJiYodT1jLWYpLGM8ZiYmKHU9MCksaD4uMDIpe3QubmV4dD0yMDticmVha31yZXR1cm4gY29uc29sZS5lcnJvcihcXFwiQURY5bm/5ZGK5peg5pWI5bGV56S6XFxcIiksXz17cmF0aW86aCxjbGllbnRSZWN0OmwsZGV2aWNlSW5mbzp7c2NyZWVuV2lkdGg6bnVsbD09PSh2PXRoaXMuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09dj92b2lkIDA6di5zY3JlZW5XaWR0aCxzY3JlZW5IZWlnaHQ6bnVsbD09PShtPXRoaXMuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09bT92b2lkIDA6bS5zY3JlZW5IZWlnaHR9fSx0aGlzLnJlcG9ydEludmFsaWRJbXByZXNzaW9uRGEoXyksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMjA6dGhpcy52YWxpZGl0eVRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMudmFsaWRpdHlUaW1lSWQpLHRoaXMudmFsaWRpdHlUaW1lSWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtnLmFkRGVzdHJveT9jb25zb2xlLmVycm9yKFxcXCJBRFjlub/lkYrml6DmlYjlsZXnpLpcXFwiKTooZy5hZFNob3coKSxnLmhhbmRsZU5vdGljZShcXFwibnVybFxcXCIpLHNkLmNhbGwoZyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSksZy5oYW5kbGVOb3RpY2UoXFxcImltcFxcXCIpLGcuaGFuZGxlTm90aWNlKFxcXCJidXJsXFxcIikpfSksdSk7Y2FzZSAyMjpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGhhbmRsZU5vdGljZTpmdW5jdGlvbih0KXt2YXIgZSxpPSh0aGlzLmN1cnJlbnRBZHx8e30pLnRrLG49dm9pZCAwPT09aT97fTppO2lmKG5bdF0mJm51bGwhPT0oZT1uW3RdKSYmdm9pZCAwIT09ZSYmZS5sZW5ndGgpe3ZhciByPXRoaXMuZ2V0TWFjcm9EYXRhKCk7a28uY2FsbCh0aGlzLG5bdF0scil9fSxhZFRvdWNoU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dC50aW1lc3RhbXB8fERhdGUubm93KCksbj10LmRldGFpbC50b3VjaGVzWzBdfHx7fTt0aGlzLnN0YXJ0UG9pbnQ9ZShlKHt9LG4pLHt9LHt0aW1lc3RhbXA6aX0pfSxhZFRvdWNoTW92ZTpmdW5jdGlvbih0KXt9LGFkVG91Y2hFbmQ6ZnVuY3Rpb24odCl7dmFyIGk9dC50aW1lc3RhbXB8fERhdGUubm93KCksbj10LmRldGFpbC5jaGFuZ2VkVG91Y2hlc1swXXx8e307dGhpcy5lbmRQb2ludD1lKGUoe30sbikse30se3RpbWVzdGFtcDppfSl9LGdldEJvdW5kaW5nQ2xpZW50UmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJGVsZW1lbnQoXFxcInRvcC1vbi1hZHgtY29udGFpbmVyLVxcXCIuY29uY2F0KHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpKTtyZXR1cm4gdD9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXt0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCh7c3VjY2VzczpmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0sZmFpbDpmdW5jdGlvbigpe3JldHVybiBlKHt9KX19KX0pKTp7fX0sZ2V0TWFjcm9EYXRhOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG4scixhLG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGc9dGhpcy5jbGllbnRSZWN0LHk9dGhpcy5zdGFydFBvaW50LEk9dm9pZCAwPT09eT97fTp5LGI9dGhpcy5lbmRQb2ludCxrPXZvaWQgMD09PWI/e306Yix3PXRoaXMuY3VycmVudEFkLHg9dm9pZCAwPT09dz97fTp3LFM9e2Rvd25feDpudWxsIT09KHQ9bnVsbD09ST92b2lkIDA6SS5jbGllbnRYKSYmdm9pZCAwIT09dD90OlxcXCItOTk5XFxcIixkb3duX3k6bnVsbCE9PShlPW51bGw9PUk/dm9pZCAwOkkuY2xpZW50WSkmJnZvaWQgMCE9PWU/ZTpcXFwiLTk5OVxcXCIsdXBfeDpudWxsIT09KGk9bnVsbD09az92b2lkIDA6ay5jbGllbnRYKSYmdm9pZCAwIT09aT9pOlxcXCItOTk5XFxcIix1cF95Om51bGwhPT0obj1udWxsPT1rP3ZvaWQgMDprLmNsaWVudFkpJiZ2b2lkIDAhPT1uP246XFxcIi05OTlcXFwifSxUPXtkb3duX3g6bnVsbCE9PShyPW51bGw9PUk/dm9pZCAwOkkub2Zmc2V0WCkmJnZvaWQgMCE9PXI/cjpcXFwiLTk5OVxcXCIsZG93bl95Om51bGwhPT0oYT1udWxsPT1JP3ZvaWQgMDpJLm9mZnNldFkpJiZ2b2lkIDAhPT1hP2E6XFxcIi05OTlcXFwiLHVwX3g6bnVsbCE9PShvPW51bGw9PWs/dm9pZCAwOmsub2Zmc2V0WCkmJnZvaWQgMCE9PW8/bzpcXFwiLTk5OVxcXCIsdXBfeTpudWxsIT09KGQ9bnVsbD09az92b2lkIDA6ay5vZmZzZXRZKSYmdm9pZCAwIT09ZD9kOlxcXCItOTk5XFxcIn07cmV0dXJue1xcXCJ7X19XSURUSF9ffVxcXCI6bnVsbCE9PShzPW51bGw9PWc/dm9pZCAwOmcud2lkdGgpJiZ2b2lkIDAhPT1zP3M6XFxcIlxcXCIsXFxcIntfX0hFSUdIVF9ffVxcXCI6bnVsbCE9PShsPW51bGw9PWc/dm9pZCAwOmcuaGVpZ2h0KSYmdm9pZCAwIT09bD9sOlxcXCJcXFwiLFxcXCJ7X19ET1dOX1hfX31cXFwiOm51bGwhPT0oYz1udWxsPT1JP3ZvaWQgMDpJLmNsaWVudFgpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIsXFxcIntfX0RPV05fWV9ffVxcXCI6bnVsbCE9PSh1PW51bGw9PUk/dm9pZCAwOkkuY2xpZW50WSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixcXFwie19fVVBfWF9ffVxcXCI6bnVsbCE9PShoPW51bGw9PWs/dm9pZCAwOmsuY2xpZW50WCkmJnZvaWQgMCE9PWg/aDpcXFwiXFxcIixcXFwie19fVVBfWV9ffVxcXCI6bnVsbCE9PShwPW51bGw9PWs/dm9pZCAwOmsuY2xpZW50WSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixcXFwie19fUkVfRE9XTl9YX199XFxcIjpudWxsIT09KGY9bnVsbD09ST92b2lkIDA6SS5vZmZzZXRYKSYmdm9pZCAwIT09Zj9mOlxcXCItOTk5XFxcIixcXFwie19fUkVfRE9XTl9ZX199XFxcIjpudWxsIT09KHY9bnVsbD09ST92b2lkIDA6SS5vZmZzZXRZKSYmdm9pZCAwIT09dj92OlxcXCItOTk5XFxcIixcXFwie19fUkVfVVBfWF9ffVxcXCI6bnVsbCE9PShtPW51bGw9PWs/dm9pZCAwOmsub2Zmc2V0WCkmJnZvaWQgMCE9PW0/bTpcXFwiLTk5OVxcXCIsXFxcIntfX1JFX1VQX1lfX31cXFwiOm51bGwhPT0oXz1udWxsPT1rP3ZvaWQgMDprLm9mZnNldFkpJiZ2b2lkIDAhPT1fP186XFxcIi05OTlcXFwiLFxcXCJ7X19UU19ffVxcXCI6SS50aW1lc3RhbXAvMWUzLFxcXCJ7X19UU19NU0VDX199XFxcIjpJLnRpbWVzdGFtcCxcXFwie19fRU5EX1RTX199XFxcIjprLnRpbWVzdGFtcC8xZTMsXFxcIntfX0VORF9UU19NU0VDX199XFxcIjprLnRpbWVzdGFtcCxcXFwie0FCU09MVVRFX0NPT1JEfVxcXCI6UyxcXFwie1JFTEFUSVZFX0NPT1JEfVxcXCI6VCxcXFwie19fRFBMSU5LX1RZUEVfX31cXFwiOnguZGVlcGxpbms/MToyfX0saGFuZGxlRGVlcExpbmtTdWNjZWVkOmZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuaGFuZGxlTm90aWNlKFxcXCJkcF9zdWNjXFxcIiksdGhpcy5ub3RpY2VTdWNjZWVkPSEwLHRoaXMuZmFpbFRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMuZmFpbFRpbWVJZCksbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGFwcCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5ldmVudCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmRlZXBsaW5rKXx8dm9pZCAwPT09ZXx8ZS51bnN1YnNjcmliZShcXFwiYXBwLW9uLXNob3dcXFwiKTt2YXIgaT10aGlzfHx7fSxuPWkuYWRFeHRyYSxyPXZvaWQgMD09PW4/e306bixhPWkuY3VycmVudEFkLG89dm9pZCAwPT09YT97fTphLGQ9aS5hZE9wdGlvbixzPXZvaWQgMD09PWQ/e306ZCxsPXIucGxhY2VtZW50SWQsYz1vLmRlZXBsaW5rLHU9dm9pZCAwPT09Yz9cXFwiXFxcIjpjLGg9by5vaWQscD17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpsLHJlcXVlc3RpZDpzLl9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIitoLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIrdSxtc2czOlxcXCIxXFxcIixtc2c0OlxcXCIwXFxcIixtc2c3OlxcXCIwXFxcIn07VmEuY2FsbCh0aGlzLHApfSxoYW5kbGVEZWVwTGlua0ZhaWxlZDpmdW5jdGlvbih0KXt2YXIgZTt0aGlzLmhhbmRsZU5vdGljZShcXFwiZHBfaW5zdF9mYWlsXFxcIiksdGhpcy5ub3RpY2VGYWlsZWQ9ITAsdGhpcy5zdWNjZWVkVGltZUlkJiZjbGVhclRpbWVvdXQodGhpcy5zdWNjZWVkVGltZUlkKSxudWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy4kYXBwKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuJGRlZil8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnRvcG9uX3Nkayl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmV2ZW50KXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZGVlcGxpbmspfHx2b2lkIDA9PT1lfHxlLnVuc3Vic2NyaWJlKFxcXCJhcHAtb24taGlkZVxcXCIpO3ZhciBpPXRoaXN8fHt9LG49aS5hZEV4dHJhLHI9dm9pZCAwPT09bj97fTpuLGE9aS5jdXJyZW50QWQsbz12b2lkIDA9PT1hP3t9OmEsZD1pLmFkT3B0aW9uLHM9dm9pZCAwPT09ZD97fTpkLGw9ci5wbGFjZW1lbnRJZCxjPW8uZGVlcGxpbmssdT12b2lkIDA9PT1jP1xcXCJcXFwiOmMsaD1vLm9pZCxwPXtrZXk6XFxcIkRFRVBMSU5LX1JFU1VMVFxcXCIsdW5pdGlkOmwscmVxdWVzdGlkOnMuX3JlcXVlc3RfaWQsbXNnOlxcXCJcXFwiK2gsbXNnMTpcXFwiMlxcXCIsbXNnMjpcXFwiXFxcIit1LG1zZzM6XFxcIjBcXFwiLG1zZzQ6XFxcIjBcXFwiLG1zZzc6XFxcIjBcXFwifTtWYS5jYWxsKHRoaXMscCl9LHN1YnNjcmliZUFwcEhpZGVDYWxsYmFjazpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPW51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLmRldmljZUluZm9DYWNoZSl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LmJyYW5kKXx8dm9pZCAwPT09dD92b2lkIDA6dC50b0xvd2VyQ2FzZSgpO1tcXFwib3Bwb1xcXCIsXFxcInhpYW9taVxcXCIsXFxcInJlZG1pXFxcIl0uaW5jbHVkZXMoaSk/KHRoaXMuc3VjY2VlZFRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMuc3VjY2VlZFRpbWVJZCksdGhpcy5zdWNjZWVkVGltZUlkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5ub3RpY2VGYWlsZWR8fGUuaGFuZGxlRGVlcExpbmtTdWNjZWVkKCl9KSwxZTMpKTp0aGlzLmhhbmRsZURlZXBMaW5rU3VjY2VlZCgpfSxyZXBvcnRJbnZhbGlkSW1wcmVzc2lvbkRhOmZ1bmN0aW9uKCl7dmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT10aGlzfHx7fSxuPWkuYWRPcHRpb24scj12b2lkIDA9PT1uP3t9Om4sYT1pLmFkRXh0cmEsbz12b2lkIDA9PT1hP3t9OmEsZD1pLmN1cnJlbnRBZCxzPXZvaWQgMD09PWQ/e306ZCxsPW8ucGxhY2VtZW50SWQsYz1vLnRyYWZmaWNHcm91cElkLHU9by5zZWdtZW50SWQsaD1vLmFzSWQ7by5ud0Zpcm1JZCxvLmVjcG0sby5iaWRUazt2YXIgcD17a2V5OlxcXCJBRFhfSU1QX0lOVkFMSURcXFwiLHVuaXRpZDpsLHJlcXVlc3RpZDpyLl9yZXF1ZXN0X2lkLGdyb3VwaWQ6dSx0cmFmZmljX2dyb3VwX2lkOmMsYXNpZDpoLG1zZzpzLmRzcF9pZCxtc2cxOlN0cmluZyhyLl91bml0X2lkKSxtc2cyOlxcXCJcXFwiK3Mub2lkLG1zZzM6XFxcIjJcXFwiLG1zZzQ6bnVsbCE9PSh0PW51bGw9PWU/dm9pZCAwOmUubXNnNCkmJnZvaWQgMCE9PXQ/dDpcXFwiMlxcXCIsbXNnNTpKU09OLnN0cmluZ2lmeShlKX07VmEuY2FsbCh0aGlzLHApfX0sbWQ9e2NvbnRhaW5lclN0eWxlOntmbGV4RGlyZWN0aW9uOlxcXCJjb2x1bW5cXFwiLHdpZHRoOlxcXCIxMDAlXFxcIixoZWlnaHQ6XFxcIjEwMCVcXFwifSxjb250ZW50U3R5bGU6e2ZsZXhEaXJlY3Rpb246XFxcImNvbHVtblxcXCIsd2lkdGg6XFxcIjEwMCVcXFwiLGhlaWdodDpcXFwiMTAwJVxcXCIscG9zaXRpb246XFxcInJlbGF0aXZlXFxcIixqdXN0aWZ5Q29udGVudDpcXFwiZmxleC1lbmRcXFwifSxpbWdTdHlsZTp7anVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsd2lkdGg6XFxcIjEwMCVcXFwiLGhlaWdodDpcXFwiMTAwJVxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIn0saW1nUHJvcGVydGllc1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsb2JqZWN0Rml0OlxcXCJmaWxsXFxcIn0saWNvblN0eWxlOnt3aWR0aDpcXFwiODBweFxcXCIsaGVpZ2h0OlxcXCI4MHB4XFxcIixtYXJnaW5SaWdodDpcXFwiMjBweFxcXCJ9LGljb25Qcm9wZXJ0aWVzU3R5bGU6e3dpZHRoOlxcXCIxMDAlXFxcIixib3JkZXJSYWRpdXM6XFxcIjEwcHhcXFwiLGhlaWdodDpcXFwiMTAwJVxcXCJ9LHZpZGVvU3R5bGU6e2p1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLHdpZHRoOlxcXCIxMDAlXFxcIixoZWlnaHQ6XFxcIjEwMCVcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCJ9LHZpZGVvUHJvcGVydGllc1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsb2JqZWN0Rml0OlxcXCJjb3ZlclxcXCIsaGVpZ2h0OlxcXCIxMDAlXFxcIn0sZG93bmxvYWRTdHlsZTp7Y29udGFpbmVyOnt3aWR0aDpcXFwiMTAwJVxcXCJ9LHBhbmVsOnt3aWR0aDpcXFwiMTAwJVxcXCIsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIixwYWRkaW5nOlxcXCIyMHB4XFxcIixmaWx0ZXI6XFxcImJsdXIoMTgwcHgpXFxcIixiYWNrZ3JvdW5kOnt2YWx1ZXM6W3t0eXBlOlxcXCJsaW5lYXJHcmFkaWVudFxcXCIsZGlyZWN0aW9uczpbXFxcIjE4MGRlZ1xcXCJdLHZhbHVlczpbXFxcInJnYmEoMCwwLDAsMClcXFwiLFxcXCJyZ2JhKDAsMCwwLDAuOClcXFwiXX1dfX0sdGl0bGU6e2ZsZXhEaXJlY3Rpb246XFxcImNvbHVtblxcXCJ9LHRpdGxlVGV4dDp7bGluZUhlaWdodDpcXFwiMzhweFxcXCIsZm9udFNpemU6XFxcIjM2cHhcXFwiLGZvbnRXZWlnaHQ6NzAwLGNvbG9yOlxcXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXFxcIn0sZGVzYzp7Zm9udFNpemU6XFxcIjI0cHhcXFwiLGxpbmVIZWlnaHQ6XFxcIjI2cHhcXFwiLG1hcmdpblRvcDpcXFwiNHB4XFxcIixjb2xvcjpcXFwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVxcXCJ9fSxidXR0b25TdHlsZTp7d2lkdGg6XFxcIjEwMCVcXFwiLHBhZGRpbmdUb3A6XFxcIjIwcHhcXFwiLHBhZGRpbmdSaWdodDpcXFwiMjBweFxcXCIscGFkZGluZ0JvdHRvbTpcXFwiMjBweFxcXCIscGFkZGluZ0xlZnQ6XFxcIjIwcHhcXFwiLGJvcmRlclJhZGl1czpcXFwiMjRweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCIjMUQ2QUZGXFxcIix0ZXh0QWxpZ246XFxcImNlbnRlclxcXCIsZm9udFNpemU6XFxcIjI4cHhcXFwiLGNvbG9yOlxcXCIjRkZGRkZGXFxcIixtYXJnaW5Ub3A6XFxcIjMwcHhcXFwifSxjbG9zZVN0eWxlOntjbG9zZUNvbnRhaW5lcjp7cG9zaXRpb246XFxcImFic29sdXRlXFxcIixyaWdodDpcXFwiMzBweFxcXCIsdG9wOlxcXCI2MHB4XFxcIix6SW5kZXg6XFxcIjEwMFxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIixqdXN0aWZ5Q29udGVudDpcXFwiY2VudGVyXFxcIix0cmFuc2Zvcm06XFxcInRyYW5zbGF0ZVkoMHB4KVxcXCJ9LGNsb3NlQ2xpY2tBcmVhOnt3aWR0aDpcXFwiNDhweFxcXCIsaGVpZ2h0OlxcXCI0OHB4XFxcIixqdXN0aWZ5Q29udGVudDpcXFwiY2VudGVyXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGJvcmRlclJhZGl1czpcXFwiNTAlXFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCIsZm9udFNpemU6XFxcIjI0cHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwidHJhbnNwYXJlbnRcXFwifSxjbG9zZUJ0bjp7d2lkdGg6XFxcIjQ4cHhcXFwiLGhlaWdodDpcXFwiNDhweFxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIixib3JkZXJSYWRpdXM6XFxcIjUwJVxcXCIsY29sb3I6XFxcIiNGRkZGRkZcXFwiLGZvbnRTaXplOlxcXCIyNHB4XFxcIixiYWNrZ3JvdW5kQ29sb3I6XFxcInJnYmEoMCwgMCwgMCwgLjQpXFxcIn19LGxvZ29TdHlsZTp7bG9nb0NvbnRhaW5lcjp7aGVpZ2h0OlxcXCIzMHB4XFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGFsaWduU2VsZjpcXFwiZmxleC1lbmRcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJmbGV4LWVuZFxcXCIsbWFyZ2luQm90dG9tOlxcXCI0cHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgxNTMsIDE1MywgMTUzLCAwLjgpXFxcIn0sbG9nb0ltZzp7d2lkdGg6XFxcIjcwcHhcXFwiLG1hcmdpblJpZ2h0OlxcXCIycHhcXFwiLGRpc3BsYXk6XFxcImZsZXhcXFwifX0sZmFjdG9yU3R5bGU6e2ZhY3RvckNvbnRhaW5lcjp7anVzdGlmeUNvbnRlbnQ6XFxcInNwYWNlLWJldHdlZW5cXFwiLG1hcmdpblRvcDpcXFwiMjBweFxcXCJ9LGluZm9UZXh0Ontmb250U2l6ZTpcXFwiMjJweFxcXCIsY29sb3I6XFxcIiNBMEEwQTBcXFwiLG1hcmdpblJpZ2h0OlxcXCIxMHB4XFxcIn19LGNvdW50ZG93blN0eWxlOntwb3NpdGlvbjpcXFwiYWJzb2x1dGVcXFwiLGxlZnQ6XFxcIjMwcHhcXFwiLHRvcDpcXFwiNjBweFxcXCIsd2lkdGg6XFxcIjE2MHB4XFxcIixoZWlnaHQ6XFxcIjQ4cHhcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsYm9yZGVyUmFkaXVzOlxcXCIyNHB4XFxcIix6SW5kZXg6XFxcIjEwMFxcXCIsY29sb3I6XFxcIiNGRkZGRkZcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgwLCAwLCAwLCAuNClcXFwiLGZvbnRTaXplOlxcXCIyMHB4XFxcIn0sZmVlZGJhY2tTdHlsZTp7Y29udGFpbmVyU3R5bGU6e3Bvc2l0aW9uOlxcXCJhYnNvbHV0ZVxcXCIscmlnaHQ6XFxcIjEwMHB4XFxcIix0b3A6XFxcIjYwcHhcXFwiLGhlaWdodDpcXFwiNDhweFxcXCIscGFkZGluZ0xlZnQ6XFxcIjE2cHhcXFwiLHBhZGRpbmdSaWdodDpcXFwiMTZweFxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIixib3JkZXJSYWRpdXM6XFxcIjI0cHhcXFwiLHpJbmRleDpcXFwiMTAwXFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJyZ2JhKDAsIDAsIDAsIC40KVxcXCIsZm9udFNpemU6XFxcIjIwcHhcXFwifSxpY29uU3R5bGU6e2ZvbnRTaXplOlxcXCIyMHB4XFxcIixjb2xvcjpcXFwiIzAwMDAwMFxcXCIsd2lkdGg6XFxcIjI0cHhcXFwiLGhlaWdodDpcXFwiMjRweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjRweFxcXCIsYm9yZGVyUmFkaXVzOlxcXCI1MCVcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXFxcIn19fSxfZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZighKHI9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5BRFgsdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCkpKXt0Lm5leHQ9NDticmVha31yZXR1cm4gdGhpcy5hZEVycm9yKHtjb2RlOnIsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgNDppZihhPVUuY2FsbCh0aGlzLHRoaXMuYWRDb25maWcuc3R5bGUpLG89VS5jYWxsKHRoaXMsbWQpLGQ9JC5jYWxsKHRoaXMsbyxhKSx0aGlzLmFkU3R5bGU9ZCxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCksdihudWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy4kYXBwKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuJGRlZil8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnRvcG9uX3Nkayl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnN0b3JlKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZGV2aWNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbmZvKSl7dC5uZXh0PTE0O2JyZWFrfXQudDA9bnVsbD09dGhpc3x8bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLiRkZWYpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi50b3Bvbl9zZGspfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5zdG9yZSl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmRldmljZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaW5mbyx0Lm5leHQ9MjA7YnJlYWs7Y2FzZSAxNDpyZXR1cm4gdC5uZXh0PTE2LEguZ2V0SW5mbygpO2Nhc2UgMTY6aWYodC50MT10LnNlbnQsdC50MSl7dC5uZXh0PTE5O2JyZWFrfXQudDE9e307Y2FzZSAxOTp0LnQwPXQudDE7Y2FzZSAyMDpzPXQudDAsdGhpcy5kZXZpY2VJbmZvQ2FjaGU9cztjYXNlIDIyOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7dmFyIHQsZT1Jby5jYWxsKHRoaXMsdGhpcy5hZEV4dHJhLnBsYWNlbWVudElkKSxpPW51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLm9mZmVyX2RhdGEpJiZ2b2lkIDAhPT10P3Q6e307c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmFkTG9hZChpKX0sc2hvdzpmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMucmVhZHkpe3ZhciBlPXRoaXN8fHt9LGk9ZS5jdXJyZW50QWQsbj12b2lkIDA9PT1pP3t9Omkscj1lLmFkU3R5bGUsYT12b2lkIDA9PT1yP3t9OnIsbz1lLmFkRXh0cmEsZD12b2lkIDA9PT1vP3t9Om8scz1lLmFkT3B0aW9uLGw9dm9pZCAwPT09cz97fTpzLGM9ZC5wbGFjZW1lbnRJZCx1PXZvaWQgMD09PWM/XFxcIlxcXCI6YyxoPVMoKS5yb3V0ZXIscD1Jby5jYWxsKHRoaXMsdSk7aWYoRGF0ZS5ub3coKT5wLl9leHBpcmF0aW9uVGltZSlyZXR1cm4gdGhpcy5hZEVycm9yKHtjb2RlOjExMDEsbXNnOlxcXCLlub/lkYrlt7Lov4fmnJ/vvIzor7fph43mlrDojrflj5blub/lkYrmiJbliLfmlrDlub/lkYpcXFwifSksdm9pZCBiby5jYWxsKHRoaXMsdSx7fSk7dmFyIGY9XFxcIlxcXCIuY29uY2F0KHUsXFxcIi9cXFwiKS5jb25jYXQobC5fdW5pdF9pZCksdj17YWREYXRhOm4sYWRTdHlsZTphLG9wdGlvbjp7X3JlcXVlc3RfaWQ6bC5fcmVxdWVzdF9pZCxfY291bnRkb3duOihudWxsPT1ufHxudWxsPT09KHQ9bi5jdHJsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vcl9pbWdfdCkvMWUzfHwwfX07Ti5jYWxsKHRoaXMsXFxcImFkeFJld2FyZGVkVmlkZW9cXFwiLGYsdiksaC5wdXNoKHt1cmk6XFxcIlRvcE9uL0FkUmV3YXJkXFxcIixwYXJhbXM6e2FkVW5pdElkOmwuX3VuaXRfaWQscGxJZDpkLnBsYWNlbWVudElkfX0pLHRoaXMuYWRTaG93KCl9fSxhZExvYWQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxuO2lmKG51bGwhPXQmJnQuc2VhdGJpZCYmbnVsbCE9dCYmbnVsbCE9PShlPXQuc2VhdGJpZCkmJnZvaWQgMCE9PWUmJmUubGVuZ3RoKWlmKG51bGwhPXQmJm51bGwhPT0oaT10LnNlYXRiaWRbdGhpcy5hZExpc3RJbmRleEluVXNlXSkmJnZvaWQgMCE9PWkmJmkuZnVsbF91KXRoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQuc2VhdGJpZCkmJnZvaWQgMCE9PW4/bjpbXSxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKSx0aGlzLmNyZWF0ZVJld2FyZGVkVmlkZW8oKSx0aGlzLnVwZGF0ZUNsb3NlU3R5bGUoKTtlbHNle3RoaXMuYWRFcnJvcih7Y29kZTo5MDA4LG1zZzpcXFwiQURY5bm/5ZGK5peg5aGr5YWFW+e0oOadkOe8uuWksV1cXFwifSl9ZWxzZXt0aGlzLmFkRXJyb3Ioe2NvZGU6MmUzLG1zZzpcXFwiQURY5bm/5ZGK5peg5aGr5YWFXFxcIn0pfX0sdXBkYXRlQ2xvc2VTdHlsZTpmdW5jdGlvbigpe3ZhciB0LGUsaT1udWxsIT09KHQ9bnVsbD09PShlPXRoaXMuY3VycmVudEFkKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuY3RybCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZnRfY2xfc3opJiZ2b2lkIDAhPT10P3Q6MTtpZigxIT09aSl7dmFyIG49ezE6MSwyOjEuNSwzOi43NSw0Oi41fSxyPXRoaXMuYWRTdHlsZS5jbG9zZVN0eWxlLmNsb3NlQnRuLndpZHRoLm1hdGNoKC9cXFxcZCsvZylbMF07aWYodGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VDbGlja0FyZWEud2lkdGg9cipuW2ldK1xcXCJweFxcXCIsdGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VDbGlja0FyZWEuaGVpZ2h0PXIqbltpXStcXFwicHhcXFwiLG5baV0+MSl7dmFyIGE9cipuW2ldLzItci8yK1xcXCJweFxcXCI7dGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VDb250YWluZXIudHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGVZKC1cXFwiLmNvbmNhdChhLFxcXCIpXFxcIil9fX0sY3JlYXRlUmV3YXJkZWRWaWRlbzpmdW5jdGlvbigpe3RoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvfHwodGhpcy4kYXBwLiRkZWYudG9wb25fc2RrLnJld2FyZGVkVmlkZW89T2JqZWN0LmNyZWF0ZShudWxsKSk7dmFyIHQ9dGhpcy5hZEV4dHJhLGU9dGhpcy5hZE9wdGlvbixpPVxcXCJcXFwiLmNvbmNhdCh0LnBsYWNlbWVudElkLFxcXCIvXFxcIikuY29uY2F0KGUuX3VuaXRfaWQpO3RoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvW2ldfHwodGhpcy4kYXBwLiRkZWYudG9wb25fc2RrLnJld2FyZGVkVmlkZW9baV09T2JqZWN0LmNyZWF0ZShudWxsKSk7dmFyIG49dGhpczt0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tpXS5hZENsaWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKylpW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4odD1uLmFkQ2xpY2spLmNhbGwuYXBwbHkodCxbbl0uY29uY2F0KGkpKX0sdGhpcy4kYXBwLiRkZWYudG9wb25fc2RrLnJld2FyZGVkVmlkZW9baV0uYWRDbG9zZT1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspaVtyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9bi5hZENsb3NlKS5jYWxsLmFwcGx5KHQsW25dLmNvbmNhdChpKSl9LHRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvW2ldLmFkRXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybih0PW4uYWRFcnJvcikuY2FsbC5hcHBseSh0LFtuXS5jb25jYXQoaSkpfSx0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tpXS5hZEltcHJlc3Npb249ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybih0PW4uYWRJbXByZXNzaW9uKS5jYWxsLmFwcGx5KHQsW25dLmNvbmNhdChpKSl9LHRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvW2ldLmFkVG91Y2g9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybih0PW4uYWRUb3VjaCkuY2FsbC5hcHBseSh0LFtuXS5jb25jYXQoaSkpfSx0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tpXS5hZEZlZWRiYWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKylpW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4odD1uLmFkRmVlZGJhY2spLmNhbGwuYXBwbHkodCxbbl0uY29uY2F0KGkpKX19LGRlc3Ryb3lSZXdhcmRlZFZpZGVvOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy4kYXBwJiZudWxsIT09KHQ9dGhpcy4kYXBwKSYmdm9pZCAwIT09dCYmdC4kZGVmKXt2YXIgZT10aGlzfHx7fSxpPWUuYWRFeHRyYSxuPXZvaWQgMD09PWk/e306aSxyPWUuYWRPcHRpb24sYT12b2lkIDA9PT1yP3t9OnIsbz1cXFwiXFxcIi5jb25jYXQobi5wbGFjZW1lbnRJZCxcXFwiL1xcXCIpLmNvbmNhdChhLl91bml0X2lkKTt0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tvXT1udWxsLGRlbGV0ZSB0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tvXX19LGFkU2hvdzpmdW5jdGlvbih0KXt2YXIgZTtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkU2hvd1xcXCJ9KSxiby5jYWxsKHRoaXMsbnVsbD09PShlPXRoaXMuYWRFeHRyYSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucGxhY2VtZW50SWQse30pfSxhZENsaWNrOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSksdGhpcy5oYW5kbGVOb3RpY2UoXFxcImNsaWNrXFxcIiksdGhpcy5ub3RpY2VTdWNjZWVkPSExLHRoaXMubm90aWNlRmFpbGVkPSExLGUmJmUoKTt2YXIgbj1TKCkscj1uLnJvdXRlcixhPW4ucGtnLG89dGhpc3x8e30sZD1vLmFkRXh0cmEscz12b2lkIDA9PT1kP3t9OmQsbD1vLmN1cnJlbnRBZCxjPXZvaWQgMD09PWw/e306bCx1PW8uYWRPcHRpb24saD12b2lkIDA9PT11P3t9OnUscD1zLnBsYWNlbWVudElkLGY9dm9pZCAwPT09cD9cXFwiXFxcIjpwLHY9Yy5kZWVwbGluayxtPXZvaWQgMD09PXY/XFxcIlxcXCI6dixfPWMub2lkLGc9Yy5jbGlja191LHk9dm9pZCAwPT09Zz9cXFwiXFxcIjpnLEk9Yy5saW5rX3R5cGUsYj1jLnBrZyxrPXZvaWQgMD09PWI/XFxcIlxcXCI6YjtpZihtKXJldHVybiB0aGlzLmhhbmRsZU5vdGljZShcXFwiZHBfc3RhcnRcXFwiKSx2b2lkIGEuaGFzSW5zdGFsbGVkKHtwYWNrYWdlOmssc3VjY2VzczpmdW5jdGlvbih0KXtpZih0LnJlc3VsdCl7dmFyIGUsbixhO2kuaGFuZGxlTm90aWNlKFxcXCJhcHBfaW5zdGFsbFxcXCIpLHIucHVzaCh7dXJpOm19KSxpLm9uSGlkZUNhbGxiYWNrPWkuc3Vic2NyaWJlQXBwSGlkZUNhbGxiYWNrLmJpbmQoaSksaS5vblNob3dDYWxsYmFjaz1pLmhhbmRsZURlZXBMaW5rRmFpbGVkLmJpbmQoaSk7dmFyIG89e29uY2U6ITB9O251bGw9PWl8fG51bGw9PT0oZT1pLiRhcHApfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS4kZGVmKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUudG9wb25fc2RrKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZXZlbnQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5kZWVwbGluayl8fHZvaWQgMD09PWV8fGUuc3Vic2NyaWJlKFxcXCJhcHAtb24taGlkZVxcXCIsaS5vbkhpZGVDYWxsYmFjayxvKSxudWxsPT1pfHxudWxsPT09KG49aS4kYXBwKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uJGRlZil8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLnRvcG9uX3Nkayl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmV2ZW50KXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uZGVlcGxpbmspfHx2b2lkIDA9PT1ufHxuLnN1YnNjcmliZShcXFwiYXBwLW9uLXNob3dcXFwiLGkub25TaG93Q2FsbGJhY2ssbyksXFxcInZpdm9cXFwiPT0obnVsbD09aXx8bnVsbD09PShhPWkuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09YXx8bnVsbD09PShhPWEuYnJhbmQpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRvTG93ZXJDYXNlKCkpJiYoaS5mYWlsVGltZUlkJiZjbGVhclRpbWVvdXQoaS5mYWlsVGltZUlkKSxpLmZhaWxUaW1lSWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpLm5vdGljZVN1Y2NlZWR8fGkuaGFuZGxlRGVlcExpbmtGYWlsZWQoKX0pLDNlMykpfWVsc2V7aS5oYW5kbGVOb3RpY2UoXFxcImFwcF91bmluc3RhbGxcXFwiKSxpLmhhbmRsZU5vdGljZShcXFwiZHBfdW5pbnN0X2ZhaWxcXFwiKTt2YXIgZD17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpmLHJlcXVlc3RpZDpoLl9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIitfLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIreSxtc2czOlxcXCIwXFxcIixtc2c0OlxcXCIxXFxcIixtc2c3OlxcXCIxXFxcIn07VmEuY2FsbChpLGQpLHIucHVzaCh7dXJpOlxcXCJUb3BPbi9BZExhbmRpbmdcXFwiLHBhcmFtczp7dXJsOnl9fSl9fSxmYWlsOmZ1bmN0aW9uKHQsZSl7aS5oYW5kbGVOb3RpY2UoXFxcImRwX3VuaW5zdF9mYWlsXFxcIik7dmFyIG49e2tleTpcXFwiREVFUExJTktfUkVTVUxUXFxcIix1bml0aWQ6ZixyZXF1ZXN0aWQ6aC5fcmVxdWVzdF9pZCxtc2c6XFxcIlxcXCIrXyxtc2cxOlxcXCIyXFxcIixtc2cyOlxcXCJcXFwiK3ksbXNnMzpcXFwiMFxcXCIsbXNnNDpcXFwiMVxcXCIsbXNnNzpcXFwiMVxcXCJ9O1ZhLmNhbGwoaSxuKSxyLnB1c2goe3VyaTpcXFwiVG9wT24vQWRMYW5kaW5nXFxcIixwYXJhbXM6e3VybDp5fX0pfX0pOzI9PT1JJiZyLnB1c2goe3VyaTp5fSksMz09PUkmJnIucHVzaCh7dXJpOlxcXCJUb3BPbi9BZExhbmRpbmdcXFwiLHBhcmFtczp7dXJsOnl9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5hZERlc3Ryb3k9ITA7dmFyIGk9bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQucmV3YXJkKSYmdm9pZCAwIT09ZSYmZTtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwiLHBhcmFtczp7cmV3YXJkOml9fSksaSYmc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFJld2FyZFxcXCIscGFyYW1zOntyZXdhcmQ6aX19KSx0aGlzLnZhbGlkaXR5VGltZUlkJiZjbGVhclRpbWVvdXQodGhpcy52YWxpZGl0eVRpbWVJZCksdGhpcy5kZXN0cm95UmV3YXJkZWRWaWRlbygpfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzfHx7fSkuYWRPcHRpb24sbj12b2lkIDA9PT1pP3t9Omkscj1uLl9yZXF1ZXN0X2lkK1xcXCIvXFxcIituLl91bml0X2lkO2lmKHRoaXMubG9ja0FkRXJyb3IhPT1yKXt0aGlzLmxvY2tBZEVycm9yPXIsdGhpcy5yZWFkeT0hMTt2YXIgYT1lKGUoe30sdCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX0pO2RlbGV0ZSBhLmVyckNvZGUsZGVsZXRlIGEuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOmF9KSxjZC5jYWxsKHRoaXMpfX0sYWRJbXByZXNzaW9uOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5jbGllbnRSZWN0LGk9dC5kaWZmLG49dm9pZCAwPT09aT8wOmk7dGhpcy5jbGllbnRSZWN0PWUsdGhpcy5pc0FkRXhwb3N1cmVWYWxpZChlLG4pLHRoaXMucmVwb3J0QmlkV2luRGEoKX0scmVwb3J0QmlkV2luRGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzfHx7fSxlPXQuYWRFeHRyYSxpPXZvaWQgMD09PWU/e306ZSxuPXQuY3VycmVudEFkLHI9dm9pZCAwPT09bj97fTpuLGE9dC5hZE9wdGlvbixvPXZvaWQgMD09PWE/e306YSxkPWkucGxhY2VtZW50SWQscz1pLnRyYWZmaWNHcm91cElkLGw9aS5zZWdtZW50SWQsYz1pLmFzSWQsdT1pLm53RmlybUlkLGg9aS5lY3BtLHA9aS5iaWRUayxmPXtrZXk6XFxcIkJJRF9XSU5cXFwiLHVuaXRpZDpkLHJlcXVlc3RpZDpvLl9yZXF1ZXN0X2lkLGdyb3VwaWQ6bCx0cmFmZmljX2dyb3VwX2lkOnMsYXNpZDpjLG1zZzpTdHJpbmcodSksbXNnMTpTdHJpbmcoby5fdW5pdF9pZCksbXNnMjpcXFwiXFxcIixtc2czOlxcXCJcXFwiLG1zZzQ6XFxcIlxcXCIrci5kc3BfaWQsbXNnNTpcXFwiXFxcIityLm9pZCxtc2c2OlxcXCIxXFxcIixtc2c3OnAudHBCaWRJZCxtc2c4OlxcXCJcXFwiK2gsbXNnOTpcXFwiXFxcIn07VmEuY2FsbCh0aGlzLGYpfSxpc0FkRXhwb3N1cmVWYWxpZDpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcyxyPXRoaXN8fHt9LGE9ci5hZEV4dHJhLG89dm9pZCAwPT09YT97fTphLGQ9ci5jdXJyZW50QWQscz12b2lkIDA9PT1kP3t9OmQsbD1EYXRlLm5vdygpLGM9WzEsM10uaW5jbHVkZXMoby5mb3JtYXQpPzA6MTAwO251bGwhPXMmJm51bGwhPT0oaT1zLmN0cmwpJiZ2b2lkIDAhPT1pJiZpLnNobV90JiYoYz1zLmN0cmwuc2htX3QpO3ZhciB1PWMsaD1GLmNhbGwodGhpcyx0LHRoaXMuZGV2aWNlSW5mb0NhY2hlKSxwPURhdGUubm93KCktbCtlO2lmKGM+cCYmKHU9Yy1wKSxjPHAmJih1PTApLGg+LjAyKXRoaXMudmFsaWRpdHlUaW1lSWQmJmNsZWFyVGltZW91dCh0aGlzLnZhbGlkaXR5VGltZUlkKSx0aGlzLnZhbGlkaXR5VGltZUlkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5hZERlc3Ryb3k/Y29uc29sZS5lcnJvcihcXFwiQURY5bm/5ZGK5peg5pWI5bGV56S6XFxcIik6KG4uaGFuZGxlTm90aWNlKFxcXCJudXJsXFxcIiksc2QuY2FsbChuLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KSxuLmhhbmRsZU5vdGljZShcXFwiaW1wXFxcIiksbi5oYW5kbGVOb3RpY2UoXFxcImJ1cmxcXFwiKSl9KSx1KTtlbHNle3ZhciBmLHY7Y29uc29sZS5lcnJvcihcXFwiQURY5bm/5ZGK5peg5pWI5bGV56S6XFxcIik7dmFyIG09e3JhdGlvOmgsY2xpZW50UmVjdDp0LGRldmljZUluZm86e3NjcmVlbldpZHRoOm51bGw9PT0oZj10aGlzLmRldmljZUluZm9DYWNoZSl8fHZvaWQgMD09PWY/dm9pZCAwOmYuc2NyZWVuV2lkdGgsc2NyZWVuSGVpZ2h0Om51bGw9PT0odj10aGlzLmRldmljZUluZm9DYWNoZSl8fHZvaWQgMD09PXY/dm9pZCAwOnYuc2NyZWVuSGVpZ2h0fX07dGhpcy5yZXBvcnRJbnZhbGlkSW1wcmVzc2lvbkRhKG0pfX0saGFuZGxlTm90aWNlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9KHRoaXMuY3VycmVudEFkfHx7fSkudGssbj12b2lkIDA9PT1pP3t9Omk7aWYoblt0XSYmbnVsbCE9PShlPW5bdF0pJiZ2b2lkIDAhPT1lJiZlLmxlbmd0aCl7dmFyIHI9dGhpcy5nZXRNYWNyb0RhdGEoKTtrby5jYWxsKHRoaXMsblt0XSxyKX19LGdldE1hY3JvRGF0YTpmdW5jdGlvbigpe3ZhciB0LGUsaSxuLHIsYSxvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnPXRoaXMuY2xpZW50UmVjdCx5PXRoaXMuc3RhcnRQb2ludCxJPXZvaWQgMD09PXk/e306eSxiPXRoaXMuZW5kUG9pbnQsaz12b2lkIDA9PT1iP3t9OmIsdz10aGlzLmN1cnJlbnRBZCx4PXZvaWQgMD09PXc/e306dyxTPXtkb3duX3g6bnVsbCE9PSh0PW51bGw9PUk/dm9pZCAwOkkuY2xpZW50WCkmJnZvaWQgMCE9PXQ/dDpcXFwiLTk5OVxcXCIsZG93bl95Om51bGwhPT0oZT1udWxsPT1JP3ZvaWQgMDpJLmNsaWVudFkpJiZ2b2lkIDAhPT1lP2U6XFxcIi05OTlcXFwiLHVwX3g6bnVsbCE9PShpPW51bGw9PWs/dm9pZCAwOmsuY2xpZW50WCkmJnZvaWQgMCE9PWk/aTpcXFwiLTk5OVxcXCIsdXBfeTpudWxsIT09KG49bnVsbD09az92b2lkIDA6ay5jbGllbnRZKSYmdm9pZCAwIT09bj9uOlxcXCItOTk5XFxcIn0sVD17ZG93bl94Om51bGwhPT0ocj1udWxsPT1JP3ZvaWQgMDpJLm9mZnNldFgpJiZ2b2lkIDAhPT1yP3I6XFxcIi05OTlcXFwiLGRvd25feTpudWxsIT09KGE9bnVsbD09ST92b2lkIDA6SS5vZmZzZXRZKSYmdm9pZCAwIT09YT9hOlxcXCItOTk5XFxcIix1cF94Om51bGwhPT0obz1udWxsPT1rP3ZvaWQgMDprLm9mZnNldFgpJiZ2b2lkIDAhPT1vP286XFxcIi05OTlcXFwiLHVwX3k6bnVsbCE9PShkPW51bGw9PWs/dm9pZCAwOmsub2Zmc2V0WSkmJnZvaWQgMCE9PWQ/ZDpcXFwiLTk5OVxcXCJ9O3JldHVybntcXFwie19fV0lEVEhfX31cXFwiOm51bGwhPT0ocz1udWxsPT1nP3ZvaWQgMDpnLndpZHRoKSYmdm9pZCAwIT09cz9zOlxcXCJcXFwiLFxcXCJ7X19IRUlHSFRfX31cXFwiOm51bGwhPT0obD1udWxsPT1nP3ZvaWQgMDpnLmhlaWdodCkmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIixcXFwie19fRE9XTl9YX199XFxcIjpudWxsIT09KGM9bnVsbD09ST92b2lkIDA6SS5jbGllbnRYKSYmdm9pZCAwIT09Yz9jOlxcXCJcXFwiLFxcXCJ7X19ET1dOX1lfX31cXFwiOm51bGwhPT0odT1udWxsPT1JP3ZvaWQgMDpJLmNsaWVudFkpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCIsXFxcIntfX1VQX1hfX31cXFwiOm51bGwhPT0oaD1udWxsPT1rP3ZvaWQgMDprLmNsaWVudFgpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsXFxcIntfX1VQX1lfX31cXFwiOm51bGwhPT0ocD1udWxsPT1rP3ZvaWQgMDprLmNsaWVudFkpJiZ2b2lkIDAhPT1wP3A6XFxcIlxcXCIsXFxcIntfX1JFX0RPV05fWF9ffVxcXCI6bnVsbCE9PShmPW51bGw9PUk/dm9pZCAwOkkub2Zmc2V0WCkmJnZvaWQgMCE9PWY/ZjpcXFwiLTk5OVxcXCIsXFxcIntfX1JFX0RPV05fWV9ffVxcXCI6bnVsbCE9PSh2PW51bGw9PUk/dm9pZCAwOkkub2Zmc2V0WSkmJnZvaWQgMCE9PXY/djpcXFwiLTk5OVxcXCIsXFxcIntfX1JFX1VQX1hfX31cXFwiOm51bGwhPT0obT1udWxsPT1rP3ZvaWQgMDprLm9mZnNldFgpJiZ2b2lkIDAhPT1tP206XFxcIi05OTlcXFwiLFxcXCJ7X19SRV9VUF9ZX199XFxcIjpudWxsIT09KF89bnVsbD09az92b2lkIDA6ay5vZmZzZXRZKSYmdm9pZCAwIT09Xz9fOlxcXCItOTk5XFxcIixcXFwie19fVFNfX31cXFwiOkkudGltZXN0YW1wLzFlMyxcXFwie19fVFNfTVNFQ19ffVxcXCI6SS50aW1lc3RhbXAsXFxcIntfX0VORF9UU19ffVxcXCI6ay50aW1lc3RhbXAvMWUzLFxcXCJ7X19FTkRfVFNfTVNFQ19ffVxcXCI6ay50aW1lc3RhbXAsXFxcIntBQlNPTFVURV9DT09SRH1cXFwiOlMsXFxcIntSRUxBVElWRV9DT09SRH1cXFwiOlQsXFxcIntfX0RQTElOS19UWVBFX199XFxcIjp4LmRlZXBsaW5rPzE6Mn19LGhhbmRsZURlZXBMaW5rU3VjY2VlZDpmdW5jdGlvbih0KXt2YXIgZTt0aGlzLmhhbmRsZU5vdGljZShcXFwiZHBfc3VjY1xcXCIpLHRoaXMubm90aWNlU3VjY2VlZD0hMCx0aGlzLmZhaWxUaW1lSWQmJmNsZWFyVGltZW91dCh0aGlzLmZhaWxUaW1lSWQpLG51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLiRhcHApfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS4kZGVmKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUudG9wb25fc2RrKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZXZlbnQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5kZWVwbGluayl8fHZvaWQgMD09PWV8fGUudW5zdWJzY3JpYmUoXFxcImFwcC1vbi1zaG93XFxcIik7dmFyIGk9dGhpc3x8e30sbj1pLmFkRXh0cmEscj12b2lkIDA9PT1uP3t9Om4sYT1pLmN1cnJlbnRBZCxvPXZvaWQgMD09PWE/e306YSxkPWkuYWRPcHRpb24scz12b2lkIDA9PT1kP3t9OmQsbD1yLnBsYWNlbWVudElkLGM9by5kZWVwbGluayx1PXZvaWQgMD09PWM/XFxcIlxcXCI6YyxoPW8ub2lkLHA9e2tleTpcXFwiREVFUExJTktfUkVTVUxUXFxcIix1bml0aWQ6bCxyZXF1ZXN0aWQ6cy5fcmVxdWVzdF9pZCxtc2c6XFxcIlxcXCIraCxtc2cxOlxcXCIyXFxcIixtc2cyOlxcXCJcXFwiK3UsbXNnMzpcXFwiMVxcXCIsbXNnNDpcXFwiMFxcXCIsbXNnNzpcXFwiMVxcXCJ9O1ZhLmNhbGwodGhpcyxwKX0saGFuZGxlRGVlcExpbmtGYWlsZWQ6ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5oYW5kbGVOb3RpY2UoXFxcImRwX2luc3RfZmFpbFxcXCIpLHRoaXMubm90aWNlRmFpbGVkPSEwLHRoaXMuc3VjY2VlZFRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMuc3VjY2VlZFRpbWVJZCksbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGFwcCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5ldmVudCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmRlZXBsaW5rKXx8dm9pZCAwPT09ZXx8ZS51bnN1YnNjcmliZShcXFwiYXBwLW9uLWhpZGVcXFwiKTt2YXIgaT10aGlzfHx7fSxuPWkuYWRFeHRyYSxyPXZvaWQgMD09PW4/e306bixhPWkuY3VycmVudEFkLG89dm9pZCAwPT09YT97fTphLGQ9aS5hZE9wdGlvbixzPXZvaWQgMD09PWQ/e306ZCxsPXIucGxhY2VtZW50SWQsYz1vLmRlZXBsaW5rLHU9dm9pZCAwPT09Yz9cXFwiXFxcIjpjLGg9by5vaWQscD17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpsLHJlcXVlc3RpZDpzLl9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIitoLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIrdSxtc2czOlxcXCIwXFxcIixtc2c0OlxcXCIwXFxcIixtc2c3OlxcXCIxXFxcIn07VmEuY2FsbCh0aGlzLHApfSxhZFRvdWNoOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxpPXQuZGF0YTt0aGlzW1xcXCJcXFwiLmNvbmNhdChlLFxcXCJQb2ludFxcXCIpXT1pfSxhZEZlZWRiYWNrOmZ1bmN0aW9uKHQpe3ZhciBpLG4scixhLG8sZCxzLGwsYz10aGlzfHx7fSx1PWMuYWRFeHRyYSxoPXZvaWQgMD09PXU/e306dSxwPWMuYWRPcHRpb24sZj12b2lkIDA9PT1wP3t9OnAsdj1jLmN1cnJlbnRBZCxtPXZvaWQgMD09PXY/e306dixfPWUoZSh7a2V5OlxcXCJBRF9GRUVEQkFDS1xcXCIsdW5pdGlkOmgucGxhY2VtZW50SWQscmVxdWVzdGlkOmYuX3JlcXVlc3RfaWQsbXNnOlxcXCI2NlxcXCIsbXNnMTpcXFwiXFxcIitmLl91bml0X2lkLG1zZzI6XFxcIjJcXFwifSx0KSx7fSx7bXNnNTpudWxsIT09KGk9bnVsbD09bT92b2lkIDA6bS5vaWQpJiZ2b2lkIDAhPT1pP2k6XFxcIlxcXCIsbXNnNjpudWxsIT09KG49bnVsbD09bT92b2lkIDA6bS5jX2lkKSYmdm9pZCAwIT09bj9uOlxcXCJcXFwiLG1zZzc6bnVsbCE9PShyPW51bGw9PW0/dm9pZCAwOm0ucGtnKSYmdm9pZCAwIT09cj9yOlxcXCJcXFwiLG1zZzg6bnVsbCE9PShhPW51bGw9PW0/dm9pZCAwOm0udGl0bGUpJiZ2b2lkIDAhPT1hP2E6XFxcIlxcXCIsbXNnOTpudWxsIT09KG89bnVsbD09bT92b2lkIDA6bS5kZXNjKSYmdm9pZCAwIT09bz9vOlxcXCJcXFwiLG1zZzEwOm51bGwhPT0oZD1udWxsPT1tP3ZvaWQgMDptLmljb25fdSkmJnZvaWQgMCE9PWQ/ZDpcXFwiXFxcIixtc2cxMTpudWxsIT09KHM9bnVsbD09bT92b2lkIDA6bS5mdWxsX3UpJiZ2b2lkIDAhPT1zP3M6XFxcIlxcXCIsbXNnMTI6bnVsbCE9PShsPW51bGw9PW0/dm9pZCAwOm0udmlkZW9fdSkmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIixtc2cxMzpKU09OLnN0cmluZ2lmeShudWxsPT1tP3ZvaWQgMDptLmltZ19saXN0KX0pO1ZhLmNhbGwodGhpcyxfKX0sc3Vic2NyaWJlQXBwSGlkZUNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLGk9bnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQuYnJhbmQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRvTG93ZXJDYXNlKCk7W1xcXCJvcHBvXFxcIixcXFwieGlhb21pXFxcIixcXFwicmVkbWlcXFwiXS5pbmNsdWRlcyhpKT8odGhpcy5zdWNjZWVkVGltZUlkJiZjbGVhclRpbWVvdXQodGhpcy5zdWNjZWVkVGltZUlkKSx0aGlzLnN1Y2NlZWRUaW1lSWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLm5vdGljZUZhaWxlZHx8ZS5oYW5kbGVEZWVwTGlua1N1Y2NlZWQoKX0pLDFlMykpOnRoaXMuaGFuZGxlRGVlcExpbmtTdWNjZWVkKCl9LHJlcG9ydEludmFsaWRJbXByZXNzaW9uRGE6ZnVuY3Rpb24oKXt2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxpPXRoaXN8fHt9LG49aS5hZE9wdGlvbixyPXZvaWQgMD09PW4/e306bixhPWkuYWRFeHRyYSxvPXZvaWQgMD09PWE/e306YSxkPWkuY3VycmVudEFkLHM9dm9pZCAwPT09ZD97fTpkLGw9by5wbGFjZW1lbnRJZCxjPW8udHJhZmZpY0dyb3VwSWQsdT1vLnNlZ21lbnRJZCxoPW8uYXNJZDtvLm53RmlybUlkLG8uZWNwbSxvLmJpZFRrO3ZhciBwPXtrZXk6XFxcIkFEWF9JTVBfSU5WQUxJRFxcXCIsdW5pdGlkOmwscmVxdWVzdGlkOnIuX3JlcXVlc3RfaWQsZ3JvdXBpZDp1LHRyYWZmaWNfZ3JvdXBfaWQ6Yyxhc2lkOmgsbXNnOnMuZHNwX2lkLG1zZzE6U3RyaW5nKHIuX3VuaXRfaWQpLG1zZzI6XFxcIlxcXCIrcy5vaWQsbXNnMzpcXFwiMlxcXCIsbXNnNDpudWxsIT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5tc2c0KSYmdm9pZCAwIT09dD90OlxcXCIyXFxcIixtc2c1OkpTT04uc3RyaW5naWZ5KGUpfTtWYS5jYWxsKHRoaXMscCl9fSxnZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkJBSURVLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KHRoaXMuaXNTaG93PSEwLHRoaXMubG9ja0FkQ2xpY2tlZD0hMSxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KX0sc2hvdzpmdW5jdGlvbigpe3RoaXMucmVhZHkmJih0aGlzLmRpc3BsYXllZD0hMCl9LGFkTG9hZDpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSEwLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRMb2FkXFxcIixwYXJhbXM6e2lzU2VsZlJlbmRlcmluZzohMX19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RfRklMTEVEXFxcIn19KSxjZC5jYWxsKHRoaXMpfSxhZFNob3c6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMSxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkU2hvd1xcXCJ9KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0lNUFJFU1NJT05cXFwifX0pfSxhZENsaWNrOmZ1bmN0aW9uKHQpe3RoaXMubG9ja0FkQ2xpY2tlZD0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkRG93bmxvYWRDbGljazpmdW5jdGlvbih0KXt0aGlzLmxvY2tBZENsaWNrZWR8fChzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSkpfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCJ9KX0sYWRFcnJvcjpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExO3ZhciBpPWUoZSh7fSx0LnN0b3A/dC5kZXRhaWw6dCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZXx8dC50eXBlfSk7ZGVsZXRlIGkuZXJyQ29kZSxkZWxldGUgaS5lcnJNc2csc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6aX0pLGNkLmNhbGwodGhpcyl9fSx5ZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkJBSURVLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXM7dHJ5e3RoaXMuYWQ9dGhpcy4kYXBwLiRkZWYudW5pb25fcXVpY2tfYXBwX3Nkay5jcmVhdGVSZXdhcmRlZFZpZGVvQWQoe2FwaWQ6dGhpcy5hZE9wdGlvbi5wbGFjZW1lbnRfaWQsYXBwaWQ6dGhpcy5hZE9wdGlvbi5hcHBfaWR9KSx0aGlzLmFkLm9uTG9hZCgoZnVuY3Rpb24odCl7ZS5hZExvYWQodCl9KSksdGhpcy5hZC5vbkNsb3NlKChmdW5jdGlvbih0KXtlLmFkQ2xvc2UodCl9KSksdGhpcy5hZC5vbkNsaWNrJiZ0aGlzLmFkLm9uQ2xpY2soKGZ1bmN0aW9uKHQpe2UuYWRDbGljayh0KX0pKSx0aGlzLmFkLm9uRXJyb3IoKGZ1bmN0aW9uKHQpe2UucmVhZHk9ITEsZS5hZEVycm9yKHQpfSkpfWNhdGNoKHQpe3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJjcmVhdGVSZXdhcmRlZFZpZGVvQWTlub/lkYrmnI3liqHplJnor69cXFwifSl9c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmxvY2tBZExvYWQ9ITEsbnVsbD09PSh0PXRoaXMuYWQpfHx2b2lkIDA9PT10fHx0LmxvYWQoKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMucmVhZHkmJih0aGlzLmFkLnNob3coKSx0aGlzLmFkU2hvdygpLHRoaXMucmVhZHk9ITEpfSxhZExvYWQ6ZnVuY3Rpb24odCl7dGhpcy5sb2NrQWRMb2FkfHwodGhpcy5yZWFkeT0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKSl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLmxvY2tBZExvYWQ9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPW51bGwhPT0oZT1udWxsPT10fHxudWxsPT09KGk9dC5kYXRhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5yZXdhcmQpJiZ2b2lkIDAhPT1lJiZlO3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCIscGFyYW1zOntyZXdhcmQ6bn19KSxuJiZzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkUmV3YXJkXFxcIixwYXJhbXM6dH0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxvY2tBZExvYWQpe3RoaXMucmVhZHk9ITE7dmFyIGk9ZShlKHt9LHQuc3RvcD90LmRldGFpbDp0KSx7fSx7bXNnOnQuZXJyTXNnfHx0Lm1zZyxjb2RlOnQuZXJyQ29kZXx8dC5jb2RlfHx0LnR5cGV9KTtkZWxldGUgaS5lcnJDb2RlLGRlbGV0ZSBpLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczppfSksY2QuY2FsbCh0aGlzKX19fSxJZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkJBSURVLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt0aGlzLmlzU2hvdz0obmV3IERhdGUpLmdldFRpbWUoKSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RcXFwifX0pfSxhZExvYWQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKX0sYWRTaG93OmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITEsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9TSE9XXFxcIn19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0lNUFJFU1NJT05cXFwifX0pfSxhZENsaWNrOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbGlja1xcXCJ9KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0NMSUNLXFxcIn19KX0sYWRDbG9zZTpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwifSl9LGFkRXJyb3I6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMTt2YXIgaT1lKGUoe30sdC5zdG9wP3QuZGV0YWlsOnQpLHt9LHttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV8fHQudHlwZX0pO2RlbGV0ZSBpLmVyckNvZGUsZGVsZXRlIGkuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOml9KSxjZC5jYWxsKHRoaXMpfX0sYmQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5CQUlEVSx0aGlzLmFkT3B0aW9uLl91bml0X2lkKTt0P3RoaXMuYWRFcnJvcih7Y29kZTp0LG1zZzpcXFwi6K+l5bm/5ZGK5rqQ6KKr6L+H5rukXFxcIn0pOih0aGlzLmlzU2hvdz0hMCxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsdGhpcy5sb2NrQWRDbG9zZT0hMSx0aGlzLnNob3dDbGFzc05hbWU9XFxcInVuaW9uLWFkLXdyYXBlci0tc2hvd1xcXCIsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfU0hPV1xcXCJ9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5sb2NrQWRDbG9zZXx8c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsb3NlXFxcIn0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMubG9ja0FkQ2xvc2U9ITAsdGhpcy5yZWFkeT0hMTt2YXIgaT1lKGUoe30sdC5zdG9wP3QuZGV0YWlsOnQpLHt9LHttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV8fHQudHlwZX0pO2RlbGV0ZSBpLmVyckNvZGUsZGVsZXRlIGkuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOml9KSxjZC5jYWxsKHRoaXMpfX07ZnVuY3Rpb24ga2QoKXt2YXIgdD10aGlzfHx7fSxlPXQuYWRPcHRpb24saT12b2lkIDA9PT1lP3t9OmUsbj10LmFkRXh0cmEscj12b2lkIDA9PT1uP3t9Om4sYT1yLnBsYWNlbWVudElkLG89ci50cmFmZmljR3JvdXBJZCxkPXIuc2VnbWVudElkLHM9ci5hc0lkLGw9ci5ud0Zpcm1JZCxjPXIuZWNwbSx1PXtrZXk6XFxcIkJJRF9XSU5cXFwiLHVuaXRpZDphLHJlcXVlc3RpZDppLl9yZXF1ZXN0X2lkLGdyb3VwaWQ6ZCx0cmFmZmljX2dyb3VwX2lkOm8sYXNpZDpzLG1zZzpTdHJpbmcobCksbXNnMTpTdHJpbmcoaS5fdW5pdF9pZCksbXNnMjpcXFwiXFxcIixtc2czOlxcXCJcXFwiLG1zZzQ6XFxcIlxcXCIsbXNnNTpcXFwiXFxcIixtc2c2OlxcXCIyXFxcIixtc2c3OlxcXCJcXFwiLG1zZzg6XFxcIlxcXCIrYyxtc2c5OlxcXCJcXFwifTtWYS5jYWxsKHRoaXMsdSl9ZnVuY3Rpb24gd2QoKXt2YXIgdD10aGlzfHx7fSxlPXQuYWRPcHRpb24saT12b2lkIDA9PT1lP3t9OmUsbj10LmFkRXh0cmEscj1cXFwiXFxcIi5jb25jYXQoKHZvaWQgMD09PW4/e306bikucGxhY2VtZW50SWQsXFxcIi9cXFwiKS5jb25jYXQoaS5fdW5pdF9pZCk7Ti5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLHIse30pfWZ1bmN0aW9uIHhkKCl7dmFyIHQ7bnVsbCE9dGhpcyYmdGhpcy5hZE9wdGlvbiYmbnVsbCE9dGhpcyYmdGhpcy5hZEV4dHJhJiZcXFwiMVxcXCI9PT0obnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuYWRPcHRpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0Ll90eXBlKSYmKGtkLmNhbGwodGhpcyksd2QuY2FsbCh0aGlzKSl9dmFyIFNkPXthZFByb3h5RXZlbnQ6e29uSW5pdDpmdW5jdGlvbigpe3ZhciB0PVAodGhpcy5hZENvbmZpZy5maWx0ZXIsdHQuWUxILHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KHRoaXMubG9ja0FkQ2xpY2tlZD0hMSxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7dmFyIHQ9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZCxzLGwsYztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVFxcXCJ9fSksZD1udWxsIT09KGU9bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uJGRlZikmJnZvaWQgMCE9PWU/ZTp0aGlzLiRkZWYscz0obnVsbD09ZD92b2lkIDA6ZC50b3Bvbl9zZGspfHx7fSx2KG51bGw9PShsPXMuc3RvcmUpfHxudWxsPT09KHI9bC5kZXZpY2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluZm8pKXt0Lm5leHQ9NzticmVha310LnQwPW51bGw9PWx8fG51bGw9PT0oYT1sLmRldmljZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaW5mbyx0Lm5leHQ9MTM7YnJlYWs7Y2FzZSA3OnJldHVybiB0Lm5leHQ9OSxILmdldEluZm8oKTtjYXNlIDk6aWYodC50MT10LnNlbnQsdC50MSl7dC5uZXh0PTEyO2JyZWFrfXQudDE9e307Y2FzZSAxMjp0LnQwPXQudDE7Y2FzZSAxMzppZighKChudWxsPT0oYz10LnQwKT92b2lkIDA6Yy5wbGF0Zm9ybVZlcnNpb25Db2RlKTwxMTAwKSl7dC5uZXh0PTE3O2JyZWFrfXJldHVybiB0aGlzLmFkRXJyb3Ioe2NvZGU6OWUzLG1zZzpcXFwi5LiN5pSv5oyB6K+l5bmz5Y+w54mI5pysXFxcIn0pLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiKTtjYXNlIDE3OlxcXCIxXFxcIj09PShudWxsPT10aGlzfHxudWxsPT09KG89dGhpcy5hZE9wdGlvbil8fHZvaWQgMD09PW8/dm9pZCAwOm8uX3R5cGUpP3RoaXMuYmlkKCk6dGhpcy5sb2FkRmVlZEFkKCk7Y2FzZSAxODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksYmlkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8e30sZT10LmFkT3B0aW9uLGk9dm9pZCAwPT09ZT97fTplLG49dC5hZEV4dHJhLHI9XFxcIlxcXCIuY29uY2F0KCh2b2lkIDA9PT1uP3t9Om4pLnBsYWNlbWVudElkLFxcXCIvXFxcIikuY29uY2F0KGkuX3VuaXRfaWQpLGE9ai5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLHIpfHx7fSxvPXthZExpc3Q6YS5vZmZlcj9bYS5vZmZlcl06W119O3RoaXMuYWRMb2FkKG8pfSxsb2FkRmVlZEFkOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLGk9dGhpcy5hZE9wdGlvbixuPWkuX253X3JlcV9udW0scj1pLnVuaXRfaWQsYT1pLmFsbG93X3JlY29tbWVuZCxvPW51bGw9PT0odD10aGlzLiRhcHApfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dD92b2lkIDA6dC55bGhfc2RrO3Yobyk/dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcIuaJvuS4jeWIsOS8mOmHj+axh1NES1xcXCJ9KTpvLm9uWWxoUmVhZHkoKGZ1bmN0aW9uKCl7dmFyIHQ9e2NvdW50Om4mJm48PTEwP246MSxwbGFjZW1lbnRJZDpyLHJlY29tbWVuZGF0aW9uOlxcXCIxXFxcIj09PWE/MjoxfTtvLmxvYWRGZWVkQWQodCkudGhlbigoZnVuY3Rpb24odCl7dmFyIGk9e2FkTGlzdDp0fHxbXX07dC5jb2RlJiZ0LmNvZGU+MD9lLmFkRXJyb3Ioe2NvZGU6YXRbdC5jb2RlXXx8MmUzLG1zZzpcXFwiXFxcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC5tZXNzYWdlLFxcXCIgcmVhbCBjb2RlIFtcXFwiKS5jb25jYXQodC5jb2RlLFxcXCJdXFxcIil9KTplLmFkTG9hZChpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZS5hZEVycm9yKHtjb2RlOjJlMyxtc2c6KG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSl8fFxcXCJcXFwifSl9KSl9KSl9LGdldEFkOmZ1bmN0aW9uKCl7aWYoIXRoaXMucmVhZHkpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5hZExpc3RbdGhpcy5hZExpc3RJbmRleEluVXNlXXx8e307cmV0dXJuIHRoaXMuYWRMaXN0SW5kZXhJblVzZSsrLHR8fCh0aGlzLnJlYWR5PSExKSx4ZC5jYWxsKHRoaXMpLHR9LGFkTG9hZDpmdW5jdGlvbih0KXt2YXIgZSxpO3RoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQuYWRMaXN0KSYmdm9pZCAwIT09ZT9lOltdLFxcXCIxXFxcIiE9PShudWxsPT10aGlzfHxudWxsPT09KGk9dGhpcy5hZE9wdGlvbil8fHZvaWQgMD09PWk/dm9pZCAwOmkuX3R5cGUpJiYodGhpcy5hZExpc3Q9dGhpcy5zb3J0QnlQcmljZSh0aGlzLmFkTGlzdCkpLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRMb2FkXFxcIixwYXJhbXM6e2lzU2VsZlJlbmRlcmluZzohMH19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RfRklMTEVEXFxcIn19KSxjZC5jYWxsKHRoaXMpfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGk9ZShlKHt9LHQuc3RvcD90LmRldGFpbDp0KSx7fSx7bXNnOnQuZXJyTXNnfHx0Lm1zZyxjb2RlOnQuZXJyQ29kZXx8dC5jb2RlfHx0LnR5cGV9KTtkZWxldGUgaS5lcnJDb2RlLGRlbGV0ZSBpLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczppfSksY2QuY2FsbCh0aGlzKX0scmVwb3J0U2hvdzpmdW5jdGlvbigpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfU0hPV1xcXCJ9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0scmVwb3J0Q2xpY2s6ZnVuY3Rpb24oKXtzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0NMSUNLXFxcIn19KX0sc29ydEJ5UHJpY2U6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnQubGVuZ3RoKTw9MXx8dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLmdldEVDUE0oKS10LmdldEVDUE0oKX0pKSx0fX0sVGQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5ZTEgsdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToodGhpcy5sb2NrQWRDbGlja2VkPSExLGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSxkPW51bGwhPT0oZT1udWxsPT09KG49dGhpcy4kYXBwKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kZGVmKSYmdm9pZCAwIT09ZT9lOnRoaXMuJGRlZixzPShudWxsPT1kP3ZvaWQgMDpkLnRvcG9uX3Nkayl8fHt9LHYobnVsbD09KGw9cy5zdG9yZSl8fG51bGw9PT0ocj1sLmRldmljZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaW5mbykpe3QubmV4dD03O2JyZWFrfXQudDA9bnVsbD09bHx8bnVsbD09PShhPWwuZGV2aWNlKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pbmZvLHQubmV4dD0xMzticmVhaztjYXNlIDc6cmV0dXJuIHQubmV4dD05LEguZ2V0SW5mbygpO2Nhc2UgOTppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTI7YnJlYWt9dC50MT17fTtjYXNlIDEyOnQudDA9dC50MTtjYXNlIDEzOmlmKCEoKG51bGw9PShjPXQudDApP3ZvaWQgMDpjLnBsYXRmb3JtVmVyc2lvbkNvZGUpPDExMDApKXt0Lm5leHQ9MTc7YnJlYWt9cmV0dXJuIHRoaXMuYWRFcnJvcih7Y29kZTo5ZTMsbXNnOlxcXCLkuI3mlK/mjIHor6XlubPlj7DniYjmnKxcXFwifSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTc6XFxcIjFcXFwiPT09KG51bGw9PXRoaXN8fG51bGw9PT0obz10aGlzLmFkT3B0aW9uKXx8dm9pZCAwPT09bz92b2lkIDA6by5fdHlwZSk/dGhpcy5iaWQoKTp0aGlzLmNyZWF0ZVJld2FyZFZpZGVvQWQoKTtjYXNlIDE4OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxiaWQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcyxuPXRoaXN8fHt9LHI9bi5hZE9wdGlvbixhPXZvaWQgMD09PXI/e306cixvPW4uYWRFeHRyYSxkPVxcXCJcXFwiLmNvbmNhdCgodm9pZCAwPT09bz97fTpvKS5wbGFjZW1lbnRJZCxcXFwiL1xcXCIpLmNvbmNhdChhLl91bml0X2lkKSxzPWouY2FsbCh0aGlzLFxcXCJ1bml0XFxcIixkKXx8e30sbD1udWxsIT09KHQ9bnVsbD09cz92b2lkIDA6cy5hZCkmJnZvaWQgMCE9PXQ/dDpudWxsLGM9bnVsbCE9PShlPW51bGw9PXM/dm9pZCAwOnMub2ZmZXIpJiZ2b2lkIDAhPT1lP2U6e307bCYmKHRoaXMuYWRMb2FkKGMpLHRoaXMuYmlkT2ZmZXI9Yyx0aGlzLmFkPWwsdGhpcy5hZC5vbkV4cG9zZSgoZnVuY3Rpb24odCl7aS5hZFNob3coKX0pKSx0aGlzLmFkLm9uQ2xpY2soKGZ1bmN0aW9uKCl7aS5hZENsaWNrKCl9KSksdGhpcy5hZC5vblZpZGVvRmluaXNoKChmdW5jdGlvbigpe2kuYWRWaWRlb0ZpbmlzaCgpfSkpLHRoaXMuYWQub25SZXdhcmQoKGZ1bmN0aW9uKCl7aS5hZFJld2FyZCgpfSkpLHRoaXMuYWQub25DbG9zZSgoZnVuY3Rpb24odCl7aS5hZENsb3NlKHQpfSkpLHRoaXMuYWQub25FcnJvcigoZnVuY3Rpb24odCl7aS5hZEVycm9yKHQpfSkpKX0sY3JlYXRlUmV3YXJkVmlkZW9BZDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPXRoaXMuYWRPcHRpb24sbj1pLnVuaXRfaWQscj1pLnZpZGVvX211dGVkO2lmKHYobnVsbD09PSh0PXRoaXMuJGFwcCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnlsaF9zZGspKXRoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCLmib7kuI3liLDkvJjph4/msYdTREtcXFwifSk7ZWxzZSB0cnl7dmFyIGE9e3BsYWNlbWVudElkOm4sbXV0ZWQ6XFxcIjFcXFwiPT09cn07dGhpcy5hZD10aGlzLiRhcHAuJGRlZi55bGhfc2RrLmNyZWF0ZVJld2FyZFZpZGVvQWQoYSksdGhpcy5hZC5vbkxvYWQoKGZ1bmN0aW9uKCl7ZS5hZExvYWQoKX0pKSx0aGlzLmFkLm9uRXhwb3NlKChmdW5jdGlvbih0KXtlLmFkU2hvdygpfSkpLHRoaXMuYWQub25DbGljaygoZnVuY3Rpb24oKXtlLmFkQ2xpY2soKX0pKSx0aGlzLmFkLm9uUmV3YXJkKChmdW5jdGlvbigpe2UuYWRSZXdhcmQoKX0pKSx0aGlzLmFkLm9uVmlkZW9GaW5pc2goKGZ1bmN0aW9uKCl7ZS5hZFZpZGVvRmluaXNoKCl9KSksdGhpcy5hZC5vbkNsb3NlKChmdW5jdGlvbigpe2UuYWRDbG9zZSgpfSkpLHRoaXMuYWQub25FcnJvcigoZnVuY3Rpb24odCl7ZS5hZEVycm9yKHtjb2RlOmF0W3QuY29kZV18fDJlMyxtc2c6XFxcIlxcXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSxcXFwiIHJlYWwgY29kZSBbXFxcIikuY29uY2F0KHQuY29kZSxcXFwiXVxcXCIpfSl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6dHx8XFxcIlxcXCJ9KX19LHNob3c6ZnVuY3Rpb24oKXt0aGlzLnJlYWR5JiYoeGQuY2FsbCh0aGlzKSx0aGlzLmFkLnNob3coKSx0aGlzLnJlYWR5PSExKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsaWNrXFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwifX0pfSxhZFZpZGVvRmluaXNoOmZ1bmN0aW9uKHQpe3RoaXMuaXNWaWRlb0VuZGVkPSEwfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCJ9KX0sYWRSZXdhcmQ6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFJld2FyZFxcXCIscGFyYW1zOntyZXdhcmQ6ITB9fSl9LGFkRXJyb3I6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMTt2YXIgaT1lKGUoe30sdC5zdG9wP3QuZGV0YWlsOnQpLHt9LHttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV8fHQudHlwZX0pO2RlbGV0ZSBpLmVyckNvZGUsZGVsZXRlIGkuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOml9KSxjZC5jYWxsKHRoaXMpfX0sQWQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5ZTEgsdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToodGhpcy5sb2NrQWRDbGlja2VkPSExLGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSxkPW51bGwhPT0oZT1udWxsPT09KG49dGhpcy4kYXBwKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kZGVmKSYmdm9pZCAwIT09ZT9lOnRoaXMuJGRlZixzPShudWxsPT1kP3ZvaWQgMDpkLnRvcG9uX3Nkayl8fHt9LHYobnVsbD09KGw9cy5zdG9yZSl8fG51bGw9PT0ocj1sLmRldmljZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaW5mbykpe3QubmV4dD03O2JyZWFrfXQudDA9bnVsbD09bHx8bnVsbD09PShhPWwuZGV2aWNlKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pbmZvLHQubmV4dD0xMzticmVhaztjYXNlIDc6cmV0dXJuIHQubmV4dD05LEguZ2V0SW5mbygpO2Nhc2UgOTppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTI7YnJlYWt9dC50MT17fTtjYXNlIDEyOnQudDA9dC50MTtjYXNlIDEzOmlmKCEoKG51bGw9PShjPXQudDApP3ZvaWQgMDpjLnBsYXRmb3JtVmVyc2lvbkNvZGUpPDExMDApKXt0Lm5leHQ9MTc7YnJlYWt9cmV0dXJuIHRoaXMuYWRFcnJvcih7Y29kZTo5ZTMsbXNnOlxcXCLkuI3mlK/mjIHor6XlubPlj7DniYjmnKxcXFwifSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTc6XFxcIjFcXFwiPT09KG51bGw9PXRoaXN8fG51bGw9PT0obz10aGlzLmFkT3B0aW9uKXx8dm9pZCAwPT09bz92b2lkIDA6by5fdHlwZSk/dGhpcy5iaWQoKTp0aGlzLmNyZWF0ZVNwbGFzaEFkKCk7Y2FzZSAxODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksYmlkOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMsbj10aGlzfHx7fSxyPW4uYWRPcHRpb24sYT12b2lkIDA9PT1yP3t9OnIsbz1uLmFkRXh0cmEsZD1cXFwiXFxcIi5jb25jYXQoKHZvaWQgMD09PW8/e306bykucGxhY2VtZW50SWQsXFxcIi9cXFwiKS5jb25jYXQoYS5fdW5pdF9pZCkscz1qLmNhbGwodGhpcyxcXFwidW5pdFxcXCIsZCl8fHt9LGw9bnVsbCE9PSh0PW51bGw9PXM/dm9pZCAwOnMuYWQpJiZ2b2lkIDAhPT10P3Q6bnVsbCxjPW51bGwhPT0oZT1udWxsPT1zP3ZvaWQgMDpzLm9mZmVyKSYmdm9pZCAwIT09ZT9lOnt9O2wmJih0aGlzLmFkTG9hZChjKSx0aGlzLmJpZE9mZmVyPWMsdGhpcy5hZD1sLHRoaXMuYWQub25FeHBvc2UoKGZ1bmN0aW9uKHQpe2kuYWRTaG93KCl9KSksdGhpcy5hZC5vbkNsaWNrKChmdW5jdGlvbigpe2kuYWRDbGljaygpfSkpLHRoaXMuYWQub25DbG9zZSgoZnVuY3Rpb24odCl7aS5hZENsb3NlKHQpfSkpLHRoaXMuYWQub25FcnJvcigoZnVuY3Rpb24odCl7aS5hZEVycm9yKHQpfSkpKX0sY3JlYXRlU3BsYXNoQWQ6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsaT10aGlzLmFkT3B0aW9uLnVuaXRfaWQsbj10aGlzLmFkQ29uZmlnLmVudHJ5LHI9dm9pZCAwPT09bj9cXFwiXFxcIjpuO3YobnVsbD09PSh0PXRoaXMuJGFwcCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnlsaF9zZGspP3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCLmib7kuI3liLDkvJjph4/msYdTREtcXFwifSk6dGhpcy4kYXBwLiRkZWYueWxoX3Nkay5vbllsaFJlYWR5KChmdW5jdGlvbigpe3RyeXtlLmFkPWUuJGFwcC4kZGVmLnlsaF9zZGsuY3JlYXRlU3BsYXNoQWQoe3BsYWNlbWVudElkOmksZW50cnk6cn0pLGUuYWQub25Mb2FkKChmdW5jdGlvbigpe2UuYWRMb2FkKCl9KSksZS5hZC5vbkV4cG9zZSgoZnVuY3Rpb24odCl7ZS5hZFNob3coKX0pKSxlLmFkLm9uQ2xpY2soKGZ1bmN0aW9uKCl7ZS5hZENsaWNrKCl9KSksZS5hZC5vbkNsb3NlKChmdW5jdGlvbigpe2UuYWRDbG9zZSgpfSkpLGUuYWQub25FcnJvcigoZnVuY3Rpb24odCl7ZS5hZEVycm9yKHtjb2RlOmF0W3QuY29kZV18fDJlMyxtc2c6XFxcIlxcXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSxcXFwiIHJlYWwgY29kZSBbXFxcIikuY29uY2F0KHQuY29kZSxcXFwiXVxcXCIpfSl9KSksZS5hZC5sb2FkKCl9Y2F0Y2godCl7ZS5hZEVycm9yKHtjb2RlOjJlMyxtc2c6dHx8XFxcIlxcXCJ9KX19KSl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLnJlYWR5JiYoeGQuY2FsbCh0aGlzKSx0aGlzLmFkLnNob3coKSx0aGlzLnJlYWR5PSExKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsaWNrXFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwifX0pfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCJ9KX0sYWRFcnJvcjpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExO3ZhciBpPWUoZSh7fSx0LnN0b3A/dC5kZXRhaWw6dCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZXx8dC50eXBlfSk7ZGVsZXRlIGkuZXJyQ29kZSxkZWxldGUgaS5lcnJNc2csc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6aX0pLGNkLmNhbGwodGhpcyl9fSxFZD17bWFpbjp7ZW50cnk6dGR9LHdlYjp7ZW50cnk6aWR9LHZpZXdzOntyZXdhcmRlOmFkfSw2Njp7bmF0aXZlOnZkLHJld2FyZGVkVmlkZW86X2R9LDU2OntuYXRpdmU6Z2QscmV3YXJkZWRWaWRlbzp5ZCxpbnRlcnN0aXRpYWw6SWQsc3BsYXNoOmJkfSw2NDp7bmF0aXZlOlNkLHJld2FyZGVkVmlkZW86VGQsc3BsYXNoOkFkfSw2MDp7bmF0aXZlOnthZFByb3h5RXZlbnQ6e29uSW5pdDpmdW5jdGlvbigpe3ZhciB0PVAodGhpcy5hZENvbmZpZy5maWx0ZXIsdHQuSFVBV0VJLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcyxuPVMoKS5hZDt0aGlzLnByb3ZpZGVyPW4uZ2V0UHJvdmlkZXIoKSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RcXFwifX0pO3RyeXt2YXIgcj17YWRVbml0SWQ6dGhpcy5hZE9wdGlvbi5hZF9pZH0sYT10aGlzLmFkRXh0cmEuY2hhbm5lbElkO2EmJihyLmNoYW5uZWw9YSksdGhpcy5hZD1uLmNyZWF0ZU5hdGl2ZUFkKHIpLHRoaXMuYWQub25Mb2FkKChmdW5jdGlvbih0KXtpLmFkTG9hZCh0KX0pKSx0aGlzLmFkLm9uRXJyb3IoKGZ1bmN0aW9uKHQpe2kuYWRFcnJvcih0KX0pKSx0aGlzLmFkLmxvYWQoKX1jYXRjaCh0KXt0aGlzLmFkRXJyb3Ioe2NvZGU6MmUzLG1zZzpcXFwiY3JlYXRlTmF0aXZlQWTlub/lkYrmnI3liqHplJnor69cXFwifSl9aWYoIShEYXRlLm5vdygpPm5ldyBEYXRlKFxcXCIyMDIzLzA1LzAxXFxcIikuZ2V0VGltZSgpKSl7dmFyIG89dGhpcy5hZEV4dHJhLGQ9by5wbGFjZW1lbnRJZCxzPW8udHJhZmZpY0dyb3VwSWQsbD1vLnNlZ21lbnRJZCxjPW8uYXNJZCx1PW8ubndGaXJtSWQsaD10aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsuc3RvcmUscD12b2lkIDA9PT1oP3t9OmgsZj17a2V5OlxcXCJBRF9QUk9WSURFUlxcXCIsdW5pdGlkOmQscmVxdWVzdGlkOnRoaXMuYWRPcHRpb24uX3JlcXVlc3RfaWQsZ3JvdXBpZDpsLHRyYWZmaWNfZ3JvdXBfaWQ6cyxhc2lkOmMsbXNnOlN0cmluZyh1KSxtc2cxOlN0cmluZyh0aGlzLmFkT3B0aW9uLl91bml0X2lkKSxtc2cyOnRoaXMucHJvdmlkZXIsbXNnMzpudWxsPT1wfHxudWxsPT09KHQ9cC5kZXZpY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmluZm8uYnJhbmQsbXNnNDpcXFwiXFxcIisobnVsbD09cHx8bnVsbD09PShlPXAuZGV2aWNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbmZvLm1vZGVsKX07VmEuY2FsbCh0aGlzLGYpfX0sZ2V0QWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5yZWFkeSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLmFkTGlzdEluZGV4SW5Vc2UsZT10aGlzLmFkTGlzdFt0aGlzLmFkTGlzdEluZGV4SW5Vc2VdfHx7fTtyZXR1cm4gdGhpcy5hZExpc3RJbmRleEluVXNlKyssdGhpcy5jdXJyZW50SW5kZXhVc2U9dCxlfHwodGhpcy5yZWFkeT0hMSksZX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9dC5hZExpc3Qsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiEwfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwiLGFkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXXx8e319fSksY2QuY2FsbCh0aGlzKX0sYWRTaG93OmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pfSxhZENsaWNrOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbGlja1xcXCJ9KX0sYWRDbG9zZTpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwifSl9LGFkRXJyb3I6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMTt2YXIgZT17bXNnOnQuZXJyTXNnfHx0Lm1zZyxjb2RlOnQuZXJyQ29kZXx8dC5jb2RlfTtkZWxldGUgZS5lcnJDb2RlLGRlbGV0ZSBlLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczplfSksY2QuY2FsbCh0aGlzKX0scmVwb3J0U2hvdzpmdW5jdGlvbigpe3ZhciB0O251bGwhPT0odD10aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0pJiZ2b2lkIDAhPT10JiZ0LmFkSWQmJihzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1NIT1dcXFwiLGFkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXXx8e319fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIixhZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV18fHt9fX0pLHRoaXMuYWQucmVwb3J0QWRTaG93KHthZElkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXS5hZElkfSkpfSxyZXBvcnRDbGljazpmdW5jdGlvbih0KXt2YXIgZTtudWxsIT09KGU9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09ZSYmZS5hZElkJiYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCIsYWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdfHx7fX19KSxudWxsIT10JiZ0LnJlcG9ydFRvUHJvdmlkZXImJnRoaXMuYWQucmVwb3J0QWRDbGljayh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pKX0sZ2V0RG93bmxvYWRTdGF0dXM6ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLmFkJiZ0aGlzLnJlYWR5JiZudWxsIT09KHQ9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09dCYmdC5hZElkKXJldHVybiB0aGlzLmFkLmdldEFwcFN0YXR1cyh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pfSxnZXREb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5hZCYmdGhpcy5yZWFkeSYmbnVsbCE9PSh0PXRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXSkmJnZvaWQgMCE9PXQmJnQuYWRJZClyZXR1cm4gdGhpcy5hZC5nZXREb3dubG9hZFByb2dyZXNzKHthZElkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXS5hZElkfSl9LHN1YnNjcmliZURvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKHQpe3RoaXMuYWQub25TdGF0dXNDaGFuZ2VkKHQpfSx1bnN1YnNjcmliZURvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKCl7dGhpcy5hZCYmdGhpcy5yZWFkeSYmdGhpcy5hZC5vZmZTdGF0dXNDaGFuZ2VkKCl9LHN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3M6ZnVuY3Rpb24odCl7dGhpcy5hZC5vbkRvd25sb2FkUHJvZ3Jlc3ModCl9LHVuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzczpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMucmVhZHkmJnRoaXMuYWQub2ZmRG93bmxvYWRQcm9ncmVzcygpfSxzaG93QXBwRGV0YWlsUGFnZTpmdW5jdGlvbigpe3ZhciB0O3RoaXMuYWQmJnRoaXMucmVhZHkmJm51bGwhPT0odD10aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0pJiZ2b2lkIDAhPT10JiZ0LmFkSWQmJnRoaXMuYWQuc2hvd0FwcERldGFpbFBhZ2Uoe2FkSWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdLmFkSWR9KX0sZ2V0SW5zdGFuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZHx8bnVsbH19LHJld2FyZGVkVmlkZW86e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5IVUFXRUksdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToobGQuY2FsbCh0aGlzKSx0aGlzLmhhbmRsZUFkSW5pdCgpKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7Y2QuY2FsbCh0aGlzKX19LGhhbmRsZUFkSW5pdDpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLG49UygpLmFkO3RoaXMucHJvdmlkZXI9bi5nZXRQcm92aWRlcigpLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVFxcXCJ9fSksdGhpcy5sb2NrQWRMb2FkPSExLHRoaXMuc2hvd0NhbGxlZD0hMTt0cnl7dmFyIHI9e2FkVW5pdElkOnRoaXMuYWRPcHRpb24uYWRfaWR9O3RoaXMuYWQ9bi5jcmVhdGVSZXdhcmRlZFZpZGVvQWQociksdGhpcy5hZC5vbkxvYWQoKGZ1bmN0aW9uKHQpe2kuYWRMb2FkKCl9KSksdGhpcy5hZC5vbkNsb3NlKChmdW5jdGlvbih0KXtpLmFkQ2xvc2UodCl9KSksdGhpcy5hZC5vbkVycm9yKChmdW5jdGlvbih0KXtpLmFkRXJyb3IodCl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZVJld2FyZGVkVmlkZW9BZOW5v+WRiuacjeWKoemUmeivr1xcXCJ9KX1pZighKERhdGUubm93KCk+bmV3IERhdGUoXFxcIjIwMjMvMDUvMDFcXFwiKS5nZXRUaW1lKCkpKXt2YXIgYT10aGlzLmFkRXh0cmEsbz1hLnBsYWNlbWVudElkLGQ9YS50cmFmZmljR3JvdXBJZCxzPWEuc2VnbWVudElkLGw9YS5hc0lkLGM9YS5ud0Zpcm1JZCx1PXRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5zdG9yZSxoPXZvaWQgMD09PXU/e306dSxwPXtrZXk6XFxcIkFEX1BST1ZJREVSXFxcIix1bml0aWQ6byxyZXF1ZXN0aWQ6dGhpcy5hZE9wdGlvbi5fcmVxdWVzdF9pZCxncm91cGlkOnMsdHJhZmZpY19ncm91cF9pZDpkLGFzaWQ6bCxtc2c6U3RyaW5nKGMpLG1zZzE6U3RyaW5nKHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpLG1zZzI6dGhpcy5wcm92aWRlcixtc2czOm51bGw9PWh8fG51bGw9PT0odD1oLmRldmljZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaW5mby5icmFuZCxtc2c0OlxcXCJcXFwiKyhudWxsPT1ofHxudWxsPT09KGU9aC5kZXZpY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluZm8ubW9kZWwpfTtWYS5jYWxsKHRoaXMscCl9fSxzaG93OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnJlYWR5JiYodGhpcy5zaG93Q2FsbGVkPSEwLHRoaXMuYWQuc2hvdygpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuYWRTaG93KGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgaSxuLHI9e2NvZGU6MTEwMSxtc2c6bnVsbCE9PShpPW51bGwhPT0obj1udWxsPT1lP3ZvaWQgMDplLm1zZykmJnZvaWQgMCE9PW4/bjpudWxsPT1lP3ZvaWQgMDplLmRhdGEpJiZ2b2lkIDAhPT1pP2k6XFxcIuWxleekuuWksei0pVxcXCJ9O3NkLmNhbGwodCx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOnJ9KX0pKSx0aGlzLnJlYWR5PSExKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMubG9ja0FkTG9hZHx8KHRoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcykpfSxhZFNob3c6ZnVuY3Rpb24odCl7dGhpcy5sb2NrQWRMb2FkPSEwLHRoaXMucmVhZHk9ITEsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5pc0VuZGVkO3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCIscGFyYW1zOntyZXdhcmQ6ZX19KSxlJiZzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkUmV3YXJkXFxcIixwYXJhbXM6dH0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGU9dC5lcnJNc2d8fHQubXNnLGk9dC5lcnJDb2RlfHx0LmNvZGUsbj17bXNnOmUsY29kZTppfTt0aGlzLnNob3dDYWxsZWQmJihuLmNvZGU9MTEwMSxuLm1zZz1cXFwi5bGV56S65aSx6LSlIHJlYWwgY29kZTogW1xcXCIuY29uY2F0KGksXFxcIl0gcmVhbCBtc2c6IFtcXFwiKS5jb25jYXQoZSxcXFwiXVxcXCIpKSxkZWxldGUgbi5lcnJDb2RlLGRlbGV0ZSBuLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczpufSksY2QuY2FsbCh0aGlzKX0sZ2V0SW5zdGFuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZHx8bnVsbH19LGJhbm5lcjp7YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkhVQVdFSSx0aGlzLmFkT3B0aW9uLl91bml0X2lkKTt0P3RoaXMuYWRFcnJvcih7Y29kZTp0LG1zZzpcXFwi6K+l5bm/5ZGK5rqQ6KKr6L+H5rukXFxcIn0pOihsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdDtjZC5jYWxsKHRoaXMpLHRoaXMucmVtb3ZlQWRFdmVudExpc3RlbmVyKCksbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuYWQpfHx2b2lkIDA9PT10fHx0LmRlc3Ryb3koKX19LHJlbW92ZUFkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciB0LGUsaSxuLHIsYSxvLGQ7bnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuYWQpfHx2b2lkIDA9PT10fHxudWxsPT09KGU9dC5vZmZMb2FkKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQpLG51bGw9PXRoaXN8fG51bGw9PT0oaT10aGlzLmFkKXx8dm9pZCAwPT09aXx8bnVsbD09PShuPWkub2ZmQ2xvc2UpfHx2b2lkIDA9PT1ufHxuLmNhbGwoaSksbnVsbD09dGhpc3x8bnVsbD09PShyPXRoaXMuYWQpfHx2b2lkIDA9PT1yfHxudWxsPT09KGE9ci5vZmZFcnJvcil8fHZvaWQgMD09PWF8fGEuY2FsbChyKSxudWxsPT10aGlzfHxudWxsPT09KG89dGhpcy5hZCl8fHZvaWQgMD09PW98fG51bGw9PT0oZD1vLm9mZlJlc2l6ZSl8fHZvaWQgMD09PWR8fGQuY2FsbChvKX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMsbj1TKCkuYWQ7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmxvY2tBZExvYWQ9ITEsdGhpcy5yZWFkeT0hMTt0cnl7dmFyIHIsYT17YWRVbml0SWQ6dGhpcy5hZE9wdGlvbi5hZF9pZCxzdHlsZTp7d2lkdGg6LTEsaGVpZ2h0Oi0yLGxlZnQ6MCx0b3A6MH19O3Q9YS5zdHlsZSwoZT1udWxsPT09KHI9dGhpcy5hZENvbmZpZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3R5bGUpJiYhdihlKSYmZihlKSYmT2JqZWN0LmFzc2lnbih0LGUpLHRoaXMuYWQ9bi5jcmVhdGVCYW5uZXJBZChhKSx0aGlzLmFkLm9uTG9hZCgoZnVuY3Rpb24odCl7aS5hZExvYWQoKX0pKSx0aGlzLmFkLm9uQ2xvc2UoKGZ1bmN0aW9uKHQpe3ZhciBlO2kuYWRDbG9zZSh0KSxpLnJlbW92ZUFkRXZlbnRMaXN0ZW5lcigpLG51bGw9PT0oZT1pLmFkKXx8dm9pZCAwPT09ZXx8ZS5kZXN0cm95KCl9KSksdGhpcy5hZC5vbkVycm9yKChmdW5jdGlvbih0KXtjb25zb2xlLmVycm9yKFxcXCJvbkVycm9yXFxcIix0KSxpLmFkRXJyb3IodCl9KSl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZUJhbm5lckFk5bm/5ZGK5pyN5Yqh5aSx6LSlXFxcIn0pfXRoaXMuX3Nob3coKX0sX3Nob3c6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYWQmJihzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1NIT1dcXFwifX0pLHRoaXMuYWQuc2hvdygpLnRoZW4oKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKGUpe3ZhciBpLG4scj17Y29kZToxMTAxLG1zZzpudWxsIT09KGk9bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUubXNnKSYmdm9pZCAwIT09bj9uOm51bGw9PWU/dm9pZCAwOmUuZGF0YSkmJnZvaWQgMCE9PWk/aTpcXFwi5bGV56S65aSx6LSlOiBcXFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSl9O3NkLmNhbGwodCx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOnJ9KX0pKSl9LGFkTG9hZDpmdW5jdGlvbih0KXt0aGlzLmxvY2tBZExvYWR8fCh0aGlzLnJlYWR5PSEwLHRoaXMubG9ja0FkTG9hZD0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKSxCLmNhbGwodGhpcyx0aGlzLmFkU2hvdykpfSxhZFNob3c6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwiLHBhcmFtczp0fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwiLHBhcmFtczp0fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsb3NlXFxcIixwYXJhbXM6dH0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGU9e21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX07ZGVsZXRlIGUuZXJyQ29kZSxkZWxldGUgZS5lcnJNc2csZGVsZXRlIGUuc3ViRXJyQ29kZSxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczplfSksY2QuY2FsbCh0aGlzKX0saGlkZTpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMuYWQuaGlkZSYmdGhpcy5hZC5oaWRlKCl9fSxpbnRlcnN0aXRpYWw6e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5IVUFXRUksdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToobGQuY2FsbCh0aGlzKSx0aGlzLmhhbmRsZUFkSW5pdCgpKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ7Y2QuY2FsbCh0aGlzKSx0aGlzLnJlbW92ZUFkRXZlbnRMaXN0ZW5lcigpLG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLmFkKXx8dm9pZCAwPT09dHx8dC5kZXN0cm95KCl9fSxyZW1vdmVBZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbixyLGEsbyxkLHMsbDtudWxsPT10aGlzfHxudWxsPT09KHQ9dGhpcy5hZCl8fHZvaWQgMD09PXR8fG51bGw9PT0oZT10Lm9mZkxvYWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodCksbnVsbD09dGhpc3x8bnVsbD09PShpPXRoaXMuYWQpfHx2b2lkIDA9PT1pfHxudWxsPT09KG49aS5vZmZDbG9zZSl8fHZvaWQgMD09PW58fG4uY2FsbChpKSxudWxsPT10aGlzfHxudWxsPT09KHI9dGhpcy5hZCl8fHZvaWQgMD09PXJ8fG51bGw9PT0oYT1yLm9mZkVycm9yKXx8dm9pZCAwPT09YXx8YS5jYWxsKHIpLG51bGw9PXRoaXN8fG51bGw9PT0obz10aGlzLmFkKXx8dm9pZCAwPT09b3x8bnVsbD09PShkPW8ub2ZmUmVzaXplKXx8dm9pZCAwPT09ZHx8ZC5jYWxsKG8pLG51bGw9PXRoaXN8fG51bGw9PT0ocz10aGlzLmFkKXx8dm9pZCAwPT09c3x8bnVsbD09PShsPXMub2ZmQ2xpY2spfHx2b2lkIDA9PT1sfHxsLmNhbGwocyl9LGhhbmRsZUFkSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1TKCkuYWQ7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KTt0cnl7dmFyIGksbj17YWRVbml0SWQ6dGhpcy5hZE9wdGlvbi5hZF9pZH07dGhpcy5hZD1lLmNyZWF0ZUludGVyc3RpdGlhbEFkKG4pLHRoaXMuYWQub25Mb2FkKChmdW5jdGlvbihlKXt0LmFkTG9hZCgpfSkpLHRoaXMuYWQub25DbG9zZSgoZnVuY3Rpb24oZSl7dmFyIGk7dC5hZENsb3NlKGUpLHQucmVtb3ZlQWRFdmVudExpc3RlbmVyKCksbnVsbD09PShpPXQuYWQpfHx2b2lkIDA9PT1pfHxpLmRlc3Ryb3koKX0pKSx0aGlzLmFkLm9uRXJyb3IoKGZ1bmN0aW9uKGUpe3QuYWRFcnJvcihlKX0pKSxudWxsIT10aGlzJiZudWxsIT09KGk9dGhpcy5hZCkmJnZvaWQgMCE9PWkmJmkub25DbGljayYmdGhpcy5hZC5vbkNsaWNrKChmdW5jdGlvbihlKXt0LmFkQ2xpY2soZSl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZUludGVyc3RpdGlhbEFk5bm/5ZGK5pyN5Yqh5aSx6LSlXFxcIn0pfX0sc2hvdzpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5hZCYmdGhpcy5yZWFkeSYmdGhpcy5hZC5zaG93KCkudGhlbigoZnVuY3Rpb24oKXt0LmFkU2hvdygpfSksKGZ1bmN0aW9uKGUpe3ZhciBpLG4scj17Y29kZToxMTAxLG1zZzpudWxsIT09KGk9bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUubXNnKSYmdm9pZCAwIT09bj9uOm51bGw9PWU/dm9pZCAwOmUuZGF0YSkmJnZvaWQgMCE9PWk/aTpcXFwi5bGV56S65aSx6LSlOiBcXFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSl9O3NkLmNhbGwodCx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOnJ9KX0pKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIixwYXJhbXM6dH0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsaWNrXFxcIixwYXJhbXM6dH0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwifX0pfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCIscGFyYW1zOnR9KX0sYWRFcnJvcjpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExO3ZhciBlPXttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV9O2RlbGV0ZSBlLmVyckNvZGUsZGVsZXRlIGUuZXJyTXNnLGRlbGV0ZSBlLnN1YkVyckNvZGUsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6ZX0pLGNkLmNhbGwodGhpcyl9LGdldEluc3RhbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWR8fG51bGx9fX0sNjI6e25hdGl2ZTp7YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkhVQVdFSV9BR0RfUFJPLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9UygpLmFkO2lmKHRoaXMucHJvdmlkZXI9aS5nZXRQcm92aWRlcigpLHRoaXMuY3JlYXRlTmF0aXZlQWQoKSwhKERhdGUubm93KCk+bmV3IERhdGUoXFxcIjIwMjMvMDUvMDFcXFwiKS5nZXRUaW1lKCkpKXt2YXIgbj10aGlzLmFkRXh0cmEscj1uLnBsYWNlbWVudElkLGE9bi50cmFmZmljR3JvdXBJZCxvPW4uc2VnbWVudElkLGQ9bi5hc0lkLHM9bi5ud0Zpcm1JZCxsPXRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5zdG9yZSxjPXZvaWQgMD09PWw/e306bCx1PXtrZXk6XFxcIkFEX1BST1ZJREVSXFxcIix1bml0aWQ6cixyZXF1ZXN0aWQ6dGhpcy5hZE9wdGlvbi5fcmVxdWVzdF9pZCxncm91cGlkOm8sdHJhZmZpY19ncm91cF9pZDphLGFzaWQ6ZCxtc2c6U3RyaW5nKHMpLG1zZzE6U3RyaW5nKHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpLG1zZzI6dGhpcy5wcm92aWRlcixtc2czOm51bGw9PWN8fG51bGw9PT0odD1jLmRldmljZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaW5mby5icmFuZCxtc2c0OlxcXCJcXFwiKyhudWxsPT1jfHxudWxsPT09KGU9Yy5kZXZpY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluZm8ubW9kZWwpfTtWYS5jYWxsKHRoaXMsdSl9fSxjcmVhdGVOYXRpdmVBZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1TKCkuYWQ7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KTt0cnl7dmFyIGk9e2FkVW5pdElkOnRoaXMuYWRPcHRpb24uYWRfaWR9LG49dGhpcy5hZEV4dHJhLmNoYW5uZWxJZDtuJiYoaS5jaGFubmVsPW4pLHRoaXMuYWQ9ZS5jcmVhdGVOYXRpdmVBZChpKSx0aGlzLmFkLm9uTG9hZCgoZnVuY3Rpb24oZSl7dC5hZExvYWQoZSl9KSksdGhpcy5hZC5vbkVycm9yKChmdW5jdGlvbihlKXt0LmFkRXJyb3IoZSl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZU5hdGl2ZUFk5bm/5ZGK5pyN5Yqh6ZSZ6K+vXFxcIn0pfX0sY3JlYXRlVGVtcGxhdGVBZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1TKCkuYWQ7dHJ5e3RoaXMuYWQ9ZS5jcmVhdGVUZW1wbGF0ZUFkKHthZFVuaXRJZDp0aGlzLmFkT3B0aW9uLmFkX2lkLHR5cGU6dGhpcy50ZW1wbGF0ZUFkVHlwZX0pLHRoaXMuYWQubG9hZCh7c3VjY2VzczpmdW5jdGlvbihlKXt0LmFkTG9hZChlKX0sZmFpbDpmdW5jdGlvbihlLGkpe3QuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJjcmVhdGVUZW1wbGF0ZUFk5bm/5ZGK5pyN5Yqh6ZSZ6K+vXFxcIn0pfX0pfWNhdGNoKHQpe3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJjcmVhdGVUZW1wbGF0ZUFk5bm/5ZGK5pyN5Yqh6ZSZ6K+vXFxcIn0pfX0sZ2V0QWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5yZWFkeSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLmFkTGlzdEluZGV4SW5Vc2UsZT10aGlzLmFkTGlzdFt0aGlzLmFkTGlzdEluZGV4SW5Vc2VdfHx7fTtyZXR1cm4gdGhpcy5hZExpc3RJbmRleEluVXNlKyssdGhpcy5jdXJyZW50SW5kZXhVc2U9dCxlfHwodGhpcy5yZWFkeT0hMSksZX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9dC5hZExpc3Qsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiF0aGlzLmlzVGVtcGxhdGVBZH19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RfRklMTEVEXFxcIixhZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV18fHt9fX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkU2hvd1xcXCJ9KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsb3NlXFxcIn0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGU9e21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX07ZGVsZXRlIGUuZXJyQ29kZSxkZWxldGUgZS5lcnJNc2csc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6ZX0pLGNkLmNhbGwodGhpcyl9LHJlcG9ydFNob3c6ZnVuY3Rpb24oKXt2YXIgdDtudWxsIT09KHQ9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09dCYmdC5hZElkJiYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9TSE9XXFxcIixhZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV18fHt9fX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCIsYWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdfHx7fX19KSx0aGlzLmFkLnJlcG9ydEFkU2hvdyh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pKX0scmVwb3J0Q2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU7bnVsbCE9PShlPXRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXSkmJnZvaWQgMCE9PWUmJmUuYWRJZCYmKHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwiLGFkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXXx8e319fSksbnVsbCE9dCYmdC5yZXBvcnRUb1Byb3ZpZGVyJiZ0aGlzLmFkLnJlcG9ydEFkQ2xpY2soe2FkSWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdLmFkSWR9KSl9LGdldERvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5hZCYmdGhpcy5yZWFkeSYmbnVsbCE9PSh0PXRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXSkmJnZvaWQgMCE9PXQmJnQuYWRJZClyZXR1cm4gdGhpcy5hZC5nZXRBcHBTdGF0dXMoe2FkSWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdLmFkSWR9KX0sZ2V0RG93bmxvYWRQcm9ncmVzczpmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuYWQmJnRoaXMucmVhZHkmJm51bGwhPT0odD10aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0pJiZ2b2lkIDAhPT10JiZ0LmFkSWQpcmV0dXJuIHRoaXMuYWQuZ2V0RG93bmxvYWRQcm9ncmVzcyh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pfSxzdWJzY3JpYmVEb3dubG9hZFN0YXR1czpmdW5jdGlvbih0KXt0aGlzLmFkLm9uU3RhdHVzQ2hhbmdlZCh0KX0sdW5zdWJzY3JpYmVEb3dubG9hZFN0YXR1czpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMucmVhZHkmJnRoaXMuYWQub2ZmU3RhdHVzQ2hhbmdlZCgpfSxzdWJzY3JpYmVEb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKHQpe3RoaXMuYWQub25Eb3dubG9hZFByb2dyZXNzKHQpfSx1bnN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLmFkJiZ0aGlzLnJlYWR5JiZ0aGlzLmFkLm9mZkRvd25sb2FkUHJvZ3Jlc3MoKX0sc2hvd0FwcERldGFpbFBhZ2U6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmFkJiZ0aGlzLnJlYWR5JiZudWxsIT09KHQ9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09dCYmdC5hZElkJiZ0aGlzLmFkLnNob3dBcHBEZXRhaWxQYWdlKHthZElkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXS5hZElkfSl9LGdldEluc3RhbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWR8fG51bGx9fX19LENkPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtkKHRoaXMsdCl9cmV0dXJuIGwodCxbe2tleTpcXFwiZGlzcGF0Y2hcXFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC4kZGVmLnRvcG9uX3Nkay5zdG9yZT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX29wdGlvbnM9ZSx0aGlzLmRldmljZSh0KSx0aGlzLnVwSWQodCl9fSx7a2V5OlxcXCJkZXZpY2VcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuJGRlZi50b3Bvbl9zZGsuc3RvcmUuZGV2aWNlPXt9O3ZhciBlPVtILmdldEluZm8oKSxILmdldE9hSWQoKSxILmdldERldmljZUlkcygpXTtQcm9taXNlLmFsbChlKS50aGVuKChmdW5jdGlvbihlKXt0LiRkZWYudG9wb25fc2RrLnN0b3JlLmRldmljZS5pbmZvPWVbMF18fHt9LHQuJGRlZi50b3Bvbl9zZGsuc3RvcmUuZGV2aWNlLm9haWQ9ZVsxXXx8XFxcIlxcXCIsdC4kZGVmLnRvcG9uX3Nkay5zdG9yZS5kZXZpY2UuaWRzPWVbMl18fHt9fSkpfX0se2tleTpcXFwidXBJZFxcXCIsdmFsdWU6ZnVuY3Rpb24odCl7RygpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuJGRlZi50b3Bvbl9zZGsuc3RvcmUudXBpZD1lfHxcXFwiXFxcIn0pKX19XSksdH0oKSksRGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2QodGhpcyx0KSx0aGlzLm5hbWU9ZSx0aGlzLmV2ZW50TWFwPXt9fXJldHVybiBsKHQsW3trZXk6XFxcInN1YnNjcmliZVxcXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXM7aWYoaSYmaS5vbmNlKXtyZXR1cm4gdGhpcy5zdWJzY3JpYmUodCwoZnVuY3Rpb24gaShyKXtlKHIpLG4udW5zdWJzY3JpYmUodCxpKX0pKX1pZih0aGlzLmV2ZW50TWFwW3RdPXRoaXMuZXZlbnRNYXBbdF18fFtdLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBlKXt2YXIgcj10aGlzLmV2ZW50TWFwW3RdOy0xPT09ci5pbmRleE9mKGUpJiZyLnB1c2goZSl9fX0se2tleTpcXFwicHVibGlzaFxcXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9bnVsbCxuPXRoaXMuZXZlbnRNYXBbdF18fFtdLHI9MCxhPW4ubGVuZ3RoO3I8YTtyKyspaT1uW3JdJiZuW3JdKGUsaSk7cmV0dXJuIGl9fSx7a2V5OlxcXCJ1bnN1YnNjcmliZVxcXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmV2ZW50TWFwW3RdKXt2YXIgaT10aGlzLmV2ZW50TWFwW3RdO2lmKGUpe3ZhciBuPWkuaW5kZXhPZihlKTtuPi0xJiZpLnNwbGljZShuLDEpfWVsc2UgdGhpcy5ldmVudE1hcFt0XT1bXX19fV0pLHR9KCksTGQ9e307ZnVuY3Rpb24gT2QodCl7cmV0dXJuIExkW3RdfHwoTGRbdF09bmV3IERkKHQpKSxMZFt0XX1mdW5jdGlvbiBSZCh0LGUpe3JldHVybiBQZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUGQoKXtyZXR1cm4oUGQ9byhpKCkubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGEsbyxkLHMsbCxjLHUsaCxwLGYsbSxnLHksSTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxhPW4uY2hhbm5lbElkLG89dm9pZCAwPT09YT9cXFwiXFxcIjphLGQ9bi5zdWJDaGFubmVsSWQscz12b2lkIDA9PT1kP1xcXCJcXFwiOmQsbD1uLmN1c3RvbVBhcmFtLGM9dm9pZCAwPT09bD97fTpsLHU9bi5wbGFjZW1lbnRDdXN0b21QYXJhbSxoPU8oYyx2b2lkIDA9PT11P3t9OnUpLHA9e3BsYWNlbWVudElkOmV9LHQubmV4dD02LHRvLmNhbGwodGhpcyxwLHtpc1ByZWxvYWQ6ITB9KTtjYXNlIDY6aWYoZj10LnNlbnQsbT1fKG51bGw9PWY/dm9pZCAwOmYuZGF0YSk/SlNPTi5wYXJzZShudWxsPT1mP3ZvaWQgMDpmLmRhdGEpOihudWxsPT1mP3ZvaWQgMDpmLmRhdGEpfHx7fSw2OTk9PT1mLmNvZGUmJihtPXtjb2RlOjAsZGF0YTp7YWRfZGVsaXZlcnlfc3c6MCxwc19jdDo4NjRlNSxwc19jdF9vdXQ6MH19KSwhKChudWxsPT09KHI9bSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY29kZSk+MHx8dihtKSkmJm0pe3QubmV4dD0xMTticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTE6Zz0obmV3IERhdGUpLmdldFRpbWUoKSx5PW8rXFxcIi9cXFwiK3MsbS5fcHNfY3RfdGltZXN0YW1wPWcrbS5kYXRhLnBzX2N0LG0uX2NoYW5uZWw9eSxtLl9jdXN0b21fcGFyYW09aCxtLl9yZXF1ZXN0X3RpbWVzdGFtcD1nLEk9XFxcIlRPUE9OX0FEX0NBQ0hFX1BMQUNFTUVOVF9cXFwiK2UsTS5zZXRJdGVtKEksbSwhMSksdC5uZXh0PTIzO2JyZWFrO2Nhc2UgMjE6dC5wcmV2PTIxLHQudDA9dC5jYXRjaCgwKTtjYXNlIDIzOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzLFtbMCwyMV1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBVZCh0LGUpe3JldHVybiAkZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gJGQoKXtyZXR1cm4oJGQ9byhpKCkubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGEsbyxkLHMsbDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBhPVxcXCJUT1BPTl9BRF9DQUNIRV9QTEFDRU1FTlRfXFxcIitlLHQubmV4dD0zLE0uZ2V0SXRlbShhLCExKTtjYXNlIDM6aWYodC50MD10LnNlbnQsdC50MCl7dC5uZXh0PTY7YnJlYWt9dC50MD17fTtjYXNlIDY6aWYoIXYobz10LnQwKSl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFJkLmNhbGwodGhpcyxlLG4pKTtjYXNlIDk6aWYoZD0obmV3IERhdGUpLmdldFRpbWUoKSxzPShudWxsPT1vfHxudWxsPT09KHI9by5kYXRhKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wc19jdF9tYXgpfHw2MDQ4ZTUsKGw9KG51bGw9PW8/dm9pZCAwOm8uX3JlcXVlc3RfdGltZXN0YW1wKXx8MCk8PTAmJihsPW8uX3BzX2N0X3RpbWVzdGFtcC1vLmRhdGEucHNfY3QpLCEobCtzPGQpKXt0Lm5leHQ9MTU7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFJkLmNhbGwodGhpcyxlLG4pKTtjYXNlIDE1OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBOZCh0KXt2YXIgZT10aGlzLGk9dC5wbGFjZW1lbnRTdHJhdGVneSxuPXZvaWQgMD09PWk/W106aTtpZihuLmxlbmd0aCl7dmFyIHI9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSk7ZGVsZXRlIHIub3B0aW9uczt2YXIgYT1uLnNsaWNlKDAsMTApLG89W107cmV0dXJuIGEuZm9yRWFjaCgoZnVuY3Rpb24odCl7by5wdXNoKFVkLmNhbGwoZSx0LHIpKX0pKSxQcm9taXNlLmFsbChvKX19dmFyIGpkPVxcXCI0LjIuMTFcXFwiLEZkPVxcXCJodHRwOi8vYXBpLmFueXRoaW5rdGVjaC5jb21cXFwiO2Z1bmN0aW9uIEJkKHQpe3JldHVybiBXZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gV2QoKXtyZXR1cm4oV2Q9byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsdixtLF8sZyx5LEksYixrLHcseCxULEEsTCxQLFUsJCxOLGosRixCLFcscSxWLFkseixYLFEsSixaLHR0LGV0LGl0LHJ0LGF0LG90LGR0LHN0LGx0LGN0LHV0O3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIEk9ZS5hcHBJZCxiPWUuYXBwS2V5LGs9ZS5jaGFubmVsSWQsdz12b2lkIDA9PT1rP1xcXCJcXFwiOmsseD1lLnN1YkNoYW5uZWxJZCxUPXZvaWQgMD09PXg/XFxcIlxcXCI6eCxBPWUuYWJ0ZXN0X2lkLEw9dm9pZCAwPT09QT9cXFwiXFxcIjpBLFA9ZS5jdXN0b21QYXJhbSxVPXZvaWQgMD09PVA/e306UCwkPWUucGxhY2VtZW50Q3VzdG9tUGFyYW0sTj1PKFUsdm9pZCAwPT09JD97fTokKSxqPVIoKSxGPVMoKSxCPUYuYXBwLFc9Ri5uZXR3b3JrLHE9Ri5kZXZpY2UsdC5uZXh0PTYsSC5nZXRJbmZvKCk7Y2FzZSA2OmlmKHQudDA9dC5zZW50LHQudDApe3QubmV4dD05O2JyZWFrfXQudDA9e307Y2FzZSA5OnJldHVybiBWPXQudDAsWT1CLmdldEluZm8oKXx8e30sdC5uZXh0PTEzLFcuZ2V0VHlwZSgpO2Nhc2UgMTM6aWYodC50MT10LnNlbnQsdC50MSl7dC5uZXh0PTE2O2JyZWFrfXQudDE9e307Y2FzZSAxNjpyZXR1cm4gej10LnQxLHQubmV4dD0xOSxILmdldERldmljZUlkcygpO2Nhc2UgMTk6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIyO2JyZWFrfXQudDI9e307Y2FzZSAyMjpyZXR1cm4gWD10LnQyLHQubmV4dD0yNSxILmdldE9hSWQoKTtjYXNlIDI1OmlmKHQudDM9dC5zZW50LHQudDMpe3QubmV4dD0yODticmVha310LnQzPVxcXCJcXFwiO2Nhc2UgMjg6cmV0dXJuIFE9dC50MyxKPVxcXCJcXFwiLmNvbmNhdChudWxsPT1WP3ZvaWQgMDpWLnNjcmVlbldpZHRoLFxcXCIqXFxcIikuY29uY2F0KG51bGw9PVY/dm9pZCAwOlYuc2NyZWVuSGVpZ2h0KSxaPW50W251bGw9PXp8fG51bGw9PT0obj16LmRhdGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnR5cGVdfHxcXFwiLTFcXFwiLHR0PVxcXCIxLjBcXFwiLHQubmV4dD0zNCxHKCk7Y2FzZSAzNDpyZXR1cm4gZXQ9dC5zZW50LHQubmV4dD0zNyxLKCk7Y2FzZSAzNzpyZXR1cm4gaXQ9dC5zZW50LHQubmV4dD00MCxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDQwOmlmKHQudDQ9dC5zZW50LHQudDQpe3QubmV4dD00MzticmVha310LnQ0PTA7Y2FzZSA0MzpyZXR1cm4gcnQ9dC50NCx0Lm5leHQ9NDYsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDQ2OmlmKHQudDU9dC5zZW50LHQudDUpe3QubmV4dD00OTticmVha310LnQ1PTA7Y2FzZSA0OTpyZXR1cm4gYXQ9dC50NSxvdD1NYXRoLmNlaWwoKGF0LXJ0KzEpLzg2NGU1KSxkdD17c3lzdGVtOjEsb3NfZnc6OCxtY2M6XFxcIjFcXFwiLG1uYzpcXFwiMVxcXCIsdGltZXpvbmU6XFxcIlxcXCIsbndfdmVyOlxcXCJcXFwiLG9yaWVudDoxLHVhOmp8fFxcXCJcXFwiLG9zX3ZuOm51bGwhPT0ocj1udWxsPT1WP3ZvaWQgMDpWLm9zVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1yP3I6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PShhPVxcXCJcXFwiKyhudWxsPT1WP3ZvaWQgMDpWLm9zVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09YT9hOlxcXCJcXFwiLHBhY2thZ2VfbmFtZTpudWxsIT09KG89bnVsbD09WT92b2lkIDA6WS5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PW8/bzpcXFwiXFxcIixhcHBfdm46bnVsbCE9PShkPW51bGw9PVk/dm9pZCAwOlkudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1kP2Q6XFxcIlxcXCIsYXBwX3ZjOm51bGwhPT0ocz1cXFwiXFxcIisobnVsbD09WT92b2lkIDA6WS52ZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT1zP3M6XFxcIlxcXCIsYnJhbmQ6bnVsbCE9PShsPW51bGw9PVY/dm9pZCAwOlYuYnJhbmQpJiZ2b2lkIDAhPT1sP2w6XFxcIlxcXCIsbW9kZWw6bnVsbCE9PShjPW51bGw9PVY/dm9pZCAwOlYubW9kZWwpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIscGZfdm46bnVsbCE9PSh1PW51bGw9PVY/dm9pZCAwOlYucGxhdGZvcm1WZXJzaW9uTmFtZSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixwZl92YzpudWxsIT09KGg9XFxcIlxcXCIrKG51bGw9PVY/dm9pZCAwOlYucGxhdGZvcm1WZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsbmV0d29ya190eXBlOlosc2NyZWVuOkosdXBpZDpldCxhcHBfaWQ6SSxzZGtfdmVyOlxcXCJVQV9cXFwiLmNvbmNhdChqZCkscGxhdGZvcm06MSxjaGFubmVsOnd8fFxcXCJcXFwiLHN1Yl9jaGFubmVsOlR8fFxcXCJcXFwiLGN1c3RvbTpOLHBzX2lkOml0LGZpcnN0X2luaXRfdGltZToxKnJ0LGRheXNfZnJvbV9maXJzdF9pbml0Om90LGRlbnk6U3RyaW5nKFYuc2NyZWVuRGVuc2l0eSksYXBpX3ZlcjpcXFwiMS4wXFxcIixob3N0X3ZuOm51bGwhPT0ocD1udWxsPT1xfHxudWxsPT09KGY9cS5ob3N0KXx8dm9pZCAwPT09Zj92b2lkIDA6Zi52ZXJzaW9uTmFtZSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixob3N0X3ZjOm51bGwhPT0odj1cXFwiXFxcIisobnVsbD09cXx8bnVsbD09PShtPXEuaG9zdCl8fHZvaWQgMD09PW0/dm9pZCAwOm0udmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09dj92OlxcXCJcXFwiLGFidGVzdF9pZDpMfSxzdD17YW5kcm9pZF9pZDpudWxsIT09KF89bnVsbD09WD92b2lkIDA6WC51c2VyKSYmdm9pZCAwIT09Xz9fOlxcXCJcXFwiLG1hYzpudWxsIT09KGc9bnVsbD09WD92b2lkIDA6WC5tYWMpJiZ2b2lkIDAhPT1nP2c6XFxcIlxcXCIsaW1laTpcXFwiXFxcIixvYWlkOlEsZ2FpZDpudWxsIT09KHk9bnVsbD09WD92b2lkIDA6WC5hZHZlcnRpc2luZykmJnZvaWQgMCE9PXk/eTpcXFwiXFxcIixpc19jbl9zZGs6XFxcIjFcXFwifSxsdD1DKEQoZHQpKSxjdD1DKEQoc3QpKSx1dD1FKGIsW3trZXk6XFxcImFwaV92ZXJcXFwiLHZhbHVlOnR0fSx7a2V5OlxcXCJwXFxcIix2YWx1ZTpsdH0se2tleTpcXFwicDJcXFwiLHZhbHVlOmN0fV0pLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwOmx0LHAyOmN0LGFwaV92ZXI6dHQsc2lnbjp1dH0pO2Nhc2UgNTg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBxZCh0KXtyZXR1cm4gTWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIE1kKCl7cmV0dXJuKE1kPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLG87cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj1lLmFwcElkLHQucHJldj0xLHQubmV4dD00LEJkLmNhbGwodGhpcyxlKTtjYXNlIDQ6cmV0dXJuIHI9dC5zZW50LHQubmV4dD03LE5hKFxcXCJcXFwiLmNvbmNhdChGZCxcXFwiL3YyL29wZW4vYXBwXFxcIikscik7Y2FzZSA3OnJldHVybiBhPXQuc2VudCxvPURhdGUubm93KCksYS5fc2NldF90aW1lc3RhbXA9bythLmRhdGEuc2NldCxhLl9yZXF1ZXN0X3RpbWVzdGFtcD1vLFZkLmNhbGwodGhpcyxuLGEpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGEpO2Nhc2UgMTU6cmV0dXJuIHQucHJldj0xNSx0LnQwPXQuY2F0Y2goMSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse30pO2Nhc2UgMTg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1sxLDE1XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFZkKHQsZSl7dmFyIGk9XFxcIlRPUE9OX0FEX0NBQ0hFX0FQUF9cXFwiK3Q7cmV0dXJuIE0uc2V0SXRlbShpLGUsITEpLFlkLmNhbGwodGhpcyx0LGUuZGF0YS5sb2dnZXIpLGV9ZnVuY3Rpb24gSGQodCl7cmV0dXJuIEdkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBHZCgpe3JldHVybihHZD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KG4pe3ZhciByLGEsbyxkLHMsbCxjLHUsaCxwPXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1uLmFwcElkLGE9XFxcIlRPUE9OX0FEX0NBQ0hFX0FQUF9cXFwiK3IsdC5uZXh0PTQsTS5nZXRJdGVtKGEsITEpO2Nhc2UgNDppZih0LnQwPXQuc2VudCx0LnQwKXt0Lm5leHQ9NzticmVha310LnQwPXt9O2Nhc2UgNzppZighdihvPXQudDApKXt0Lm5leHQ9MTA7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHFkLmNhbGwodGhpcyxuKSk7Y2FzZSAxMDppZihkPURhdGUubm93KCkscz0obnVsbD09bz92b2lkIDA6by5fcmVxdWVzdF90aW1lc3RhbXApfHwwLCEoby5fc2NldF90aW1lc3RhbXA+ZCkpe3QubmV4dD0xNjticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsVmQuY2FsbCh0aGlzLHIsbykpO2Nhc2UgMTY6aWYoIShzKzYwNDhlNTxkKSl7dC5uZXh0PTIwO2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixxZC5jYWxsKHRoaXMsZShlKHt9LG4pLHt9LHthYnRlc3RfaWQ6bnVsbCE9PShsPW51bGw9PW98fG51bGw9PT0oYz1vLmRhdGEpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmFidGVzdF9pZCkmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIn0pKSk7Y2FzZSAyMDpyZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKXtWZC5jYWxsKHAscixvKX0pLDEwMCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIscWQuY2FsbCh0aGlzLGUoZSh7fSxuKSx7fSx7YWJ0ZXN0X2lkOm51bGwhPT0odT1udWxsPT1vfHxudWxsPT09KGg9by5kYXRhKXx8dm9pZCAwPT09aD92b2lkIDA6aC5hYnRlc3RfaWQpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCJ9KSkpO2Nhc2UgMjI6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFlkKHQsZSl7dmFyIGksbixyLGE9bnVsbCE9PShpPW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZikmJnZvaWQgMCE9PWk/aTpudWxsO2EmJm51bGwhPWEmJmEudG9wb25fc2RrJiYoYS50b3Bvbl9zZGsuY2FjaGUubG9nZ2VyfHwoYS50b3Bvbl9zZGsuY2FjaGUubG9nZ2VyPU9iamVjdC5jcmVhdGUobnVsbCkpLGEudG9wb25fc2RrLmNhY2hlLmxvZ2dlclt0XT1lKX1mdW5jdGlvbiBLZCh0KXtyZXR1cm4vXihbLkEtWmEtejAtOV8tXSl7MSwxMjh9JC8udGVzdCh0KX1mdW5jdGlvbiB6ZCh0KXtyZXR1cm4gXyh0KT9KU09OLnBhcnNlKHQpOnR9ZnVuY3Rpb24gWGQodCl7dmFyIGU9W10saT16ZCh0KTtyZXR1cm4gZihpKT8oT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aChpW3RdKXx8ZS5wdXNoKFxcXCJcXFwiLmNvbmNhdCh0LFxcXCLlv4XpobvkuLrlrZfnrKbkuLJcXFwiKSl9KSksZSk6KGUucHVzaChcXFwic2V0Q3VzdG9tUGFyYW3lj4LmlbDlv4XpobvmmK9KU09OIE9iamVjdFxcXCIpLGUpfXgmJih4LiR0b3Bvbl9zZGs9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7cmV0dXJuIHI9byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLG8sZCxsLHUsaCxwLGYsdixtLF8sZz10aGlzO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6dGhpcyYmdGhpcy4kZGVmJiYhdGhpcy4kZGVmLnRvcG9uX3NkayYmKHRoaXMuJGRlZi50b3Bvbl9zZGs9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLiRkZWYudG9wb25fc2RrLmNvbXBvbmVudHM9RWQsdGhpcy4kZGVmLnRvcG9uX3Nkay5hcHBJZD1lLmFwcElkLHRoaXMuJGRlZi50b3Bvbl9zZGsuYXBwS2V5PWUuYXBwS2V5LHRoaXMuJGRlZi50b3Bvbl9zZGsuaXNUZXN0PWUuaXNUZXN0fHwhMSx0aGlzLiRkZWYudG9wb25fc2RrLmV2ZW50PU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy4kZGVmLnRvcG9uX3Nkay5ldmVudC5kZWVwbGluaz1PZChcXFwiZGVlcGxpbmtcXFwiKSx0aGlzLiRkZWYudG9wb25fc2RrLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy4kZGVmLnRvcG9uX3Nkay5jaGFubmVsSWQ9S2QoZS5jaGFubmVsSWQpP2UuY2hhbm5lbElkOlxcXCJcXFwiLHRoaXMuJGRlZi50b3Bvbl9zZGsuc3ViQ2hhbm5lbElkPUtkKGUuc3ViQ2hhbm5lbElkKT9lLnN1YkNoYW5uZWxJZDpcXFwiXFxcIix0aGlzLiRkZWYudG9wb25fc2RrLmN1c3RvbVBhcmFtPXt9LHRoaXMuJGRlZi50b3Bvbl9zZGsucGxhY2VtZW50Q3VzdG9tUGFyYW09e30sdGhpcy4kZGVmLnRvcG9uX3Nkay5vbkluaXRUaW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLiRkZWYudG9wb25fc2RrLm9uU2hvd1RpbWVzdGFtcD0wLHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wPTAsdGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXA9MCx0aGlzLiRkZWYudG9wb25fc2RrLm9uSGlkZUNvdW50ZXI9MCx0aGlzLiRkZWYudG9wb25fc2RrLmRlc3Ryb3lQYXJhbXM9e30saD0obnVsbD09ZXx8bnVsbD09PShuPWUuY29uZmlnKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kZXZpY2UpfHxcXFwiMFxcXCIscD0obnVsbD09ZXx8bnVsbD09PShyPWUuY29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zdGFydHVwKXx8XFxcIjBcXFwiLGY9KG51bGw9PWV8fG51bGw9PT0obz1lLmNvbmZpZyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uc3RhcnR1cFVubG9jayl8fFxcXCIwXFxcIix2PShudWxsPT1lfHxudWxsPT09KGQ9ZS5jb25maWcpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLmVuaGFuY2VkTG9nZ2luZ01vZGUpJiZEYXRlLm5vdygpPDE3MTE5MDA4ZTUsdGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwPXAsdGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwVW5sb2NrPWYsdGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwUmVwb3J0ZWQ9ITEsdGhpcy4kZGVmLnRvcG9uX3Nkay5lbmhhbmNlZExvZ2dpbmdNb2RlPXYsbT17YXBwSWQ6ZS5hcHBJZCxhcHBLZXk6ZS5hcHBLZXksY2hhbm5lbElkOktkKGUuY2hhbm5lbElkKT9lLmNoYW5uZWxJZDpcXFwiXFxcIixzdWJDaGFubmVsSWQ6S2QoZS5zdWJDaGFubmVsSWQpP2Uuc3ViQ2hhbm5lbElkOlxcXCJcXFwiLGN1c3RvbVBhcmFtOnt9LHBsYWNlbWVudEN1c3RvbVBhcmFtOnt9fSxIZC5jYWxsKHRoaXMsbSksTS5zZXRJdGVtKFxcXCJuZWVkRGV2aWNlXFxcIixoKSxNLnNldEl0ZW0oXFxcImFwcElkXFxcIixlLmFwcElkKSxDZC5kaXNwYXRjaCh0aGlzLGUpLGMuY2FsbCh0aGlzKSxhLmNhbGwodGhpcykudGhlbigoZnVuY3Rpb24oKXtcXFwiMVxcXCIhPT1wJiZzLmNhbGwoZyl9KSksXz17cGxhY2VtZW50U3RyYXRlZ3k6bnVsbCE9PShsPW51bGw9PT0odT1lLmNvbmZpZyl8fHZvaWQgMD09PXV8fG51bGw9PT0odT11LnByZWxvYWQpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnBsYWNlbWVudFN0cmF0ZWd5KSYmdm9pZCAwIT09bD9sOltdLGNoYW5uZWxJZDpLZChlLmNoYW5uZWxJZCk/ZS5jaGFubmVsSWQ6XFxcIlxcXCIsc3ViQ2hhbm5lbElkOktkKGUuc3ViQ2hhbm5lbElkKT9lLnN1YkNoYW5uZWxJZDpcXFwiXFxcIixjdXN0b21QYXJhbTp7fSxwbGFjZW1lbnRDdXN0b21QYXJhbTp7fX0sTmQuY2FsbCh0aGlzLF8pKTtjYXNlIDE6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKCl7cmV0dXJuIGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGQoKXtyZXR1cm4oZD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbjtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0Lm5leHQ9MixNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDI6cmV0dXJuKCEoZT10LnNlbnQpfHx2KGUpfHwxKmU8MTY0MDk2NjRlNSkmJihlPURhdGUubm93KCkpLG49RGF0ZS5ub3coKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixNLmJhdGNoKHtmaXJzdEluaXRUaW1lOmUsY3VycmVudEluaXRUaW1lOm59KSk7Y2FzZSA2OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyh0KXt2YXIgaT1lKHtsb2dUeXBlOlxcXCJBUFBfU1RBUlRVUFxcXCJ9LHQpO3NvLmNhbGwodGhpcyxpKX1mdW5jdGlvbiBsKCl7aWYoXFxcIjFcXFwiPT09dGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwKXtpZih0aGlzLiRkZWYudG9wb25fc2RrLnN0YXJ0dXBSZXBvcnRlZCYmXFxcIjFcXFwiPT09dGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwVW5sb2NrKXt2YXIgdD1cXFwiXFxcIitEYXRlLm5vdygpO3JldHVybiB2b2lkIHMuY2FsbCh0aGlzLHtwc0lkVmlydHVhbDp0fSl9dGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwUmVwb3J0ZWR8fCh0aGlzLiRkZWYudG9wb25fc2RrLnN0YXJ0dXBSZXBvcnRlZD0hMCxzLmNhbGwodGhpcykpfX1mdW5jdGlvbiBjKCl7dmFyIHQ9dGhpcyxlPXtzZXRDaGFubmVsOnUsc2V0U3ViQ2hhbm5lbDpoLHNldEN1c3RvbVBhcmFtOnAsc2V0UGxhY2VtZW50Q3VzdG9tUGFyYW06ZixvblNob3c6bSxvbkhpZGU6XyxvbkRlc3Ryb3k6eX07T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dC4kZGVmLnRvcG9uX3Nka1tpXT1lW2ldfSkpfWZ1bmN0aW9uIHUodCl7aWYoIUtkKHQpKXJldHVybiBjb25zb2xlLmVycm9yKFxcXCLmuKDpgZPmoLzlvI/plJnor6/vvIzku4XmlK/mjIHvvJrigJzmlbDlrZfigJzjgIHigJ3lrZfmr43igJzjgIHigJ1fLS7igJxcXFwiKSx2b2lkIGwuY2FsbCh0aGlzKTt0aGlzLiRkZWYudG9wb25fc2RrLmNoYW5uZWxJZD10LGwuY2FsbCh0aGlzKX1mdW5jdGlvbiBoKHQpe0tkKHQpP3RoaXMuJGRlZi50b3Bvbl9zZGsuc3ViQ2hhbm5lbElkPXQ6Y29uc29sZS5lcnJvcihcXFwi5rig6YGT5qC85byP6ZSZ6K+v77yM5LuF5pSv5oyB77ya4oCc5pWw5a2X4oCc44CB4oCd5a2X5q+N4oCc44CB4oCdXy0u4oCcXFxcIil9ZnVuY3Rpb24gcCh0KXtpZih0JiYhdih0KSl7dmFyIGU9WGQodCk7aWYobnVsbCE9ZSYmZS5sZW5ndGgpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspY29uc29sZS5lcnJvcihlW2ldKTtlbHNle3ZhciBuPXpkKHQpO3RoaXMuJGRlZi50b3Bvbl9zZGsuY3VzdG9tUGFyYW09bn19ZWxzZSBjb25zb2xlLmVycm9yKFxcXCJzZXRDdXN0b21QYXJhbeWPguaVsOmUmeivr1xcXCIpfWZ1bmN0aW9uIGYodCxlKXtpZih0JiZlJiYhdihlKSl7dmFyIGk9WGQoZSk7aWYobnVsbCE9aSYmaS5sZW5ndGgpZm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspY29uc29sZS5lcnJvcihpW25dKTtlbHNle3ZhciByPXpkKGUpO3RoaXMuJGRlZi50b3Bvbl9zZGsucGxhY2VtZW50Q3VzdG9tUGFyYW1bdF09cn19ZWxzZSBjb25zb2xlLmVycm9yKFxcXCJzZXRQbGFjZW1lbnRDdXN0b21QYXJhbeWPguaVsOmUmeivr1xcXCIpfWZ1bmN0aW9uIG0oKXtpZih0aGlzLiRkZWYudG9wb25fc2RrLm9uU2hvd1RpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wPjApe3ZhciB0PXRoaXMuJGRlZi50b3Bvbl9zZGsub25TaG93VGltZXN0YW1wLXRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wLGU9e2tleTpcXFwiSE9UX1NUQVJUX0lOVEVSVkFMX1RJTUVcXFwiLG1zZzpTdHJpbmcodCl9O1ZhLmNhbGwodGhpcyxlKSx0aGlzLiRkZWYudG9wb25fc2RrLm9uSGlkZVRpbWVzdGFtcD0wfX1mdW5jdGlvbiBfKCl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGcoKXtyZXR1cm4oZz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wPURhdGUubm93KCksZT10aGlzLiRkZWYudG9wb25fc2RrLm9uSGlkZVRpbWVzdGFtcC10aGlzLiRkZWYudG9wb25fc2RrLm9uSW5pdFRpbWVzdGFtcCxuPXRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wLXRoaXMuJGRlZi50b3Bvbl9zZGsub25TaG93VGltZXN0YW1wLG89U3RyaW5nKHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wKSxlPm4mJnRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlQ291bnRlcj4wPyhyPVxcXCIzXFxcIixhPVN0cmluZyh0aGlzLiRkZWYudG9wb25fc2RrLm9uU2hvd1RpbWVzdGFtcCksZD1TdHJpbmcobikpOihyPVxcXCIxXFxcIixhPVN0cmluZyh0aGlzLiRkZWYudG9wb25fc2RrLm9uSW5pdFRpbWVzdGFtcCksZD1TdHJpbmcoZSkpLHQubmV4dD03LEcoKTtjYXNlIDc6cmV0dXJuIHM9dC5zZW50LGw9e2tleTpcXFwiU1RBWV9USU1FXFxcIixzZGtfdGltZTpEYXRlLm5vdygpLHVwaWQ6cyxtc2c6cixtc2cxOmEsbXNnMjpvLG1zZzM6ZH0sVmEuY2FsbCh0aGlzLGwpLHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlQ291bnRlcisrLHQubmV4dD0xMyxHYS5jYWxsKHRoaXMsbCk7Y2FzZSAxMzpjPXQuc2VudCx0aGlzLiRkZWYudG9wb25fc2RrLmRlc3Ryb3lQYXJhbXM9YztjYXNlIDE1OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB5KCl7dGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXA9RGF0ZS5ub3coKTt2YXIgdCxlLGksbixyPXRoaXMuJGRlZi50b3Bvbl9zZGsub25EZXN0cm95VGltZXN0YW1wLXRoaXMuJGRlZi50b3Bvbl9zZGsub25Jbml0VGltZXN0YW1wLGE9dGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXAtdGhpcy4kZGVmLnRvcG9uX3Nkay5vblNob3dUaW1lc3RhbXA7aT1TdHJpbmcodGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXApLHI+YSYmdGhpcy4kZGVmLnRvcG9uX3Nkay5vbkhpZGVDb3VudGVyPjE/KHQ9XFxcIjRcXFwiLGU9U3RyaW5nKHRoaXMuJGRlZi50b3Bvbl9zZGsub25TaG93VGltZXN0YW1wKSxuPVN0cmluZyhhKSk6KHQ9XFxcIjJcXFwiLGU9U3RyaW5nKHRoaXMuJGRlZi50b3Bvbl9zZGsub25Jbml0VGltZXN0YW1wKSxuPVN0cmluZyhyKSk7dmFyIG89e2tleTpcXFwiU1RBWV9USU1FXFxcIixzZGtfdGltZTpEYXRlLm5vdygpLG1zZzp0LG1zZzE6ZSxtc2cyOmksbXNnMzpufTt6YS5jYWxsKHRoaXMsbyl9cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0uY2FsbCh0LG4pfSl9KCk7XFxuXCI7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9zeXN0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2hcIikpO1xudmFyIF9zeXN0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnN0b3JhZ2VcIikpO1xudmFyIF9zeXN0ZW0zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmRldmljZVwiKSk7XG52YXIgX3N5c3RlbTQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ucHJvbXB0XCIpKTtcbnZhciBfc3lzdGVtNSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5yb3V0ZXJcIikpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IHR5cGVvZiBpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgaSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5jb25zdCBnZXRVc2VySWQgPSBhc3luYyAoKSA9PiB7XG4gIGxldCB1c2VySWQgPSBhd2FpdCBfc3lzdGVtMy5kZWZhdWx0LmdldFVzZXJJZCgpO1xuICByZXR1cm4gdXNlcklkLmRhdGEudXNlcklkO1xufTtcbmNvbnN0IHF1aXQgPSAoKSA9PiB7XG4gIF9zeXN0ZW00LmRlZmF1bHQuc2hvd0RpYWxvZyh7XG4gICAgdGl0bGU6ICforablkYonLFxuICAgIG1lc3NhZ2U6IFwi5oKo5bey5rOo6ZSA6LSm5Y+3LOivt+mAgOWHuuOAglwiLFxuICAgIGJ1dHRvbnM6IFt7XG4gICAgICB0ZXh0OiAn6YCA5Ye6JyxcbiAgICAgIGNvbG9yOiAnIzMzMzMzMydcbiAgICB9XSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgX3N5c3RlbTUuZGVmYXVsdC5wdXNoKHtcbiAgICAgICAgdXJpOiBcIlBhZ2VfbG9naW5cIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2FuY2VsXCIpO1xuICAgIH1cbiAgfSk7XG59O1xuY29uc3QgZ2V0VG9rZW5EYXRhID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGV4YW1wbGUgPSByZXF1aXJlKCcuL2FwaXMvZXhhbXBsZS5qcycpLmRlZmF1bHQ7XG4gICAgY29uc3QgZGV2aWNlTnVtID0gYXdhaXQgZ2V0VXNlcklkKCk7XG4gICAgLy8gY29uc29sZS5sb2coYGdldFRva2VuRGF0YSgpLS0tLT5kZXZpY2VOdW09JHtkZXZpY2VOdW19YCk7XG4gICAgLy8gY29uc29sZS5sb2coJ+aYr+WQpuinpuWPkeeahOi/memHjCcpO1xuICAgIGV4YW1wbGUudG9Mb2dpbih7XG4gICAgICBsb2dpblR5cGU6IFwiREVWSUNFXCIsXG4gICAgICBhcHBJZDogJ1NDXzAwMDEnLFxuICAgICAgZGV2aWNlTnVtLFxuICAgICAgbG9naW5BY2NvdW50OiBkZXZpY2VOdW1cbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ+i1sOeahOaIkOWKn+WbnuiwgycpO1xuICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyLCAn5aSx6LSl5Zue6LCDJyk7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoSlNPTi5wYXJzZShlcnIpLmNvZGUgPT09ICczMTAwMDEnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+i/m+adpeS6hicpO1xuICAgICAgICAgIHF1aXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IsICfmn6XnnIvojrflj5bmiqXplJknKTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9KTtcbn07XG5sZXQgaXNSZWZyZXNoaW5nID0gZmFsc2U7IC8vIOaYr+WQpuato+WcqOivt+axguWIt+aWsHRva2Vu55qE5o6l5Y+jXG5jb25zdCByZWZyZXNoU3Vic2NyaWJlcnMgPSBbXTsgLy8g5a2Y5YKo6K+35rGC55qE5pWw57uEXG5jb25zdCBzdWJzY3JpYmVUb2tlblJlZnJlc2ggPSBjYiA9PiB7XG4gIC8vIOWwhuaJgOacieeahOivt+axgumDvXB1c2jliLDmlbDnu4TkuK0s5YW25a6e5pWw57uE5pivW2Z1bmN0aW9uKHRva2VuKXt9LCBmdW5jdGlvbih0b2tlbil7fSwuLi5dXG4gIHJlZnJlc2hTdWJzY3JpYmVycy5wdXNoKGNiKTtcbn07XG5jb25zdCBvblJyZWZyZXNoZWQgPSB0b2tlbiA9PiB7XG4gIC8vIOaVsOe7hOS4reeahOivt+axguW+l+WIsOaWsOeahHRva2Vu5LmL5ZCO6Ieq5omn6KGM77yM55So5paw55qEdG9rZW7ljrvor7fmsYLmlbDmja5cbiAgcmVmcmVzaFN1YnNjcmliZXJzLm1hcChjYiA9PiBjYih0b2tlbikpO1xufTtcbmNvbnN0IGlzQWNjZXNzVG9rZW5FeHBpcmVkID0gYXV0aERhdGEgPT4ge1xuICAvLyDliKTmlq3lvZPliY10b2tlbuaYr+WQpui/h+acn1xuICBpZiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBhdXRoRGF0YS5leHBpcmVBdCA+IDEwMDAwICogNjApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgcmVxdWVzdCA9IG9wdGlvbnMgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGEsXG4gICAgICBoZWFkZXJzID0ge31cbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhdXRoRGF0YSA9IChhd2FpdCBfc3lzdGVtMi5kZWZhdWx0LmdldCh7XG4gICAgICBrZXk6ICdBVVRIX1RPS0VOX0RBVEEnXG4gICAgfSkpIHx8IHt9O1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXV0aERhdGEuZGF0YSA/IEpTT04ucGFyc2UoYXV0aERhdGEuZGF0YSkuYWNjZXNzVG9rZW4gOiAnJztcbiAgICBpZiAoaXNBY2Nlc3NUb2tlbkV4cGlyZWQoYXV0aERhdGEpIHx8ICFhY2Nlc3NUb2tlbikge1xuICAgICAgaWYgKCFvcHRpb25zLnVybC5pbmNsdWRlcyhcInFhL21pbmkvYmFzaWMvdXNlci9sb2dpblwiKSkge1xuICAgICAgICBpZiAoIWlzUmVmcmVzaGluZykge1xuICAgICAgICAgIGlzUmVmcmVzaGluZyA9IHRydWU7XG4gICAgICAgICAgZ2V0VG9rZW5EYXRhKCkudGhlbihhc3luYyByZXMgPT4ge1xuICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMpO1xuICAgICAgICAgICAgaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IFwiMDAwMDAwXCIpIHtcbiAgICAgICAgICAgICAgaGVhZGVycy5BdXRob3JpemF0aW9uID0gcmVzLmRhdGEuYWNjZXNzVG9rZW47XG4gICAgICAgICAgICAgIGF3YWl0IF9zeXN0ZW0yLmRlZmF1bHQuc2V0KHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiQVVUSF9UT0tFTl9EQVRBXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlcy5kYXRhLmFjY2Vzc1Rva2VuJywgcmVzLmRhdGEuYWNjZXNzVG9rZW4pO1xuICAgICAgICAgICAgICBvblJyZWZyZXNoZWQocmVzLmRhdGEuYWNjZXNzVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpc1JlZnJlc2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmV0cnkgPSBuZXcgUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgICAgc3Vic2NyaWJlVG9rZW5SZWZyZXNoKHRva2VuID0+IHtcbiAgICAgICAgICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRva2VuOyAvLyDnlKjmnIDmlrB0b2tlbuivt+axguaVsOaNrlxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Qob3B0aW9ucykudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldHJ5O1xuICAgICAgfVxuICAgIH1cbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBhY2Nlc3NUb2tlbiB8fCAnJztcbiAgICBfc3lzdGVtLmRlZmF1bHQuZmV0Y2goe1xuICAgICAgLy8gdXJsOiAnaHR0cHM6Ly90ZXN0LmlwYW5kYXRhLmNvbScgKyB1cmwsXG4gICAgICB1cmw6ICdodHRwczovL2FwaS5paGFpdHVvLmNuJyArIHVybCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIGRhdGEsXG4gICAgICBoZWFkZXI6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgfSwgaGVhZGVycyksXG4gICAgICAvLyBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAvLyAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YVxuICAgICAgLy8gICBpZiAoZGF0YS5jb2RlID09PSBcIjAwMDAwMFwiIHx8IEpTT04ucGFyc2UoZGF0YSkuY29kZSA9PT0gXCIwMDAwMDBcIikge1xuICAgICAgLy8gICAgIHJlc29sdmUodXJsLmluY2x1ZGVzKFwicWEvbWluaS9iYXNpYy91c2VyL2xvZ2luXCIpID8gcmVzLmRhdGEgOiBKU09OLnBhcnNlKHJlcy5kYXRhKSk7XG4gICAgICAvLyAgIH0gZWxzZSB7XG4gICAgICAvLyAgICAgaWYgKGRhdGEuY29kZSA9PT0gXCIzMDAwMDJcIikge1xuICAgICAgLy8gICAgICAgJHN0b3JhZ2UuZGVsZXRlKHtcbiAgICAgIC8vICAgICAgICAga2V5OiAnQVVUSF9UT0tFTl9EQVRBJ1xuICAgICAgLy8gICAgICAgfSlcbiAgICAgIC8vICAgICAgIHJlcXVlc3Qob3B0aW9ucylcbiAgICAgIC8vICAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgIC8vICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgIC8vICAgICAgIHJlamVjdChyZXMuZGF0YSk7XG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gICB9XG4gICAgICAvLyB9LFxuXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhO1xuXG4gICAgICAgICAgLy8g5bCd6K+V6Kej5p6QIEpTT04g5pWw5o2u77yM5aaC5p6c6Kej5p6Q5aSx6LSl77yM5YiZ5Lya5oqb5Ye66ZSZ6K+vXG4gICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoZGF0YSkgOiBkYXRhO1xuICAgICAgICAgIGlmIChwYXJzZWREYXRhLmNvZGUgPT09IFwiMDAwMDAwXCIpIHtcbiAgICAgICAgICAgIHJlc29sdmUodXJsLmluY2x1ZGVzKFwicWEvbWluaS9iYXNpYy91c2VyL2xvZ2luXCIpID8gZGF0YSA6IHBhcnNlZERhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkRGF0YS5jb2RlID09PSBcIjMwMDAwMlwiKSB7XG4gICAgICAgICAgICAgIF9zeXN0ZW0yLmRlZmF1bHQuZGVsZXRlKHtcbiAgICAgICAgICAgICAgICBrZXk6ICdBVVRIX1RPS0VOX0RBVEEnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXF1ZXN0KG9wdGlvbnMpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBKU09OIG9yIGhhbmRsaW5nIGNvZGU6IFwiLCBlKTtcblxuICAgICAgICAgIC8vIOajgOafpeaYr+WQpui/lOWbnueahOaYryBIVE1M77yM6ICM5LiN5pivIEpTT05cbiAgICAgICAgICBpZiAodHlwZW9mIHJlcy5kYXRhID09PSAnc3RyaW5nJyAmJiByZXMuZGF0YS5zdGFydHNXaXRoKCc8aHRtbD4nKSkge1xuICAgICAgICAgICAgcmVqZWN0KFwiU2VydmVyIHJldHVybmVkIGFuIEhUTUwgcGFnZSBpbnN0ZWFkIG9mIEpTT04uIFBvc3NpYmxlIGluY29ycmVjdCBVUkwgb3Igc2VydmVyIGVycm9yLlwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KFwiRXJyb3IgcGFyc2luZyBKU09OIG9yIGhhbmRsaW5nIGNvZGU6IFwiICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAocmVzKSB7fVxuICAgIH0pO1xuICB9KTtcbn07XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSByZXF1ZXN0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9hamF4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vYWpheC5qc1wiKSk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9OyB9XG4vLyDnmbvlvZUgXG5jb25zdCB0b0xvZ2luID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvdXNlci9sb2dpbmAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8vIOS4iuS8oOatpeaVsFxuY29uc3QgdXBsb2Fkc3RlcHMgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9zYy91cGxvYWRgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuLy8g6I635Y+W5q2l5pWwXG5jb25zdCBnZXRzdGVwcyA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvc2NgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDojrflj5bmnIDov5EzMOWkqeiusOW9lVxuY29uc3QgZ2V0c3RlcHNsaXN0ID0gKCkgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvc2MvbGlzdGBcbiAgfSk7XG59O1xuXG4vL+aPkOeOsFxuY29uc3Qgd2l0aGRyYXcgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL3dpdGhkcmF3YCxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy/nlKjmiLfkvZnpop3orrDlvZVcbmNvbnN0IHJlY29yZCA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvdXNlci9jYXNoL3JlY29yZGAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8v6I635Y+W5bm/5ZGK5a6M5oiQ5qyh5pWwXG5jb25zdCBnZXRBZENvdW50ID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9jb21wbGV0ZS9jb3VudGAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8v5bm/5ZGK5a6M5oiQXG5jb25zdCBjb21wbGV0ZUFkID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvYWQvY29tcGxldGVgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vL+W5v+WRiuWujOaIkC3liqDlr4ZcbmNvbnN0IGNvbXBsZXRlQWRSU0EgPSBhc3luYyBkYXRhID0+IHtcbiAgbGV0IHRpbWVzdGFtcCA9ICtuZXcgRGF0ZSgpO1xuICBkYXRhLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgbGV0IF9kYXRhID0gYXdhaXQgJHV0aWxzLmRhdGFFbmNyeXB0aW9uKGRhdGEpO1xuICBsZXQgcGFyYW0gPSB7XG4gICAgZGF0YTogX2RhdGFcbiAgfTtcbiAgY29uc29sZS5sb2coJ+S7u+WKoeWKoOWvhicsIHBhcmFtKTtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9maW5pc2hgLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBhcmFtKVxuICB9KTtcbn07XG5cbi8v5bm/5ZGK6L2s5YyW5LiK5LygICAgdHlwZTrlub/lkYrmuKDpgZPnsbvlnos6IGpoKOmyuOm4vyksIGtzKOW/q+aJiyksIGpsKOW3qOmHjyksICzlj6/nlKjlgLw6amgsa3MsamxcbmNvbnN0IGNvbnZlcnRVcGxvYWQgPSBkYXRhID0+IHtcbiAgY29uc29sZS5sb2coJ2RhdGE9ICcsIGRhdGEsIGB1cmw9IC9xYS9taW5pL2Jhc2ljL2FkL2NvbnZlcnQvdXBsb2FkLyR7ZGF0YS50eXBlfWApO1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2FkL2NvbnZlcnQvdXBsb2FkLyR7ZGF0YS50eXBlfWAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8v6I635Y+W5omL5Yq/6L+U5Zue6YWN572u5L+h5oGvXG5jb25zdCBib2xja1JldHVybiA9ICgpID0+IHtcbiAgbGV0IGJyYW5kID0gZ2V0QXBwKCkuJGRlZi5kYXRhQXBwLmJyYW5kO1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvY2xpY2tDb250cm9sL3JldHVybi9pbmZvLyR7YnJhbmR9YFxuICB9KTtcbn07XG5cbi8qKlxyXG4gKiDojrflj5bpobXpnaLpgI/mmI7lsYLphY3nva7kv6Hmga8gIFxyXG4gKlxyXG4gKi9cblxuY29uc3Qgc2hvd1RjbGF5ZXIgPSBkYXRhID0+IHtcbiAgbGV0IGJyYW5kID0gZ2V0QXBwKCkuJGRlZi5kYXRhQXBwLmJyYW5kO1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvY2xpY2tDb250cm9sL3RyYW5zcGFyZW50TGF5ZXIvaW5mby8ke2JyYW5kfWAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8qKlxyXG4gKiDojrflj5bmmK/lkKboh6rliqjlvLnnqpcgIFxyXG4gKlxyXG4gKi9cblxuY29uc3QgcG9wVXBzID0gKCkgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvYWQvYXV0by9wb3BVcHNgXG4gIH0pO1xufTtcblxuLyoqXHJcbiAqIOi9rOWMlueCueWHu+asoeaVsFxyXG4gKlxyXG4gKi9cbmNvbnN0IGNsaWNrQ291bnQgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2FkL2NvbnZlcnQvY2xpY2tDb3VudC8ke2RhdGEudHlwZX1gLFxuICAgIGRhdGFcbiAgfSk7XG59O1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0ge1xuICB0b0xvZ2luLFxuICB1cGxvYWRzdGVwcyxcbiAgZ2V0c3RlcHMsXG4gIGdldHN0ZXBzbGlzdCxcbiAgd2l0aGRyYXcsXG4gIHJlY29yZCxcbiAgZ2V0QWRDb3VudCxcbiAgY29tcGxldGVBZCxcbiAgY29tcGxldGVBZFJTQSxcbiAgY29udmVydFVwbG9hZCxcbiAgYm9sY2tSZXR1cm4sXG4gIHNob3dUY2xheWVyLFxuICBwb3BVcHMsXG4gIGNsaWNrQ291bnRcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4vKipcbiAqIOWvvOWHuiBhcGlzIOS4i+ebruW9leeahOaJgOacieaOpeWPo1xuICovXG5jb25zdCBmaWxlcyA9IHJlcXVpcmUuY29udGV4dCgnLicsIHRydWUsIC9cXC5qcy8pO1xuY29uc3QgbW9kdWxlcyA9IHt9O1xuZmlsZXMua2V5cygpLmZvckVhY2goa2V5ID0+IHtcbiAgaWYgKGtleSA9PT0gJy4vaW5kZXguanMnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG1vZHVsZXNba2V5LnJlcGxhY2UoLyheXFwuXFwvfFxcLmpzJCkvZywgJycpXSA9IGZpbGVzKGtleSkuZGVmYXVsdDtcbn0pO1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBfYWpheCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL2FqYXguanNcIikpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuLy8g55m75b2VIFxuY29uc3QgZ2V0VXNlckluZm8gPSAoKSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL2luZm9gXG4gIH0pO1xufTtcblxuLy8g6YeR5biBXG5jb25zdCBnZXREYWlseVNpZ25EYXkgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2dvbGRFeGNoYW5nZVJ1bGUvZGFpbHkvc2lnbi9kYXlgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuLy/nrb7liLBcbmNvbnN0IGdvU2lhbkluID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9nb2xkRXhjaGFuZ2VSdWxlL2RhaWx5L3NpZ25gLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDlj43ppohcbmNvbnN0IHBvc3RVc2VyRmVlZGJhY2sgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL2ZlZWRiYWNrYCxcbiAgICBkYXRhXG4gIH0pO1xufTtcbi8v5rOo6ZSA55So5oi3XG5jb25zdCBwdXRGb3JldmVyTG9nb3V0ID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL2ZvcmV2ZXIvbG9nb3V0YFxuICB9KTtcbn07XG5cbi8vIOeUqOaIt+S9memineiusOW9lVxuY29uc3QgZ2V0VXNlckNhc2hSZWNvcmQgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIHVybDogYC9xYS9taW5pL3VzZXIvY2FzaC9yZWNvcmRgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDnlKjmiLfph5HluIHorrDlvZVcbmNvbnN0IGdldFVzZXJHb2xkUmVjb3JkID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL2dvbGQvcmVjb3JkYCxcbiAgICBkYXRhXG4gIH0pO1xufTtcbi8v6K6+572u5pSv5LuY5a6d6LSm5oi3XG5jb25zdCBwdXRBbGlwYXlBY2NvdW50ID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL2FsaXBheS9hY2NvdW50YCxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy/lj5HpgIHpqozor4HnoIFcbmNvbnN0IHBvc3RTZW5kQ29kZSA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL3VzZXIvc2VuZENvZGUvJHtkYXRhLnBob25lfWBcbiAgfSk7XG59O1xubGV0IHVzZXIgPSB7XG4gIGdldFVzZXJJbmZvLFxuICBnZXREYWlseVNpZ25EYXksXG4gIGdvU2lhbkluLFxuICBwb3N0VXNlckZlZWRiYWNrLFxuICBnZXRVc2VyQ2FzaFJlY29yZCxcbiAgZ2V0VXNlckdvbGRSZWNvcmQsXG4gIHB1dEZvcmV2ZXJMb2dvdXQsXG4gIHB1dEFsaXBheUFjY291bnQsXG4gIHBvc3RTZW5kQ29kZVxufTtcbnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHVzZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNsZWFyU3RvcmFnZSA9IGNsZWFyU3RvcmFnZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbmV4cG9ydHMuZGVsZXRlU3RvcmFnZSA9IGRlbGV0ZVN0b3JhZ2U7XG5leHBvcnRzLmdldFN0b3JhZ2UgPSBnZXRTdG9yYWdlO1xuZXhwb3J0cy5pbmNyZW1lbnRUb2RheUNsaWNrcyA9IGluY3JlbWVudFRvZGF5Q2xpY2tzO1xuZXhwb3J0cy5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2U7XG5leHBvcnRzLnJlc2V0VG9kYXlDbGlja3NJZk5lZWRlZCA9IHJlc2V0VG9kYXlDbGlja3NJZk5lZWRlZDtcbmV4cG9ydHMuc2V0U3RvcmFnZSA9IHNldFN0b3JhZ2U7XG52YXIgX3N5c3RlbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5zdG9yYWdlXCIpKTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSkgeyByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07IH1cbi8vIOS8mOWMluacrOWcsOWtmOWCqGdldOaWueazlVxuZnVuY3Rpb24gbG9jYWxTdG9yYWdlKGtleSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIF9zeXN0ZW0uZGVmYXVsdC5nZXQoe1xuICAgICAga2V5LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAoZGF0YSwgY29kZSkge1xuICAgICAgICByZWplY3QoZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0U3RvcmFnZShrZXksIHZhbHVlID0gXCJcIikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIF9zeXN0ZW0uZGVmYXVsdC5zZXQoe1xuICAgICAga2V5LFxuICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJlc29sdmUoYHNldFN0b3JhZ2Ugc3VjY2Vzc2ApO1xuICAgICAgfSxcbiAgICAgIGZhaWw6IGZ1bmN0aW9uIChkYXRhLCBjb2RlKSB7XG4gICAgICAgIHJlamVjdChgc2V0U3RvcmFnZSBmYWlsLCBjb2RlID0gJHtjb2RlfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFN0b3JhZ2Uoa2V5KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgX3N5c3RlbS5kZWZhdWx0LmdldCh7XG4gICAgICBrZXksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgfSxcbiAgICAgIGZhaWw6IGZ1bmN0aW9uIChkYXRhLCBjb2RlKSB7XG4gICAgICAgIHJlamVjdChgZ2V0U3RvcmFnZSBmYWlsLCBjb2RlID0gJHtjb2RlfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZVN0b3JhZ2Uoa2V5KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgX3N5c3RlbS5kZWZhdWx0LmRlbGV0ZSh7XG4gICAgICBrZXksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXNvbHZlKGBkZWxldGVTdG9yYWdlIHN1Y2Nlc3NgKTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAoZGF0YSwgY29kZSkge1xuICAgICAgICByZWplY3QoYGRlbGV0ZVN0b3JhZ2UgZmFpbCwgY29kZSA9ICR7Y29kZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjbGVhclN0b3JhZ2UoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgX3N5c3RlbS5kZWZhdWx0LmNsZWFyKHtcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJlc29sdmUoYGNsZWFyU3RvcmFnZSBzdWNjZXNzYCk7XG4gICAgICB9LFxuICAgICAgZmFpbDogZnVuY3Rpb24gKGRhdGEsIGNvZGUpIHtcbiAgICAgICAgcmVqZWN0KGBjbGVhclN0b3JhZ2UgZmFpbCwgY29kZSA9ICR7Y29kZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8v5qOA5p+l5piv5ZCm6ZyA6KaB6YeN572u5bm/5ZGK54K55Ye75qyh5pWwXG5mdW5jdGlvbiByZXNldFRvZGF5Q2xpY2tzSWZOZWVkZWQoKSB7XG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKTsgLy/lvZPlpKnml6XmnJ9cblxuICBfc3lzdGVtLmRlZmF1bHQuZ2V0KHtcbiAgICBrZXk6ICdsYXN0UmVzZXREYXRlJyxcbiAgICBkZWZhdWx0OiAnLTEnLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZygn5pys5qyh5qOA5p+l5pel5pyf77yaJywgY3VycmVudERhdGUsICctLS0g5pyA5ZCO6L+b5YWl5bm/5ZGK6aG15pel5pyf77yaJywgZGF0YSk7XG4gICAgICBpZiAoZGF0YSAhPT0gY3VycmVudERhdGUpIHtcbiAgICAgICAgLy/ml6XmnJ/kuI3nm7jlkIxcbiAgICAgICAgLy8g6YeN572u5bm/5ZGK54K55Ye75qyh5pWwXG4gICAgICAgIF9zeXN0ZW0uZGVmYXVsdC5zZXQoe1xuICAgICAgICAgIGtleTogJ3RvZGF5Q2xpY2tzJyxcbiAgICAgICAgICB2YWx1ZTogJzAnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8v6L+b5YWl5bm/5ZGK6aG15pe25omn6KGMXG5mdW5jdGlvbiBpbmNyZW1lbnRUb2RheUNsaWNrcygpIHtcbiAgX3N5c3RlbS5kZWZhdWx0LmdldCh7XG4gICAga2V5OiAndG9kYXlDbGlja3MnLFxuICAgIGRlZmF1bHQ6ICcwJyxcbiAgICAvL+m7mOiupDDmrKFcbiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ+eCueWHu+asoeaVsCsxLOW9k+WJjeasoeaVsCcsIGRhdGEpO1xuICAgICAgbGV0IHRvZGF5Q2xpY2tzID0gcGFyc2VJbnQoZGF0YSkgfHwgMDtcbiAgICAgIHRvZGF5Q2xpY2tzID0gdG9kYXlDbGlja3MgKyAxO1xuICAgICAgX3N5c3RlbS5kZWZhdWx0LnNldCh7XG4gICAgICAgIGtleTogJ3RvZGF5Q2xpY2tzJyxcbiAgICAgICAgdmFsdWU6IHRvZGF5Q2xpY2tzLnRvU3RyaW5nKClcbiAgICAgIH0pO1xuICAgICAgX3N5c3RlbS5kZWZhdWx0LnNldCh7XG4gICAgICAgIGtleTogJ2xhc3RSZXNldERhdGUnLFxuICAgICAgICB2YWx1ZTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgZ2V0U3RvcmFnZSxcbiAgc2V0U3RvcmFnZSxcbiAgaW5jcmVtZW50VG9kYXlDbGlja3MsXG4gIHJlc2V0VG9kYXlDbGlja3NJZk5lZWRlZFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBfc3lzdGVtID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmRldmljZVwiKSk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9OyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gdHlwZW9mIGkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiB0IHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiBpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH0gLyoqXG4gKiDmgqjlj6/ku6XlsIbluLjnlKjnmoTmlrnms5XjgIHmiJbns7vnu58gQVBJ77yM57uf5LiA5bCB6KOF77yM5pq06Zyy5YWo5bGA77yM5Lul5L6/5ZCE6aG16Z2i44CB57uE5Lu26LCD55So77yM6ICM5peg6ZyAIHJlcXVpcmUgLyBpbXBvcnQuXG4gKi9cbi8vIOiKgua1gemYgFxuY29uc3QgdGhyb3R0bGUgPSAoZm4sIGdhcFRpbWUgPSAxNTAwKSA9PiB7XG4gIGxldCBfbGFzdFRpbWUgPSBudWxsO1xuICAvLyDov5Tlm57mlrDnmoTlh73mlbBcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgX25vd1RpbWUgPSArbmV3IERhdGUoKTtcbiAgICBpZiAoX25vd1RpbWUgLSBfbGFzdFRpbWUgPiBnYXBUaW1lIHx8ICFfbGFzdFRpbWUpIHtcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8v5bCGdGhpc+WSjOWPguaVsOS8oOe7meWOn+WHveaVsFxuICAgICAgX2xhc3RUaW1lID0gX25vd1RpbWU7XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IHtcbiAgSlNFbmNyeXB0XG59ID0gcmVxdWlyZSgnLi4vbGlicy9qc2VuY3J5cHQvbGliL2luZGV4Jyk7XG5jb25zdCBjb25maWcgPSB7XG4gIHB1YmxpY0tleTogJ01JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcWFqMFkzazU0akN5VHE0N3Q3M1NjQlg5dUJzU1NjRG83L3VaK1BoSFloOWVRcUhOVzFiQmpLR1Y0dDNZOFdva2h2Nzgza3J4aElxemtQZjluSGVaMnlXcW9RbFBhM3FPVWM3V2YvSHBYMitlSEdSakYxL1JMQVJKbU1jRWdRWUIzV0diZFJlZHUwRmpRU0dkK09mU1MvVzdIZWgyWkdsRi9hU0hqMk5ZaFlFNHA3eDRqalFJaSt1ZUtadlZKTlpwdTB2aFFhRjQ1anBxUURVTFBMK01ra1FlUG11cGpwL1BSNFJhOEJWZzREd0p1STZLOGpMNzdZV2F4ZVFSYk1yRWlRMFpiVEtSUTRvOE43M2lJTTk3RS9oOFBiRGw1RmJ1Tm4wazh1cmtZbm12NTZBTWRrVkV5SU9Vd05FYThvVTlRS3ozN281WjJMNyt5cXgyem1McFZ3SURBUUFCJ1xufTtcbmNvbnN0IGRhdGFFbmNyeXB0aW9uID0gKGRhdGEsIGFjdGlvbiA9IFwiZW5jcnlwdFwiKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IGtleU1hcCA9IHtcbiAgICAgIGVuY3J5cHQ6IGNvbmZpZy5wdWJsaWNLZXksXG4gICAgICBkZWNyeXB0OiBjb25maWcucHJpdmF0ZUtleVxuICAgIH07XG4gICAgbGV0IGtleSA9IGtleU1hcFthY3Rpb25dO1xuICAgIGxldCBfZGF0YSA9IGFjdGlvbiA9PT0gXCJlbmNyeXB0XCIgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IGRhdGE7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChhY3Rpb24gPT09IFwiZW5jcnlwdFwiKSB7XG4gICAgICAgIGNvbnN0IGVuY3J5cHRvciA9IG5ldyBKU0VuY3J5cHQoKTtcbiAgICAgICAgZW5jcnlwdG9yLnNldFB1YmxpY0tleShrZXkpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gZW5jcnlwdG9yLmVuY3J5cHQoX2RhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQsICfmn6XnnIvmnInku4DkuYgnKTtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yLCAn6L2s5o2i5oql6ZSZ77yfJyk7XG4gIH1cbn07XG5jb25zdCBnZXRVc2VySWQgPSBhc3luYyAoKSA9PiB7XG4gIGxldCB1c2VySWQgPSBhd2FpdCBfc3lzdGVtLmRlZmF1bHQuZ2V0VXNlcklkKCk7XG4gIHJldHVybiB1c2VySWQuZGF0YS51c2VySWQ7XG59O1xuY29uc3QgZ2V0T0FJRCA9IGFzeW5jICgpID0+IHtcbiAgbGV0IG9haWQgPSBhd2FpdCBfc3lzdGVtLmRlZmF1bHQuZ2V0T0FJRCgpO1xuICByZXR1cm4gb2FpZDtcbn07XG5cbi8qKlxuICog6L2s5YyW5LiK5LygXG4gKiBAcGFyYW0geyp9IHRoYXQg5omA5ZyodGhpcyBcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udmVydFVwbG9hZCgpIHtcbiAgbGV0IHBhcmFtID0gX29iamVjdFNwcmVhZCh7fSwgZ2V0QXBwKCkuJGRlZi5kYXRhQXBwLmFjdGlQYXJhbSk7XG4gIGNvbnNvbGUubG9nKCdnZXRDb252ZXJ0VXBsb2FkKCkg6L2s5YyW5Y+C5pWwcGFyYW09ICcsIHBhcmFtKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW0pIHtcbiAgICBwYXJhbVtrZXldID0gcGFyYW1ba2V5XS5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG4gIH1cbiAgY29uc3QgY29udmVydGVkUGFyYW0gPSBjb252ZXJ0S2V5c1RvQ2FtZWxDYXNlKHBhcmFtKTtcbiAgaWYgKCFjb252ZXJ0ZWRQYXJhbS5jYWxsYmFjaykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmxvZygnZ2V0Q29udmVydFVwbG9hZCgpIOagvOW8j+WMlui9rOWMluWPguaVsGNvbnZlcnRlZFBhcmFtPSAnLCBjb252ZXJ0ZWRQYXJhbSk7XG4gICRhcGlzLmV4YW1wbGUuY29udmVydFVwbG9hZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbnZlcnRlZFBhcmFtKSwge30sIHtcbiAgICBkZXZpY2VJZDogY29udmVydGVkUGFyYW0ub2FpZCxcbiAgICB0eXBlOiBjb252ZXJ0ZWRQYXJhbS50eXBlIHx8ICdqaCdcbiAgfSkpLnRoZW4ocmVzID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXMsICfovazmjaLmiJDlip8nKTtcbiAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIsICfovazmjaLlpLHotKUnKTtcbiAgfSk7XG59XG5mdW5jdGlvbiB0b0NhbWVsQ2FzZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9fKFthLXpdKS9nLCAoXywgbGV0dGVyKSA9PiBsZXR0ZXIudG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0S2V5c1RvQ2FtZWxDYXNlKG9iaikge1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5tYXAodiA9PiBjb252ZXJ0S2V5c1RvQ2FtZWxDYXNlKHYpKTtcbiAgfSBlbHNlIGlmIChvYmogIT09IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gICAgICBjb25zdCBjYW1lbENhc2VLZXkgPSB0b0NhbWVsQ2FzZShrZXkpO1xuICAgICAgcmVzdWx0W2NhbWVsQ2FzZUtleV0gPSBjb252ZXJ0S2V5c1RvQ2FtZWxDYXNlKG9ialtrZXldKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuKiDkv53lrZjlub/lkYrlm57kvKDlj4LmlbAgICByb3V0ZXIucHVzaChPQkpFQ1QpICDkvovvvJpAcGFyYW0ge09iamVjdH0gZT0naGFwOi8vYXBwL2NvbS5jb21wYW55LmFwcC9pbmRleD9wYXJhbTE9dmFsdWUxJ1xuKi9cbmNvbnN0IHNhdmVIYXBVcmkgPSBlID0+IHtcbiAgY29uc29sZS5sb2coJ3NhdmVIYXBVcmkoKSDovazljJblj4LmlbBlPSAnLCBlKTtcbiAgY29uc3Qge1xuICAgIGNoYW5uZWxWYWx1ZSA9ICcnLFxuICAgIGNhbGxiYWNrID0gJydcbiAgfSA9IGU7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGdldEFwcCgpLiRkZWYuZGF0YUFwcC5hY3RpUGFyYW0gPSBfb2JqZWN0U3ByZWFkKHt9LCBlKTtcbiAgfVxufTtcblxuLyoqXG4qIOaPkuWxj+W5v+WRiiBcbiovXG5cbmNvbnN0IHRhYmxlUGxhcXVlID0gYXN5bmMgKG9uQ2xvc2VDYWxsYmFjaywgb25DYXRjaENhbGxiYWNrKSA9PiB7XG4gIC8vIGNvbnN0IHN0b3JhZ2VGbGFnID0gYXdhaXQgJHByb2Nlc3NEYXRhLmdldFN0b3JhZ2UoXCJfUFJJVkFDXCIpO1xuICAvLyBpZiAoIXN0b3JhZ2VGbGFnKSB7XG4gIC8vICAgLy/mnKrmjojmnYPvvIzlvLnlh7rmjojmnYPor6Lpl65cbiAgLy8gICBjb25zb2xlLmxvZygn55So5oi35o6I5p2DPSAnLCBzdG9yYWdlRmxhZyk7XG4gIC8vICAgY29uc29sZS5sb2coJ+acquaOiOadgyzkuI3liqDovb3mj5LlsY/lub/lkYonKTtcbiAgLy8gICByZXR1cm5cbiAgLy8gfVxuXG4gIGxldCBQcm92aWRlciA9ICRhZC5nZXRQcm92aWRlcigpO1xuICBpZiAoIVByb3ZpZGVyKSB7XG4gICAgY29uc29sZS5sb2coJ+ayoeacieW5v+WRiuWVhicpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgaW50ZXJzdGl0aWFsQWQgPSAkYWQuY3JlYXRlSW50ZXJzdGl0aWFsQWQoe1xuICAgIGFkVW5pdElkOiBnZXRBcHAoKS4kZGVmLmRhdGFBcHAuaW50ZXJzdGl0aWFsQWRVbml0SWRcbiAgfSk7XG4gIGludGVyc3RpdGlhbEFkLmxvYWQoKS50aGVuKHJlcyA9PiB7XG4gICAgY29uc29sZS5sb2cocmVzLCAn5p+l5bGP5Yqg6L295oiQ5YqfJyk7XG4gICAgaW50ZXJzdGl0aWFsQWQuc2hvdygpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ+aPkuWxj+W5v+WRinNob3fmiJDlip8nKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn5o+S5bGP5bm/5ZGKc2hvd+Wksei0pScpO1xuICAgIH0pO1xuICB9KVxuICAvLyAuY2F0Y2goKGVycikgPT4ge1xuICAvLyAgIGNvbnNvbGUubG9nKGVyciwgJ+aPkuWxj+WKoOi9veWksei0pScpO1xuICAvLyB9KVxuICAuY2F0Y2gob25DYXRjaENhbGxiYWNrKTtcbiAgaW50ZXJzdGl0aWFsQWQub25DbGljaygoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ+aPkuWxj+W5v+WRiueCueWHu+S6hicpO1xuICAgIC8v6L2s5YyW5LiK5LygXG4gICAgZ2V0Q29udmVydFVwbG9hZCgpO1xuICB9KTtcbiAgaW50ZXJzdGl0aWFsQWQub25DbG9zZShvbkNsb3NlQ2FsbGJhY2spO1xufTtcblxuLyoqXG4qIGJhbm5lcuW5v+WRiiAgbWFyZ2luX2JvdOW6lemDqOe8qei/myAgXG4qL1xuXG5sZXQgYmFubmVyQWQ7XG5jb25zdCBzaG93QmFubmVyQWQgPSBhc3luYyBtYXJnaW5fYm90ID0+IHtcbiAgLy8gY29uc3Qgc3RvcmFnZUZsYWcgPSBhd2FpdCAkcHJvY2Vzc0RhdGEuZ2V0U3RvcmFnZShcIl9QUklWQUNcIik7XG4gIC8vIGlmICghc3RvcmFnZUZsYWcpIHtcbiAgLy8gICAvL+acquaOiOadg++8jOW8ueWHuuaOiOadg+ivoumXrlxuICAvLyAgIGNvbnNvbGUubG9nKCfnlKjmiLfmjojmnYM9ICcsIHN0b3JhZ2VGbGFnKTtcbiAgLy8gICBjb25zb2xlLmxvZygn5pyq5o6I5p2DLOS4jeWKoOi9vWJhbm5lcuW5v+WRiicpO1xuICAvLyAgIHJldHVyblxuICAvLyB9XG5cbiAgbGV0IFByb3ZpZGVyID0gJGFkLmdldFByb3ZpZGVyKCk7XG4gIGlmICghUHJvdmlkZXIpIHtcbiAgICBjb25zb2xlLmxvZygn5rKh5pyJ5bm/5ZGK6L+U5ZueJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBkID0gX3N5c3RlbS5kZWZhdWx0LmdldEluZm9TeW5jKCk7XG4gIC8vIGNvbnNvbGUuaW5mbyhcImJhbm5lcuW5v+WRii3orr7lpIfkv6Hmga8gXCIgKyBKU09OLnN0cmluZ2lmeShkKSk7XG5cbiAgbGV0IGhlaWdodCA9IDU3OyAvL+S4pOenjemrmOW6piAgNTfkuI4xNDRcbiAgLy/ojrflj5bpobXpnaLlhoXlj6/op4Hnqpflj6PnmoTpq5jluqblkozlrr3luqbvvIzmraTlgLzkuI3ljIXmi6zmoIfpopjmoI/lkoznirbmgIHmoI/pq5jluqZcbiAgbGV0IHdpbmRvd1dpZHRoID0gZC5zY3JlZW5XaWR0aDtcbiAgbGV0IHdpbmRvd0hlaWdodCA9IGQuc2NyZWVuSGVpZ2h0IC0gMTUzIC0gbWFyZ2luX2JvdDtcbiAgLy9sb2dpY1dpZHRo5a+55bqUbWFuaWZlc3QuanNvbuaWh+S7tuiuvue9rueahGRlc2lnbldpZHRo5YC877yM6buY6K6k5pivNzUwXG4gIGxldCBsb2dpY1dpZHRoID0gNzUwO1xuICAvL+W5v+WRiuiHqui6q+Wkp+Wwj+WNleS9jeaYr2Rw77yM6ZyA6KaB6L2s5o2i5oiQcHjljZXkvY1cbiAgbGV0IHJlYWxBZEhlaWdoUFggPSBoZWlnaHQgKiBkLnNjcmVlbkRlbnNpdHk7XG4gIC8v5qCH6aKY5qCP6auY5bqm5LiA6Iis5pivNDJkcOW3puWPs++8jOatpOWkhOS5n+mcgOimgei9rOaNouaIkHB45Y2V5L2NXG4gIGxldCB0aXRsZUJhckhlaWdodCA9IDQyICogZC5zY3JlZW5EZW5zaXR5O1xuICAvL+atpOWkhOiuoeeul+W+iOWFs+mUru+8jOmcgOimgeWwhueKtuaAgeagj+mrmOW6puOAgeagh+mimOagj+mrmOW6puWKoOS4ilxuICBsZXQgcmVhbFRvcHB4ID0gd2luZG93SGVpZ2h0IC0gcmVhbEFkSGVpZ2hQWCArIGQuc3RhdHVzQmFySGVpZ2h0ICsgdGl0bGVCYXJIZWlnaHQ7XG5cbiAgLy8gY29uc29sZS5pbmZvKFwiY2FsQmFubmVyUG9zdGlvbjEgcmVhbFRvcHB4PVwiICsgcmVhbFRvcHB4ICsgXCIsIGxvZ2ljV2lkdGg9IFwiICsgbG9naWNXaWR0aCwgXCJ3aW5kb3dXaWR0aD0gXCIgKyB3aW5kb3dXaWR0aCk7XG4gIC8v6L2s5o2i5oiQ6aG16Z2i5Z+65YeG5YC85LiL55qE6YC76L6R5Y2V5L2NXG4gIGxldCBsb2dpY1dlYlRvcCA9IHJlYWxUb3BweCAqIGxvZ2ljV2lkdGggLyB3aW5kb3dXaWR0aDtcblxuICAvL+atpOWvueixoeivt+iHquW3seWcqGRhdGHkuIvlrprkuYlcbiAgbGV0IHRvcCA9IGxvZ2ljV2ViVG9wID09PSAwID8gMTIzMCA6IGxvZ2ljV2ViVG9wO1xuICAvLyBjb25zb2xlLmluZm8oXCJjYWxCYW5uZXJQb3N0aW9uMSB0b3A9XCIgKyB0b3AgKyBcIiwgbG9naWNXZWJUb3A9IFwiICsgbG9naWNXZWJUb3ApO1xuXG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiB0b3AsXG4gICAgd2lkdGg6IDM2MCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xuICBsZXQgYWRpZCA9IGdldEFwcCgpLiRkZWYuZGF0YUFwcC5iYW5uZXJBZFVuaXRJZDtcbiAgLy8gbGV0IGFkaWQgPSAnejF2Nmp5a3Z5OSdcbiAgLy8gY29uc29sZS5pbmZvKFwiYmFubmVy5bm/5ZGK5L2NPVwiICsgYWRpZCk7XG4gIGJhbm5lckFkID0gJGFkLmNyZWF0ZUJhbm5lckFkKHtcbiAgICBhZFVuaXRJZDogYWRpZCxcbiAgICAvL2Jhbm5lcuW5v+WRiuS9jVxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBhZEludGVydmFsczogNjAgLy/liLfmlrDml7bpl7TvvIznp5JcbiAgfSk7XG4gIC8vIGNvbnNvbGUuaW5mbyhcImFubmVyQWQuc3R5bGU9XCIgKyBKU09OLnN0cmluZ2lmeShiYW5uZXJBZC5zdHlsZSkpO1xuICBiYW5uZXJBZC5vbkxvYWQoZSA9PiB7XG4gICAgY29uc29sZS5pbmZvKFwibG9hZCBiYW5uZXJBZCAgb25sb2FkIHN1Y2Nlc3MgZT1cIiArIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgfSk7XG4gIGJhbm5lckFkLm9uRXJyb3IoZSA9PiB7XG4gICAgLy8gY29uc29sZS5lcnJvcihcImxvYWQgYmFubmVyQWQgIG9uRXJyb3IgXCIgKyBKU09OLnN0cmluZ2lmeShlKSk7XG4gIH0pO1xuICBiYW5uZXJBZC5vbkNsb3NlKGUgPT4ge1xuICAgIC8vIGNvbnNvbGUuaW5mbyhcImxvYWQgYmFubmVyQWQgIG9uQ2xvc2VcIik7XG4gIH0pO1xuICBiYW5uZXJBZC5zaG93KCk7XG59O1xuY29uc3QgaGlkZUJhbmVyQWQgPSAoKSA9PiB7XG4gIGlmIChiYW5uZXJBZCkge1xuICAgIGJhbm5lckFkLmhpZGUoKTtcbiAgfVxufTtcbmNvbnN0IHZpZXdCYW5uZXIgPSAoKSA9PiB7XG4gIGlmIChiYW5uZXJBZCkge1xuICAgIGJhbm5lckFkLnNob3coKTtcbiAgfVxufTtcbmNvbnN0IGRlc3Ryb3lCYW5uZXIgPSAoKSA9PiB7XG4gIGlmIChiYW5uZXJBZCkge1xuICAgIGJhbm5lckFkLmRlc3Ryb3koKTtcbiAgfVxufTtcblxuLyoqXG4gKiDliIbnp5LlgJLorqHml7ZcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb3VudERvd25EYXRhIOebuOWFs+WPguaVsO+8mnRvdGFsU2Vjb25kc+WAkuiuoeaXtuenkuaVsOOAgW5hbWXlsZ7mgKflkI3np7DjgIFpc0Zvcm1hdOagvOW8j+WMllxuICogQHBhcmFtIHsqfSB0aGF0IOW9k+WJjee7hOS7tnRoaXNcbiAqL1xuY29uc3Qgc3RhcnRDb3VudERvd24gPSAoY291bnREb3duRGF0YSwgdGhhdCkgPT4ge1xuICBsZXQge1xuICAgIHRvdGFsU2Vjb25kcyA9IDMsXG4gICAgbmFtZSxcbiAgICBpc0Zvcm1hdCA9IGZhbHNlXG4gIH0gPSBjb3VudERvd25EYXRhO1xuICBsZXQgX3RoaXMgPSB0aGF0O1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0b3RhbFNlY29uZHMgPiAxKSB7XG4gICAgICAgIHRvdGFsU2Vjb25kcy0tO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gaXNGb3JtYXQgPyAodm9pZCAwKS5mb3JtYXRUaW1lKE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApKSA6IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gaXNGb3JtYXQgPyAodm9pZCAwKS5mb3JtYXRUaW1lKE1hdGguZmxvb3IodG90YWxTZWNvbmRzICUgNjApKSA6IE1hdGguZmxvb3IodG90YWxTZWNvbmRzICUgNjApO1xuICAgICAgICBfdGhpc1tuYW1lXSA9IHtcbiAgICAgICAgICBtaW51dGVzLFxuICAgICAgICAgIHNlY29uZHNcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMudGltZXIpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gICAgX3RoaXMudGltZXIgPSB0aW1lcjtcbiAgfSk7XG59O1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0ge1xuICB0aHJvdHRsZSxcbiAgZ2V0VXNlcklkLFxuICBnZXRDb252ZXJ0VXBsb2FkLFxuICBzdGFydENvdW50RG93bixcbiAgZGF0YUVuY3J5cHRpb24sXG4gIHRhYmxlUGxhcXVlLFxuICBzaG93QmFubmVyQWQsXG4gIGhpZGVCYW5lckFkLFxuICB2aWV3QmFubmVyLFxuICBkZXN0cm95QmFubmVyLFxuICBzYXZlSGFwVXJpLFxuICBnZXRPQUlEXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5KU0VuY3J5cHQgPSB2b2lkIDA7XG52YXIgX2Jhc2UgPSByZXF1aXJlKFwiLi9saWIvanNibi9iYXNlNjRcIik7XG52YXIgX0pTRW5jcnlwdFJTQUtleSA9IHJlcXVpcmUoXCIuL0pTRW5jcnlwdFJTQUtleVwiKTtcbnZhciBfYTtcbnZhciB2ZXJzaW9uID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gKF9hID0gcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ucG1fcGFja2FnZV92ZXJzaW9uIDogdW5kZWZpbmVkO1xuLyoqXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zID0ge31dIC0gQW4gb2JqZWN0IHRvIGN1c3RvbWl6ZSBKU0VuY3J5cHQgYmVoYXZpb3VyXG4gKiBwb3NzaWJsZSBwYXJhbWV0ZXJzIGFyZTpcbiAqIC0gZGVmYXVsdF9rZXlfc2l6ZSAgICAgICAge251bWJlcn0gIGRlZmF1bHQ6IDEwMjQgdGhlIGtleSBzaXplIGluIGJpdFxuICogLSBkZWZhdWx0X3B1YmxpY19leHBvbmVudCB7c3RyaW5nfSAgZGVmYXVsdDogJzAxMDAwMScgdGhlIGhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwdWJsaWMgZXhwb25lbnRcbiAqIC0gbG9nICAgICAgICAgICAgICAgICAgICAge2Jvb2xlYW59IGRlZmF1bHQ6IGZhbHNlIHdoZXRoZXIgbG9nIHdhcm4vZXJyb3Igb3Igbm90XG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIEpTRW5jcnlwdCA9IGV4cG9ydHMuSlNFbmNyeXB0ID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSlNFbmNyeXB0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSA9IG9wdGlvbnMuZGVmYXVsdF9rZXlfc2l6ZSA/IHBhcnNlSW50KG9wdGlvbnMuZGVmYXVsdF9rZXlfc2l6ZSwgMTApIDogMTAyNDtcbiAgICB0aGlzLmRlZmF1bHRfcHVibGljX2V4cG9uZW50ID0gb3B0aW9ucy5kZWZhdWx0X3B1YmxpY19leHBvbmVudCB8fCBcIjAxMDAwMVwiOyAvLyA2NTUzNyBkZWZhdWx0IG9wZW5zc2wgcHVibGljIGV4cG9uZW50IGZvciByc2Ega2V5IHR5cGVcbiAgICB0aGlzLmxvZyA9IG9wdGlvbnMubG9nIHx8IGZhbHNlO1xuICAgIC8vIFRoZSBwcml2YXRlIGFuZCBwdWJsaWMga2V5LlxuICAgIHRoaXMua2V5ID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHRvIHNldCB0aGUgcnNhIGtleSBwYXJhbWV0ZXIgKG9uZSBtZXRob2QgaXMgZW5vdWdoIHRvIHNldCBib3RoIHRoZSBwdWJsaWNcbiAgICogYW5kIHRoZSBwcml2YXRlIGtleSwgc2luY2UgdGhlIHByaXZhdGUga2V5IGNvbnRhaW5zIHRoZSBwdWJsaWMga2V5IHBhcmFtZW50ZXJzKVxuICAgKiBMb2cgYSB3YXJuaW5nIGlmIGxvZ3MgYXJlIGVuYWJsZWRcbiAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBrZXkgdGhlIHBlbSBlbmNvZGVkIHN0cmluZyBvciBhbiBvYmplY3QgKHdpdGggb3Igd2l0aG91dCBoZWFkZXIvZm9vdGVyKVxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHQucHJvdG90eXBlLnNldEtleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodGhpcy5sb2cgJiYgdGhpcy5rZXkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkEga2V5IHdhcyBhbHJlYWR5IHNldCwgb3ZlcnJpZGluZyBleGlzdGluZy5cIik7XG4gICAgfVxuICAgIHRoaXMua2V5ID0gbmV3IF9KU0VuY3J5cHRSU0FLZXkuSlNFbmNyeXB0UlNBS2V5KGtleSk7XG4gIH07XG4gIC8qKlxuICAgKiBQcm94eSBtZXRob2QgZm9yIHNldEtleSwgZm9yIGFwaSBjb21wYXRpYmlsaXR5XG4gICAqIEBzZWUgc2V0S2V5XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuc2V0UHJpdmF0ZUtleSA9IGZ1bmN0aW9uIChwcml2a2V5KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBrZXkuXG4gICAgdGhpcy5zZXRLZXkocHJpdmtleSk7XG4gIH07XG4gIC8qKlxuICAgKiBQcm94eSBtZXRob2QgZm9yIHNldEtleSwgZm9yIGFwaSBjb21wYXRpYmlsaXR5XG4gICAqIEBzZWUgc2V0S2V5XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuc2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKHB1YmtleSkge1xuICAgIC8vIFNldHMgdGhlIHB1YmxpYyBrZXkuXG4gICAgdGhpcy5zZXRLZXkocHVia2V5KTtcbiAgfTtcbiAgLyoqXG4gICAqIFByb3h5IG1ldGhvZCBmb3IgUlNBS2V5IG9iamVjdCdzIGRlY3J5cHQsIGRlY3J5cHQgdGhlIHN0cmluZyB1c2luZyB0aGUgcHJpdmF0ZVxuICAgKiBjb21wb25lbnRzIG9mIHRoZSByc2Ega2V5IG9iamVjdC4gTm90ZSB0aGF0IGlmIHRoZSBvYmplY3Qgd2FzIG5vdCBzZXQgd2lsbCBiZSBjcmVhdGVkXG4gICAqIG9uIHRoZSBmbHkgKGJ5IHRoZSBnZXRLZXkgbWV0aG9kKSB1c2luZyB0aGUgcGFyYW1ldGVycyBwYXNzZWQgaW4gdGhlIEpTRW5jcnlwdCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIGJhc2U2NCBlbmNvZGVkIGNyeXB0ZWQgc3RyaW5nIHRvIGRlY3J5cHRcbiAgICogQHJldHVybiB7c3RyaW5nfSB0aGUgZGVjcnlwdGVkIHN0cmluZ1xuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHQucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgLy8gUmV0dXJuIHRoZSBkZWNyeXB0ZWQgc3RyaW5nLlxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5kZWNyeXB0KCgwLCBfYmFzZS5iNjR0b2hleCkoc3RyKSk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBQcm94eSBtZXRob2QgZm9yIFJTQUtleSBvYmplY3QncyBlbmNyeXB0LCBlbmNyeXB0IHRoZSBzdHJpbmcgdXNpbmcgdGhlIHB1YmxpY1xuICAgKiBjb21wb25lbnRzIG9mIHRoZSByc2Ega2V5IG9iamVjdC4gTm90ZSB0aGF0IGlmIHRoZSBvYmplY3Qgd2FzIG5vdCBzZXQgd2lsbCBiZSBjcmVhdGVkXG4gICAqIG9uIHRoZSBmbHkgKGJ5IHRoZSBnZXRLZXkgbWV0aG9kKSB1c2luZyB0aGUgcGFyYW1ldGVycyBwYXNzZWQgaW4gdGhlIEpTRW5jcnlwdCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBzdHJpbmcgdG8gZW5jcnlwdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlbmNyeXB0ZWQgc3RyaW5nIGVuY29kZWQgaW4gYmFzZTY0XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZW5jcnlwdCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAvLyBSZXR1cm4gdGhlIGVuY3J5cHRlZCBzdHJpbmcuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoMCwgX2Jhc2UuaGV4MmI2NCkodGhpcy5nZXRLZXkoKS5lbmNyeXB0KHN0cikpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUHJveHkgbWV0aG9kIGZvciBSU0FLZXkgb2JqZWN0J3Mgc2lnbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIHNpZ25cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnZXN0TWV0aG9kIGhhc2ggbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaWdlc3ROYW1lIHRoZSBuYW1lIG9mIHRoZSBoYXNoIGFsZ29yaXRobVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBzaWduYXR1cmUgZW5jb2RlZCBpbiBiYXNlNjRcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0LnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24gKHN0ciwgZGlnZXN0TWV0aG9kLCBkaWdlc3ROYW1lKSB7XG4gICAgLy8gcmV0dXJuIHRoZSBSU0Egc2lnbmF0dXJlIG9mICdzdHInIGluICdoZXgnIGZvcm1hdC5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuICgwLCBfYmFzZS5oZXgyYjY0KSh0aGlzLmdldEtleSgpLnNpZ24oc3RyLCBkaWdlc3RNZXRob2QsIGRpZ2VzdE5hbWUpKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFByb3h5IG1ldGhvZCBmb3IgUlNBS2V5IG9iamVjdCdzIHZlcmlmeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIHZlcmlmeVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2lnbmF0dXJlIHRoZSBzaWduYXR1cmUgZW5jb2RlZCBpbiBiYXNlNjQgdG8gY29tcGFyZSB0aGUgc3RyaW5nIHRvXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ2VzdE1ldGhvZCBoYXNoIG1ldGhvZFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBkYXRhIGFuZCBzaWduYXR1cmUgbWF0Y2hcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0LnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiAoc3RyLCBzaWduYXR1cmUsIGRpZ2VzdE1ldGhvZCkge1xuICAgIC8vIFJldHVybiB0aGUgZGVjcnlwdGVkICdkaWdlc3QnIG9mIHRoZSBzaWduYXR1cmUuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmdldEtleSgpLnZlcmlmeShzdHIsICgwLCBfYmFzZS5iNjR0b2hleCkoc2lnbmF0dXJlKSwgZGlnZXN0TWV0aG9kKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldHRlciBmb3IgdGhlIGN1cnJlbnQgSlNFbmNyeXB0UlNBS2V5IG9iamVjdC4gSWYgaXQgZG9lc24ndCBleGlzdHMgYSBuZXcgb2JqZWN0XG4gICAqIHdpbGwgYmUgY3JlYXRlZCBhbmQgcmV0dXJuZWRcbiAgICogQHBhcmFtIHtjYWxsYmFja30gW2NiXSB0aGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGlmIHdlIHdhbnQgdGhlIGtleSB0byBiZSBnZW5lcmF0ZWRcbiAgICogaW4gYW4gYXN5bmMgZmFzaGlvblxuICAgKiBAcmV0dXJucyB7SlNFbmNyeXB0UlNBS2V5fSB0aGUgSlNFbmNyeXB0UlNBS2V5IG9iamVjdFxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHQucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uIChjYikge1xuICAgIC8vIE9ubHkgY3JlYXRlIG5ldyBpZiBpdCBkb2VzIG5vdCBleGlzdC5cbiAgICBpZiAoIXRoaXMua2V5KSB7XG4gICAgICAvLyBHZXQgYSBuZXcgcHJpdmF0ZSBrZXkuXG4gICAgICB0aGlzLmtleSA9IG5ldyBfSlNFbmNyeXB0UlNBS2V5LkpTRW5jcnlwdFJTQUtleSgpO1xuICAgICAgaWYgKGNiICYmIHt9LnRvU3RyaW5nLmNhbGwoY2IpID09PSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgdGhpcy5rZXkuZ2VuZXJhdGVBc3luYyh0aGlzLmRlZmF1bHRfa2V5X3NpemUsIHRoaXMuZGVmYXVsdF9wdWJsaWNfZXhwb25lbnQsIGNiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gR2VuZXJhdGUgdGhlIGtleS5cbiAgICAgIHRoaXMua2V5LmdlbmVyYXRlKHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSwgdGhpcy5kZWZhdWx0X3B1YmxpY19leHBvbmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmtleTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcml2YXRlIGtleVxuICAgKiBJZiB0aGUga2V5IGRvZXNuJ3QgZXhpc3RzIGEgbmV3IGtleSB3aWxsIGJlIGNyZWF0ZWRcbiAgICogQHJldHVybnMge3N0cmluZ30gcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHByaXZhdGUga2V5IFdJVEggaGVhZGVyIGFuZCBmb290ZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0LnByb3RvdHlwZS5nZXRQcml2YXRlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFJldHVybiB0aGUgcHJpdmF0ZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGtleS5cbiAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQcml2YXRlS2V5KCk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHJpdmF0ZSBrZXlcbiAgICogSWYgdGhlIGtleSBkb2Vzbid0IGV4aXN0cyBhIG5ldyBrZXkgd2lsbCBiZSBjcmVhdGVkXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcml2YXRlIGtleSBXSVRIT1VUIGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleUI2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBSZXR1cm4gdGhlIHByaXZhdGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBrZXkuXG4gICAgcmV0dXJuIHRoaXMuZ2V0S2V5KCkuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwdWJsaWMga2V5XG4gICAqIElmIHRoZSBrZXkgZG9lc24ndCBleGlzdHMgYSBuZXcga2V5IHdpbGwgYmUgY3JlYXRlZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHVibGljIGtleSBXSVRIIGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFJldHVybiB0aGUgcHJpdmF0ZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGtleS5cbiAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQdWJsaWNLZXkoKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwdWJsaWMga2V5XG4gICAqIElmIHRoZSBrZXkgZG9lc24ndCBleGlzdHMgYSBuZXcga2V5IHdpbGwgYmUgY3JlYXRlZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHVibGljIGtleSBXSVRIT1VUIGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHVibGljS2V5QjY0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFJldHVybiB0aGUgcHJpdmF0ZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGtleS5cbiAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQdWJsaWNCYXNlS2V5QjY0KCk7XG4gIH07XG4gIEpTRW5jcnlwdC52ZXJzaW9uID0gdmVyc2lvbjtcbiAgcmV0dXJuIEpTRW5jcnlwdDtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSlNFbmNyeXB0UlNBS2V5ID0gdm9pZCAwO1xudmFyIF9iYXNlID0gcmVxdWlyZShcIi4vbGliL2pzYm4vYmFzZTY0XCIpO1xudmFyIF9oZXggPSByZXF1aXJlKFwiLi9saWIvYXNuMWpzL2hleFwiKTtcbnZhciBfYmFzZTIgPSByZXF1aXJlKFwiLi9saWIvYXNuMWpzL2Jhc2U2NFwiKTtcbnZhciBfYXNuID0gcmVxdWlyZShcIi4vbGliL2FzbjFqcy9hc24xXCIpO1xudmFyIF9yc2EgPSByZXF1aXJlKFwiLi9saWIvanNibi9yc2FcIik7XG52YXIgX2pzYm4gPSByZXF1aXJlKFwiLi9saWIvanNibi9qc2JuXCIpO1xudmFyIF9hc24yID0gcmVxdWlyZShcIi4vbGliL2pzcnNhc2lnbi9hc24xLTEuMFwiKTtcbnZhciBfX2V4dGVuZHMgPSB2b2lkIDAgJiYgKHZvaWQgMCkuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgX19wcm90b19fOiBbXVxuICAgIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07XG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICB9O1xufSgpO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgSlNFbmNyeXB0UlNBS2V5IHRoYXQgZXh0ZW5kcyBUb20gV3UncyBSU0Ega2V5IG9iamVjdC5cbiAqIFRoaXMgb2JqZWN0IGlzIGp1c3QgYSBkZWNvcmF0b3IgZm9yIHBhcnNpbmcgdGhlIGtleSBwYXJhbWV0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0ga2V5IC0gVGhlIGtleSBpbiBzdHJpbmcgZm9ybWF0LCBvciBhbiBvYmplY3QgY29udGFpbmluZ1xuICogdGhlIHBhcmFtZXRlcnMgbmVlZGVkIHRvIGJ1aWxkIGEgUlNBS2V5IG9iamVjdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgSlNFbmNyeXB0UlNBS2V5ID0gZXhwb3J0cy5KU0VuY3J5cHRSU0FLZXkgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoSlNFbmNyeXB0UlNBS2V5LCBfc3VwZXIpO1xuICBmdW5jdGlvbiBKU0VuY3J5cHRSU0FLZXkoa2V5KSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAvLyBDYWxsIHRoZSBzdXBlciBjb25zdHJ1Y3Rvci5cbiAgICAvLyAgUlNBS2V5LmNhbGwodGhpcyk7XG4gICAgLy8gSWYgYSBrZXkga2V5IHdhcyBwcm92aWRlZC5cbiAgICBpZiAoa2V5KSB7XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgc3RyaW5nLi4uXG4gICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfdGhpcy5wYXJzZUtleShrZXkpO1xuICAgICAgfSBlbHNlIGlmIChKU0VuY3J5cHRSU0FLZXkuaGFzUHJpdmF0ZUtleVByb3BlcnR5KGtleSkgfHwgSlNFbmNyeXB0UlNBS2V5Lmhhc1B1YmxpY0tleVByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gU2V0IHRoZSB2YWx1ZXMgZm9yIHRoZSBrZXkuXG4gICAgICAgIF90aGlzLnBhcnNlUHJvcGVydGllc0Zyb20oa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgdG8gcGFyc2UgYSBwZW0gZW5jb2RlZCBzdHJpbmcgY29udGFpbmluZyBib3RoIGEgcHVibGljIG9yIHByaXZhdGUga2V5LlxuICAgKiBUaGUgbWV0aG9kIHdpbGwgdHJhbnNsYXRlIHRoZSBwZW0gZW5jb2RlZCBzdHJpbmcgaW4gYSBkZXIgZW5jb2RlZCBzdHJpbmcgYW5kXG4gICAqIHdpbGwgcGFyc2UgcHJpdmF0ZSBrZXkgYW5kIHB1YmxpYyBrZXkgcGFyYW1ldGVycy4gVGhpcyBtZXRob2QgYWNjZXB0cyBwdWJsaWMga2V5XG4gICAqIGluIHRoZSByc2FlbmNyeXB0aW9uIHBrY3MgIzEgZm9ybWF0IChvaWQ6IDEuMi44NDAuMTEzNTQ5LjEuMS4xKS5cbiAgICpcbiAgICogQHRvZG8gQ2hlY2sgaG93IG1hbnkgcnNhIGZvcm1hdHMgdXNlIHRoZSBzYW1lIGZvcm1hdCBvZiBwa2NzICMxLlxuICAgKlxuICAgKiBUaGUgZm9ybWF0IGlzIGRlZmluZWQgYXM6XG4gICAqIFB1YmxpY0tleUluZm8gOjo9IFNFUVVFTkNFIHtcbiAgICogICBhbGdvcml0aG0gICAgICAgQWxnb3JpdGhtSWRlbnRpZmllcixcbiAgICogICBQdWJsaWNLZXkgICAgICAgQklUIFNUUklOR1xuICAgKiB9XG4gICAqIFdoZXJlIEFsZ29yaXRobUlkZW50aWZpZXIgaXM6XG4gICAqIEFsZ29yaXRobUlkZW50aWZpZXIgOjo9IFNFUVVFTkNFIHtcbiAgICogICBhbGdvcml0aG0gICAgICAgT0JKRUNUIElERU5USUZJRVIsICAgICB0aGUgT0lEIG9mIHRoZSBlbmMgYWxnb3JpdGhtXG4gICAqICAgcGFyYW1ldGVycyAgICAgIEFOWSBERUZJTkVEIEJZIGFsZ29yaXRobSBPUFRJT05BTCAoTlVMTCBmb3IgUEtDUyAjMSlcbiAgICogfVxuICAgKiBhbmQgUHVibGljS2V5IGlzIGEgU0VRVUVOQ0UgZW5jYXBzdWxhdGVkIGluIGEgQklUIFNUUklOR1xuICAgKiBSU0FQdWJsaWNLZXkgOjo9IFNFUVVFTkNFIHtcbiAgICogICBtb2R1bHVzICAgICAgICAgICBJTlRFR0VSLCAgLS0gblxuICAgKiAgIHB1YmxpY0V4cG9uZW50ICAgIElOVEVHRVIgICAtLSBlXG4gICAqIH1cbiAgICogaXQncyBwb3NzaWJsZSB0byBleGFtaW5lIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGtleXMgb2J0YWluZWQgZnJvbSBvcGVuc3NsIHVzaW5nXG4gICAqIGFuIGFzbi4xIGR1bXBlciBhcyB0aGUgb25lIHVzZWQgaGVyZSB0byBwYXJzZSB0aGUgY29tcG9uZW50czogaHR0cDovL2xhcG8uaXQvYXNuMWpzL1xuICAgKiBAYXJndW1lbnQge3N0cmluZ30gcGVtIHRoZSBwZW0gZW5jb2RlZCBzdHJpbmcsIGNhbiBpbmNsdWRlIHRoZSBCRUdJTi9FTkQgaGVhZGVyL2Zvb3RlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5wYXJzZUtleSA9IGZ1bmN0aW9uIChwZW0pIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG1vZHVsdXMgPSAwO1xuICAgICAgdmFyIHB1YmxpY19leHBvbmVudCA9IDA7XG4gICAgICB2YXIgcmVIZXggPSAvXlxccyooPzpbMC05QS1GYS1mXVswLTlBLUZhLWZdXFxzKikrJC87XG4gICAgICB2YXIgZGVyID0gcmVIZXgudGVzdChwZW0pID8gX2hleC5IZXguZGVjb2RlKHBlbSkgOiBfYmFzZTIuQmFzZTY0LnVuYXJtb3IocGVtKTtcbiAgICAgIHZhciBhc24xID0gX2Fzbi5BU04xLmRlY29kZShkZXIpO1xuICAgICAgLy8gRml4ZXMgYSBidWcgd2l0aCBPcGVuU1NMIDEuMCsgcHJpdmF0ZSBrZXlzXG4gICAgICBpZiAoYXNuMS5zdWIubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGFzbjEgPSBhc24xLnN1YlsyXS5zdWJbMF07XG4gICAgICB9XG4gICAgICBpZiAoYXNuMS5zdWIubGVuZ3RoID09PSA5KSB7XG4gICAgICAgIC8vIFBhcnNlIHRoZSBwcml2YXRlIGtleS5cbiAgICAgICAgbW9kdWx1cyA9IGFzbjEuc3ViWzFdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLm4gPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKG1vZHVsdXMsIDE2KTtcbiAgICAgICAgcHVibGljX2V4cG9uZW50ID0gYXNuMS5zdWJbMl0uZ2V0SGV4U3RyaW5nVmFsdWUoKTsgLy8gaW50XG4gICAgICAgIHRoaXMuZSA9IHBhcnNlSW50KHB1YmxpY19leHBvbmVudCwgMTYpO1xuICAgICAgICB2YXIgcHJpdmF0ZV9leHBvbmVudCA9IGFzbjEuc3ViWzNdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLmQgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKHByaXZhdGVfZXhwb25lbnQsIDE2KTtcbiAgICAgICAgdmFyIHByaW1lMSA9IGFzbjEuc3ViWzRdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLnAgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKHByaW1lMSwgMTYpO1xuICAgICAgICB2YXIgcHJpbWUyID0gYXNuMS5zdWJbNV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTsgLy8gYmlnaW50XG4gICAgICAgIHRoaXMucSA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkocHJpbWUyLCAxNik7XG4gICAgICAgIHZhciBleHBvbmVudDEgPSBhc24xLnN1Yls2XS5nZXRIZXhTdHJpbmdWYWx1ZSgpOyAvLyBiaWdpbnRcbiAgICAgICAgdGhpcy5kbXAxID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShleHBvbmVudDEsIDE2KTtcbiAgICAgICAgdmFyIGV4cG9uZW50MiA9IGFzbjEuc3ViWzddLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLmRtcTEgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKGV4cG9uZW50MiwgMTYpO1xuICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBhc24xLnN1Yls4XS5nZXRIZXhTdHJpbmdWYWx1ZSgpOyAvLyBiaWdpbnRcbiAgICAgICAgdGhpcy5jb2VmZiA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoY29lZmZpY2llbnQsIDE2KTtcbiAgICAgIH0gZWxzZSBpZiAoYXNuMS5zdWIubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGlmIChhc24xLnN1YlswXS5zdWIpIHtcbiAgICAgICAgICAvLyBQYXJzZSBBU04uMSBTdWJqZWN0UHVibGljS2V5SW5mbyB0eXBlIGFzIGRlZmluZWQgYnkgWC41MDlcbiAgICAgICAgICB2YXIgYml0X3N0cmluZyA9IGFzbjEuc3ViWzFdO1xuICAgICAgICAgIHZhciBzZXF1ZW5jZSA9IGJpdF9zdHJpbmcuc3ViWzBdO1xuICAgICAgICAgIG1vZHVsdXMgPSBzZXF1ZW5jZS5zdWJbMF0uZ2V0SGV4U3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLm4gPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKG1vZHVsdXMsIDE2KTtcbiAgICAgICAgICBwdWJsaWNfZXhwb25lbnQgPSBzZXF1ZW5jZS5zdWJbMV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLmUgPSBwYXJzZUludChwdWJsaWNfZXhwb25lbnQsIDE2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQYXJzZSBBU04uMSBSU0FQdWJsaWNLZXkgdHlwZSBhcyBkZWZpbmVkIGJ5IFBLQ1MgIzFcbiAgICAgICAgICBtb2R1bHVzID0gYXNuMS5zdWJbMF0uZ2V0SGV4U3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLm4gPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKG1vZHVsdXMsIDE2KTtcbiAgICAgICAgICBwdWJsaWNfZXhwb25lbnQgPSBhc24xLnN1YlsxXS5nZXRIZXhTdHJpbmdWYWx1ZSgpO1xuICAgICAgICAgIHRoaXMuZSA9IHBhcnNlSW50KHB1YmxpY19leHBvbmVudCwgMTYpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFRyYW5zbGF0ZSByc2EgcGFyYW1ldGVycyBpbiBhIGhleCBlbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHJzYSBrZXkuXG4gICAqXG4gICAqIFRoZSB0cmFuc2xhdGlvbiBmb2xsb3cgdGhlIEFTTi4xIG5vdGF0aW9uIDpcbiAgICogUlNBUHJpdmF0ZUtleSA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIHZlcnNpb24gICAgICAgICAgIFZlcnNpb24sXG4gICAqICAgbW9kdWx1cyAgICAgICAgICAgSU5URUdFUiwgIC0tIG5cbiAgICogICBwdWJsaWNFeHBvbmVudCAgICBJTlRFR0VSLCAgLS0gZVxuICAgKiAgIHByaXZhdGVFeHBvbmVudCAgIElOVEVHRVIsICAtLSBkXG4gICAqICAgcHJpbWUxICAgICAgICAgICAgSU5URUdFUiwgIC0tIHBcbiAgICogICBwcmltZTIgICAgICAgICAgICBJTlRFR0VSLCAgLS0gcVxuICAgKiAgIGV4cG9uZW50MSAgICAgICAgIElOVEVHRVIsICAtLSBkIG1vZCAocDEpXG4gICAqICAgZXhwb25lbnQyICAgICAgICAgSU5URUdFUiwgIC0tIGQgbW9kIChxLTEpXG4gICAqICAgY29lZmZpY2llbnQgICAgICAgSU5URUdFUiwgIC0tIChpbnZlcnNlIG9mIHEpIG1vZCBwXG4gICAqIH1cbiAgICogQHJldHVybnMge3N0cmluZ30gIERFUiBFbmNvZGVkIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHJzYSBwcml2YXRlIGtleVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQcml2YXRlQmFzZUtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIGFycmF5OiBbbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgaW50OiAwXG4gICAgICB9KSwgbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLm5cbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBpbnQ6IHRoaXMuZVxuICAgICAgfSksIG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSSW50ZWdlcih7XG4gICAgICAgIGJpZ2ludDogdGhpcy5kXG4gICAgICB9KSwgbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLnBcbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBiaWdpbnQ6IHRoaXMucVxuICAgICAgfSksIG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSSW50ZWdlcih7XG4gICAgICAgIGJpZ2ludDogdGhpcy5kbXAxXG4gICAgICB9KSwgbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLmRtcTFcbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBiaWdpbnQ6IHRoaXMuY29lZmZcbiAgICAgIH0pXVxuICAgIH07XG4gICAgdmFyIHNlcSA9IG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSU2VxdWVuY2Uob3B0aW9ucyk7XG4gICAgcmV0dXJuIHNlcS5nZXRFbmNvZGVkSGV4KCk7XG4gIH07XG4gIC8qKlxuICAgKiBiYXNlNjQgKHBlbSkgZW5jb2RlZCB2ZXJzaW9uIG9mIHRoZSBERVIgZW5jb2RlZCByZXByZXNlbnRhdGlvblxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiB3aXRob3V0IGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdFJTQUtleS5wcm90b3R5cGUuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgwLCBfYmFzZS5oZXgyYjY0KSh0aGlzLmdldFByaXZhdGVCYXNlS2V5KCkpO1xuICB9O1xuICAvKipcbiAgICogVHJhbnNsYXRlIHJzYSBwYXJhbWV0ZXJzIGluIGEgaGV4IGVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcnNhIHB1YmxpYyBrZXkuXG4gICAqIFRoZSByZXByZXNlbnRhdGlvbiBmb2xsb3cgdGhlIEFTTi4xIG5vdGF0aW9uIDpcbiAgICogUHVibGljS2V5SW5mbyA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIGFsZ29yaXRobSAgICAgICBBbGdvcml0aG1JZGVudGlmaWVyLFxuICAgKiAgIFB1YmxpY0tleSAgICAgICBCSVQgU1RSSU5HXG4gICAqIH1cbiAgICogV2hlcmUgQWxnb3JpdGhtSWRlbnRpZmllciBpczpcbiAgICogQWxnb3JpdGhtSWRlbnRpZmllciA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIGFsZ29yaXRobSAgICAgICBPQkpFQ1QgSURFTlRJRklFUiwgICAgIHRoZSBPSUQgb2YgdGhlIGVuYyBhbGdvcml0aG1cbiAgICogICBwYXJhbWV0ZXJzICAgICAgQU5ZIERFRklORUQgQlkgYWxnb3JpdGhtIE9QVElPTkFMIChOVUxMIGZvciBQS0NTICMxKVxuICAgKiB9XG4gICAqIGFuZCBQdWJsaWNLZXkgaXMgYSBTRVFVRU5DRSBlbmNhcHN1bGF0ZWQgaW4gYSBCSVQgU1RSSU5HXG4gICAqIFJTQVB1YmxpY0tleSA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIG1vZHVsdXMgICAgICAgICAgIElOVEVHRVIsICAtLSBuXG4gICAqICAgcHVibGljRXhwb25lbnQgICAgSU5URUdFUiAgIC0tIGVcbiAgICogfVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBERVIgRW5jb2RlZCBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByc2EgcHVibGljIGtleVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQdWJsaWNCYXNlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmaXJzdF9zZXF1ZW5jZSA9IG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSU2VxdWVuY2Uoe1xuICAgICAgYXJyYXk6IFtuZXcgX2FzbjIuS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoe1xuICAgICAgICBvaWQ6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjFcIlxuICAgICAgfSksIG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSTnVsbCgpXVxuICAgIH0pO1xuICAgIHZhciBzZWNvbmRfc2VxdWVuY2UgPSBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUlNlcXVlbmNlKHtcbiAgICAgIGFycmF5OiBbbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLm5cbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBpbnQ6IHRoaXMuZVxuICAgICAgfSldXG4gICAgfSk7XG4gICAgdmFyIGJpdF9zdHJpbmcgPSBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7XG4gICAgICBoZXg6IFwiMDBcIiArIHNlY29uZF9zZXF1ZW5jZS5nZXRFbmNvZGVkSGV4KClcbiAgICB9KTtcbiAgICB2YXIgc2VxID0gbmV3IF9hc24yLktKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7XG4gICAgICBhcnJheTogW2ZpcnN0X3NlcXVlbmNlLCBiaXRfc3RyaW5nXVxuICAgIH0pO1xuICAgIHJldHVybiBzZXEuZ2V0RW5jb2RlZEhleCgpO1xuICB9O1xuICAvKipcbiAgICogYmFzZTY0IChwZW0pIGVuY29kZWQgdmVyc2lvbiBvZiB0aGUgREVSIGVuY29kZWQgcmVwcmVzZW50YXRpb25cbiAgICogQHJldHVybnMge3N0cmluZ30gcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gd2l0aG91dCBoZWFkZXIgYW5kIGZvb3RlclxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHRSU0FLZXkucHJvdG90eXBlLmdldFB1YmxpY0Jhc2VLZXlCNjQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgwLCBfYmFzZS5oZXgyYjY0KSh0aGlzLmdldFB1YmxpY0Jhc2VLZXkoKSk7XG4gIH07XG4gIC8qKlxuICAgKiB3cmFwIHRoZSBzdHJpbmcgaW4gYmxvY2sgb2Ygd2lkdGggY2hhcnMuIFRoZSBkZWZhdWx0IHZhbHVlIGZvciByc2Ega2V5cyBpcyA2NFxuICAgKiBjaGFyYWN0ZXJzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBwZW0gZW5jb2RlZCBzdHJpbmcgd2l0aG91dCBoZWFkZXIgYW5kIGZvb3RlclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3dpZHRoPTY0XSAtIHRoZSBsZW5ndGggdGhlIHN0cmluZyBoYXMgdG8gYmUgd3JhcHBlZCBhdFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LndvcmR3cmFwID0gZnVuY3Rpb24gKHN0ciwgd2lkdGgpIHtcbiAgICB3aWR0aCA9IHdpZHRoIHx8IDY0O1xuICAgIGlmICghc3RyKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICB2YXIgcmVnZXggPSBcIiguezEsXCIgKyB3aWR0aCArIFwifSkoICt8JFxcbj8pfCguezEsXCIgKyB3aWR0aCArIFwifSlcIjtcbiAgICByZXR1cm4gc3RyLm1hdGNoKFJlZ0V4cChyZWdleCwgXCJnXCIpKS5qb2luKFwiXFxuXCIpO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHBlbSBlbmNvZGVkIHByaXZhdGUga2V5XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBwZW0gZW5jb2RlZCBwcml2YXRlIGtleSB3aXRoIGhlYWRlci9mb290ZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQcml2YXRlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBrZXkgPSBcIi0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS1cXG5cIjtcbiAgICBrZXkgKz0gSlNFbmNyeXB0UlNBS2V5LndvcmR3cmFwKHRoaXMuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQoKSkgKyBcIlxcblwiO1xuICAgIGtleSArPSBcIi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tXCI7XG4gICAgcmV0dXJuIGtleTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBwZW0gZW5jb2RlZCBwdWJsaWMga2V5XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBwZW0gZW5jb2RlZCBwdWJsaWMga2V5IHdpdGggaGVhZGVyL2Zvb3RlclxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHRSU0FLZXkucHJvdG90eXBlLmdldFB1YmxpY0tleSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIga2V5ID0gXCItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxcblwiO1xuICAgIGtleSArPSBKU0VuY3J5cHRSU0FLZXkud29yZHdyYXAodGhpcy5nZXRQdWJsaWNCYXNlS2V5QjY0KCkpICsgXCJcXG5cIjtcbiAgICBrZXkgKz0gXCItLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cIjtcbiAgICByZXR1cm4ga2V5O1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIG9iamVjdCBjb250YWlucyB0aGUgbmVjZXNzYXJ5IHBhcmFtZXRlcnMgdG8gcG9wdWxhdGUgdGhlIHJzYSBtb2R1bHVzXG4gICAqIGFuZCBwdWJsaWMgZXhwb25lbnQgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmo9e31dIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gdGhlIHR3byBwdWJsaWMga2V5XG4gICAqIHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBtb2R1bHVzIGFuZCB0aGUgcHVibGljIGV4cG9uZW50XG4gICAqIHByb3BlcnRpZXMgKG4gYW5kIGUpXG4gICAqIEB0b2RvIGNoZWNrIGZvciB0eXBlcyBvZiBuIGFuZCBlLiBOIHNob3VsZCBiZSBhIHBhcnNlYWJsZSBiaWdJbnQgb2JqZWN0LCBFIHNob3VsZFxuICAgKiBiZSBhIHBhcnNlYWJsZSBpbnRlZ2VyIG51bWJlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5Lmhhc1B1YmxpY0tleVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIG9iaiA9IG9iaiB8fCB7fTtcbiAgICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KFwiblwiKSAmJiBvYmouaGFzT3duUHJvcGVydHkoXCJlXCIpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIG9iamVjdCBjb250YWlucyBBTEwgdGhlIHBhcmFtZXRlcnMgb2YgYW4gUlNBIGtleS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmo9e31dIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gbmluZSByc2Ega2V5XG4gICAqIHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBjb250YWlucyBhbGwgdGhlIHBhcmFtZXRlcnMgbmVlZGVkXG4gICAqIEB0b2RvIGNoZWNrIGZvciB0eXBlcyBvZiB0aGUgcGFyYW1ldGVycyBhbGwgdGhlIHBhcmFtZXRlcnMgYnV0IHRoZSBwdWJsaWMgZXhwb25lbnRcbiAgICogc2hvdWxkIGJlIHBhcnNlYWJsZSBiaWdpbnQgb2JqZWN0cywgdGhlIHB1YmxpYyBleHBvbmVudCBzaG91bGQgYmUgYSBwYXJzZWFibGUgaW50ZWdlciBudW1iZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEpTRW5jcnlwdFJTQUtleS5oYXNQcml2YXRlS2V5UHJvcGVydHkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgb2JqID0gb2JqIHx8IHt9O1xuICAgIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkoXCJuXCIpICYmIG9iai5oYXNPd25Qcm9wZXJ0eShcImVcIikgJiYgb2JqLmhhc093blByb3BlcnR5KFwiZFwiKSAmJiBvYmouaGFzT3duUHJvcGVydHkoXCJwXCIpICYmIG9iai5oYXNPd25Qcm9wZXJ0eShcInFcIikgJiYgb2JqLmhhc093blByb3BlcnR5KFwiZG1wMVwiKSAmJiBvYmouaGFzT3duUHJvcGVydHkoXCJkbXExXCIpICYmIG9iai5oYXNPd25Qcm9wZXJ0eShcImNvZWZmXCIpO1xuICB9O1xuICAvKipcbiAgICogUGFyc2UgdGhlIHByb3BlcnRpZXMgb2Ygb2JqIGluIHRoZSBjdXJyZW50IHJzYSBvYmplY3QuIE9iaiBzaG91bGQgQVQgTEVBU1RcbiAgICogaW5jbHVkZSB0aGUgbW9kdWx1cyBhbmQgcHVibGljIGV4cG9uZW50IChuLCBlKSBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gdGhlIG9iamVjdCBjb250YWluaW5nIHJzYSBwYXJhbWV0ZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBKU0VuY3J5cHRSU0FLZXkucHJvdG90eXBlLnBhcnNlUHJvcGVydGllc0Zyb20gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdGhpcy5uID0gb2JqLm47XG4gICAgdGhpcy5lID0gb2JqLmU7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShcImRcIikpIHtcbiAgICAgIHRoaXMuZCA9IG9iai5kO1xuICAgICAgdGhpcy5wID0gb2JqLnA7XG4gICAgICB0aGlzLnEgPSBvYmoucTtcbiAgICAgIHRoaXMuZG1wMSA9IG9iai5kbXAxO1xuICAgICAgdGhpcy5kbXExID0gb2JqLmRtcTE7XG4gICAgICB0aGlzLmNvZWZmID0gb2JqLmNvZWZmO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIEpTRW5jcnlwdFJTQUtleTtcbn0oX3JzYS5SU0FLZXkpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSlNFbmNyeXB0XCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9KU0VuY3J5cHQuSlNFbmNyeXB0O1xuICB9XG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBfSlNFbmNyeXB0ID0gcmVxdWlyZShcIi4vSlNFbmNyeXB0XCIpO1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gX0pTRW5jcnlwdC5KU0VuY3J5cHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlN0cmVhbSA9IGV4cG9ydHMuQVNOMVRhZyA9IGV4cG9ydHMuQVNOMSA9IHZvaWQgMDtcbnZhciBfaW50ID0gcmVxdWlyZShcIi4vaW50MTBcIik7XG4vLyBBU04uMSBKYXZhU2NyaXB0IGRlY29kZXJcbi8vIENvcHlyaWdodCAoYykgMjAwOC0yMDE0IExhcG8gTHVjaGluaSA8bGFwb0BsYXBvLml0PlxuLy8gUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4vLyBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIGFwcGVhciBpbiBhbGwgY29waWVzLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTXG4vLyBXSVRIIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUlxuLy8gQU5ZIFNQRUNJQUwsIERJUkVDVCwgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFU1xuLy8gV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOXG4vLyBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1IgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRlxuLy8gT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1IgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgaW1tZWQ6IHRydWUsIGxhdGVkZWY6IHRydWUsIHVuZGVmOiB0cnVlLCByZWdleGRhc2g6IGZhbHNlICovXG4vKmdsb2JhbCBvaWRzICovXG5cbnZhciBlbGxpcHNpcyA9IFwiXFx1MjAyNlwiO1xudmFyIHJlVGltZVMgPSAvXihcXGRcXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXFxkfDNbMDFdKShbMDFdXFxkfDJbMC0zXSkoPzooWzAtNV1cXGQpKD86KFswLTVdXFxkKSg/OlsuLF0oXFxkezEsM30pKT8pPyk/KFp8Wy0rXSg/OlswXVxcZHwxWzAtMl0pKFswLTVdXFxkKT8pPyQvO1xudmFyIHJlVGltZUwgPSAvXihcXGRcXGRcXGRcXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXFxkfDNbMDFdKShbMDFdXFxkfDJbMC0zXSkoPzooWzAtNV1cXGQpKD86KFswLTVdXFxkKSg/OlsuLF0oXFxkezEsM30pKT8pPyk/KFp8Wy0rXSg/OlswXVxcZHwxWzAtMl0pKFswLTVdXFxkKT8pPyQvO1xuZnVuY3Rpb24gc3RyaW5nQ3V0KHN0ciwgbGVuKSB7XG4gIGlmIChzdHIubGVuZ3RoID4gbGVuKSB7XG4gICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBsZW4pICsgZWxsaXBzaXM7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbnZhciBTdHJlYW0gPSBleHBvcnRzLlN0cmVhbSA9IC8qKiBAY2xhc3MgKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0cmVhbShlbmMsIHBvcykge1xuICAgIHRoaXMuaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5QUJDREVGXCI7XG4gICAgaWYgKGVuYyBpbnN0YW5jZW9mIFN0cmVhbSkge1xuICAgICAgdGhpcy5lbmMgPSBlbmMuZW5jO1xuICAgICAgdGhpcy5wb3MgPSBlbmMucG9zO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbmMgc2hvdWxkIGJlIGFuIGFycmF5IG9yIGEgYmluYXJ5IHN0cmluZ1xuICAgICAgdGhpcy5lbmMgPSBlbmM7XG4gICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICB9XG4gIH1cbiAgU3RyZWFtLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwb3MgPSB0aGlzLnBvcysrO1xuICAgIH1cbiAgICBpZiAocG9zID49IHRoaXMuZW5jLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdGluZyBieXRlIG9mZnNldCBcIi5jb25jYXQocG9zLCBcIiBvbiBhIHN0cmVhbSBvZiBsZW5ndGggXCIpLmNvbmNhdCh0aGlzLmVuYy5sZW5ndGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLmVuYyA/IHRoaXMuZW5jLmNoYXJDb2RlQXQocG9zKSA6IHRoaXMuZW5jW3Bvc107XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUuaGV4Qnl0ZSA9IGZ1bmN0aW9uIChiKSB7XG4gICAgcmV0dXJuIHRoaXMuaGV4RGlnaXRzLmNoYXJBdChiID4+IDQgJiAweEYpICsgdGhpcy5oZXhEaWdpdHMuY2hhckF0KGIgJiAweEYpO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLmhleER1bXAgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgcmF3KSB7XG4gICAgdmFyIHMgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICBzICs9IHRoaXMuaGV4Qnl0ZSh0aGlzLmdldChpKSk7XG4gICAgICBpZiAocmF3ICE9PSB0cnVlKSB7XG4gICAgICAgIHN3aXRjaCAoaSAmIDB4Rikge1xuICAgICAgICAgIGNhc2UgMHg3OlxuICAgICAgICAgICAgcyArPSBcIiAgXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDB4RjpcbiAgICAgICAgICAgIHMgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzICs9IFwiIFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLmlzQVNDSUkgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuZ2V0KGkpO1xuICAgICAgaWYgKGMgPCAzMiB8fCBjID4gMTc2KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUucGFyc2VTdHJpbmdJU08gPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZ2V0KGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUucGFyc2VTdHJpbmdVVEYgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7KSB7XG4gICAgICB2YXIgYyA9IHRoaXMuZ2V0KGkrKyk7XG4gICAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICB9IGVsc2UgaWYgKGMgPiAxOTEgJiYgYyA8IDIyNCkge1xuICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiAweDFGKSA8PCA2IHwgdGhpcy5nZXQoaSsrKSAmIDB4M0YpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMHgwRikgPDwgMTIgfCAodGhpcy5nZXQoaSsrKSAmIDB4M0YpIDw8IDYgfCB0aGlzLmdldChpKyspICYgMHgzRik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLnBhcnNlU3RyaW5nQk1QID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgc3RyID0gXCJcIjtcbiAgICB2YXIgaGk7XG4gICAgdmFyIGxvO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDspIHtcbiAgICAgIGhpID0gdGhpcy5nZXQoaSsrKTtcbiAgICAgIGxvID0gdGhpcy5nZXQoaSsrKTtcbiAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGhpIDw8IDggfCBsbyk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUucGFyc2VUaW1lID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHNob3J0WWVhcikge1xuICAgIHZhciBzID0gdGhpcy5wYXJzZVN0cmluZ0lTTyhzdGFydCwgZW5kKTtcbiAgICB2YXIgbSA9IChzaG9ydFllYXIgPyByZVRpbWVTIDogcmVUaW1lTCkuZXhlYyhzKTtcbiAgICBpZiAoIW0pIHtcbiAgICAgIHJldHVybiBcIlVucmVjb2duaXplZCB0aW1lOiBcIiArIHM7XG4gICAgfVxuICAgIGlmIChzaG9ydFllYXIpIHtcbiAgICAgIC8vIHRvIGF2b2lkIHF1ZXJ5aW5nIHRoZSB0aW1lciwgdXNlIHRoZSBmaXhlZCByYW5nZSBbMTk3MCwgMjA2OV1cbiAgICAgIC8vIGl0IHdpbGwgY29uZm9ybSB3aXRoIElUVSBYLjQwMCBbLTEwLCArNDBdIHNsaWRpbmcgd2luZG93IHVudGlsIDIwMzBcbiAgICAgIG1bMV0gPSArbVsxXTtcbiAgICAgIG1bMV0gKz0gK21bMV0gPCA3MCA/IDIwMDAgOiAxOTAwO1xuICAgIH1cbiAgICBzID0gbVsxXSArIFwiLVwiICsgbVsyXSArIFwiLVwiICsgbVszXSArIFwiIFwiICsgbVs0XTtcbiAgICBpZiAobVs1XSkge1xuICAgICAgcyArPSBcIjpcIiArIG1bNV07XG4gICAgICBpZiAobVs2XSkge1xuICAgICAgICBzICs9IFwiOlwiICsgbVs2XTtcbiAgICAgICAgaWYgKG1bN10pIHtcbiAgICAgICAgICBzICs9IFwiLlwiICsgbVs3XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobVs4XSkge1xuICAgICAgcyArPSBcIiBVVENcIjtcbiAgICAgIGlmIChtWzhdICE9IFwiWlwiKSB7XG4gICAgICAgIHMgKz0gbVs4XTtcbiAgICAgICAgaWYgKG1bOV0pIHtcbiAgICAgICAgICBzICs9IFwiOlwiICsgbVs5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcztcbiAgfTtcbiAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZUludGVnZXIgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHZhciB2ID0gdGhpcy5nZXQoc3RhcnQpO1xuICAgIHZhciBuZWcgPSB2ID4gMTI3O1xuICAgIHZhciBwYWQgPSBuZWcgPyAyNTUgOiAwO1xuICAgIHZhciBsZW47XG4gICAgdmFyIHMgPSBcIlwiO1xuICAgIC8vIHNraXAgdW51c2VmdWwgYml0cyAobm90IGFsbG93ZWQgaW4gREVSKVxuICAgIHdoaWxlICh2ID09IHBhZCAmJiArK3N0YXJ0IDwgZW5kKSB7XG4gICAgICB2ID0gdGhpcy5nZXQoc3RhcnQpO1xuICAgIH1cbiAgICBsZW4gPSBlbmQgLSBzdGFydDtcbiAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICByZXR1cm4gbmVnID8gLTEgOiAwO1xuICAgIH1cbiAgICAvLyBzaG93IGJpdCBsZW5ndGggb2YgaHVnZSBpbnRlZ2Vyc1xuICAgIGlmIChsZW4gPiA0KSB7XG4gICAgICBzID0gdjtcbiAgICAgIGxlbiA8PD0gMztcbiAgICAgIHdoaWxlICgoKCtzIF4gcGFkKSAmIDB4ODApID09IDApIHtcbiAgICAgICAgcyA9ICtzIDw8IDE7XG4gICAgICAgIC0tbGVuO1xuICAgICAgfVxuICAgICAgcyA9IFwiKFwiICsgbGVuICsgXCIgYml0KVxcblwiO1xuICAgIH1cbiAgICAvLyBkZWNvZGUgdGhlIGludGVnZXJcbiAgICBpZiAobmVnKSB7XG4gICAgICB2ID0gdiAtIDI1NjtcbiAgICB9XG4gICAgdmFyIG4gPSBuZXcgX2ludC5JbnQxMCh2KTtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAxOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIG4ubXVsQWRkKDI1NiwgdGhpcy5nZXQoaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcyArIG4udG9TdHJpbmcoKTtcbiAgfTtcbiAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZUJpdFN0cmluZyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBtYXhMZW5ndGgpIHtcbiAgICB2YXIgdW51c2VkQml0ID0gdGhpcy5nZXQoc3RhcnQpO1xuICAgIHZhciBsZW5CaXQgPSAoZW5kIC0gc3RhcnQgLSAxIDw8IDMpIC0gdW51c2VkQml0O1xuICAgIHZhciBpbnRybyA9IFwiKFwiICsgbGVuQml0ICsgXCIgYml0KVxcblwiO1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAxOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHZhciBiID0gdGhpcy5nZXQoaSk7XG4gICAgICB2YXIgc2tpcCA9IGkgPT0gZW5kIC0gMSA/IHVudXNlZEJpdCA6IDA7XG4gICAgICBmb3IgKHZhciBqID0gNzsgaiA+PSBza2lwOyAtLWopIHtcbiAgICAgICAgcyArPSBiID4+IGogJiAxID8gXCIxXCIgOiBcIjBcIjtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICByZXR1cm4gaW50cm8gKyBzdHJpbmdDdXQocywgbWF4TGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGludHJvICsgcztcbiAgfTtcbiAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZU9jdGV0U3RyaW5nID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIG1heExlbmd0aCkge1xuICAgIGlmICh0aGlzLmlzQVNDSUkoc3RhcnQsIGVuZCkpIHtcbiAgICAgIHJldHVybiBzdHJpbmdDdXQodGhpcy5wYXJzZVN0cmluZ0lTTyhzdGFydCwgZW5kKSwgbWF4TGVuZ3RoKTtcbiAgICB9XG4gICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xuICAgIHZhciBzID0gXCIoXCIgKyBsZW4gKyBcIiBieXRlKVxcblwiO1xuICAgIG1heExlbmd0aCAvPSAyOyAvLyB3ZSB3b3JrIGluIGJ5dGVzXG4gICAgaWYgKGxlbiA+IG1heExlbmd0aCkge1xuICAgICAgZW5kID0gc3RhcnQgKyBtYXhMZW5ndGg7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICBzICs9IHRoaXMuaGV4Qnl0ZSh0aGlzLmdldChpKSk7XG4gICAgfVxuICAgIGlmIChsZW4gPiBtYXhMZW5ndGgpIHtcbiAgICAgIHMgKz0gZWxsaXBzaXM7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLnBhcnNlT0lEID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIG1heExlbmd0aCkge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICB2YXIgbiA9IG5ldyBfaW50LkludDEwKCk7XG4gICAgdmFyIGJpdHMgPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB2YXIgdiA9IHRoaXMuZ2V0KGkpO1xuICAgICAgbi5tdWxBZGQoMTI4LCB2ICYgMHg3Rik7XG4gICAgICBiaXRzICs9IDc7XG4gICAgICBpZiAoISh2ICYgMHg4MCkpIHtcbiAgICAgICAgLy8gZmluaXNoZWRcbiAgICAgICAgaWYgKHMgPT09IFwiXCIpIHtcbiAgICAgICAgICBuID0gbi5zaW1wbGlmeSgpO1xuICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgX2ludC5JbnQxMCkge1xuICAgICAgICAgICAgbi5zdWIoODApO1xuICAgICAgICAgICAgcyA9IFwiMi5cIiArIG4udG9TdHJpbmcoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG0gPSBuIDwgODAgPyBuIDwgNDAgPyAwIDogMSA6IDI7XG4gICAgICAgICAgICBzID0gbSArIFwiLlwiICsgKG4gLSBtICogNDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzICs9IFwiLlwiICsgbi50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBzdHJpbmdDdXQocywgbWF4TGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBuID0gbmV3IF9pbnQuSW50MTAoKTtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChiaXRzID4gMCkge1xuICAgICAgcyArPSBcIi5pbmNvbXBsZXRlXCI7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICByZXR1cm4gU3RyZWFtO1xufSgpO1xudmFyIEFTTjEgPSBleHBvcnRzLkFTTjEgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBU04xKHN0cmVhbSwgaGVhZGVyLCBsZW5ndGgsIHRhZywgc3ViKSB7XG4gICAgaWYgKCEodGFnIGluc3RhbmNlb2YgQVNOMVRhZykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGFnIHZhbHVlLlwiKTtcbiAgICB9XG4gICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgdGhpcy5oZWFkZXIgPSBoZWFkZXI7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy50YWcgPSB0YWc7XG4gICAgdGhpcy5zdWIgPSBzdWI7XG4gIH1cbiAgQVNOMS5wcm90b3R5cGUudHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgc3dpdGNoICh0aGlzLnRhZy50YWdDbGFzcykge1xuICAgICAgY2FzZSAwOlxuICAgICAgICAvLyB1bml2ZXJzYWxcbiAgICAgICAgc3dpdGNoICh0aGlzLnRhZy50YWdOdW1iZXIpIHtcbiAgICAgICAgICBjYXNlIDB4MDA6XG4gICAgICAgICAgICByZXR1cm4gXCJFT0NcIjtcbiAgICAgICAgICBjYXNlIDB4MDE6XG4gICAgICAgICAgICByZXR1cm4gXCJCT09MRUFOXCI7XG4gICAgICAgICAgY2FzZSAweDAyOlxuICAgICAgICAgICAgcmV0dXJuIFwiSU5URUdFUlwiO1xuICAgICAgICAgIGNhc2UgMHgwMzpcbiAgICAgICAgICAgIHJldHVybiBcIkJJVF9TVFJJTkdcIjtcbiAgICAgICAgICBjYXNlIDB4MDQ6XG4gICAgICAgICAgICByZXR1cm4gXCJPQ1RFVF9TVFJJTkdcIjtcbiAgICAgICAgICBjYXNlIDB4MDU6XG4gICAgICAgICAgICByZXR1cm4gXCJOVUxMXCI7XG4gICAgICAgICAgY2FzZSAweDA2OlxuICAgICAgICAgICAgcmV0dXJuIFwiT0JKRUNUX0lERU5USUZJRVJcIjtcbiAgICAgICAgICBjYXNlIDB4MDc6XG4gICAgICAgICAgICByZXR1cm4gXCJPYmplY3REZXNjcmlwdG9yXCI7XG4gICAgICAgICAgY2FzZSAweDA4OlxuICAgICAgICAgICAgcmV0dXJuIFwiRVhURVJOQUxcIjtcbiAgICAgICAgICBjYXNlIDB4MDk6XG4gICAgICAgICAgICByZXR1cm4gXCJSRUFMXCI7XG4gICAgICAgICAgY2FzZSAweDBBOlxuICAgICAgICAgICAgcmV0dXJuIFwiRU5VTUVSQVRFRFwiO1xuICAgICAgICAgIGNhc2UgMHgwQjpcbiAgICAgICAgICAgIHJldHVybiBcIkVNQkVEREVEX1BEVlwiO1xuICAgICAgICAgIGNhc2UgMHgwQzpcbiAgICAgICAgICAgIHJldHVybiBcIlVURjhTdHJpbmdcIjtcbiAgICAgICAgICBjYXNlIDB4MTA6XG4gICAgICAgICAgICByZXR1cm4gXCJTRVFVRU5DRVwiO1xuICAgICAgICAgIGNhc2UgMHgxMTpcbiAgICAgICAgICAgIHJldHVybiBcIlNFVFwiO1xuICAgICAgICAgIGNhc2UgMHgxMjpcbiAgICAgICAgICAgIHJldHVybiBcIk51bWVyaWNTdHJpbmdcIjtcbiAgICAgICAgICBjYXNlIDB4MTM6XG4gICAgICAgICAgICByZXR1cm4gXCJQcmludGFibGVTdHJpbmdcIjtcbiAgICAgICAgICAvLyBBU0NJSSBzdWJzZXRcbiAgICAgICAgICBjYXNlIDB4MTQ6XG4gICAgICAgICAgICByZXR1cm4gXCJUZWxldGV4U3RyaW5nXCI7XG4gICAgICAgICAgLy8gYWthIFQ2MVN0cmluZ1xuICAgICAgICAgIGNhc2UgMHgxNTpcbiAgICAgICAgICAgIHJldHVybiBcIlZpZGVvdGV4U3RyaW5nXCI7XG4gICAgICAgICAgY2FzZSAweDE2OlxuICAgICAgICAgICAgcmV0dXJuIFwiSUE1U3RyaW5nXCI7XG4gICAgICAgICAgLy8gQVNDSUlcbiAgICAgICAgICBjYXNlIDB4MTc6XG4gICAgICAgICAgICByZXR1cm4gXCJVVENUaW1lXCI7XG4gICAgICAgICAgY2FzZSAweDE4OlxuICAgICAgICAgICAgcmV0dXJuIFwiR2VuZXJhbGl6ZWRUaW1lXCI7XG4gICAgICAgICAgY2FzZSAweDE5OlxuICAgICAgICAgICAgcmV0dXJuIFwiR3JhcGhpY1N0cmluZ1wiO1xuICAgICAgICAgIGNhc2UgMHgxQTpcbiAgICAgICAgICAgIHJldHVybiBcIlZpc2libGVTdHJpbmdcIjtcbiAgICAgICAgICAvLyBBU0NJSSBzdWJzZXRcbiAgICAgICAgICBjYXNlIDB4MUI6XG4gICAgICAgICAgICByZXR1cm4gXCJHZW5lcmFsU3RyaW5nXCI7XG4gICAgICAgICAgY2FzZSAweDFDOlxuICAgICAgICAgICAgcmV0dXJuIFwiVW5pdmVyc2FsU3RyaW5nXCI7XG4gICAgICAgICAgY2FzZSAweDFFOlxuICAgICAgICAgICAgcmV0dXJuIFwiQk1QU3RyaW5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiVW5pdmVyc2FsX1wiICsgdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBcIkFwcGxpY2F0aW9uX1wiICsgdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBcIltcIiArIHRoaXMudGFnLnRhZ051bWJlci50b1N0cmluZygpICsgXCJdXCI7XG4gICAgICAvLyBDb250ZXh0XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBcIlByaXZhdGVfXCIgKyB0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKTtcbiAgICB9XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLmNvbnRlbnQgPSBmdW5jdGlvbiAobWF4TGVuZ3RoKSB7XG4gICAgaWYgKHRoaXMudGFnID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobWF4TGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heExlbmd0aCA9IEluZmluaXR5O1xuICAgIH1cbiAgICB2YXIgY29udGVudCA9IHRoaXMucG9zQ29udGVudCgpO1xuICAgIHZhciBsZW4gPSBNYXRoLmFicyh0aGlzLmxlbmd0aCk7XG4gICAgaWYgKCF0aGlzLnRhZy5pc1VuaXZlcnNhbCgpKSB7XG4gICAgICBpZiAodGhpcy5zdWIgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwiKFwiICsgdGhpcy5zdWIubGVuZ3RoICsgXCIgZWxlbSlcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS5wYXJzZU9jdGV0U3RyaW5nKGNvbnRlbnQsIGNvbnRlbnQgKyBsZW4sIG1heExlbmd0aCk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy50YWcudGFnTnVtYmVyKSB7XG4gICAgICBjYXNlIDB4MDE6XG4gICAgICAgIC8vIEJPT0xFQU5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLmdldChjb250ZW50KSA9PT0gMCA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiO1xuICAgICAgY2FzZSAweDAyOlxuICAgICAgICAvLyBJTlRFR0VSXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVhbS5wYXJzZUludGVnZXIoY29udGVudCwgY29udGVudCArIGxlbik7XG4gICAgICBjYXNlIDB4MDM6XG4gICAgICAgIC8vIEJJVF9TVFJJTkdcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViID8gXCIoXCIgKyB0aGlzLnN1Yi5sZW5ndGggKyBcIiBlbGVtKVwiIDogdGhpcy5zdHJlYW0ucGFyc2VCaXRTdHJpbmcoY29udGVudCwgY29udGVudCArIGxlbiwgbWF4TGVuZ3RoKTtcbiAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgLy8gT0NURVRfU1RSSU5HXG4gICAgICAgIHJldHVybiB0aGlzLnN1YiA/IFwiKFwiICsgdGhpcy5zdWIubGVuZ3RoICsgXCIgZWxlbSlcIiA6IHRoaXMuc3RyZWFtLnBhcnNlT2N0ZXRTdHJpbmcoY29udGVudCwgY29udGVudCArIGxlbiwgbWF4TGVuZ3RoKTtcbiAgICAgIC8vIGNhc2UgMHgwNTogLy8gTlVMTFxuICAgICAgY2FzZSAweDA2OlxuICAgICAgICAvLyBPQkpFQ1RfSURFTlRJRklFUlxuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW0ucGFyc2VPSUQoY29udGVudCwgY29udGVudCArIGxlbiwgbWF4TGVuZ3RoKTtcbiAgICAgIC8vIGNhc2UgMHgwNzogLy8gT2JqZWN0RGVzY3JpcHRvclxuICAgICAgLy8gY2FzZSAweDA4OiAvLyBFWFRFUk5BTFxuICAgICAgLy8gY2FzZSAweDA5OiAvLyBSRUFMXG4gICAgICAvLyBjYXNlIDB4MEE6IC8vIEVOVU1FUkFURURcbiAgICAgIC8vIGNhc2UgMHgwQjogLy8gRU1CRURERURfUERWXG4gICAgICBjYXNlIDB4MTA6IC8vIFNFUVVFTkNFXG4gICAgICBjYXNlIDB4MTE6XG4gICAgICAgIC8vIFNFVFxuICAgICAgICBpZiAodGhpcy5zdWIgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gXCIoXCIgKyB0aGlzLnN1Yi5sZW5ndGggKyBcIiBlbGVtKVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcIihubyBlbGVtKVwiO1xuICAgICAgICB9XG4gICAgICBjYXNlIDB4MEM6XG4gICAgICAgIC8vIFVURjhTdHJpbmdcbiAgICAgICAgcmV0dXJuIHN0cmluZ0N1dCh0aGlzLnN0cmVhbS5wYXJzZVN0cmluZ1VURihjb250ZW50LCBjb250ZW50ICsgbGVuKSwgbWF4TGVuZ3RoKTtcbiAgICAgIGNhc2UgMHgxMjogLy8gTnVtZXJpY1N0cmluZ1xuICAgICAgY2FzZSAweDEzOiAvLyBQcmludGFibGVTdHJpbmdcbiAgICAgIGNhc2UgMHgxNDogLy8gVGVsZXRleFN0cmluZ1xuICAgICAgY2FzZSAweDE1OiAvLyBWaWRlb3RleFN0cmluZ1xuICAgICAgY2FzZSAweDE2OiAvLyBJQTVTdHJpbmdcbiAgICAgIC8vIGNhc2UgMHgxOTogLy8gR3JhcGhpY1N0cmluZ1xuICAgICAgY2FzZSAweDFBOlxuICAgICAgICAvLyBWaXNpYmxlU3RyaW5nXG4gICAgICAgIC8vIGNhc2UgMHgxQjogLy8gR2VuZXJhbFN0cmluZ1xuICAgICAgICAvLyBjYXNlIDB4MUM6IC8vIFVuaXZlcnNhbFN0cmluZ1xuICAgICAgICByZXR1cm4gc3RyaW5nQ3V0KHRoaXMuc3RyZWFtLnBhcnNlU3RyaW5nSVNPKGNvbnRlbnQsIGNvbnRlbnQgKyBsZW4pLCBtYXhMZW5ndGgpO1xuICAgICAgY2FzZSAweDFFOlxuICAgICAgICAvLyBCTVBTdHJpbmdcbiAgICAgICAgcmV0dXJuIHN0cmluZ0N1dCh0aGlzLnN0cmVhbS5wYXJzZVN0cmluZ0JNUChjb250ZW50LCBjb250ZW50ICsgbGVuKSwgbWF4TGVuZ3RoKTtcbiAgICAgIGNhc2UgMHgxNzogLy8gVVRDVGltZVxuICAgICAgY2FzZSAweDE4OlxuICAgICAgICAvLyBHZW5lcmFsaXplZFRpbWVcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBhcnNlVGltZShjb250ZW50LCBjb250ZW50ICsgbGVuLCB0aGlzLnRhZy50YWdOdW1iZXIgPT0gMHgxNyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBBU04xLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlTmFtZSgpICsgXCJAXCIgKyB0aGlzLnN0cmVhbS5wb3MgKyBcIltoZWFkZXI6XCIgKyB0aGlzLmhlYWRlciArIFwiLGxlbmd0aDpcIiArIHRoaXMubGVuZ3RoICsgXCIsc3ViOlwiICsgKHRoaXMuc3ViID09PSBudWxsID8gXCJudWxsXCIgOiB0aGlzLnN1Yi5sZW5ndGgpICsgXCJdXCI7XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLnRvUHJldHR5U3RyaW5nID0gZnVuY3Rpb24gKGluZGVudCkge1xuICAgIGlmIChpbmRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaW5kZW50ID0gXCJcIjtcbiAgICB9XG4gICAgdmFyIHMgPSBpbmRlbnQgKyB0aGlzLnR5cGVOYW1lKCkgKyBcIiBAXCIgKyB0aGlzLnN0cmVhbS5wb3M7XG4gICAgaWYgKHRoaXMubGVuZ3RoID49IDApIHtcbiAgICAgIHMgKz0gXCIrXCI7XG4gICAgfVxuICAgIHMgKz0gdGhpcy5sZW5ndGg7XG4gICAgaWYgKHRoaXMudGFnLnRhZ0NvbnN0cnVjdGVkKSB7XG4gICAgICBzICs9IFwiIChjb25zdHJ1Y3RlZClcIjtcbiAgICB9IGVsc2UgaWYgKHRoaXMudGFnLmlzVW5pdmVyc2FsKCkgJiYgKHRoaXMudGFnLnRhZ051bWJlciA9PSAweDAzIHx8IHRoaXMudGFnLnRhZ051bWJlciA9PSAweDA0KSAmJiB0aGlzLnN1YiAhPT0gbnVsbCkge1xuICAgICAgcyArPSBcIiAoZW5jYXBzdWxhdGVzKVwiO1xuICAgIH1cbiAgICBzICs9IFwiXFxuXCI7XG4gICAgaWYgKHRoaXMuc3ViICE9PSBudWxsKSB7XG4gICAgICBpbmRlbnQgKz0gXCIgIFwiO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG1heCA9IHRoaXMuc3ViLmxlbmd0aDsgaSA8IG1heDsgKytpKSB7XG4gICAgICAgIHMgKz0gdGhpcy5zdWJbaV0udG9QcmV0dHlTdHJpbmcoaW5kZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLnBvc1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbS5wb3M7XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLnBvc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBvcyArIHRoaXMuaGVhZGVyO1xuICB9O1xuICBBU04xLnByb3RvdHlwZS5wb3NFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBvcyArIHRoaXMuaGVhZGVyICsgTWF0aC5hYnModGhpcy5sZW5ndGgpO1xuICB9O1xuICBBU04xLnByb3RvdHlwZS50b0hleFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW0uaGV4RHVtcCh0aGlzLnBvc1N0YXJ0KCksIHRoaXMucG9zRW5kKCksIHRydWUpO1xuICB9O1xuICBBU04xLmRlY29kZUxlbmd0aCA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICB2YXIgYnVmID0gc3RyZWFtLmdldCgpO1xuICAgIHZhciBsZW4gPSBidWYgJiAweDdGO1xuICAgIGlmIChsZW4gPT0gYnVmKSB7XG4gICAgICByZXR1cm4gbGVuO1xuICAgIH1cbiAgICAvLyBubyByZWFzb24gdG8gdXNlIEludDEwLCBhcyBpdCB3b3VsZCBiZSBhIGh1Z2UgYnVmZmVyIGFueXdheXNcbiAgICBpZiAobGVuID4gNikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVuZ3RoIG92ZXIgNDggYml0cyBub3Qgc3VwcG9ydGVkIGF0IHBvc2l0aW9uIFwiICsgKHN0cmVhbS5wb3MgLSAxKSk7XG4gICAgfVxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gLy8gdW5kZWZpbmVkXG4gICAgYnVmID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBidWYgPSBidWYgKiAyNTYgKyBzdHJlYW0uZ2V0KCk7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgaGV4YWRlY2ltYWwgdmFsdWUgKGFzIGEgc3RyaW5nKSBvZiB0aGUgY3VycmVudCBBU04uMSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEFTTjEucHJvdG90eXBlLmdldEhleFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoZXhTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuaGVhZGVyICogMjtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggKiAyO1xuICAgIHJldHVybiBoZXhTdHJpbmcuc3Vic3RyKG9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbiAgQVNOMS5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdmFyIHN0cmVhbTtcbiAgICBpZiAoIShzdHIgaW5zdGFuY2VvZiBTdHJlYW0pKSB7XG4gICAgICBzdHJlYW0gPSBuZXcgU3RyZWFtKHN0ciwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cmVhbSA9IHN0cjtcbiAgICB9XG4gICAgdmFyIHN0cmVhbVN0YXJ0ID0gbmV3IFN0cmVhbShzdHJlYW0pO1xuICAgIHZhciB0YWcgPSBuZXcgQVNOMVRhZyhzdHJlYW0pO1xuICAgIHZhciBsZW4gPSBBU04xLmRlY29kZUxlbmd0aChzdHJlYW0pO1xuICAgIHZhciBzdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgdmFyIGhlYWRlciA9IHN0YXJ0IC0gc3RyZWFtU3RhcnQucG9zO1xuICAgIHZhciBzdWIgPSBudWxsO1xuICAgIHZhciBnZXRTdWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmV0ID0gW107XG4gICAgICBpZiAobGVuICE9PSBudWxsKSB7XG4gICAgICAgIC8vIGRlZmluaXRlIGxlbmd0aFxuICAgICAgICB2YXIgZW5kID0gc3RhcnQgKyBsZW47XG4gICAgICAgIHdoaWxlIChzdHJlYW0ucG9zIDwgZW5kKSB7XG4gICAgICAgICAgcmV0W3JldC5sZW5ndGhdID0gQVNOMS5kZWNvZGUoc3RyZWFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLnBvcyAhPSBlbmQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHNpemUgaXMgbm90IGNvcnJlY3QgZm9yIGNvbnRhaW5lciBzdGFydGluZyBhdCBvZmZzZXQgXCIgKyBzdGFydCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVuZGVmaW5lZCBsZW5ndGhcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICB2YXIgcyA9IEFTTjEuZGVjb2RlKHN0cmVhbSk7XG4gICAgICAgICAgICBpZiAocy50YWcuaXNFT0MoKSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldFtyZXQubGVuZ3RoXSA9IHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbiA9IHN0YXJ0IC0gc3RyZWFtLnBvczsgLy8gdW5kZWZpbmVkIGxlbmd0aHMgYXJlIHJlcHJlc2VudGVkIGFzIG5lZ2F0aXZlIHZhbHVlc1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhjZXB0aW9uIHdoaWxlIGRlY29kaW5nIHVuZGVmaW5lZCBsZW5ndGggY29udGVudDogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGlmICh0YWcudGFnQ29uc3RydWN0ZWQpIHtcbiAgICAgIC8vIG11c3QgaGF2ZSB2YWxpZCBjb250ZW50XG4gICAgICBzdWIgPSBnZXRTdWIoKTtcbiAgICB9IGVsc2UgaWYgKHRhZy5pc1VuaXZlcnNhbCgpICYmICh0YWcudGFnTnVtYmVyID09IDB4MDMgfHwgdGFnLnRhZ051bWJlciA9PSAweDA0KSkge1xuICAgICAgLy8gc29tZXRpbWVzIEJpdFN0cmluZyBhbmQgT2N0ZXRTdHJpbmcgYXJlIHVzZWQgdG8gZW5jYXBzdWxhdGUgQVNOLjFcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0YWcudGFnTnVtYmVyID09IDB4MDMpIHtcbiAgICAgICAgICBpZiAoc3RyZWFtLmdldCgpICE9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJJVCBTVFJJTkdzIHdpdGggdW51c2VkIGJpdHMgY2Fubm90IGVuY2Fwc3VsYXRlLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3ViID0gZ2V0U3ViKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgaWYgKHN1YltpXS50YWcuaXNFT0MoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRU9DIGlzIG5vdCBzdXBwb3NlZCB0byBiZSBhY3R1YWwgY29udGVudC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGJ1dCBzaWxlbnRseSBpZ25vcmUgd2hlbiB0aGV5IGRvbid0XG4gICAgICAgIHN1YiA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdWIgPT09IG51bGwpIHtcbiAgICAgIGlmIChsZW4gPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2UgY2FuJ3Qgc2tpcCBvdmVyIGFuIGludmFsaWQgdGFnIHdpdGggdW5kZWZpbmVkIGxlbmd0aCBhdCBvZmZzZXQgXCIgKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBzdHJlYW0ucG9zID0gc3RhcnQgKyBNYXRoLmFicyhsZW4pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFTTjEoc3RyZWFtU3RhcnQsIGhlYWRlciwgbGVuLCB0YWcsIHN1Yik7XG4gIH07XG4gIHJldHVybiBBU04xO1xufSgpO1xudmFyIEFTTjFUYWcgPSBleHBvcnRzLkFTTjFUYWcgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBU04xVGFnKHN0cmVhbSkge1xuICAgIHZhciBidWYgPSBzdHJlYW0uZ2V0KCk7XG4gICAgdGhpcy50YWdDbGFzcyA9IGJ1ZiA+PiA2O1xuICAgIHRoaXMudGFnQ29uc3RydWN0ZWQgPSAoYnVmICYgMHgyMCkgIT09IDA7XG4gICAgdGhpcy50YWdOdW1iZXIgPSBidWYgJiAweDFGO1xuICAgIGlmICh0aGlzLnRhZ051bWJlciA9PSAweDFGKSB7XG4gICAgICAvLyBsb25nIHRhZ1xuICAgICAgdmFyIG4gPSBuZXcgX2ludC5JbnQxMCgpO1xuICAgICAgZG8ge1xuICAgICAgICBidWYgPSBzdHJlYW0uZ2V0KCk7XG4gICAgICAgIG4ubXVsQWRkKDEyOCwgYnVmICYgMHg3Rik7XG4gICAgICB9IHdoaWxlIChidWYgJiAweDgwKTtcbiAgICAgIHRoaXMudGFnTnVtYmVyID0gbi5zaW1wbGlmeSgpO1xuICAgIH1cbiAgfVxuICBBU04xVGFnLnByb3RvdHlwZS5pc1VuaXZlcnNhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50YWdDbGFzcyA9PT0gMHgwMDtcbiAgfTtcbiAgQVNOMVRhZy5wcm90b3R5cGUuaXNFT0MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnQ2xhc3MgPT09IDB4MDAgJiYgdGhpcy50YWdOdW1iZXIgPT09IDB4MDA7XG4gIH07XG4gIHJldHVybiBBU04xVGFnO1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5CYXNlNjQgPSB2b2lkIDA7XG4vLyBCYXNlNjQgSmF2YVNjcmlwdCBkZWNvZGVyXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxMyBMYXBvIEx1Y2hpbmkgPGxhcG9AbGFwby5pdD5cbi8vIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuLy8gcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBhcHBlYXIgaW4gYWxsIGNvcGllcy5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFU1xuLy8gV0lUSCBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1Jcbi8vIEFOWSBTUEVDSUFMLCBESVJFQ1QsIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVNcbi8vIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0Zcbi8vIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIGltbWVkOiB0cnVlLCBsYXRlZGVmOiB0cnVlLCB1bmRlZjogdHJ1ZSwgcmVnZXhkYXNoOiBmYWxzZSAqL1xudmFyIGRlY29kZXI7XG52YXIgQmFzZTY0ID0gZXhwb3J0cy5CYXNlNjQgPSB7XG4gIGRlY29kZTogZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgaTtcbiAgICBpZiAoZGVjb2RlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgYjY0ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCI7XG4gICAgICB2YXIgaWdub3JlID0gXCI9IFxcZlxcblxcclxcdFxcdTAwQTBcXHUyMDI4XFx1MjAyOVwiO1xuICAgICAgZGVjb2RlciA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7ICsraSkge1xuICAgICAgICBkZWNvZGVyW2I2NC5jaGFyQXQoaSldID0gaTtcbiAgICAgIH1cbiAgICAgIGRlY29kZXJbJy0nXSA9IDYyOyAvLytcbiAgICAgIGRlY29kZXJbJ18nXSA9IDYzOyAvLy1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpZ25vcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGVjb2RlcltpZ25vcmUuY2hhckF0KGkpXSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIGJpdHMgPSAwO1xuICAgIHZhciBjaGFyX2NvdW50ID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGMgPSBhLmNoYXJBdChpKTtcbiAgICAgIGlmIChjID09IFwiPVwiKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYyA9IGRlY29kZXJbY107XG4gICAgICBpZiAoYyA9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBjaGFyYWN0ZXIgYXQgb2Zmc2V0IFwiICsgaSk7XG4gICAgICB9XG4gICAgICBiaXRzIHw9IGM7XG4gICAgICBpZiAoKytjaGFyX2NvdW50ID49IDQpIHtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cyA+PiAxNjtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cyA+PiA4ICYgMHhGRjtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cyAmIDB4RkY7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICBjaGFyX2NvdW50ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpdHMgPDw9IDY7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY2hhcl9jb3VudCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYXNlNjQgZW5jb2RpbmcgaW5jb21wbGV0ZTogYXQgbGVhc3QgMiBiaXRzIG1pc3NpbmdcIik7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIG91dFtvdXQubGVuZ3RoXSA9IGJpdHMgPj4gMTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBvdXRbb3V0Lmxlbmd0aF0gPSBiaXRzID4+IDE2O1xuICAgICAgICBvdXRbb3V0Lmxlbmd0aF0gPSBiaXRzID4+IDggJiAweEZGO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfSxcbiAgcmU6IC8tLS0tLUJFR0lOIFteLV0rLS0tLS0oW0EtWmEtejAtOStcXC89XFxzXSspLS0tLS1FTkQgW14tXSstLS0tLXxiZWdpbi1iYXNlNjRbXlxcbl0rXFxuKFtBLVphLXowLTkrXFwvPVxcc10rKT09PT0vLFxuICB1bmFybW9yOiBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBtID0gQmFzZTY0LnJlLmV4ZWMoYSk7XG4gICAgaWYgKG0pIHtcbiAgICAgIGlmIChtWzFdKSB7XG4gICAgICAgIGEgPSBtWzFdO1xuICAgICAgfSBlbHNlIGlmIChtWzJdKSB7XG4gICAgICAgIGEgPSBtWzJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnRXhwIG91dCBvZiBzeW5jXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQmFzZTY0LmRlY29kZShhKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSGV4ID0gdm9pZCAwO1xuLy8gSGV4IEphdmFTY3JpcHQgZGVjb2RlclxuLy8gQ29weXJpZ2h0IChjKSAyMDA4LTIwMTMgTGFwbyBMdWNoaW5pIDxsYXBvQGxhcG8uaXQ+XG4vLyBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbi8vIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZCwgcHJvdmlkZWQgdGhhdCB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgYXBwZWFyIGluIGFsbCBjb3BpZXMuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVNcbi8vIFdJVEggUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SXG4vLyBBTlkgU1BFQ0lBTCwgRElSRUNULCBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTXG4vLyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUiBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GXG4vLyBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUiBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgc3RyaWN0OiB0cnVlLCBpbW1lZDogdHJ1ZSwgbGF0ZWRlZjogdHJ1ZSwgdW5kZWY6IHRydWUsIHJlZ2V4ZGFzaDogZmFsc2UgKi9cbnZhciBkZWNvZGVyO1xudmFyIEhleCA9IGV4cG9ydHMuSGV4ID0ge1xuICBkZWNvZGU6IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGk7XG4gICAgaWYgKGRlY29kZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGhleCA9IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiO1xuICAgICAgdmFyIGlnbm9yZSA9IFwiIFxcZlxcblxcclxcdFxcdTAwQTBcXHUyMDI4XFx1MjAyOVwiO1xuICAgICAgZGVjb2RlciA9IHt9O1xuICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgZGVjb2RlcltoZXguY2hhckF0KGkpXSA9IGk7XG4gICAgICB9XG4gICAgICBoZXggPSBoZXgudG9Mb3dlckNhc2UoKTtcbiAgICAgIGZvciAoaSA9IDEwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBkZWNvZGVyW2hleC5jaGFyQXQoaSldID0gaTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpZ25vcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGVjb2RlcltpZ25vcmUuY2hhckF0KGkpXSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIGJpdHMgPSAwO1xuICAgIHZhciBjaGFyX2NvdW50ID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGMgPSBhLmNoYXJBdChpKTtcbiAgICAgIGlmIChjID09IFwiPVwiKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYyA9IGRlY29kZXJbY107XG4gICAgICBpZiAoYyA9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBjaGFyYWN0ZXIgYXQgb2Zmc2V0IFwiICsgaSk7XG4gICAgICB9XG4gICAgICBiaXRzIHw9IGM7XG4gICAgICBpZiAoKytjaGFyX2NvdW50ID49IDIpIHtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cztcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIGNoYXJfY291bnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYml0cyA8PD0gNDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYXJfY291bnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkhleCBlbmNvZGluZyBpbmNvbXBsZXRlOiA0IGJpdHMgbWlzc2luZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSW50MTAgPSB2b2lkIDA7XG4vLyBCaWcgaW50ZWdlciBiYXNlLTEwIHByaW50aW5nIGxpYnJhcnlcbi8vIENvcHlyaWdodCAoYykgMjAxNCBMYXBvIEx1Y2hpbmkgPGxhcG9AbGFwby5pdD5cbi8vIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuLy8gcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBhcHBlYXIgaW4gYWxsIGNvcGllcy5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFU1xuLy8gV0lUSCBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1Jcbi8vIEFOWSBTUEVDSUFMLCBESVJFQ1QsIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVNcbi8vIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0Zcbi8vIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIGltbWVkOiB0cnVlLCBsYXRlZGVmOiB0cnVlLCB1bmRlZjogdHJ1ZSwgcmVnZXhkYXNoOiBmYWxzZSAqL1xudmFyIG1heCA9IDEwMDAwMDAwMDAwMDAwOyAvLyBiaWdnZXN0IGludGVnZXIgdGhhdCBjYW4gc3RpbGwgZml0IDJeNTMgd2hlbiBtdWx0aXBsaWVkIGJ5IDI1NlxudmFyIEludDEwID0gZXhwb3J0cy5JbnQxMCA9IC8qKiBAY2xhc3MgKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEludDEwKHZhbHVlKSB7XG4gICAgdGhpcy5idWYgPSBbK3ZhbHVlIHx8IDBdO1xuICB9XG4gIEludDEwLnByb3RvdHlwZS5tdWxBZGQgPSBmdW5jdGlvbiAobSwgYykge1xuICAgIC8vIGFzc2VydChtIDw9IDI1NilcbiAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgIHZhciBsID0gYi5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgdmFyIHQ7XG4gICAgZm9yIChpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgdCA9IGJbaV0gKiBtICsgYztcbiAgICAgIGlmICh0IDwgbWF4KSB7XG4gICAgICAgIGMgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYyA9IDAgfCB0IC8gbWF4O1xuICAgICAgICB0IC09IGMgKiBtYXg7XG4gICAgICB9XG4gICAgICBiW2ldID0gdDtcbiAgICB9XG4gICAgaWYgKGMgPiAwKSB7XG4gICAgICBiW2ldID0gYztcbiAgICB9XG4gIH07XG4gIEludDEwLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbiAoYykge1xuICAgIC8vIGFzc2VydChtIDw9IDI1NilcbiAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgIHZhciBsID0gYi5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgdmFyIHQ7XG4gICAgZm9yIChpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgdCA9IGJbaV0gLSBjO1xuICAgICAgaWYgKHQgPCAwKSB7XG4gICAgICAgIHQgKz0gbWF4O1xuICAgICAgICBjID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGMgPSAwO1xuICAgICAgfVxuICAgICAgYltpXSA9IHQ7XG4gICAgfVxuICAgIHdoaWxlIChiW2IubGVuZ3RoIC0gMV0gPT09IDApIHtcbiAgICAgIGIucG9wKCk7XG4gICAgfVxuICB9O1xuICBJbnQxMC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoYmFzZSkge1xuICAgIGlmICgoYmFzZSB8fCAxMCkgIT0gMTApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9ubHkgYmFzZSAxMCBpcyBzdXBwb3J0ZWRcIik7XG4gICAgfVxuICAgIHZhciBiID0gdGhpcy5idWY7XG4gICAgdmFyIHMgPSBiW2IubGVuZ3RoIC0gMV0udG9TdHJpbmcoKTtcbiAgICBmb3IgKHZhciBpID0gYi5sZW5ndGggLSAyOyBpID49IDA7IC0taSkge1xuICAgICAgcyArPSAobWF4ICsgYltpXSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBJbnQxMC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgIHZhciB2ID0gMDtcbiAgICBmb3IgKHZhciBpID0gYi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdiA9IHYgKiBtYXggKyBiW2ldO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfTtcbiAgSW50MTAucHJvdG90eXBlLnNpbXBsaWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBiID0gdGhpcy5idWY7XG4gICAgcmV0dXJuIGIubGVuZ3RoID09IDEgPyBiWzBdIDogdGhpcztcbiAgfTtcbiAgcmV0dXJuIEludDEwO1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5iNjR0b0JBID0gYjY0dG9CQTtcbmV4cG9ydHMuYjY0dG9oZXggPSBiNjR0b2hleDtcbmV4cG9ydHMuaGV4MmI2NCA9IGhleDJiNjQ7XG52YXIgX3V0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIGI2NG1hcCA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO1xudmFyIGI2NHBhZCA9IFwiPVwiO1xuZnVuY3Rpb24gaGV4MmI2NChoKSB7XG4gIHZhciBpO1xuICB2YXIgYztcbiAgdmFyIHJldCA9IFwiXCI7XG4gIGZvciAoaSA9IDA7IGkgKyAzIDw9IGgubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoaSwgaSArIDMpLCAxNik7XG4gICAgcmV0ICs9IGI2NG1hcC5jaGFyQXQoYyA+PiA2KSArIGI2NG1hcC5jaGFyQXQoYyAmIDYzKTtcbiAgfVxuICBpZiAoaSArIDEgPT0gaC5sZW5ndGgpIHtcbiAgICBjID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoaSwgaSArIDEpLCAxNik7XG4gICAgcmV0ICs9IGI2NG1hcC5jaGFyQXQoYyA8PCAyKTtcbiAgfSBlbHNlIGlmIChpICsgMiA9PSBoLmxlbmd0aCkge1xuICAgIGMgPSBwYXJzZUludChoLnN1YnN0cmluZyhpLCBpICsgMiksIDE2KTtcbiAgICByZXQgKz0gYjY0bWFwLmNoYXJBdChjID4+IDIpICsgYjY0bWFwLmNoYXJBdCgoYyAmIDMpIDw8IDQpO1xuICB9XG4gIHdoaWxlICgocmV0Lmxlbmd0aCAmIDMpID4gMCkge1xuICAgIHJldCArPSBiNjRwYWQ7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbi8vIGNvbnZlcnQgYSBiYXNlNjQgc3RyaW5nIHRvIGhleFxuZnVuY3Rpb24gYjY0dG9oZXgocykge1xuICB2YXIgcmV0ID0gXCJcIjtcbiAgdmFyIGk7XG4gIHZhciBrID0gMDsgLy8gYjY0IHN0YXRlLCAwLTNcbiAgdmFyIHNsb3AgPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgcy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChzLmNoYXJBdChpKSA9PSBiNjRwYWQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgdiA9IGI2NG1hcC5pbmRleE9mKHMuY2hhckF0KGkpKTtcbiAgICBpZiAodiA8IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoayA9PSAwKSB7XG4gICAgICByZXQgKz0gKDAsIF91dGlsLmludDJjaGFyKSh2ID4+IDIpO1xuICAgICAgc2xvcCA9IHYgJiAzO1xuICAgICAgayA9IDE7XG4gICAgfSBlbHNlIGlmIChrID09IDEpIHtcbiAgICAgIHJldCArPSAoMCwgX3V0aWwuaW50MmNoYXIpKHNsb3AgPDwgMiB8IHYgPj4gNCk7XG4gICAgICBzbG9wID0gdiAmIDB4ZjtcbiAgICAgIGsgPSAyO1xuICAgIH0gZWxzZSBpZiAoayA9PSAyKSB7XG4gICAgICByZXQgKz0gKDAsIF91dGlsLmludDJjaGFyKShzbG9wKTtcbiAgICAgIHJldCArPSAoMCwgX3V0aWwuaW50MmNoYXIpKHYgPj4gMik7XG4gICAgICBzbG9wID0gdiAmIDM7XG4gICAgICBrID0gMztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0ICs9ICgwLCBfdXRpbC5pbnQyY2hhcikoc2xvcCA8PCAyIHwgdiA+PiA0KTtcbiAgICAgIHJldCArPSAoMCwgX3V0aWwuaW50MmNoYXIpKHYgJiAweGYpO1xuICAgICAgayA9IDA7XG4gICAgfVxuICB9XG4gIGlmIChrID09IDEpIHtcbiAgICByZXQgKz0gKDAsIF91dGlsLmludDJjaGFyKShzbG9wIDw8IDIpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4vLyBjb252ZXJ0IGEgYmFzZTY0IHN0cmluZyB0byBhIGJ5dGUvbnVtYmVyIGFycmF5XG5mdW5jdGlvbiBiNjR0b0JBKHMpIHtcbiAgLy8gcGlnZ3liYWNrIG9uIGI2NHRvaGV4IGZvciBub3csIG9wdGltaXplIGxhdGVyXG4gIHZhciBoID0gYjY0dG9oZXgocyk7XG4gIHZhciBpO1xuICB2YXIgYSA9IFtdO1xuICBmb3IgKGkgPSAwOyAyICogaSA8IGgubGVuZ3RoOyArK2kpIHtcbiAgICBhW2ldID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoMiAqIGksIDIgKiBpICsgMiksIDE2KTtcbiAgfVxuICByZXR1cm4gYTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmlnSW50ZWdlciA9IHZvaWQgMDtcbmV4cG9ydHMuaW50QXQgPSBpbnRBdDtcbmV4cG9ydHMubmJpID0gbmJpO1xuZXhwb3J0cy5uYml0cyA9IG5iaXRzO1xuZXhwb3J0cy5uYnYgPSBuYnY7XG5leHBvcnRzLnBhcnNlQmlnSW50ID0gcGFyc2VCaWdJbnQ7XG52YXIgX3V0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuLy8gQ29weXJpZ2h0IChjKSAyMDA1ICBUb20gV3Vcbi8vIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgXCJMSUNFTlNFXCIgZm9yIGRldGFpbHMuXG4vLyBCYXNpYyBKYXZhU2NyaXB0IEJOIGxpYnJhcnkgLSBzdWJzZXQgdXNlZnVsIGZvciBSU0EgZW5jcnlwdGlvbi5cblxuLy8gQml0cyBwZXIgZGlnaXRcbnZhciBkYml0cztcbi8vIEphdmFTY3JpcHQgZW5naW5lIGFuYWx5c2lzXG52YXIgY2FuYXJ5ID0gMHhkZWFkYmVlZmNhZmU7XG52YXIgal9sbSA9IChjYW5hcnkgJiAweGZmZmZmZikgPT0gMHhlZmNhZmU7XG4vLyNyZWdpb25cbnZhciBsb3dwcmltZXMgPSBbMiwgMywgNSwgNywgMTEsIDEzLCAxNywgMTksIDIzLCAyOSwgMzEsIDM3LCA0MSwgNDMsIDQ3LCA1MywgNTksIDYxLCA2NywgNzEsIDczLCA3OSwgODMsIDg5LCA5NywgMTAxLCAxMDMsIDEwNywgMTA5LCAxMTMsIDEyNywgMTMxLCAxMzcsIDEzOSwgMTQ5LCAxNTEsIDE1NywgMTYzLCAxNjcsIDE3MywgMTc5LCAxODEsIDE5MSwgMTkzLCAxOTcsIDE5OSwgMjExLCAyMjMsIDIyNywgMjI5LCAyMzMsIDIzOSwgMjQxLCAyNTEsIDI1NywgMjYzLCAyNjksIDI3MSwgMjc3LCAyODEsIDI4MywgMjkzLCAzMDcsIDMxMSwgMzEzLCAzMTcsIDMzMSwgMzM3LCAzNDcsIDM0OSwgMzUzLCAzNTksIDM2NywgMzczLCAzNzksIDM4MywgMzg5LCAzOTcsIDQwMSwgNDA5LCA0MTksIDQyMSwgNDMxLCA0MzMsIDQzOSwgNDQzLCA0NDksIDQ1NywgNDYxLCA0NjMsIDQ2NywgNDc5LCA0ODcsIDQ5MSwgNDk5LCA1MDMsIDUwOSwgNTIxLCA1MjMsIDU0MSwgNTQ3LCA1NTcsIDU2MywgNTY5LCA1NzEsIDU3NywgNTg3LCA1OTMsIDU5OSwgNjAxLCA2MDcsIDYxMywgNjE3LCA2MTksIDYzMSwgNjQxLCA2NDMsIDY0NywgNjUzLCA2NTksIDY2MSwgNjczLCA2NzcsIDY4MywgNjkxLCA3MDEsIDcwOSwgNzE5LCA3MjcsIDczMywgNzM5LCA3NDMsIDc1MSwgNzU3LCA3NjEsIDc2OSwgNzczLCA3ODcsIDc5NywgODA5LCA4MTEsIDgyMSwgODIzLCA4MjcsIDgyOSwgODM5LCA4NTMsIDg1NywgODU5LCA4NjMsIDg3NywgODgxLCA4ODMsIDg4NywgOTA3LCA5MTEsIDkxOSwgOTI5LCA5MzcsIDk0MSwgOTQ3LCA5NTMsIDk2NywgOTcxLCA5NzcsIDk4MywgOTkxLCA5OTddO1xudmFyIGxwbGltID0gKDEgPDwgMjYpIC8gbG93cHJpbWVzW2xvd3ByaW1lcy5sZW5ndGggLSAxXTtcbi8vI2VuZHJlZ2lvblxuLy8gKHB1YmxpYykgQ29uc3RydWN0b3JcbnZhciBCaWdJbnRlZ2VyID0gZXhwb3J0cy5CaWdJbnRlZ2VyID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQmlnSW50ZWdlcihhLCBiLCBjKSB7XG4gICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGEpIHtcbiAgICAgICAgdGhpcy5mcm9tTnVtYmVyKGEsIGIsIGMpO1xuICAgICAgfSBlbHNlIGlmIChiID09IG51bGwgJiYgXCJzdHJpbmdcIiAhPSB0eXBlb2YgYSkge1xuICAgICAgICB0aGlzLmZyb21TdHJpbmcoYSwgMjU2KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZnJvbVN0cmluZyhhLCBiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8jcmVnaW9uIFBVQkxJQ1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1N0cmluZyA9IGJuVG9TdHJpbmc7XG4gIC8vIChwdWJsaWMpIHJldHVybiBzdHJpbmcgcmVwcmVzZW50YXRpb24gaW4gZ2l2ZW4gcmFkaXhcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoYikge1xuICAgIGlmICh0aGlzLnMgPCAwKSB7XG4gICAgICByZXR1cm4gXCItXCIgKyB0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKGIpO1xuICAgIH1cbiAgICB2YXIgaztcbiAgICBpZiAoYiA9PSAxNikge1xuICAgICAgayA9IDQ7XG4gICAgfSBlbHNlIGlmIChiID09IDgpIHtcbiAgICAgIGsgPSAzO1xuICAgIH0gZWxzZSBpZiAoYiA9PSAyKSB7XG4gICAgICBrID0gMTtcbiAgICB9IGVsc2UgaWYgKGIgPT0gMzIpIHtcbiAgICAgIGsgPSA1O1xuICAgIH0gZWxzZSBpZiAoYiA9PSA0KSB7XG4gICAgICBrID0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudG9SYWRpeChiKTtcbiAgICB9XG4gICAgdmFyIGttID0gKDEgPDwgaykgLSAxO1xuICAgIHZhciBkO1xuICAgIHZhciBtID0gZmFsc2U7XG4gICAgdmFyIHIgPSBcIlwiO1xuICAgIHZhciBpID0gdGhpcy50O1xuICAgIHZhciBwID0gdGhpcy5EQiAtIGkgKiB0aGlzLkRCICUgaztcbiAgICBpZiAoaS0tID4gMCkge1xuICAgICAgaWYgKHAgPCB0aGlzLkRCICYmIChkID0gdGhpc1tpXSA+PiBwKSA+IDApIHtcbiAgICAgICAgbSA9IHRydWU7XG4gICAgICAgIHIgPSAoMCwgX3V0aWwuaW50MmNoYXIpKGQpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgICBpZiAocCA8IGspIHtcbiAgICAgICAgICBkID0gKHRoaXNbaV0gJiAoMSA8PCBwKSAtIDEpIDw8IGsgLSBwO1xuICAgICAgICAgIGQgfD0gdGhpc1stLWldID4+IChwICs9IHRoaXMuREIgLSBrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkID0gdGhpc1tpXSA+PiAocCAtPSBrKSAmIGttO1xuICAgICAgICAgIGlmIChwIDw9IDApIHtcbiAgICAgICAgICAgIHAgKz0gdGhpcy5EQjtcbiAgICAgICAgICAgIC0taTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQgPiAwKSB7XG4gICAgICAgICAgbSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICByICs9ICgwLCBfdXRpbC5pbnQyY2hhcikoZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG0gPyByIDogXCIwXCI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm5lZ2F0ZSA9IGJuTmVnYXRlO1xuICAvLyAocHVibGljKSAtdGhpc1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5uZWdhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcywgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFicyA9IGJuQWJzO1xuICAvLyAocHVibGljKSB8dGhpc3xcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnMgPCAwID8gdGhpcy5uZWdhdGUoKSA6IHRoaXM7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNvbXBhcmVUbyA9IGJuQ29tcGFyZVRvO1xuICAvLyAocHVibGljKSByZXR1cm4gKyBpZiB0aGlzID4gYSwgLSBpZiB0aGlzIDwgYSwgMCBpZiBlcXVhbFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG8gPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gdGhpcy5zIC0gYS5zO1xuICAgIGlmIChyICE9IDApIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICB2YXIgaSA9IHRoaXMudDtcbiAgICByID0gaSAtIGEudDtcbiAgICBpZiAociAhPSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5zIDwgMCA/IC1yIDogcjtcbiAgICB9XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICBpZiAoKHIgPSB0aGlzW2ldIC0gYVtpXSkgIT0gMCkge1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aCA9IGJuQml0TGVuZ3RoO1xuICAvLyAocHVibGljKSByZXR1cm4gdGhlIG51bWJlciBvZiBiaXRzIGluIFwidGhpc1wiXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50IDw9IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5EQiAqICh0aGlzLnQgLSAxKSArIG5iaXRzKHRoaXNbdGhpcy50IC0gMV0gXiB0aGlzLnMgJiB0aGlzLkRNKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubW9kID0gYm5Nb2Q7XG4gIC8vIChwdWJsaWMpIHRoaXMgbW9kIGFcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubW9kID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHRoaXMuYWJzKCkuZGl2UmVtVG8oYSwgbnVsbCwgcik7XG4gICAgaWYgKHRoaXMucyA8IDAgJiYgci5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKSA+IDApIHtcbiAgICAgIGEuc3ViVG8ociwgcik7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQgPSBibk1vZFBvd0ludDtcbiAgLy8gKHB1YmxpYykgdGhpc15lICUgbSwgMCA8PSBlIDwgMl4zMlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQgPSBmdW5jdGlvbiAoZSwgbSkge1xuICAgIHZhciB6O1xuICAgIGlmIChlIDwgMjU2IHx8IG0uaXNFdmVuKCkpIHtcbiAgICAgIHogPSBuZXcgQ2xhc3NpYyhtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeiA9IG5ldyBNb250Z29tZXJ5KG0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leHAoZSwgeik7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsb25lID0gYm5DbG9uZTtcbiAgLy8gKHB1YmxpYylcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmNvcHlUbyhyKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuaW50VmFsdWUgPSBibkludFZhbHVlO1xuICAvLyAocHVibGljKSByZXR1cm4gdmFsdWUgYXMgaW50ZWdlclxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zIDwgMCkge1xuICAgICAgaWYgKHRoaXMudCA9PSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdIC0gdGhpcy5EVjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50ID09IDApIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy50ID09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzWzBdO1xuICAgIH0gZWxzZSBpZiAodGhpcy50ID09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBhc3N1bWVzIDE2IDwgREIgPCAzMlxuICAgIHJldHVybiAodGhpc1sxXSAmICgxIDw8IDMyIC0gdGhpcy5EQikgLSAxKSA8PCB0aGlzLkRCIHwgdGhpc1swXTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYnl0ZVZhbHVlID0gYm5CeXRlVmFsdWU7XG4gIC8vIChwdWJsaWMpIHJldHVybiB2YWx1ZSBhcyBieXRlXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmJ5dGVWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50ID09IDAgPyB0aGlzLnMgOiB0aGlzWzBdIDw8IDI0ID4+IDI0O1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaG9ydFZhbHVlID0gYm5TaG9ydFZhbHVlO1xuICAvLyAocHVibGljKSByZXR1cm4gdmFsdWUgYXMgc2hvcnQgKGFzc3VtZXMgREI+PTE2KVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaG9ydFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnQgPT0gMCA/IHRoaXMucyA6IHRoaXNbMF0gPDwgMTYgPj4gMTY7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnNpZ251bSA9IGJuU2lnTnVtO1xuICAvLyAocHVibGljKSAwIGlmIHRoaXMgPT0gMCwgMSBpZiB0aGlzID4gMFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaWdudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucyA8IDApIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudCA8PSAwIHx8IHRoaXMudCA9PSAxICYmIHRoaXNbMF0gPD0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUudG9CeXRlQXJyYXkgPSBiblRvQnl0ZUFycmF5O1xuICAvLyAocHVibGljKSBjb252ZXJ0IHRvIGJpZ2VuZGlhbiBieXRlIGFycmF5XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnRvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpID0gdGhpcy50O1xuICAgIHZhciByID0gW107XG4gICAgclswXSA9IHRoaXMucztcbiAgICB2YXIgcCA9IHRoaXMuREIgLSBpICogdGhpcy5EQiAlIDg7XG4gICAgdmFyIGQ7XG4gICAgdmFyIGsgPSAwO1xuICAgIGlmIChpLS0gPiAwKSB7XG4gICAgICBpZiAocCA8IHRoaXMuREIgJiYgKGQgPSB0aGlzW2ldID4+IHApICE9ICh0aGlzLnMgJiB0aGlzLkRNKSA+PiBwKSB7XG4gICAgICAgIHJbaysrXSA9IGQgfCB0aGlzLnMgPDwgdGhpcy5EQiAtIHA7XG4gICAgICB9XG4gICAgICB3aGlsZSAoaSA+PSAwKSB7XG4gICAgICAgIGlmIChwIDwgOCkge1xuICAgICAgICAgIGQgPSAodGhpc1tpXSAmICgxIDw8IHApIC0gMSkgPDwgOCAtIHA7XG4gICAgICAgICAgZCB8PSB0aGlzWy0taV0gPj4gKHAgKz0gdGhpcy5EQiAtIDgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGQgPSB0aGlzW2ldID4+IChwIC09IDgpICYgMHhmZjtcbiAgICAgICAgICBpZiAocCA8PSAwKSB7XG4gICAgICAgICAgICBwICs9IHRoaXMuREI7XG4gICAgICAgICAgICAtLWk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoZCAmIDB4ODApICE9IDApIHtcbiAgICAgICAgICBkIHw9IC0yNTY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGsgPT0gMCAmJiAodGhpcy5zICYgMHg4MCkgIT0gKGQgJiAweDgwKSkge1xuICAgICAgICAgICsraztcbiAgICAgICAgfVxuICAgICAgICBpZiAoayA+IDAgfHwgZCAhPSB0aGlzLnMpIHtcbiAgICAgICAgICByW2srK10gPSBkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5lcXVhbHMgPSBibkVxdWFscztcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wYXJlVG8oYSkgPT0gMDtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubWluID0gYm5NaW47XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLm1pbiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZVRvKGEpIDwgMCA/IHRoaXMgOiBhO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tYXggPSBibk1heDtcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubWF4ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wYXJlVG8oYSkgPiAwID8gdGhpcyA6IGE7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZCA9IGJuQW5kO1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5iaXR3aXNlVG8oYSwgX3V0aWwub3BfYW5kLCByKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUub3IgPSBibk9yO1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmJpdHdpc2VUbyhhLCBfdXRpbC5vcF9vciwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnhvciA9IGJuWG9yO1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5iaXR3aXNlVG8oYSwgX3V0aWwub3BfeG9yLCByKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYW5kTm90ID0gYm5BbmROb3Q7XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZE5vdCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmJpdHdpc2VUbyhhLCBfdXRpbC5vcF9hbmRub3QsIHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5ub3QgPSBibk5vdDtcbiAgLy8gKHB1YmxpYykgfnRoaXNcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubm90ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgcltpXSA9IHRoaXMuRE0gJiB+dGhpc1tpXTtcbiAgICB9XG4gICAgci50ID0gdGhpcy50O1xuICAgIHIucyA9IH50aGlzLnM7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0TGVmdCA9IGJuU2hpZnRMZWZ0O1xuICAvLyAocHVibGljKSB0aGlzIDw8IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIGlmIChuIDwgMCkge1xuICAgICAgdGhpcy5yU2hpZnRUbygtbiwgcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubFNoaWZ0VG8obiwgcik7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaGlmdFJpZ2h0ID0gYm5TaGlmdFJpZ2h0O1xuICAvLyAocHVibGljKSB0aGlzID4+IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuc2hpZnRSaWdodCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICBpZiAobiA8IDApIHtcbiAgICAgIHRoaXMubFNoaWZ0VG8oLW4sIHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJTaGlmdFRvKG4sIHIpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZ2V0TG93ZXN0U2V0Qml0ID0gYm5HZXRMb3dlc3RTZXRCaXQ7XG4gIC8vIChwdWJsaWMpIHJldHVybnMgaW5kZXggb2YgbG93ZXN0IDEtYml0IChvciAtMSBpZiBub25lKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5nZXRMb3dlc3RTZXRCaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgaWYgKHRoaXNbaV0gIT0gMCkge1xuICAgICAgICByZXR1cm4gaSAqIHRoaXMuREIgKyAoMCwgX3V0aWwubGJpdCkodGhpc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnMgPCAwKSB7XG4gICAgICByZXR1cm4gdGhpcy50ICogdGhpcy5EQjtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5iaXRDb3VudCA9IGJuQml0Q291bnQ7XG4gIC8vIChwdWJsaWMpIHJldHVybiBudW1iZXIgb2Ygc2V0IGJpdHNcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYml0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSAwO1xuICAgIHZhciB4ID0gdGhpcy5zICYgdGhpcy5ETTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudDsgKytpKSB7XG4gICAgICByICs9ICgwLCBfdXRpbC5jYml0KSh0aGlzW2ldIF4geCk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS50ZXN0Qml0ID0gYm5UZXN0Qml0O1xuICAvLyAocHVibGljKSB0cnVlIGlmZiBudGggYml0IGlzIHNldFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS50ZXN0Qml0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICB2YXIgaiA9IE1hdGguZmxvb3IobiAvIHRoaXMuREIpO1xuICAgIGlmIChqID49IHRoaXMudCkge1xuICAgICAgcmV0dXJuIHRoaXMucyAhPSAwO1xuICAgIH1cbiAgICByZXR1cm4gKHRoaXNbal0gJiAxIDw8IG4gJSB0aGlzLkRCKSAhPSAwO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zZXRCaXQgPSBiblNldEJpdDtcbiAgLy8gKHB1YmxpYykgdGhpcyB8ICgxPDxuKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zZXRCaXQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiB0aGlzLmNoYW5nZUJpdChuLCBfdXRpbC5vcF9vcik7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsZWFyQml0ID0gYm5DbGVhckJpdDtcbiAgLy8gKHB1YmxpYykgdGhpcyAmIH4oMTw8bilcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2xlYXJCaXQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiB0aGlzLmNoYW5nZUJpdChuLCBfdXRpbC5vcF9hbmRub3QpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mbGlwQml0ID0gYm5GbGlwQml0O1xuICAvLyAocHVibGljKSB0aGlzIF4gKDE8PG4pXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmZsaXBCaXQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiB0aGlzLmNoYW5nZUJpdChuLCBfdXRpbC5vcF94b3IpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGQgPSBibkFkZDtcbiAgLy8gKHB1YmxpYykgdGhpcyArIGFcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHRoaXMuYWRkVG8oYSwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnN1YnRyYWN0ID0gYm5TdWJ0cmFjdDtcbiAgLy8gKHB1YmxpYykgdGhpcyAtIGFcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5zdWJUbyhhLCByKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHkgPSBibk11bHRpcGx5O1xuICAvLyAocHVibGljKSB0aGlzICogYVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLm11bHRpcGx5VG8oYSwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdmlkZSA9IGJuRGl2aWRlO1xuICAvLyAocHVibGljKSB0aGlzIC8gYVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5kaXZSZW1UbyhhLCByLCBudWxsKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUucmVtYWluZGVyID0gYm5SZW1haW5kZXI7XG4gIC8vIChwdWJsaWMpIHRoaXMgJSBhXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnJlbWFpbmRlciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmRpdlJlbVRvKGEsIG51bGwsIHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kaXZpZGVBbmRSZW1haW5kZXIgPSBibkRpdmlkZUFuZFJlbWFpbmRlcjtcbiAgLy8gKHB1YmxpYykgW3RoaXMvYSx0aGlzJWFdXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdmlkZUFuZFJlbWFpbmRlciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHEgPSBuYmkoKTtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHRoaXMuZGl2UmVtVG8oYSwgcSwgcik7XG4gICAgcmV0dXJuIFtxLCByXTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubW9kUG93ID0gYm5Nb2RQb3c7XG4gIC8vIChwdWJsaWMpIHRoaXNeZSAlIG0gKEhBQyAxNC44NSlcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubW9kUG93ID0gZnVuY3Rpb24gKGUsIG0pIHtcbiAgICB2YXIgaSA9IGUuYml0TGVuZ3RoKCk7XG4gICAgdmFyIGs7XG4gICAgdmFyIHIgPSBuYnYoMSk7XG4gICAgdmFyIHo7XG4gICAgaWYgKGkgPD0gMCkge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSBlbHNlIGlmIChpIDwgMTgpIHtcbiAgICAgIGsgPSAxO1xuICAgIH0gZWxzZSBpZiAoaSA8IDQ4KSB7XG4gICAgICBrID0gMztcbiAgICB9IGVsc2UgaWYgKGkgPCAxNDQpIHtcbiAgICAgIGsgPSA0O1xuICAgIH0gZWxzZSBpZiAoaSA8IDc2OCkge1xuICAgICAgayA9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGsgPSA2O1xuICAgIH1cbiAgICBpZiAoaSA8IDgpIHtcbiAgICAgIHogPSBuZXcgQ2xhc3NpYyhtKTtcbiAgICB9IGVsc2UgaWYgKG0uaXNFdmVuKCkpIHtcbiAgICAgIHogPSBuZXcgQmFycmV0dChtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeiA9IG5ldyBNb250Z29tZXJ5KG0pO1xuICAgIH1cbiAgICAvLyBwcmVjb21wdXRhdGlvblxuICAgIHZhciBnID0gW107XG4gICAgdmFyIG4gPSAzO1xuICAgIHZhciBrMSA9IGsgLSAxO1xuICAgIHZhciBrbSA9ICgxIDw8IGspIC0gMTtcbiAgICBnWzFdID0gei5jb252ZXJ0KHRoaXMpO1xuICAgIGlmIChrID4gMSkge1xuICAgICAgdmFyIGcyID0gbmJpKCk7XG4gICAgICB6LnNxclRvKGdbMV0sIGcyKTtcbiAgICAgIHdoaWxlIChuIDw9IGttKSB7XG4gICAgICAgIGdbbl0gPSBuYmkoKTtcbiAgICAgICAgei5tdWxUbyhnMiwgZ1tuIC0gMl0sIGdbbl0pO1xuICAgICAgICBuICs9IDI7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBqID0gZS50IC0gMTtcbiAgICB2YXIgdztcbiAgICB2YXIgaXMxID0gdHJ1ZTtcbiAgICB2YXIgcjIgPSBuYmkoKTtcbiAgICB2YXIgdDtcbiAgICBpID0gbmJpdHMoZVtqXSkgLSAxO1xuICAgIHdoaWxlIChqID49IDApIHtcbiAgICAgIGlmIChpID49IGsxKSB7XG4gICAgICAgIHcgPSBlW2pdID4+IGkgLSBrMSAmIGttO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdyA9IChlW2pdICYgKDEgPDwgaSArIDEpIC0gMSkgPDwgazEgLSBpO1xuICAgICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgICB3IHw9IGVbaiAtIDFdID4+IHRoaXMuREIgKyBpIC0gazE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG4gPSBrO1xuICAgICAgd2hpbGUgKCh3ICYgMSkgPT0gMCkge1xuICAgICAgICB3ID4+PSAxO1xuICAgICAgICAtLW47XG4gICAgICB9XG4gICAgICBpZiAoKGkgLT0gbikgPCAwKSB7XG4gICAgICAgIGkgKz0gdGhpcy5EQjtcbiAgICAgICAgLS1qO1xuICAgICAgfVxuICAgICAgaWYgKGlzMSkge1xuICAgICAgICAvLyByZXQgPT0gMSwgZG9uJ3QgYm90aGVyIHNxdWFyaW5nIG9yIG11bHRpcGx5aW5nIGl0XG4gICAgICAgIGdbd10uY29weVRvKHIpO1xuICAgICAgICBpczEgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChuID4gMSkge1xuICAgICAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgICAgIHouc3FyVG8ocjIsIHIpO1xuICAgICAgICAgIG4gLT0gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA+IDApIHtcbiAgICAgICAgICB6LnNxclRvKHIsIHIyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ID0gcjtcbiAgICAgICAgICByID0gcjI7XG4gICAgICAgICAgcjIgPSB0O1xuICAgICAgICB9XG4gICAgICAgIHoubXVsVG8ocjIsIGdbd10sIHIpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGogPj0gMCAmJiAoZVtqXSAmIDEgPDwgaSkgPT0gMCkge1xuICAgICAgICB6LnNxclRvKHIsIHIyKTtcbiAgICAgICAgdCA9IHI7XG4gICAgICAgIHIgPSByMjtcbiAgICAgICAgcjIgPSB0O1xuICAgICAgICBpZiAoLS1pIDwgMCkge1xuICAgICAgICAgIGkgPSB0aGlzLkRCIC0gMTtcbiAgICAgICAgICAtLWo7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHoucmV2ZXJ0KHIpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnZlcnNlID0gYm5Nb2RJbnZlcnNlO1xuICAvLyAocHVibGljKSAxL3RoaXMgJSBtIChIQUMgMTQuNjEpXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZEludmVyc2UgPSBmdW5jdGlvbiAobSkge1xuICAgIHZhciBhYyA9IG0uaXNFdmVuKCk7XG4gICAgaWYgKHRoaXMuaXNFdmVuKCkgJiYgYWMgfHwgbS5zaWdudW0oKSA9PSAwKSB7XG4gICAgICByZXR1cm4gQmlnSW50ZWdlci5aRVJPO1xuICAgIH1cbiAgICB2YXIgdSA9IG0uY2xvbmUoKTtcbiAgICB2YXIgdiA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgYSA9IG5idigxKTtcbiAgICB2YXIgYiA9IG5idigwKTtcbiAgICB2YXIgYyA9IG5idigwKTtcbiAgICB2YXIgZCA9IG5idigxKTtcbiAgICB3aGlsZSAodS5zaWdudW0oKSAhPSAwKSB7XG4gICAgICB3aGlsZSAodS5pc0V2ZW4oKSkge1xuICAgICAgICB1LnJTaGlmdFRvKDEsIHUpO1xuICAgICAgICBpZiAoYWMpIHtcbiAgICAgICAgICBpZiAoIWEuaXNFdmVuKCkgfHwgIWIuaXNFdmVuKCkpIHtcbiAgICAgICAgICAgIGEuYWRkVG8odGhpcywgYSk7XG4gICAgICAgICAgICBiLnN1YlRvKG0sIGIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhLnJTaGlmdFRvKDEsIGEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFiLmlzRXZlbigpKSB7XG4gICAgICAgICAgYi5zdWJUbyhtLCBiKTtcbiAgICAgICAgfVxuICAgICAgICBiLnJTaGlmdFRvKDEsIGIpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHYuaXNFdmVuKCkpIHtcbiAgICAgICAgdi5yU2hpZnRUbygxLCB2KTtcbiAgICAgICAgaWYgKGFjKSB7XG4gICAgICAgICAgaWYgKCFjLmlzRXZlbigpIHx8ICFkLmlzRXZlbigpKSB7XG4gICAgICAgICAgICBjLmFkZFRvKHRoaXMsIGMpO1xuICAgICAgICAgICAgZC5zdWJUbyhtLCBkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYy5yU2hpZnRUbygxLCBjKTtcbiAgICAgICAgfSBlbHNlIGlmICghZC5pc0V2ZW4oKSkge1xuICAgICAgICAgIGQuc3ViVG8obSwgZCk7XG4gICAgICAgIH1cbiAgICAgICAgZC5yU2hpZnRUbygxLCBkKTtcbiAgICAgIH1cbiAgICAgIGlmICh1LmNvbXBhcmVUbyh2KSA+PSAwKSB7XG4gICAgICAgIHUuc3ViVG8odiwgdSk7XG4gICAgICAgIGlmIChhYykge1xuICAgICAgICAgIGEuc3ViVG8oYywgYSk7XG4gICAgICAgIH1cbiAgICAgICAgYi5zdWJUbyhkLCBiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHYuc3ViVG8odSwgdik7XG4gICAgICAgIGlmIChhYykge1xuICAgICAgICAgIGMuc3ViVG8oYSwgYyk7XG4gICAgICAgIH1cbiAgICAgICAgZC5zdWJUbyhiLCBkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHYuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSAhPSAwKSB7XG4gICAgICByZXR1cm4gQmlnSW50ZWdlci5aRVJPO1xuICAgIH1cbiAgICBpZiAoZC5jb21wYXJlVG8obSkgPj0gMCkge1xuICAgICAgcmV0dXJuIGQuc3VidHJhY3QobSk7XG4gICAgfVxuICAgIGlmIChkLnNpZ251bSgpIDwgMCkge1xuICAgICAgZC5hZGRUbyhtLCBkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfVxuICAgIGlmIChkLnNpZ251bSgpIDwgMCkge1xuICAgICAgcmV0dXJuIGQuYWRkKG0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZDtcbiAgICB9XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnBvdyA9IGJuUG93O1xuICAvLyAocHVibGljKSB0aGlzXmVcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUucG93ID0gZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gdGhpcy5leHAoZSwgbmV3IE51bGxFeHAoKSk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmdjZCA9IGJuR0NEO1xuICAvLyAocHVibGljKSBnY2QodGhpcyxhKSAoSEFDIDE0LjU0KVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5nY2QgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciB4ID0gdGhpcy5zIDwgMCA/IHRoaXMubmVnYXRlKCkgOiB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHkgPSBhLnMgPCAwID8gYS5uZWdhdGUoKSA6IGEuY2xvbmUoKTtcbiAgICBpZiAoeC5jb21wYXJlVG8oeSkgPCAwKSB7XG4gICAgICB2YXIgdCA9IHg7XG4gICAgICB4ID0geTtcbiAgICAgIHkgPSB0O1xuICAgIH1cbiAgICB2YXIgaSA9IHguZ2V0TG93ZXN0U2V0Qml0KCk7XG4gICAgdmFyIGcgPSB5LmdldExvd2VzdFNldEJpdCgpO1xuICAgIGlmIChnIDwgMCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICAgIGlmIChpIDwgZykge1xuICAgICAgZyA9IGk7XG4gICAgfVxuICAgIGlmIChnID4gMCkge1xuICAgICAgeC5yU2hpZnRUbyhnLCB4KTtcbiAgICAgIHkuclNoaWZ0VG8oZywgeSk7XG4gICAgfVxuICAgIHdoaWxlICh4LnNpZ251bSgpID4gMCkge1xuICAgICAgaWYgKChpID0geC5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwKSB7XG4gICAgICAgIHguclNoaWZ0VG8oaSwgeCk7XG4gICAgICB9XG4gICAgICBpZiAoKGkgPSB5LmdldExvd2VzdFNldEJpdCgpKSA+IDApIHtcbiAgICAgICAgeS5yU2hpZnRUbyhpLCB5KTtcbiAgICAgIH1cbiAgICAgIGlmICh4LmNvbXBhcmVUbyh5KSA+PSAwKSB7XG4gICAgICAgIHguc3ViVG8oeSwgeCk7XG4gICAgICAgIHguclNoaWZ0VG8oMSwgeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5LnN1YlRvKHgsIHkpO1xuICAgICAgICB5LnJTaGlmdFRvKDEsIHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZyA+IDApIHtcbiAgICAgIHkubFNoaWZ0VG8oZywgeSk7XG4gICAgfVxuICAgIHJldHVybiB5O1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWUgPSBibklzUHJvYmFibGVQcmltZTtcbiAgLy8gKHB1YmxpYykgdGVzdCBwcmltYWxpdHkgd2l0aCBjZXJ0YWludHkgPj0gMS0uNV50XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmlzUHJvYmFibGVQcmltZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIHggPSB0aGlzLmFicygpO1xuICAgIGlmICh4LnQgPT0gMSAmJiB4WzBdIDw9IGxvd3ByaW1lc1tsb3dwcmltZXMubGVuZ3RoIC0gMV0pIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsb3dwcmltZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHhbMF0gPT0gbG93cHJpbWVzW2ldKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHguaXNFdmVuKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaSA9IDE7XG4gICAgd2hpbGUgKGkgPCBsb3dwcmltZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgbSA9IGxvd3ByaW1lc1tpXTtcbiAgICAgIHZhciBqID0gaSArIDE7XG4gICAgICB3aGlsZSAoaiA8IGxvd3ByaW1lcy5sZW5ndGggJiYgbSA8IGxwbGltKSB7XG4gICAgICAgIG0gKj0gbG93cHJpbWVzW2orK107XG4gICAgICB9XG4gICAgICBtID0geC5tb2RJbnQobSk7XG4gICAgICB3aGlsZSAoaSA8IGopIHtcbiAgICAgICAgaWYgKG0gJSBsb3dwcmltZXNbaSsrXSA9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4Lm1pbGxlclJhYmluKHQpO1xuICB9O1xuICAvLyNlbmRyZWdpb24gUFVCTElDXG4gIC8vI3JlZ2lvbiBQUk9URUNURURcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY29weVRvID0gYm5wQ29weVRvO1xuICAvLyAocHJvdGVjdGVkKSBjb3B5IHRoaXMgdG8gclxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocikge1xuICAgIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgcltpXSA9IHRoaXNbaV07XG4gICAgfVxuICAgIHIudCA9IHRoaXMudDtcbiAgICByLnMgPSB0aGlzLnM7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21JbnQgPSBibnBGcm9tSW50O1xuICAvLyAocHJvdGVjdGVkKSBzZXQgZnJvbSBpbnRlZ2VyIHZhbHVlIHgsIC1EViA8PSB4IDwgRFZcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbUludCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgdGhpcy50ID0gMTtcbiAgICB0aGlzLnMgPSB4IDwgMCA/IC0xIDogMDtcbiAgICBpZiAoeCA+IDApIHtcbiAgICAgIHRoaXNbMF0gPSB4O1xuICAgIH0gZWxzZSBpZiAoeCA8IC0xKSB7XG4gICAgICB0aGlzWzBdID0geCArIHRoaXMuRFY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudCA9IDA7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tU3RyaW5nID0gYm5wRnJvbVN0cmluZztcbiAgLy8gKHByb3RlY3RlZCkgc2V0IGZyb20gc3RyaW5nIGFuZCByYWRpeFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHMsIGIpIHtcbiAgICB2YXIgaztcbiAgICBpZiAoYiA9PSAxNikge1xuICAgICAgayA9IDQ7XG4gICAgfSBlbHNlIGlmIChiID09IDgpIHtcbiAgICAgIGsgPSAzO1xuICAgIH0gZWxzZSBpZiAoYiA9PSAyNTYpIHtcbiAgICAgIGsgPSA4O1xuICAgICAgLyogYnl0ZSBhcnJheSAqL1xuICAgIH0gZWxzZSBpZiAoYiA9PSAyKSB7XG4gICAgICBrID0gMTtcbiAgICB9IGVsc2UgaWYgKGIgPT0gMzIpIHtcbiAgICAgIGsgPSA1O1xuICAgIH0gZWxzZSBpZiAoYiA9PSA0KSB7XG4gICAgICBrID0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcm9tUmFkaXgocywgYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudCA9IDA7XG4gICAgdGhpcy5zID0gMDtcbiAgICB2YXIgaSA9IHMubGVuZ3RoO1xuICAgIHZhciBtaSA9IGZhbHNlO1xuICAgIHZhciBzaCA9IDA7XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICB2YXIgeCA9IGsgPT0gOCA/ICtzW2ldICYgMHhmZiA6IGludEF0KHMsIGkpO1xuICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgIGlmIChzLmNoYXJBdChpKSA9PSBcIi1cIikge1xuICAgICAgICAgIG1pID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIG1pID0gZmFsc2U7XG4gICAgICBpZiAoc2ggPT0gMCkge1xuICAgICAgICB0aGlzW3RoaXMudCsrXSA9IHg7XG4gICAgICB9IGVsc2UgaWYgKHNoICsgayA+IHRoaXMuREIpIHtcbiAgICAgICAgdGhpc1t0aGlzLnQgLSAxXSB8PSAoeCAmICgxIDw8IHRoaXMuREIgLSBzaCkgLSAxKSA8PCBzaDtcbiAgICAgICAgdGhpc1t0aGlzLnQrK10gPSB4ID4+IHRoaXMuREIgLSBzaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbdGhpcy50IC0gMV0gfD0geCA8PCBzaDtcbiAgICAgIH1cbiAgICAgIHNoICs9IGs7XG4gICAgICBpZiAoc2ggPj0gdGhpcy5EQikge1xuICAgICAgICBzaCAtPSB0aGlzLkRCO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoayA9PSA4ICYmICgrc1swXSAmIDB4ODApICE9IDApIHtcbiAgICAgIHRoaXMucyA9IC0xO1xuICAgICAgaWYgKHNoID4gMCkge1xuICAgICAgICB0aGlzW3RoaXMudCAtIDFdIHw9ICgxIDw8IHRoaXMuREIgLSBzaCkgLSAxIDw8IHNoO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNsYW1wKCk7XG4gICAgaWYgKG1pKSB7XG4gICAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jbGFtcCA9IGJucENsYW1wO1xuICAvLyAocHJvdGVjdGVkKSBjbGFtcCBvZmYgZXhjZXNzIGhpZ2ggd29yZHNcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2xhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGMgPSB0aGlzLnMgJiB0aGlzLkRNO1xuICAgIHdoaWxlICh0aGlzLnQgPiAwICYmIHRoaXNbdGhpcy50IC0gMV0gPT0gYykge1xuICAgICAgLS10aGlzLnQ7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kbFNoaWZ0VG8gPSBibnBETFNoaWZ0VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG4qREJcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZGxTaGlmdFRvID0gZnVuY3Rpb24gKG4sIHIpIHtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgcltpICsgbl0gPSB0aGlzW2ldO1xuICAgIH1cbiAgICBmb3IgKGkgPSBuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHJbaV0gPSAwO1xuICAgIH1cbiAgICByLnQgPSB0aGlzLnQgKyBuO1xuICAgIHIucyA9IHRoaXMucztcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvID0gYm5wRFJTaGlmdFRvO1xuICAvLyAocHJvdGVjdGVkKSByID0gdGhpcyA+PiBuKkRCXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmRyU2hpZnRUbyA9IGZ1bmN0aW9uIChuLCByKSB7XG4gICAgZm9yICh2YXIgaSA9IG47IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgcltpIC0gbl0gPSB0aGlzW2ldO1xuICAgIH1cbiAgICByLnQgPSBNYXRoLm1heCh0aGlzLnQgLSBuLCAwKTtcbiAgICByLnMgPSB0aGlzLnM7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmxTaGlmdFRvID0gYm5wTFNoaWZ0VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubFNoaWZ0VG8gPSBmdW5jdGlvbiAobiwgcikge1xuICAgIHZhciBicyA9IG4gJSB0aGlzLkRCO1xuICAgIHZhciBjYnMgPSB0aGlzLkRCIC0gYnM7XG4gICAgdmFyIGJtID0gKDEgPDwgY2JzKSAtIDE7XG4gICAgdmFyIGRzID0gTWF0aC5mbG9vcihuIC8gdGhpcy5EQik7XG4gICAgdmFyIGMgPSB0aGlzLnMgPDwgYnMgJiB0aGlzLkRNO1xuICAgIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgcltpICsgZHMgKyAxXSA9IHRoaXNbaV0gPj4gY2JzIHwgYztcbiAgICAgIGMgPSAodGhpc1tpXSAmIGJtKSA8PCBicztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IGRzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHJbaV0gPSAwO1xuICAgIH1cbiAgICByW2RzXSA9IGM7XG4gICAgci50ID0gdGhpcy50ICsgZHMgKyAxO1xuICAgIHIucyA9IHRoaXMucztcbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnJTaGlmdFRvID0gYm5wUlNoaWZ0VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzID4+IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuclNoaWZ0VG8gPSBmdW5jdGlvbiAobiwgcikge1xuICAgIHIucyA9IHRoaXMucztcbiAgICB2YXIgZHMgPSBNYXRoLmZsb29yKG4gLyB0aGlzLkRCKTtcbiAgICBpZiAoZHMgPj0gdGhpcy50KSB7XG4gICAgICByLnQgPSAwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYnMgPSBuICUgdGhpcy5EQjtcbiAgICB2YXIgY2JzID0gdGhpcy5EQiAtIGJzO1xuICAgIHZhciBibSA9ICgxIDw8IGJzKSAtIDE7XG4gICAgclswXSA9IHRoaXNbZHNdID4+IGJzO1xuICAgIGZvciAodmFyIGkgPSBkcyArIDE7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgcltpIC0gZHMgLSAxXSB8PSAodGhpc1tpXSAmIGJtKSA8PCBjYnM7XG4gICAgICByW2kgLSBkc10gPSB0aGlzW2ldID4+IGJzO1xuICAgIH1cbiAgICBpZiAoYnMgPiAwKSB7XG4gICAgICByW3RoaXMudCAtIGRzIC0gMV0gfD0gKHRoaXMucyAmIGJtKSA8PCBjYnM7XG4gICAgfVxuICAgIHIudCA9IHRoaXMudCAtIGRzO1xuICAgIHIuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3ViVG8gPSBibnBTdWJUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgLSBhXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnN1YlRvID0gZnVuY3Rpb24gKGEsIHIpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGMgPSAwO1xuICAgIHZhciBtID0gTWF0aC5taW4oYS50LCB0aGlzLnQpO1xuICAgIHdoaWxlIChpIDwgbSkge1xuICAgICAgYyArPSB0aGlzW2ldIC0gYVtpXTtcbiAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgaWYgKGEudCA8IHRoaXMudCkge1xuICAgICAgYyAtPSBhLnM7XG4gICAgICB3aGlsZSAoaSA8IHRoaXMudCkge1xuICAgICAgICBjICs9IHRoaXNbaV07XG4gICAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgICBjID4+PSB0aGlzLkRCO1xuICAgICAgfVxuICAgICAgYyArPSB0aGlzLnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMgKz0gdGhpcy5zO1xuICAgICAgd2hpbGUgKGkgPCBhLnQpIHtcbiAgICAgICAgYyAtPSBhW2ldO1xuICAgICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICAgIH1cbiAgICAgIGMgLT0gYS5zO1xuICAgIH1cbiAgICByLnMgPSBjIDwgMCA/IC0xIDogMDtcbiAgICBpZiAoYyA8IC0xKSB7XG4gICAgICByW2krK10gPSB0aGlzLkRWICsgYztcbiAgICB9IGVsc2UgaWYgKGMgPiAwKSB7XG4gICAgICByW2krK10gPSBjO1xuICAgIH1cbiAgICByLnQgPSBpO1xuICAgIHIuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlUbyA9IGJucE11bHRpcGx5VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzICogYSwgciAhPSB0aGlzLGEgKEhBQyAxNC4xMilcbiAgLy8gXCJ0aGlzXCIgc2hvdWxkIGJlIHRoZSBsYXJnZXIgb25lIGlmIGFwcHJvcHJpYXRlLlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseVRvID0gZnVuY3Rpb24gKGEsIHIpIHtcbiAgICB2YXIgeCA9IHRoaXMuYWJzKCk7XG4gICAgdmFyIHkgPSBhLmFicygpO1xuICAgIHZhciBpID0geC50O1xuICAgIHIudCA9IGkgKyB5LnQ7XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICByW2ldID0gMDtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHkudDsgKytpKSB7XG4gICAgICByW2kgKyB4LnRdID0geC5hbSgwLCB5W2ldLCByLCBpLCAwLCB4LnQpO1xuICAgIH1cbiAgICByLnMgPSAwO1xuICAgIHIuY2xhbXAoKTtcbiAgICBpZiAodGhpcy5zICE9IGEucykge1xuICAgICAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIsIHIpO1xuICAgIH1cbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlVG8gPSBibnBTcXVhcmVUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXNeMiwgciAhPSB0aGlzIChIQUMgMTQuMTYpXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnNxdWFyZVRvID0gZnVuY3Rpb24gKHIpIHtcbiAgICB2YXIgeCA9IHRoaXMuYWJzKCk7XG4gICAgdmFyIGkgPSByLnQgPSAyICogeC50O1xuICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgcltpXSA9IDA7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB4LnQgLSAxOyArK2kpIHtcbiAgICAgIHZhciBjID0geC5hbShpLCB4W2ldLCByLCAyICogaSwgMCwgMSk7XG4gICAgICBpZiAoKHJbaSArIHgudF0gKz0geC5hbShpICsgMSwgMiAqIHhbaV0sIHIsIDIgKiBpICsgMSwgYywgeC50IC0gaSAtIDEpKSA+PSB4LkRWKSB7XG4gICAgICAgIHJbaSArIHgudF0gLT0geC5EVjtcbiAgICAgICAgcltpICsgeC50ICsgMV0gPSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoci50ID4gMCkge1xuICAgICAgcltyLnQgLSAxXSArPSB4LmFtKGksIHhbaV0sIHIsIDIgKiBpLCAwLCAxKTtcbiAgICB9XG4gICAgci5zID0gMDtcbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdlJlbVRvID0gYm5wRGl2UmVtVG87XG4gIC8vIChwcm90ZWN0ZWQpIGRpdmlkZSB0aGlzIGJ5IG0sIHF1b3RpZW50IGFuZCByZW1haW5kZXIgdG8gcSwgciAoSEFDIDE0LjIwKVxuICAvLyByICE9IHEsIHRoaXMgIT0gbS4gIHEgb3IgciBtYXkgYmUgbnVsbC5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG8gPSBmdW5jdGlvbiAobSwgcSwgcikge1xuICAgIHZhciBwbSA9IG0uYWJzKCk7XG4gICAgaWYgKHBtLnQgPD0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHQgPSB0aGlzLmFicygpO1xuICAgIGlmIChwdC50IDwgcG0udCkge1xuICAgICAgaWYgKHEgIT0gbnVsbCkge1xuICAgICAgICBxLmZyb21JbnQoMCk7XG4gICAgICB9XG4gICAgICBpZiAociAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuY29weVRvKHIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAociA9PSBudWxsKSB7XG4gICAgICByID0gbmJpKCk7XG4gICAgfVxuICAgIHZhciB5ID0gbmJpKCk7XG4gICAgdmFyIHRzID0gdGhpcy5zO1xuICAgIHZhciBtcyA9IG0ucztcbiAgICB2YXIgbnNoID0gdGhpcy5EQiAtIG5iaXRzKHBtW3BtLnQgLSAxXSk7IC8vIG5vcm1hbGl6ZSBtb2R1bHVzXG4gICAgaWYgKG5zaCA+IDApIHtcbiAgICAgIHBtLmxTaGlmdFRvKG5zaCwgeSk7XG4gICAgICBwdC5sU2hpZnRUbyhuc2gsIHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbS5jb3B5VG8oeSk7XG4gICAgICBwdC5jb3B5VG8ocik7XG4gICAgfVxuICAgIHZhciB5cyA9IHkudDtcbiAgICB2YXIgeTAgPSB5W3lzIC0gMV07XG4gICAgaWYgKHkwID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHl0ID0geTAgKiAoMSA8PCB0aGlzLkYxKSArICh5cyA+IDEgPyB5W3lzIC0gMl0gPj4gdGhpcy5GMiA6IDApO1xuICAgIHZhciBkMSA9IHRoaXMuRlYgLyB5dDtcbiAgICB2YXIgZDIgPSAoMSA8PCB0aGlzLkYxKSAvIHl0O1xuICAgIHZhciBlID0gMSA8PCB0aGlzLkYyO1xuICAgIHZhciBpID0gci50O1xuICAgIHZhciBqID0gaSAtIHlzO1xuICAgIHZhciB0ID0gcSA9PSBudWxsID8gbmJpKCkgOiBxO1xuICAgIHkuZGxTaGlmdFRvKGosIHQpO1xuICAgIGlmIChyLmNvbXBhcmVUbyh0KSA+PSAwKSB7XG4gICAgICByW3IudCsrXSA9IDE7XG4gICAgICByLnN1YlRvKHQsIHIpO1xuICAgIH1cbiAgICBCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oeXMsIHQpO1xuICAgIHQuc3ViVG8oeSwgeSk7IC8vIFwibmVnYXRpdmVcIiB5IHNvIHdlIGNhbiByZXBsYWNlIHN1YiB3aXRoIGFtIGxhdGVyXG4gICAgd2hpbGUgKHkudCA8IHlzKSB7XG4gICAgICB5W3kudCsrXSA9IDA7XG4gICAgfVxuICAgIHdoaWxlICgtLWogPj0gMCkge1xuICAgICAgLy8gRXN0aW1hdGUgcXVvdGllbnQgZGlnaXRcbiAgICAgIHZhciBxZCA9IHJbLS1pXSA9PSB5MCA/IHRoaXMuRE0gOiBNYXRoLmZsb29yKHJbaV0gKiBkMSArIChyW2kgLSAxXSArIGUpICogZDIpO1xuICAgICAgaWYgKChyW2ldICs9IHkuYW0oMCwgcWQsIHIsIGosIDAsIHlzKSkgPCBxZCkge1xuICAgICAgICAvLyBUcnkgaXQgb3V0XG4gICAgICAgIHkuZGxTaGlmdFRvKGosIHQpO1xuICAgICAgICByLnN1YlRvKHQsIHIpO1xuICAgICAgICB3aGlsZSAocltpXSA8IC0tcWQpIHtcbiAgICAgICAgICByLnN1YlRvKHQsIHIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChxICE9IG51bGwpIHtcbiAgICAgIHIuZHJTaGlmdFRvKHlzLCBxKTtcbiAgICAgIGlmICh0cyAhPSBtcykge1xuICAgICAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8ocSwgcSk7XG4gICAgICB9XG4gICAgfVxuICAgIHIudCA9IHlzO1xuICAgIHIuY2xhbXAoKTtcbiAgICBpZiAobnNoID4gMCkge1xuICAgICAgci5yU2hpZnRUbyhuc2gsIHIpO1xuICAgIH0gLy8gRGVub3JtYWxpemUgcmVtYWluZGVyXG4gICAgaWYgKHRzIDwgMCkge1xuICAgICAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIsIHIpO1xuICAgIH1cbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuaW52RGlnaXQgPSBibnBJbnZEaWdpdDtcbiAgLy8gKHByb3RlY3RlZCkgcmV0dXJuIFwiLTEvdGhpcyAlIDJeREJcIjsgdXNlZnVsIGZvciBNb250LiByZWR1Y3Rpb25cbiAgLy8ganVzdGlmaWNhdGlvbjpcbiAgLy8gICAgICAgICB4eSA9PSAxIChtb2QgbSlcbiAgLy8gICAgICAgICB4eSA9ICAxK2ttXG4gIC8vICAgeHkoMi14eSkgPSAoMStrbSkoMS1rbSlcbiAgLy8geFt5KDIteHkpXSA9IDEta14ybV4yXG4gIC8vIHhbeSgyLXh5KV0gPT0gMSAobW9kIG1eMilcbiAgLy8gaWYgeSBpcyAxL3ggbW9kIG0sIHRoZW4geSgyLXh5KSBpcyAxL3ggbW9kIG1eMlxuICAvLyBzaG91bGQgcmVkdWNlIHggYW5kIHkoMi14eSkgYnkgbV4yIGF0IGVhY2ggc3RlcCB0byBrZWVwIHNpemUgYm91bmRlZC5cbiAgLy8gSlMgbXVsdGlwbHkgXCJvdmVyZmxvd3NcIiBkaWZmZXJlbnRseSBmcm9tIEMvQysrLCBzbyBjYXJlIGlzIG5lZWRlZCBoZXJlLlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnZEaWdpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50IDwgMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciB4ID0gdGhpc1swXTtcbiAgICBpZiAoKHggJiAxKSA9PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIHkgPSB4ICYgMzsgLy8geSA9PSAxL3ggbW9kIDJeMlxuICAgIHkgPSB5ICogKDIgLSAoeCAmIDB4ZikgKiB5KSAmIDB4ZjsgLy8geSA9PSAxL3ggbW9kIDJeNFxuICAgIHkgPSB5ICogKDIgLSAoeCAmIDB4ZmYpICogeSkgJiAweGZmOyAvLyB5ID09IDEveCBtb2QgMl44XG4gICAgeSA9IHkgKiAoMiAtICgoeCAmIDB4ZmZmZikgKiB5ICYgMHhmZmZmKSkgJiAweGZmZmY7IC8vIHkgPT0gMS94IG1vZCAyXjE2XG4gICAgLy8gbGFzdCBzdGVwIC0gY2FsY3VsYXRlIGludmVyc2UgbW9kIERWIGRpcmVjdGx5O1xuICAgIC8vIGFzc3VtZXMgMTYgPCBEQiA8PSAzMiBhbmQgYXNzdW1lcyBhYmlsaXR5IHRvIGhhbmRsZSA0OC1iaXQgaW50c1xuICAgIHkgPSB5ICogKDIgLSB4ICogeSAlIHRoaXMuRFYpICUgdGhpcy5EVjsgLy8geSA9PSAxL3ggbW9kIDJeZGJpdHNcbiAgICAvLyB3ZSByZWFsbHkgd2FudCB0aGUgbmVnYXRpdmUgaW52ZXJzZSwgYW5kIC1EViA8IHkgPCBEVlxuICAgIHJldHVybiB5ID4gMCA/IHRoaXMuRFYgLSB5IDogLXk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmlzRXZlbiA9IGJucElzRXZlbjtcbiAgLy8gKHByb3RlY3RlZCkgdHJ1ZSBpZmYgdGhpcyBpcyBldmVuXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMudCA+IDAgPyB0aGlzWzBdICYgMSA6IHRoaXMucykgPT0gMDtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZXhwID0gYm5wRXhwO1xuICAvLyAocHJvdGVjdGVkKSB0aGlzXmUsIGUgPCAyXjMyLCBkb2luZyBzcXIgYW5kIG11bCB3aXRoIFwiclwiIChIQUMgMTQuNzkpXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChlLCB6KSB7XG4gICAgaWYgKGUgPiAweGZmZmZmZmZmIHx8IGUgPCAxKSB7XG4gICAgICByZXR1cm4gQmlnSW50ZWdlci5PTkU7XG4gICAgfVxuICAgIHZhciByID0gbmJpKCk7XG4gICAgdmFyIHIyID0gbmJpKCk7XG4gICAgdmFyIGcgPSB6LmNvbnZlcnQodGhpcyk7XG4gICAgdmFyIGkgPSBuYml0cyhlKSAtIDE7XG4gICAgZy5jb3B5VG8ocik7XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICB6LnNxclRvKHIsIHIyKTtcbiAgICAgIGlmICgoZSAmIDEgPDwgaSkgPiAwKSB7XG4gICAgICAgIHoubXVsVG8ocjIsIGcsIHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHQgPSByO1xuICAgICAgICByID0gcjI7XG4gICAgICAgIHIyID0gdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHoucmV2ZXJ0KHIpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaHVua1NpemUgPSBibnBDaHVua1NpemU7XG4gIC8vIChwcm90ZWN0ZWQpIHJldHVybiB4IHMudC4gcl54IDwgRFZcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2h1bmtTaXplID0gZnVuY3Rpb24gKHIpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLkxOMiAqIHRoaXMuREIgLyBNYXRoLmxvZyhyKSk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnRvUmFkaXggPSBibnBUb1JhZGl4O1xuICAvLyAocHJvdGVjdGVkKSBjb252ZXJ0IHRvIHJhZGl4IHN0cmluZ1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1JhZGl4ID0gZnVuY3Rpb24gKGIpIHtcbiAgICBpZiAoYiA9PSBudWxsKSB7XG4gICAgICBiID0gMTA7XG4gICAgfVxuICAgIGlmICh0aGlzLnNpZ251bSgpID09IDAgfHwgYiA8IDIgfHwgYiA+IDM2KSB7XG4gICAgICByZXR1cm4gXCIwXCI7XG4gICAgfVxuICAgIHZhciBjcyA9IHRoaXMuY2h1bmtTaXplKGIpO1xuICAgIHZhciBhID0gTWF0aC5wb3coYiwgY3MpO1xuICAgIHZhciBkID0gbmJ2KGEpO1xuICAgIHZhciB5ID0gbmJpKCk7XG4gICAgdmFyIHogPSBuYmkoKTtcbiAgICB2YXIgciA9IFwiXCI7XG4gICAgdGhpcy5kaXZSZW1UbyhkLCB5LCB6KTtcbiAgICB3aGlsZSAoeS5zaWdudW0oKSA+IDApIHtcbiAgICAgIHIgPSAoYSArIHouaW50VmFsdWUoKSkudG9TdHJpbmcoYikuc3Vic3RyKDEpICsgcjtcbiAgICAgIHkuZGl2UmVtVG8oZCwgeSwgeik7XG4gICAgfVxuICAgIHJldHVybiB6LmludFZhbHVlKCkudG9TdHJpbmcoYikgKyByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tUmFkaXggPSBibnBGcm9tUmFkaXg7XG4gIC8vIChwcm90ZWN0ZWQpIGNvbnZlcnQgZnJvbSByYWRpeCBzdHJpbmdcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVJhZGl4ID0gZnVuY3Rpb24gKHMsIGIpIHtcbiAgICB0aGlzLmZyb21JbnQoMCk7XG4gICAgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgYiA9IDEwO1xuICAgIH1cbiAgICB2YXIgY3MgPSB0aGlzLmNodW5rU2l6ZShiKTtcbiAgICB2YXIgZCA9IE1hdGgucG93KGIsIGNzKTtcbiAgICB2YXIgbWkgPSBmYWxzZTtcbiAgICB2YXIgaiA9IDA7XG4gICAgdmFyIHcgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHggPSBpbnRBdChzLCBpKTtcbiAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICBpZiAocy5jaGFyQXQoaSkgPT0gXCItXCIgJiYgdGhpcy5zaWdudW0oKSA9PSAwKSB7XG4gICAgICAgICAgbWkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdyA9IGIgKiB3ICsgeDtcbiAgICAgIGlmICgrK2ogPj0gY3MpIHtcbiAgICAgICAgdGhpcy5kTXVsdGlwbHkoZCk7XG4gICAgICAgIHRoaXMuZEFkZE9mZnNldCh3LCAwKTtcbiAgICAgICAgaiA9IDA7XG4gICAgICAgIHcgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaiA+IDApIHtcbiAgICAgIHRoaXMuZE11bHRpcGx5KE1hdGgucG93KGIsIGopKTtcbiAgICAgIHRoaXMuZEFkZE9mZnNldCh3LCAwKTtcbiAgICB9XG4gICAgaWYgKG1pKSB7XG4gICAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tTnVtYmVyID0gYm5wRnJvbU51bWJlcjtcbiAgLy8gKHByb3RlY3RlZCkgYWx0ZXJuYXRlIGNvbnN0cnVjdG9yXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21OdW1iZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBiKSB7XG4gICAgICAvLyBuZXcgQmlnSW50ZWdlcihpbnQsaW50LFJORylcbiAgICAgIGlmIChhIDwgMikge1xuICAgICAgICB0aGlzLmZyb21JbnQoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyb21OdW1iZXIoYSwgYyk7XG4gICAgICAgIGlmICghdGhpcy50ZXN0Qml0KGEgLSAxKSkge1xuICAgICAgICAgIC8vIGZvcmNlIE1TQiBzZXRcbiAgICAgICAgICB0aGlzLmJpdHdpc2VUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYSAtIDEpLCBfdXRpbC5vcF9vciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNFdmVuKCkpIHtcbiAgICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMSwgMCk7XG4gICAgICAgIH0gLy8gZm9yY2Ugb2RkXG4gICAgICAgIHdoaWxlICghdGhpcy5pc1Byb2JhYmxlUHJpbWUoYikpIHtcbiAgICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMiwgMCk7XG4gICAgICAgICAgaWYgKHRoaXMuYml0TGVuZ3RoKCkgPiBhKSB7XG4gICAgICAgICAgICB0aGlzLnN1YlRvKEJpZ0ludGVnZXIuT05FLnNoaWZ0TGVmdChhIC0gMSksIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBuZXcgQmlnSW50ZWdlcihpbnQsUk5HKVxuICAgICAgdmFyIHggPSBbXTtcbiAgICAgIHZhciB0ID0gYSAmIDc7XG4gICAgICB4Lmxlbmd0aCA9IChhID4+IDMpICsgMTtcbiAgICAgIGIubmV4dEJ5dGVzKHgpO1xuICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgIHhbMF0gJj0gKDEgPDwgdCkgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeFswXSA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLmZyb21TdHJpbmcoeCwgMjU2KTtcbiAgICB9XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdHdpc2VUbyA9IGJucEJpdHdpc2VUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgb3AgYSAoYml0d2lzZSlcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYml0d2lzZVRvID0gZnVuY3Rpb24gKGEsIG9wLCByKSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIGY7XG4gICAgdmFyIG0gPSBNYXRoLm1pbihhLnQsIHRoaXMudCk7XG4gICAgZm9yIChpID0gMDsgaSA8IG07ICsraSkge1xuICAgICAgcltpXSA9IG9wKHRoaXNbaV0sIGFbaV0pO1xuICAgIH1cbiAgICBpZiAoYS50IDwgdGhpcy50KSB7XG4gICAgICBmID0gYS5zICYgdGhpcy5ETTtcbiAgICAgIGZvciAoaSA9IG07IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgICByW2ldID0gb3AodGhpc1tpXSwgZik7XG4gICAgICB9XG4gICAgICByLnQgPSB0aGlzLnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGYgPSB0aGlzLnMgJiB0aGlzLkRNO1xuICAgICAgZm9yIChpID0gbTsgaSA8IGEudDsgKytpKSB7XG4gICAgICAgIHJbaV0gPSBvcChmLCBhW2ldKTtcbiAgICAgIH1cbiAgICAgIHIudCA9IGEudDtcbiAgICB9XG4gICAgci5zID0gb3AodGhpcy5zLCBhLnMpO1xuICAgIHIuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY2hhbmdlQml0ID0gYm5wQ2hhbmdlQml0O1xuICAvLyAocHJvdGVjdGVkKSB0aGlzIG9wICgxPDxuKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaGFuZ2VCaXQgPSBmdW5jdGlvbiAobiwgb3ApIHtcbiAgICB2YXIgciA9IEJpZ0ludGVnZXIuT05FLnNoaWZ0TGVmdChuKTtcbiAgICB0aGlzLmJpdHdpc2VUbyhyLCBvcCwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFkZFRvID0gYm5wQWRkVG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzICsgYVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGRUbyA9IGZ1bmN0aW9uIChhLCByKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBjID0gMDtcbiAgICB2YXIgbSA9IE1hdGgubWluKGEudCwgdGhpcy50KTtcbiAgICB3aGlsZSAoaSA8IG0pIHtcbiAgICAgIGMgKz0gdGhpc1tpXSArIGFbaV07XG4gICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgfVxuICAgIGlmIChhLnQgPCB0aGlzLnQpIHtcbiAgICAgIGMgKz0gYS5zO1xuICAgICAgd2hpbGUgKGkgPCB0aGlzLnQpIHtcbiAgICAgICAgYyArPSB0aGlzW2ldO1xuICAgICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICAgIH1cbiAgICAgIGMgKz0gdGhpcy5zO1xuICAgIH0gZWxzZSB7XG4gICAgICBjICs9IHRoaXMucztcbiAgICAgIHdoaWxlIChpIDwgYS50KSB7XG4gICAgICAgIGMgKz0gYVtpXTtcbiAgICAgICAgcltpKytdID0gYyAmIHRoaXMuRE07XG4gICAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgICB9XG4gICAgICBjICs9IGEucztcbiAgICB9XG4gICAgci5zID0gYyA8IDAgPyAtMSA6IDA7XG4gICAgaWYgKGMgPiAwKSB7XG4gICAgICByW2krK10gPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA8IC0xKSB7XG4gICAgICByW2krK10gPSB0aGlzLkRWICsgYztcbiAgICB9XG4gICAgci50ID0gaTtcbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRNdWx0aXBseSA9IGJucERNdWx0aXBseTtcbiAgLy8gKHByb3RlY3RlZCkgdGhpcyAqPSBuLCB0aGlzID49IDAsIDEgPCBuIDwgRFZcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZE11bHRpcGx5ID0gZnVuY3Rpb24gKG4pIHtcbiAgICB0aGlzW3RoaXMudF0gPSB0aGlzLmFtKDAsIG4gLSAxLCB0aGlzLCAwLCAwLCB0aGlzLnQpO1xuICAgICsrdGhpcy50O1xuICAgIHRoaXMuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZEFkZE9mZnNldCA9IGJucERBZGRPZmZzZXQ7XG4gIC8vIChwcm90ZWN0ZWQpIHRoaXMgKz0gbiA8PCB3IHdvcmRzLCB0aGlzID49IDBcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZEFkZE9mZnNldCA9IGZ1bmN0aW9uIChuLCB3KSB7XG4gICAgaWYgKG4gPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aGlsZSAodGhpcy50IDw9IHcpIHtcbiAgICAgIHRoaXNbdGhpcy50KytdID0gMDtcbiAgICB9XG4gICAgdGhpc1t3XSArPSBuO1xuICAgIHdoaWxlICh0aGlzW3ddID49IHRoaXMuRFYpIHtcbiAgICAgIHRoaXNbd10gLT0gdGhpcy5EVjtcbiAgICAgIGlmICgrK3cgPj0gdGhpcy50KSB7XG4gICAgICAgIHRoaXNbdGhpcy50KytdID0gMDtcbiAgICAgIH1cbiAgICAgICsrdGhpc1t3XTtcbiAgICB9XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbyA9IGJucE11bHRpcGx5TG93ZXJUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IGxvd2VyIG4gd29yZHMgb2YgXCJ0aGlzICogYVwiLCBhLnQgPD0gblxuICAvLyBcInRoaXNcIiBzaG91bGQgYmUgdGhlIGxhcmdlciBvbmUgaWYgYXBwcm9wcmlhdGUuXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbyA9IGZ1bmN0aW9uIChhLCBuLCByKSB7XG4gICAgdmFyIGkgPSBNYXRoLm1pbih0aGlzLnQgKyBhLnQsIG4pO1xuICAgIHIucyA9IDA7IC8vIGFzc3VtZXMgYSx0aGlzID49IDBcbiAgICByLnQgPSBpO1xuICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgclstLWldID0gMDtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IHIudCAtIHRoaXMudDsgaSA8IGo7ICsraSkge1xuICAgICAgcltpICsgdGhpcy50XSA9IHRoaXMuYW0oMCwgYVtpXSwgciwgaSwgMCwgdGhpcy50KTtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IE1hdGgubWluKGEudCwgbik7IGkgPCBqOyArK2kpIHtcbiAgICAgIHRoaXMuYW0oMCwgYVtpXSwgciwgaSwgMCwgbiAtIGkpO1xuICAgIH1cbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5VXBwZXJUbyA9IGJucE11bHRpcGx5VXBwZXJUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IFwidGhpcyAqIGFcIiB3aXRob3V0IGxvd2VyIG4gd29yZHMsIG4gPiAwXG4gIC8vIFwidGhpc1wiIHNob3VsZCBiZSB0aGUgbGFyZ2VyIG9uZSBpZiBhcHByb3ByaWF0ZS5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlVcHBlclRvID0gZnVuY3Rpb24gKGEsIG4sIHIpIHtcbiAgICAtLW47XG4gICAgdmFyIGkgPSByLnQgPSB0aGlzLnQgKyBhLnQgLSBuO1xuICAgIHIucyA9IDA7IC8vIGFzc3VtZXMgYSx0aGlzID49IDBcbiAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgIHJbaV0gPSAwO1xuICAgIH1cbiAgICBmb3IgKGkgPSBNYXRoLm1heChuIC0gdGhpcy50LCAwKTsgaSA8IGEudDsgKytpKSB7XG4gICAgICByW3RoaXMudCArIGkgLSBuXSA9IHRoaXMuYW0obiAtIGksIGFbaV0sIHIsIDAsIDAsIHRoaXMudCArIGkgLSBuKTtcbiAgICB9XG4gICAgci5jbGFtcCgpO1xuICAgIHIuZHJTaGlmdFRvKDEsIHIpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnQgPSBibnBNb2RJbnQ7XG4gIC8vIChwcm90ZWN0ZWQpIHRoaXMgJSBuLCBuIDwgMl4yNlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnQgPSBmdW5jdGlvbiAobikge1xuICAgIGlmIChuIDw9IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgZCA9IHRoaXMuRFYgJSBuO1xuICAgIHZhciByID0gdGhpcy5zIDwgMCA/IG4gLSAxIDogMDtcbiAgICBpZiAodGhpcy50ID4gMCkge1xuICAgICAgaWYgKGQgPT0gMCkge1xuICAgICAgICByID0gdGhpc1swXSAlIG47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50IC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICByID0gKGQgKiByICsgdGhpc1tpXSkgJSBuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5taWxsZXJSYWJpbiA9IGJucE1pbGxlclJhYmluO1xuICAvLyAocHJvdGVjdGVkKSB0cnVlIGlmIHByb2JhYmx5IHByaW1lIChIQUMgNC4yNCwgTWlsbGVyLVJhYmluKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5taWxsZXJSYWJpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIG4xID0gdGhpcy5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSk7XG4gICAgdmFyIGsgPSBuMS5nZXRMb3dlc3RTZXRCaXQoKTtcbiAgICBpZiAoayA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByID0gbjEuc2hpZnRSaWdodChrKTtcbiAgICB0ID0gdCArIDEgPj4gMTtcbiAgICBpZiAodCA+IGxvd3ByaW1lcy5sZW5ndGgpIHtcbiAgICAgIHQgPSBsb3dwcmltZXMubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYSA9IG5iaSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdDsgKytpKSB7XG4gICAgICAvLyBQaWNrIGJhc2VzIGF0IHJhbmRvbSwgaW5zdGVhZCBvZiBzdGFydGluZyBhdCAyXG4gICAgICBhLmZyb21JbnQobG93cHJpbWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxvd3ByaW1lcy5sZW5ndGgpXSk7XG4gICAgICB2YXIgeSA9IGEubW9kUG93KHIsIHRoaXMpO1xuICAgICAgaWYgKHkuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSAhPSAwICYmIHkuY29tcGFyZVRvKG4xKSAhPSAwKSB7XG4gICAgICAgIHZhciBqID0gMTtcbiAgICAgICAgd2hpbGUgKGorKyA8IGsgJiYgeS5jb21wYXJlVG8objEpICE9IDApIHtcbiAgICAgICAgICB5ID0geS5tb2RQb3dJbnQoMiwgdGhpcyk7XG4gICAgICAgICAgaWYgKHkuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh5LmNvbXBhcmVUbyhuMSkgIT0gMCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlID0gYm5TcXVhcmU7XG4gIC8vIChwdWJsaWMpIHRoaXNeMlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLnNxdWFyZVRvKHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyNyZWdpb24gQVNZTkNcbiAgLy8gUHVibGljIEFQSSBtZXRob2RcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZ2NkYSA9IGZ1bmN0aW9uIChhLCBjYWxsYmFjaykge1xuICAgIHZhciB4ID0gdGhpcy5zIDwgMCA/IHRoaXMubmVnYXRlKCkgOiB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHkgPSBhLnMgPCAwID8gYS5uZWdhdGUoKSA6IGEuY2xvbmUoKTtcbiAgICBpZiAoeC5jb21wYXJlVG8oeSkgPCAwKSB7XG4gICAgICB2YXIgdCA9IHg7XG4gICAgICB4ID0geTtcbiAgICAgIHkgPSB0O1xuICAgIH1cbiAgICB2YXIgaSA9IHguZ2V0TG93ZXN0U2V0Qml0KCk7XG4gICAgdmFyIGcgPSB5LmdldExvd2VzdFNldEJpdCgpO1xuICAgIGlmIChnIDwgMCkge1xuICAgICAgY2FsbGJhY2soeCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpIDwgZykge1xuICAgICAgZyA9IGk7XG4gICAgfVxuICAgIGlmIChnID4gMCkge1xuICAgICAgeC5yU2hpZnRUbyhnLCB4KTtcbiAgICAgIHkuclNoaWZ0VG8oZywgeSk7XG4gICAgfVxuICAgIC8vIFdvcmtob3JzZSBvZiB0aGUgYWxnb3JpdGhtLCBnZXRzIGNhbGxlZCAyMDAgLSA4MDAgdGltZXMgcGVyIDUxMiBiaXQga2V5Z2VuLlxuICAgIHZhciBnY2RhMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgoaSA9IHguZ2V0TG93ZXN0U2V0Qml0KCkpID4gMCkge1xuICAgICAgICB4LnJTaGlmdFRvKGksIHgpO1xuICAgICAgfVxuICAgICAgaWYgKChpID0geS5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwKSB7XG4gICAgICAgIHkuclNoaWZ0VG8oaSwgeSk7XG4gICAgICB9XG4gICAgICBpZiAoeC5jb21wYXJlVG8oeSkgPj0gMCkge1xuICAgICAgICB4LnN1YlRvKHksIHgpO1xuICAgICAgICB4LnJTaGlmdFRvKDEsIHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeS5zdWJUbyh4LCB5KTtcbiAgICAgICAgeS5yU2hpZnRUbygxLCB5KTtcbiAgICAgIH1cbiAgICAgIGlmICghKHguc2lnbnVtKCkgPiAwKSkge1xuICAgICAgICBpZiAoZyA+IDApIHtcbiAgICAgICAgICB5LmxTaGlmdFRvKGcsIHkpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhbGxiYWNrKHkpO1xuICAgICAgICB9LCAwKTsgLy8gZXNjYXBlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KGdjZGExLCAwKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNldFRpbWVvdXQoZ2NkYTEsIDEwKTtcbiAgfTtcbiAgLy8gKHByb3RlY3RlZCkgYWx0ZXJuYXRlIGNvbnN0cnVjdG9yXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21OdW1iZXJBc3luYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBjYWxsYmFjaykge1xuICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBiKSB7XG4gICAgICBpZiAoYSA8IDIpIHtcbiAgICAgICAgdGhpcy5mcm9tSW50KDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mcm9tTnVtYmVyKGEsIGMpO1xuICAgICAgICBpZiAoIXRoaXMudGVzdEJpdChhIC0gMSkpIHtcbiAgICAgICAgICB0aGlzLmJpdHdpc2VUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYSAtIDEpLCBfdXRpbC5vcF9vciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNFdmVuKCkpIHtcbiAgICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJucF8xID0gdGhpcztcbiAgICAgICAgdmFyIGJucGZuMV8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGJucF8xLmRBZGRPZmZzZXQoMiwgMCk7XG4gICAgICAgICAgaWYgKGJucF8xLmJpdExlbmd0aCgpID4gYSkge1xuICAgICAgICAgICAgYm5wXzEuc3ViVG8oQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGEgLSAxKSwgYm5wXzEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYm5wXzEuaXNQcm9iYWJsZVByaW1lKGIpKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0sIDApOyAvLyBlc2NhcGVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChibnBmbjFfMSwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KGJucGZuMV8xLCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHggPSBbXTtcbiAgICAgIHZhciB0ID0gYSAmIDc7XG4gICAgICB4Lmxlbmd0aCA9IChhID4+IDMpICsgMTtcbiAgICAgIGIubmV4dEJ5dGVzKHgpO1xuICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgIHhbMF0gJj0gKDEgPDwgdCkgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeFswXSA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLmZyb21TdHJpbmcoeCwgMjU2KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBCaWdJbnRlZ2VyO1xufSgpO1xuLy8jcmVnaW9uIFJFRFVDRVJTXG4vLyNyZWdpb24gTnVsbEV4cFxudmFyIE51bGxFeHAgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBOdWxsRXhwKCkge31cbiAgLy8gTnVsbEV4cC5wcm90b3R5cGUuY29udmVydCA9IG5Ob3A7XG4gIE51bGxFeHAucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xuICAvLyBOdWxsRXhwLnByb3RvdHlwZS5yZXZlcnQgPSBuTm9wO1xuICBOdWxsRXhwLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xuICAvLyBOdWxsRXhwLnByb3RvdHlwZS5tdWxUbyA9IG5NdWxUbztcbiAgTnVsbEV4cC5wcm90b3R5cGUubXVsVG8gPSBmdW5jdGlvbiAoeCwgeSwgcikge1xuICAgIHgubXVsdGlwbHlUbyh5LCByKTtcbiAgfTtcbiAgLy8gTnVsbEV4cC5wcm90b3R5cGUuc3FyVG8gPSBuU3FyVG87XG4gIE51bGxFeHAucHJvdG90eXBlLnNxclRvID0gZnVuY3Rpb24gKHgsIHIpIHtcbiAgICB4LnNxdWFyZVRvKHIpO1xuICB9O1xuICByZXR1cm4gTnVsbEV4cDtcbn0oKTtcbi8vIE1vZHVsYXIgcmVkdWN0aW9uIHVzaW5nIFwiY2xhc3NpY1wiIGFsZ29yaXRobVxudmFyIENsYXNzaWMgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDbGFzc2ljKG0pIHtcbiAgICB0aGlzLm0gPSBtO1xuICB9XG4gIC8vIENsYXNzaWMucHJvdG90eXBlLmNvbnZlcnQgPSBjQ29udmVydDtcbiAgQ2xhc3NpYy5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgaWYgKHgucyA8IDAgfHwgeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB7XG4gICAgICByZXR1cm4geC5tb2QodGhpcy5tKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICAvLyBDbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQgPSBjUmV2ZXJ0O1xuICBDbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xuICAvLyBDbGFzc2ljLnByb3RvdHlwZS5yZWR1Y2UgPSBjUmVkdWNlO1xuICBDbGFzc2ljLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoeCkge1xuICAgIHguZGl2UmVtVG8odGhpcy5tLCBudWxsLCB4KTtcbiAgfTtcbiAgLy8gQ2xhc3NpYy5wcm90b3R5cGUubXVsVG8gPSBjTXVsVG87XG4gIENsYXNzaWMucHJvdG90eXBlLm11bFRvID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICB4Lm11bHRpcGx5VG8oeSwgcik7XG4gICAgdGhpcy5yZWR1Y2Uocik7XG4gIH07XG4gIC8vIENsYXNzaWMucHJvdG90eXBlLnNxclRvID0gY1NxclRvO1xuICBDbGFzc2ljLnByb3RvdHlwZS5zcXJUbyA9IGZ1bmN0aW9uICh4LCByKSB7XG4gICAgeC5zcXVhcmVUbyhyKTtcbiAgICB0aGlzLnJlZHVjZShyKTtcbiAgfTtcbiAgcmV0dXJuIENsYXNzaWM7XG59KCk7XG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBNb250Z29tZXJ5XG4vLyBNb250Z29tZXJ5IHJlZHVjdGlvblxudmFyIE1vbnRnb21lcnkgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNb250Z29tZXJ5KG0pIHtcbiAgICB0aGlzLm0gPSBtO1xuICAgIHRoaXMubXAgPSBtLmludkRpZ2l0KCk7XG4gICAgdGhpcy5tcGwgPSB0aGlzLm1wICYgMHg3ZmZmO1xuICAgIHRoaXMubXBoID0gdGhpcy5tcCA+PiAxNTtcbiAgICB0aGlzLnVtID0gKDEgPDwgbS5EQiAtIDE1KSAtIDE7XG4gICAgdGhpcy5tdDIgPSAyICogbS50O1xuICB9XG4gIC8vIE1vbnRnb21lcnkucHJvdG90eXBlLmNvbnZlcnQgPSBtb250Q29udmVydDtcbiAgLy8geFIgbW9kIG1cbiAgTW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB4LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCwgcik7XG4gICAgci5kaXZSZW1Ubyh0aGlzLm0sIG51bGwsIHIpO1xuICAgIGlmICh4LnMgPCAwICYmIHIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTykgPiAwKSB7XG4gICAgICB0aGlzLm0uc3ViVG8ociwgcik7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5yZXZlcnQgPSBtb250UmV2ZXJ0O1xuICAvLyB4L1IgbW9kIG1cbiAgTW9udGdvbWVyeS5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHguY29weVRvKHIpO1xuICAgIHRoaXMucmVkdWNlKHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5yZWR1Y2UgPSBtb250UmVkdWNlO1xuICAvLyB4ID0geC9SIG1vZCBtIChIQUMgMTQuMzIpXG4gIE1vbnRnb21lcnkucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgd2hpbGUgKHgudCA8PSB0aGlzLm10Mikge1xuICAgICAgLy8gcGFkIHggc28gYW0gaGFzIGVub3VnaCByb29tIGxhdGVyXG4gICAgICB4W3gudCsrXSA9IDA7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tLnQ7ICsraSkge1xuICAgICAgLy8gZmFzdGVyIHdheSBvZiBjYWxjdWxhdGluZyB1MCA9IHhbaV0qbXAgbW9kIERWXG4gICAgICB2YXIgaiA9IHhbaV0gJiAweDdmZmY7XG4gICAgICB2YXIgdTAgPSBqICogdGhpcy5tcGwgKyAoKGogKiB0aGlzLm1waCArICh4W2ldID4+IDE1KSAqIHRoaXMubXBsICYgdGhpcy51bSkgPDwgMTUpICYgeC5ETTtcbiAgICAgIC8vIHVzZSBhbSB0byBjb21iaW5lIHRoZSBtdWx0aXBseS1zaGlmdC1hZGQgaW50byBvbmUgY2FsbFxuICAgICAgaiA9IGkgKyB0aGlzLm0udDtcbiAgICAgIHhbal0gKz0gdGhpcy5tLmFtKDAsIHUwLCB4LCBpLCAwLCB0aGlzLm0udCk7XG4gICAgICAvLyBwcm9wYWdhdGUgY2FycnlcbiAgICAgIHdoaWxlICh4W2pdID49IHguRFYpIHtcbiAgICAgICAgeFtqXSAtPSB4LkRWO1xuICAgICAgICB4Wysral0rKztcbiAgICAgIH1cbiAgICB9XG4gICAgeC5jbGFtcCgpO1xuICAgIHguZHJTaGlmdFRvKHRoaXMubS50LCB4KTtcbiAgICBpZiAoeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB7XG4gICAgICB4LnN1YlRvKHRoaXMubSwgeCk7XG4gICAgfVxuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5tdWxUbyA9IG1vbnRNdWxUbztcbiAgLy8gciA9IFwieHkvUiBtb2QgbVwiOyB4LHkgIT0gclxuICBNb250Z29tZXJ5LnByb3RvdHlwZS5tdWxUbyA9IGZ1bmN0aW9uICh4LCB5LCByKSB7XG4gICAgeC5tdWx0aXBseVRvKHksIHIpO1xuICAgIHRoaXMucmVkdWNlKHIpO1xuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5zcXJUbyA9IG1vbnRTcXJUbztcbiAgLy8gciA9IFwieF4yL1IgbW9kIG1cIjsgeCAhPSByXG4gIE1vbnRnb21lcnkucHJvdG90eXBlLnNxclRvID0gZnVuY3Rpb24gKHgsIHIpIHtcbiAgICB4LnNxdWFyZVRvKHIpO1xuICAgIHRoaXMucmVkdWNlKHIpO1xuICB9O1xuICByZXR1cm4gTW9udGdvbWVyeTtcbn0oKTtcbi8vI2VuZHJlZ2lvbiBNb250Z29tZXJ5XG4vLyNyZWdpb24gQmFycmV0dFxuLy8gQmFycmV0dCBtb2R1bGFyIHJlZHVjdGlvblxudmFyIEJhcnJldHQgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCYXJyZXR0KG0pIHtcbiAgICB0aGlzLm0gPSBtO1xuICAgIC8vIHNldHVwIEJhcnJldHRcbiAgICB0aGlzLnIyID0gbmJpKCk7XG4gICAgdGhpcy5xMyA9IG5iaSgpO1xuICAgIEJpZ0ludGVnZXIuT05FLmRsU2hpZnRUbygyICogbS50LCB0aGlzLnIyKTtcbiAgICB0aGlzLm11ID0gdGhpcy5yMi5kaXZpZGUobSk7XG4gIH1cbiAgLy8gQmFycmV0dC5wcm90b3R5cGUuY29udmVydCA9IGJhcnJldHRDb252ZXJ0O1xuICBCYXJyZXR0LnByb3RvdHlwZS5jb252ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICBpZiAoeC5zIDwgMCB8fCB4LnQgPiAyICogdGhpcy5tLnQpIHtcbiAgICAgIHJldHVybiB4Lm1vZCh0aGlzLm0pO1xuICAgIH0gZWxzZSBpZiAoeC5jb21wYXJlVG8odGhpcy5tKSA8IDApIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgciA9IG5iaSgpO1xuICAgICAgeC5jb3B5VG8ocik7XG4gICAgICB0aGlzLnJlZHVjZShyKTtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfTtcbiAgLy8gQmFycmV0dC5wcm90b3R5cGUucmV2ZXJ0ID0gYmFycmV0dFJldmVydDtcbiAgQmFycmV0dC5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcbiAgLy8gQmFycmV0dC5wcm90b3R5cGUucmVkdWNlID0gYmFycmV0dFJlZHVjZTtcbiAgLy8geCA9IHggbW9kIG0gKEhBQyAxNC40MilcbiAgQmFycmV0dC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKHgpIHtcbiAgICB4LmRyU2hpZnRUbyh0aGlzLm0udCAtIDEsIHRoaXMucjIpO1xuICAgIGlmICh4LnQgPiB0aGlzLm0udCArIDEpIHtcbiAgICAgIHgudCA9IHRoaXMubS50ICsgMTtcbiAgICAgIHguY2xhbXAoKTtcbiAgICB9XG4gICAgdGhpcy5tdS5tdWx0aXBseVVwcGVyVG8odGhpcy5yMiwgdGhpcy5tLnQgKyAxLCB0aGlzLnEzKTtcbiAgICB0aGlzLm0ubXVsdGlwbHlMb3dlclRvKHRoaXMucTMsIHRoaXMubS50ICsgMSwgdGhpcy5yMik7XG4gICAgd2hpbGUgKHguY29tcGFyZVRvKHRoaXMucjIpIDwgMCkge1xuICAgICAgeC5kQWRkT2Zmc2V0KDEsIHRoaXMubS50ICsgMSk7XG4gICAgfVxuICAgIHguc3ViVG8odGhpcy5yMiwgeCk7XG4gICAgd2hpbGUgKHguY29tcGFyZVRvKHRoaXMubSkgPj0gMCkge1xuICAgICAgeC5zdWJUbyh0aGlzLm0sIHgpO1xuICAgIH1cbiAgfTtcbiAgLy8gQmFycmV0dC5wcm90b3R5cGUubXVsVG8gPSBiYXJyZXR0TXVsVG87XG4gIC8vIHIgPSB4KnkgbW9kIG07IHgseSAhPSByXG4gIEJhcnJldHQucHJvdG90eXBlLm11bFRvID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICB4Lm11bHRpcGx5VG8oeSwgcik7XG4gICAgdGhpcy5yZWR1Y2Uocik7XG4gIH07XG4gIC8vIEJhcnJldHQucHJvdG90eXBlLnNxclRvID0gYmFycmV0dFNxclRvO1xuICAvLyByID0geF4yIG1vZCBtOyB4ICE9IHJcbiAgQmFycmV0dC5wcm90b3R5cGUuc3FyVG8gPSBmdW5jdGlvbiAoeCwgcikge1xuICAgIHguc3F1YXJlVG8ocik7XG4gICAgdGhpcy5yZWR1Y2Uocik7XG4gIH07XG4gIHJldHVybiBCYXJyZXR0O1xufSgpO1xuLy8jZW5kcmVnaW9uXG4vLyNlbmRyZWdpb24gUkVEVUNFUlNcbi8vIHJldHVybiBuZXcsIHVuc2V0IEJpZ0ludGVnZXJcbmZ1bmN0aW9uIG5iaSgpIHtcbiAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKG51bGwpO1xufVxuZnVuY3Rpb24gcGFyc2VCaWdJbnQoc3RyLCByKSB7XG4gIHJldHVybiBuZXcgQmlnSW50ZWdlcihzdHIsIHIpO1xufVxuLy8gYW06IENvbXB1dGUgd19qICs9ICh4KnRoaXNfaSksIHByb3BhZ2F0ZSBjYXJyaWVzLFxuLy8gYyBpcyBpbml0aWFsIGNhcnJ5LCByZXR1cm5zIGZpbmFsIGNhcnJ5LlxuLy8gYyA8IDMqZHZhbHVlLCB4IDwgMipkdmFsdWUsIHRoaXNfaSA8IGR2YWx1ZVxuLy8gV2UgbmVlZCB0byBzZWxlY3QgdGhlIGZhc3Rlc3Qgb25lIHRoYXQgd29ya3MgaW4gdGhpcyBlbnZpcm9ubWVudC5cbnZhciBpbkJyb3dzZXIgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiO1xuaWYgKGluQnJvd3NlciAmJiBqX2xtICYmIG5hdmlnYXRvci5hcHBOYW1lID09IFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIpIHtcbiAgLy8gYW0yIGF2b2lkcyBhIGJpZyBtdWx0LWFuZC1leHRyYWN0IGNvbXBsZXRlbHkuXG4gIC8vIE1heCBkaWdpdCBiaXRzIHNob3VsZCBiZSA8PSAzMCBiZWNhdXNlIHdlIGRvIGJpdHdpc2Ugb3BzXG4gIC8vIG9uIHZhbHVlcyB1cCB0byAyKmhkdmFsdWVeMi1oZHZhbHVlLTEgKDwgMl4zMSlcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYW0gPSBmdW5jdGlvbiBhbTIoaSwgeCwgdywgaiwgYywgbikge1xuICAgIHZhciB4bCA9IHggJiAweDdmZmY7XG4gICAgdmFyIHhoID0geCA+PiAxNTtcbiAgICB3aGlsZSAoLS1uID49IDApIHtcbiAgICAgIHZhciBsID0gdGhpc1tpXSAmIDB4N2ZmZjtcbiAgICAgIHZhciBoID0gdGhpc1tpKytdID4+IDE1O1xuICAgICAgdmFyIG0gPSB4aCAqIGwgKyBoICogeGw7XG4gICAgICBsID0geGwgKiBsICsgKChtICYgMHg3ZmZmKSA8PCAxNSkgKyB3W2pdICsgKGMgJiAweDNmZmZmZmZmKTtcbiAgICAgIGMgPSAobCA+Pj4gMzApICsgKG0gPj4+IDE1KSArIHhoICogaCArIChjID4+PiAzMCk7XG4gICAgICB3W2orK10gPSBsICYgMHgzZmZmZmZmZjtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG4gIH07XG4gIGRiaXRzID0gMzA7XG59IGVsc2UgaWYgKGluQnJvd3NlciAmJiBqX2xtICYmIG5hdmlnYXRvci5hcHBOYW1lICE9IFwiTmV0c2NhcGVcIikge1xuICAvLyBhbTE6IHVzZSBhIHNpbmdsZSBtdWx0IGFuZCBkaXZpZGUgdG8gZ2V0IHRoZSBoaWdoIGJpdHMsXG4gIC8vIG1heCBkaWdpdCBiaXRzIHNob3VsZCBiZSAyNiBiZWNhdXNlXG4gIC8vIG1heCBpbnRlcm5hbCB2YWx1ZSA9IDIqZHZhbHVlXjItMipkdmFsdWUgKDwgMl41MylcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYW0gPSBmdW5jdGlvbiBhbTEoaSwgeCwgdywgaiwgYywgbikge1xuICAgIHdoaWxlICgtLW4gPj0gMCkge1xuICAgICAgdmFyIHYgPSB4ICogdGhpc1tpKytdICsgd1tqXSArIGM7XG4gICAgICBjID0gTWF0aC5mbG9vcih2IC8gMHg0MDAwMDAwKTtcbiAgICAgIHdbaisrXSA9IHYgJiAweDNmZmZmZmY7XG4gICAgfVxuICAgIHJldHVybiBjO1xuICB9O1xuICBkYml0cyA9IDI2O1xufSBlbHNlIHtcbiAgLy8gTW96aWxsYS9OZXRzY2FwZSBzZWVtcyB0byBwcmVmZXIgYW0zXG4gIC8vIEFsdGVybmF0ZWx5LCBzZXQgbWF4IGRpZ2l0IGJpdHMgdG8gMjggc2luY2Ugc29tZVxuICAvLyBicm93c2VycyBzbG93IGRvd24gd2hlbiBkZWFsaW5nIHdpdGggMzItYml0IG51bWJlcnMuXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmFtID0gZnVuY3Rpb24gYW0zKGksIHgsIHcsIGosIGMsIG4pIHtcbiAgICB2YXIgeGwgPSB4ICYgMHgzZmZmO1xuICAgIHZhciB4aCA9IHggPj4gMTQ7XG4gICAgd2hpbGUgKC0tbiA+PSAwKSB7XG4gICAgICB2YXIgbCA9IHRoaXNbaV0gJiAweDNmZmY7XG4gICAgICB2YXIgaCA9IHRoaXNbaSsrXSA+PiAxNDtcbiAgICAgIHZhciBtID0geGggKiBsICsgaCAqIHhsO1xuICAgICAgbCA9IHhsICogbCArICgobSAmIDB4M2ZmZikgPDwgMTQpICsgd1tqXSArIGM7XG4gICAgICBjID0gKGwgPj4gMjgpICsgKG0gPj4gMTQpICsgeGggKiBoO1xuICAgICAgd1tqKytdID0gbCAmIDB4ZmZmZmZmZjtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG4gIH07XG4gIGRiaXRzID0gMjg7XG59XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5EQiA9IGRiaXRzO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRE0gPSAoMSA8PCBkYml0cykgLSAxO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRFYgPSAxIDw8IGRiaXRzO1xudmFyIEJJX0ZQID0gNTI7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5GViA9IE1hdGgucG93KDIsIEJJX0ZQKTtcbkJpZ0ludGVnZXIucHJvdG90eXBlLkYxID0gQklfRlAgLSBkYml0cztcbkJpZ0ludGVnZXIucHJvdG90eXBlLkYyID0gMiAqIGRiaXRzIC0gQklfRlA7XG4vLyBEaWdpdCBjb252ZXJzaW9uc1xudmFyIEJJX1JDID0gW107XG52YXIgcnI7XG52YXIgdnY7XG5yciA9IFwiMFwiLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMDsgdnYgPD0gOTsgKyt2dikge1xuICBCSV9SQ1tycisrXSA9IHZ2O1xufVxucnIgPSBcImFcIi5jaGFyQ29kZUF0KDApO1xuZm9yICh2diA9IDEwOyB2diA8IDM2OyArK3Z2KSB7XG4gIEJJX1JDW3JyKytdID0gdnY7XG59XG5yciA9IFwiQVwiLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMTA7IHZ2IDwgMzY7ICsrdnYpIHtcbiAgQklfUkNbcnIrK10gPSB2djtcbn1cbmZ1bmN0aW9uIGludEF0KHMsIGkpIHtcbiAgdmFyIGMgPSBCSV9SQ1tzLmNoYXJDb2RlQXQoaSldO1xuICByZXR1cm4gYyA9PSBudWxsID8gLTEgOiBjO1xufVxuLy8gcmV0dXJuIGJpZ2ludCBpbml0aWFsaXplZCB0byB2YWx1ZVxuZnVuY3Rpb24gbmJ2KGkpIHtcbiAgdmFyIHIgPSBuYmkoKTtcbiAgci5mcm9tSW50KGkpO1xuICByZXR1cm4gcjtcbn1cbi8vIHJldHVybnMgYml0IGxlbmd0aCBvZiB0aGUgaW50ZWdlciB4XG5mdW5jdGlvbiBuYml0cyh4KSB7XG4gIHZhciByID0gMTtcbiAgdmFyIHQ7XG4gIGlmICgodCA9IHggPj4+IDE2KSAhPSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSAxNjtcbiAgfVxuICBpZiAoKHQgPSB4ID4+IDgpICE9IDApIHtcbiAgICB4ID0gdDtcbiAgICByICs9IDg7XG4gIH1cbiAgaWYgKCh0ID0geCA+PiA0KSAhPSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSA0O1xuICB9XG4gIGlmICgodCA9IHggPj4gMikgIT0gMCkge1xuICAgIHggPSB0O1xuICAgIHIgKz0gMjtcbiAgfVxuICBpZiAoKHQgPSB4ID4+IDEpICE9IDApIHtcbiAgICB4ID0gdDtcbiAgICByICs9IDE7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG4vLyBcImNvbnN0YW50c1wiXG5CaWdJbnRlZ2VyLlpFUk8gPSBuYnYoMCk7XG5CaWdJbnRlZ2VyLk9ORSA9IG5idigxKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQXJjZm91ciA9IHZvaWQgMDtcbmV4cG9ydHMucHJuZ19uZXdzdGF0ZSA9IHBybmdfbmV3c3RhdGU7XG5leHBvcnRzLnJuZ19wc2l6ZSA9IHZvaWQgMDtcbi8vIHBybmc0LmpzIC0gdXNlcyBBcmNmb3VyIGFzIGEgUFJOR1xudmFyIEFyY2ZvdXIgPSBleHBvcnRzLkFyY2ZvdXIgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBcmNmb3VyKCkge1xuICAgIHRoaXMuaSA9IDA7XG4gICAgdGhpcy5qID0gMDtcbiAgICB0aGlzLlMgPSBbXTtcbiAgfVxuICAvLyBBcmNmb3VyLnByb3RvdHlwZS5pbml0ID0gQVJDNGluaXQ7XG4gIC8vIEluaXRpYWxpemUgYXJjZm91ciBjb250ZXh0IGZyb20ga2V5LCBhbiBhcnJheSBvZiBpbnRzLCBlYWNoIGZyb20gWzAuLjI1NV1cbiAgQXJjZm91ci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgajtcbiAgICB2YXIgdDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgIHRoaXMuU1tpXSA9IGk7XG4gICAgfVxuICAgIGogPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgaiA9IGogKyB0aGlzLlNbaV0gKyBrZXlbaSAlIGtleS5sZW5ndGhdICYgMjU1O1xuICAgICAgdCA9IHRoaXMuU1tpXTtcbiAgICAgIHRoaXMuU1tpXSA9IHRoaXMuU1tqXTtcbiAgICAgIHRoaXMuU1tqXSA9IHQ7XG4gICAgfVxuICAgIHRoaXMuaSA9IDA7XG4gICAgdGhpcy5qID0gMDtcbiAgfTtcbiAgLy8gQXJjZm91ci5wcm90b3R5cGUubmV4dCA9IEFSQzRuZXh0O1xuICBBcmNmb3VyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0O1xuICAgIHRoaXMuaSA9IHRoaXMuaSArIDEgJiAyNTU7XG4gICAgdGhpcy5qID0gdGhpcy5qICsgdGhpcy5TW3RoaXMuaV0gJiAyNTU7XG4gICAgdCA9IHRoaXMuU1t0aGlzLmldO1xuICAgIHRoaXMuU1t0aGlzLmldID0gdGhpcy5TW3RoaXMual07XG4gICAgdGhpcy5TW3RoaXMual0gPSB0O1xuICAgIHJldHVybiB0aGlzLlNbdCArIHRoaXMuU1t0aGlzLmldICYgMjU1XTtcbiAgfTtcbiAgcmV0dXJuIEFyY2ZvdXI7XG59KCk7XG4vLyBQbHVnIGluIHlvdXIgUk5HIGNvbnN0cnVjdG9yIGhlcmVcbmZ1bmN0aW9uIHBybmdfbmV3c3RhdGUoKSB7XG4gIHJldHVybiBuZXcgQXJjZm91cigpO1xufVxuLy8gUG9vbCBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0IGFuZCBncmVhdGVyIHRoYW4gMzIuXG4vLyBBbiBhcnJheSBvZiBieXRlcyB0aGUgc2l6ZSBvZiB0aGUgcG9vbCB3aWxsIGJlIHBhc3NlZCB0byBpbml0KClcbnZhciBybmdfcHNpemUgPSBleHBvcnRzLnJuZ19wc2l6ZSA9IDI1NjsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU2VjdXJlUmFuZG9tID0gdm9pZCAwO1xudmFyIF9wcm5nID0gcmVxdWlyZShcIi4vcHJuZzRcIik7XG4vLyBSYW5kb20gbnVtYmVyIGdlbmVyYXRvciAtIHJlcXVpcmVzIGEgUFJORyBiYWNrZW5kLCBlLmcuIHBybmc0LmpzXG5cbnZhciBybmdfc3RhdGU7XG52YXIgcm5nX3Bvb2wgPSBudWxsO1xudmFyIHJuZ19wcHRyO1xuLy8gSW5pdGlhbGl6ZSB0aGUgcG9vbCB3aXRoIGp1bmsgaWYgbmVlZGVkLlxuaWYgKHJuZ19wb29sID09IG51bGwpIHtcbiAgcm5nX3Bvb2wgPSBbXTtcbiAgcm5nX3BwdHIgPSAwO1xuICB2YXIgdCA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jcnlwdG8gJiYgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBFeHRyYWN0IGVudHJvcHkgKDIwNDggYml0cykgZnJvbSBSTkcgaWYgYXZhaWxhYmxlXG4gICAgdmFyIHogPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh6KTtcbiAgICBmb3IgKHQgPSAwOyB0IDwgei5sZW5ndGg7ICsrdCkge1xuICAgICAgcm5nX3Bvb2xbcm5nX3BwdHIrK10gPSB6W3RdICYgMjU1O1xuICAgIH1cbiAgfVxuICAvLyBVc2UgbW91c2UgZXZlbnRzIGZvciBlbnRyb3B5LCBpZiB3ZSBkbyBub3QgaGF2ZSBlbm91Z2ggZW50cm9weSBieSB0aGUgdGltZVxuICAvLyB3ZSBuZWVkIGl0LCBlbnRyb3B5IHdpbGwgYmUgZ2VuZXJhdGVkIGJ5IE1hdGgucmFuZG9tLlxuICB2YXIgY291bnQgPSAwO1xuICB2YXIgb25Nb3VzZU1vdmVMaXN0ZW5lcl8xID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgY291bnQgPSBjb3VudCB8fCAwO1xuICAgIGlmIChjb3VudCA+PSAyNTYgfHwgcm5nX3BwdHIgPj0gX3Bybmcucm5nX3BzaXplKSB7XG4gICAgICBpZiAod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3VzZU1vdmVMaXN0ZW5lcl8xLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kZXRhY2hFdmVudCkge1xuICAgICAgICB3aW5kb3cuZGV0YWNoRXZlbnQoXCJvbm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZUxpc3RlbmVyXzEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdmFyIG1vdXNlQ29vcmRpbmF0ZXMgPSBldi54ICsgZXYueTtcbiAgICAgIHJuZ19wb29sW3JuZ19wcHRyKytdID0gbW91c2VDb29yZGluYXRlcyAmIDI1NTtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU29tZXRpbWVzIEZpcmVmb3ggd2lsbCBkZW55IHBlcm1pc3Npb24gdG8gYWNjZXNzIGV2ZW50IHByb3BlcnRpZXMgZm9yIHNvbWUgcmVhc29uLiBJZ25vcmUuXG4gICAgfVxuICB9O1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlTGlzdGVuZXJfMSwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XG4gICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZUxpc3RlbmVyXzEpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcm5nX2dldF9ieXRlKCkge1xuICBpZiAocm5nX3N0YXRlID09IG51bGwpIHtcbiAgICBybmdfc3RhdGUgPSAoMCwgX3BybmcucHJuZ19uZXdzdGF0ZSkoKTtcbiAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBtYXkgbm90IGhhdmUgY29sbGVjdGVkIGVub3VnaCBlbnRyb3B5LiAgSWYgbm90LCBmYWxsIGJhY2sgdG8gTWF0aC5yYW5kb21cbiAgICB3aGlsZSAocm5nX3BwdHIgPCBfcHJuZy5ybmdfcHNpemUpIHtcbiAgICAgIHZhciByYW5kb20gPSBNYXRoLmZsb29yKDY1NTM2ICogTWF0aC5yYW5kb20oKSk7XG4gICAgICBybmdfcG9vbFtybmdfcHB0cisrXSA9IHJhbmRvbSAmIDI1NTtcbiAgICB9XG4gICAgcm5nX3N0YXRlLmluaXQocm5nX3Bvb2wpO1xuICAgIGZvciAocm5nX3BwdHIgPSAwOyBybmdfcHB0ciA8IHJuZ19wb29sLmxlbmd0aDsgKytybmdfcHB0cikge1xuICAgICAgcm5nX3Bvb2xbcm5nX3BwdHJdID0gMDtcbiAgICB9XG4gICAgcm5nX3BwdHIgPSAwO1xuICB9XG4gIC8vIFRPRE86IGFsbG93IHJlc2VlZGluZyBhZnRlciBmaXJzdCByZXF1ZXN0XG4gIHJldHVybiBybmdfc3RhdGUubmV4dCgpO1xufVxudmFyIFNlY3VyZVJhbmRvbSA9IGV4cG9ydHMuU2VjdXJlUmFuZG9tID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VjdXJlUmFuZG9tKCkge31cbiAgU2VjdXJlUmFuZG9tLnByb3RvdHlwZS5uZXh0Qnl0ZXMgPSBmdW5jdGlvbiAoYmEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhLmxlbmd0aDsgKytpKSB7XG4gICAgICBiYVtpXSA9IHJuZ19nZXRfYnl0ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFNlY3VyZVJhbmRvbTtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuUlNBS2V5ID0gdm9pZCAwO1xudmFyIF9qc2JuID0gcmVxdWlyZShcIi4vanNiblwiKTtcbnZhciBfcm5nID0gcmVxdWlyZShcIi4vcm5nXCIpO1xuLy8gRGVwZW5kcyBvbiBqc2JuLmpzIGFuZCBybmcuanNcbi8vIFZlcnNpb24gMS4xOiBzdXBwb3J0IHV0Zi04IGVuY29kaW5nIGluIHBrY3MxcGFkMlxuLy8gY29udmVydCBhIChoZXgpIHN0cmluZyB0byBhIGJpZ251bSBvYmplY3RcblxuLy8gZnVuY3Rpb24gbGluZWJyayhzLG4pIHtcbi8vICAgdmFyIHJldCA9IFwiXCI7XG4vLyAgIHZhciBpID0gMDtcbi8vICAgd2hpbGUoaSArIG4gPCBzLmxlbmd0aCkge1xuLy8gICAgIHJldCArPSBzLnN1YnN0cmluZyhpLGkrbikgKyBcIlxcblwiO1xuLy8gICAgIGkgKz0gbjtcbi8vICAgfVxuLy8gICByZXR1cm4gcmV0ICsgcy5zdWJzdHJpbmcoaSxzLmxlbmd0aCk7XG4vLyB9XG4vLyBmdW5jdGlvbiBieXRlMkhleChiKSB7XG4vLyAgIGlmKGIgPCAweDEwKVxuLy8gICAgIHJldHVybiBcIjBcIiArIGIudG9TdHJpbmcoMTYpO1xuLy8gICBlbHNlXG4vLyAgICAgcmV0dXJuIGIudG9TdHJpbmcoMTYpO1xuLy8gfVxuZnVuY3Rpb24gcGtjczFwYWQxKHMsIG4pIHtcbiAgaWYgKG4gPCBzLmxlbmd0aCArIDIyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbGVuID0gbiAtIHMubGVuZ3RoIC0gNjtcbiAgdmFyIGZpbGxlciA9IFwiXCI7XG4gIGZvciAodmFyIGYgPSAwOyBmIDwgbGVuOyBmICs9IDIpIHtcbiAgICBmaWxsZXIgKz0gXCJmZlwiO1xuICB9XG4gIHZhciBtID0gXCIwMDAxXCIgKyBmaWxsZXIgKyBcIjAwXCIgKyBzO1xuICByZXR1cm4gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShtLCAxNik7XG59XG4vLyBQS0NTIzEgKHR5cGUgMiwgcmFuZG9tKSBwYWQgaW5wdXQgc3RyaW5nIHMgdG8gbiBieXRlcywgYW5kIHJldHVybiBhIGJpZ2ludFxuZnVuY3Rpb24gcGtjczFwYWQyKHMsIG4pIHtcbiAgaWYgKG4gPCBzLmxlbmd0aCArIDExKSB7XG4gICAgLy8gVE9ETzogZml4IGZvciB1dGYtOFxuICAgIGNvbnNvbGUuZXJyb3IoXCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0FcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGJhID0gW107XG4gIHZhciBpID0gcy5sZW5ndGggLSAxO1xuICB3aGlsZSAoaSA+PSAwICYmIG4gPiAwKSB7XG4gICAgdmFyIGMgPSBzLmNoYXJDb2RlQXQoaS0tKTtcbiAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgLy8gZW5jb2RlIHVzaW5nIHV0Zi04XG4gICAgICBiYVstLW5dID0gYztcbiAgICB9IGVsc2UgaWYgKGMgPiAxMjcgJiYgYyA8IDIwNDgpIHtcbiAgICAgIGJhWy0tbl0gPSBjICYgNjMgfCAxMjg7XG4gICAgICBiYVstLW5dID0gYyA+PiA2IHwgMTkyO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYVstLW5dID0gYyAmIDYzIHwgMTI4O1xuICAgICAgYmFbLS1uXSA9IGMgPj4gNiAmIDYzIHwgMTI4O1xuICAgICAgYmFbLS1uXSA9IGMgPj4gMTIgfCAyMjQ7XG4gICAgfVxuICB9XG4gIGJhWy0tbl0gPSAwO1xuICB2YXIgcm5nID0gbmV3IF9ybmcuU2VjdXJlUmFuZG9tKCk7XG4gIHZhciB4ID0gW107XG4gIHdoaWxlIChuID4gMikge1xuICAgIC8vIHJhbmRvbSBub24temVybyBwYWRcbiAgICB4WzBdID0gMDtcbiAgICB3aGlsZSAoeFswXSA9PSAwKSB7XG4gICAgICBybmcubmV4dEJ5dGVzKHgpO1xuICAgIH1cbiAgICBiYVstLW5dID0geFswXTtcbiAgfVxuICBiYVstLW5dID0gMjtcbiAgYmFbLS1uXSA9IDA7XG4gIHJldHVybiBuZXcgX2pzYm4uQmlnSW50ZWdlcihiYSk7XG59XG4vLyBcImVtcHR5XCIgUlNBIGtleSBjb25zdHJ1Y3RvclxudmFyIFJTQUtleSA9IGV4cG9ydHMuUlNBS2V5ID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUlNBS2V5KCkge1xuICAgIHRoaXMubiA9IG51bGw7XG4gICAgdGhpcy5lID0gMDtcbiAgICB0aGlzLmQgPSBudWxsO1xuICAgIHRoaXMucCA9IG51bGw7XG4gICAgdGhpcy5xID0gbnVsbDtcbiAgICB0aGlzLmRtcDEgPSBudWxsO1xuICAgIHRoaXMuZG1xMSA9IG51bGw7XG4gICAgdGhpcy5jb2VmZiA9IG51bGw7XG4gIH1cbiAgLy8jcmVnaW9uIFBST1RFQ1RFRFxuICAvLyBwcm90ZWN0ZWRcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5kb1B1YmxpYyA9IFJTQURvUHVibGljO1xuICAvLyBQZXJmb3JtIHJhdyBwdWJsaWMgb3BlcmF0aW9uIG9uIFwieFwiOiByZXR1cm4geF5lIChtb2QgbilcbiAgUlNBS2V5LnByb3RvdHlwZS5kb1B1YmxpYyA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHgubW9kUG93SW50KHRoaXMuZSwgdGhpcy5uKTtcbiAgfTtcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5kb1ByaXZhdGUgPSBSU0FEb1ByaXZhdGU7XG4gIC8vIFBlcmZvcm0gcmF3IHByaXZhdGUgb3BlcmF0aW9uIG9uIFwieFwiOiByZXR1cm4geF5kIChtb2QgbilcbiAgUlNBS2V5LnByb3RvdHlwZS5kb1ByaXZhdGUgPSBmdW5jdGlvbiAoeCkge1xuICAgIGlmICh0aGlzLnAgPT0gbnVsbCB8fCB0aGlzLnEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHgubW9kUG93KHRoaXMuZCwgdGhpcy5uKTtcbiAgICB9XG4gICAgLy8gVE9ETzogcmUtY2FsY3VsYXRlIGFueSBtaXNzaW5nIENSVCBwYXJhbXNcbiAgICB2YXIgeHAgPSB4Lm1vZCh0aGlzLnApLm1vZFBvdyh0aGlzLmRtcDEsIHRoaXMucCk7XG4gICAgdmFyIHhxID0geC5tb2QodGhpcy5xKS5tb2RQb3codGhpcy5kbXExLCB0aGlzLnEpO1xuICAgIHdoaWxlICh4cC5jb21wYXJlVG8oeHEpIDwgMCkge1xuICAgICAgeHAgPSB4cC5hZGQodGhpcy5wKTtcbiAgICB9XG4gICAgcmV0dXJuIHhwLnN1YnRyYWN0KHhxKS5tdWx0aXBseSh0aGlzLmNvZWZmKS5tb2QodGhpcy5wKS5tdWx0aXBseSh0aGlzLnEpLmFkZCh4cSk7XG4gIH07XG4gIC8vI2VuZHJlZ2lvbiBQUk9URUNURURcbiAgLy8jcmVnaW9uIFBVQkxJQ1xuICAvLyBSU0FLZXkucHJvdG90eXBlLnNldFB1YmxpYyA9IFJTQVNldFB1YmxpYztcbiAgLy8gU2V0IHRoZSBwdWJsaWMga2V5IGZpZWxkcyBOIGFuZCBlIGZyb20gaGV4IHN0cmluZ3NcbiAgUlNBS2V5LnByb3RvdHlwZS5zZXRQdWJsaWMgPSBmdW5jdGlvbiAoTiwgRSkge1xuICAgIGlmIChOICE9IG51bGwgJiYgRSAhPSBudWxsICYmIE4ubGVuZ3RoID4gMCAmJiBFLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMubiA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoTiwgMTYpO1xuICAgICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBSU0EgcHVibGljIGtleVwiKTtcbiAgICB9XG4gIH07XG4gIC8vIFJTQUtleS5wcm90b3R5cGUuZW5jcnlwdCA9IFJTQUVuY3J5cHQ7XG4gIC8vIFJldHVybiB0aGUgUEtDUyMxIFJTQSBlbmNyeXB0aW9uIG9mIFwidGV4dFwiIGFzIGFuIGV2ZW4tbGVuZ3RoIGhleCBzdHJpbmdcbiAgUlNBS2V5LnByb3RvdHlwZS5lbmNyeXB0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgbWF4TGVuZ3RoID0gdGhpcy5uLmJpdExlbmd0aCgpICsgNyA+PiAzO1xuICAgIHZhciBtID0gcGtjczFwYWQyKHRleHQsIG1heExlbmd0aCk7XG4gICAgaWYgKG0gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBjID0gdGhpcy5kb1B1YmxpYyhtKTtcbiAgICBpZiAoYyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGggPSBjLnRvU3RyaW5nKDE2KTtcbiAgICB2YXIgbGVuZ3RoID0gaC5sZW5ndGg7XG4gICAgLy8gZml4IHplcm8gYmVmb3JlIHJlc3VsdFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4TGVuZ3RoICogMiAtIGxlbmd0aDsgaSsrKSB7XG4gICAgICBoID0gXCIwXCIgKyBoO1xuICAgIH1cbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5zZXRQcml2YXRlID0gUlNBU2V0UHJpdmF0ZTtcbiAgLy8gU2V0IHRoZSBwcml2YXRlIGtleSBmaWVsZHMgTiwgZSwgYW5kIGQgZnJvbSBoZXggc3RyaW5nc1xuICBSU0FLZXkucHJvdG90eXBlLnNldFByaXZhdGUgPSBmdW5jdGlvbiAoTiwgRSwgRCkge1xuICAgIGlmIChOICE9IG51bGwgJiYgRSAhPSBudWxsICYmIE4ubGVuZ3RoID4gMCAmJiBFLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMubiA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoTiwgMTYpO1xuICAgICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgICAgdGhpcy5kID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShELCAxNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleVwiKTtcbiAgICB9XG4gIH07XG4gIC8vIFJTQUtleS5wcm90b3R5cGUuc2V0UHJpdmF0ZUV4ID0gUlNBU2V0UHJpdmF0ZUV4O1xuICAvLyBTZXQgdGhlIHByaXZhdGUga2V5IGZpZWxkcyBOLCBlLCBkIGFuZCBDUlQgcGFyYW1zIGZyb20gaGV4IHN0cmluZ3NcbiAgUlNBS2V5LnByb3RvdHlwZS5zZXRQcml2YXRlRXggPSBmdW5jdGlvbiAoTiwgRSwgRCwgUCwgUSwgRFAsIERRLCBDKSB7XG4gICAgaWYgKE4gIT0gbnVsbCAmJiBFICE9IG51bGwgJiYgTi5sZW5ndGggPiAwICYmIEUubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5uID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShOLCAxNik7XG4gICAgICB0aGlzLmUgPSBwYXJzZUludChFLCAxNik7XG4gICAgICB0aGlzLmQgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKEQsIDE2KTtcbiAgICAgIHRoaXMucCA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoUCwgMTYpO1xuICAgICAgdGhpcy5xID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShRLCAxNik7XG4gICAgICB0aGlzLmRtcDEgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKERQLCAxNik7XG4gICAgICB0aGlzLmRtcTEgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKERRLCAxNik7XG4gICAgICB0aGlzLmNvZWZmID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShDLCAxNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleVwiKTtcbiAgICB9XG4gIH07XG4gIC8vIFJTQUtleS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBSU0FHZW5lcmF0ZTtcbiAgLy8gR2VuZXJhdGUgYSBuZXcgcmFuZG9tIHByaXZhdGUga2V5IEIgYml0cyBsb25nLCB1c2luZyBwdWJsaWMgZXhwdCBFXG4gIFJTQUtleS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiAoQiwgRSkge1xuICAgIHZhciBybmcgPSBuZXcgX3JuZy5TZWN1cmVSYW5kb20oKTtcbiAgICB2YXIgcXMgPSBCID4+IDE7XG4gICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgIHZhciBlZSA9IG5ldyBfanNibi5CaWdJbnRlZ2VyKEUsIDE2KTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIHRoaXMucCA9IG5ldyBfanNibi5CaWdJbnRlZ2VyKEIgLSBxcywgMSwgcm5nKTtcbiAgICAgICAgaWYgKHRoaXMucC5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkKGVlKS5jb21wYXJlVG8oX2pzYm4uQmlnSW50ZWdlci5PTkUpID09IDAgJiYgdGhpcy5wLmlzUHJvYmFibGVQcmltZSgxMCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICg7Oykge1xuICAgICAgICB0aGlzLnEgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihxcywgMSwgcm5nKTtcbiAgICAgICAgaWYgKHRoaXMucS5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkKGVlKS5jb21wYXJlVG8oX2pzYm4uQmlnSW50ZWdlci5PTkUpID09IDAgJiYgdGhpcy5xLmlzUHJvYmFibGVQcmltZSgxMCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMucC5jb21wYXJlVG8odGhpcy5xKSA8PSAwKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5wO1xuICAgICAgICB0aGlzLnAgPSB0aGlzLnE7XG4gICAgICAgIHRoaXMucSA9IHQ7XG4gICAgICB9XG4gICAgICB2YXIgcDEgPSB0aGlzLnAuc3VidHJhY3QoX2pzYm4uQmlnSW50ZWdlci5PTkUpO1xuICAgICAgdmFyIHExID0gdGhpcy5xLnN1YnRyYWN0KF9qc2JuLkJpZ0ludGVnZXIuT05FKTtcbiAgICAgIHZhciBwaGkgPSBwMS5tdWx0aXBseShxMSk7XG4gICAgICBpZiAocGhpLmdjZChlZSkuY29tcGFyZVRvKF9qc2JuLkJpZ0ludGVnZXIuT05FKSA9PSAwKSB7XG4gICAgICAgIHRoaXMubiA9IHRoaXMucC5tdWx0aXBseSh0aGlzLnEpO1xuICAgICAgICB0aGlzLmQgPSBlZS5tb2RJbnZlcnNlKHBoaSk7XG4gICAgICAgIHRoaXMuZG1wMSA9IHRoaXMuZC5tb2QocDEpO1xuICAgICAgICB0aGlzLmRtcTEgPSB0aGlzLmQubW9kKHExKTtcbiAgICAgICAgdGhpcy5jb2VmZiA9IHRoaXMucS5tb2RJbnZlcnNlKHRoaXMucCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5kZWNyeXB0ID0gUlNBRGVjcnlwdDtcbiAgLy8gUmV0dXJuIHRoZSBQS0NTIzEgUlNBIGRlY3J5cHRpb24gb2YgXCJjdGV4dFwiLlxuICAvLyBcImN0ZXh0XCIgaXMgYW4gZXZlbi1sZW5ndGggaGV4IHN0cmluZyBhbmQgdGhlIG91dHB1dCBpcyBhIHBsYWluIHN0cmluZy5cbiAgUlNBS2V5LnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gKGN0ZXh0KSB7XG4gICAgdmFyIGMgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKGN0ZXh0LCAxNik7XG4gICAgdmFyIG0gPSB0aGlzLmRvUHJpdmF0ZShjKTtcbiAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBrY3MxdW5wYWQyKG0sIHRoaXMubi5iaXRMZW5ndGgoKSArIDcgPj4gMyk7XG4gIH07XG4gIC8vIEdlbmVyYXRlIGEgbmV3IHJhbmRvbSBwcml2YXRlIGtleSBCIGJpdHMgbG9uZywgdXNpbmcgcHVibGljIGV4cHQgRVxuICBSU0FLZXkucHJvdG90eXBlLmdlbmVyYXRlQXN5bmMgPSBmdW5jdGlvbiAoQiwgRSwgY2FsbGJhY2spIHtcbiAgICB2YXIgcm5nID0gbmV3IF9ybmcuU2VjdXJlUmFuZG9tKCk7XG4gICAgdmFyIHFzID0gQiA+PiAxO1xuICAgIHRoaXMuZSA9IHBhcnNlSW50KEUsIDE2KTtcbiAgICB2YXIgZWUgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihFLCAxNik7XG4gICAgdmFyIHJzYSA9IHRoaXM7XG4gICAgLy8gVGhlc2UgZnVuY3Rpb25zIGhhdmUgbm9uLWRlc2NyaXB0IG5hbWVzIGJlY2F1c2UgdGhleSB3ZXJlIG9yaWdpbmFsbHkgZm9yKDs7KSBsb29wcy5cbiAgICAvLyBJIGRvbid0IGtub3cgYWJvdXQgY3J5cHRvZ3JhcGh5IHRvIGdpdmUgdGhlbSBiZXR0ZXIgbmFtZXMgdGhhbiBsb29wMS00LlxuICAgIHZhciBsb29wMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsb29wNCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJzYS5wLmNvbXBhcmVUbyhyc2EucSkgPD0gMCkge1xuICAgICAgICAgIHZhciB0ID0gcnNhLnA7XG4gICAgICAgICAgcnNhLnAgPSByc2EucTtcbiAgICAgICAgICByc2EucSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHAxID0gcnNhLnAuc3VidHJhY3QoX2pzYm4uQmlnSW50ZWdlci5PTkUpO1xuICAgICAgICB2YXIgcTEgPSByc2EucS5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSk7XG4gICAgICAgIHZhciBwaGkgPSBwMS5tdWx0aXBseShxMSk7XG4gICAgICAgIGlmIChwaGkuZ2NkKGVlKS5jb21wYXJlVG8oX2pzYm4uQmlnSW50ZWdlci5PTkUpID09IDApIHtcbiAgICAgICAgICByc2EubiA9IHJzYS5wLm11bHRpcGx5KHJzYS5xKTtcbiAgICAgICAgICByc2EuZCA9IGVlLm1vZEludmVyc2UocGhpKTtcbiAgICAgICAgICByc2EuZG1wMSA9IHJzYS5kLm1vZChwMSk7XG4gICAgICAgICAgcnNhLmRtcTEgPSByc2EuZC5tb2QocTEpO1xuICAgICAgICAgIHJzYS5jb2VmZiA9IHJzYS5xLm1vZEludmVyc2UocnNhLnApO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9LCAwKTsgLy8gZXNjYXBlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VGltZW91dChsb29wMSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgbG9vcDMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJzYS5xID0gKDAsIF9qc2JuLm5iaSkoKTtcbiAgICAgICAgcnNhLnEuZnJvbU51bWJlckFzeW5jKHFzLCAxLCBybmcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByc2EucS5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkYShlZSwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGlmIChyLmNvbXBhcmVUbyhfanNibi5CaWdJbnRlZ2VyLk9ORSkgPT0gMCAmJiByc2EucS5pc1Byb2JhYmxlUHJpbWUoMTApKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcDQsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wMywgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHZhciBsb29wMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcnNhLnAgPSAoMCwgX2pzYm4ubmJpKSgpO1xuICAgICAgICByc2EucC5mcm9tTnVtYmVyQXN5bmMoQiAtIHFzLCAxLCBybmcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByc2EucC5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkYShlZSwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGlmIChyLmNvbXBhcmVUbyhfanNibi5CaWdJbnRlZ2VyLk9ORSkgPT0gMCAmJiByc2EucC5pc1Byb2JhYmxlUHJpbWUoMTApKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcDMsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wMiwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHNldFRpbWVvdXQobG9vcDIsIDApO1xuICAgIH07XG4gICAgc2V0VGltZW91dChsb29wMSwgMCk7XG4gIH07XG4gIFJTQUtleS5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uICh0ZXh0LCBkaWdlc3RNZXRob2QsIGRpZ2VzdE5hbWUpIHtcbiAgICB2YXIgaGVhZGVyID0gZ2V0RGlnZXN0SGVhZGVyKGRpZ2VzdE5hbWUpO1xuICAgIHZhciBkaWdlc3QgPSBoZWFkZXIgKyBkaWdlc3RNZXRob2QodGV4dCkudG9TdHJpbmcoKTtcbiAgICB2YXIgbSA9IHBrY3MxcGFkMShkaWdlc3QsIHRoaXMubi5iaXRMZW5ndGgoKSAvIDQpO1xuICAgIGlmIChtID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgYyA9IHRoaXMuZG9Qcml2YXRlKG0pO1xuICAgIGlmIChjID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaCA9IGMudG9TdHJpbmcoMTYpO1xuICAgIGlmICgoaC5sZW5ndGggJiAxKSA9PSAwKSB7XG4gICAgICByZXR1cm4gaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiMFwiICsgaDtcbiAgICB9XG4gIH07XG4gIFJTQUtleS5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gKHRleHQsIHNpZ25hdHVyZSwgZGlnZXN0TWV0aG9kKSB7XG4gICAgdmFyIGMgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKHNpZ25hdHVyZSwgMTYpO1xuICAgIHZhciBtID0gdGhpcy5kb1B1YmxpYyhjKTtcbiAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHVucGFkZGVkID0gbS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLywgXCJcIik7XG4gICAgdmFyIGRpZ2VzdCA9IHJlbW92ZURpZ2VzdEhlYWRlcih1bnBhZGRlZCk7XG4gICAgcmV0dXJuIGRpZ2VzdCA9PSBkaWdlc3RNZXRob2QodGV4dCkudG9TdHJpbmcoKTtcbiAgfTtcbiAgcmV0dXJuIFJTQUtleTtcbn0oKTtcbi8vIFVuZG8gUEtDUyMxICh0eXBlIDIsIHJhbmRvbSkgcGFkZGluZyBhbmQsIGlmIHZhbGlkLCByZXR1cm4gdGhlIHBsYWludGV4dFxuZnVuY3Rpb24gcGtjczF1bnBhZDIoZCwgbikge1xuICB2YXIgYiA9IGQudG9CeXRlQXJyYXkoKTtcbiAgdmFyIGkgPSAwO1xuICB3aGlsZSAoaSA8IGIubGVuZ3RoICYmIGJbaV0gPT0gMCkge1xuICAgICsraTtcbiAgfVxuICBpZiAoYi5sZW5ndGggLSBpICE9IG4gLSAxIHx8IGJbaV0gIT0gMikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gICsraTtcbiAgd2hpbGUgKGJbaV0gIT0gMCkge1xuICAgIGlmICgrK2kgPj0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICB2YXIgcmV0ID0gXCJcIjtcbiAgd2hpbGUgKCsraSA8IGIubGVuZ3RoKSB7XG4gICAgdmFyIGMgPSBiW2ldICYgMjU1O1xuICAgIGlmIChjIDwgMTI4KSB7XG4gICAgICAvLyB1dGYtOCBkZWNvZGVcbiAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgIH0gZWxzZSBpZiAoYyA+IDE5MSAmJiBjIDwgMjI0KSB7XG4gICAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDMxKSA8PCA2IHwgYltpICsgMV0gJiA2Myk7XG4gICAgICArK2k7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMTUpIDw8IDEyIHwgKGJbaSArIDFdICYgNjMpIDw8IDYgfCBiW2kgKyAyXSAmIDYzKTtcbiAgICAgIGkgKz0gMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbi8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDQ3I3BhZ2UtNDNcbnZhciBESUdFU1RfSEVBREVSUyA9IHtcbiAgbWQyOiBcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDIwNTAwMDQxMFwiLFxuICBtZDU6IFwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIsXG4gIHNoYTE6IFwiMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0XCIsXG4gIHNoYTIyNDogXCIzMDJkMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDQwNTAwMDQxY1wiLFxuICBzaGEyNTY6IFwiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjBcIixcbiAgc2hhMzg0OiBcIjMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwXCIsXG4gIHNoYTUxMjogXCIzMDUxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDMwNTAwMDQ0MFwiLFxuICByaXBlbWQxNjA6IFwiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0XCJcbn07XG5mdW5jdGlvbiBnZXREaWdlc3RIZWFkZXIobmFtZSkge1xuICByZXR1cm4gRElHRVNUX0hFQURFUlNbbmFtZV0gfHwgXCJcIjtcbn1cbmZ1bmN0aW9uIHJlbW92ZURpZ2VzdEhlYWRlcihzdHIpIHtcbiAgZm9yICh2YXIgbmFtZV8xIGluIERJR0VTVF9IRUFERVJTKSB7XG4gICAgaWYgKERJR0VTVF9IRUFERVJTLmhhc093blByb3BlcnR5KG5hbWVfMSkpIHtcbiAgICAgIHZhciBoZWFkZXIgPSBESUdFU1RfSEVBREVSU1tuYW1lXzFdO1xuICAgICAgdmFyIGxlbiA9IGhlYWRlci5sZW5ndGg7XG4gICAgICBpZiAoc3RyLnN1YnN0cigwLCBsZW4pID09IGhlYWRlcikge1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihsZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufVxuLy8gUmV0dXJuIHRoZSBQS0NTIzEgUlNBIGVuY3J5cHRpb24gb2YgXCJ0ZXh0XCIgYXMgYSBCYXNlNjQtZW5jb2RlZCBzdHJpbmdcbi8vIGZ1bmN0aW9uIFJTQUVuY3J5cHRCNjQodGV4dCkge1xuLy8gIHZhciBoID0gdGhpcy5lbmNyeXB0KHRleHQpO1xuLy8gIGlmKGgpIHJldHVybiBoZXgyYjY0KGgpOyBlbHNlIHJldHVybiBudWxsO1xuLy8gfVxuLy8gcHVibGljXG4vLyBSU0FLZXkucHJvdG90eXBlLmVuY3J5cHRfYjY0ID0gUlNBRW5jcnlwdEI2NDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2JpdCA9IGNiaXQ7XG5leHBvcnRzLmludDJjaGFyID0gaW50MmNoYXI7XG5leHBvcnRzLmxiaXQgPSBsYml0O1xuZXhwb3J0cy5vcF9hbmQgPSBvcF9hbmQ7XG5leHBvcnRzLm9wX2FuZG5vdCA9IG9wX2FuZG5vdDtcbmV4cG9ydHMub3Bfb3IgPSBvcF9vcjtcbmV4cG9ydHMub3BfeG9yID0gb3BfeG9yO1xudmFyIEJJX1JNID0gXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcbmZ1bmN0aW9uIGludDJjaGFyKG4pIHtcbiAgcmV0dXJuIEJJX1JNLmNoYXJBdChuKTtcbn1cbi8vI3JlZ2lvbiBCSVRfT1BFUkFUSU9OU1xuLy8gKHB1YmxpYykgdGhpcyAmIGFcbmZ1bmN0aW9uIG9wX2FuZCh4LCB5KSB7XG4gIHJldHVybiB4ICYgeTtcbn1cbi8vIChwdWJsaWMpIHRoaXMgfCBhXG5mdW5jdGlvbiBvcF9vcih4LCB5KSB7XG4gIHJldHVybiB4IHwgeTtcbn1cbi8vIChwdWJsaWMpIHRoaXMgXiBhXG5mdW5jdGlvbiBvcF94b3IoeCwgeSkge1xuICByZXR1cm4geCBeIHk7XG59XG4vLyAocHVibGljKSB0aGlzICYgfmFcbmZ1bmN0aW9uIG9wX2FuZG5vdCh4LCB5KSB7XG4gIHJldHVybiB4ICYgfnk7XG59XG4vLyByZXR1cm4gaW5kZXggb2YgbG93ZXN0IDEtYml0IGluIHgsIHggPCAyXjMxXG5mdW5jdGlvbiBsYml0KHgpIHtcbiAgaWYgKHggPT0gMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICB2YXIgciA9IDA7XG4gIGlmICgoeCAmIDB4ZmZmZikgPT0gMCkge1xuICAgIHggPj49IDE2O1xuICAgIHIgKz0gMTY7XG4gIH1cbiAgaWYgKCh4ICYgMHhmZikgPT0gMCkge1xuICAgIHggPj49IDg7XG4gICAgciArPSA4O1xuICB9XG4gIGlmICgoeCAmIDB4ZikgPT0gMCkge1xuICAgIHggPj49IDQ7XG4gICAgciArPSA0O1xuICB9XG4gIGlmICgoeCAmIDMpID09IDApIHtcbiAgICB4ID4+PSAyO1xuICAgIHIgKz0gMjtcbiAgfVxuICBpZiAoKHggJiAxKSA9PSAwKSB7XG4gICAgKytyO1xuICB9XG4gIHJldHVybiByO1xufVxuLy8gcmV0dXJuIG51bWJlciBvZiAxIGJpdHMgaW4geFxuZnVuY3Rpb24gY2JpdCh4KSB7XG4gIHZhciByID0gMDtcbiAgd2hpbGUgKHggIT0gMCkge1xuICAgIHggJj0geCAtIDE7XG4gICAgKytyO1xuICB9XG4gIHJldHVybiByO1xufVxuLy8jZW5kcmVnaW9uIEJJVF9PUEVSQVRJT05TIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLktKVVIgPSB2b2lkIDA7XG52YXIgX2pzYm4gPSByZXF1aXJlKFwiLi4vanNibi9qc2JuXCIpO1xudmFyIF95YWhvbyA9IHJlcXVpcmUoXCIuL3lhaG9vXCIpO1xuLyogYXNuMS0xLjAuMTMuanMgKGMpIDIwMTMtMjAxNyBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuICovXG4vKlxuICogYXNuMS5qcyAtIEFTTi4xIERFUiBlbmNvZGVyIGNsYXNzZXNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNyBLZW5qaSBVcnVzaGltYSAoa2VuamkudXJ1c2hpbWFAZ21haWwuY29tKVxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHBzOi8va2p1ci5naXRodWIuaW8vanNyc2FzaWduL2xpY2Vuc2VcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IGFuZCBsaWNlbnNlIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKi9cblxuLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBAbmFtZSBhc24xLTEuMC5qc1xuICogQGF1dGhvciBLZW5qaSBVcnVzaGltYSBrZW5qaS51cnVzaGltYUBnbWFpbC5jb21cbiAqIEB2ZXJzaW9uIGFzbjEgMS4wLjEzICgyMDE3LUp1bi0wMilcbiAqIEBzaW5jZSBqc3JzYXNpZ24gMi4xXG4gKiBAbGljZW5zZSA8YSBocmVmPVwiaHR0cHM6Ly9ranVyLmdpdGh1Yi5pby9qc3JzYXNpZ24vbGljZW5zZS9cIj5NSVQgTGljZW5zZTwvYT5cbiAqL1xuLyoqXG4gKiBranVyJ3MgY2xhc3MgbGlicmFyeSBuYW1lIHNwYWNlXG4gKiA8cD5cbiAqIFRoaXMgbmFtZSBzcGFjZSBwcm92aWRlcyBmb2xsb3dpbmcgbmFtZSBzcGFjZXM6XG4gKiA8dWw+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMX0gLSBBU04uMSBwcmltaXRpdmUgaGV4YWRlY2ltYWwgZW5jb2RlcjwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS54NTA5fSAtIEFTTi4xIHN0cnVjdHVyZSBmb3IgWC41MDkgY2VydGlmaWNhdGUgYW5kIENSTDwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuY3J5cHRvfSAtIEphdmEgQ3J5cHRvZ3JhcGhpYyBFeHRlbnNpb24oSkNFKSBzdHlsZSBNZXNzYWdlRGlnZXN0L1NpZ25hdHVyZVxuICogY2xhc3MgYW5kIHV0aWxpdGllczwvbGk+XG4gKiA8L3VsPlxuICogPC9wPlxuICogTk9URTogUGxlYXNlIGlnbm9yZSBtZXRob2Qgc3VtbWFyeSBhbmQgZG9jdW1lbnQgb2YgdGhpcyBuYW1lc3BhY2UuIFRoaXMgY2F1c2VkIGJ5IGEgYnVnIG9mIGpzZG9jMi5cbiAqIEBuYW1lIEtKVVJcbiAqIEBuYW1lc3BhY2Uga2p1cidzIGNsYXNzIGxpYnJhcnkgbmFtZSBzcGFjZVxuICovXG52YXIgS0pVUiA9IGV4cG9ydHMuS0pVUiA9IHt9O1xuLyoqXG4gKiBranVyJ3MgQVNOLjEgY2xhc3MgbGlicmFyeSBuYW1lIHNwYWNlXG4gKiA8cD5cbiAqIFRoaXMgaXMgSVRVLVQgWC42OTAgQVNOLjEgREVSIGVuY29kZXIgY2xhc3MgbGlicmFyeSBhbmRcbiAqIGNsYXNzIHN0cnVjdHVyZSBhbmQgbWV0aG9kcyBpcyB2ZXJ5IHNpbWlsYXIgdG9cbiAqIG9yZy5ib3VuY3ljYXN0bGUuYXNuMSBwYWNrYWdlIG9mXG4gKiB3ZWxsIGtub3duIEJvdW5jeUNhc2x0ZSBDcnlwdG9ncmFwaHkgTGlicmFyeS5cbiAqIDxoND5QUk9WSURJTkcgQVNOLjEgUFJJTUlUSVZFUzwvaDQ+XG4gKiBIZXJlIGFyZSBBU04uMSBERVIgcHJpbWl0aXZlIGNsYXNzZXMuXG4gKiA8dWw+XG4gKiA8bGk+MHgwMSB7QGxpbmsgS0pVUi5hc24xLkRFUkJvb2xlYW59PC9saT5cbiAqIDxsaT4weDAyIHtAbGluayBLSlVSLmFzbjEuREVSSW50ZWdlcn08L2xpPlxuICogPGxpPjB4MDMge0BsaW5rIEtKVVIuYXNuMS5ERVJCaXRTdHJpbmd9PC9saT5cbiAqIDxsaT4weDA0IHtAbGluayBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmd9PC9saT5cbiAqIDxsaT4weDA1IHtAbGluayBLSlVSLmFzbjEuREVSTnVsbH08L2xpPlxuICogPGxpPjB4MDYge0BsaW5rIEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyfTwvbGk+XG4gKiA8bGk+MHgwYSB7QGxpbmsgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWR9PC9saT5cbiAqIDxsaT4weDBjIHtAbGluayBLSlVSLmFzbjEuREVSVVRGOFN0cmluZ308L2xpPlxuICogPGxpPjB4MTIge0BsaW5rIEtKVVIuYXNuMS5ERVJOdW1lcmljU3RyaW5nfTwvbGk+XG4gKiA8bGk+MHgxMyB7QGxpbmsgS0pVUi5hc24xLkRFUlByaW50YWJsZVN0cmluZ308L2xpPlxuICogPGxpPjB4MTQge0BsaW5rIEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nfTwvbGk+XG4gKiA8bGk+MHgxNiB7QGxpbmsgS0pVUi5hc24xLkRFUklBNVN0cmluZ308L2xpPlxuICogPGxpPjB4MTcge0BsaW5rIEtKVVIuYXNuMS5ERVJVVENUaW1lfTwvbGk+XG4gKiA8bGk+MHgxOCB7QGxpbmsgS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZX08L2xpPlxuICogPGxpPjB4MzAge0BsaW5rIEtKVVIuYXNuMS5ERVJTZXF1ZW5jZX08L2xpPlxuICogPGxpPjB4MzEge0BsaW5rIEtKVVIuYXNuMS5ERVJTZXR9PC9saT5cbiAqIDwvdWw+XG4gKiA8aDQ+T1RIRVIgQVNOLjEgQ0xBU1NFUzwvaDQ+XG4gKiA8dWw+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5BU04xT2JqZWN0fTwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ308L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lfTwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWR9PC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdH08L2xpPlxuICogPC91bD5cbiAqIDxoND5TVUIgTkFNRSBTUEFDRVM8L2g0PlxuICogPHVsPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuY2FkZXN9IC0gQ0FkRVMgbG9uZyB0ZXJtIHNpZ25hdHVyZSBmb3JtYXQ8L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuY21zfSAtIENyeXB0b2dyYXBoaWMgTWVzc2FnZSBTeW50YXg8L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuY3NyfSAtIENlcnRpZmljYXRlIFNpZ25pbmcgUmVxdWVzdCAoQ1NSL1BLQ1MjMTApPC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLnRzcH0gLSBSRkMgMzE2MSBUaW1lc3RhbXBpbmcgUHJvdG9jb2wgRm9ybWF0PC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLng1MDl9IC0gUkZDIDUyODAgWC41MDkgY2VydGlmaWNhdGUgYW5kIENSTDwvbGk+XG4gKiA8L3VsPlxuICogPC9wPlxuICogTk9URTogUGxlYXNlIGlnbm9yZSBtZXRob2Qgc3VtbWFyeSBhbmQgZG9jdW1lbnQgb2YgdGhpcyBuYW1lc3BhY2UuXG4gKiBUaGlzIGNhdXNlZCBieSBhIGJ1ZyBvZiBqc2RvYzIuXG4gKiBAbmFtZSBLSlVSLmFzbjFcbiAqIEBuYW1lc3BhY2VcbiAqL1xuaWYgKHR5cGVvZiBLSlVSLmFzbjEgPT0gXCJ1bmRlZmluZWRcIiB8fCAhS0pVUi5hc24xKSBLSlVSLmFzbjEgPSB7fTtcbi8qKlxuICogQVNOMSB1dGlsaXRpZXMgY2xhc3NcbiAqIEBuYW1lIEtKVVIuYXNuMS5BU04xVXRpbFxuICogQGNsYXNzIEFTTjEgdXRpbGl0aWVzIGNsYXNzXG4gKiBAc2luY2UgYXNuMSAxLjAuMlxuICovXG5LSlVSLmFzbjEuQVNOMVV0aWwgPSBuZXcgZnVuY3Rpb24gKCkge1xuICB0aGlzLmludGVnZXJUb0J5dGVIZXggPSBmdW5jdGlvbiAoaSkge1xuICAgIHZhciBoID0gaS50b1N0cmluZygxNik7XG4gICAgaWYgKGgubGVuZ3RoICUgMiA9PSAxKSBoID0gJzAnICsgaDtcbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgdGhpcy5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleCA9IGZ1bmN0aW9uIChiaWdJbnRlZ2VyVmFsdWUpIHtcbiAgICB2YXIgaCA9IGJpZ0ludGVnZXJWYWx1ZS50b1N0cmluZygxNik7XG4gICAgaWYgKGguc3Vic3RyKDAsIDEpICE9ICctJykge1xuICAgICAgaWYgKGgubGVuZ3RoICUgMiA9PSAxKSB7XG4gICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoLm1hdGNoKC9eWzAtN10vKSkge1xuICAgICAgICAgIGggPSAnMDAnICsgaDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaFBvcyA9IGguc3Vic3RyKDEpO1xuICAgICAgdmFyIHhvckxlbiA9IGhQb3MubGVuZ3RoO1xuICAgICAgaWYgKHhvckxlbiAlIDIgPT0gMSkge1xuICAgICAgICB4b3JMZW4gKz0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaC5tYXRjaCgvXlswLTddLykpIHtcbiAgICAgICAgICB4b3JMZW4gKz0gMjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGhNYXNrID0gJyc7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhvckxlbjsgaSsrKSB7XG4gICAgICAgIGhNYXNrICs9ICdmJztcbiAgICAgIH1cbiAgICAgIHZhciBiaU1hc2sgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihoTWFzaywgMTYpO1xuICAgICAgdmFyIGJpTmVnID0gYmlNYXNrLnhvcihiaWdJbnRlZ2VyVmFsdWUpLmFkZChfanNibi5CaWdJbnRlZ2VyLk9ORSk7XG4gICAgICBoID0gYmlOZWcudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14tLywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgLyoqXG4gICAqIGdldCBQRU0gc3RyaW5nIGZyb20gaGV4YWRlY2ltYWwgZGF0YSBhbmQgaGVhZGVyIHN0cmluZ1xuICAgKiBAbmFtZSBnZXRQRU1TdHJpbmdGcm9tSGV4XG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMVV0aWxcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhSGV4IGhleGFkZWNpbWFsIHN0cmluZyBvZiBQRU0gYm9keVxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGVtSGVhZGVyIFBFTSBoZWFkZXIgc3RyaW5nIChleC4gJ1JTQSBQUklWQVRFIEtFWScpXG4gICAqIEByZXR1cm4ge1N0cmluZ30gUEVNIGZvcm1hdHRlZCBzdHJpbmcgb2YgaW5wdXQgZGF0YVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgY29udmVydHMgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gYSBQRU0gc3RyaW5nIHdpdGhcbiAgICogYSBzcGVjaWZpZWQgaGVhZGVyLiBJdHMgbGluZSBicmVhayB3aWxsIGJlIENSTEYoXCJcXHJcXG5cIikuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwZW0gID0gS0pVUi5hc24xLkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoJzYxNjE2MScsICdSU0EgUFJJVkFURSBLRVknKTtcbiAgICogLy8gdmFsdWUgb2YgcGVtIHdpbGwgYmU6XG4gICAqIC0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuICAgKiBZV0ZoXG4gICAqIC0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiAgICovXG4gIHRoaXMuZ2V0UEVNU3RyaW5nRnJvbUhleCA9IGZ1bmN0aW9uIChkYXRhSGV4LCBwZW1IZWFkZXIpIHtcbiAgICByZXR1cm4gaGV4dG9wZW0oZGF0YUhleCwgcGVtSGVhZGVyKTtcbiAgfTtcbiAgLyoqXG4gICAqIGdlbmVyYXRlIEFTTjFPYmplY3Qgc3BlY2lmZWQgYnkgSlNPTiBwYXJhbWV0ZXJzXG4gICAqIEBuYW1lIG5ld09iamVjdFxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkFTTjFVdGlsXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSBwYXJhbSBKU09OIHBhcmFtZXRlciB0byBnZW5lcmF0ZSBBU04xT2JqZWN0XG4gICAqIEByZXR1cm4ge0tKVVIuYXNuMS5BU04xT2JqZWN0fSBnZW5lcmF0ZWQgb2JqZWN0XG4gICAqIEBzaW5jZSBhc24xIDEuMC4zXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBnZW5lcmF0ZSBhbnkgQVNOMU9iamVjdCBzcGVjaWZpZWQgYnkgSlNPTiBwYXJhbVxuICAgKiBpbmNsdWRpbmcgQVNOLjEgcHJpbWl0aXZlIG9yIHN0cnVjdHVyZWQuXG4gICAqIEdlbmVyYWxseSAncGFyYW0nIGNhbiBiZSBkZXNjcmliZWQgYXMgZm9sbG93czpcbiAgICogPGJsb2NrcXVvdGU+XG4gICAqIHtUWVBFLU9GLUFTTk9CSjogQVNOMU9CSi1QQVJBTUVURVJ9XG4gICAqIDwvYmxvY2txdW90ZT5cbiAgICogJ1RZUEUtT0YtQVNOMU9CSicgY2FuIGJlIG9uZSBvZiBmb2xsb3dpbmcgc3ltYm9sczpcbiAgICogPHVsPlxuICAgKiA8bGk+J2Jvb2wnIC0gREVSQm9vbGVhbjwvbGk+XG4gICAqIDxsaT4naW50JyAtIERFUkludGVnZXI8L2xpPlxuICAgKiA8bGk+J2JpdHN0cicgLSBERVJCaXRTdHJpbmc8L2xpPlxuICAgKiA8bGk+J29jdHN0cicgLSBERVJPY3RldFN0cmluZzwvbGk+XG4gICAqIDxsaT4nbnVsbCcgLSBERVJOdWxsPC9saT5cbiAgICogPGxpPidvaWQnIC0gREVST2JqZWN0SWRlbnRpZmllcjwvbGk+XG4gICAqIDxsaT4nZW51bScgLSBERVJFbnVtZXJhdGVkPC9saT5cbiAgICogPGxpPid1dGY4c3RyJyAtIERFUlVURjhTdHJpbmc8L2xpPlxuICAgKiA8bGk+J251bXN0cicgLSBERVJOdW1lcmljU3RyaW5nPC9saT5cbiAgICogPGxpPidwcm5zdHInIC0gREVSUHJpbnRhYmxlU3RyaW5nPC9saT5cbiAgICogPGxpPid0ZWxzdHInIC0gREVSVGVsZXRleFN0cmluZzwvbGk+XG4gICAqIDxsaT4naWE1c3RyJyAtIERFUklBNVN0cmluZzwvbGk+XG4gICAqIDxsaT4ndXRjdGltZScgLSBERVJVVENUaW1lPC9saT5cbiAgICogPGxpPidnZW50aW1lJyAtIERFUkdlbmVyYWxpemVkVGltZTwvbGk+XG4gICAqIDxsaT4nc2VxJyAtIERFUlNlcXVlbmNlPC9saT5cbiAgICogPGxpPidzZXQnIC0gREVSU2V0PC9saT5cbiAgICogPGxpPid0YWcnIC0gREVSVGFnZ2VkT2JqZWN0PC9saT5cbiAgICogPC91bD5cbiAgICogQGV4YW1wbGVcbiAgICogbmV3T2JqZWN0KHsncHJuc3RyJzogJ2FhYSd9KTtcbiAgICogbmV3T2JqZWN0KHsnc2VxJzogW3snaW50JzogM30sIHsncHJuc3RyJzogJ2FhYSd9XX0pXG4gICAqIC8vIEFTTi4xIFRhZ2dlZCBPYmplY3RcbiAgICogbmV3T2JqZWN0KHsndGFnJzogeyd0YWcnOiAnYTEnLFxuICAgKiAgICAgICAgICAgICAgICAgICAgJ2V4cGxpY2l0JzogdHJ1ZSxcbiAgICogICAgICAgICAgICAgICAgICAgICdvYmonOiB7J3NlcSc6IFt7J2ludCc6IDN9LCB7J3BybnN0cic6ICdhYWEnfV19fX0pO1xuICAgKiAvLyBtb3JlIHNpbXBsZSByZXByZXNlbnRhdGlvbiBvZiBBU04uMSBUYWdnZWQgT2JqZWN0XG4gICAqIG5ld09iamVjdCh7J3RhZyc6IFsnYTEnLFxuICAgKiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICogICAgICAgICAgICAgICAgICAgIHsnc2VxJzogW1xuICAgKiAgICAgICAgICAgICAgICAgICAgICB7J2ludCc6IDN9LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICB7J3BybnN0cic6ICdhYWEnfV19XG4gICAqICAgICAgICAgICAgICAgICAgIF19KTtcbiAgICovXG4gIHRoaXMubmV3T2JqZWN0ID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgdmFyIF9LSlVSID0gS0pVUixcbiAgICAgIF9LSlVSX2FzbjEgPSBfS0pVUi5hc24xLFxuICAgICAgX0RFUkJvb2xlYW4gPSBfS0pVUl9hc24xLkRFUkJvb2xlYW4sXG4gICAgICBfREVSSW50ZWdlciA9IF9LSlVSX2FzbjEuREVSSW50ZWdlcixcbiAgICAgIF9ERVJCaXRTdHJpbmcgPSBfS0pVUl9hc24xLkRFUkJpdFN0cmluZyxcbiAgICAgIF9ERVJPY3RldFN0cmluZyA9IF9LSlVSX2FzbjEuREVST2N0ZXRTdHJpbmcsXG4gICAgICBfREVSTnVsbCA9IF9LSlVSX2FzbjEuREVSTnVsbCxcbiAgICAgIF9ERVJPYmplY3RJZGVudGlmaWVyID0gX0tKVVJfYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLFxuICAgICAgX0RFUkVudW1lcmF0ZWQgPSBfS0pVUl9hc24xLkRFUkVudW1lcmF0ZWQsXG4gICAgICBfREVSVVRGOFN0cmluZyA9IF9LSlVSX2FzbjEuREVSVVRGOFN0cmluZyxcbiAgICAgIF9ERVJOdW1lcmljU3RyaW5nID0gX0tKVVJfYXNuMS5ERVJOdW1lcmljU3RyaW5nLFxuICAgICAgX0RFUlByaW50YWJsZVN0cmluZyA9IF9LSlVSX2FzbjEuREVSUHJpbnRhYmxlU3RyaW5nLFxuICAgICAgX0RFUlRlbGV0ZXhTdHJpbmcgPSBfS0pVUl9hc24xLkRFUlRlbGV0ZXhTdHJpbmcsXG4gICAgICBfREVSSUE1U3RyaW5nID0gX0tKVVJfYXNuMS5ERVJJQTVTdHJpbmcsXG4gICAgICBfREVSVVRDVGltZSA9IF9LSlVSX2FzbjEuREVSVVRDVGltZSxcbiAgICAgIF9ERVJHZW5lcmFsaXplZFRpbWUgPSBfS0pVUl9hc24xLkRFUkdlbmVyYWxpemVkVGltZSxcbiAgICAgIF9ERVJTZXF1ZW5jZSA9IF9LSlVSX2FzbjEuREVSU2VxdWVuY2UsXG4gICAgICBfREVSU2V0ID0gX0tKVVJfYXNuMS5ERVJTZXQsXG4gICAgICBfREVSVGFnZ2VkT2JqZWN0ID0gX0tKVVJfYXNuMS5ERVJUYWdnZWRPYmplY3QsXG4gICAgICBfbmV3T2JqZWN0ID0gX0tKVVJfYXNuMS5BU04xVXRpbC5uZXdPYmplY3Q7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwYXJhbSk7XG4gICAgaWYgKGtleXMubGVuZ3RoICE9IDEpIHRocm93IFwia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLlwiO1xuICAgIHZhciBrZXkgPSBrZXlzWzBdO1xuICAgIGlmIChcIjpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnNlcTpzZXQ6dGFnOlwiLmluZGV4T2YoXCI6XCIgKyBrZXkgKyBcIjpcIikgPT0gLTEpIHRocm93IFwidW5kZWZpbmVkIGtleTogXCIgKyBrZXk7XG4gICAgaWYgKGtleSA9PSBcImJvb2xcIikgcmV0dXJuIG5ldyBfREVSQm9vbGVhbihwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwiaW50XCIpIHJldHVybiBuZXcgX0RFUkludGVnZXIocGFyYW1ba2V5XSk7XG4gICAgaWYgKGtleSA9PSBcImJpdHN0clwiKSByZXR1cm4gbmV3IF9ERVJCaXRTdHJpbmcocGFyYW1ba2V5XSk7XG4gICAgaWYgKGtleSA9PSBcIm9jdHN0clwiKSByZXR1cm4gbmV3IF9ERVJPY3RldFN0cmluZyhwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwibnVsbFwiKSByZXR1cm4gbmV3IF9ERVJOdWxsKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJvaWRcIikgcmV0dXJuIG5ldyBfREVST2JqZWN0SWRlbnRpZmllcihwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwiZW51bVwiKSByZXR1cm4gbmV3IF9ERVJFbnVtZXJhdGVkKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJ1dGY4c3RyXCIpIHJldHVybiBuZXcgX0RFUlVURjhTdHJpbmcocGFyYW1ba2V5XSk7XG4gICAgaWYgKGtleSA9PSBcIm51bXN0clwiKSByZXR1cm4gbmV3IF9ERVJOdW1lcmljU3RyaW5nKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJwcm5zdHJcIikgcmV0dXJuIG5ldyBfREVSUHJpbnRhYmxlU3RyaW5nKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJ0ZWxzdHJcIikgcmV0dXJuIG5ldyBfREVSVGVsZXRleFN0cmluZyhwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwiaWE1c3RyXCIpIHJldHVybiBuZXcgX0RFUklBNVN0cmluZyhwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwidXRjdGltZVwiKSByZXR1cm4gbmV3IF9ERVJVVENUaW1lKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJnZW50aW1lXCIpIHJldHVybiBuZXcgX0RFUkdlbmVyYWxpemVkVGltZShwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwic2VxXCIpIHtcbiAgICAgIHZhciBwYXJhbUxpc3QgPSBwYXJhbVtrZXldO1xuICAgICAgdmFyIGEgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhc24xT2JqID0gX25ld09iamVjdChwYXJhbUxpc3RbaV0pO1xuICAgICAgICBhLnB1c2goYXNuMU9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IF9ERVJTZXF1ZW5jZSh7XG4gICAgICAgICdhcnJheSc6IGFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoa2V5ID09IFwic2V0XCIpIHtcbiAgICAgIHZhciBwYXJhbUxpc3QgPSBwYXJhbVtrZXldO1xuICAgICAgdmFyIGEgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhc24xT2JqID0gX25ld09iamVjdChwYXJhbUxpc3RbaV0pO1xuICAgICAgICBhLnB1c2goYXNuMU9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IF9ERVJTZXQoe1xuICAgICAgICAnYXJyYXknOiBhXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGtleSA9PSBcInRhZ1wiKSB7XG4gICAgICB2YXIgdGFnUGFyYW0gPSBwYXJhbVtrZXldO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0YWdQYXJhbSkgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgdGFnUGFyYW0ubGVuZ3RoID09IDMpIHtcbiAgICAgICAgdmFyIG9iaiA9IF9uZXdPYmplY3QodGFnUGFyYW1bMl0pO1xuICAgICAgICByZXR1cm4gbmV3IF9ERVJUYWdnZWRPYmplY3Qoe1xuICAgICAgICAgIHRhZzogdGFnUGFyYW1bMF0sXG4gICAgICAgICAgZXhwbGljaXQ6IHRhZ1BhcmFtWzFdLFxuICAgICAgICAgIG9iajogb2JqXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5ld1BhcmFtID0ge307XG4gICAgICAgIGlmICh0YWdQYXJhbS5leHBsaWNpdCAhPT0gdW5kZWZpbmVkKSBuZXdQYXJhbS5leHBsaWNpdCA9IHRhZ1BhcmFtLmV4cGxpY2l0O1xuICAgICAgICBpZiAodGFnUGFyYW0udGFnICE9PSB1bmRlZmluZWQpIG5ld1BhcmFtLnRhZyA9IHRhZ1BhcmFtLnRhZztcbiAgICAgICAgaWYgKHRhZ1BhcmFtLm9iaiA9PT0gdW5kZWZpbmVkKSB0aHJvdyBcIm9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLlwiO1xuICAgICAgICBuZXdQYXJhbS5vYmogPSBfbmV3T2JqZWN0KHRhZ1BhcmFtLm9iaik7XG4gICAgICAgIHJldHVybiBuZXcgX0RFUlRhZ2dlZE9iamVjdChuZXdQYXJhbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogZ2V0IGVuY29kZWQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTjFPYmplY3Qgc3BlY2lmZWQgYnkgSlNPTiBwYXJhbWV0ZXJzXG4gICAqIEBuYW1lIGpzb25Ub0FTTjFIRVhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5BU04xVXRpbFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheX0gcGFyYW0gSlNPTiBwYXJhbWV0ZXIgdG8gZ2VuZXJhdGUgQVNOMU9iamVjdFxuICAgKiBAcmV0dXJuIGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04xT2JqZWN0XG4gICAqIEBzaW5jZSBhc24xIDEuMC40XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBcyBmb3IgQVNOLjEgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIEpTT04gb2JqZWN0LFxuICAgKiBwbGVhc2Ugc2VlIHtAbGluayBuZXdPYmplY3R9LlxuICAgKiBAZXhhbXBsZVxuICAgKiBqc29uVG9BU04xSEVYKHsncHJuc3RyJzogJ2FhYSd9KTtcbiAgICovXG4gIHRoaXMuanNvblRvQVNOMUhFWCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIHZhciBhc24xT2JqID0gdGhpcy5uZXdPYmplY3QocGFyYW0pO1xuICAgIHJldHVybiBhc24xT2JqLmdldEVuY29kZWRIZXgoKTtcbiAgfTtcbn0oKTtcbi8qKlxuICogZ2V0IGRvdCBub3RlZCBvaWQgbnVtYmVyIHN0cmluZyBmcm9tIGhleGFkZWNpbWFsIHZhbHVlIG9mIE9JRFxuICogQG5hbWUgb2lkSGV4VG9JbnRcbiAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMVV0aWxcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGhleCBoZXhhZGVjaW1hbCB2YWx1ZSBvZiBvYmplY3QgaWRlbnRpZmllclxuICogQHJldHVybiB7U3RyaW5nfSBkb3Qgbm90ZWQgc3RyaW5nIG9mIG9iamVjdCBpZGVudGlmaWVyXG4gKiBAc2luY2UganNyc2FzaWduIDQuOC4zIGFzbjEgMS4wLjdcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzdGF0aWMgbWV0aG9kIGNvbnZlcnRzIGZyb20gaGV4YWRlY2ltYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mXG4gKiBBU04uMSB2YWx1ZSBvZiBvYmplY3QgaWRlbnRpZmllciB0byBvaWQgbnVtYmVyIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKiBLSlVSLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQoJzU1MDQwNicpICZyYXJyOyBcIjIuNS40LjZcIlxuICovXG5LSlVSLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciBzID0gXCJcIjtcbiAgdmFyIGkwMSA9IHBhcnNlSW50KGhleC5zdWJzdHIoMCwgMiksIDE2KTtcbiAgdmFyIGkwID0gTWF0aC5mbG9vcihpMDEgLyA0MCk7XG4gIHZhciBpMSA9IGkwMSAlIDQwO1xuICB2YXIgcyA9IGkwICsgXCIuXCIgKyBpMTtcbiAgdmFyIGJpbmJ1ZiA9IFwiXCI7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgaGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpLCAyKSwgMTYpO1xuICAgIHZhciBiaW4gPSAoXCIwMDAwMDAwMFwiICsgdmFsdWUudG9TdHJpbmcoMikpLnNsaWNlKC04KTtcbiAgICBiaW5idWYgPSBiaW5idWYgKyBiaW4uc3Vic3RyKDEsIDcpO1xuICAgIGlmIChiaW4uc3Vic3RyKDAsIDEpID09IFwiMFwiKSB7XG4gICAgICB2YXIgYmkgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihiaW5idWYsIDIpO1xuICAgICAgcyA9IHMgKyBcIi5cIiArIGJpLnRvU3RyaW5nKDEwKTtcbiAgICAgIGJpbmJ1ZiA9IFwiXCI7XG4gICAgfVxuICB9XG4gIDtcbiAgcmV0dXJuIHM7XG59O1xuLyoqXG4gKiBnZXQgaGV4YWRlY2ltYWwgdmFsdWUgb2Ygb2JqZWN0IGlkZW50aWZpZXIgZnJvbSBkb3Qgbm90ZWQgb2lkIHZhbHVlXG4gKiBAbmFtZSBvaWRJbnRUb0hleFxuICogQG1lbWJlck9mIEtKVVIuYXNuMS5BU04xVXRpbFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gb2lkU3RyaW5nIGRvdCBub3RlZCBzdHJpbmcgb2Ygb2JqZWN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge1N0cmluZ30gaGV4YWRlY2ltYWwgdmFsdWUgb2Ygb2JqZWN0IGlkZW50aWZpZXJcbiAqIEBzaW5jZSBqc3JzYXNpZ24gNC44LjMgYXNuMSAxLjAuN1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIHN0YXRpYyBtZXRob2QgY29udmVydHMgZnJvbSBvYmplY3QgaWRlbnRpZmllciB2YWx1ZSBzdHJpbmcuXG4gKiB0byBoZXhhZGVjaW1hbCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaXQuXG4gKiBAZXhhbXBsZVxuICogS0pVUi5hc24xLkFTTjFVdGlsLm9pZEludFRvSGV4KFwiMi41LjQuNlwiKSAmcmFycjsgXCI1NTA0MDZcIlxuICovXG5LSlVSLmFzbjEuQVNOMVV0aWwub2lkSW50VG9IZXggPSBmdW5jdGlvbiAob2lkU3RyaW5nKSB7XG4gIHZhciBpdG94ID0gZnVuY3Rpb24gKGkpIHtcbiAgICB2YXIgaCA9IGkudG9TdHJpbmcoMTYpO1xuICAgIGlmIChoLmxlbmd0aCA9PSAxKSBoID0gJzAnICsgaDtcbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgdmFyIHJvaWR0b3ggPSBmdW5jdGlvbiAocm9pZCkge1xuICAgIHZhciBoID0gJyc7XG4gICAgdmFyIGJpID0gbmV3IF9qc2JuLkJpZ0ludGVnZXIocm9pZCwgMTApO1xuICAgIHZhciBiID0gYmkudG9TdHJpbmcoMik7XG4gICAgdmFyIHBhZExlbiA9IDcgLSBiLmxlbmd0aCAlIDc7XG4gICAgaWYgKHBhZExlbiA9PSA3KSBwYWRMZW4gPSAwO1xuICAgIHZhciBiUGFkID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWRMZW47IGkrKykgYlBhZCArPSAnMCc7XG4gICAgYiA9IGJQYWQgKyBiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGggLSAxOyBpICs9IDcpIHtcbiAgICAgIHZhciBiOCA9IGIuc3Vic3RyKGksIDcpO1xuICAgICAgaWYgKGkgIT0gYi5sZW5ndGggLSA3KSBiOCA9ICcxJyArIGI4O1xuICAgICAgaCArPSBpdG94KHBhcnNlSW50KGI4LCAyKSk7XG4gICAgfVxuICAgIHJldHVybiBoO1xuICB9O1xuICBpZiAoIW9pZFN0cmluZy5tYXRjaCgvXlswLTkuXSskLykpIHtcbiAgICB0aHJvdyBcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIiArIG9pZFN0cmluZztcbiAgfVxuICB2YXIgaCA9ICcnO1xuICB2YXIgYSA9IG9pZFN0cmluZy5zcGxpdCgnLicpO1xuICB2YXIgaTAgPSBwYXJzZUludChhWzBdKSAqIDQwICsgcGFyc2VJbnQoYVsxXSk7XG4gIGggKz0gaXRveChpMCk7XG4gIGEuc3BsaWNlKDAsIDIpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBoICs9IHJvaWR0b3goYVtpXSk7XG4gIH1cbiAgcmV0dXJuIGg7XG59O1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICBBYnN0cmFjdCBBU04uMSBDbGFzc2VzXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogYmFzZSBjbGFzcyBmb3IgQVNOLjEgREVSIGVuY29kZXIgb2JqZWN0XG4gKiBAbmFtZSBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGNsYXNzIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBlbmNvZGVyIG9iamVjdFxuICogQHByb3BlcnR5IHtCb29sZWFufSBpc01vZGlmaWVkIGZsYWcgd2hldGhlciBpbnRlcm5hbCBkYXRhIHdhcyBjaGFuZ2VkXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaFRMViBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaFQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViB0YWcoVClcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBoTCBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWIGxlbmd0aChMKVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGhWIGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04uMSBUTFYgdmFsdWUoVilcbiAqIEBkZXNjcmlwdGlvblxuICovXG5LSlVSLmFzbjEuQVNOMU9iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGlzTW9kaWZpZWQgPSB0cnVlO1xuICB2YXIgaFRMViA9IG51bGw7XG4gIHZhciBoVCA9ICcwMCc7XG4gIHZhciBoTCA9ICcwMCc7XG4gIHZhciBoViA9ICcnO1xuICAvKipcbiAgICogZ2V0IGhleGFkZWNpbWFsIEFTTi4xIFRMViBsZW5ndGgoTCkgYnl0ZXMgZnJvbSBUTFYgdmFsdWUoVilcbiAgICogQG5hbWUgZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMU9iamVjdCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViBsZW5ndGgoTClcbiAgICovXG4gIHRoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5oViA9PSBcInVuZGVmaW5lZFwiIHx8IHRoaXMuaFYgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgXCJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkLlwiO1xuICAgIH1cbiAgICBpZiAodGhpcy5oVi5sZW5ndGggJSAyID09IDEpIHtcbiAgICAgIHRocm93IFwidmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49XCIgKyBoVi5sZW5ndGggKyBcIix2PVwiICsgdGhpcy5oVjtcbiAgICB9XG4gICAgdmFyIG4gPSB0aGlzLmhWLmxlbmd0aCAvIDI7XG4gICAgdmFyIGhOID0gbi50b1N0cmluZygxNik7XG4gICAgaWYgKGhOLmxlbmd0aCAlIDIgPT0gMSkge1xuICAgICAgaE4gPSBcIjBcIiArIGhOO1xuICAgIH1cbiAgICBpZiAobiA8IDEyOCkge1xuICAgICAgcmV0dXJuIGhOO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaE5sZW4gPSBoTi5sZW5ndGggLyAyO1xuICAgICAgaWYgKGhObGVuID4gMTUpIHtcbiAgICAgICAgdGhyb3cgXCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIgKyBuLnRvU3RyaW5nKDE2KTtcbiAgICAgIH1cbiAgICAgIHZhciBoZWFkID0gMTI4ICsgaE5sZW47XG4gICAgICByZXR1cm4gaGVhZC50b1N0cmluZygxNikgKyBoTjtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBnZXQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViBieXRlc1xuICAgKiBAbmFtZSBnZXRFbmNvZGVkSGV4XG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMU9iamVjdCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMVlxuICAgKi9cbiAgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmhUTFYgPT0gbnVsbCB8fCB0aGlzLmlzTW9kaWZpZWQpIHtcbiAgICAgIHRoaXMuaFYgPSB0aGlzLmdldEZyZXNoVmFsdWVIZXgoKTtcbiAgICAgIHRoaXMuaEwgPSB0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZSgpO1xuICAgICAgdGhpcy5oVExWID0gdGhpcy5oVCArIHRoaXMuaEwgKyB0aGlzLmhWO1xuICAgICAgdGhpcy5pc01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAvL2FsZXJ0KFwiZmlyc3QgdGltZTogXCIgKyB0aGlzLmhUTFYpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oVExWO1xuICB9O1xuICAvKipcbiAgICogZ2V0IGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04uMSBUTFYgdmFsdWUoVikgYnl0ZXNcbiAgICogQG5hbWUgZ2V0VmFsdWVIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5BU04xT2JqZWN0I1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWIHZhbHVlKFYpIGJ5dGVzXG4gICAqL1xuICB0aGlzLmdldFZhbHVlSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZ2V0RW5jb2RlZEhleCgpO1xuICAgIHJldHVybiB0aGlzLmhWO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9O1xufTtcbi8vID09IEJFR0lOIERFUkFic3RyYWN0U3RyaW5nID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgc3RyaW5nIGNsYXNzZXNcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGNsYXNzIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBzdHJpbmcgY2xhc3Nlc1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzIGludGVybmFsIHN0cmluZyBvZiB2YWx1ZVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPnN0ciAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIHN0cmluZzwvbGk+XG4gKiA8bGk+aGV4IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgaGV4YWRlY2ltYWwgc3RyaW5nPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgcyA9IG51bGw7XG4gIHZhciBoViA9IG51bGw7XG4gIC8qKlxuICAgKiBnZXQgc3RyaW5nIHZhbHVlIG9mIHRoaXMgc3RyaW5nIG9iamVjdFxuICAgKiBAbmFtZSBnZXRTdHJpbmdcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gc3RyaW5nIHZhbHVlIG9mIHRoaXMgc3RyaW5nIG9iamVjdFxuICAgKi9cbiAgdGhpcy5nZXRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucztcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIHN0cmluZ1xuICAgKiBAbmFtZSBzZXRTdHJpbmdcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTIHZhbHVlIGJ5IGEgc3RyaW5nIHRvIHNldFxuICAgKi9cbiAgdGhpcy5zZXRTdHJpbmcgPSBmdW5jdGlvbiAobmV3Uykge1xuICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICB0aGlzLnMgPSBuZXdTO1xuICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIGhleGFkZWNpbWFsIHN0cmluZ1xuICAgKiBAbmFtZSBzZXRTdHJpbmdIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdIZXhTdHJpbmcgdmFsdWUgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gc2V0XG4gICAqL1xuICB0aGlzLnNldFN0cmluZ0hleCA9IGZ1bmN0aW9uIChuZXdIZXhTdHJpbmcpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5zID0gbnVsbDtcbiAgICB0aGlzLmhWID0gbmV3SGV4U3RyaW5nO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLnNldFN0cmluZyhwYXJhbXMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snc3RyJ10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zWydzdHInXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydoZXgnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldFN0cmluZ0hleChwYXJhbXNbJ2hleCddKTtcbiAgICB9XG4gIH1cbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyA9PSBFTkQgICBERVJBYnN0cmFjdFN0cmluZyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vID09IEJFR0lOIERFUkFic3RyYWN0VGltZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgR2VuZXJhbGl6ZWQvVVRDVGltZSBjbGFzc1xuICogQG5hbWUgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZVxuICogQGNsYXNzIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBHZW5lcmFsaXplZC9VVENUaW1lIGNsYXNzXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJzEzMDQzMDIzNTk1OVonfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgcyA9IG51bGw7XG4gIHZhciBkYXRlID0gbnVsbDtcbiAgLy8gLS0tIFBSSVZBVEUgTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB0aGlzLmxvY2FsRGF0ZVRvVVRDID0gZnVuY3Rpb24gKGQpIHtcbiAgICB1dGMgPSBkLmdldFRpbWUoKSArIGQuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwO1xuICAgIHZhciB1dGNEYXRlID0gbmV3IERhdGUodXRjKTtcbiAgICByZXR1cm4gdXRjRGF0ZTtcbiAgfTtcbiAgLypcbiAgICogZm9ybWF0IGRhdGUgc3RyaW5nIGJ5IERhdGEgb2JqZWN0XG4gICAqIEBuYW1lIGZvcm1hdERhdGVcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5BYnN0cmFjdFRpbWU7XG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZU9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAndXRjJyBvciAnZ2VuJ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdpdGhNaWxsaXMgZmxhZyBmb3Igd2l0aCBtaWxsaXNlY3Rpb25zIG9yIG5vdFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogJ3dpdGhNaWxsaXMnIGZsYWcgaXMgc3VwcG9ydGVkIGZyb20gYXNuMSAxLjAuNi5cbiAgICovXG4gIHRoaXMuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlT2JqZWN0LCB0eXBlLCB3aXRoTWlsbGlzKSB7XG4gICAgdmFyIHBhZCA9IHRoaXMuemVyb1BhZGRpbmc7XG4gICAgdmFyIGQgPSB0aGlzLmxvY2FsRGF0ZVRvVVRDKGRhdGVPYmplY3QpO1xuICAgIHZhciB5ZWFyID0gU3RyaW5nKGQuZ2V0RnVsbFllYXIoKSk7XG4gICAgaWYgKHR5cGUgPT0gJ3V0YycpIHllYXIgPSB5ZWFyLnN1YnN0cigyLCAyKTtcbiAgICB2YXIgbW9udGggPSBwYWQoU3RyaW5nKGQuZ2V0TW9udGgoKSArIDEpLCAyKTtcbiAgICB2YXIgZGF5ID0gcGFkKFN0cmluZyhkLmdldERhdGUoKSksIDIpO1xuICAgIHZhciBob3VyID0gcGFkKFN0cmluZyhkLmdldEhvdXJzKCkpLCAyKTtcbiAgICB2YXIgbWluID0gcGFkKFN0cmluZyhkLmdldE1pbnV0ZXMoKSksIDIpO1xuICAgIHZhciBzZWMgPSBwYWQoU3RyaW5nKGQuZ2V0U2Vjb25kcygpKSwgMik7XG4gICAgdmFyIHMgPSB5ZWFyICsgbW9udGggKyBkYXkgKyBob3VyICsgbWluICsgc2VjO1xuICAgIGlmICh3aXRoTWlsbGlzID09PSB0cnVlKSB7XG4gICAgICB2YXIgbWlsbGlzID0gZC5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgIGlmIChtaWxsaXMgIT0gMCkge1xuICAgICAgICB2YXIgc01pbGxpcyA9IHBhZChTdHJpbmcobWlsbGlzKSwgMyk7XG4gICAgICAgIHNNaWxsaXMgPSBzTWlsbGlzLnJlcGxhY2UoL1swXSskLywgXCJcIik7XG4gICAgICAgIHMgPSBzICsgXCIuXCIgKyBzTWlsbGlzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcyArIFwiWlwiO1xuICB9O1xuICB0aGlzLnplcm9QYWRkaW5nID0gZnVuY3Rpb24gKHMsIGxlbikge1xuICAgIGlmIChzLmxlbmd0aCA+PSBsZW4pIHJldHVybiBzO1xuICAgIHJldHVybiBuZXcgQXJyYXkobGVuIC0gcy5sZW5ndGggKyAxKS5qb2luKCcwJykgKyBzO1xuICB9O1xuICAvLyAtLS0gUFVCTElDIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyoqXG4gICAqIGdldCBzdHJpbmcgdmFsdWUgb2YgdGhpcyBzdHJpbmcgb2JqZWN0XG4gICAqIEBuYW1lIGdldFN0cmluZ1xuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gc3RyaW5nIHZhbHVlIG9mIHRoaXMgdGltZSBvYmplY3RcbiAgICovXG4gIHRoaXMuZ2V0U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnM7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBzdHJpbmdcbiAgICogQG5hbWUgc2V0U3RyaW5nXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1MgdmFsdWUgYnkgYSBzdHJpbmcgdG8gc2V0IHN1Y2ggbGlrZSBcIjEzMDQzMDIzNTk1OVpcIlxuICAgKi9cbiAgdGhpcy5zZXRTdHJpbmcgPSBmdW5jdGlvbiAobmV3Uykge1xuICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICB0aGlzLnMgPSBuZXdTO1xuICAgIHRoaXMuaFYgPSBzdG9oZXgobmV3Uyk7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBEYXRlIG9iamVjdFxuICAgKiBAbmFtZSBzZXRCeURhdGVWYWx1ZVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0geWVhciB5ZWFyIG9mIGRhdGUgKGV4LiAyMDEzKVxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IG1vbnRoIG1vbnRoIG9mIGRhdGUgYmV0d2VlbiAxIGFuZCAxMiAoZXguIDEyKVxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IGRheSBkYXkgb2YgbW9udGhcbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBob3VyIGhvdXJzIG9mIGRhdGVcbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBtaW4gbWludXRlcyBvZiBkYXRlXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gc2VjIHNlY29uZHMgb2YgZGF0ZVxuICAgKi9cbiAgdGhpcy5zZXRCeURhdGVWYWx1ZSA9IGZ1bmN0aW9uICh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW4sIHNlYykge1xuICAgIHZhciBkYXRlT2JqZWN0ID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXIsIG1pbiwgc2VjLCAwKSk7XG4gICAgdGhpcy5zZXRCeURhdGUoZGF0ZU9iamVjdCk7XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuLy8gPT0gRU5EICAgREVSQWJzdHJhY3RUaW1lID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyA9PSBCRUdJTiBERVJBYnN0cmFjdFN0cnVjdHVyZWQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogYmFzZSBjbGFzcyBmb3IgQVNOLjEgREVSIHN0cnVjdHVyZWQgY2xhc3NcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWRcbiAqIEBjbGFzcyBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgc3RydWN0dXJlZCBjbGFzc1xuICogQHByb3BlcnR5IHtBcnJheX0gYXNuMUFycmF5IGludGVybmFsIGFycmF5IG9mIEFTTjFPYmplY3RcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciBhc24xQXJyYXkgPSBudWxsO1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGFycmF5IG9mIEFTTjFPYmplY3RcbiAgICogQG5hbWUgc2V0QnlBU04xT2JqZWN0QXJyYXlcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge2FycmF5fSBhc24xT2JqZWN0QXJyYXkgYXJyYXkgb2YgQVNOMU9iamVjdCB0byBzZXRcbiAgICovXG4gIHRoaXMuc2V0QnlBU04xT2JqZWN0QXJyYXkgPSBmdW5jdGlvbiAoYXNuMU9iamVjdEFycmF5KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuYXNuMUFycmF5ID0gYXNuMU9iamVjdEFycmF5O1xuICB9O1xuICAvKipcbiAgICogYXBwZW5kIGFuIEFTTjFPYmplY3QgdG8gaW50ZXJuYWwgYXJyYXlcbiAgICogQG5hbWUgYXBwZW5kQVNOMU9iamVjdFxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7QVNOMU9iamVjdH0gYXNuMU9iamVjdCB0byBhZGRcbiAgICovXG4gIHRoaXMuYXBwZW5kQVNOMU9iamVjdCA9IGZ1bmN0aW9uIChhc24xT2JqZWN0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuYXNuMUFycmF5LnB1c2goYXNuMU9iamVjdCk7XG4gIH07XG4gIHRoaXMuYXNuMUFycmF5ID0gbmV3IEFycmF5KCk7XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtc1snYXJyYXknXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmFzbjFBcnJheSA9IHBhcmFtc1snYXJyYXknXTtcbiAgICB9XG4gIH1cbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICBBU04uMSBPYmplY3QgQ2xhc3Nlc1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgQm9vbGVhblxuICogQG5hbWUgS0pVUi5hc24xLkRFUkJvb2xlYW5cbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIEJvb2xlYW5cbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJCb29sZWFuID0gZnVuY3Rpb24gKCkge1xuICBLSlVSLmFzbjEuREVSQm9vbGVhbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjAxXCI7XG4gIHRoaXMuaFRMViA9IFwiMDEwMWZmXCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJCb29sZWFuLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIEludGVnZXJcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJJbnRlZ2VyXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBJbnRlZ2VyXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+aW50IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGludGVnZXIgdmFsdWU8L2xpPlxuICogPGxpPmJpZ2ludCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBCaWdJbnRlZ2VyIG9iamVjdDwvbGk+XG4gKiA8bGk+aGV4IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgaGV4YWRlY2ltYWwgc3RyaW5nPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUkludGVnZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJJbnRlZ2VyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5oVCA9IFwiMDJcIjtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBUb20gV3UncyBCaWdJbnRlZ2VyIG9iamVjdFxuICAgKiBAbmFtZSBzZXRCeUJpZ0ludGVnZXJcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJJbnRlZ2VyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtCaWdJbnRlZ2VyfSBiaWdJbnRlZ2VyVmFsdWUgdG8gc2V0XG4gICAqL1xuICB0aGlzLnNldEJ5QmlnSW50ZWdlciA9IGZ1bmN0aW9uIChiaWdJbnRlZ2VyVmFsdWUpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5oViA9IEtKVVIuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleChiaWdJbnRlZ2VyVmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGludGVnZXIgdmFsdWVcbiAgICogQG5hbWUgc2V0QnlJbnRlZ2VyXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSSW50ZWdlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBpbnRlZ2VyIHZhbHVlIHRvIHNldFxuICAgKi9cbiAgdGhpcy5zZXRCeUludGVnZXIgPSBmdW5jdGlvbiAoaW50VmFsdWUpIHtcbiAgICB2YXIgYmkgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihTdHJpbmcoaW50VmFsdWUpLCAxMCk7XG4gICAgdGhpcy5zZXRCeUJpZ0ludGVnZXIoYmkpO1xuICB9O1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGludGVnZXIgdmFsdWVcbiAgICogQG5hbWUgc2V0VmFsdWVIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJJbnRlZ2VyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IGhleGFkZWNpbWFsIHN0cmluZyBvZiBpbnRlZ2VyIHZhbHVlXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiA8YnIvPlxuICAgKiBOT1RFOiBWYWx1ZSBzaGFsbCBiZSByZXByZXNlbnRlZCBieSBtaW5pbXVtIG9jdGV0IGxlbmd0aCBvZlxuICAgKiB0d28ncyBjb21wbGVtZW50IHJlcHJlc2VudGF0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKiBuZXcgS0pVUi5hc24xLkRFUkludGVnZXIoMTIzKTtcbiAgICogbmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsnaW50JzogMTIzfSk7XG4gICAqIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7J2hleCc6ICcxZmFkJ30pO1xuICAgKi9cbiAgdGhpcy5zZXRWYWx1ZUhleCA9IGZ1bmN0aW9uIChuZXdIZXhTdHJpbmcpIHtcbiAgICB0aGlzLmhWID0gbmV3SGV4U3RyaW5nO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtc1snYmlnaW50J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5zZXRCeUJpZ0ludGVnZXIocGFyYW1zWydiaWdpbnQnXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydpbnQnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5SW50ZWdlcihwYXJhbXNbJ2ludCddKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMgPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5zZXRCeUludGVnZXIocGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXNbJ2hleCddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVIZXgocGFyYW1zWydoZXgnXSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJJbnRlZ2VyLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIGVuY29kZWQgQml0U3RyaW5nIHByaW1pdGl2ZVxuICogQG5hbWUgS0pVUi5hc24xLkRFUkJpdFN0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgZW5jb2RlZCBCaXRTdHJpbmcgcHJpbWl0aXZlXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+YmluIC0gc3BlY2lmeSBiaW5hcnkgc3RyaW5nIChleC4gJzEwMTExJyk8L2xpPlxuICogPGxpPmFycmF5IC0gc3BlY2lmeSBhcnJheSBvZiBib29sZWFuIChleC4gW3RydWUsZmFsc2UsdHJ1ZSx0cnVlXSk8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIHZhbHVlKFYpIGluY2x1ZGluZyB1bnVzZWQgYml0czwvbGk+XG4gKiA8bGk+b2JqIC0gc3BlY2lmeSB7QGxpbmsgS0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdH1cbiAqIGFyZ3VtZW50IGZvciBcIkJpdFN0cmluZyBlbmNhcHN1bGF0ZXNcIiBzdHJ1Y3R1cmUuPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFMTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuPGJyLz5cbiAqIE5PVEUyOiAnb2JqJyBwYXJhbWV0ZXIgaGF2ZSBiZWVuIHN1cHBvcnRlZCBzaW5jZVxuICogYXNuMSAxLjAuMTEsIGpzcnNhc2lnbiA2LjEuMSAoMjAxNi1TZXAtMjUpLjxici8+XG4gKiBAZXhhbXBsZVxuICogLy8gZGVmYXVsdCBjb25zdHJ1Y3RvclxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKCk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggYmluYXJ5IHN0cmluZ1xuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHtiaW46IFwiMTAxMVwifSk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggYm9vbGVhbiBhcnJheVxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHthcnJheTogW3RydWUsZmFsc2UsdHJ1ZSx0cnVlXX0pO1xuICogLy8gaW5pdGlhbGl6ZSB3aXRoIGhleGFkZWNpbWFsIHN0cmluZyAoMDQgaXMgdW51c2VkIGJpdHMpXG4gKiBvID0gbmV3IEtKVVIuYXNuMS5ERVJPY3RldFN0cmluZyh7aGV4OiBcIjA0YmFjMFwifSk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggQVNOMVV0aWwubmV3T2JqZWN0IGFyZ3VtZW50IGZvciBlbmNhcHN1bGF0ZWRcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7b2JqOiB7c2VxOiBbe2ludDogM30sIHtwcm5zdHI6ICdhYWEnfV19fSk7XG4gKiAvLyBhYm92ZSBnZW5lcmF0ZXMgYSBBU04uMSBkYXRhIGxpa2UgdGhpczpcbiAqIC8vIEJJVCBTVFJJTkcsIGVuY2Fwc3VsYXRlcyB7XG4gKiAvLyAgIFNFUVVFTkNFIHtcbiAqIC8vICAgICBJTlRFR0VSIDNcbiAqIC8vICAgICBQcmludGFibGVTdHJpbmcgJ2FhYSdcbiAqIC8vICAgICB9XG4gKiAvLyAgIH1cbiAqL1xuS0pVUi5hc24xLkRFUkJpdFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwYXJhbXMub2JqICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIG8gPSBLSlVSLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHBhcmFtcy5vYmopO1xuICAgIHBhcmFtcy5oZXggPSBcIjAwXCIgKyBvLmdldEVuY29kZWRIZXgoKTtcbiAgfVxuICBLSlVSLmFzbjEuREVSQml0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5oVCA9IFwiMDNcIjtcbiAgLyoqXG4gICAqIHNldCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZyBpbmNsdWRpbmcgdW51c2VkIGJpdHNcbiAgICogQG5hbWUgc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQml0U3RyaW5nI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld0hleFN0cmluZ0luY2x1ZGluZ1VudXNlZEJpdHNcbiAgICovXG4gIHRoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzID0gZnVuY3Rpb24gKG5ld0hleFN0cmluZ0luY2x1ZGluZ1VudXNlZEJpdHMpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5oViA9IG5ld0hleFN0cmluZ0luY2x1ZGluZ1VudXNlZEJpdHM7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgQVNOLjEgdmFsdWUoVikgYnkgdW51c2VkIGJpdCBhbmQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIHZhbHVlXG4gICAqIEBuYW1lIHNldFVudXNlZEJpdHNBbmRIZXhWYWx1ZVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkJpdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gdW51c2VkQml0c1xuICAgKiBAcGFyYW0ge1N0cmluZ30gaFZhbHVlXG4gICAqL1xuICB0aGlzLnNldFVudXNlZEJpdHNBbmRIZXhWYWx1ZSA9IGZ1bmN0aW9uICh1bnVzZWRCaXRzLCBoVmFsdWUpIHtcbiAgICBpZiAodW51c2VkQml0cyA8IDAgfHwgNyA8IHVudXNlZEJpdHMpIHtcbiAgICAgIHRocm93IFwidW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIiArIHVudXNlZEJpdHM7XG4gICAgfVxuICAgIHZhciBoVW51c2VkQml0cyA9IFwiMFwiICsgdW51c2VkQml0cztcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5oViA9IGhVbnVzZWRCaXRzICsgaFZhbHVlO1xuICB9O1xuICAvKipcbiAgICogc2V0IEFTTi4xIERFUiBCaXRTdHJpbmcgYnkgYmluYXJ5IHN0cmluZzxici8+XG4gICAqIEBuYW1lIHNldEJ5QmluYXJ5U3RyaW5nXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQml0U3RyaW5nI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IGJpbmFyeVN0cmluZyBiaW5hcnkgdmFsdWUgc3RyaW5nIChpLmUuICcxMDExMScpXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJdHMgdW51c2VkIGJpdHMgd2lsbCBiZSBjYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYnkgbGVuZ3RoIG9mXG4gICAqICdiaW5hcnlWYWx1ZScuIDxici8+XG4gICAqIE5PVEU6IFRyYWlsaW5nIHplcm9zICcwJyB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIEBleGFtcGxlXG4gICAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZygpO1xuICAgKiBvLnNldEJ5Qm9vbGVhbkFycmF5KFwiMDEwMTFcIik7XG4gICAqL1xuICB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nID0gZnVuY3Rpb24gKGJpbmFyeVN0cmluZykge1xuICAgIGJpbmFyeVN0cmluZyA9IGJpbmFyeVN0cmluZy5yZXBsYWNlKC8wKyQvLCAnJyk7XG4gICAgdmFyIHVudXNlZEJpdHMgPSA4IC0gYmluYXJ5U3RyaW5nLmxlbmd0aCAlIDg7XG4gICAgaWYgKHVudXNlZEJpdHMgPT0gOCkgdW51c2VkQml0cyA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gdW51c2VkQml0czsgaSsrKSB7XG4gICAgICBiaW5hcnlTdHJpbmcgKz0gJzAnO1xuICAgIH1cbiAgICB2YXIgaCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluYXJ5U3RyaW5nLmxlbmd0aCAtIDE7IGkgKz0gOCkge1xuICAgICAgdmFyIGIgPSBiaW5hcnlTdHJpbmcuc3Vic3RyKGksIDgpO1xuICAgICAgdmFyIHggPSBwYXJzZUludChiLCAyKS50b1N0cmluZygxNik7XG4gICAgICBpZiAoeC5sZW5ndGggPT0gMSkgeCA9ICcwJyArIHg7XG4gICAgICBoICs9IHg7XG4gICAgfVxuICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICB0aGlzLmhWID0gJzAnICsgdW51c2VkQml0cyArIGg7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgQVNOLjEgVExWIHZhbHVlKFYpIGJ5IGFuIGFycmF5IG9mIGJvb2xlYW48YnIvPlxuICAgKiBAbmFtZSBzZXRCeUJvb2xlYW5BcnJheVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkJpdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7YXJyYXl9IGJvb2xlYW5BcnJheSBhcnJheSBvZiBib29sZWFuIChleC4gW3RydWUsIGZhbHNlLCB0cnVlXSlcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIE5PVEU6IFRyYWlsaW5nIGZhbHNlcyB3aWxsIGJlIGlnbm9yZWQgaW4gdGhlIEFTTi4xIERFUiBPYmplY3QuXG4gICAqIEBleGFtcGxlXG4gICAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZygpO1xuICAgKiBvLnNldEJ5Qm9vbGVhbkFycmF5KFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIHRydWUsIHRydWVdKTtcbiAgICovXG4gIHRoaXMuc2V0QnlCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoYm9vbGVhbkFycmF5KSB7XG4gICAgdmFyIHMgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvb2xlYW5BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGJvb2xlYW5BcnJheVtpXSA9PSB0cnVlKSB7XG4gICAgICAgIHMgKz0gJzEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyArPSAnMCc7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2V0QnlCaW5hcnlTdHJpbmcocyk7XG4gIH07XG4gIC8qKlxuICAgKiBnZW5lcmF0ZSBhbiBhcnJheSBvZiBmYWxzZXMgd2l0aCBzcGVjaWZpZWQgbGVuZ3RoPGJyLz5cbiAgICogQG5hbWUgbmV3RmFsc2VBcnJheVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkJpdFN0cmluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBuTGVuZ3RoIGxlbmd0aCBvZiBhcnJheSB0byBnZW5lcmF0ZVxuICAgKiBAcmV0dXJuIHthcnJheX0gYXJyYXkgb2YgYm9vbGVhbiBmYWxzZXNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgc3RhdGljIG1ldGhvZCBtYXkgYmUgdXNlZnVsIHRvIGluaXRpYWxpemUgYm9vbGVhbiBhcnJheS5cbiAgICogQGV4YW1wbGVcbiAgICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKCk7XG4gICAqIG8ubmV3RmFsc2VBcnJheSgzKSAmcmFycjsgW2ZhbHNlLCBmYWxzZSwgZmFsc2VdXG4gICAqL1xuICB0aGlzLm5ld0ZhbHNlQXJyYXkgPSBmdW5jdGlvbiAobkxlbmd0aCkge1xuICAgIHZhciBhID0gbmV3IEFycmF5KG5MZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbkxlbmd0aDsgaSsrKSB7XG4gICAgICBhW2ldID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PSBcInN0cmluZ1wiICYmIHBhcmFtcy50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pKSB7XG4gICAgICB0aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cyhwYXJhbXMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snaGV4J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHMocGFyYW1zWydoZXgnXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydiaW4nXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nKHBhcmFtc1snYmluJ10pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snYXJyYXknXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5Qm9vbGVhbkFycmF5KHBhcmFtc1snYXJyYXknXSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcsIEtKVVIuYXNuMS5BU04xT2JqZWN0KTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgT2N0ZXRTdHJpbmc8YnIvPlxuICogQG5hbWUgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBPY3RldFN0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIEFTTi4xIE9jdGV0U3RyaW5nIHNpbXBsZSB0eXBlLjxici8+XG4gKiBTdXBwb3J0ZWQgXCJwYXJhbXNcIiBhdHRyaWJ1dGVzIGFyZTpcbiAqIDx1bD5cbiAqIDxsaT5zdHIgLSB0byBzZXQgYSBzdHJpbmcgYXMgYSB2YWx1ZTwvbGk+XG4gKiA8bGk+aGV4IC0gdG8gc2V0IGEgaGV4YWRlY2ltYWwgc3RyaW5nIGFzIGEgdmFsdWU8L2xpPlxuICogPGxpPm9iaiAtIHRvIHNldCBhIGVuY2Fwc3VsYXRlZCBBU04uMSB2YWx1ZSBieSBKU09OIG9iamVjdFxuICogd2hpY2ggaXMgZGVmaW5lZCBpbiB7QGxpbmsgS0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdH08L2xpPlxuICogPC91bD5cbiAqIE5PVEU6IEEgcGFyYW1ldGVyICdvYmonIGhhdmUgYmVlbiBzdXBwb3J0ZWRcbiAqIGZvciBcIk9DVEVUIFNUUklORywgZW5jYXBzdWxhdGVzXCIgc3RydWN0dXJlLlxuICogc2luY2UgYXNuMSAxLjAuMTEsIGpzcnNhc2lnbiA2LjEuMSAoMjAxNi1TZXAtMjUpLlxuICogQHNlZSBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcgLSBzdXBlcmNsYXNzXG4gKiBAZXhhbXBsZVxuICogLy8gZGVmYXVsdCBjb25zdHJ1Y3RvclxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmcoKTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBzdHJpbmdcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtzdHI6IFwiYWFhXCJ9KTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBoZXhhZGVjaW1hbCBzdHJpbmdcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtoZXg6IFwiNjE2MTYxXCJ9KTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBBU04xVXRpbC5uZXdPYmplY3QgYXJndW1lbnRcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtvYmo6IHtzZXE6IFt7aW50OiAzfSwge3BybnN0cjogJ2FhYSd9XX19KTtcbiAqIC8vIGFib3ZlIGdlbmVyYXRlcyBhIEFTTi4xIGRhdGEgbGlrZSB0aGlzOlxuICogLy8gT0NURVQgU1RSSU5HLCBlbmNhcHN1bGF0ZXMge1xuICogLy8gICBTRVFVRU5DRSB7XG4gKiAvLyAgICAgSU5URUdFUiAzXG4gKiAvLyAgICAgUHJpbnRhYmxlU3RyaW5nICdhYWEnXG4gKiAvLyAgICAgfVxuICogLy8gICB9XG4gKi9cbktKVVIuYXNuMS5ERVJPY3RldFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwYXJhbXMub2JqICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIG8gPSBLSlVSLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHBhcmFtcy5vYmopO1xuICAgIHBhcmFtcy5oZXggPSBvLmdldEVuY29kZWRIZXgoKTtcbiAgfVxuICBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjA0XCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJPY3RldFN0cmluZywgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgTnVsbFxuICogQG5hbWUgS0pVUi5hc24xLkRFUk51bGxcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIE51bGxcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJOdWxsID0gZnVuY3Rpb24gKCkge1xuICBLSlVSLmFzbjEuREVSTnVsbC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjA1XCI7XG4gIHRoaXMuaFRMViA9IFwiMDUwMFwiO1xufTtcbl95YWhvby5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSTnVsbCwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBPYmplY3RJZGVudGlmaWVyXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllclxuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgT2JqZWN0SWRlbnRpZmllclxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J29pZCc6ICcyLjUuNC41J30pXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+b2lkIC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgb2lkIHN0cmluZyAoZXguIDIuNS40LjEzKTwvbGk+XG4gKiA8bGk+aGV4IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgaGV4YWRlY2ltYWwgc3RyaW5nPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIHZhciBpdG94ID0gZnVuY3Rpb24gKGkpIHtcbiAgICB2YXIgaCA9IGkudG9TdHJpbmcoMTYpO1xuICAgIGlmIChoLmxlbmd0aCA9PSAxKSBoID0gJzAnICsgaDtcbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgdmFyIHJvaWR0b3ggPSBmdW5jdGlvbiAocm9pZCkge1xuICAgIHZhciBoID0gJyc7XG4gICAgdmFyIGJpID0gbmV3IF9qc2JuLkJpZ0ludGVnZXIocm9pZCwgMTApO1xuICAgIHZhciBiID0gYmkudG9TdHJpbmcoMik7XG4gICAgdmFyIHBhZExlbiA9IDcgLSBiLmxlbmd0aCAlIDc7XG4gICAgaWYgKHBhZExlbiA9PSA3KSBwYWRMZW4gPSAwO1xuICAgIHZhciBiUGFkID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWRMZW47IGkrKykgYlBhZCArPSAnMCc7XG4gICAgYiA9IGJQYWQgKyBiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGggLSAxOyBpICs9IDcpIHtcbiAgICAgIHZhciBiOCA9IGIuc3Vic3RyKGksIDcpO1xuICAgICAgaWYgKGkgIT0gYi5sZW5ndGggLSA3KSBiOCA9ICcxJyArIGI4O1xuICAgICAgaCArPSBpdG94KHBhcnNlSW50KGI4LCAyKSk7XG4gICAgfVxuICAgIHJldHVybiBoO1xuICB9O1xuICBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjA2XCI7XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmdcbiAgICogQG5hbWUgc2V0VmFsdWVIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld0hleFN0cmluZyBoZXhhZGVjaW1hbCB2YWx1ZSBvZiBPSUQgYnl0ZXNcbiAgICovXG4gIHRoaXMuc2V0VmFsdWVIZXggPSBmdW5jdGlvbiAobmV3SGV4U3RyaW5nKSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMucyA9IG51bGw7XG4gICAgdGhpcy5oViA9IG5ld0hleFN0cmluZztcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIE9JRCBzdHJpbmc8YnIvPlxuICAgKiBAbmFtZSBzZXRWYWx1ZU9pZFN0cmluZ1xuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gb2lkU3RyaW5nIE9JRCBzdHJpbmcgKGV4LiAyLjUuNC4xMylcbiAgICogQGV4YW1wbGVcbiAgICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcigpO1xuICAgKiBvLnNldFZhbHVlT2lkU3RyaW5nKFwiMi41LjQuMTNcIik7XG4gICAqL1xuICB0aGlzLnNldFZhbHVlT2lkU3RyaW5nID0gZnVuY3Rpb24gKG9pZFN0cmluZykge1xuICAgIGlmICghb2lkU3RyaW5nLm1hdGNoKC9eWzAtOS5dKyQvKSkge1xuICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIgKyBvaWRTdHJpbmc7XG4gICAgfVxuICAgIHZhciBoID0gJyc7XG4gICAgdmFyIGEgPSBvaWRTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICB2YXIgaTAgPSBwYXJzZUludChhWzBdKSAqIDQwICsgcGFyc2VJbnQoYVsxXSk7XG4gICAgaCArPSBpdG94KGkwKTtcbiAgICBhLnNwbGljZSgwLCAyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGggKz0gcm9pZHRveChhW2ldKTtcbiAgICB9XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMucyA9IG51bGw7XG4gICAgdGhpcy5oViA9IGg7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBPSUQgbmFtZVxuICAgKiBAbmFtZSBzZXRWYWx1ZU5hbWVcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG9pZE5hbWUgT0lEIG5hbWUgKGV4LiAnc2VydmVyQXV0aCcpXG4gICAqIEBzaW5jZSAxLjAuMVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogT0lEIG5hbWUgc2hhbGwgYmUgZGVmaW5lZCBpbiAnS0pVUi5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdCcuXG4gICAqIE90aGVyd2lzZSByYWlzZSBlcnJvci5cbiAgICogQGV4YW1wbGVcbiAgICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcigpO1xuICAgKiBvLnNldFZhbHVlTmFtZShcInNlcnZlckF1dGhcIik7XG4gICAqL1xuICB0aGlzLnNldFZhbHVlTmFtZSA9IGZ1bmN0aW9uIChvaWROYW1lKSB7XG4gICAgdmFyIG9pZCA9IEtKVVIuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZChvaWROYW1lKTtcbiAgICBpZiAob2lkICE9PSAnJykge1xuICAgICAgdGhpcy5zZXRWYWx1ZU9pZFN0cmluZyhvaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIkRFUk9iamVjdElkZW50aWZpZXIgb2lkTmFtZSB1bmRlZmluZWQ6IFwiICsgb2lkTmFtZTtcbiAgICB9XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGlmIChwYXJhbXMubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pKSB7XG4gICAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcocGFyYW1zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0VmFsdWVOYW1lKHBhcmFtcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJhbXMub2lkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcocGFyYW1zLm9pZCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuaGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVIZXgocGFyYW1zLmhleCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFZhbHVlTmFtZShwYXJhbXMubmFtZSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIEVudW1lcmF0ZWRcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBFbnVtZXJhdGVkXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+aW50IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGludGVnZXIgdmFsdWU8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZzwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKiBAZXhhbXBsZVxuICogbmV3IEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkKDEyMyk7XG4gKiBuZXcgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQoe2ludDogMTIzfSk7XG4gKiBuZXcgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQoe2hleDogJzFmYWQnfSk7XG4gKi9cbktKVVIuYXNuMS5ERVJFbnVtZXJhdGVkID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSRW51bWVyYXRlZC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjBhXCI7XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgVG9tIFd1J3MgQmlnSW50ZWdlciBvYmplY3RcbiAgICogQG5hbWUgc2V0QnlCaWdJbnRlZ2VyXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSRW51bWVyYXRlZCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7QmlnSW50ZWdlcn0gYmlnSW50ZWdlclZhbHVlIHRvIHNldFxuICAgKi9cbiAgdGhpcy5zZXRCeUJpZ0ludGVnZXIgPSBmdW5jdGlvbiAoYmlnSW50ZWdlclZhbHVlKSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuaFYgPSBLSlVSLmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgoYmlnSW50ZWdlclZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBpbnRlZ2VyIHZhbHVlXG4gICAqIEBuYW1lIHNldEJ5SW50ZWdlclxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IGludGVnZXIgdmFsdWUgdG8gc2V0XG4gICAqL1xuICB0aGlzLnNldEJ5SW50ZWdlciA9IGZ1bmN0aW9uIChpbnRWYWx1ZSkge1xuICAgIHZhciBiaSA9IG5ldyBfanNibi5CaWdJbnRlZ2VyKFN0cmluZyhpbnRWYWx1ZSksIDEwKTtcbiAgICB0aGlzLnNldEJ5QmlnSW50ZWdlcihiaSk7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgaW50ZWdlciB2YWx1ZVxuICAgKiBAbmFtZSBzZXRWYWx1ZUhleFxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIGludGVnZXIgdmFsdWVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIDxici8+XG4gICAqIE5PVEU6IFZhbHVlIHNoYWxsIGJlIHJlcHJlc2VudGVkIGJ5IG1pbmltdW0gb2N0ZXQgbGVuZ3RoIG9mXG4gICAqIHR3bydzIGNvbXBsZW1lbnQgcmVwcmVzZW50YXRpb24uXG4gICAqL1xuICB0aGlzLnNldFZhbHVlSGV4ID0gZnVuY3Rpb24gKG5ld0hleFN0cmluZykge1xuICAgIHRoaXMuaFYgPSBuZXdIZXhTdHJpbmc7XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbiAgaWYgKHR5cGVvZiBwYXJhbXMgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zWydpbnQnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5SW50ZWdlcihwYXJhbXNbJ2ludCddKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMgPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5zZXRCeUludGVnZXIocGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXNbJ2hleCddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVIZXgocGFyYW1zWydoZXgnXSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFVURjhTdHJpbmdcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBVVEY4U3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJ2FhYSd9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nIC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSVVRGOFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUlVURjhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjBjXCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBOdW1lcmljU3RyaW5nXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSTnVtZXJpY1N0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgTnVtZXJpY1N0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyAtIHN1cGVyY2xhc3NcbiAqL1xuS0pVUi5hc24xLkRFUk51bWVyaWNTdHJpbmcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJOdW1lcmljU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIxMlwiO1xufTtcbl95YWhvby5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSTnVtZXJpY1N0cmluZywgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgUHJpbnRhYmxlU3RyaW5nXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBQcmludGFibGVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnYWFhJ30pXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmdcbiAqIEBkZXNjcmlwdGlvblxuICogQHNlZSBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjEzXCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcsIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFRlbGV0ZXhTdHJpbmdcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBUZWxldGV4U3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJ2FhYSd9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nIC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSVGVsZXRleFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUlRlbGV0ZXhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjE0XCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBJQTVTdHJpbmdcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJJQTVTdHJpbmdcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIElBNVN0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyAtIHN1cGVyY2xhc3NcbiAqL1xuS0pVUi5hc24xLkRFUklBNVN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUklBNVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgdGhpcy5oVCA9IFwiMTZcIjtcbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUklBNVN0cmluZywgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgVVRDVGltZVxuICogQG5hbWUgS0pVUi5hc24xLkRFUlVUQ1RpbWVcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIFVUQ1RpbWVcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnMTMwNDMwMjM1OTU5Wid9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZVxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+c3RyIC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgc3RyaW5nIChleC4nMTMwNDMwMjM1OTU5WicpPC9saT5cbiAqIDxsaT5oZXggLSBzcGVjaWZ5IGluaXRpYWwgQVNOLjEgdmFsdWUoVikgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmc8L2xpPlxuICogPGxpPmRhdGUgLSBzcGVjaWZ5IERhdGUgb2JqZWN0LjwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKiA8aDQ+RVhBTVBMRVM8L2g0PlxuICogQGV4YW1wbGVcbiAqIGQxID0gbmV3IEtKVVIuYXNuMS5ERVJVVENUaW1lKCk7XG4gKiBkMS5zZXRTdHJpbmcoJzEzMDQzMDEyNTk1OVonKTtcbiAqXG4gKiBkMiA9IG5ldyBLSlVSLmFzbjEuREVSVVRDVGltZSh7J3N0cic6ICcxMzA0MzAxMjU5NTlaJ30pO1xuICogZDMgPSBuZXcgS0pVUi5hc24xLkRFUlVUQ1RpbWUoeydkYXRlJzogbmV3IERhdGUoRGF0ZS5VVEMoMjAxNSwgMCwgMzEsIDAsIDAsIDAsIDApKX0pO1xuICogZDQgPSBuZXcgS0pVUi5hc24xLkRFUlVUQ1RpbWUoJzEzMDQzMDEyNTk1OVonKTtcbiAqL1xuS0pVUi5hc24xLkRFUlVUQ1RpbWUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJVVENUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIxN1wiO1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGEgRGF0ZSBvYmplY3Q8YnIvPlxuICAgKiBAbmFtZSBzZXRCeURhdGVcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJVVENUaW1lI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtEYXRlfSBkYXRlT2JqZWN0IERhdGUgb2JqZWN0IHRvIHNldCBBU04uMSB2YWx1ZShWKVxuICAgKiBAZXhhbXBsZVxuICAgKiBvID0gbmV3IEtKVVIuYXNuMS5ERVJVVENUaW1lKCk7XG4gICAqIG8uc2V0QnlEYXRlKG5ldyBEYXRlKFwiMjAxNi8xMi8zMVwiKSk7XG4gICAqL1xuICB0aGlzLnNldEJ5RGF0ZSA9IGZ1bmN0aW9uIChkYXRlT2JqZWN0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuZGF0ZSA9IGRhdGVPYmplY3Q7XG4gICAgdGhpcy5zID0gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwgJ3V0YycpO1xuICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgfTtcbiAgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5kYXRlID09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHRoaXMucyA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5zID0gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwgJ3V0YycpO1xuICAgICAgdGhpcy5oViA9IHN0b2hleCh0aGlzLnMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHBhcmFtcy5zdHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zLnN0cik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zID09IFwic3RyaW5nXCIgJiYgcGFyYW1zLm1hdGNoKC9eWzAtOV17MTJ9WiQvKSkge1xuICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5oZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRTdHJpbmdIZXgocGFyYW1zLmhleCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldEJ5RGF0ZShwYXJhbXMuZGF0ZSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJVVENUaW1lLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgR2VuZXJhbGl6ZWRUaW1lXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBHZW5lcmFsaXplZFRpbWVcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnMjAxMzA0MzAyMzU5NTlaJ30pXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHdpdGhNaWxsaXMgZmxhZyB0byBzaG93IG1pbGxpc2Vjb25kcyBvciBub3RcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWVcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPnN0ciAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIHN0cmluZyAoZXguJzIwMTMwNDMwMjM1OTU5WicpPC9saT5cbiAqIDxsaT5oZXggLSBzcGVjaWZ5IGluaXRpYWwgQVNOLjEgdmFsdWUoVikgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmc8L2xpPlxuICogPGxpPmRhdGUgLSBzcGVjaWZ5IERhdGUgb2JqZWN0LjwvbGk+XG4gKiA8bGk+bWlsbGlzIC0gc3BlY2lmeSBmbGFnIHRvIHNob3cgbWlsbGlzZWNvbmRzIChmcm9tIDEuMC42KTwvbGk+XG4gKiA8L3VsPlxuICogTk9URTE6ICdwYXJhbXMnIGNhbiBiZSBvbWl0dGVkLlxuICogTk9URTI6ICd3aXRoTWlsbGlzJyBwcm9wZXJ0eSBpcyBzdXBwb3J0ZWQgZnJvbSBhc24xIDEuMC42LlxuICovXG5LSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIxOFwiO1xuICB0aGlzLndpdGhNaWxsaXMgPSBmYWxzZTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIERhdGUgb2JqZWN0XG4gICAqIEBuYW1lIHNldEJ5RGF0ZVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZSNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZU9iamVjdCBEYXRlIG9iamVjdCB0byBzZXQgQVNOLjEgdmFsdWUoVilcbiAgICogQGV4YW1wbGVcbiAgICogV2hlbiB5b3Ugc3BlY2lmeSBVVEMgdGltZSwgdXNlICdEYXRlLlVUQycgbWV0aG9kIGxpa2UgdGhpczo8YnIvPlxuICAgKiBvMSA9IG5ldyBERVJVVENUaW1lKCk7XG4gICAqIG8xLnNldEJ5RGF0ZShkYXRlKTtcbiAgICpcbiAgICogZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDKDIwMTUsIDAsIDMxLCAyMywgNTksIDU5LCAwKSk7ICMyMDE1SkFOMzEgMjM6NTk6NTlcbiAgICovXG4gIHRoaXMuc2V0QnlEYXRlID0gZnVuY3Rpb24gKGRhdGVPYmplY3QpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5kYXRlID0gZGF0ZU9iamVjdDtcbiAgICB0aGlzLnMgPSB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCAnZ2VuJywgdGhpcy53aXRoTWlsbGlzKTtcbiAgICB0aGlzLmhWID0gc3RvaGV4KHRoaXMucyk7XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5kYXRlID09PSB1bmRlZmluZWQgJiYgdGhpcy5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICB0aGlzLnMgPSB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCAnZ2VuJywgdGhpcy53aXRoTWlsbGlzKTtcbiAgICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmIChwYXJhbXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwYXJhbXMuc3RyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RyaW5nKHBhcmFtcy5zdHIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PSBcInN0cmluZ1wiICYmIHBhcmFtcy5tYXRjaCgvXlswLTldezE0fVokLykpIHtcbiAgICAgIHRoaXMuc2V0U3RyaW5nKHBhcmFtcyk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuaGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RyaW5nSGV4KHBhcmFtcy5oZXgpO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRCeURhdGUocGFyYW1zLmRhdGUpO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLm1pbGxpcyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy53aXRoTWlsbGlzID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZSwgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFNlcXVlbmNlXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSU2VxdWVuY2VcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIFNlcXVlbmNlXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkXG4gKiBAZGVzY3JpcHRpb25cbiAqIDxici8+XG4gKiBBcyBmb3IgYXJndW1lbnQgJ3BhcmFtcycgZm9yIGNvbnN0cnVjdG9yLCB5b3UgY2FuIHNwZWNpZnkgb25lIG9mXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIDx1bD5cbiAqIDxsaT5hcnJheSAtIHNwZWNpZnkgYXJyYXkgb2YgQVNOMU9iamVjdCB0byBzZXQgZWxlbWVudHMgb2YgY29udGVudDwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbktKVVIuYXNuMS5ERVJTZXF1ZW5jZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUlNlcXVlbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIzMFwiO1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGggPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXNuMUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXNuMU9iaiA9IHRoaXMuYXNuMUFycmF5W2ldO1xuICAgICAgaCArPSBhc24xT2JqLmdldEVuY29kZWRIZXgoKTtcbiAgICB9XG4gICAgdGhpcy5oViA9IGg7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSwgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFNldFxuICogQG5hbWUgS0pVUi5hc24xLkRFUlNldFxuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgU2V0XG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkXG4gKiBAZGVzY3JpcHRpb25cbiAqIDxici8+XG4gKiBBcyBmb3IgYXJndW1lbnQgJ3BhcmFtcycgZm9yIGNvbnN0cnVjdG9yLCB5b3UgY2FuIHNwZWNpZnkgb25lIG9mXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIDx1bD5cbiAqIDxsaT5hcnJheSAtIHNwZWNpZnkgYXJyYXkgb2YgQVNOMU9iamVjdCB0byBzZXQgZWxlbWVudHMgb2YgY29udGVudDwvbGk+XG4gKiA8bGk+c29ydGZsYWcgLSBmbGFnIGZvciBzb3J0IChkZWZhdWx0OiB0cnVlKS4gQVNOLjEgQkVSIGlzIG5vdCBzb3J0ZWQgaW4gJ1NFVCBPRicuPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFMTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuPGJyLz5cbiAqIE5PVEUyOiBzb3J0ZmxhZyBpcyBzdXBwb3J0ZWQgc2luY2UgMS4wLjUuXG4gKi9cbktKVVIuYXNuMS5ERVJTZXQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJTZXQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjMxXCI7XG4gIHRoaXMuc29ydEZsYWcgPSB0cnVlOyAvLyBpdGVtIHNoYWxsIGJlIHNvcnRlZCBvbmx5IGluIEFTTi4xIERFUlxuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSBuZXcgQXJyYXkoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXNuMUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXNuMU9iaiA9IHRoaXMuYXNuMUFycmF5W2ldO1xuICAgICAgYS5wdXNoKGFzbjFPYmouZ2V0RW5jb2RlZEhleCgpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc29ydEZsYWcgPT0gdHJ1ZSkgYS5zb3J0KCk7XG4gICAgdGhpcy5oViA9IGEuam9pbignJyk7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5zb3J0ZmxhZyAhPSBcInVuZGVmaW5lZFwiICYmIHBhcmFtcy5zb3J0ZmxhZyA9PSBmYWxzZSkgdGhpcy5zb3J0RmxhZyA9IGZhbHNlO1xuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJTZXQsIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBUYWdnZWRPYmplY3RcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3RcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIFRhZ2dlZE9iamVjdFxuICogQGV4dGVuZHMgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIFBhcmFtZXRlciAndGFnTm9OZXgnIGlzIEFTTi4xIHRhZyhUKSB2YWx1ZSBmb3IgdGhpcyBvYmplY3QuXG4gKiBGb3IgZXhhbXBsZSwgaWYgeW91IGZpbmQgJ1sxXScgdGFnIGluIGEgQVNOLjEgZHVtcCxcbiAqICd0YWdOb0hleCcgd2lsbCBiZSAnYTEnLlxuICogPGJyLz5cbiAqIEFzIGZvciBvcHRpb25hbCBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSAqQU5ZKiBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+ZXhwbGljaXQgLSBzcGVjaWZ5IHRydWUgaWYgdGhpcyBpcyBleHBsaWNpdCB0YWcgb3RoZXJ3aXNlIGZhbHNlXG4gKiAgICAgKGRlZmF1bHQgaXMgJ3RydWUnKS48L2xpPlxuICogPGxpPnRhZyAtIHNwZWNpZnkgdGFnIChkZWZhdWx0IGlzICdhMCcgd2hpY2ggbWVhbnMgWzBdKTwvbGk+XG4gKiA8bGk+b2JqIC0gc3BlY2lmeSBBU04xT2JqZWN0IHdoaWNoIGlzIHRhZ2dlZDwvbGk+XG4gKiA8L3VsPlxuICogQGV4YW1wbGVcbiAqIGQxID0gbmV3IEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nKHsnc3RyJzonYSd9KTtcbiAqIGQyID0gbmV3IEtKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3QoeydvYmonOiBkMX0pO1xuICogaGV4ID0gZDIuZ2V0RW5jb2RlZEhleCgpO1xuICovXG5LSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0ID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5oVCA9IFwiYTBcIjtcbiAgdGhpcy5oViA9ICcnO1xuICB0aGlzLmlzRXhwbGljaXQgPSB0cnVlO1xuICB0aGlzLmFzbjFPYmplY3QgPSBudWxsO1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGFuIEFTTjFPYmplY3RcbiAgICogQG5hbWUgc2V0U3RyaW5nXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0I1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtCb29sZWFufSBpc0V4cGxpY2l0RmxhZyBmbGFnIGZvciBleHBsaWNpdC9pbXBsaWNpdCB0YWdcbiAgICogQHBhcmFtIHtJbnRlZ2VyfSB0YWdOb0hleCBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgdGFnXG4gICAqIEBwYXJhbSB7QVNOMU9iamVjdH0gYXNuMU9iamVjdCBBU04uMSB0byBlbmNhcHN1bGF0ZVxuICAgKi9cbiAgdGhpcy5zZXRBU04xT2JqZWN0ID0gZnVuY3Rpb24gKGlzRXhwbGljaXRGbGFnLCB0YWdOb0hleCwgYXNuMU9iamVjdCkge1xuICAgIHRoaXMuaFQgPSB0YWdOb0hleDtcbiAgICB0aGlzLmlzRXhwbGljaXQgPSBpc0V4cGxpY2l0RmxhZztcbiAgICB0aGlzLmFzbjFPYmplY3QgPSBhc24xT2JqZWN0O1xuICAgIGlmICh0aGlzLmlzRXhwbGljaXQpIHtcbiAgICAgIHRoaXMuaFYgPSB0aGlzLmFzbjFPYmplY3QuZ2V0RW5jb2RlZEhleCgpO1xuICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaFYgPSBudWxsO1xuICAgICAgdGhpcy5oVExWID0gYXNuMU9iamVjdC5nZXRFbmNvZGVkSGV4KCk7XG4gICAgICB0aGlzLmhUTFYgPSB0aGlzLmhUTFYucmVwbGFjZSgvXi4uLywgdGFnTm9IZXgpO1xuICAgICAgdGhpcy5pc01vZGlmaWVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtc1sndGFnJ10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oVCA9IHBhcmFtc1sndGFnJ107XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zWydleHBsaWNpdCddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuaXNFeHBsaWNpdCA9IHBhcmFtc1snZXhwbGljaXQnXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXNbJ29iaiddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuYXNuMU9iamVjdCA9IHBhcmFtc1snb2JqJ107XG4gICAgICB0aGlzLnNldEFTTjFPYmplY3QodGhpcy5pc0V4cGxpY2l0LCB0aGlzLmhULCB0aGlzLmFzbjFPYmplY3QpO1xuICAgIH1cbiAgfVxufTtcbl95YWhvby5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0LCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLllBSE9PID0gdm9pZCAwO1xuLyohXG5Db3B5cmlnaHQgKGMpIDIwMTEsIFlhaG9vISBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5Db2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZTpcbmh0dHA6Ly9kZXZlbG9wZXIueWFob28uY29tL3l1aS9saWNlbnNlLmh0bWxcbnZlcnNpb246IDIuOS4wXG4qL1xudmFyIFlBSE9PID0gZXhwb3J0cy5ZQUhPTyA9IHt9O1xuWUFIT08ubGFuZyA9IHtcbiAgLyoqXG4gICAqIFV0aWxpdHkgdG8gc2V0IHVwIHRoZSBwcm90b3R5cGUsIGNvbnN0cnVjdG9yIGFuZCBzdXBlcmNsYXNzIHByb3BlcnRpZXMgdG9cbiAgICogc3VwcG9ydCBhbiBpbmhlcml0YW5jZSBzdHJhdGVneSB0aGF0IGNhbiBjaGFpbiBjb25zdHJ1Y3RvcnMgYW5kIG1ldGhvZHMuXG4gICAqIFN0YXRpYyBtZW1iZXJzIHdpbGwgbm90IGJlIGluaGVyaXRlZC5cbiAgICpcbiAgICogQG1ldGhvZCBleHRlbmRcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWJjICAgdGhlIG9iamVjdCB0byBtb2RpZnlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwZXJjIHRoZSBvYmplY3QgdG8gaW5oZXJpdFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3ZlcnJpZGVzICBhZGRpdGlvbmFsIHByb3BlcnRpZXMvbWV0aG9kcyB0byBhZGQgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2xhc3MgcHJvdG90eXBlLiAgVGhlc2Ugd2lsbCBvdmVycmlkZSB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZyBpdGVtcyBvYnRhaW5lZCBmcm9tIHRoZSBzdXBlcmNsYXNzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcHJlc2VudC5cbiAgICovXG4gIGV4dGVuZDogZnVuY3Rpb24gKHN1YmMsIHN1cGVyYywgb3ZlcnJpZGVzKSB7XG4gICAgaWYgKCFzdXBlcmMgfHwgIXN1YmMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllBSE9PLmxhbmcuZXh0ZW5kIGZhaWxlZCwgcGxlYXNlIGNoZWNrIHRoYXQgXCIgKyBcImFsbCBkZXBlbmRlbmNpZXMgYXJlIGluY2x1ZGVkLlwiKTtcbiAgICB9XG4gICAgdmFyIEYgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBGLnByb3RvdHlwZSA9IHN1cGVyYy5wcm90b3R5cGU7XG4gICAgc3ViYy5wcm90b3R5cGUgPSBuZXcgRigpO1xuICAgIHN1YmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViYztcbiAgICBzdWJjLnN1cGVyY2xhc3MgPSBzdXBlcmMucHJvdG90eXBlO1xuICAgIGlmIChzdXBlcmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID09IE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IpIHtcbiAgICAgIHN1cGVyYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdXBlcmM7XG4gICAgfVxuICAgIGlmIChvdmVycmlkZXMpIHtcbiAgICAgIHZhciBpO1xuICAgICAgZm9yIChpIGluIG92ZXJyaWRlcykge1xuICAgICAgICBzdWJjLnByb3RvdHlwZVtpXSA9IG92ZXJyaWRlc1tpXTtcbiAgICAgIH1cbiAgICAgIC8qXG4gICAgICAgKiBJRSB3aWxsIG5vdCBlbnVtZXJhdGUgbmF0aXZlIGZ1bmN0aW9ucyBpbiBhIGRlcml2ZWQgb2JqZWN0IGV2ZW4gaWYgdGhlXG4gICAgICAgKiBmdW5jdGlvbiB3YXMgb3ZlcnJpZGRlbi4gIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBzcGVjaWZpYyBmdW5jdGlvbnNcbiAgICAgICAqIHdlIGNhcmUgYWJvdXQgb24gdGhlIE9iamVjdCBwcm90b3R5cGUuXG4gICAgICAgKiBAcHJvcGVydHkgX0lFRW51bUZpeFxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gciAgdGhlIG9iamVjdCB0byByZWNlaXZlIHRoZSBhdWdtZW50YXRpb25cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHMgIHRoZSBvYmplY3QgdGhhdCBzdXBwbGllcyB0aGUgcHJvcGVydGllcyB0byBhdWdtZW50XG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB2YXIgX0lFRW51bUZpeCA9IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBBREQgPSBbXCJ0b1N0cmluZ1wiLCBcInZhbHVlT2ZcIl07XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoL01TSUUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICBfSUVFbnVtRml4ID0gZnVuY3Rpb24gKHIsIHMpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBBREQubGVuZ3RoOyBpID0gaSArIDEpIHtcbiAgICAgICAgICAgICAgdmFyIGZuYW1lID0gQUREW2ldLFxuICAgICAgICAgICAgICAgIGYgPSBzW2ZuYW1lXTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGYgIT0gT2JqZWN0LnByb3RvdHlwZVtmbmFtZV0pIHtcbiAgICAgICAgICAgICAgICByW2ZuYW1lXSA9IGY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge31cbiAgICAgIDtcbiAgICAgIF9JRUVudW1GaXgoc3ViYy5wcm90b3R5cGUsIG92ZXJyaWRlcyk7XG4gICAgfVxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9zeXN0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSk7XG52YXIgX3N5c3RlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZGV2aWNlXCIpKTtcbnZhciBfc3lzdGVtMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5uZXR3b3JrXCIpKTtcbnZhciBfc3lzdGVtNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5yb3V0ZXJcIikpO1xudmFyIF9zeXN0ZW01ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmFwcFwiKSk7XG52YXIgX3N5c3RlbTYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2hcIikpO1xudmFyIF9zeXN0ZW03ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmZpbGVcIikpO1xudmFyIF9zeXN0ZW04ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnJlcXVlc3RcIikpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gYnVpbGRVbmlxdWVJZCh0KSB7XG4gIGNvbnN0IGUgPSBbXTtcbiAgZS5wdXNoKERldmljZVV0aWwuZ2V0QWR2ZXJ0aXNpbmdJZCgpKSwgZS5wdXNoKERldmljZVV0aWwuZ2V0QW5kcm9pZElkKCkpLCBlLnB1c2goRGV2aWNlVXRpbC5nZXRPQUlEKCkpLCBQcm9taXNlLmFsbChlKS50aGVuKGUgPT4ge1xuICAgIGNvbnN0IG4gPSBlWzBdO1xuICAgIGNvbnN0IG8gPSBlWzFdO1xuICAgIGNvbnN0IGkgPSBlWzJdO1xuICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLk1PQklMRV9BRFZFUlRJU0lOR19JRCwgbik7XG4gICAgU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuTU9CSUxFX0FORFJPSURfSUQsIG8pO1xuICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLk1PQklMRV9PQUlELCBpKTtcbiAgICB1bmlxdWVpZENhY2hlID0gbyB8fCBuIHx8IGk7XG4gICAgU3RvcmFnZVV0aWwucHV0RGF0YShcInVtZW5nX3VuaXF1ZWlkXCIsIHVuaXF1ZWlkQ2FjaGUpO1xuICAgIHQodW5pcXVlaWRDYWNoZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUodCwgZSkge1xuICByZXR1cm4gZSA9IHtcbiAgICBleHBvcnRzOiB7fVxuICB9LCB0KGUsIGUuZXhwb3J0cyksIGUuZXhwb3J0cztcbn1cbmZ1bmN0aW9uIE1ENSQxKHQpIHtcbiAgcmV0dXJuIE1ENSh0KTtcbn1cbmZ1bmN0aW9uIGVuY29kZSh0KSB7XG4gIHJldHVybiBCYXNlNjRfMi5lbmNvZGUodCwgITEpO1xufVxuZnVuY3Rpb24gZGVjb2RlKHQpIHtcbiAgcmV0dXJuIEJhc2U2NF8yLmRlY29kZSh0KTtcbn1cbmZ1bmN0aW9uIGNoZWNrRW1wdHlBcmd1bWVudCh0KSB7XG4gIHJldHVybiB0Lmxlbmd0aCAmJiB0aGlzLmNoZWNrSWQodFswXSk7XG59XG5mdW5jdGlvbiBjaGVja0lkKHQpIHtcbiAgcmV0dXJuIHQgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdDtcbn1cbmZ1bmN0aW9uIHRvU3RyKHQpIHtcbiAgbGV0IGUgPSBcIlwiO1xuICBpZiAodCkgdHJ5IHtcbiAgICBlID0gSlNPTi5zdHJpbmdpZnkodCk7XG4gIH0gY2F0Y2ggKHQpIHt9XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gc3RyaW5nVG9BcnJheSh0KSB7XG4gIGlmICh0KSB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICB9IGNhdGNoICh0KSB7fVxuICByZXR1cm4gW107XG59XG5mdW5jdGlvbiB0b09iamVjdCh0KSB7XG4gIGlmICh0KSB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICB9IGNhdGNoICh0KSB7fVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNoZWNrQXR0ck9yU3RyaW5nKHQpIHtcbiAgcmV0dXJuICEoIXQgfHwgXCJzdHJpbmdcIiAhPSB0eXBlb2YgdCAmJiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCBpc0FycmF5KHQpKSk7XG59XG5mdW5jdGlvbiBpc0FycmF5KHQpIHtcbiAgcmV0dXJuIFwiW29iamVjdCBBcnJheV1cIiA9PT0ge30udG9TdHJpbmcuY2FsbCh0KTtcbn1cbmZ1bmN0aW9uIGlzTm90QU51bWJlcih0KSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VJbnQodCwgMTApKTtcbn1cbmZ1bmN0aW9uIGNoZWNrTUQ1KHQsIGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdCA9PT0gTUQ1KGUpO1xuICB9IGNhdGNoICh0KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG59XG5mdW5jdGlvbiBMb29wZXIoKSB7fVxuZnVuY3Rpb24gc2VuZCh0KSB7XG4gIF9zeXN0ZW0zLmRlZmF1bHQuZ2V0VHlwZSh7XG4gICAgc3VjY2VzcyhlKSB7XG4gICAgICBcIm5vbmVcIiAhPT0gZS50eXBlICYmIGhhc0VudmVsb3BlKHQsIChlLCBuKSA9PiB7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB7XG4gICAgICAgICAgICAgIG1kNUtleTogbixcbiAgICAgICAgICAgICAgdHlwZTogXCJzZWNvbmRcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5zZW5kKGUsICgpID0+IHtcbiAgICAgICAgICAgICAgU3RvcmVRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UobnVsbCk7XG4gICAgICAgICAgICAgIHJlYWxTZW5kKHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgcmVhbFNlbmQodCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZhaWwoKSB7fVxuICB9KTtcbn1cbmZ1bmN0aW9uIGhhc0VudmVsb3BlKHQsIGUpIHtcbiAgU3RvcmFnZVV0aWwuZ2V0RGF0YShjb25zdGFudHMuS0VZX05PX1NFTkRfUkVRVUVTVF9LRVlTLCBuID0+IHtcbiAgICBpZiAoIW4pIHJldHVybiB2b2lkIGUoITEsIG51bGwpO1xuICAgIGNvbnN0IG8gPSBVbWVuZ1V0aWxzLnN0cmluZ1RvQXJyYXkobik7XG4gICAgaWYgKCFvIHx8IDAgPT09IG8ubGVuZ3RoKSByZXR1cm4gdm9pZCBlKCExLCBudWxsKTtcbiAgICBmb3IgKGNvbnN0IG4gaW4gbykgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwobywgbikpIHtcbiAgICAgIGNvbnN0IGkgPSBvW25dO1xuICAgICAgaWYgKGkpIHtcbiAgICAgICAgY29uc3QgbiA9IGkuaW5kZXhPZihjb25zdGFudHMuS0VZX0VWRU5UX1BSRUZJWCk7XG4gICAgICAgIGlmICgwID09PSBuICYmIHQgPT09IGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfRVZFTlQpIHJldHVybiB2b2lkIGUoITAsIGkpO1xuICAgICAgICBjb25zdCBvID0gaS5pbmRleE9mKGNvbnN0YW50cy5LRVlfSEFMRl9TRVNTSU9OX1BSRUZJWCk7XG4gICAgICAgIGlmICgwID09PSBvICYmIHQgPT09IGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9IQUxGKSByZXR1cm4gdm9pZCBlKCEwLCBpKTtcbiAgICAgICAgY29uc3QgciA9IGkuaW5kZXhPZihjb25zdGFudHMuS0VZX0NMT1NFX1NFU1NJT05fUFJFRklYKTtcbiAgICAgICAgaWYgKDAgPT09IHIgJiYgdCA9PT0gY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9TRVNTSU9OX0NMT1NFKSByZXR1cm4gdm9pZCBlKCEwLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZSghMSwgbnVsbCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVhbFNlbmQodCkge1xuICBpZiAoUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLnBhcmFtc0lzVmFsaWQodCkpIGlmICh0ID09PSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRikge1xuICAgIGNvbnN0IGUgPSBSZXF1ZXN0SGVscGVyLmdldEluc3RhbmNlKCkuYnVpbGRTZW5kQ29udGVudCh0LCBudWxsKSxcbiAgICAgIG4gPSBlLmRhdGE7XG4gICAgbi5hbmFseXRpY3MgJiYgUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLnNlbmQoZSwgdCA9PiB7XG4gICAgICB0ICYmIC0xICE9PSB0LmluZGV4T2YoY29uc3RhbnRzLktFWV9IQUxGX1NFU1NJT05fUFJFRklYKSAmJiAoSGVhZGVyLmdldEluc3RhbmNlKCkuc2V0Rmlyc3RTZW5kRmxhZygpLCBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5BUFBfRklSU1RfT1BFTl9GTEFHLCBcImZhbHNlXCIpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0ID09PSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0UpIHtcbiAgICBjb25zdCBlID0gUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLmJ1aWxkU2VuZENvbnRlbnQodCwgbnVsbCk7XG4gICAgaWYgKGUgJiYgZS5kYXRhKSB7XG4gICAgICBjb25zdCB0ID0gZS5kYXRhO1xuICAgICAgdC5hbmFseXRpY3MgJiYgUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLnNlbmQoZSk7XG4gICAgfVxuICB9IGVsc2UgdCA9PT0gY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVCAmJiBFdmVudFN0b3JlUXVldWUuZ2V0SW5zdGFuY2UoKS5yZWFkRWt2RGF0YXMoZSA9PiB7XG4gICAgaWYgKCFlIHx8IDAgPT09IGUubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgbiA9IFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5idWlsZFNlbmRDb250ZW50KHQsIGUpO1xuICAgIGlmIChuKSB7XG4gICAgICBjb25zdCB0ID0gbi5kYXRhO1xuICAgICAgdC5hbmFseXRpY3MgJiYgKFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5zZW5kKG4pLCBFdmVudENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKS5zZXRTZW5kVGltZSgpKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gc2VuZEFsbCgpIHtcbiAgaWYgKDAgPT09IHRpbWUpIHtcbiAgICB0aW1lID0gMTA7XG4gICAgY29uc3QgdCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRpbWUgLT0gMTtcbiAgICAgIDAgPT09IHRpbWUgJiYgY2xlYXJJbnRlcnZhbCh0KTtcbiAgICB9LCAxMDApO1xuICAgIEhlYWRlci5nZXRJbnN0YW5jZSgpLmdldEhlYWRlcigpID8gKHNlbmQoY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9TRVNTSU9OX0hBTEYpLCBzZW5kKGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9DTE9TRSksIHNlbmQoY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVCkpIDogc2V0VGltZW91dChzZW5kQWxsLCAxMDApO1xuICB9XG59XG5mdW5jdGlvbiBQYWdlQ29udHJvbGxlcigpIHtcbiAgdGhpcy5fcGFnZWxpc3QgPSBbXSwgdGhpcy5fY3VycmVudFBhZ2UgPSB7fSwgdGhpcy5wYWdlT2JqZWN0ID0ge307XG59XG5mdW5jdGlvbiBVbWVuZ0FuYWx5c2lzTGliKCkge1xuICB0aGlzLnBhZ2VDb250cm9sbGVyID0gbmV3IFBhZ2VDb250cm9sbGVyKCk7XG59XG5mdW5jdGlvbiBpc0luaXQoKSB7XG4gIHJldHVybiAhIWluaXRlZCB8fCAoY29uc29sZS5lcnJvcihcIlthcHAudXhdID09PiBvbkNyZWF0ZSBub3QgaW52b2tlZCBpbml0KCkgbWV0aG9kXCIpLCAhMSk7XG59XG5mdW5jdGlvbiBzZW5kRGF0YXMoKSB7XG4gIEhlYWRlci5nZXRJbnN0YW5jZSgpLmdldEhlYWRlcigpID8gKFJlcXVlc3Quc2VuZChjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRiksIFJlcXVlc3Quc2VuZChjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0UpLCBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIHQgPT4ge1xuICAgIHQgPT09IGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfU1RBUlRfU0VORF9WQUxVRSAmJiBSZXF1ZXN0LnNlbmQoY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVCk7XG4gIH0pKSA6IHNldFRpbWVvdXQoc2VuZERhdGFzLCAxMDApO1xufVxuZnVuY3Rpb24gU2RrVXBkYXRlcigpIHtcbiAgdGhpcy51cmwgPSBjb25zdGFudHMuU0RLX1VQREFURV9TRVJWRVJfQUREUkVTUztcbn1cbmZ1bmN0aW9uIFBhZ2UodCkge1xuICBpZiAodCkge1xuICAgIGNvbnN0IGUgPSB0Lm9uU2hvdztcbiAgICB0Lm9uU2hvdyA9IGZ1bmN0aW9uICguLi50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBVbWVuZ0FuYWx5c2lzLnJlc3VtZSh0aGlzKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICBpZiAoZSkgcmV0dXJuIGUuYXBwbHkodGhpcywgdCk7XG4gICAgfTtcbiAgICBjb25zdCBuID0gdC5vbkhpZGU7XG4gICAgdC5vbkhpZGUgPSBmdW5jdGlvbiAoLi4udCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgVW1lbmdBbmFseXNpcy5wYXVzZSh0aGlzKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICBpZiAobikgcmV0dXJuIG4uYXBwbHkodGhpcywgdCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmNvbnN0IFN0b3JhZ2VVdGlsID0ge1xuICAgIHB1dERhdGEodCwgZSwgbiwgbykge1xuICAgICAgX3N5c3RlbS5kZWZhdWx0LnNldCh7XG4gICAgICAgIGtleTogdCxcbiAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgIHN1Y2Nlc3ModCkge1xuICAgICAgICAgIG4gJiYgbih0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZmFpbCh0LCBlKSB7XG4gICAgICAgICAgbyAmJiBvKHQsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldERhdGEodCwgZSwgbikge1xuICAgICAgX3N5c3RlbS5kZWZhdWx0LmdldCh7XG4gICAgICAgIGtleTogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgZSAmJiBlKHQpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKHQsIGUpIHtcbiAgICAgICAgICBuICYmIG4odCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlRGF0YSh0LCBlKSB7XG4gICAgICBfc3lzdGVtLmRlZmF1bHQuZGVsZXRlKHtcbiAgICAgICAga2V5OiB0LFxuICAgICAgICBzdWNjZXNzKCkge1xuICAgICAgICAgIGUgJiYgZSghMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWwoKSB7XG4gICAgICAgICAgZSAmJiBlKCExKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBjb25zdGFudHMgPSB7XG4gICAgS0VZX05PX1NFTkRfUkVRVUVTVF9LRVlTOiBcInVtZW5nX2tleV9ub19zZW5kX3JlcXVlc3RcIixcbiAgICBTRVNTSU9OX0lOVEVSVkFMOiAzZTQsXG4gICAgVEVTVF9VUkw6IFwiaHR0cHM6Ly9wcmV1bG9ncy51bWVuZy5jb20vdW5pZnlfbG9nc1wiLFxuICAgIFJFTEVBU0VfVVJMOiBcImh0dHBzOi8vdWxvZ3MudW1lbmcuY29tL3VuaWZ5X2xvZ3NcIixcbiAgICBLRVlfU0VTU0lPTl9QUkVGSVg6IFwidW1lbmdfc2Vzc2lvbl9wcmVmaXhfXCIsXG4gICAgS0VZX0VWRU5UX1BSRUZJWDogXCJ1bWVuZ19ldmVudF9wcmVmaXhfXCIsXG4gICAgS0VZX0hBTEZfU0VTU0lPTl9QUkVGSVg6IFwidW1lbmdfaGFsZl9zZXNzaW9uX3ByZWZpeF9cIixcbiAgICBLRVlfQ0xPU0VfU0VTU0lPTl9QUkVGSVg6IFwidW1lbmdfY2xvc2Vfc2Vzc2lvbl9wcmVmaXhfXCIsXG4gICAgUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRjogMSxcbiAgICBSRVFVRVNUX1RZUEVfU0VTU0lPTl9DTE9TRTogMixcbiAgICBSRVFVRVNUX1RZUEVfRVZFTlQ6IDMsXG4gICAgSVNfREVCVUc6ICExLFxuICAgIFNES19WRVJTSU9OOiBcIjIuMC4zXCIsXG4gICAgQVBQX0ZJUlNUX09QRU5fRkxBRzogXCJ1bWVuZ19rZXlfZmlyc3Rfb3Blbl9mbGFnXCIsXG4gICAgTU9CSUxFX0FEVkVSVElTSU5HX0lEOiBcInVtZW5nX21vYmlsZV9hZHZlcnRpc2luZ19pZFwiLFxuICAgIE1PQklMRV9BTkRST0lEX0lEOiBcInVtZW5nX2FuZHJvaWRfX2lkXCIsXG4gICAgTU9CSUxFX09BSUQ6IFwidW1lbmdfb2FpZFwiLFxuICAgIEVWRU5UX1NFTkRfTUlOX0lOVEVSVkFMOiA5MCxcbiAgICBFVkVOVF9TRU5EX01BWF9JTlRFUlZBTDogODY0MDAsXG4gICAgRVZFTlRfTEFTVF9TRU5EX1RJTUU6IFwidW1lbmdfZWt2X2xhc3Rfc2VuZF90aW1lXCIsXG4gICAgRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZOiBcImV2ZW50X3NlbmRfcmVwb3J0X3BvbGljeVwiLFxuICAgIEVWRU5UX1NFTkRfUkVQT1JUX0lOVEVSVkFMX1RJTUU6IFwiZXZlbnRfc2VuZF9yZXBvcnRfaW50ZXJ2YWxfdGltZVwiLFxuICAgIEVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWV9TVEFSVF9TRU5EX1ZBTFVFOiBcIjFcIixcbiAgICBFVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfSU5URVJWQUxfVkFMVUU6IFwiNlwiLFxuICAgIERPV05MT0FEX0ZJTEVfRklSU1RfQ0FDSEU6IFwidW1lbmdfc2RrX3VwZGF0ZV9maXJzdENhY2hlTGV2ZWxcIixcbiAgICBET1dOTE9BRF9GSUxFX1NFQ09ORF9DQUNIRTogXCJ1bWVuZ19zZGtfdXBkYXRlX3NlY29uZENhY2hlTGV2ZWxcIixcbiAgICBTREtfVVBEQVRFX1NFUlZFUl9BRERSRVNTOiBcImh0dHA6Ly9zLmNuenouY29tL3Nkay9xdWlja2FwcFwiLFxuICAgIFNES19VUERBVEVfTE9DQUxfU1RPUkFHRV9QQVRIOiBcImludGVybmFsOi8vZmlsZXMvdW1lbmdzZGsvXCJcbiAgfTtcbmxldCBvYWlkQ2FjaGUgPSBudWxsLFxuICBhbmRyb2lkaWRDYWNoZSA9IG51bGwsXG4gIGlkZmFDYWNoZSA9IG51bGwsXG4gIHVuaXF1ZWlkQ2FjaGUgPSBudWxsLFxuICBkZXZpY2VJbmZvQ2FjaGUgPSBudWxsO1xuY29uc3QgRGV2aWNlVXRpbCA9IHtcbiAgICBnZXRCYXNlSW5mbygpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSh0ID0+IHtcbiAgICAgICAgaWYgKGRldmljZUluZm9DYWNoZSkgcmV0dXJuIHZvaWQgdChkZXZpY2VJbmZvQ2FjaGUpO1xuICAgICAgICBfc3lzdGVtMi5kZWZhdWx0LmdldEluZm8oe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgZGV2aWNlSW5mb0NhY2hlID0gZSwgdChlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwoKSB7XG4gICAgICAgICAgICB0KG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldE5ldHdvcmtJbmZvKHQpIHtcbiAgICAgIF9zeXN0ZW0zLmRlZmF1bHQuZ2V0VHlwZSh7XG4gICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgIHQoZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0QW5kcm9pZElkKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHQgPT4ge1xuICAgICAgICBpZiAoYW5kcm9pZGlkQ2FjaGUpIHJldHVybiB2b2lkIHQoYW5kcm9pZGlkQ2FjaGUudXNlcklkKTtcbiAgICAgICAgX3N5c3RlbTIuZGVmYXVsdC5nZXRVc2VySWQoe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgYW5kcm9pZGlkQ2FjaGUgPSBlLCB0KGUudXNlcklkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwoKSB7XG4gICAgICAgICAgICB0KFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEFkdmVydGlzaW5nSWQoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UodCA9PiB7XG4gICAgICAgIGlmIChpZGZhQ2FjaGUpIHJldHVybiB2b2lkIHQoaWRmYUNhY2hlLmFkdmVydGlzaW5nSWQpO1xuICAgICAgICBfc3lzdGVtMi5kZWZhdWx0LmdldEFkdmVydGlzaW5nSWQoe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgaWRmYUNhY2hlID0gZSwgdChlLmFkdmVydGlzaW5nSWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbCgpIHtcbiAgICAgICAgICAgIHQoXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0T0FJRCgpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcImNhbGwgZ2V0T0FJRFwiKSwgbmV3IFByb21pc2UodCA9PiB7XG4gICAgICAgIGlmIChudWxsICE9PSBvYWlkQ2FjaGUpIHJldHVybiB2b2lkIHQob2FpZENhY2hlLm9haWQpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIF9zeXN0ZW0yLmRlZmF1bHQuZ2V0T0FJRCB8fCAhMSA9PT0gX3N5c3RlbTIuZGVmYXVsdC5hbGxvd1RyYWNrT0FJRCA/IHQoXCJcIikgOiBfc3lzdGVtMi5kZWZhdWx0LmdldE9BSUQoe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgb2FpZENhY2hlID0gZSwgdChlLm9haWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbCgpIHtcbiAgICAgICAgICAgIHQoXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VW5pcXVlSWQoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UodCA9PiB7XG4gICAgICAgIHVuaXF1ZWlkQ2FjaGUgPyB0KHVuaXF1ZWlkQ2FjaGUpIDogYnVpbGRVbmlxdWVJZCh0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0UGFnZU5hbWUoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0ID0gX3N5c3RlbTQuZGVmYXVsdC5nZXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gdC5uYW1lO1xuICAgICAgfSBjYXRjaCAodCkge31cbiAgICB9LFxuICAgIGdldFN5c3RlbUJhc2VJbmZvKHQsIGUpIHtcbiAgICAgIGlmIChkZXZpY2VJbmZvQ2FjaGUpIHJldHVybiB2b2lkICh0ICYmIHQoZGV2aWNlSW5mb0NhY2hlKSk7XG4gICAgICBfc3lzdGVtMi5kZWZhdWx0LmdldEluZm8oe1xuICAgICAgICBzdWNjZXNzKGUpIHtcbiAgICAgICAgICBkZXZpY2VJbmZvQ2FjaGUgPSBlLCB0ICYmIHQoZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWwodCwgbikge1xuICAgICAgICAgIGUgJiYgZSh0LCBuKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBMb2cgPSB7XG4gICAgZCh0KSB7fSxcbiAgICBpKHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHVzZXJEZWJ1ZyAmJiBjb25zb2xlLmluZm8odCk7XG4gICAgICB9IGNhdGNoICh0KSB7fVxuICAgIH0sXG4gICAgZSh0KSB7fSxcbiAgICB3KHQpIHt9LFxuICAgIHYodCkge31cbiAgfTtcbnZhciBjb21tb25qc0dsb2JhbCA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdsb2JhbFRoaXMgPyBnbG9iYWxUaGlzIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB7fSxcbiAgTUQ1ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKHQpIHtcbiAgICAhZnVuY3Rpb24gKGUpIHtcbiAgICAgIGZ1bmN0aW9uIG4odCwgZSkge1xuICAgICAgICB2YXIgbiA9ICg2NTUzNSAmIHQpICsgKDY1NTM1ICYgZSk7XG4gICAgICAgIHJldHVybiAodCA+PiAxNikgKyAoZSA+PiAxNikgKyAobiA+PiAxNikgPDwgMTYgfCA2NTUzNSAmIG47XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBvKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQgPDwgZSB8IHQgPj4+IDMyIC0gZTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGkodCwgZSwgaSwgciwgcywgYykge1xuICAgICAgICByZXR1cm4gbihvKG4obihlLCB0KSwgbihyLCBjKSksIHMpLCBpKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHIodCwgZSwgbiwgbywgciwgcywgYykge1xuICAgICAgICByZXR1cm4gaShlICYgbiB8IH5lICYgbywgdCwgZSwgciwgcywgYyk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzKHQsIGUsIG4sIG8sIHIsIHMsIGMpIHtcbiAgICAgICAgcmV0dXJuIGkoZSAmIG8gfCBuICYgfm8sIHQsIGUsIHIsIHMsIGMpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gYyh0LCBlLCBuLCBvLCByLCBzLCBjKSB7XG4gICAgICAgIHJldHVybiBpKGUgXiBuIF4gbywgdCwgZSwgciwgcywgYyk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBhKHQsIGUsIG4sIG8sIHIsIHMsIGMpIHtcbiAgICAgICAgcmV0dXJuIGkobiBeIChlIHwgfm8pLCB0LCBlLCByLCBzLCBjKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHUodCwgZSkge1xuICAgICAgICB0W2UgPj4gNV0gfD0gMTI4IDw8IGUgJSAzMiwgdFsxNCArIChlICsgNjQgPj4+IDkgPDwgNCldID0gZTtcbiAgICAgICAgdmFyIG8sXG4gICAgICAgICAgaSxcbiAgICAgICAgICB1LFxuICAgICAgICAgIGYsXG4gICAgICAgICAgbCxcbiAgICAgICAgICBfID0gMTczMjU4NDE5MyxcbiAgICAgICAgICBFID0gLTI3MTczMzg3OSxcbiAgICAgICAgICBnID0gLTE3MzI1ODQxOTQsXG4gICAgICAgICAgZCA9IDI3MTczMzg3ODtcbiAgICAgICAgZm9yIChvID0gMDsgbyA8IHQubGVuZ3RoOyBvICs9IDE2KSBpID0gXywgdSA9IEUsIGYgPSBnLCBsID0gZCwgRSA9IGEoRSA9IGEoRSA9IGEoRSA9IGEoRSA9IGMoRSA9IGMoRSA9IGMoRSA9IGMoRSA9IHMoRSA9IHMoRSA9IHMoRSA9IHMoRSA9IHIoRSA9IHIoRSA9IHIoRSA9IHIoRSwgZyA9IHIoZywgZCA9IHIoZCwgXyA9IHIoXywgRSwgZywgZCwgdFtvXSwgNywgLTY4MDg3NjkzNiksIEUsIGcsIHRbbyArIDFdLCAxMiwgLTM4OTU2NDU4NiksIF8sIEUsIHRbbyArIDJdLCAxNywgNjA2MTA1ODE5KSwgZCwgXywgdFtvICsgM10sIDIyLCAtMTA0NDUyNTMzMCksIGcgPSByKGcsIGQgPSByKGQsIF8gPSByKF8sIEUsIGcsIGQsIHRbbyArIDRdLCA3LCAtMTc2NDE4ODk3KSwgRSwgZywgdFtvICsgNV0sIDEyLCAxMjAwMDgwNDI2KSwgXywgRSwgdFtvICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSksIGQsIF8sIHRbbyArIDddLCAyMiwgLTQ1NzA1OTgzKSwgZyA9IHIoZywgZCA9IHIoZCwgXyA9IHIoXywgRSwgZywgZCwgdFtvICsgOF0sIDcsIDE3NzAwMzU0MTYpLCBFLCBnLCB0W28gKyA5XSwgMTIsIC0xOTU4NDE0NDE3KSwgXywgRSwgdFtvICsgMTBdLCAxNywgLTQyMDYzKSwgZCwgXywgdFtvICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpLCBnID0gcihnLCBkID0gcihkLCBfID0gcihfLCBFLCBnLCBkLCB0W28gKyAxMl0sIDcsIDE4MDQ2MDM2ODIpLCBFLCBnLCB0W28gKyAxM10sIDEyLCAtNDAzNDExMDEpLCBfLCBFLCB0W28gKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCksIGQsIF8sIHRbbyArIDE1XSwgMjIsIDEyMzY1MzUzMjkpLCBnID0gcyhnLCBkID0gcyhkLCBfID0gcyhfLCBFLCBnLCBkLCB0W28gKyAxXSwgNSwgLTE2NTc5NjUxMCksIEUsIGcsIHRbbyArIDZdLCA5LCAtMTA2OTUwMTYzMiksIF8sIEUsIHRbbyArIDExXSwgMTQsIDY0MzcxNzcxMyksIGQsIF8sIHRbb10sIDIwLCAtMzczODk3MzAyKSwgZyA9IHMoZywgZCA9IHMoZCwgXyA9IHMoXywgRSwgZywgZCwgdFtvICsgNV0sIDUsIC03MDE1NTg2OTEpLCBFLCBnLCB0W28gKyAxMF0sIDksIDM4MDE2MDgzKSwgXywgRSwgdFtvICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSksIGQsIF8sIHRbbyArIDRdLCAyMCwgLTQwNTUzNzg0OCksIGcgPSBzKGcsIGQgPSBzKGQsIF8gPSBzKF8sIEUsIGcsIGQsIHRbbyArIDldLCA1LCA1Njg0NDY0MzgpLCBFLCBnLCB0W28gKyAxNF0sIDksIC0xMDE5ODAzNjkwKSwgXywgRSwgdFtvICsgM10sIDE0LCAtMTg3MzYzOTYxKSwgZCwgXywgdFtvICsgOF0sIDIwLCAxMTYzNTMxNTAxKSwgZyA9IHMoZywgZCA9IHMoZCwgXyA9IHMoXywgRSwgZywgZCwgdFtvICsgMTNdLCA1LCAtMTQ0NDY4MTQ2NyksIEUsIGcsIHRbbyArIDJdLCA5LCAtNTE0MDM3ODQpLCBfLCBFLCB0W28gKyA3XSwgMTQsIDE3MzUzMjg0NzMpLCBkLCBfLCB0W28gKyAxMl0sIDIwLCAtMTkyNjYwNzczNCksIGcgPSBjKGcsIGQgPSBjKGQsIF8gPSBjKF8sIEUsIGcsIGQsIHRbbyArIDVdLCA0LCAtMzc4NTU4KSwgRSwgZywgdFtvICsgOF0sIDExLCAtMjAyMjU3NDQ2MyksIF8sIEUsIHRbbyArIDExXSwgMTYsIDE4MzkwMzA1NjIpLCBkLCBfLCB0W28gKyAxNF0sIDIzLCAtMzUzMDk1NTYpLCBnID0gYyhnLCBkID0gYyhkLCBfID0gYyhfLCBFLCBnLCBkLCB0W28gKyAxXSwgNCwgLTE1MzA5OTIwNjApLCBFLCBnLCB0W28gKyA0XSwgMTEsIDEyNzI4OTMzNTMpLCBfLCBFLCB0W28gKyA3XSwgMTYsIC0xNTU0OTc2MzIpLCBkLCBfLCB0W28gKyAxMF0sIDIzLCAtMTA5NDczMDY0MCksIGcgPSBjKGcsIGQgPSBjKGQsIF8gPSBjKF8sIEUsIGcsIGQsIHRbbyArIDEzXSwgNCwgNjgxMjc5MTc0KSwgRSwgZywgdFtvXSwgMTEsIC0zNTg1MzcyMjIpLCBfLCBFLCB0W28gKyAzXSwgMTYsIC03MjI1MjE5NzkpLCBkLCBfLCB0W28gKyA2XSwgMjMsIDc2MDI5MTg5KSwgZyA9IGMoZywgZCA9IGMoZCwgXyA9IGMoXywgRSwgZywgZCwgdFtvICsgOV0sIDQsIC02NDAzNjQ0ODcpLCBFLCBnLCB0W28gKyAxMl0sIDExLCAtNDIxODE1ODM1KSwgXywgRSwgdFtvICsgMTVdLCAxNiwgNTMwNzQyNTIwKSwgZCwgXywgdFtvICsgMl0sIDIzLCAtOTk1MzM4NjUxKSwgZyA9IGEoZywgZCA9IGEoZCwgXyA9IGEoXywgRSwgZywgZCwgdFtvXSwgNiwgLTE5ODYzMDg0NCksIEUsIGcsIHRbbyArIDddLCAxMCwgMTEyNjg5MTQxNSksIF8sIEUsIHRbbyArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KSwgZCwgXywgdFtvICsgNV0sIDIxLCAtNTc0MzQwNTUpLCBnID0gYShnLCBkID0gYShkLCBfID0gYShfLCBFLCBnLCBkLCB0W28gKyAxMl0sIDYsIDE3MDA0ODU1NzEpLCBFLCBnLCB0W28gKyAzXSwgMTAsIC0xODk0OTg2NjA2KSwgXywgRSwgdFtvICsgMTBdLCAxNSwgLTEwNTE1MjMpLCBkLCBfLCB0W28gKyAxXSwgMjEsIC0yMDU0OTIyNzk5KSwgZyA9IGEoZywgZCA9IGEoZCwgXyA9IGEoXywgRSwgZywgZCwgdFtvICsgOF0sIDYsIDE4NzMzMTMzNTkpLCBFLCBnLCB0W28gKyAxNV0sIDEwLCAtMzA2MTE3NDQpLCBfLCBFLCB0W28gKyA2XSwgMTUsIC0xNTYwMTk4MzgwKSwgZCwgXywgdFtvICsgMTNdLCAyMSwgMTMwOTE1MTY0OSksIGcgPSBhKGcsIGQgPSBhKGQsIF8gPSBhKF8sIEUsIGcsIGQsIHRbbyArIDRdLCA2LCAtMTQ1NTIzMDcwKSwgRSwgZywgdFtvICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpLCBfLCBFLCB0W28gKyAyXSwgMTUsIDcxODc4NzI1OSksIGQsIF8sIHRbbyArIDldLCAyMSwgLTM0MzQ4NTU1MSksIF8gPSBuKF8sIGkpLCBFID0gbihFLCB1KSwgZyA9IG4oZywgZiksIGQgPSBuKGQsIGwpO1xuICAgICAgICByZXR1cm4gW18sIEUsIGcsIGRdO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZih0KSB7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgIG4gPSBcIlwiLFxuICAgICAgICAgIG8gPSAzMiAqIHQubGVuZ3RoO1xuICAgICAgICBmb3IgKGUgPSAwOyBlIDwgbzsgZSArPSA4KSBuICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodFtlID4+IDVdID4+PiBlICUgMzIgJiAyNTUpO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGwodCkge1xuICAgICAgICB2YXIgZSxcbiAgICAgICAgICBuID0gW107XG4gICAgICAgIGZvciAoblsodC5sZW5ndGggPj4gMikgLSAxXSA9IHZvaWQgMCwgZSA9IDA7IGUgPCBuLmxlbmd0aDsgZSArPSAxKSBuW2VdID0gMDtcbiAgICAgICAgdmFyIG8gPSA4ICogdC5sZW5ndGg7XG4gICAgICAgIGZvciAoZSA9IDA7IGUgPCBvOyBlICs9IDgpIG5bZSA+PiA1XSB8PSAoMjU1ICYgdC5jaGFyQ29kZUF0KGUgLyA4KSkgPDwgZSAlIDMyO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF8odCkge1xuICAgICAgICByZXR1cm4gZih1KGwodCksIDggKiB0Lmxlbmd0aCkpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gRSh0LCBlKSB7XG4gICAgICAgIHZhciBuLFxuICAgICAgICAgIG8sXG4gICAgICAgICAgaSA9IGwodCksXG4gICAgICAgICAgciA9IFtdLFxuICAgICAgICAgIHMgPSBbXTtcbiAgICAgICAgZm9yIChyWzE1XSA9IHNbMTVdID0gdm9pZCAwLCBpLmxlbmd0aCA+IDE2ICYmIChpID0gdShpLCA4ICogdC5sZW5ndGgpKSwgbiA9IDA7IG4gPCAxNjsgbiArPSAxKSByW25dID0gOTA5NTIyNDg2IF4gaVtuXSwgc1tuXSA9IDE1NDk1NTY4MjggXiBpW25dO1xuICAgICAgICByZXR1cm4gbyA9IHUoci5jb25jYXQobChlKSksIDUxMiArIDggKiBlLmxlbmd0aCksIGYodShzLmNvbmNhdChvKSwgNjQwKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBnKHQpIHtcbiAgICAgICAgdmFyIGUsXG4gICAgICAgICAgbixcbiAgICAgICAgICBvID0gXCJcIjtcbiAgICAgICAgZm9yIChuID0gMDsgbiA8IHQubGVuZ3RoOyBuICs9IDEpIGUgPSB0LmNoYXJDb2RlQXQobiksIG8gKz0gXCIwMTIzNDU2Nzg5YWJjZGVmXCIuY2hhckF0KGUgPj4+IDQgJiAxNSkgKyBcIjAxMjM0NTY3ODlhYmNkZWZcIi5jaGFyQXQoMTUgJiBlKTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBkKHQpIHtcbiAgICAgICAgcmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBTKHQpIHtcbiAgICAgICAgcmV0dXJuIF8oZCh0KSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBoKHQpIHtcbiAgICAgICAgcmV0dXJuIGcoUyh0KSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIEUoZCh0KSwgZChlKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBVKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGcocCh0LCBlKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBOKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIGUgPyBuID8gcChlLCB0KSA6IFUoZSwgdCkgOiBuID8gUyh0KSA6IGgodCk7XG4gICAgICB9XG4gICAgICB0LmV4cG9ydHMgPyB0LmV4cG9ydHMgPSBOIDogZS5tZDUgPSBOO1xuICAgIH0oY29tbW9uanNHbG9iYWwpO1xuICB9KSxcbiAgQmFzZTY0XzEgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gICAgIWZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGdsb2JhbCkge1xuICAgICAgICB2YXIgX0Jhc2U2NCA9IGdsb2JhbC5CYXNlNjQsXG4gICAgICAgICAgdmVyc2lvbiA9IFwiMi40LjhcIixcbiAgICAgICAgICBidWZmZXI7XG4gICAgICAgIGlmIChtb2R1bGUuZXhwb3J0cykgdHJ5IHtcbiAgICAgICAgICBidWZmZXIgPSBldmFsKFwicmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyXCIpO1xuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgYnVmZmVyID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiNjRjaGFycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLFxuICAgICAgICAgIGI2NHRhYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlID0ge30sIG4gPSAwLCBvID0gdC5sZW5ndGg7IG4gPCBvOyBuKyspIGVbdC5jaGFyQXQobildID0gbjtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgIH0oYjY0Y2hhcnMpLFxuICAgICAgICAgIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG4gICAgICAgICAgY2JfdXRvYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICBpZiAodC5sZW5ndGggPCAyKSByZXR1cm4gKGUgPSB0LmNoYXJDb2RlQXQoMCkpIDwgMTI4ID8gdCA6IGUgPCAyMDQ4ID8gZnJvbUNoYXJDb2RlKDE5MiB8IGUgPj4+IDYpICsgZnJvbUNoYXJDb2RlKDEyOCB8IDYzICYgZSkgOiBmcm9tQ2hhckNvZGUoMjI0IHwgZSA+Pj4gMTIgJiAxNSkgKyBmcm9tQ2hhckNvZGUoMTI4IHwgZSA+Pj4gNiAmIDYzKSArIGZyb21DaGFyQ29kZSgxMjggfCA2MyAmIGUpO1xuICAgICAgICAgICAgdmFyIGUgPSA2NTUzNiArIDEwMjQgKiAodC5jaGFyQ29kZUF0KDApIC0gNTUyOTYpICsgKHQuY2hhckNvZGVBdCgxKSAtIDU2MzIwKTtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQ2hhckNvZGUoMjQwIHwgZSA+Pj4gMTggJiA3KSArIGZyb21DaGFyQ29kZSgxMjggfCBlID4+PiAxMiAmIDYzKSArIGZyb21DaGFyQ29kZSgxMjggfCBlID4+PiA2ICYgNjMpICsgZnJvbUNoYXJDb2RlKDEyOCB8IDYzICYgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZV91dG9iID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRkZdfFteXFx4MDAtXFx4N0ZdL2csXG4gICAgICAgICAgdXRvYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdC5yZXBsYWNlKC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZGXXxbXlxceDAwLVxceDdGXS9nLCBjYl91dG9iKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNiX2VuY29kZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICB2YXIgZSA9IFswLCAyLCAxXVt0Lmxlbmd0aCAlIDNdLFxuICAgICAgICAgICAgICBuID0gdC5jaGFyQ29kZUF0KDApIDw8IDE2IHwgKHQubGVuZ3RoID4gMSA/IHQuY2hhckNvZGVBdCgxKSA6IDApIDw8IDggfCAodC5sZW5ndGggPiAyID8gdC5jaGFyQ29kZUF0KDIpIDogMCk7XG4gICAgICAgICAgICByZXR1cm4gW2I2NGNoYXJzLmNoYXJBdChuID4+PiAxOCksIGI2NGNoYXJzLmNoYXJBdChuID4+PiAxMiAmIDYzKSwgZSA+PSAyID8gXCI9XCIgOiBiNjRjaGFycy5jaGFyQXQobiA+Pj4gNiAmIDYzKSwgZSA+PSAxID8gXCI9XCIgOiBiNjRjaGFycy5jaGFyQXQoNjMgJiBuKV0uam9pbihcIlwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJ0b2EgPSBnbG9iYWwuYnRvYSA/IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsLmJ0b2EodCk7XG4gICAgICAgICAgfSA6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdC5yZXBsYWNlKC9bXFxzXFxTXXsxLDN9L2csIGNiX2VuY29kZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfZW5jb2RlID0gYnVmZmVyID8gYnVmZmVyLmZyb20gJiYgVWludDhBcnJheSAmJiBidWZmZXIuZnJvbSAhPT0gVWludDhBcnJheS5mcm9tID8gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAodC5jb25zdHJ1Y3RvciA9PT0gYnVmZmVyLmNvbnN0cnVjdG9yID8gdCA6IGJ1ZmZlci5mcm9tKHQpKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAodC5jb25zdHJ1Y3RvciA9PT0gYnVmZmVyLmNvbnN0cnVjdG9yID8gdCA6IG5ldyBidWZmZXIodCkpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgICAgICAgIH0gOiBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ0b2EodXRvYih0KSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbmNvZGUgPSBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUgPyBfZW5jb2RlKFN0cmluZyh0KSkucmVwbGFjZSgvWytcXC9dL2csIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBcIitcIiA9PSB0ID8gXCItXCIgOiBcIl9cIjtcbiAgICAgICAgICAgIH0pLnJlcGxhY2UoLz0vZywgXCJcIikgOiBfZW5jb2RlKFN0cmluZyh0KSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbmNvZGVVUkkgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZSh0LCAhMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZV9idG91ID0gbmV3IFJlZ0V4cChbXCJbw4Atw59dW8KALcK/XVwiLCBcIlvDoC3Dr11bwoAtwr9dezJ9XCIsIFwiW8OwLcO3XVvCgC3Cv117M31cIl0uam9pbihcInxcIiksIFwiZ1wiKSxcbiAgICAgICAgICBjYl9idG91ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHZhciBlID0gKCg3ICYgdC5jaGFyQ29kZUF0KDApKSA8PCAxOCB8ICg2MyAmIHQuY2hhckNvZGVBdCgxKSkgPDwgMTIgfCAoNjMgJiB0LmNoYXJDb2RlQXQoMikpIDw8IDYgfCA2MyAmIHQuY2hhckNvZGVBdCgzKSkgLSA2NTUzNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUNoYXJDb2RlKDU1Mjk2ICsgKGUgPj4+IDEwKSkgKyBmcm9tQ2hhckNvZGUoNTYzMjAgKyAoMTAyMyAmIGUpKTtcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tQ2hhckNvZGUoKDE1ICYgdC5jaGFyQ29kZUF0KDApKSA8PCAxMiB8ICg2MyAmIHQuY2hhckNvZGVBdCgxKSkgPDwgNiB8IDYzICYgdC5jaGFyQ29kZUF0KDIpKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUNoYXJDb2RlKCgzMSAmIHQuY2hhckNvZGVBdCgwKSkgPDwgNiB8IDYzICYgdC5jaGFyQ29kZUF0KDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJ0b3UgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIHQucmVwbGFjZShyZV9idG91LCBjYl9idG91KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNiX2RlY29kZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICB2YXIgZSA9IHQubGVuZ3RoLFxuICAgICAgICAgICAgICBuID0gZSAlIDQsXG4gICAgICAgICAgICAgIG8gPSAoZSA+IDAgPyBiNjR0YWJbdC5jaGFyQXQoMCldIDw8IDE4IDogMCkgfCAoZSA+IDEgPyBiNjR0YWJbdC5jaGFyQXQoMSldIDw8IDEyIDogMCkgfCAoZSA+IDIgPyBiNjR0YWJbdC5jaGFyQXQoMildIDw8IDYgOiAwKSB8IChlID4gMyA/IGI2NHRhYlt0LmNoYXJBdCgzKV0gOiAwKSxcbiAgICAgICAgICAgICAgaSA9IFtmcm9tQ2hhckNvZGUobyA+Pj4gMTYpLCBmcm9tQ2hhckNvZGUobyA+Pj4gOCAmIDI1NSksIGZyb21DaGFyQ29kZSgyNTUgJiBvKV07XG4gICAgICAgICAgICByZXR1cm4gaS5sZW5ndGggLT0gWzAsIDAsIDIsIDFdW25dLCBpLmpvaW4oXCJcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdG9iID0gZ2xvYmFsLmF0b2IgPyBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5hdG9iKHQpO1xuICAgICAgICAgIH0gOiBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIHQucmVwbGFjZSgvW1xcc1xcU117MSw0fS9nLCBjYl9kZWNvZGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgX2RlY29kZSA9IGJ1ZmZlciA/IGJ1ZmZlci5mcm9tICYmIFVpbnQ4QXJyYXkgJiYgYnVmZmVyLmZyb20gIT09IFVpbnQ4QXJyYXkuZnJvbSA/IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKHQuY29uc3RydWN0b3IgPT09IGJ1ZmZlci5jb25zdHJ1Y3RvciA/IHQgOiBidWZmZXIuZnJvbSh0LCBcImJhc2U2NFwiKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAodC5jb25zdHJ1Y3RvciA9PT0gYnVmZmVyLmNvbnN0cnVjdG9yID8gdCA6IG5ldyBidWZmZXIodCwgXCJiYXNlNjRcIikpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSA6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gYnRvdShhdG9iKHQpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlY29kZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gX2RlY29kZShTdHJpbmcodCkucmVwbGFjZSgvWy1fXS9nLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICByZXR1cm4gXCItXCIgPT0gdCA/IFwiK1wiIDogXCIvXCI7XG4gICAgICAgICAgICB9KS5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZywgXCJcIikpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gZ2xvYmFsLkJhc2U2NDtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWwuQmFzZTY0ID0gX0Jhc2U2NCwgdDtcbiAgICAgICAgICB9O1xuICAgICAgICBpZiAoZ2xvYmFsLkJhc2U2NCA9IHtcbiAgICAgICAgICBWRVJTSU9OOiBcIjIuNC44XCIsXG4gICAgICAgICAgYXRvYjogYXRvYixcbiAgICAgICAgICBidG9hOiBidG9hLFxuICAgICAgICAgIGZyb21CYXNlNjQ6IGRlY29kZSxcbiAgICAgICAgICB0b0Jhc2U2NDogZW5jb2RlLFxuICAgICAgICAgIHV0b2I6IHV0b2IsXG4gICAgICAgICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgICAgICAgZW5jb2RlVVJJOiBlbmNvZGVVUkksXG4gICAgICAgICAgYnRvdTogYnRvdSxcbiAgICAgICAgICBkZWNvZGU6IGRlY29kZSxcbiAgICAgICAgICBub0NvbmZsaWN0OiBub0NvbmZsaWN0LFxuICAgICAgICAgIF9fYnVmZmVyX186IGJ1ZmZlclxuICAgICAgICB9LCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgIHZhciBub0VudW0gPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHQsXG4gICAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgICBnbG9iYWwuQmFzZTY0LmV4dGVuZFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcImZyb21CYXNlNjRcIiwgbm9FbnVtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZSh0aGlzKTtcbiAgICAgICAgICAgIH0pKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIFwidG9CYXNlNjRcIiwgbm9FbnVtKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmNvZGUodGhpcywgdCk7XG4gICAgICAgICAgICB9KSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcInRvQmFzZTY0VVJJXCIsIG5vRW51bShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmNvZGUodGhpcywgITApO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JhbC5NZXRlb3IgJiYgKEJhc2U2NCA9IGdsb2JhbC5CYXNlNjQpLCBtb2R1bGUuZXhwb3J0cyAmJiAobW9kdWxlLmV4cG9ydHMuQmFzZTY0ID0gZ2xvYmFsLkJhc2U2NCksIHtcbiAgICAgICAgICBCYXNlNjQ6IGdsb2JhbC5CYXNlNjRcbiAgICAgICAgfTtcbiAgICAgIH0oZ2xvYmFsKTtcbiAgICB9KFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogY29tbW9uanNHbG9iYWwpO1xuICB9KSxcbiAgQmFzZTY0XzIgPSBCYXNlNjRfMS5CYXNlNjQsXG4gIFVtZW5nVXRpbHMgPSB7XG4gICAgTUQ1OiBNRDUkMSxcbiAgICBlbmNvZGU6IGVuY29kZSxcbiAgICBkZWNvZGU6IGRlY29kZSxcbiAgICBjaGVja0VtcHR5QXJndW1lbnQ6IGNoZWNrRW1wdHlBcmd1bWVudCxcbiAgICBjaGVja0lkOiBjaGVja0lkLFxuICAgIHN0cmluZ1RvQXJyYXk6IHN0cmluZ1RvQXJyYXksXG4gICAgdG9TdHI6IHRvU3RyLFxuICAgIHRvT2JqZWN0OiB0b09iamVjdCxcbiAgICBjaGVja0F0dHJPclN0cmluZzogY2hlY2tBdHRyT3JTdHJpbmcsXG4gICAgaXNOb3RBTnVtYmVyOiBpc05vdEFOdW1iZXIsXG4gICAgY2hlY2tNRDU6IGNoZWNrTUQ1XG4gIH07XG5jb25zdCAkSlNPTl9VTUVOR19TRVNTSU9OUyQgPSBcImpzb25fdW1lbmdfc2Vzc2lvbnNcIixcbiAgJEpTT05fVU1FTkdfSEFMRl9TRVNTSU9OUyQgPSBcImpzb25fdW1lbmdfaGFsZl9zZXNzaW9uXCIsXG4gICRKU09OX1VNRU5HX0NVUlJFTlRfU0VTU0lPTiQgPSBcImpzb25fdW1lbmdfY3VycmVudF9zZXNzaW9uXCIsXG4gICRKU09OX1VNRU5HX1BBR0VfRU5EX1RJTUUkID0gXCJqc29uX3VtZW5nX3BhZ2VfZW5kX3RpbWVcIixcbiAgU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0Q3VycmVudFNlc3Npb25JZCgpIHtcbiAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3VycmVudFNlc3Npb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNlc3Npb25zKCkge1xuICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICB9LFxuICAgICAgICBpbml0KHQpIHtcbiAgICAgICAgICB0aGlzLmFwcGtleSA9IHQsIG8oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kU2Vzc2lvbigpIHtcbiAgICAgICAgICBhICYmIChjID0gRGF0ZS5ub3coKSwgYS5lbmRfdGltZSA9IGMsIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfQ1VSUkVOVF9TRVNTSU9OJCwgVW1lbmdVdGlscy50b1N0cihhKSksIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfUEFHRV9FTkRfVElNRSQsIGMpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZXNzaW9ucygpIHtcbiAgICAgICAgICBTdG9yYWdlVXRpbC5kZWxldGVEYXRhKCRKU09OX1VNRU5HX1NFU1NJT05TJCksIGwuc3BsaWNlKDAsIGwubGVuZ3RoKSwgbCA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICBzZXRPblNlc3Npb25MaXN0ZW5lcih0KSB7XG4gICAgICAgICAgdGhpcy5zZXNzaW9uTGlzdGVuZXIgPSB0O1xuICAgICAgICB9LFxuICAgICAgICBnZXRIYWxmU2Vzc2lvbnMoKSB7XG4gICAgICAgICAgcmV0dXJuIF87XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFySGFsZlNlc3Npb24oKSB7XG4gICAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlRGF0YSgkSlNPTl9VTUVOR19IQUxGX1NFU1NJT05TJCksIF8uc3BsaWNlKDAsIF8ubGVuZ3RoKSwgXyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKHQsIGUpIHtcbiAgICAgIGNvbnN0IG4gPSBEYXRlLm5vdygpO1xuICAgICAgRGV2aWNlVXRpbC5nZXRVbmlxdWVJZCgpLnRoZW4odCA9PiB7XG4gICAgICAgIGNvbnN0IG8gPSBVbWVuZ1V0aWxzLk1ENShgJHtufTo6OiR7U2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmFwcGtleX06Ojoke3R9YCk7XG4gICAgICAgIGUobyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbih0KSB7XG4gICAgICBjb25zdCBlID0ge307XG4gICAgICByZXR1cm4gZS5pZCA9IHQsIGUuc3RhcnRfdGltZSA9IERhdGUubm93KCksIGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG8oKSB7XG4gICAgICBjb25zdCB0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGEgPyBjICYmIHQgLSBjID4gY29uc3RhbnRzLlNFU1NJT05fSU5URVJWQUwgJiYgKGkoYyksIHIoYSkpIDogU3RvcmFnZVV0aWwuZ2V0RGF0YSgkSlNPTl9VTUVOR19DVVJSRU5UX1NFU1NJT04kLCBlID0+IHtcbiAgICAgICAgZSAmJiAoYSA9IFVtZW5nVXRpbHMudG9PYmplY3QoZSkpID8gU3RvcmFnZVV0aWwuZ2V0RGF0YSgkSlNPTl9VTUVOR19QQUdFX0VORF9USU1FJCwgZSA9PiB7XG4gICAgICAgICAgZSAmJiB0IC0gZSA+IGNvbnN0YW50cy5TRVNTSU9OX0lOVEVSVkFMID8gKGkoZSksIHIoYSkpIDogZiA9IGEuaWQ7XG4gICAgICAgIH0pIDogcihudWxsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGEuZW5kX3RpbWUgPSBwYXJzZUludCh0LCAxMCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGEuZW5kX3RpbWUgPSB0O1xuICAgICAgfVxuICAgICAgY29uc3QgZSA9IHQgLSBhLnN0YXJ0X3RpbWU7XG4gICAgICBhLmR1cmF0aW9uID0gZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcih0KSB7XG4gICAgICBjb25zdCBvID0gdCA/IHQuaWQgOiBcIlwiLFxuICAgICAgICBpID0gU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLnNlc3Npb25MaXN0ZW5lcihvKTtcbiAgICAgIGUobywgZSA9PiB7XG4gICAgICAgIGEgPSBuKGUpO1xuICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKCRKU09OX1VNRU5HX1NFU1NJT05TJCwgbiA9PiB7XG4gICAgICAgICAgbCA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheShuKTtcbiAgICAgICAgICB0ID8gaS5wYWdlcyhuID0+IHtcbiAgICAgICAgICAgIG4gJiYgbi5sZW5ndGggPiAwICYmICh0LnBhZ2VzID0gbiwgdC4kcGFnZV9udW0gPSBuLmxlbmd0aCk7XG4gICAgICAgICAgICBsLnB1c2godCk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKCRKU09OX1VNRU5HX1NFU1NJT05TJCwgVW1lbmdVdGlscy50b1N0cihsKSk7XG4gICAgICAgICAgICBzKGksIGUpO1xuICAgICAgICAgIH0pIDogcyhpLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfQ1VSUkVOVF9TRVNTSU9OJCwgVW1lbmdVdGlscy50b1N0cihhKSk7XG4gICAgICAgIGYgPSBlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgU3RvcmFnZVV0aWwuZ2V0RGF0YSgkSlNPTl9VTUVOR19IQUxGX1NFU1NJT05TJCwgbiA9PiB7XG4gICAgICAgIF8gPSBVbWVuZ1V0aWxzLnN0cmluZ1RvQXJyYXkobik7XG4gICAgICAgIGEgJiYgKF8ucHVzaChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGEpKSksIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfSEFMRl9TRVNTSU9OUyQsIFVtZW5nVXRpbHMudG9TdHIoXykpLCB0LmdlbmVyYXRlU2Vzc2lvbkFmdGVySGFuZGxlcihlKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGMsXG4gICAgICBhLFxuICAgICAgdSA9IG51bGwsXG4gICAgICBmID0gXCJcIixcbiAgICAgIGwgPSBbXSxcbiAgICAgIF8gPSBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiB1IHx8ICh1ID0gdCgpKSwgdTtcbiAgICAgIH1cbiAgICB9O1xuICB9KCksXG4gICRKU09OX1VNRU5HX0hFQURFUiQgPSBcImpzb25fdW1lbmdfaGVhZGVyXCIsXG4gICRVTUVOR19LRVlfSU1QUklOVCQgPSBcInVtZW5nX2tleV9pbXByaW50XCIsXG4gIE1PQklMRV9ORVRXT1JLXzJHID0gXCIyZ1wiLFxuICBNT0JJTEVfTkVUV09SS18zRyA9IFwiM2dcIixcbiAgTU9CSUxFX05FVFdPUktfNEcgPSBcIjRnXCIsXG4gIE1PQklMRV9ORVRXT1JLX05PTkUgPSBcIm5vbmVcIixcbiAgQkxBTktfU1BBQ0UgPSBcIiBcIixcbiAgVU1FTkdfQURWRVJUSVNUSU5HX0lEID0gXCJpZGZhXCIsXG4gIFVNRU5HX0FORFJPSURfSUQgPSBcImFuZHJvaWRfaWRcIixcbiAgVU1FTkdfT0FJRCA9IFwib2FpZFwiLFxuICBIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluaXQodCkge1xuICAgICAgICAgIHRoaXMuYXBwa2V5ID0gdCwgdGhpcy5hcHBJbmZvID0gX3N5c3RlbTUuZGVmYXVsdC5nZXRJbmZvKCksIGUodCA9PiB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlciA9IHQ7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKCRKU09OX1VNRU5HX0hFQURFUiQsIFVtZW5nVXRpbHMudG9TdHIodCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRIZWFkZXIodCkge1xuICAgICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRjpcbiAgICAgICAgICAgICAgdGhpcy5oZWFkZXIuc3QgPSBcIjFcIiwgITAgPT09IHMgJiYgZGVsZXRlIHRoaXMuaGVhZGVyLmF0bTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9DTE9TRTpcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVDpcbiAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaGVhZGVyLnN0LCBkZWxldGUgdGhpcy5oZWFkZXIuYXRtO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEhlYWRlckF0dHIodCwgZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVyICYmICh0aGlzLmhlYWRlclt0XSA9IGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRIZWFkZXJBdHRyKHQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXIgJiYge30uaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmhlYWRlciwgdCkgPyB0aGlzLmhlYWRlclt0XSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBhY2thZ2VOYW1lKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBJbmZvLnBhY2thZ2VOYW1lO1xuICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZpcnN0U2VuZEZsYWcoKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKHQpIHtcbiAgICAgIERldmljZVV0aWwuZ2V0QmFzZUluZm8oKS50aGVuKGUgPT4ge1xuICAgICAgICBEZXZpY2VVdGlsLmdldFVuaXF1ZUlkKCkudGhlbihyID0+IHtcbiAgICAgICAgICBEZXZpY2VVdGlsLmdldE5ldHdvcmtJbmZvKHMgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgfSA9IHM7XG4gICAgICAgICAgICB0eXBlID09PSBNT0JJTEVfTkVUV09SS19OT05FICYmICh0eXBlID0gXCJ1bmtub3duXCIpO1xuICAgICAgICAgICAgY29uc3QgYyA9IGkoZSwgciwgdHlwZSk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKCRVTUVOR19LRVlfSU1QUklOVCQsIGUgPT4ge1xuICAgICAgICAgICAgICAwICE9PSBlLmxlbmd0aCAmJiAoYy5pbXByaW50ID0gZSk7XG4gICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkFQUF9GSVJTVF9PUEVOX0ZMQUcsIGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBcInRydWVcIiA9PT0gZTtcbiAgICAgICAgICAgICAgICBsZXQgciA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgaSAmJiAociA9IG5ldyBEYXRlKCksIGMuYXRtID0gXCIxXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHIpO1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLk1PQklMRV9BRFZFUlRJU0lOR19JRCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gbihlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbyhVTUVOR19BRFZFUlRJU1RJTkdfSUQsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgIGMuaWRfdHJhY2tpbmcgPSBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5NT0JJTEVfQU5EUk9JRF9JRCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IG4oZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIGlmIChjLmlkX3RyYWNraW5nICYmIGMuaWRfdHJhY2tpbmcuc25hcHNob3RzKSBjLmlkX3RyYWNraW5nLnNuYXBzaG90c1tVTUVOR19BTkRST0lEX0lEXSA9IHQ7ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbyhVTUVOR19BTkRST0lEX0lELCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuaWRfdHJhY2tpbmcgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5NT0JJTEVfT0FJRCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIGlmIChjLmlkX3RyYWNraW5nICYmIGMuaWRfdHJhY2tpbmcuc25hcHNob3RzKSBjLmlkX3RyYWNraW5nLnNuYXBzaG90c1tVTUVOR19PQUlEXSA9IHQ7ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBvKFVNRU5HX09BSUQsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjLmlkX3RyYWNraW5nID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgdChjKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbih0KSB7XG4gICAgICBpZiAodCkge1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgIGlkZW50aXR5OiB0LFxuICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgdHM6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG8odCwgZSkge1xuICAgICAgY29uc3QgbiA9IHtcbiAgICAgICAgc25hcHNob3RzOiB7fVxuICAgICAgfTtcbiAgICAgIHJldHVybiBuLnNuYXBzaG90c1t0XSA9IGUsIG47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkodCwgZSwgbikge1xuICAgICAgbGV0IG8gPSBudWxsO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQuc2NyZWVuV2lkdGgsXG4gICAgICAgICAgaSA9IHQuc2NyZWVuSGVpZ2h0LFxuICAgICAgICAgIHMgPSBuID4gaSA/IGAke259KiR7aX1gIDogYCR7aX0qJHtufWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXBwSW5mbzogYXBwSW5mb1xuICAgICAgICAgIH0gPSByLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAgIGJyYW5kOiBicmFuZFxuICAgICAgICAgIH0gPSB0LFxuICAgICAgICAgIGMgPSBicmFuZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBvID0ge1xuICAgICAgICAgIGFwcF92ZXJzaW9uOiBhcHBJbmZvLnZlcnNpb25OYW1lLFxuICAgICAgICAgIHZlcnNpb25fY29kZTogYXBwSW5mby52ZXJzaW9uQ29kZSxcbiAgICAgICAgICBhcHBfc291cmNlX2V4dHJhOiBhcHBJbmZvLnNvdXJjZS5leHRyYSxcbiAgICAgICAgICBkZXZpY2VfdHlwZTogXCJQaG9uZVwiLFxuICAgICAgICAgIHBhY2thZ2VfbmFtZTogYXBwSW5mby5wYWNrYWdlTmFtZSxcbiAgICAgICAgICBzZGtfdHlwZTogXCJBbmRyb2lkXCIsXG4gICAgICAgICAgb3M6IFwiQW5kcm9pZFwiLFxuICAgICAgICAgIHNka192ZXJzaW9uOiBjb25zdGFudHMuU0RLX1ZFUlNJT04sXG4gICAgICAgICAgYXBwa2V5OiByLmFwcGtleSxcbiAgICAgICAgICBkZXZpY2VfbW9kZWw6IG1vZGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKSA+IC0xID8gbW9kZWwgOiBjICsgQkxBTktfU1BBQ0UgKyBtb2RlbCxcbiAgICAgICAgICBkZXZpY2VfYnJhbmQ6IGJyYW5kLFxuICAgICAgICAgIGNoYW5uZWw6IGMsXG4gICAgICAgICAgZGV2aWNlX21hbnVmYWN0dXJlcjogdC5tYW51ZmFjdHVyZXIsXG4gICAgICAgICAgZGV2aWNlX21hbnVpZDogbW9kZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGMpID4gLTEgPyBtb2RlbCA6IGMgKyBCTEFOS19TUEFDRSArIG1vZGVsLFxuICAgICAgICAgIGRldmljZV9uYW1lOiB0LnByb2R1Y3QudG9Mb3dlckNhc2UoKS5pbmRleE9mKGMpID4gLTEgPyB0LnByb2R1Y3QgOiBjICsgQkxBTktfU1BBQ0UgKyB0LnByb2R1Y3QsXG4gICAgICAgICAgb3NfdmVyc2lvbjogdC5vc1ZlcnNpb25OYW1lLFxuICAgICAgICAgIHJlc29sdXRpb246IHMsXG4gICAgICAgICAgbGFuZ3VhZ2U6IHQubGFuZ3VhZ2UsXG4gICAgICAgICAgZGlzcGxheV9uYW1lOiB0Lm5hbWUsXG4gICAgICAgICAgaWRtZDU6IFVtZW5nVXRpbHMuTUQ1KGUpLFxuICAgICAgICAgIHBsYXRmb3JtOiBcInF1aWNrYXBwXCIsXG4gICAgICAgICAgcHJvX3ZlcjogXCIxXCJcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBvID0ge1xuICAgICAgICBhcHBfdmVyc2lvbjogci5hcHBJbmZvLnZlcnNpb25OYW1lLFxuICAgICAgICB2ZXJzaW9uX2NvZGU6IHIuYXBwSW5mby52ZXJzaW9uQ29kZSxcbiAgICAgICAgZGV2aWNlX3R5cGU6IFwiUGhvbmVcIixcbiAgICAgICAgcGFja2FnZV9uYW1lOiByLmFwcEluZm8ucGFja2FnZU5hbWUsXG4gICAgICAgIHNka190eXBlOiBcIkFuZHJvaWRcIixcbiAgICAgICAgb3M6IFwiQW5kcm9pZFwiLFxuICAgICAgICBzZGtfdmVyc2lvbjogY29uc3RhbnRzLlNES19WRVJTSU9OLFxuICAgICAgICBhcHBrZXk6IHIuYXBwa2V5LFxuICAgICAgICBpZG1kNTogVW1lbmdVdGlscy5NRDUoZSksXG4gICAgICAgIHBsYXRmb3JtOiBcInF1aWNrYXBwXCIsXG4gICAgICAgIHByb192ZXI6IFwiMVwiXG4gICAgICB9O1xuICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgIGNhc2UgTU9CSUxFX05FVFdPUktfNEc6XG4gICAgICAgICAgby5hY2Nlc3Nfc3VidHlwZSA9IFwiTFRFXCIsIG8uYWNjZXNzID0gXCIyRy8zR1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1PQklMRV9ORVRXT1JLXzNHOlxuICAgICAgICAgIG8uYWNjZXNzX3N1YnR5cGUgPSBcIkNETUFcIiwgby5hY2Nlc3MgPSBcIjJHLzNHXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTU9CSUxFX05FVFdPUktfMkc6XG4gICAgICAgICAgby5hY2Nlc3Nfc3VidHlwZSA9IFwiR1JQU1wiLCBvLmFjY2VzcyA9IFwiMkcvM0dcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBvLmFjY2VzcyA9IG4sIGRlbGV0ZSBvLmFjY2Vzc19zdWJ0eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG87XG4gICAgfVxuICAgIGxldCByID0gbnVsbCxcbiAgICAgIHMgPSAhMTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiByIHx8IChyID0gdCgpKSwgcjtcbiAgICAgIH1cbiAgICB9O1xuICB9KCk7XG5Mb29wZXIucHJvdG90eXBlID0ge1xuICBwcmVwYXJlKHQpIHtcbiAgICB0aGlzLnF1ZXVlT2JqZWN0ID0gdCwgdGhpcy5pc1J1bm5pbmcgPSAhMSwgdGhpcy5pc0ZvcmNlU3RvcCA9ICExO1xuICB9LFxuICBsb29wKCkge1xuICAgIGlmICghdGhpcy5pc0ZvcmNlU3RvcCAmJiB0aGlzLnF1ZXVlT2JqZWN0ICYmICF0aGlzLmlzUnVubmluZykgZm9yICh0aGlzLmlzUnVubmluZyA9ICEwOyB0aGlzLmlzUnVubmluZzspIHtcbiAgICAgIGlmICghdGhpcy5xdWV1ZU9iamVjdC5pc0NhblBvcCgpKSB7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gITE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5xdWV1ZU9iamVjdC5kaXNwYXRjaE1lc3NhZ2UoKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgfVxuICB9LFxuICB3YWl0KCkge1xuICAgIHRoaXMuaXNSdW5uaW5nID0gITE7XG4gIH0sXG4gIGZvcmNlU3RvcCgpIHtcbiAgICB0aGlzLmlzRm9yY2VTdG9wID0gITA7XG4gIH0sXG4gIGNhbmNlbEZvcmNlU3RvcCgpIHtcbiAgICB0aGlzLmlzRm9yY2VTdG9wID0gITEsIHRoaXMubG9vcCgpO1xuICB9XG59O1xuY29uc3QgUmVxdWVzdFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHQodCkge1xuICAgICAgcmV0dXJuICEhdCAmJiAoZi51bnNoaWZ0KHQpLCB1Lmxvb3AoKSwgITApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgaWYgKGYubGVuZ3RoID4gMCkgcmV0dXJuIGYucG9wKCk7XG4gICAgICBjb25zdCB0ID0gbC5sZW5ndGg7XG4gICAgICByZXR1cm4gdCA+IDAgPyAoMSA9PT0gdCAmJiBSZXF1ZXN0SGVscGVyLmdldEluc3RhbmNlKCkuY2xlYXJOb1NlbmREYXRhcygpLCBsLnBvcCgpKSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG4odCwgZSkge1xuICAgICAgY29uc3QgbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG8odCk7XG4gICAgICAgIH0sIDNlNCksXG4gICAgICAgIGkgPSB7XG4gICAgICAgICAga2V5OiB0LFxuICAgICAgICAgIHRpbWVPdXRGdW46IG4sXG4gICAgICAgICAgaXNFeGU6ICExXG4gICAgICAgIH07XG4gICAgICBnLnB1c2goaSksIGUodCA9PiB7XG4gICAgICAgIG8odCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbyh0KSB7XG4gICAgICBmb3IgKGxldCBlID0gZy5sZW5ndGggLSAxOyBlID49IDA7IGUtLSkge1xuICAgICAgICBjb25zdCBuID0gZ1tlXTtcbiAgICAgICAgaWYgKG4ua2V5ID09PSB0KSB7XG4gICAgICAgICAgaWYgKCFuLmlzRXhlKSB7XG4gICAgICAgICAgICBuLmlzRXhlID0gITA7XG4gICAgICAgICAgICBjb25zdCB0ID0gbi50aW1lT3V0RnVuO1xuICAgICAgICAgICAgdCAmJiBjbGVhclRpbWVvdXQodCksIGkoKSwgZy5zcGxpY2UoZSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkoKSB7XG4gICAgICAoRSAtPSAxKSA8PSBfICYmIHUubG9vcCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByKHQpIHtcbiAgICAgIGNvbnN0IGUgPSBnLmxlbmd0aCxcbiAgICAgICAgbiA9IHQubWQ1S2V5O1xuICAgICAgZm9yIChsZXQgdCA9IGUgLSAxOyB0ID49IDA7IHQtLSkge1xuICAgICAgICBjb25zdCBlID0gZ1t0XTtcbiAgICAgICAgaWYgKGUua2V5ID09PSBuKSByZXR1cm4gaSgpLCAhMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcygpIHtcbiAgICAgIFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5vbk5vU2VuZERhdGFzTGlzdGVuZXIodCA9PiB7XG4gICAgICAgIGlmICghdCB8fCAwID09PSB0Lmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBmb3IgKGNvbnN0IGUgaW4gdCkgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwodCwgZSkpIHtcbiAgICAgICAgICBjb25zdCBuID0ge1xuICAgICAgICAgICAgbWQ1S2V5OiB0W2VdLFxuICAgICAgICAgICAgdHlwZTogXCJzZWNvbmRcIlxuICAgICAgICAgIH07XG4gICAgICAgICAgbC5wdXNoKG4pO1xuICAgICAgICB9XG4gICAgICAgIHUubG9vcCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGMoKSB7XG4gICAgICByZXR1cm4gcygpLCB7XG4gICAgICAgIGhhbmRsZU1lc3NhZ2UoZSwgbikge1xuICAgICAgICAgIGUgJiYgXCJzZWNvbmRcIiA9PT0gZS50eXBlICYmIGkoKSwgZSAmJiBlLmRhdGEgJiYgKGUuZXhlY3V0ZUZ1bmN0aW9uID0gbiwgdChlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BhdGNoTWVzc2FnZSgpIHtcbiAgICAgICAgICBpZiAoRSA+IF8pIHJldHVybiB2b2lkIHUud2FpdCgpO1xuICAgICAgICAgIEUgKz0gMTtcbiAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgIHIodCkgfHwgKHQuZGF0YSA/IG4odC5tZDVLZXksIHQuZXhlY3V0ZUZ1bmN0aW9uKSA6IFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5zZW5kKHQpLCB0aGlzLmlzQ2FuUG9wKCkgfHwgdS53YWl0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBpc0NhblBvcCgpIHtcbiAgICAgICAgICByZXR1cm4gZi5sZW5ndGggPiAwIHx8IGwubGVuZ3RoID4gMDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGEsIHU7XG4gICAgY29uc3QgZiA9IFtdLFxuICAgICAgbCA9IFtdLFxuICAgICAgXyA9IDM7XG4gICAgbGV0IEUgPSAxO1xuICAgIGNvbnN0IGcgPSBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBhIHx8IChhID0gYygpLCAodSA9IG5ldyBMb29wZXIoKSkucHJlcGFyZShhKSksIGE7XG4gICAgICB9XG4gICAgfTtcbiAgfSgpLFxuICBTdG9yZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHQodCkge1xuICAgICAgaWYgKCF0KSByZXR1cm4gITE7XG4gICAgICBjb25zdCBlID0ge1xuICAgICAgICBrZXk6IHQsXG4gICAgICAgIHR5cGU6IF9cbiAgICAgIH07XG4gICAgICByZXR1cm4gdS51bnNoaWZ0KGUpLCBhLmxvb3AoKSwgITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICBpZiAodS5sZW5ndGggPiAwKSByZXR1cm4gdS5wb3AoKTtcbiAgICAgIGNvbnN0IHQgPSBmLmxlbmd0aDtcbiAgICAgIGlmICh0ID4gMCkge1xuICAgICAgICBjb25zdCBlID0gZi5wb3AoKTtcbiAgICAgICAgcmV0dXJuIDAgPT09IHQgJiYgbigpLCBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG4oKSwgbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbigpIHtcbiAgICAgIGcgfHwgKGcgPSAhMCwgU3RvcmFnZVV0aWwuZ2V0RGF0YShjb25zdGFudHMuS0VZX05PX1NFTkRfUkVRVUVTVF9LRVlTLCB0ID0+IHtcbiAgICAgICAgZyA9ICExO1xuICAgICAgICBpZiAoIXQpIHJldHVybjtcbiAgICAgICAgY29uc3QgZSA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheSh0KTtcbiAgICAgICAgY29uc3QgbiA9IHQgPT4gZSA9PiB7XG4gICAgICAgICAgZSAmJiAnXCJcIicgIT09IGUgfHwgKGUgPSB7XG4gICAgICAgICAgICBrZXk6IHQsXG4gICAgICAgICAgICB0eXBlOiBFXG4gICAgICAgICAgfSwgZi5wdXNoKGUpKTtcbiAgICAgICAgICBmLmxlbmd0aCA+IDAgJiYgYS5sb29wKCk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgdCBpbiBlKSBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChlLCB0KSkge1xuICAgICAgICAgIGNvbnN0IG8gPSBlW3RdO1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEobywgbihvKSk7XG4gICAgICAgIH1cbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgZyA9ICExO1xuICAgICAgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvKHQpIHtcbiAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgZSA9PiB7XG4gICAgICAgIGUgPSBlID8gVW1lbmdVdGlscy50b09iamVjdChlKSA6IFtdO1xuICAgICAgICBlLnB1c2godCk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgVW1lbmdVdGlscy50b1N0cihlKSwgKCkgPT4ge1xuICAgICAgICAgIHIodCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICByKHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgcih0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgZSA9PiB7XG4gICAgICAgIGlmICghZSkgcmV0dXJuIHZvaWQgcih0KTtcbiAgICAgICAgZSA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheShlKTtcbiAgICAgICAgZm9yIChjb25zdCBuIGluIGUpIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG4pKSB7XG4gICAgICAgICAgY29uc3QgbyA9IGVbbl07XG4gICAgICAgICAgaWYgKG8gPT09IHQpIHtcbiAgICAgICAgICAgIGUuc3BsaWNlKG4sIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgVW1lbmdVdGlscy50b1N0cihlKSwgKCkgPT4ge1xuICAgICAgICAgIHIodCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICByKHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgcih0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByKCkge1xuICAgICAgKGQgLT0gMSkgPD0gbCAmJiBhLmxvb3AoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcygpIHtcbiAgICAgIHJldHVybiBuKCksIHtcbiAgICAgICAgaGFuZGxlTWVzc2FnZShlKSB7XG4gICAgICAgICAgZSA/IHQoZSkgOiBuKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BhdGNoTWVzc2FnZSgpIHtcbiAgICAgICAgICBpZiAoZCA+IGwpIHJldHVybiB2b2lkIGEud2FpdCgpO1xuICAgICAgICAgIGQgKz0gMTtcbiAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgIGlmICghdCB8fCBudWxsID09PSB0KSByZXR1cm4gdm9pZCByKCk7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgICB9ID0gdDtcbiAgICAgICAgICB0LnR5cGUgPT09IF8gPyBvKGtleSkgOiBpKGtleSksIHRoaXMuaXNDYW5Qb3AoKSB8fCBhLndhaXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNDYW5Qb3AoKSB7XG4gICAgICAgICAgcmV0dXJuIHUubGVuZ3RoID4gMCB8fCBmLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBjLCBhO1xuICAgIGNvbnN0IHUgPSBbXSxcbiAgICAgIGYgPSBbXSxcbiAgICAgIGwgPSAxLFxuICAgICAgXyA9IFwid3JpdGVcIixcbiAgICAgIEUgPSBcImRlbGV0ZVwiO1xuICAgIGxldCBnID0gITEsXG4gICAgICBkID0gMTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBjIHx8IChjID0gcygpLCAoYSA9IG5ldyBMb29wZXIoKSkucHJlcGFyZShjKSksIGM7XG4gICAgICB9XG4gICAgfTtcbiAgfSgpLFxuICAkVU1FTkdfS0VZX0lNUFJJTlQkJDEgPSBcInVtZW5nX2tleV9pbXByaW50XCI7XG5sZXQgbm9TZW5kUmVxdWVzdEtleXMgPSBbXTtcbmNvbnN0IFJlcXVlc3RIZWxwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgIGNvbnN0IHQgPSBbXS5jb25jYXQoU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25zKCkpO1xuICAgICAgaWYgKHQgJiYgMCAhPT0gdC5sZW5ndGgpIHJldHVybiBTZXNzaW9uLmdldEluc3RhbmNlKCkuY2xlYXJTZXNzaW9ucygpLCB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgY29uc3QgdCA9IFtdLmNvbmNhdChTZXNzaW9uLmdldEluc3RhbmNlKCkuZ2V0SGFsZlNlc3Npb25zKCkpO1xuICAgICAgaWYgKHQgJiYgMCAhPT0gdC5sZW5ndGgpIHJldHVybiBTZXNzaW9uLmdldEluc3RhbmNlKCkuY2xlYXJIYWxmU2Vzc2lvbigpLCB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBuKHQpIHtcbiAgICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZURhdGEodCwgdCA9PiB7XG4gICAgICAgIHQgJiYgU3RvcmVRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UobnVsbCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbyh0LCBlLCBvLCByKSB7XG4gICAgICBpZiAoIXQgfHwgJ1wiXCInID09PSB0KSByZXR1cm4gdm9pZCAobyAmJiBvKGUpKTtcbiAgICAgIGNvbnN0IHMgPSBjb25zdGFudHMuUkVMRUFTRV9VUkw7XG4gICAgICBfc3lzdGVtNi5kZWZhdWx0LmZldGNoKHtcbiAgICAgICAgdXJsOiBzLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBkYXRhOiBVbWVuZ1V0aWxzLmVuY29kZSh0KSxcbiAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJxdWlja2FwcC9qc29uXCIsXG4gICAgICAgICAgXCJNc2ctVHlwZVwiOiBcInF1aWNrYXBwL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzKHQpIHtcbiAgICAgICAgICBpZiAoMjAwID09PSB0LmNvZGUpIHtcbiAgICAgICAgICAgIExvZy5pKFwiKioqIHVtZW5nX3NkayAqKiogcmVxdWVzdCBzZW5kIHN1Y2Nlc3NcIiksIG4oZSksIHIgJiYgcihlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUgPSBVbWVuZ1V0aWxzLnRvT2JqZWN0KHQuZGF0YSk7XG4gICAgICAgICAgICAgIGkoZS5pbXByaW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICAgICAgfSBlbHNlIDQxMyA9PT0gdC5jb2RlICYmIChMb2cuaShcIioqKiB1bWVuZ19zZGsgKioqIHJlcXVlc3QgaXMgdG8gbGFyZ2UhXCIpLCBuKGUpLCByICYmIHIoZSkpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsOiBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgICAgIExvZy5pKFwiKioqIHVtZW5nX3NkayAqKiogcmVxdWVzdCBlcnJvciwgcGxlYXNlIGNoZWNrIHlvdXIgcGVybWlzc2lvbiEgXCIpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZSgpIHtcbiAgICAgICAgICBvICYmIG8oZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgU3RvcmFnZVV0aWwucHV0RGF0YSgkVU1FTkdfS0VZX0lNUFJJTlQkJDEsIHQpLCBIZWFkZXIuZ2V0SW5zdGFuY2UoKS5hZGRIZWFkZXJBdHRyKFwiaW1wcmludFwiLCB0KTtcbiAgICAgICAgICBjb25zdCBlID0gVW1lbmdVdGlscy50b09iamVjdChVbWVuZ1V0aWxzLmRlY29kZSh0KSksXG4gICAgICAgICAgICBuID0gZS5yZXBvcnRfcG9saWN5O1xuICAgICAgICAgIGlmIChuICYmIFVtZW5nVXRpbHMuaXNOb3RBTnVtYmVyKG4pKSB7XG4gICAgICAgICAgICBpZiAoU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZLCBuKSwgbiA9PT0gY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWV9JTlRFUlZBTF9WQUxVRSkge1xuICAgICAgICAgICAgICBsZXQgdCA9IGUucmVwb3J0X2ludGVydmFsO1xuICAgICAgICAgICAgICB0ICYmIFVtZW5nVXRpbHMuaXNOb3RBTnVtYmVyKHQpID8gKHQgPD0gY29uc3RhbnRzLkVWRU5UX1NFTkRfTUlOX0lOVEVSVkFMID8gdCA9IGNvbnN0YW50cy5FVkVOVF9TRU5EX01JTl9JTlRFUlZBTCA6IHQgPiBjb25zdGFudHMuRVZFTlRfU0VORF9NQVhfSU5URVJWQUwgJiYgKHQgPSBjb25zdGFudHMuRVZFTlRfU0VORF9NQVhfSU5URVJWQUwpLCBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9JTlRFUlZBTF9USU1FLCB0KSkgOiBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfU1RBUlRfU0VORF9WQUxVRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWSwgY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWV9TVEFSVF9TRU5EX1ZBTFVFKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAodCkge31cbiAgICB9XG4gICAgZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICBjb25zdCBuID0gVW1lbmdVdGlscy50b1N0cihlKTtcbiAgICAgIGxldCBvID0gbnVsbDtcbiAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9IQUxGOlxuICAgICAgICAgIG8gPSBjb25zdGFudHMuS0VZX0hBTEZfU0VTU0lPTl9QUkVGSVg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9TRVNTSU9OX0NMT1NFOlxuICAgICAgICAgIG8gPSBjb25zdGFudHMuS0VZX0NMT1NFX1NFU1NJT05fUFJFRklYO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfRVZFTlQ6XG4gICAgICAgICAgbyA9IGNvbnN0YW50cy5LRVlfRVZFTlRfUFJFRklYO1xuICAgICAgfVxuICAgICAgY29uc3QgaSA9IG8gKyBVbWVuZ1V0aWxzLk1ENShuKTtcbiAgICAgIHJldHVybiBTdG9yYWdlVXRpbC5wdXREYXRhKGksIG4pLCBTdG9yZVF1ZXVlLmdldEluc3RhbmNlKCkuaGFuZGxlTWVzc2FnZShpKSwgMCA9PT0gbm9TZW5kUmVxdWVzdEtleXMubGVuZ3RoICYmIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgdCA9PiB7XG4gICAgICAgIGlmICghdCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBlID0gVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KHQpO1xuICAgICAgICAwID09PSBub1NlbmRSZXF1ZXN0S2V5cy5sZW5ndGggJiYgKG5vU2VuZFJlcXVlc3RLZXlzID0gZSwgYSAmJiBhKG5vU2VuZFJlcXVlc3RLZXlzKSk7XG4gICAgICB9KSwgaTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmFtc0lzVmFsaWQodCkge1xuICAgICAgICAgIHJldHVybiAtMSAhPT0gW2NvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9IQUxGLCBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0UsIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfRVZFTlRdLmluZGV4T2YodCk7XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkU2VuZENvbnRlbnQobiwgbykge1xuICAgICAgICAgIGlmIChIZWFkZXIuZ2V0SW5zdGFuY2UoKS5nZXRIZWFkZXIobikpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcjogSGVhZGVyLmdldEluc3RhbmNlKCkuZ2V0SGVhZGVyKG4pLFxuICAgICAgICAgICAgICBhbmFseXRpY3M6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgICAgICAgICAgaWYgKCF0KSBicmVhaztcbiAgICAgICAgICAgICAgICAgIGkuYW5hbHl0aWNzID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uczogdFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0U6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHQoKTtcbiAgICAgICAgICAgICAgICAgIGlmICghZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBpLmFuYWx5dGljcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbnM6IGVcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVDpcbiAgICAgICAgICAgICAgICBvICYmIG8ubGVuZ3RoID4gMCAmJiAoaS5hbmFseXRpY3MgPSB7XG4gICAgICAgICAgICAgICAgICBla3Y6IG9cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzID0gXCJcIjtcbiAgICAgICAgICAgIHJldHVybiBpLmFuYWx5dGljcyAmJiAocyA9IHIobiwgaSkpLCB7XG4gICAgICAgICAgICAgIGRhdGE6IGksXG4gICAgICAgICAgICAgIG1kNUtleTogc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlbmQodCwgZSkge1xuICAgICAgICAgIGNvbnN0IG4gPSB0Lm1kNUtleTtcbiAgICAgICAgICBuICYmIChcInNlY29uZFwiID09PSB0LnR5cGUgPyBTdG9yYWdlVXRpbC5nZXREYXRhKG4sIG4gPT4ge1xuICAgICAgICAgICAgdC5kYXRhID0gVW1lbmdVdGlscy50b09iamVjdChuKTtcbiAgICAgICAgICAgIHQuZGF0YSB8fCBlICYmIGUoKTtcbiAgICAgICAgICAgIFJlcXVlc3RRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UodCwgbiA9PiB7XG4gICAgICAgICAgICAgIG8oVW1lbmdVdGlscy50b1N0cih0LmRhdGEpLCB0Lm1kNUtleSwgbiwgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSA6IFJlcXVlc3RRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UodCwgbiA9PiB7XG4gICAgICAgICAgICBvKFVtZW5nVXRpbHMudG9TdHIodC5kYXRhKSwgdC5tZDVLZXksIG4sIGUpO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Tm9TZW5kUmVxdWVzdEtleXMoKSB7XG4gICAgICAgICAgcmV0dXJuIG5vU2VuZFJlcXVlc3RLZXlzO1xuICAgICAgICB9LFxuICAgICAgICBvbk5vU2VuZERhdGFzTGlzdGVuZXIodCkge1xuICAgICAgICAgIGEgPSB0O1xuICAgICAgICB9LFxuICAgICAgICBjbGVhck5vU2VuZERhdGFzKCkge1xuICAgICAgICAgIG5vU2VuZFJlcXVlc3RLZXlzLnNwbGljZSgwLCBub1NlbmRSZXF1ZXN0S2V5cy5sZW5ndGgpLCBub1NlbmRSZXF1ZXN0S2V5cyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgYywgYTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBjIHx8IChjID0gcygpKSwgYztcbiAgICAgIH1cbiAgICB9O1xuICB9KCksXG4gIEV2ZW50U3RvcmVRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0KHQpIHtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIGlmICghU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldEN1cnJlbnRTZXNzaW9uSWQoKSkgcmV0dXJuIHZvaWQgVS51bnNoaWZ0KHQpO1xuICAgICAgICBwLnVuc2hpZnQodCksIHAubGVuZ3RoID49IF8gJiYgZy5sb29wKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICByZXR1cm4gcC5sZW5ndGggPCBfID8gbnVsbCA6IHAuc3BsaWNlKDAsIF8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuKCkge1xuICAgICAgaCAmJiBoLmxlbmd0aCA+IDAgJiYgcyh0ID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlIGluIGgpIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsIGUpKSB0cnkge1xuICAgICAgICAgIGhbZV0odCk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICB9KSwgKGQgLT0gMSkgPCAxICYmIChkID0gMSksIGQgPD0gRSAmJiBnLmxvb3AoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbyh0LCBlKSB7XG4gICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKHUsIGUsICgpID0+IHtcbiAgICAgICAgU3RvcmFnZVV0aWwucHV0RGF0YShmLCBVbWVuZ1V0aWxzLnRvU3RyKHQpLCAoKSA9PiB7XG4gICAgICAgICAgbigpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgbigpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgbigpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdCAmJiAoaFt0XSA9IGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHQgJiYgZGVsZXRlIGhbdF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHModCkge1xuICAgICAgU3RvcmFnZVV0aWwuZ2V0RGF0YShmLCBlID0+IHtcbiAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlRGF0YShmLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgbiA9IGMoVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KGUpLCBwKTtcbiAgICAgICAgICBwLnNwbGljZSgwLCBwLmxlbmd0aCk7XG4gICAgICAgICAgdChuKTtcbiAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgdChbXSk7XG4gICAgICAgIGcuY2FuY2VsRm9yY2VTdG9wKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYyh0LCBlKSB7XG4gICAgICBjb25zdCBuID0gU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldEN1cnJlbnRTZXNzaW9uSWQoKTtcbiAgICAgIGxldCBvLFxuICAgICAgICBpID0gLTE7XG4gICAgICBmb3IgKGNvbnN0IGUgaW4gdCkgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwodCwgZSkpIHtcbiAgICAgICAgY29uc3QgciA9IHRbZV07XG4gICAgICAgIGlmIChvID0gcltuXSkge1xuICAgICAgICAgIGkgPSBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTEgPT09IGkgJiYgKG8gPSBbXSksIChvID0gby5jb25jYXQoZSkpICYmIDAgIT09IG8ubGVuZ3RoID8gKC0xID09PSBpID8gdC5wdXNoKHtcbiAgICAgICAgW25dOiBvXG4gICAgICB9KSA6IHRbaV1bbl0gPSBvLCB0KSA6IHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzYXZlRWt2RGF0YShlKSB7XG4gICAgICAgICAgdChlKSwgTG9nLmQoYFtzYXZlRWt2RGF0YV0gZGF0YSBpcyAke1VtZW5nVXRpbHMudG9TdHIoZSl9YCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWRFa3ZEYXRhcyh0KSB7XG4gICAgICAgICAgdCAmJiAoZy5mb3JjZVN0b3AoKSwgZCA8PSBFID8gcyhlID0+IHtcbiAgICAgICAgICAgIHQoZSk7XG4gICAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICAgIH0pIDogaShcInJlYWRFa3ZEYXRhc1wiLCBlID0+IHtcbiAgICAgICAgICAgIHQoZSk7XG4gICAgICAgICAgICByKFwicmVhZEVrdkRhdGFzXCIpO1xuICAgICAgICAgICAgZy5jYW5jZWxGb3JjZVN0b3AoKTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZXJOb1Nlc3Npb25Fa3ZEYXRhcygpIHtcbiAgICAgICAgICBpZiAoVSAmJiBVLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIExvZy5kKGBubyBzZXNzaW9uSWQgZXZlbnQgaXMgJHtKU09OLnN0cmluZ2lmeShVKX1gKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBpbiBVKSAoe30pLmhhc093blByb3BlcnR5LmNhbGwoVSwgdCkgJiYgdGhpcy5zYXZlRWt2RGF0YShVW3RdKTtcbiAgICAgICAgICAgIFUuc3BsaWNlKDAsIFUubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHF1aXRIYW5kbGVyKCkge1xuICAgICAgICAgIDAgIT09IHAubGVuZ3RoICYmIChnLmZvcmNlU3RvcCgpLCBkIDw9IEUgPyBTdG9yYWdlVXRpbC5nZXREYXRhKGYsIHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IGMoVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KHQpLCBwKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoZiwgVW1lbmdVdGlscy50b1N0cihlKSk7XG4gICAgICAgICAgICBwLnNwbGljZSgwLCBwLmxlbmd0aCk7XG4gICAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIGcuY2FuY2VsRm9yY2VTdG9wKCk7XG4gICAgICAgICAgfSkgOiBpKFwicXVpdEhhbmRsZXJcIiwgdCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gVW1lbmdVdGlscy50b1N0cihjKHQsIHApKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoZiwgZSk7XG4gICAgICAgICAgICBwLnNwbGljZSgwLCBwLmxlbmd0aCk7XG4gICAgICAgICAgICByKFwicXVpdEhhbmRsZXJcIik7XG4gICAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzcGF0Y2hNZXNzYWdlKCkge1xuICAgICAgICAgIGlmIChkID4gRSkgcmV0dXJuIHZvaWQgZy53YWl0KCk7XG4gICAgICAgICAgZCArPSAxO1xuICAgICAgICAgIGNvbnN0IHQgPSBlKCk7XG4gICAgICAgICAgaWYgKCF0IHx8IDAgPT09IHQubGVuZ3RoKSByZXR1cm4gdm9pZCBuKCk7XG4gICAgICAgICAgU3RvcmFnZVV0aWwuZ2V0RGF0YSh1LCBlID0+IHtcbiAgICAgICAgICAgIGUgfHwgKGUgPSAwKTtcbiAgICAgICAgICAgIGUgPj0gbCArIHQubGVuZ3RoID8gbigpIDogU3RvcmFnZVV0aWwuZ2V0RGF0YShmLCBuID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaSA9IGMoVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KG4pLCB0KTtcbiAgICAgICAgICAgICAgbyhpLCBOdW1iZXIoZSkgKyBOdW1iZXIodC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgbigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpc0NhblBvcCgpIHtcbiAgICAgICAgICByZXR1cm4gcC5sZW5ndGggPj0gXztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdSA9IFwidW1lbmdfZWt2X2NvdW50X2tleVwiLFxuICAgICAgZiA9IFwidW1lbmdfa2V5X2VrdnNcIixcbiAgICAgIGwgPSAxZTQsXG4gICAgICBfID0gNSxcbiAgICAgIEUgPSAxO1xuICAgIGxldCBnLFxuICAgICAgZCA9IDEsXG4gICAgICBTID0gbnVsbDtcbiAgICBjb25zdCBoID0ge30sXG4gICAgICBwID0gW10sXG4gICAgICBVID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEluc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gUyB8fCAoUyA9IG5ldyBhKCksIChnID0gbmV3IExvb3BlcigpKS5wcmVwYXJlKFMpKSwgUztcbiAgICAgIH1cbiAgICB9O1xuICB9KCksXG4gIEV2ZW50Q29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0KHQsIGUpIHtcbiAgICAgIGNvbnN0IG4gPSB7XG4gICAgICAgIGlkOiB0LFxuICAgICAgICB0czogRGF0ZS5ub3coKVxuICAgICAgfTtcbiAgICAgIHN3aXRjaCAodHlwZW9mIGUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG5bdF0gPSBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgZm9yIChjb25zdCB0IGluIGUpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChlLCB0KSAmJiAoblt0XSA9IGVbdF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIHQgPT4ge1xuICAgICAgICB0ID09PSBjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZX0lOVEVSVkFMX1ZBTFVFICYmIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX0lOVEVSVkFMX1RJTUUsIHQgPT4ge1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX0xBU1RfU0VORF9USU1FLCBlID0+IHtcbiAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG4gPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICBlICYmIG4gLSBlID4gMWUzICogdCAmJiBSZXF1ZXN0LnNlbmRBbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfU1RBUlRfU0VORF9WQUxVRSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG4oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhZGRFdmVudChuLCBvKSB7XG4gICAgICAgICAgY29uc3QgaSA9IHQobiwgbyk7XG4gICAgICAgICAgRXZlbnRTdG9yZVF1ZXVlLmdldEluc3RhbmNlKCkuc2F2ZUVrdkRhdGEoaSksIGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlck5vU2Vzc2lvbkVrdkRhdGFzKCkge1xuICAgICAgICAgIEV2ZW50U3RvcmVRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZXJOb1Nlc3Npb25Fa3ZEYXRhcygpO1xuICAgICAgICB9LFxuICAgICAgICBxdWl0SGFuZGxlcigpIHtcbiAgICAgICAgICBFdmVudFN0b3JlUXVldWUuZ2V0SW5zdGFuY2UoKS5xdWl0SGFuZGxlcigpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZW5kVGltZSgpIHtcbiAgICAgICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9MQVNUX1NFTkRfVElNRSwgRGF0ZS5ub3coKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBvO1xuICAgIHJldHVybiB7XG4gICAgICBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIG8gfHwgKG8gPSBuKCkpLCBvO1xuICAgICAgfVxuICAgIH07XG4gIH0oKTtcbmxldCB0aW1lID0gMDtcbnZhciBSZXF1ZXN0ID0ge1xuICBzZW5kOiBzZW5kLFxuICBzZW5kQWxsOiBzZW5kQWxsXG59O1xuY29uc3QgS0VZX1BSRV9QQUdFID0gXCJ1bWVuZ19wYWdlX1wiO1xuUGFnZUNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuICBhZGRDdXJyZW50UGFnZSh0KSB7XG4gICAgdGhpcy5fY3VycmVudFBhZ2UgPSB7XG4gICAgICB0czogRGF0ZS5ub3coKSxcbiAgICAgIHBhZ2VfbmFtZTogRGV2aWNlVXRpbC5nZXRQYWdlTmFtZSgpXG4gICAgfSwgdGhpcy5wYWdlT2JqZWN0ID0gdDtcbiAgfSxcbiAgc2F2ZVBhZ2UodCwgZSkge1xuICAgIGlmICh0ICYmIGUgJiYgdGhpcy5fY3VycmVudFBhZ2UucGFnZV9uYW1lICYmIGUgPT09IHRoaXMucGFnZU9iamVjdCkge1xuICAgICAgY29uc3QgZSA9IERhdGUubm93KCkgLSB0aGlzLl9jdXJyZW50UGFnZS50cztcbiAgICAgIHRoaXMuX2N1cnJlbnRQYWdlLmR1cmF0aW9uID0gTWF0aC5hYnMoZSksIHRoaXMuX3BhZ2VsaXN0ID0gdGhpcy5fcGFnZWxpc3QuY29uY2F0KHRoaXMuX2N1cnJlbnRQYWdlKSwgdGhpcy5fY3VycmVudFBhZ2UgPSB7fSwgdGhpcy5wYWdlT2JqZWN0ID0ge30sIHRoaXMuc2F2ZVN0cm9yYWdlUGFnZXModCk7XG4gICAgfVxuICB9LFxuICBzYXZlU3Ryb3JhZ2VQYWdlcyh0KSB7XG4gICAgdCAmJiB0aGlzLl9wYWdlbGlzdC5sZW5ndGggPiAwICYmIHRoaXMudXBkYXRlU3RvcmFnZShLRVlfUFJFX1BBR0UgKyB0LCB0aGlzLl9wYWdlbGlzdCk7XG4gIH0sXG4gIGdldFBhZ2VzKHQsIGUpIHtcbiAgICBTdG9yYWdlVXRpbC5nZXREYXRhKEtFWV9QUkVfUEFHRSArIHQsIG4gPT4ge1xuICAgICAgY29uc3QgbyA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheShuKS5jb25jYXQodGhpcy5fcGFnZWxpc3QpO1xuICAgICAgdGhpcy5jbGVhcih0KTtcbiAgICAgIGUgJiYgZShvKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBlICYmIGUobnVsbCk7XG4gICAgfSk7XG4gIH0sXG4gIHVwZGF0ZVN0b3JhZ2UodCwgZSkge1xuICAgIGUgJiYgMCAhPT0gZS5sZW5ndGggJiYgU3RvcmFnZVV0aWwuZ2V0RGF0YSh0LCBuID0+IHtcbiAgICAgIGNvbnN0IG8gPSBVbWVuZ1V0aWxzLnN0cmluZ1RvQXJyYXkobikuY29uY2F0KGUpO1xuICAgICAgU3RvcmFnZVV0aWwucHV0RGF0YSh0LCBVbWVuZ1V0aWxzLnRvU3RyKG8pLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3BhZ2VsaXN0ID0gW107XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgY2xlYXIodCkge1xuICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZURhdGEoS0VZX1BSRV9QQUdFICsgdCksIHRoaXMuX3BhZ2VsaXN0ID0gW107XG4gIH1cbn07XG5sZXQgaW5pdGVkID0gITE7XG5VbWVuZ0FuYWx5c2lzTGliLnByb3RvdHlwZSA9IHtcbiAgaW5pdCh0KSB7XG4gICAgaWYgKExvZy5pKGAqKiogdW1lbmdfc2RrICoqKiBzZGsgdmVyc2lvbiBpczogJHtjb25zdGFudHMuU0RLX1ZFUlNJT059YCksICFpbml0ZWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuYXBwa2V5ID0gdC4kZGF0YS51bWVuZ19hcHBrZXk7XG4gICAgICB9IGNhdGNoICh0KSB7fVxuICAgICAgaWYgKCF0aGlzLmFwcGtleSkgcmV0dXJuIGluaXRlZCA9ICExLCB2b2lkIGNvbnNvbGUuZXJyb3IoXCJwbGVhc2Ugc2V0IHVtZW5nX2FwcGtleSA6IFttYW5pZmVzdC5qc29uIC0tXFx4M2UgY29uZmlnOntkYXRhOnt1bWVuZ19hcHBrZXk6IHh4eH19XVwiKTtcbiAgICAgIGluaXRlZCA9ICEwLCBIZWFkZXIuZ2V0SW5zdGFuY2UoKS5pbml0KHRoaXMuYXBwa2V5KTtcbiAgICAgIGNvbnN0IGUgPSB0aGlzO1xuICAgICAgaWYgKFNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRPblNlc3Npb25MaXN0ZW5lcih0ID0+ICh7XG4gICAgICAgIHBhZ2VzKG4pIHtcbiAgICAgICAgICBlLnBhZ2VDb250cm9sbGVyLmdldFBhZ2VzKHQsIG4pO1xuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZVNlc3Npb25BZnRlckhhbmRsZXIodCkge1xuICAgICAgICAgIEV2ZW50Q29udHJvbGxlci5nZXRJbnN0YW5jZSgpLmhhbmRsZXJOb1Nlc3Npb25Fa3ZEYXRhcygpLCBzZW5kRGF0YXMoKTtcbiAgICAgICAgfVxuICAgICAgfSkpLCBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5BUFBfRklSU1RfT1BFTl9GTEFHLCB0ID0+IHtcbiAgICAgICAgMCA9PT0gdC5sZW5ndGggJiYgU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuQVBQX0ZJUlNUX09QRU5fRkxBRywgXCJ0cnVlXCIpO1xuICAgICAgfSksIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWSwgdCA9PiB7XG4gICAgICAgIHQgfHwgU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZLCBjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZX1NUQVJUX1NFTkRfVkFMVUUpO1xuICAgICAgfSksIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX0xBU1RfU0VORF9USU1FLCB0ID0+IHtcbiAgICAgICAgdCB8fCBFdmVudENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKS5zZXRTZW5kVGltZSgpO1xuICAgICAgfSksIHQpIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9zdGF0dXNcIiwge1xuICAgICAgICAgIHNldCh0KSB7XG4gICAgICAgICAgICBcImRlc3Ryb3lcIiA9PT0gdCAmJiBSZXF1ZXN0LnNlbmRBbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAodCkge31cbiAgICB9XG4gIH0sXG4gIHJlc3VtZSh0KSB7XG4gICAgaXNJbml0KCkgJiYgdCAmJiAoTG9nLmkoYCoqKiB1bWVuZ19zZGsgKioqIHBhZ2UgbmFtZTogJHtEZXZpY2VVdGlsLmdldFBhZ2VOYW1lKCl9YCksIHRoaXMucGFnZUNvbnRyb2xsZXIuYWRkQ3VycmVudFBhZ2UodCksIFNlc3Npb24uZ2V0SW5zdGFuY2UoKS5pbml0KHRoaXMuYXBwa2V5KSk7XG4gIH0sXG4gIHBhdXNlKHQpIHtcbiAgICBpc0luaXQoKSAmJiB0ICYmICh0aGlzLnBhZ2VDb250cm9sbGVyLnNhdmVQYWdlKFNlc3Npb24uZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50U2Vzc2lvbklkKCksIHQpLCBTZXNzaW9uLmdldEluc3RhbmNlKCkuZW5kU2Vzc2lvbigpLCBFdmVudENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKS5xdWl0SGFuZGxlcigpKTtcbiAgfSxcbiAgdHJhY2tFdmVudCh0LCBlKSB7XG4gICAgaWYgKGlzSW5pdCgpKSByZXR1cm4gVW1lbmdVdGlscy5jaGVja0lkKHQpID8gZSAmJiAhVW1lbmdVdGlscy5jaGVja0F0dHJPclN0cmluZyhlKSA/IChjb25zb2xlLmVycm9yKFwiZXJyb3ItLS0tLXBsZWFzZSBjaGVjayB0cmFja0V2ZW50IGF0dHIuIGF0dHIgc2hvdWxkIGJlICdTdHJpbmcnIG9yICdPYmplY3QnKG5vdCBpbmNsdWRlICdBcnJheScpXCIpLCAhMSkgOiAoTG9nLmkoYCoqKiB1bWVuZ19zZGsgKioqIGV2ZW50IGlkOiAke1VtZW5nVXRpbHMudG9TdHIodCl9JHtlID8gYCB8fCBldmVudCBhdHRyOiAke1VtZW5nVXRpbHMudG9TdHIoZSl9YCA6IFwiXCJ9YCksIEV2ZW50Q29udHJvbGxlci5nZXRJbnN0YW5jZSgpLmFkZEV2ZW50KHQsIGUpLCAhMCkgOiAoY29uc29sZS5lcnJvcihcImVycm9yLS0tLS1wbGVhc2UgY2hlY2sgdHJhY2tFdmVudCBpZC4gaWQgc2hvdWxkIGJlICdTdHJpbmcnIGFuZCBub3QgbnVsbFwiKSwgITEpO1xuICB9XG59O1xuY29uc3QgRmlsZVV0aWxzID0ge1xuICAgIGdldEZpbGUodCwgZSwgbikge1xuICAgICAgX3N5c3RlbTcuZGVmYXVsdC5yZWFkVGV4dCh7XG4gICAgICAgIHVyaTogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgZSAmJiBlKHQudGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWwodCwgZSkge1xuICAgICAgICAgIG4gJiYgbih0LCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBtb3ZlRmlsZSh0LCBlLCBuLCBvKSB7XG4gICAgICBfc3lzdGVtNy5kZWZhdWx0Lm1vdmUoe1xuICAgICAgICBzcmNVcmk6IHQsXG4gICAgICAgIGRzdFVyaTogZSxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgbiAmJiBuKHQpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKHQsIGUpIHtcbiAgICAgICAgICBvICYmIG8odCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlRmlsZSh0LCBlLCBuKSB7XG4gICAgICBfc3lzdGVtNy5kZWZhdWx0LmRlbGV0ZSh7XG4gICAgICAgIHVyaTogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgZSAmJiBlKHQpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKHQsIGUpIHtcbiAgICAgICAgICBuICYmIG4odCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbW9kdWxlcyA9IHtcbiAgICBcIkBzeXN0ZW0uYXBwXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uYXBwXCIpLFxuICAgIFwiQHN5c3RlbS5zdG9yYWdlXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSxcbiAgICBcIkBzeXN0ZW0uZmV0Y2hcIjogJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5mZXRjaFwiKSxcbiAgICBcIkBzeXN0ZW0ubmV0d29ya1wiOiAkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLm5ldHdvcmtcIiksXG4gICAgXCJAc3lzdGVtLmRldmljZVwiOiAkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmRldmljZVwiKSxcbiAgICBcIkBzeXN0ZW0ucm91dGVyXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ucm91dGVyXCIpLFxuICAgIFwiQHN5c3RlbS5maWxlXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmlsZVwiKVxuICB9LFxuICBjYWxsUXVldWUgPSBbXSxcbiAgdW1lbmdfc3RhdF9nbG9iYWwgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKSB8fCBnbG9iYWw7XG5TZGtVcGRhdGVyLnByb3RvdHlwZSA9IHtcbiAgaW5pdCh0LCBlKSB7XG4gICAgdGhpcy5pbnN0YWxsQXBpKHQsIG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBEZXZpY2VVdGlsLmdldFN5c3RlbUJhc2VJbmZvKHQgPT4ge1xuICAgICAgICAxZTMgPT09IHQucGxhdGZvcm1WZXJzaW9uQ29kZSA/IGUoMCkgOiBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5ET1dOTE9BRF9GSUxFX0ZJUlNUX0NBQ0hFLCB0ID0+IHtcbiAgICAgICAgICB0ID8gdGhpcy5nZXRTZGtGaWxlQ29udGVudCh0LCAodCwgbiwgbykgPT4ge1xuICAgICAgICAgICAgdCA/IGUoMSwgbiwgbykgOiB0aGlzLmdldFNlY29uZENhY2hlRmlsZShlKTtcbiAgICAgICAgICB9KSA6IHRoaXMuZ2V0U2Vjb25kQ2FjaGVGaWxlKGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgIGUoMCk7XG4gICAgfVxuICB9LFxuICBnZXRTZWNvbmRDYWNoZUZpbGUodCkge1xuICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfU0VDT05EX0NBQ0hFLCBlID0+IHtcbiAgICAgIGUgPyB0aGlzLmdldFNka0ZpbGVDb250ZW50KGUsIHQpIDogdCgwKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0U2RrRmlsZUNvbnRlbnQodCwgZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuID0gVW1lbmdVdGlscy50b09iamVjdCh0KTtcbiAgICAgIExvZy5kKGBjdXJyZW50IHNkazoke24udmVyc2lvbn0ke24ubWQ1fSR7bi5maWxlUGF0aH1gKSwgRmlsZVV0aWxzLmdldEZpbGUobi5maWxlUGF0aCwgdCA9PiB7XG4gICAgICAgIFVtZW5nVXRpbHMuY2hlY2tNRDUobi5tZDUsIHQpID8gZSgxLCB0LCBuLnZlcnNpb24pIDogZSgwKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgZSgwKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgIGUoMCk7XG4gICAgfVxuICAgIHJldHVybiAhMTtcbiAgfSxcbiAgZG93bmxvYWRGaWxlKHQsIGUsIG4sIG8sIGkpIHtcbiAgICB0cnkge1xuICAgICAgX3N5c3RlbTguZGVmYXVsdC5kb3dubG9hZCh7XG4gICAgICAgIHVybDogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgTG9nLmQoYGhhbmRsaW5nIHN1Y2Nlc3MgJHt0LnRva2VufWApLCBfc3lzdGVtOC5kZWZhdWx0Lm9uRG93bmxvYWRDb21wbGV0ZSh7XG4gICAgICAgICAgICB0b2tlbjogdC50b2tlbixcbiAgICAgICAgICAgIHN1Y2Nlc3ModCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0LnVyaSxcbiAgICAgICAgICAgICAgICAgIHMgPSByLnNwbGl0KFwiL1wiKSxcbiAgICAgICAgICAgICAgICAgIGMgPSBzW3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgbGV0IGEgPSBjb25zdGFudHMuU0RLX1VQREFURV9MT0NBTF9TVE9SQUdFX1BBVEg7XG4gICAgICAgICAgICAgICAgYSA9IGAke2EgKyBEYXRlLm5vdygpfS8ke2N9YCwgRmlsZVV0aWxzLm1vdmVGaWxlKHQudXJpLCBhLCB0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IGUsXG4gICAgICAgICAgICAgICAgICAgIG1kNTogbixcbiAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGg6IHQsXG4gICAgICAgICAgICAgICAgICAgIHN0YWJsZTogb1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGkocik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbCh0LCBlKSB7fVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKCkge31cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHQpIHt9XG4gIH0sXG4gIHN0b3JhZ2VGaWxlSW5mbyh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIEZpbGVVdGlscy5nZXRGaWxlKHQuZmlsZVBhdGgsIGUgPT4ge1xuICAgICAgICBMb2cuZChgLS0tLS0tLS0tJHtKU09OLnN0cmluZ2lmeSh0KX0tLS0tLS0tLS0tLSR7VW1lbmdVdGlscy5NRDUoZSl9YCk7XG4gICAgICAgIGUgJiYgdC5tZDUgJiYgdC5tZDUgPT09IFVtZW5nVXRpbHMuTUQ1KGUpID8gKFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfRklSU1RfQ0FDSEUsIGUgPT4ge1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfRklSU1RfQ0FDSEUsIHQsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQgPSBVbWVuZ1V0aWxzLnRvT2JqZWN0KGUpO1xuICAgICAgICAgICAgICAhdC5zdGFibGUgJiYgdC5maWxlUGF0aCAmJiBGaWxlVXRpbHMuZGVsZXRlRmlsZSh0LmZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksIHQuc3RhYmxlID8gU3RvcmFnZVV0aWwuZ2V0RGF0YShjb25zdGFudHMuRE9XTkxPQURfRklMRV9TRUNPTkRfQ0FDSEUsIGUgPT4ge1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfU0VDT05EX0NBQ0hFLCB0LCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICBjb25zdCB0ID0gVW1lbmdVdGlscy50b09iamVjdChlKTtcbiAgICAgICAgICAgICAgdC5maWxlUGF0aCAmJiBGaWxlVXRpbHMuZGVsZXRlRmlsZSh0LmZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkgOiBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5ET1dOTE9BRF9GSUxFX0ZJUlNUX0NBQ0hFLCB0KSkgOiBGaWxlVXRpbHMuZGVsZXRlRmlsZSh0LmZpbGVQYXRoLCAoKSA9PiB7fSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICBMb2cuZChgZXJyb3IgbWVzc2FnZTogJHt0LnRvU3RyaW5nKCl9YCk7XG4gICAgfVxuICB9LFxuICBjaGVja1ZlcnNpb25OZXcodCwgZSwgbiwgbywgaSwgcikge1xuICAgIGNvbnN0IHMgPSB7XG4gICAgICB2ZXJzaW9uOiB0LFxuICAgICAgcGxhdGZvcm06IFwicXVpY2thcHBcIixcbiAgICAgIGFwcFZlcnNpb246IG4sXG4gICAgICBhcHBLZXk6IGUsXG4gICAgICBzZWVkVmVyc2lvbjogbyxcbiAgICAgIHN5c3RlbUJhc2VJbmZvOiBpXG4gICAgfTtcbiAgICBfc3lzdGVtNi5kZWZhdWx0LmZldGNoKHtcbiAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgZGF0YTogcyxcbiAgICAgIHN1Y2Nlc3ModCkge1xuICAgICAgICBpZiAoMjAwID09PSB0LmNvZGUpIHRyeSB7XG4gICAgICAgICAgY29uc3QgZSA9IFVtZW5nVXRpbHMudG9PYmplY3QodC5kYXRhKTtcbiAgICAgICAgICBpZiAoMjAwID09PSBlLmNvZGUgJiYgZS5kYXRhLnVwZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5pbmZvO1xuICAgICAgICAgICAgdCAmJiByKHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAodCkge31cbiAgICAgIH0sXG4gICAgICBmYWlsKHQsIGUpIHt9LFxuICAgICAgY29tcGxldGUoKSB7fVxuICAgIH0pO1xuICB9LFxuICBjcmVhdGVNZXRob2QodCwgZSwgbikge1xuICAgIHRyeSB7XG4gICAgICB0W2VdID0gbiA/IGZ1bmN0aW9uICguLi50KSB7XG4gICAgICAgIHJldHVybiBuW2VdKC4uLnQpO1xuICAgICAgfSA6IGZ1bmN0aW9uICguLi50KSB7XG4gICAgICAgIGNhbGxRdWV1ZS5wdXNoKFtlLCB0XSk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKHQpIHt9XG4gIH0sXG4gIGluc3RhbGxBcGkodCwgZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuID0gW1wicmVzdW1lXCIsIFwicGF1c2VcIiwgXCJ0cmFja0V2ZW50XCJdO1xuICAgICAgZm9yIChsZXQgbyA9IDAsIGkgPSBuLmxlbmd0aDsgbyA8IGk7IG8rKykgdGhpcy5jcmVhdGVNZXRob2QodCwgbltvXSwgZSk7XG4gICAgICBpZiAoZSkgZm9yIChsZXQgdCA9IDAsIG4gPSBjYWxsUXVldWUubGVuZ3RoOyB0IDwgbjsgdCsrKSB7XG4gICAgICAgIGNvbnN0IG4gPSBjYWxsUXVldWVbdF07XG4gICAgICAgIGVbblswXV0oLi4ublsxXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAodCkge31cbiAgfSxcbiAgY29tcGlsZU1vZHVsZSh0LCBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHQgPSBuZXcgRnVuY3Rpb24oXCJtb2R1bGVcIiwgXCJleHBvcnRzXCIsIFwicmVxdWlyZVwiLCBlKSxcbiAgICAgICAgbiA9IHtcbiAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9LFxuICAgICAgICBvID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gdCBpbiBtb2R1bGVzID8gbW9kdWxlc1t0XSA6IHJlcXVpcmUodCk7XG4gICAgICAgIH07XG4gICAgICByZXR1cm4gdChuLCBuLmV4cG9ydHMsIG8pLCBuLmV4cG9ydHM7XG4gICAgfSBjYXRjaCAodCkge31cbiAgfSxcbiAgbG9hZE1vZHVsZSh0LCBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBuO1xuICAgICAgaWYgKDAgPT09IHQpIG4gPSBVbWVuZ0FuYWx5c2lzTGliO2Vsc2UgdHJ5IHtcbiAgICAgICAgbiA9IHRoaXMuY29tcGlsZU1vZHVsZSh0LCBlKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgbiA9IFVtZW5nQW5hbHlzaXNMaWI7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9IGNhdGNoICh0KSB7fVxuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuY29uc3QgVW1lbmdBbmFseXNpcyA9IHtcbiAgc2VlZF92ZXJzaW9uOiBcIjAuMC4xXCIsXG4gIHZlcnNpb246IGNvbnN0YW50cy5TREtfVkVSU0lPTixcbiAgYXBwS2V5OiBcIlwiLFxuICBfaW1wbDogbnVsbCxcbiAgX2luaXRlZDogITEsXG4gIGluaXQodCkge1xuICAgIGlmICghdGhpcy5faW5pdGVkKSB7XG4gICAgICB0aGlzLl9pbml0ZWQgPSAhMCwgdW1lbmdfc3RhdF9nbG9iYWwudXNlckR1YnVnID0gISF0LiRkYXRhLnVtZW5nX2RlYnVnLCB0aGlzLmFwcEtleSA9IHQuJGRhdGEudW1lbmdfYXBwa2V5O1xuICAgICAgY29uc3QgZSA9IG5ldyBTZGtVcGRhdGVyKCk7XG4gICAgICBlLmluaXQodGhpcywgKG4sIG8sIGkpID0+IHtcbiAgICAgICAgY29uc3QgciA9IGUubG9hZE1vZHVsZShuLCBvKTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBjb25zdCBuID0gbmV3IHIoKTtcbiAgICAgICAgICB0aGlzLl9pbXBsID0gbiwgbi5pbml0KHQpLCBlLmluc3RhbGxBcGkodGhpcywgbik7XG4gICAgICAgIH1cbiAgICAgICAgaSB8fCAoaSA9IHRoaXMudmVyc2lvbik7XG4gICAgICAgIERldmljZVV0aWwuZ2V0U3lzdGVtQmFzZUluZm8odCA9PiB7XG4gICAgICAgICAgaWYgKDFlMyA9PT0gdC5wbGF0Zm9ybVZlcnNpb25Db2RlKSByZXR1cm47XG4gICAgICAgICAgZS5jaGVja1ZlcnNpb25OZXcoaSwgdGhpcy5hcHBLZXksIF9zeXN0ZW01LmRlZmF1bHQuZ2V0SW5mbygpLnZlcnNpb25OYW1lLCB0aGlzLnNlZWRfdmVyc2lvbiwgdCwgdCA9PiB7XG4gICAgICAgICAgICB0ICYmIGUuZG93bmxvYWRGaWxlKHQuZmlsZVVybCwgdC52ZXJzaW9uLCB0LmZpbGVNRDUsIHQuc3RhYmxlLCB0ID0+IHtcbiAgICAgICAgICAgICAgZS5zdG9yYWdlRmlsZUluZm8odCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4hZnVuY3Rpb24gKCkge1xuICB1bWVuZ19zdGF0X2dsb2JhbCAmJiAodW1lbmdfc3RhdF9nbG9iYWwuJHVtZW5nX3N0YXQgPSBVbWVuZ0FuYWx5c2lzLCB1bWVuZ19zdGF0X2dsb2JhbC5QYWdlID0gUGFnZSk7XG59KCk7XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBVbWVuZ0FuYWx5c2lzOyIsIi8vXG4vLyBUSElTIEZJTEUgSVMgQVVUT01BVElDQUxMWSBHRU5FUkFURUQhIERPIE5PVCBFRElUIEJZIEhBTkQhXG4vL1xuO1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKVxuICAgICAgICA6IHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZFxuICAgICAgICAgICAgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgICAgICAgICAgLy8gY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaS9qcy1iYXNlNjQvaXNzdWVzLzExOVxuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBleGlzdGluZyB2ZXJzaW9uIGZvciBub0NvbmZsaWN0KClcbiAgICAgICAgICAgICAgICB2YXIgX0Jhc2U2NCA9IGdsb2JhbC5CYXNlNjQ7XG4gICAgICAgICAgICAgICAgdmFyIGdCYXNlNjQgPSBmYWN0b3J5KCk7XG4gICAgICAgICAgICAgICAgZ0Jhc2U2NC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuQmFzZTY0ID0gX0Jhc2U2NDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdCYXNlNjQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsLk1ldGVvcikgeyAvLyBNZXRlb3IuanNcbiAgICAgICAgICAgICAgICAgICAgQmFzZTY0ID0gZ0Jhc2U2NDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2xvYmFsLkJhc2U2NCA9IGdCYXNlNjQ7XG4gICAgICAgICAgICB9KSgpO1xufSgodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZlxuICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3dcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFxuICAgICAgICAgICAgOiB0aGlzKSwgZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgICAgKiAgYmFzZTY0LnRzXG4gICAgICpcbiAgICAgKiAgTGljZW5zZWQgdW5kZXIgdGhlIEJTRCAzLUNsYXVzZSBMaWNlbnNlLlxuICAgICAqICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAgICAgKlxuICAgICAqICBSZWZlcmVuY2VzOlxuICAgICAqICAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0XG4gICAgICpcbiAgICAgKiBAYXV0aG9yIERhbiBLb2dhaSAoaHR0cHM6Ly9naXRodWIuY29tL2RhbmtvZ2FpKVxuICAgICAqL1xuICAgIHZhciB2ZXJzaW9uID0gJzMuNy4yJztcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgbG93ZXJjYXNlIGB2ZXJzaW9uYC5cbiAgICAgKi9cbiAgICB2YXIgVkVSU0lPTiA9IHZlcnNpb247XG4gICAgdmFyIF9oYXNhdG9iID0gdHlwZW9mIGF0b2IgPT09ICdmdW5jdGlvbic7XG4gICAgdmFyIF9oYXNidG9hID0gdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbic7XG4gICAgdmFyIF9oYXNCdWZmZXIgPSB0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nO1xuICAgIHZhciBfVEQgPSB0eXBlb2YgVGV4dERlY29kZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgVGV4dERlY29kZXIoKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgX1RFID0gdHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nID8gbmV3IFRleHRFbmNvZGVyKCkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGI2NGNoID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbiAgICB2YXIgYjY0Y2hzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYjY0Y2gpO1xuICAgIHZhciBiNjR0YWIgPSAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHRhYiA9IHt9O1xuICAgICAgICBhLmZvckVhY2goZnVuY3Rpb24gKGMsIGkpIHsgcmV0dXJuIHRhYltjXSA9IGk7IH0pO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgIH0pKGI2NGNocyk7XG4gICAgdmFyIGI2NHJlID0gL14oPzpbQS1aYS16XFxkK1xcL117NH0pKj8oPzpbQS1aYS16XFxkK1xcL117Mn0oPzo9PSk/fFtBLVphLXpcXGQrXFwvXXszfT0/KT8kLztcbiAgICB2YXIgX2Zyb21DQyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYmluZChTdHJpbmcpO1xuICAgIHZhciBfVThBZnJvbSA9IHR5cGVvZiBVaW50OEFycmF5LmZyb20gPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBVaW50OEFycmF5LmZyb20uYmluZChVaW50OEFycmF5KVxuICAgICAgICA6IGZ1bmN0aW9uIChpdCwgZm4pIHtcbiAgICAgICAgICAgIGlmIChmbiA9PT0gdm9pZCAwKSB7IGZuID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHg7IH07IH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdCwgMCkubWFwKGZuKSk7XG4gICAgICAgIH07XG4gICAgdmFyIF9ta1VyaVNhZmUgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBzcmNcbiAgICAgICAgLnJlcGxhY2UoLz0vZywgJycpLnJlcGxhY2UoL1srXFwvXS9nLCBmdW5jdGlvbiAobTApIHsgcmV0dXJuIG0wID09ICcrJyA/ICctJyA6ICdfJzsgfSk7IH07XG4gICAgdmFyIF90aWR5QjY0ID0gZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9dL2csICcnKTsgfTtcbiAgICAvKipcbiAgICAgKiBwb2x5ZmlsbCB2ZXJzaW9uIG9mIGBidG9hYFxuICAgICAqL1xuICAgIHZhciBidG9hUG9seWZpbGwgPSBmdW5jdGlvbiAoYmluKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdwb2x5ZmlsbGVkJyk7XG4gICAgICAgIHZhciB1MzIsIGMwLCBjMSwgYzIsIGFzYyA9ICcnO1xuICAgICAgICB2YXIgcGFkID0gYmluLmxlbmd0aCAlIDM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGlmICgoYzAgPSBiaW4uY2hhckNvZGVBdChpKyspKSA+IDI1NSB8fFxuICAgICAgICAgICAgICAgIChjMSA9IGJpbi5jaGFyQ29kZUF0KGkrKykpID4gMjU1IHx8XG4gICAgICAgICAgICAgICAgKGMyID0gYmluLmNoYXJDb2RlQXQoaSsrKSkgPiAyNTUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBjaGFyYWN0ZXIgZm91bmQnKTtcbiAgICAgICAgICAgIHUzMiA9IChjMCA8PCAxNikgfCAoYzEgPDwgOCkgfCBjMjtcbiAgICAgICAgICAgIGFzYyArPSBiNjRjaHNbdTMyID4+IDE4ICYgNjNdXG4gICAgICAgICAgICAgICAgKyBiNjRjaHNbdTMyID4+IDEyICYgNjNdXG4gICAgICAgICAgICAgICAgKyBiNjRjaHNbdTMyID4+IDYgJiA2M11cbiAgICAgICAgICAgICAgICArIGI2NGNoc1t1MzIgJiA2M107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhZCA/IGFzYy5zbGljZSgwLCBwYWQgLSAzKSArIFwiPT09XCIuc3Vic3RyaW5nKHBhZCkgOiBhc2M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkb2VzIHdoYXQgYHdpbmRvdy5idG9hYCBvZiB3ZWIgYnJvd3NlcnMgZG8uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJpbiBiaW5hcnkgc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gICAgICovXG4gICAgdmFyIF9idG9hID0gX2hhc2J0b2EgPyBmdW5jdGlvbiAoYmluKSB7IHJldHVybiBidG9hKGJpbik7IH1cbiAgICAgICAgOiBfaGFzQnVmZmVyID8gZnVuY3Rpb24gKGJpbikgeyByZXR1cm4gQnVmZmVyLmZyb20oYmluLCAnYmluYXJ5JykudG9TdHJpbmcoJ2Jhc2U2NCcpOyB9XG4gICAgICAgICAgICA6IGJ0b2FQb2x5ZmlsbDtcbiAgICB2YXIgX2Zyb21VaW50OEFycmF5ID0gX2hhc0J1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uICh1OGEpIHsgcmV0dXJuIEJ1ZmZlci5mcm9tKHU4YSkudG9TdHJpbmcoJ2Jhc2U2NCcpOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKHU4YSkge1xuICAgICAgICAgICAgLy8gY2YuIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEyNzEwMDAxL2hvdy10by1jb252ZXJ0LXVpbnQ4LWFycmF5LXRvLWJhc2U2NC1lbmNvZGVkLXN0cmluZy8xMjcxMzMyNiMxMjcxMzMyNlxuICAgICAgICAgICAgdmFyIG1heGFyZ3MgPSAweDEwMDA7XG4gICAgICAgICAgICB2YXIgc3RycyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB1OGEubGVuZ3RoOyBpIDwgbDsgaSArPSBtYXhhcmdzKSB7XG4gICAgICAgICAgICAgICAgc3Rycy5wdXNoKF9mcm9tQ0MuYXBwbHkobnVsbCwgdThhLnN1YmFycmF5KGksIGkgKyBtYXhhcmdzKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9idG9hKHN0cnMuam9pbignJykpO1xuICAgICAgICB9O1xuICAgIC8qKlxuICAgICAqIGNvbnZlcnRzIGEgVWludDhBcnJheSB0byBhIEJhc2U2NCBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXJsc2FmZV0gVVJMLWFuZC1maWxlbmFtZS1zYWZlIGEgbGEgUkZDNDY0OCDCpzVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQgc3RyaW5nXG4gICAgICovXG4gICAgdmFyIGZyb21VaW50OEFycmF5ID0gZnVuY3Rpb24gKHU4YSwgdXJsc2FmZSkge1xuICAgICAgICBpZiAodXJsc2FmZSA9PT0gdm9pZCAwKSB7IHVybHNhZmUgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gdXJsc2FmZSA/IF9ta1VyaVNhZmUoX2Zyb21VaW50OEFycmF5KHU4YSkpIDogX2Zyb21VaW50OEFycmF5KHU4YSk7XG4gICAgfTtcbiAgICAvLyBUaGlzIHRyaWNrIGlzIGZvdW5kIGJyb2tlbiBodHRwczovL2dpdGh1Yi5jb20vZGFua29nYWkvanMtYmFzZTY0L2lzc3Vlcy8xMzBcbiAgICAvLyBjb25zdCB1dG9iID0gKHNyYzogc3RyaW5nKSA9PiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3JjKSk7XG4gICAgLy8gcmV2ZXJ0aW5nIGdvb2Qgb2xkIGZhdGlvbmVkIHJlZ2V4cFxuICAgIHZhciBjYl91dG9iID0gZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgaWYgKGMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdmFyIGNjID0gYy5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgcmV0dXJuIGNjIDwgMHg4MCA/IGNcbiAgICAgICAgICAgICAgICA6IGNjIDwgMHg4MDAgPyAoX2Zyb21DQygweGMwIHwgKGNjID4+PiA2KSlcbiAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoY2MgJiAweDNmKSkpXG4gICAgICAgICAgICAgICAgICAgIDogKF9mcm9tQ0MoMHhlMCB8ICgoY2MgPj4+IDEyKSAmIDB4MGYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoKGNjID4+PiA2KSAmIDB4M2YpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoY2MgJiAweDNmKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNjID0gMHgxMDAwMFxuICAgICAgICAgICAgICAgICsgKGMuY2hhckNvZGVBdCgwKSAtIDB4RDgwMCkgKiAweDQwMFxuICAgICAgICAgICAgICAgICsgKGMuY2hhckNvZGVBdCgxKSAtIDB4REMwMCk7XG4gICAgICAgICAgICByZXR1cm4gKF9mcm9tQ0MoMHhmMCB8ICgoY2MgPj4+IDE4KSAmIDB4MDcpKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKChjYyA+Pj4gMTIpICYgMHgzZikpXG4gICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoKGNjID4+PiA2KSAmIDB4M2YpKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKGNjICYgMHgzZikpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlX3V0b2IgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGRl18W15cXHgwMC1cXHg3Rl0vZztcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaG91bGQgaGF2ZSBiZWVuIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVVRGLTggc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVVRGLTE2IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciB1dG9iID0gZnVuY3Rpb24gKHUpIHsgcmV0dXJuIHUucmVwbGFjZShyZV91dG9iLCBjYl91dG9iKTsgfTtcbiAgICAvL1xuICAgIHZhciBfZW5jb2RlID0gX2hhc0J1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIChzKSB7IHJldHVybiBCdWZmZXIuZnJvbShzLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKTsgfVxuICAgICAgICA6IF9URVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAocykgeyByZXR1cm4gX2Zyb21VaW50OEFycmF5KF9URS5lbmNvZGUocykpOyB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIChzKSB7IHJldHVybiBfYnRvYSh1dG9iKHMpKTsgfTtcbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBhIFVURi04LWVuY29kZWQgc3RyaW5nIHRvIGEgQmFzZTY0IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cmxzYWZlXSBpZiBgdHJ1ZWAgbWFrZSB0aGUgcmVzdWx0IFVSTC1zYWZlXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciBlbmNvZGUgPSBmdW5jdGlvbiAoc3JjLCB1cmxzYWZlKSB7XG4gICAgICAgIGlmICh1cmxzYWZlID09PSB2b2lkIDApIHsgdXJsc2FmZSA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiB1cmxzYWZlXG4gICAgICAgICAgICA/IF9ta1VyaVNhZmUoX2VuY29kZShzcmMpKVxuICAgICAgICAgICAgOiBfZW5jb2RlKHNyYyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBhIFVURi04LWVuY29kZWQgc3RyaW5nIHRvIFVSTC1zYWZlIEJhc2U2NCBSRkM0NjQ4IMKnNS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQgc3RyaW5nXG4gICAgICovXG4gICAgdmFyIGVuY29kZVVSSSA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIGVuY29kZShzcmMsIHRydWUpOyB9O1xuICAgIC8vIFRoaXMgdHJpY2sgaXMgZm91bmQgYnJva2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaS9qcy1iYXNlNjQvaXNzdWVzLzEzMFxuICAgIC8vIGNvbnN0IGJ0b3UgPSAoc3JjOiBzdHJpbmcpID0+IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3JjKSk7XG4gICAgLy8gcmV2ZXJ0aW5nIGdvb2Qgb2xkIGZhdGlvbmVkIHJlZ2V4cFxuICAgIHZhciByZV9idG91ID0gL1tcXHhDMC1cXHhERl1bXFx4ODAtXFx4QkZdfFtcXHhFMC1cXHhFRl1bXFx4ODAtXFx4QkZdezJ9fFtcXHhGMC1cXHhGN11bXFx4ODAtXFx4QkZdezN9L2c7XG4gICAgdmFyIGNiX2J0b3UgPSBmdW5jdGlvbiAoY2NjYykge1xuICAgICAgICBzd2l0Y2ggKGNjY2MubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdmFyIGNwID0gKCgweDA3ICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCAxOClcbiAgICAgICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDEyKVxuICAgICAgICAgICAgICAgICAgICB8ICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgyKSkgPDwgNilcbiAgICAgICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgzKSksIG9mZnNldCA9IGNwIC0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9mcm9tQ0MoKG9mZnNldCA+Pj4gMTApICsgMHhEODAwKVxuICAgICAgICAgICAgICAgICAgICArIF9mcm9tQ0MoKG9mZnNldCAmIDB4M0ZGKSArIDB4REMwMCkpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfZnJvbUNDKCgoMHgwZiAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTIpXG4gICAgICAgICAgICAgICAgICAgIHwgKCgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDEpKSA8PCA2KVxuICAgICAgICAgICAgICAgICAgICB8ICgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDIpKSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfZnJvbUNDKCgoMHgxZiAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgNilcbiAgICAgICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaG91bGQgaGF2ZSBiZWVuIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVVRGLTE2IHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciBidG91ID0gZnVuY3Rpb24gKGIpIHsgcmV0dXJuIGIucmVwbGFjZShyZV9idG91LCBjYl9idG91KTsgfTtcbiAgICAvKipcbiAgICAgKiBwb2x5ZmlsbCB2ZXJzaW9uIG9mIGBhdG9iYFxuICAgICAqL1xuICAgIHZhciBhdG9iUG9seWZpbGwgPSBmdW5jdGlvbiAoYXNjKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdwb2x5ZmlsbGVkJyk7XG4gICAgICAgIGFzYyA9IGFzYy5yZXBsYWNlKC9cXHMrL2csICcnKTtcbiAgICAgICAgaWYgKCFiNjRyZS50ZXN0KGFzYykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYWxmb3JtZWQgYmFzZTY0LicpO1xuICAgICAgICBhc2MgKz0gJz09Jy5zbGljZSgyIC0gKGFzYy5sZW5ndGggJiAzKSk7XG4gICAgICAgIHZhciB1MjQsIGJpbiA9ICcnLCByMSwgcjI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXNjLmxlbmd0aDspIHtcbiAgICAgICAgICAgIHUyNCA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldIDw8IDE4XG4gICAgICAgICAgICAgICAgfCBiNjR0YWJbYXNjLmNoYXJBdChpKyspXSA8PCAxMlxuICAgICAgICAgICAgICAgIHwgKHIxID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0pIDw8IDZcbiAgICAgICAgICAgICAgICB8IChyMiA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldKTtcbiAgICAgICAgICAgIGJpbiArPSByMSA9PT0gNjQgPyBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSlcbiAgICAgICAgICAgICAgICA6IHIyID09PSA2NCA/IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1LCB1MjQgPj4gOCAmIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgOiBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSwgdTI0ID4+IDggJiAyNTUsIHUyNCAmIDI1NSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJpbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGRvZXMgd2hhdCBgd2luZG93LmF0b2JgIG9mIHdlYiBicm93c2VycyBkby5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXNjIEJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGJpbmFyeSBzdHJpbmdcbiAgICAgKi9cbiAgICB2YXIgX2F0b2IgPSBfaGFzYXRvYiA/IGZ1bmN0aW9uIChhc2MpIHsgcmV0dXJuIGF0b2IoX3RpZHlCNjQoYXNjKSk7IH1cbiAgICAgICAgOiBfaGFzQnVmZmVyID8gZnVuY3Rpb24gKGFzYykgeyByZXR1cm4gQnVmZmVyLmZyb20oYXNjLCAnYmFzZTY0JykudG9TdHJpbmcoJ2JpbmFyeScpOyB9XG4gICAgICAgICAgICA6IGF0b2JQb2x5ZmlsbDtcbiAgICAvL1xuICAgIHZhciBfdG9VaW50OEFycmF5ID0gX2hhc0J1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIChhKSB7IHJldHVybiBfVThBZnJvbShCdWZmZXIuZnJvbShhLCAnYmFzZTY0JykpOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIF9VOEFmcm9tKF9hdG9iKGEpLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5jaGFyQ29kZUF0KDApOyB9KTsgfTtcbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBhIEJhc2U2NCBzdHJpbmcgdG8gYSBVaW50OEFycmF5LlxuICAgICAqL1xuICAgIHZhciB0b1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gX3RvVWludDhBcnJheShfdW5VUkkoYSkpOyB9O1xuICAgIC8vXG4gICAgdmFyIF9kZWNvZGUgPSBfaGFzQnVmZmVyXG4gICAgICAgID8gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEJ1ZmZlci5mcm9tKGEsICdiYXNlNjQnKS50b1N0cmluZygndXRmOCcpOyB9XG4gICAgICAgIDogX1REXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChhKSB7IHJldHVybiBfVEQuZGVjb2RlKF90b1VpbnQ4QXJyYXkoYSkpOyB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBidG91KF9hdG9iKGEpKTsgfTtcbiAgICB2YXIgX3VuVVJJID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIF90aWR5QjY0KGEucmVwbGFjZSgvWy1fXS9nLCBmdW5jdGlvbiAobTApIHsgcmV0dXJuIG0wID09ICctJyA/ICcrJyA6ICcvJzsgfSkpOyB9O1xuICAgIC8qKlxuICAgICAqIGNvbnZlcnRzIGEgQmFzZTY0IHN0cmluZyB0byBhIFVURi04IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3JjIEJhc2U2NCBzdHJpbmcuICBCb3RoIG5vcm1hbCBhbmQgVVJMLXNhZmUgYXJlIHN1cHBvcnRlZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciBkZWNvZGUgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBfZGVjb2RlKF91blVSSShzcmMpKTsgfTtcbiAgICAvKipcbiAgICAgKiBjaGVjayBpZiBhIHZhbHVlIGlzIGEgdmFsaWQgQmFzZTY0IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgYSB2YWx1ZSB0byBjaGVja1xuICAgICAgKi9cbiAgICB2YXIgaXNWYWxpZCA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgcyA9IHNyYy5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC89ezAsMn0kLywgJycpO1xuICAgICAgICByZXR1cm4gIS9bXlxcczAtOWEtekEtWlxcKy9dLy50ZXN0KHMpIHx8ICEvW15cXHMwLTlhLXpBLVpcXC1fXS8udGVzdChzKTtcbiAgICB9O1xuICAgIC8vXG4gICAgdmFyIF9ub0VudW0gPSBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHYsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBleHRlbmQgU3RyaW5nLnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAgICAgKi9cbiAgICB2YXIgZXh0ZW5kU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2FkZCA9IGZ1bmN0aW9uIChuYW1lLCBib2R5KSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgbmFtZSwgX25vRW51bShib2R5KSk7IH07XG4gICAgICAgIF9hZGQoJ2Zyb21CYXNlNjQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWNvZGUodGhpcyk7IH0pO1xuICAgICAgICBfYWRkKCd0b0Jhc2U2NCcsIGZ1bmN0aW9uICh1cmxzYWZlKSB7IHJldHVybiBlbmNvZGUodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgICAgICBfYWRkKCd0b0Jhc2U2NFVSSScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVuY29kZSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgICAgIF9hZGQoJ3RvQmFzZTY0VVJMJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5jb2RlKHRoaXMsIHRydWUpOyB9KTtcbiAgICAgICAgX2FkZCgndG9VaW50OEFycmF5JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdG9VaW50OEFycmF5KHRoaXMpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGV4dGVuZCBVaW50OEFycmF5LnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAgICAgKi9cbiAgICB2YXIgZXh0ZW5kVWludDhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hZGQgPSBmdW5jdGlvbiAobmFtZSwgYm9keSkgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFVpbnQ4QXJyYXkucHJvdG90eXBlLCBuYW1lLCBfbm9FbnVtKGJvZHkpKTsgfTtcbiAgICAgICAgX2FkZCgndG9CYXNlNjQnLCBmdW5jdGlvbiAodXJsc2FmZSkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgICAgICBfYWRkKCd0b0Jhc2U2NFVSSScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZyb21VaW50OEFycmF5KHRoaXMsIHRydWUpOyB9KTtcbiAgICAgICAgX2FkZCgndG9CYXNlNjRVUkwnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBleHRlbmQgQnVpbHRpbiBwcm90b3R5cGVzIHdpdGggcmVsZXZhbnQgbWV0aG9kc1xuICAgICAqL1xuICAgIHZhciBleHRlbmRCdWlsdGlucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXh0ZW5kU3RyaW5nKCk7XG4gICAgICAgIGV4dGVuZFVpbnQ4QXJyYXkoKTtcbiAgICB9O1xuICAgIHZhciBnQmFzZTY0ID0ge1xuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBWRVJTSU9OOiBWRVJTSU9OLFxuICAgICAgICBhdG9iOiBfYXRvYixcbiAgICAgICAgYXRvYlBvbHlmaWxsOiBhdG9iUG9seWZpbGwsXG4gICAgICAgIGJ0b2E6IF9idG9hLFxuICAgICAgICBidG9hUG9seWZpbGw6IGJ0b2FQb2x5ZmlsbCxcbiAgICAgICAgZnJvbUJhc2U2NDogZGVjb2RlLFxuICAgICAgICB0b0Jhc2U2NDogZW5jb2RlLFxuICAgICAgICBlbmNvZGU6IGVuY29kZSxcbiAgICAgICAgZW5jb2RlVVJJOiBlbmNvZGVVUkksXG4gICAgICAgIGVuY29kZVVSTDogZW5jb2RlVVJJLFxuICAgICAgICB1dG9iOiB1dG9iLFxuICAgICAgICBidG91OiBidG91LFxuICAgICAgICBkZWNvZGU6IGRlY29kZSxcbiAgICAgICAgaXNWYWxpZDogaXNWYWxpZCxcbiAgICAgICAgZnJvbVVpbnQ4QXJyYXk6IGZyb21VaW50OEFycmF5LFxuICAgICAgICB0b1VpbnQ4QXJyYXk6IHRvVWludDhBcnJheSxcbiAgICAgICAgZXh0ZW5kU3RyaW5nOiBleHRlbmRTdHJpbmcsXG4gICAgICAgIGV4dGVuZFVpbnQ4QXJyYXk6IGV4dGVuZFVpbnQ4QXJyYXksXG4gICAgICAgIGV4dGVuZEJ1aWx0aW5zOiBleHRlbmRCdWlsdGluc1xuICAgIH07XG4gICAgLy9cbiAgICAvLyBleHBvcnQgQmFzZTY0IHRvIHRoZSBuYW1lc3BhY2VcbiAgICAvL1xuICAgIC8vIEVTNSBpcyB5ZXQgdG8gaGF2ZSBPYmplY3QuYXNzaWduKCkgdGhhdCBtYXkgbWFrZSB0cmFuc3BpbGVycyB1bmhhcHB5LlxuICAgIC8vIGdCYXNlNjQuQmFzZTY0ID0gT2JqZWN0LmFzc2lnbih7fSwgZ0Jhc2U2NCk7XG4gICAgZ0Jhc2U2NC5CYXNlNjQgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhnQmFzZTY0KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7IHJldHVybiBnQmFzZTY0LkJhc2U2NFtrXSA9IGdCYXNlNjRba107IH0pO1xuICAgIHJldHVybiBnQmFzZTY0O1xufSkpO1xuIiwiLyoqXG4gKiBbanMtbWQ1XXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLW1kNX1cbiAqXG4gKiBAbmFtZXNwYWNlIG1kNVxuICogQHZlcnNpb24gMC43LjNcbiAqIEBhdXRob3IgQ2hlbiwgWWktQ3l1YW4gW2VtbjE3OEBnbWFpbC5jb21dXG4gKiBAY29weXJpZ2h0IENoZW4sIFlpLUN5dWFuIDIwMTQtMjAxN1xuICogQGxpY2Vuc2UgTUlUXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgRVJST1IgPSAnaW5wdXQgaXMgaW52YWxpZCB0eXBlJztcbiAgdmFyIFdJTkRPVyA9IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnO1xuICB2YXIgcm9vdCA9IFdJTkRPVyA/IHdpbmRvdyA6IHt9O1xuICBpZiAocm9vdC5KU19NRDVfTk9fV0lORE9XKSB7XG4gICAgV0lORE9XID0gZmFsc2U7XG4gIH1cbiAgdmFyIFdFQl9XT1JLRVIgPSAhV0lORE9XICYmIHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JztcbiAgdmFyIE5PREVfSlMgPSAhcm9vdC5KU19NRDVfTk9fTk9ERV9KUyAmJiB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGU7XG4gIGlmIChOT0RFX0pTKSB7XG4gICAgcm9vdCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmIChXRUJfV09SS0VSKSB7XG4gICAgcm9vdCA9IHNlbGY7XG4gIH1cbiAgdmFyIENPTU1PTl9KUyA9ICFyb290LkpTX01ENV9OT19DT01NT05fSlMgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHM7XG4gIHZhciBBTUQgPSB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQ7XG4gIHZhciBBUlJBWV9CVUZGRVIgPSAhcm9vdC5KU19NRDVfTk9fQVJSQVlfQlVGRkVSICYmIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBIRVhfQ0hBUlMgPSAnMDEyMzQ1Njc4OWFiY2RlZicuc3BsaXQoJycpO1xuICB2YXIgRVhUUkEgPSBbMTI4LCAzMjc2OCwgODM4ODYwOCwgLTIxNDc0ODM2NDhdO1xuICB2YXIgU0hJRlQgPSBbMCwgOCwgMTYsIDI0XTtcbiAgdmFyIE9VVFBVVF9UWVBFUyA9IFsnaGV4JywgJ2FycmF5JywgJ2RpZ2VzdCcsICdidWZmZXInLCAnYXJyYXlCdWZmZXInLCAnYmFzZTY0J107XG4gIHZhciBCQVNFNjRfRU5DT0RFX0NIQVIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycuc3BsaXQoJycpO1xuXG4gIHZhciBibG9ja3MgPSBbXSwgYnVmZmVyODtcbiAgaWYgKEFSUkFZX0JVRkZFUikge1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoNjgpO1xuICAgIGJ1ZmZlcjggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIGJsb2NrcyA9IG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xuICB9XG5cbiAgaWYgKHJvb3QuSlNfTUQ1X05PX05PREVfSlMgfHwgIUFycmF5LmlzQXJyYXkpIHtcbiAgICBBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG4gIH1cblxuICBpZiAoQVJSQVlfQlVGRkVSICYmIChyb290LkpTX01ENV9OT19BUlJBWV9CVUZGRVJfSVNfVklFVyB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIEFycmF5QnVmZmVyLmlzVmlldyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmouYnVmZmVyICYmIG9iai5idWZmZXIuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBoZXhcbiAgICogQG1lbWJlcm9mIG1kNVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgaGV4IHN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBIZXggc3RyaW5nXG4gICAqIEBleGFtcGxlXG4gICAqIG1kNS5oZXgoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICogLy8gZXF1YWwgdG9cbiAgICogbWQ1KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nJyk7XG4gICAqL1xuICAvKipcbiAgICogQG1ldGhvZCBkaWdlc3RcbiAgICogQG1lbWJlcm9mIG1kNVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgYnl0ZXMgYXJyYXlcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl8VWludDhBcnJheXxBcnJheUJ1ZmZlcn0gbWVzc2FnZSBtZXNzYWdlIHRvIGhhc2hcbiAgICogQHJldHVybnMge0FycmF5fSBCeXRlcyBhcnJheVxuICAgKiBAZXhhbXBsZVxuICAgKiBtZDUuZGlnZXN0KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nJyk7XG4gICAqL1xuICAvKipcbiAgICogQG1ldGhvZCBhcnJheVxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBieXRlcyBhcnJheVxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEJ5dGVzIGFycmF5XG4gICAqIEBleGFtcGxlXG4gICAqIG1kNS5hcnJheSgnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZycpO1xuICAgKi9cbiAgLyoqXG4gICAqIEBtZXRob2QgYXJyYXlCdWZmZXJcbiAgICogQG1lbWJlcm9mIG1kNVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgQXJyYXlCdWZmZXJcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl8VWludDhBcnJheXxBcnJheUJ1ZmZlcn0gbWVzc2FnZSBtZXNzYWdlIHRvIGhhc2hcbiAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBBcnJheUJ1ZmZlclxuICAgKiBAZXhhbXBsZVxuICAgKiBtZDUuYXJyYXlCdWZmZXIoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJ1ZmZlclxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1heWJlIGNvbmZ1c2Ugd2l0aCBCdWZmZXIgaW4gbm9kZS5qcy4gUGxlYXNlIHVzZSBhcnJheUJ1ZmZlciBpbnN0ZWFkLlxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBBcnJheUJ1ZmZlclxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IEFycmF5QnVmZmVyXG4gICAqIEBleGFtcGxlXG4gICAqIG1kNS5idWZmZXIoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJhc2U2NFxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBiYXNlNjQgc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ9IG1lc3NhZ2UgbWVzc2FnZSB0byBoYXNoXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IGJhc2U2NCBzdHJpbmdcbiAgICogQGV4YW1wbGVcbiAgICogbWQ1LmJhc2U2NCgnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZycpO1xuICAgKi9cbiAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChvdXRwdXRUeXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IE1kNSh0cnVlKS51cGRhdGUobWVzc2FnZSlbb3V0cHV0VHlwZV0oKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgTWQ1IG9iamVjdFxuICAgKiBAcmV0dXJucyB7TWQ1fSBNZDUgb2JqZWN0LlxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgaGFzaCA9IG1kNS5jcmVhdGUoKTtcbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgYW5kIHVwZGF0ZSBNZDUgb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ9IG1lc3NhZ2UgbWVzc2FnZSB0byBoYXNoXG4gICAqIEByZXR1cm5zIHtNZDV9IE1kNSBvYmplY3QuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBoYXNoID0gbWQ1LnVwZGF0ZSgnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZycpO1xuICAgKiAvLyBlcXVhbCB0b1xuICAgKiB2YXIgaGFzaCA9IG1kNS5jcmVhdGUoKTtcbiAgICogaGFzaC51cGRhdGUoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICovXG4gIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZU91dHB1dE1ldGhvZCgnaGV4Jyk7XG4gICAgaWYgKE5PREVfSlMpIHtcbiAgICAgIG1ldGhvZCA9IG5vZGVXcmFwKG1ldGhvZCk7XG4gICAgfVxuICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IE1kNSgpO1xuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZSgpLnVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgT1VUUFVUX1RZUEVTLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgdHlwZSA9IE9VVFBVVF9UWVBFU1tpXTtcbiAgICAgIG1ldGhvZFt0eXBlXSA9IGNyZWF0ZU91dHB1dE1ldGhvZCh0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfTtcblxuICB2YXIgbm9kZVdyYXAgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgdmFyIGNyeXB0byA9IGV2YWwoXCJyZXF1aXJlKCdjcnlwdG8nKVwiKTtcbiAgICB2YXIgQnVmZmVyID0gZXZhbChcInJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlclwiKTtcbiAgICB2YXIgbm9kZU1ldGhvZCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKG1lc3NhZ2UsICd1dGY4JykuZGlnZXN0KCdoZXgnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IEVSUk9SO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkgfHxcbiAgICAgICAgbWVzc2FnZS5jb25zdHJ1Y3RvciA9PT0gQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKG5ldyBCdWZmZXIobWVzc2FnZSkpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWV0aG9kKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIG5vZGVNZXRob2Q7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1kNSBjbGFzc1xuICAgKiBAY2xhc3MgTWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGlzIGludGVybmFsIGNsYXNzLlxuICAgKiBAc2VlIHtAbGluayBtZDUuY3JlYXRlfVxuICAgKi9cbiAgZnVuY3Rpb24gTWQ1KHNoYXJlZE1lbW9yeSkge1xuICAgIGlmIChzaGFyZWRNZW1vcnkpIHtcbiAgICAgIGJsb2Nrc1swXSA9IGJsb2Nrc1sxNl0gPSBibG9ja3NbMV0gPSBibG9ja3NbMl0gPSBibG9ja3NbM10gPVxuICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgIGJsb2Nrc1s4XSA9IGJsb2Nrc1s5XSA9IGJsb2Nrc1sxMF0gPSBibG9ja3NbMTFdID1cbiAgICAgIGJsb2Nrc1sxMl0gPSBibG9ja3NbMTNdID0gYmxvY2tzWzE0XSA9IGJsb2Nrc1sxNV0gPSAwO1xuICAgICAgdGhpcy5ibG9ja3MgPSBibG9ja3M7XG4gICAgICB0aGlzLmJ1ZmZlcjggPSBidWZmZXI4O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQVJSQVlfQlVGRkVSKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoNjgpO1xuICAgICAgICB0aGlzLmJ1ZmZlcjggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICB0aGlzLmJsb2NrcyA9IG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ibG9ja3MgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaDAgPSB0aGlzLmgxID0gdGhpcy5oMiA9IHRoaXMuaDMgPSB0aGlzLnN0YXJ0ID0gdGhpcy5ieXRlcyA9IHRoaXMuaEJ5dGVzID0gMDtcbiAgICB0aGlzLmZpbmFsaXplZCA9IHRoaXMuaGFzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5maXJzdCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCB1cGRhdGVcbiAgICogQG1lbWJlcm9mIE1kNVxuICAgKiBAaW5zdGFuY2VcbiAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZSBoYXNoXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ9IG1lc3NhZ2UgbWVzc2FnZSB0byBoYXNoXG4gICAqIEByZXR1cm5zIHtNZDV9IE1kNSBvYmplY3QuXG4gICAqIEBzZWUge0BsaW5rIG1kNS51cGRhdGV9XG4gICAqL1xuICBNZDUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5vdFN0cmluZywgdHlwZSA9IHR5cGVvZiBtZXNzYWdlO1xuICAgIGlmICh0eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChtZXNzYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgRVJST1I7XG4gICAgICAgIH0gZWxzZSBpZiAoQVJSQVlfQlVGRkVSICYmIG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhtZXNzYWdlKSkge1xuICAgICAgICAgICAgdGhyb3cgRVJST1I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFUlJPUjtcbiAgICAgIH1cbiAgICAgIG5vdFN0cmluZyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBjb2RlLCBpbmRleCA9IDAsIGksIGxlbmd0aCA9IG1lc3NhZ2UubGVuZ3RoLCBibG9ja3MgPSB0aGlzLmJsb2NrcztcbiAgICB2YXIgYnVmZmVyOCA9IHRoaXMuYnVmZmVyODtcblxuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuaGFzaGVkKSB7XG4gICAgICAgIHRoaXMuaGFzaGVkID0gZmFsc2U7XG4gICAgICAgIGJsb2Nrc1swXSA9IGJsb2Nrc1sxNl07XG4gICAgICAgIGJsb2Nrc1sxNl0gPSBibG9ja3NbMV0gPSBibG9ja3NbMl0gPSBibG9ja3NbM10gPVxuICAgICAgICBibG9ja3NbNF0gPSBibG9ja3NbNV0gPSBibG9ja3NbNl0gPSBibG9ja3NbN10gPVxuICAgICAgICBibG9ja3NbOF0gPSBibG9ja3NbOV0gPSBibG9ja3NbMTBdID0gYmxvY2tzWzExXSA9XG4gICAgICAgIGJsb2Nrc1sxMl0gPSBibG9ja3NbMTNdID0gYmxvY2tzWzE0XSA9IGJsb2Nrc1sxNV0gPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAobm90U3RyaW5nKSB7XG4gICAgICAgIGlmIChBUlJBWV9CVUZGRVIpIHtcbiAgICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgNjQ7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGJ1ZmZlcjhbaSsrXSA9IG1lc3NhZ2VbaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgNjQ7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9IG1lc3NhZ2VbaW5kZXhdIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKEFSUkFZX0JVRkZFUikge1xuICAgICAgICAgIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCA2NDsgKytpbmRleCkge1xuICAgICAgICAgICAgY29kZSA9IG1lc3NhZ2UuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgICAgICBpZiAoY29kZSA8IDB4ODApIHtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gY29kZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgIGJ1ZmZlcjhbaSsrXSA9IDB4YzAgfCAoY29kZSA+PiA2KTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8IChjb2RlICYgMHgzZik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHhlMCB8IChjb2RlID4+IDEyKTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpO1xuICAgICAgICAgICAgICBidWZmZXI4W2krK10gPSAweDgwIHwgKGNvZGUgJiAweDNmKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAobWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpKTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHhmMCB8IChjb2RlID4+IDE4KTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8ICgoY29kZSA+PiAxMikgJiAweDNmKTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpO1xuICAgICAgICAgICAgICBidWZmZXI4W2krK10gPSAweDgwIHwgKGNvZGUgJiAweDNmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IDY0OyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb2RlID0gbWVzc2FnZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSBjb2RlIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHg4MDApIHtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4YzAgfCAoY29kZSA+PiA2KSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZTAgfCAoY29kZSA+PiAxMikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAobWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpKTtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZjAgfCAoY29kZSA+PiAxOCkpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiAxMikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5sYXN0Qnl0ZUluZGV4ID0gaTtcbiAgICAgIHRoaXMuYnl0ZXMgKz0gaSAtIHRoaXMuc3RhcnQ7XG4gICAgICBpZiAoaSA+PSA2NCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gaSAtIDY0O1xuICAgICAgICB0aGlzLmhhc2goKTtcbiAgICAgICAgdGhpcy5oYXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmJ5dGVzID4gNDI5NDk2NzI5NSkge1xuICAgICAgdGhpcy5oQnl0ZXMgKz0gdGhpcy5ieXRlcyAvIDQyOTQ5NjcyOTYgPDwgMDtcbiAgICAgIHRoaXMuYnl0ZXMgPSB0aGlzLmJ5dGVzICUgNDI5NDk2NzI5NjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgTWQ1LnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2NrcywgaSA9IHRoaXMubGFzdEJ5dGVJbmRleDtcbiAgICBibG9ja3NbaSA+PiAyXSB8PSBFWFRSQVtpICYgM107XG4gICAgaWYgKGkgPj0gNTYpIHtcbiAgICAgIGlmICghdGhpcy5oYXNoZWQpIHtcbiAgICAgICAgdGhpcy5oYXNoKCk7XG4gICAgICB9XG4gICAgICBibG9ja3NbMF0gPSBibG9ja3NbMTZdO1xuICAgICAgYmxvY2tzWzE2XSA9IGJsb2Nrc1sxXSA9IGJsb2Nrc1syXSA9IGJsb2Nrc1szXSA9XG4gICAgICBibG9ja3NbNF0gPSBibG9ja3NbNV0gPSBibG9ja3NbNl0gPSBibG9ja3NbN10gPVxuICAgICAgYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPVxuICAgICAgYmxvY2tzWzEyXSA9IGJsb2Nrc1sxM10gPSBibG9ja3NbMTRdID0gYmxvY2tzWzE1XSA9IDA7XG4gICAgfVxuICAgIGJsb2Nrc1sxNF0gPSB0aGlzLmJ5dGVzIDw8IDM7XG4gICAgYmxvY2tzWzE1XSA9IHRoaXMuaEJ5dGVzIDw8IDMgfCB0aGlzLmJ5dGVzID4+PiAyOTtcbiAgICB0aGlzLmhhc2goKTtcbiAgfTtcblxuICBNZDUucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEsIGIsIGMsIGQsIGJjLCBkYSwgYmxvY2tzID0gdGhpcy5ibG9ja3M7XG5cbiAgICBpZiAodGhpcy5maXJzdCkge1xuICAgICAgYSA9IGJsb2Nrc1swXSAtIDY4MDg3NjkzNztcbiAgICAgIGEgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpIC0gMjcxNzMzODc5IDw8IDA7XG4gICAgICBkID0gKC0xNzMyNTg0MTk0IF4gYSAmIDIwMDQzMTgwNzEpICsgYmxvY2tzWzFdIC0gMTE3ODMwNzA4O1xuICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSA8PCAwO1xuICAgICAgYyA9ICgtMjcxNzMzODc5IF4gKGQgJiAoYSBeIC0yNzE3MzM4NzkpKSkgKyBibG9ja3NbMl0gLSAxMTI2NDc4Mzc1O1xuICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCA8PCAwO1xuICAgICAgYiA9IChhIF4gKGMgJiAoZCBeIGEpKSkgKyBibG9ja3NbM10gLSAxMzE2MjU5MjA5O1xuICAgICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyA8PCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gdGhpcy5oMDtcbiAgICAgIGIgPSB0aGlzLmgxO1xuICAgICAgYyA9IHRoaXMuaDI7XG4gICAgICBkID0gdGhpcy5oMztcbiAgICAgIGEgKz0gKGQgXiAoYiAmIChjIF4gZCkpKSArIGJsb2Nrc1swXSAtIDY4MDg3NjkzNjtcbiAgICAgIGEgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiA8PCAwO1xuICAgICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzFdIC0gMzg5NTY0NTg2O1xuICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSA8PCAwO1xuICAgICAgYyArPSAoYiBeIChkICYgKGEgXiBiKSkpICsgYmxvY2tzWzJdICsgNjA2MTA1ODE5O1xuICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCA8PCAwO1xuICAgICAgYiArPSAoYSBeIChjICYgKGQgXiBhKSkpICsgYmxvY2tzWzNdIC0gMTA0NDUyNTMzMDtcbiAgICAgIGIgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgPDwgMDtcbiAgICB9XG5cbiAgICBhICs9IChkIF4gKGIgJiAoYyBeIGQpKSkgKyBibG9ja3NbNF0gLSAxNzY0MTg4OTc7XG4gICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIDw8IDA7XG4gICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzVdICsgMTIwMDA4MDQyNjtcbiAgICBkID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIDw8IDA7XG4gICAgYyArPSAoYiBeIChkICYgKGEgXiBiKSkpICsgYmxvY2tzWzZdIC0gMTQ3MzIzMTM0MTtcbiAgICBjID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIDw8IDA7XG4gICAgYiArPSAoYSBeIChjICYgKGQgXiBhKSkpICsgYmxvY2tzWzddIC0gNDU3MDU5ODM7XG4gICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyA8PCAwO1xuICAgIGEgKz0gKGQgXiAoYiAmIChjIF4gZCkpKSArIGJsb2Nrc1s4XSArIDE3NzAwMzU0MTY7XG4gICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIDw8IDA7XG4gICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzldIC0gMTk1ODQxNDQxNztcbiAgICBkID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIDw8IDA7XG4gICAgYyArPSAoYiBeIChkICYgKGEgXiBiKSkpICsgYmxvY2tzWzEwXSAtIDQyMDYzO1xuICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgPDwgMDtcbiAgICBiICs9IChhIF4gKGMgJiAoZCBeIGEpKSkgKyBibG9ja3NbMTFdIC0gMTk5MDQwNDE2MjtcbiAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIDw8IDA7XG4gICAgYSArPSAoZCBeIChiICYgKGMgXiBkKSkpICsgYmxvY2tzWzEyXSArIDE4MDQ2MDM2ODI7XG4gICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIDw8IDA7XG4gICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzEzXSAtIDQwMzQxMTAxO1xuICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgPDwgMDtcbiAgICBjICs9IChiIF4gKGQgJiAoYSBeIGIpKSkgKyBibG9ja3NbMTRdIC0gMTUwMjAwMjI5MDtcbiAgICBjID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIDw8IDA7XG4gICAgYiArPSAoYSBeIChjICYgKGQgXiBhKSkpICsgYmxvY2tzWzE1XSArIDEyMzY1MzUzMjk7XG4gICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoZCAmIChiIF4gYykpKSArIGJsb2Nrc1sxXSAtIDE2NTc5NjUxMDtcbiAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgPDwgMDtcbiAgICBkICs9IChiIF4gKGMgJiAoYSBeIGIpKSkgKyBibG9ja3NbNl0gLSAxMDY5NTAxNjMyO1xuICAgIGQgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoYiAmIChkIF4gYSkpKSArIGJsb2Nrc1sxMV0gKyA2NDM3MTc3MTM7XG4gICAgYyA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCA8PCAwO1xuICAgIGIgKz0gKGQgXiAoYSAmIChjIF4gZCkpKSArIGJsb2Nrc1swXSAtIDM3Mzg5NzMwMjtcbiAgICBiID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIDw8IDA7XG4gICAgYSArPSAoYyBeIChkICYgKGIgXiBjKSkpICsgYmxvY2tzWzVdIC0gNzAxNTU4NjkxO1xuICAgIGEgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiA8PCAwO1xuICAgIGQgKz0gKGIgXiAoYyAmIChhIF4gYikpKSArIGJsb2Nrc1sxMF0gKyAzODAxNjA4MztcbiAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgPDwgMDtcbiAgICBjICs9IChhIF4gKGIgJiAoZCBeIGEpKSkgKyBibG9ja3NbMTVdIC0gNjYwNDc4MzM1O1xuICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgPDwgMDtcbiAgICBiICs9IChkIF4gKGEgJiAoYyBeIGQpKSkgKyBibG9ja3NbNF0gLSA0MDU1Mzc4NDg7XG4gICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoZCAmIChiIF4gYykpKSArIGJsb2Nrc1s5XSArIDU2ODQ0NjQzODtcbiAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgPDwgMDtcbiAgICBkICs9IChiIF4gKGMgJiAoYSBeIGIpKSkgKyBibG9ja3NbMTRdIC0gMTAxOTgwMzY5MDtcbiAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgPDwgMDtcbiAgICBjICs9IChhIF4gKGIgJiAoZCBeIGEpKSkgKyBibG9ja3NbM10gLSAxODczNjM5NjE7XG4gICAgYyA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCA8PCAwO1xuICAgIGIgKz0gKGQgXiAoYSAmIChjIF4gZCkpKSArIGJsb2Nrc1s4XSArIDExNjM1MzE1MDE7XG4gICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoZCAmIChiIF4gYykpKSArIGJsb2Nrc1sxM10gLSAxNDQ0NjgxNDY3O1xuICAgIGEgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiA8PCAwO1xuICAgIGQgKz0gKGIgXiAoYyAmIChhIF4gYikpKSArIGJsb2Nrc1syXSAtIDUxNDAzNzg0O1xuICAgIGQgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoYiAmIChkIF4gYSkpKSArIGJsb2Nrc1s3XSArIDE3MzUzMjg0NzM7XG4gICAgYyA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCA8PCAwO1xuICAgIGIgKz0gKGQgXiAoYSAmIChjIF4gZCkpKSArIGJsb2Nrc1sxMl0gLSAxOTI2NjA3NzM0O1xuICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgPDwgMDtcbiAgICBiYyA9IGIgXiBjO1xuICAgIGEgKz0gKGJjIF4gZCkgKyBibG9ja3NbNV0gLSAzNzg1NTg7XG4gICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIDw8IDA7XG4gICAgZCArPSAoYmMgXiBhKSArIGJsb2Nrc1s4XSAtIDIwMjI1NzQ0NjM7XG4gICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSA8PCAwO1xuICAgIGRhID0gZCBeIGE7XG4gICAgYyArPSAoZGEgXiBiKSArIGJsb2Nrc1sxMV0gKyAxODM5MDMwNTYyO1xuICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgPDwgMDtcbiAgICBiICs9IChkYSBeIGMpICsgYmxvY2tzWzE0XSAtIDM1MzA5NTU2O1xuICAgIGIgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyA8PCAwO1xuICAgIGJjID0gYiBeIGM7XG4gICAgYSArPSAoYmMgXiBkKSArIGJsb2Nrc1sxXSAtIDE1MzA5OTIwNjA7XG4gICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIDw8IDA7XG4gICAgZCArPSAoYmMgXiBhKSArIGJsb2Nrc1s0XSArIDEyNzI4OTMzNTM7XG4gICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSA8PCAwO1xuICAgIGRhID0gZCBeIGE7XG4gICAgYyArPSAoZGEgXiBiKSArIGJsb2Nrc1s3XSAtIDE1NTQ5NzYzMjtcbiAgICBjID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIDw8IDA7XG4gICAgYiArPSAoZGEgXiBjKSArIGJsb2Nrc1sxMF0gLSAxMDk0NzMwNjQwO1xuICAgIGIgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyA8PCAwO1xuICAgIGJjID0gYiBeIGM7XG4gICAgYSArPSAoYmMgXiBkKSArIGJsb2Nrc1sxM10gKyA2ODEyNzkxNzQ7XG4gICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIDw8IDA7XG4gICAgZCArPSAoYmMgXiBhKSArIGJsb2Nrc1swXSAtIDM1ODUzNzIyMjtcbiAgICBkID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIDw8IDA7XG4gICAgZGEgPSBkIF4gYTtcbiAgICBjICs9IChkYSBeIGIpICsgYmxvY2tzWzNdIC0gNzIyNTIxOTc5O1xuICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgPDwgMDtcbiAgICBiICs9IChkYSBeIGMpICsgYmxvY2tzWzZdICsgNzYwMjkxODk7XG4gICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIDw8IDA7XG4gICAgYmMgPSBiIF4gYztcbiAgICBhICs9IChiYyBeIGQpICsgYmxvY2tzWzldIC0gNjQwMzY0NDg3O1xuICAgIGEgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiA8PCAwO1xuICAgIGQgKz0gKGJjIF4gYSkgKyBibG9ja3NbMTJdIC0gNDIxODE1ODM1O1xuICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgPDwgMDtcbiAgICBkYSA9IGQgXiBhO1xuICAgIGMgKz0gKGRhIF4gYikgKyBibG9ja3NbMTVdICsgNTMwNzQyNTIwO1xuICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgPDwgMDtcbiAgICBiICs9IChkYSBeIGMpICsgYmxvY2tzWzJdIC0gOTk1MzM4NjUxO1xuICAgIGIgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBibG9ja3NbMF0gLSAxOTg2MzA4NDQ7XG4gICAgYSA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIDw8IDA7XG4gICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGJsb2Nrc1s3XSArIDExMjY4OTE0MTU7XG4gICAgZCA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBibG9ja3NbMTRdIC0gMTQxNjM1NDkwNTtcbiAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIDw8IDA7XG4gICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGJsb2Nrc1s1XSAtIDU3NDM0MDU1O1xuICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgPDwgMDtcbiAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsgYmxvY2tzWzEyXSArIDE3MDA0ODU1NzE7XG4gICAgYSA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIDw8IDA7XG4gICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGJsb2Nrc1szXSAtIDE4OTQ5ODY2MDY7XG4gICAgZCA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBibG9ja3NbMTBdIC0gMTA1MTUyMztcbiAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIDw8IDA7XG4gICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGJsb2Nrc1sxXSAtIDIwNTQ5MjI3OTk7XG4gICAgYiA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBibG9ja3NbOF0gKyAxODczMzEzMzU5O1xuICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiA8PCAwO1xuICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBibG9ja3NbMTVdIC0gMzA2MTE3NDQ7XG4gICAgZCA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBibG9ja3NbNl0gLSAxNTYwMTk4MzgwO1xuICAgIGMgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgPDwgMDtcbiAgICBiICs9IChkIF4gKGMgfCB+YSkpICsgYmxvY2tzWzEzXSArIDEzMDkxNTE2NDk7XG4gICAgYiA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBibG9ja3NbNF0gLSAxNDU1MjMwNzA7XG4gICAgYSA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIDw8IDA7XG4gICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGJsb2Nrc1sxMV0gLSAxMTIwMjEwMzc5O1xuICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgPDwgMDtcbiAgICBjICs9IChhIF4gKGQgfCB+YikpICsgYmxvY2tzWzJdICsgNzE4Nzg3MjU5O1xuICAgIGMgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgPDwgMDtcbiAgICBiICs9IChkIF4gKGMgfCB+YSkpICsgYmxvY2tzWzldIC0gMzQzNDg1NTUxO1xuICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgPDwgMDtcblxuICAgIGlmICh0aGlzLmZpcnN0KSB7XG4gICAgICB0aGlzLmgwID0gYSArIDE3MzI1ODQxOTMgPDwgMDtcbiAgICAgIHRoaXMuaDEgPSBiIC0gMjcxNzMzODc5IDw8IDA7XG4gICAgICB0aGlzLmgyID0gYyAtIDE3MzI1ODQxOTQgPDwgMDtcbiAgICAgIHRoaXMuaDMgPSBkICsgMjcxNzMzODc4IDw8IDA7XG4gICAgICB0aGlzLmZpcnN0ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaDAgPSB0aGlzLmgwICsgYSA8PCAwO1xuICAgICAgdGhpcy5oMSA9IHRoaXMuaDEgKyBiIDw8IDA7XG4gICAgICB0aGlzLmgyID0gdGhpcy5oMiArIGMgPDwgMDtcbiAgICAgIHRoaXMuaDMgPSB0aGlzLmgzICsgZCA8PCAwO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG1ldGhvZCBoZXhcbiAgICogQG1lbWJlcm9mIE1kNVxuICAgKiBAaW5zdGFuY2VcbiAgICogQGRlc2NyaXB0aW9uIE91dHB1dCBoYXNoIGFzIGhleCBzdHJpbmdcbiAgICogQHJldHVybnMge1N0cmluZ30gSGV4IHN0cmluZ1xuICAgKiBAc2VlIHtAbGluayBtZDUuaGV4fVxuICAgKiBAZXhhbXBsZVxuICAgKiBoYXNoLmhleCgpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMztcblxuICAgIHJldHVybiBIRVhfQ0hBUlNbKGgwID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDAgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgwID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMCA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDEgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toMSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDEgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgxID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMiA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2gyICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMiA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDIgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgzID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDMgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgzID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMyA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDI0KSAmIDB4MEZdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIHRvU3RyaW5nXG4gICAqIEBtZW1iZXJvZiBNZDVcbiAgICogQGluc3RhbmNlXG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBoZXggc3RyaW5nXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEhleCBzdHJpbmdcbiAgICogQHNlZSB7QGxpbmsgbWQ1LmhleH1cbiAgICogQGV4YW1wbGVcbiAgICogaGFzaC50b1N0cmluZygpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS50b1N0cmluZyA9IE1kNS5wcm90b3R5cGUuaGV4O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGRpZ2VzdFxuICAgKiBAbWVtYmVyb2YgTWQ1XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgYnl0ZXMgYXJyYXlcbiAgICogQHJldHVybnMge0FycmF5fSBCeXRlcyBhcnJheVxuICAgKiBAc2VlIHtAbGluayBtZDUuZGlnZXN0fVxuICAgKiBAZXhhbXBsZVxuICAgKiBoYXNoLmRpZ2VzdCgpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMztcbiAgICByZXR1cm4gW1xuICAgICAgaDAgJiAweEZGLCAoaDAgPj4gOCkgJiAweEZGLCAoaDAgPj4gMTYpICYgMHhGRiwgKGgwID4+IDI0KSAmIDB4RkYsXG4gICAgICBoMSAmIDB4RkYsIChoMSA+PiA4KSAmIDB4RkYsIChoMSA+PiAxNikgJiAweEZGLCAoaDEgPj4gMjQpICYgMHhGRixcbiAgICAgIGgyICYgMHhGRiwgKGgyID4+IDgpICYgMHhGRiwgKGgyID4+IDE2KSAmIDB4RkYsIChoMiA+PiAyNCkgJiAweEZGLFxuICAgICAgaDMgJiAweEZGLCAoaDMgPj4gOCkgJiAweEZGLCAoaDMgPj4gMTYpICYgMHhGRiwgKGgzID4+IDI0KSAmIDB4RkZcbiAgICBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGFycmF5XG4gICAqIEBtZW1iZXJvZiBNZDVcbiAgICogQGluc3RhbmNlXG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBieXRlcyBhcnJheVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEJ5dGVzIGFycmF5XG4gICAqIEBzZWUge0BsaW5rIG1kNS5hcnJheX1cbiAgICogQGV4YW1wbGVcbiAgICogaGFzaC5hcnJheSgpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5hcnJheSA9IE1kNS5wcm90b3R5cGUuZGlnZXN0O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGFycmF5QnVmZmVyXG4gICAqIEBtZW1iZXJvZiBNZDVcbiAgICogQGluc3RhbmNlXG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBBcnJheUJ1ZmZlclxuICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IEFycmF5QnVmZmVyXG4gICAqIEBzZWUge0BsaW5rIG1kNS5hcnJheUJ1ZmZlcn1cbiAgICogQGV4YW1wbGVcbiAgICogaGFzaC5hcnJheUJ1ZmZlcigpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZpbmFsaXplKCk7XG5cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDE2KTtcbiAgICB2YXIgYmxvY2tzID0gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7XG4gICAgYmxvY2tzWzBdID0gdGhpcy5oMDtcbiAgICBibG9ja3NbMV0gPSB0aGlzLmgxO1xuICAgIGJsb2Nrc1syXSA9IHRoaXMuaDI7XG4gICAgYmxvY2tzWzNdID0gdGhpcy5oMztcbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJ1ZmZlclxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1heWJlIGNvbmZ1c2Ugd2l0aCBCdWZmZXIgaW4gbm9kZS5qcy4gUGxlYXNlIHVzZSBhcnJheUJ1ZmZlciBpbnN0ZWFkLlxuICAgKiBAbWVtYmVyb2YgTWQ1XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgQXJyYXlCdWZmZXJcbiAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBBcnJheUJ1ZmZlclxuICAgKiBAc2VlIHtAbGluayBtZDUuYnVmZmVyfVxuICAgKiBAZXhhbXBsZVxuICAgKiBoYXNoLmJ1ZmZlcigpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5idWZmZXIgPSBNZDUucHJvdG90eXBlLmFycmF5QnVmZmVyO1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJhc2U2NFxuICAgKiBAbWVtYmVyb2YgTWQ1XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgYmFzZTY0IHN0cmluZ1xuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBiYXNlNjQgc3RyaW5nXG4gICAqIEBzZWUge0BsaW5rIG1kNS5iYXNlNjR9XG4gICAqIEBleGFtcGxlXG4gICAqIGhhc2guYmFzZTY0KCk7XG4gICAqL1xuICBNZDUucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdjEsIHYyLCB2MywgYmFzZTY0U3RyID0gJycsIGJ5dGVzID0gdGhpcy5hcnJheSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTU7KSB7XG4gICAgICB2MSA9IGJ5dGVzW2krK107XG4gICAgICB2MiA9IGJ5dGVzW2krK107XG4gICAgICB2MyA9IGJ5dGVzW2krK107XG4gICAgICBiYXNlNjRTdHIgKz0gQkFTRTY0X0VOQ09ERV9DSEFSW3YxID4+PiAyXSArXG4gICAgICAgIEJBU0U2NF9FTkNPREVfQ0hBUlsodjEgPDwgNCB8IHYyID4+PiA0KSAmIDYzXSArXG4gICAgICAgIEJBU0U2NF9FTkNPREVfQ0hBUlsodjIgPDwgMiB8IHYzID4+PiA2KSAmIDYzXSArXG4gICAgICAgIEJBU0U2NF9FTkNPREVfQ0hBUlt2MyAmIDYzXTtcbiAgICB9XG4gICAgdjEgPSBieXRlc1tpXTtcbiAgICBiYXNlNjRTdHIgKz0gQkFTRTY0X0VOQ09ERV9DSEFSW3YxID4+PiAyXSArXG4gICAgICBCQVNFNjRfRU5DT0RFX0NIQVJbKHYxIDw8IDQpICYgNjNdICtcbiAgICAgICc9PSc7XG4gICAgcmV0dXJuIGJhc2U2NFN0cjtcbiAgfTtcblxuICB2YXIgZXhwb3J0cyA9IGNyZWF0ZU1ldGhvZCgpO1xuXG4gIGlmIChDT01NT05fSlMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4gIH0gZWxzZSB7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBtZDVcYlxuICAgICAqIEBkZXNjcmlwdGlvbiBNZDUgaGFzaCBmdW5jdGlvbiwgZXhwb3J0IHRvIGdsb2JhbCBpbiBicm93c2Vycy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IG1kNSBoYXNoZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1kNSgnJyk7IC8vIGQ0MWQ4Y2Q5OGYwMGIyMDRlOTgwMDk5OGVjZjg0MjdlXG4gICAgICogbWQ1KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nJyk7IC8vIDllMTA3ZDlkMzcyYmI2ODI2YmQ4MWQzNTQyYTQxOWQ2XG4gICAgICogbWQ1KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nLicpOyAvLyBlNGQ5MDljMjkwZDBmYjFjYTA2OGZmYWRkZjIyY2JkMFxuICAgICAqXG4gICAgICogLy8gSXQgYWxzbyBzdXBwb3J0cyBVVEYtOCBlbmNvZGluZ1xuICAgICAqIG1kNSgn5Lit5paHJyk7IC8vIGE3YmFjMjIzOWZjZGNiM2EwNjc5MDNkODA3N2M0YTA3XG4gICAgICpcbiAgICAgKiAvLyBJdCBhbHNvIHN1cHBvcnRzIGJ5dGUgYEFycmF5YCwgYFVpbnQ4QXJyYXlgLCBgQXJyYXlCdWZmZXJgXG4gICAgICogbWQ1KFtdKTsgLy8gZDQxZDhjZDk4ZjAwYjIwNGU5ODAwOTk4ZWNmODQyN2VcbiAgICAgKiBtZDUobmV3IFVpbnQ4QXJyYXkoW10pKTsgLy8gZDQxZDhjZDk4ZjAwYjIwNGU5ODAwOTk4ZWNmODQyN2VcbiAgICAgKi9cbiAgICByb290Lm1kNSA9IGV4cG9ydHM7XG4gICAgaWYgKEFNRCkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfdHlwZW9mKGUpe3JldHVybihfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBfc3lzdGVtPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5kZXZpY2VcIikpLF9zeXN0ZW0yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5hcHBcIikpLF9zeXN0ZW0zPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5uZXR3b3JrXCIpKSxfc3lzdGVtND1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2hcIikpLF9zeXN0ZW01PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5wYWNrYWdlXCIpKSxfc3lzdGVtNj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ud2Vidmlld1wiKSksX3N5c3RlbTc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnByb21wdFwiKSksX3N5c3RlbTg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnJvdXRlclwiKSksX3N5c3RlbTk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnJlcXVlc3RcIikpLF9zeXN0ZW0xMD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSksX3NlcnZpY2U9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc2VydmljZS5hY2NvdW50XCIpKSxfc3lzdGVtMTE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnNlbnNvclwiKSksX3N5c3RlbTEyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS52aWJyYXRvclwiKSksX3N5c3RlbTEzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5maWxlXCIpKSxfc3lzdGVtMTQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmltYWdlXCIpKSxfcGFja2FnZT1yZXF1aXJlKFwiLi9wYWNrYWdlLmpzb25cIik7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsX3RvUHJvcGVydHlLZXkoaS5rZXkpLGkpfX1mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSx0LHIpe3JldHVybiB0JiZfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZfZGVmaW5lUHJvcGVydGllcyhlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShlKXtlPV90b1ByaW1pdGl2ZShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1fdHlwZW9mKGUpP2U6U3RyaW5nKGUpfWZ1bmN0aW9uIF90b1ByaW1pdGl2ZShlLHQpe2lmKFwib2JqZWN0XCIhPT1fdHlwZW9mKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwPT09cilyZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSk7cj1yLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9PV90eXBlb2YocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIG1fZ2xvYmFsPU9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpfHxnbG9iYWwsZmlsZVVybD1cImludGVybmFsOi8vZmlsZXMvdW5pb25hZC9cIi5jb25jYXQoX3BhY2thZ2UudmVyc2lvbixcIi9hZC1yZW5kZXItcXVpY2subWluLmpzXCIpO2Z1bmN0aW9uIGV4ZWNSZW1vdGVKcyhlLHQpe3ZhciByPXRoaXM7dHJ5e25ldyBGdW5jdGlvbihlKSgpfWNhdGNoKGUpe3QmJmZldGNoUmVtb3RlSnMuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKGUpe2V4ZWNSZW1vdGVKcyhlLCExKSxpbml0QWRTZGsuY2FsbChyKX0pfX1mdW5jdGlvbiBpbml0QWRTZGsoZSl7dHJ5e21fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrJiYobV9nbG9iYWwuJHVuaW9uX3F1aWNrX2FwcF9zZGsuYXBpPXtkZXZpY2U6X3N5c3RlbS5kZWZhdWx0LGFwcDpfc3lzdGVtMi5kZWZhdWx0LG5ldHdvcms6X3N5c3RlbTMuZGVmYXVsdCxmZXRjaDpfc3lzdGVtNC5kZWZhdWx0LHBrZzpfc3lzdGVtNS5kZWZhdWx0LHdlYnZpZXc6X3N5c3RlbTYuZGVmYXVsdCxwcm9tcHQ6X3N5c3RlbTcuZGVmYXVsdCxyb3V0ZXI6X3N5c3RlbTguZGVmYXVsdCxyZXF1ZXN0Ol9zeXN0ZW05LmRlZmF1bHQsc3RvcmFnZTpfc3lzdGVtMTAuZGVmYXVsdCxhY2NvdW50Ol9zZXJ2aWNlLmRlZmF1bHQsZmlsZTpfc3lzdGVtMTMuZGVmYXVsdCxzZW5zb3I6X3N5c3RlbTExLmRlZmF1bHQsaW1hZ2U6X3N5c3RlbTE0LmRlZmF1bHQsdmlicmF0b3I6X3N5c3RlbTEyLmRlZmF1bHR9LG1fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrLnNka1ZlcnNpb249X3BhY2thZ2UudmVyc2lvbixtX2dsb2JhbC4kdW5pb25fcXVpY2tfYXBwX3Nkay5maWxlVXJsPWZpbGVVcmwsbmV3IG1fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrKHRoaXMsZSkpfWNhdGNoKGUpe319ZnVuY3Rpb24gZmV0Y2hSZW1vdGVKcygpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LHIpe19zeXN0ZW00LmRlZmF1bHQuZmV0Y2goe3VybDpcImh0dHBzOi8vY3Byby5iYWlkdXN0YXRpYy5jb20vY3Byby94Y3gvanMvYWQtcmVuZGVyLXF1aWNrLm1pbi5qc1wiLHJlc3BvbnNlVHlwZTpcInRleHRcIixtZXRob2Q6XCJHRVRcIixzdWNjZXNzOmZ1bmN0aW9uKGUpe19zeXN0ZW0xMy5kZWZhdWx0LndyaXRlVGV4dCh7dXJpOmZpbGVVcmwsdGV4dDplLmRhdGEsc3VjY2VzczpmdW5jdGlvbigpe30sZmFpbDpmdW5jdGlvbihlLHQpe319KSx0KGUuZGF0YSl9LGZhaWw6ZnVuY3Rpb24oZSx0KXtyKCl9fSl9KX12YXIgVU5JT05fQURfU0RLPV9jcmVhdGVDbGFzcyhmdW5jdGlvbiBlKHIsaSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsZSksbV9nbG9iYWwmJm1fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrP2luaXRBZFNkay5jYWxsKHIsaSk6X3N5c3RlbTEzLmRlZmF1bHQucmVhZFRleHQoe3VyaTpmaWxlVXJsLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZXhlY1JlbW90ZUpzLmNhbGwocixlLnRleHQsITApLGluaXRBZFNkay5jYWxsKHIsaSl9LGZhaWw6ZnVuY3Rpb24oZSx0KXtmZXRjaFJlbW90ZUpzLmNhbGwocikudGhlbihmdW5jdGlvbihlKXtleGVjUmVtb3RlSnMuY2FsbChyLGUsITEpLGluaXRBZFNkay5jYWxsKHIsaSl9KX19KX0pLF9kZWZhdWx0PVVOSU9OX0FEX1NESztleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHQ7IiwiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLXVucmVzb2x2ZWQgKi9cbnZhciBhcHAgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmFwcCcpOztcbnZhciBmZXRjaCA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2gnKTs7XG52YXIgZmlsZSA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0uZmlsZScpOztcbnZhciBkZXZpY2UgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmRldmljZScpOztcbnZhciBuZXR3b3JrID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5uZXR3b3JrJyk7O1xudmFyIHNob3J0Y3V0ID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5zaG9ydGN1dCcpOztcbnZhciBiYXR0ZXJ5ID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5iYXR0ZXJ5Jyk7O1xudmFyIGJyaWdodG5lc3MgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmJyaWdodG5lc3MnKTs7XG52YXIgd2VidmlldyA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0ud2VidmlldycpOztcbnZhciBzdG9yYWdlID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5zdG9yYWdlJyk7O1xudmFyIHBrZyA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0ucGFja2FnZScpOztcbnZhciByb3V0ZXIgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnJvdXRlcicpOztcbnZhciBwcm9tcHQgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnByb21wdCcpOztcbnZhciBjaXBoZXIgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmNpcGhlcicpOztcbnZhciB2b2x1bWUgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnZvbHVtZScpOztcbnZhciBzZW5zb3IgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnNlbnNvcicpOztcbnZhciB2aWJyYXRvciA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0udmlicmF0b3InKTs7XG5pbXBvcnQge1xuICBjbGFzc0NhbGxDaGVjayxcbiAgZ2V0Q29yZVZlcnNpb25CeVVybCxcbiAgaW5pdFlMSFNESyxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgcGtnQ29uZmlnIGZyb20gJy4vcGFja2FnZS5qc29uJztcblxuY29uc3QgcWFHbG9iYWwgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKSB8fCBnbG9iYWw7XG5cbmNvbnN0IHsgdmVyc2lvbiB9ID0gcGtnQ29uZmlnO1xuXG5jb25zdCBSRU1PVEVfSlNfVFlQRSA9IHtcbiAgQ09SRTogJ2NvcmUnLFxuICBMSUJTOiAnbGlicycsXG59O1xuXG5jb25zdCBGSVJTVF9DT1JFX1ZFUlNJT04gPSAxMDUwO1xuXG5jb25zdCBMSUJTX1ZFUlNJT04gPSAnMS4wLjAnO1xuY29uc3QgRklSU1RfTElCU19WRVJTSU9OID0gMTAwMDtcblxuY29uc3QgaXNTb21lU3R1YlZlcnNpb25TY29wZSA9ICh7IGVudHJ5VmVyc2lvbiwgbG9jYWxWZXJzaW9uIH0pID0+IHtcbiAgY29uc3QgeyBsZW5ndGg6IGxvY2FsTGVuIH0gPSBsb2NhbFZlcnNpb247XG4gIGNvbnN0IHsgbGVuZ3RoOiBlbnRyeUxlbiB9ID0gZW50cnlWZXJzaW9uO1xuICByZXR1cm4gbG9jYWxWZXJzaW9uLnNsaWNlKDAsIGxvY2FsTGVuIC0gMikgPT09IGVudHJ5VmVyc2lvbi5zbGljZSgwLCBlbnRyeUxlbiAtIDIpO1xufTtcblxuY29uc3QgZ2V0UmVtb3RlSlNDb25maWdJbmZvID0gKHtcbiAgdHlwZSxcbiAgZmlyc3RQdWJsaXNoVXJsLFxuICBzdHViVmVyc2lvbixcbiAgZmlyc3RQdWJsaXNoUGx1Z2luVmVyc2lvbixcbiAgaXNVc2VSZW1vdGVKUyxcbiAgdmFsaWRhdGVGbiA9IChsb2NhbEpzVXJsKSA9PiB7XG4gICAgaWYgKGlzVXNlUmVtb3RlSlMpIHtcbiAgICAgIHJldHVybiAhaXNVc2VSZW1vdGVKUztcbiAgICB9XG4gICAgaWYgKCFsb2NhbEpzVXJsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IFtsb2NhbFN0dWJWZXJzaW9uLCBsb2NhbFBsdWdpblZlcnNpb25dID0gZ2V0Q29yZVZlcnNpb25CeVVybChsb2NhbEpzVXJsKTtcbiAgICBjb25zdCBpc1NhbWVTZGtWZXJzaW9uID0gaXNTb21lU3R1YlZlcnNpb25TY29wZSh7XG4gICAgICBlbnRyeVZlcnNpb246IHN0dWJWZXJzaW9uLFxuICAgICAgbG9jYWxWZXJzaW9uOiBsb2NhbFN0dWJWZXJzaW9uLFxuICAgIH0pO1xuICAgIHJldHVybiBpc1NhbWVTZGtWZXJzaW9uICYmIGxvY2FsUGx1Z2luVmVyc2lvbiA+PSBmaXJzdFB1Ymxpc2hQbHVnaW5WZXJzaW9uO1xuICB9LFxufSkgPT4ge1xuICBjb25zdCBjb3JlSW5mbyA9IHtcbiAgICAvLyDlrZjmlL7mnKzlnLAgSlMg5paH5Lu255qEIHVyaSDlnLDlnYBcbiAgICBjYWNoZVVyaTogYGludGVybmFsOi8vZmlsZXMveWxoLXNkay0ke3R5cGV9LyR7c3R1YlZlcnNpb259YCxcbiAgICAvLyDmnKzlnLAgSlMg5LiN5Y+v55So77yI5rKh5pyJ5oiW5LiN56ym5ZCIIHZhbGlkYXRlRm4g5p2h5Lu277yJ5pe277yM6YeN5paw6K+35rGCIEpTIOeahOi/nOeoi+WcsOWdgFxuICAgIHJlbW90ZVVybDogZmlyc3RQdWJsaXNoVXJsLFxuICAgIHZhbGlkYXRlRm4sXG4gIH07XG4gIHJldHVybiBjb3JlSW5mbztcbn07XG5cbmNvbnN0IGNvcmVJbmZvID0gZ2V0UmVtb3RlSlNDb25maWdJbmZvKHtcbiAgdHlwZTogUkVNT1RFX0pTX1RZUEUuQ09SRSxcbiAgZmlyc3RQdWJsaXNoVXJsOiBgaHR0cHM6Ly9xenMuZ2R0aW1nLmNvbS91bmlvbi9yZXMveWxoLXNkay1jb3JlLXYxLjUuMTA1MC5taW4uanM/ZD0ke0RhdGUubm93KCl9YCwgLy8g57q/5LiKXG4gIHN0dWJWZXJzaW9uOiB2ZXJzaW9uLFxuICBmaXJzdFB1Ymxpc2hQbHVnaW5WZXJzaW9uOiBGSVJTVF9DT1JFX1ZFUlNJT04sXG4gIGlzVXNlUmVtb3RlSlM6IGZhbHNlLFxufSk7XG5cbmNvbnN0IGxpYnNJbmZvID0gZ2V0UmVtb3RlSlNDb25maWdJbmZvKHtcbiAgdHlwZTogUkVNT1RFX0pTX1RZUEUuTElCUyxcbiAgZmlyc3RQdWJsaXNoVXJsOiBgaHR0cHM6Ly9xenMuZ2R0aW1nLmNvbS91bmlvbi9yZXMveWxoLXNkay1saWJzLXYxLjAuMTAwMC5taW4uanM/ZD0ke0RhdGUubm93KCl9YCwgLy8g57q/5LiKXG4gIHN0dWJWZXJzaW9uOiBMSUJTX1ZFUlNJT04sXG4gIGZpcnN0UHVibGlzaFBsdWdpblZlcnNpb246IEZJUlNUX0xJQlNfVkVSU0lPTixcbiAgaXNVc2VSZW1vdGVKUzogZmFsc2UsXG59KTtcblxuY29uc3Qgc3lzdGVtID0ge1xuICBmZXRjaCxcbiAgZmlsZSxcbiAgZGV2aWNlLFxuICBuZXR3b3JrLFxuICBzaG9ydGN1dCxcbiAgYmF0dGVyeSxcbiAgYnJpZ2h0bmVzcyxcbiAgd2VidmlldyxcbiAgc3RvcmFnZSxcbiAgcGtnLFxuICByb3V0ZXIsXG4gIHByb21wdCxcbiAgY2lwaGVyLFxuICB2b2x1bWUsXG4gIHNlbnNvcixcbiAgdmlicmF0b3IsXG4gIGFwcCxcbiAgc2RrVmVyc2lvbjogdmVyc2lvbixcbiAgQnJvYWRjYXN0Q2hhbm5lbCxcbn07XG5cbi8vIOS4uuWKoOW/q+i/kOihjOmAn+W6pu+8jOe8k+WtmHByb21pc2VcbmNvbnN0IHVzZXJQcm9taXNlQ2FjaGUgPSB7fTtcblxuY29uc3QgWUxIX1NES19TVVBQT1JUX01JTklfUExBVEZPUk1fVkVSID0gMTEwMDtcblxuZXhwb3J0IGNvbnN0IGlzUGxhdGZvcm1WZXJzaW9uQ29kZUdyZWF0ZXJUaGVuMTEwMCA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCF1c2VyUHJvbWlzZUNhY2hlLnBsYXRmb3JtUHJvbWlzZSkge1xuICAgIHVzZXJQcm9taXNlQ2FjaGUucGxhdGZvcm1Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZGV2aWNlLmdldEluZm8oe1xuICAgICAgICBzdWNjZXNzOiAoZGV2aWNlSW5mb0luZm8pID0+IHtcbiAgICAgICAgICBjb25zdCB7IHBsYXRmb3JtVmVyc2lvbkNvZGUgfSA9IGRldmljZUluZm9JbmZvO1xuICAgICAgICAgIGlmIChwbGF0Zm9ybVZlcnNpb25Db2RlIDwgWUxIX1NES19TVVBQT1JUX01JTklfUExBVEZPUk1fVkVSKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHsgcGxhdGZvcm06IHBsYXRmb3JtVmVyc2lvbkNvZGUgfSkpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWw6ICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHsgcGxhdGZvcm06ICfmnKrnn6UnIH0pKSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdXNlclByb21pc2VDYWNoZS5wbGF0Zm9ybVByb21pc2U7XG59O1xuXG4vKipcbiAqIOWKoOi9vei/nOeoiyBDRE4gSlMg5bm/5ZGK5aSE55CG6YC76L6R5paH5Lu2XG4gKiBAcmV0dXJucyBQcm9taXNlXG4gKi9cbmNvbnN0IGZldGNoUmVtb3RlSlMgPSAoeyBjYWNoZVVyaSwgcmVtb3RlVXJsIH0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgbGV0IHBvbGxDb3VudCA9IDA7XG4gIGNvbnN0IGVyck1lc3NhZ2UgPSBgJHtyZW1vdGVVcmx9IOiOt+WPluWksei0pWA7XG4gIGNvbnN0IHBvbGxGZXRjaCA9ICgpID0+IHtcbiAgICBmZXRjaC5mZXRjaCh7XG4gICAgICB1cmw6IHJlbW90ZVVybCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ3RleHQnLFxuICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgIHN1Y2Nlc3M6IChyZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBjb2RlLCBkYXRhOiBqc0NvZGUgfSA9IHJlcztcbiAgICAgICAgaWYgKGNvZGUgIT09IDIwMCkge1xuICAgICAgICAgIGlmIChwb2xsQ291bnQgPCAzKSB7XG4gICAgICAgICAgICBwb2xsQ291bnQgKz0gMTtcbiAgICAgICAgICAgIC8vIOmHjeivleS5i+WJjeetieW+hTFz6ZKfXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcG9sbEZldGNoKCk7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGVyck1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKGpzQ29kZSk7XG4gICAgICAgICAgLy8g57yT5a2Y5pyA5pawIEpTXG4gICAgICAgICAgaWYgKGNhY2hlVXJpKSB7XG4gICAgICAgICAgICBmaWxlLndyaXRlVGV4dCh7XG4gICAgICAgICAgICAgIHVyaTogY2FjaGVVcmksXG4gICAgICAgICAgICAgIHRleHQ6IHsganNDb2RlLCBqc1VybDogcmVtb3RlVXJsIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBmYWlsOiAoKSA9PiB7XG4gICAgICAgIC8vIOW9k+WHuueOsOe9kee7nOW8guW4uOaIluiAheWFtuS7luaDheWGteaXtu+8jOi/m+ihjOmHjeivlVxuICAgICAgICBpZiAocG9sbENvdW50IDwgMykge1xuICAgICAgICAgIHBvbGxDb3VudCArPSAxO1xuICAgICAgICAgIC8vIOmHjeivleS5i+WJjeetieW+hTFz6ZKfXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBwb2xsRmV0Y2goKTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoZXJyTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIHBvbGxGZXRjaCgpO1xufSk7XG5cbi8vIOiOt+WPlmxvY2FsIEpT77yM5aaC5p6cbG9jYWwgSlPkuI3lj6/nlKjvvIjmsqHmnInmiJbkuI3nrKblkIh2YWxpZGF0ZUZu5p2h5Lu277yJ5pe277yM6YeN5paw6K+35rGCcmVtb3RlVXJsIEpTXG5jb25zdCBnZXRMb2NhbEpTID0gYXN5bmMgKHsgY2FjaGVVcmksIHJlbW90ZVVybCwgdmFsaWRhdGVGbiB9KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmlsZS5yZWFkVGV4dCh7XG4gICAgICB1cmk6IGNhY2hlVXJpLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZGF0YSA9IHt9IH0gPSByZXMgfHwge307XG4gICAgY29uc3QgeyBqc0NvZGUsIGpzVXJsIH0gPSBKU09OLnBhcnNlKGRhdGEudGV4dCB8fCAne30nKTtcbiAgICBpZiAodmFsaWRhdGVGbihqc1VybCkpIHtcbiAgICAgIHJldHVybiBqc0NvZGU7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnZ2V0TG9jYWxKUy1lcnInLCBlcnIpO1xuICB9XG5cbiAgcmV0dXJuIGZldGNoUmVtb3RlSlMoeyBjYWNoZVVyaSwgcmVtb3RlVXJsIH0pO1xufTtcblxuLy8g5omn6KGMbG9jYWwgSlMsIOWmguaenOayoeacie+8jOWImeS7jnJlbW90ZVVybOWkhOiOt+WPluWQjuWGjeaJp+ihjFxuY29uc3QgZXhlY3V0ZUxvY2FsSlMgPSBhc3luYyAocGFyYW1zKSA9PiB7XG4gIGdldExvY2FsSlMocGFyYW1zKS50aGVuKChsb2NhbEpTKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldywgbm8tbmV3LWZ1bmNcbiAgICBjb25zdCBmdW5jID0gbmV3IEZ1bmN0aW9uKCckWUxIU0RLJywgbG9jYWxKUyk7XG4gICAgZnVuYyhxYUdsb2JhbC4kWUxIU0RLKTtcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdleGVjdXRlTG9jYWxKU+WHuumUmScsIGVyciwgcGFyYW1zKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIOW/q+W6lOeUqFNES+WFpeWPo+WHveaVsFxuICogQHBhcmFtIHtPYmplY3R9ICRhcHAg5b+r5bqU55SoIEFwcCDlrp7kvovjgILms6jmhI8kYXBw5ZKMYXBw55qE5Yy65Yir77yaJGFwcC3lv6vlupTnlKjlrp7kvovvvIxhcHAt5b+r5bqU55So5paH5qGj5o+Q5L6b55qEQHN5c3RlbS5hcHAgYXBp44CCXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFlMSF9VTklPTl9BRF9TREsoJGFwcCwgY29uZmlnID0ge30pIHtcbiAgY2xhc3NDYWxsQ2hlY2sodGhpcywgWUxIX1VOSU9OX0FEX1NESyk7XG5cbiAgaWYgKCFjb25maWcuYXBwSWQpIHtcbiAgICBjb25zb2xlLmVycm9yKCflv4XpobvkvKDpgJJhcHBJZO+8jHlsaF9zZGvmiY3kvJrmraPluLjov5DooYwnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaW5pdFlMSFNESygkYXBwKTtcblxuICBpc1BsYXRmb3JtVmVyc2lvbkNvZGVHcmVhdGVyVGhlbjExMDAoKS50aGVuKCgpID0+IHtcbiAgICBxYUdsb2JhbC4kWUxIU0RLID0ge1xuICAgICAgJGFwcCxcbiAgICAgIGNvbmZpZyxcbiAgICAgIHN5c3RlbToge1xuICAgICAgICAuLi5zeXN0ZW0sXG4gICAgICAgIHRlbGVjb206ICRhcHBfcmVxdWlyZSQoJ0BhcHAtbW9kdWxlL3N5c3RlbS50ZWxlY29tJyksIC8vIHRlbGVjb20g5b+F6aG7IOWkp+S6jiAxMDgwIOeJiOacrFxuICAgICAgICBrZXlndWFyZDogJGFwcF9yZXF1aXJlJCgnQGFwcC1tb2R1bGUvc3lzdGVtLmtleWd1YXJkJyksIC8vIGtleWd1YXJkIOW/hemhuyDlpKfkuo4gMTA5MCDniYjmnKxcbiAgICAgICAgZG93bmxvYWRUYXNrOiAkYXBwX3JlcXVpcmUkKCdAYXBwLW1vZHVsZS9zeXN0ZW0uZG93bmxvYWR0YXNrJyksIC8vIGRvd25sb2FkVGFzayDlv4Xpobsg5aSn5LqOIDExMDAg54mI5pysXG4gICAgICB9LFxuICAgICAgZmV0Y2hSZW1vdGVKUyxcbiAgICAgIGxvY2FsQ29yZToge1xuICAgICAgICBsb2NhbENvcmVVcmk6IGNvcmVJbmZvLmNhY2hlVXJpLFxuICAgICAgICBnZXRDb3JlVmVyc2lvbkJ5VXJsLFxuICAgICAgfSxcbiAgICAgIGxvY2FsTGliczoge1xuICAgICAgICBsb2NhbExpYnNVcmk6IGxpYnNJbmZvLmNhY2hlVXJpLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhlY3V0ZUxvY2FsSlMoY29yZUluZm8pO1xuICAgIGV4ZWN1dGVMb2NhbEpTKGxpYnNJbmZvKTtcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnN0IGVyck9iaiA9IGVycj8ubWVzc2FnZSA/IEpTT04ucGFyc2UoZXJyLm1lc3NhZ2UpIDoge307XG4gICAgY29uc29sZS53YXJuKGDor6XmnLrlnovnmoQgbWluUGxhdGZvcm1WZXJzaW9uIOS4uiR7ZXJyT2JqLnBsYXRmb3JtfSwg5bCP5LqOJHtZTEhfU0RLX1NVUFBPUlRfTUlOSV9QTEFURk9STV9WRVJ9LCBcbiAgICB5bGhfc2RrIOS4jeS8mui/kOihjOS5n+S4jeS8muWvvOiHtOW/q+W6lOeUqOW8guW4uGApO1xuICB9KTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaEFkRXZlbnQoZXZlbnROYW1lLCBwYXJhbXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5pc0FkRGVzdHJveWVkKSByZXR1cm47XG4gICAgaWYgKHRoaXMubGlmZXRpbWVzICYmIHRoaXMubGlmZXRpbWVzPy5bZXZlbnROYW1lXSkge1xuICAgICAgdGhpcy5saWZldGltZXNbZXZlbnROYW1lXS5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmV2ZW50cyAmJiB0aGlzLmV2ZW50cz8uW2V2ZW50TmFtZV0pIHtcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ2Rpc3BhdGNoQWRFdmVudCBlcnJvcjogJywgZXZlbnROYW1lLCBlcnJvci5tZXNzYWdlLCBwYXJhbXMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyUHJvcHMoY29tcG9uZW50TmFtZSwgYWRUaW1lcikge1xuICBpZiAodGhpcy4kYXBwKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy4kYXBwLiRkZWY/LnlsaF9zZGs/LmNvbXBvbmVudHM/Lltjb21wb25lbnROYW1lXTtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICBPYmplY3Qua2V5cyhjb21wb25lbnQpLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgICAgdGhpc1twcm9wXSA9IGNvbXBvbmVudFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgZGlzcGF0Y2hBZEV2ZW50LmNhbGwodGhpcywgJ29uSW5pdCcsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgaWYgKGFkVGltZXIpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhZFRpbWVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUFkQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpIHtcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5hZFRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYWRUaW1lcik7XG4gICAgfVxuICAgIGlmICh0aGlzLiRhcHA/LiRkZWY/LnlsaF9zZGs/LmNvbXBvbmVudHMpIHtcbiAgICAgIHJlZ2lzdGVyUHJvcHMuY2FsbCh0aGlzLCBjb21wb25lbnROYW1lLCB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdGltZSA9IDA7XG4gICAgICBjb25zdCBhZFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAodGltZSA+IDEwMDAgKiA1KSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChhZFRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlclByb3BzLmNhbGwodGhpcywgY29tcG9uZW50TmFtZSwgYWRUaW1lcik7XG4gICAgICAgIHRpbWUgKz0gMTA7XG4gICAgICB9LCAxMCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgaWYgKHRoaXMub25ZTEhTREtFcnJvcikge1xuICAgICAgdGhpcy5vbllMSFNES0Vycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lQWRTY2VuZShzY2VuZSkge1xuICBkZWZpbmVBZENvbXBvbmVudC5jYWxsKHRoaXMsIHNjZW5lKTtcbn1cblxuLyoqXG4gKiDmo4Dmn6Xnsbvlh73mlbDmmK/lkKbpgJrov4cgbmV3IOWFs+mUruWtl+ato+ehruiwg+eUqFxuICogQHBhcmFtIHtPYmplY3R9IHNka0luc3RhbmNlIOWunuS+i+WvueixoVxuICogQHBhcmFtIHtmdW5jdGlvbn0gc2RrQ29uc3RydWN0b3Ig5p6E6YCg5Ye95pWwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhzZGtJbnN0YW5jZSwgc2RrQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoc2RrSW5zdGFuY2UgaW5zdGFuY2VvZiBzZGtDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTtcbiAgfVxufVxuXG4vLyBodHRwczovL3F6cy5nZHRpbWcuY29tL3VuaW9uL3Jlcy95bGgtc2RrLWNvcmUtdjEuMy4xMDMwLm1pbi5qcz9kPTEzMzMzJyDku451cmzop6PmnpDlh7pbJzEuMycsIDEwMzBd5L+h5oGvXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29yZVZlcnNpb25CeVVybChqc1VybCA9ICcnKSB7XG4gIGNvbnN0IHJlcyA9IGpzVXJsLm1hdGNoKC95bGgtc2RrLSg/OlthLXpdKyktdihcXGQrXFwuXFxkK1xcLlxcZCspKD86QGRlYnVnKT9cXC5taW5cXC5qcy8pO1xuICBjb25zdCBzdHIgPSByZXMgJiYgcmVzWzFdID8gcmVzWzFdIDogJyc7IC8vICcxLjMuMTAzMC5taW4vMS4zLjEwMzBAZGVidWcubWluJ1xuICBjb25zdCBbYSwgYiwgY10gPSBzdHIuc3BsaXQoJy4nKTtcbiAgcmV0dXJuIFtgJHthfS4ke2J9LjBgLCBOdW1iZXIoYy5zdWJzdHIoMCwgNCkpXTtcbn1cblxuLy8g5Yid5aeL5YyW5pe2LCDkuLpvbllsaFJlYWR55re75Yqg6ZO+5byP6LCD55So5pa55rOVXG5leHBvcnQgZnVuY3Rpb24gaW5pdFlMSFNESygkYXBwKSB7XG4gIGlmICgkYXBwLiRkZWY/LnlsaF9zZGspIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICBuby1wYXJhbS1yZWFzc2lnblxuICAkYXBwLiRkZWYueWxoX3NkayA9IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgb25ZbGhSZWFkeShjYWxsYmFjaykge1xuICAgICAgY29uc3QgeyBvbllsaFJlYWR5Q2FsbGJhY2sgPSBbXSB9ID0gJGFwcC4kZGVmLnlsaF9zZGs7XG4gICAgICAvLyBjb25zb2xlLmxvZygnYXBwLiRkZWYueWxoX3NkaycsIGFwcC4kZGVmLnlsaF9zZGssIG9uWWxoUmVhZHlDYWxsYmFjayk7XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybignb25ZbGhSZWFkeTogdGhlbuWbnuiwg+W/hemhu+S8oOmAkuS4gOS4quaWueazlScpO1xuICAgICAgfSBlbHNlIGlmICgkYXBwLiRkZWYueWxoX3Nkay5TREtfQ09SRV9SRUFEWSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgJGFwcC4kZGVmLnlsaF9zZGsub25ZbGhSZWFkeUNhbGxiYWNrID0gWy4uLm9uWWxoUmVhZHlDYWxsYmFjaywgY2FsbGJhY2tdO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59XG4iLCI8c2NyaXB0PlxuICBpbXBvcnQgJy4vQ29tbW9uL2xpYnMvdW1lbmcvdW1lbmdhbmFseXNpcy5lcy5taW4nOyAgIC8v5Y+L55ufc2RrIOW/hemhu+a3u+WKoO+8ge+8ge+8gVxuICBpbXBvcnQgVE9QT05fQURfU0RLIGZyb20gJ0B0b3Bvbi9xdWljay1hcHAtc2RrLWh3L2FwcC5qcydcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgb25DcmVhdGUoKSB7XG4gICAgICBjb25zb2xlLmluZm8oJ0FwcGxpY2F0aW9uIG9uQ3JlYXRlJyk7XG4gICAgICBjb25zdCBob29rMmdsb2JhbCA9IGdsb2JhbC5fX3Byb3RvX18gfHwgZ2xvYmFsXG4gICAgICBjb25zdCAkcm91dGVyID0gcmVxdWlyZSgnQHN5c3RlbS5yb3V0ZXInKVxuICAgICAgY29uc3QgJHV0aWxzID0gcmVxdWlyZSgnLi9Db21tb24vaGVscGVyL3V0aWxzJykuZGVmYXVsdFxuICAgICAgY29uc3QgJHN0b3JhZ2UgPSByZXF1aXJlKFwiQHN5c3RlbS5zdG9yYWdlXCIpXG4gICAgICBjb25zdCAkY2lwaGVyID0gcmVxdWlyZShcIkBzeXN0ZW0uY2lwaGVyXCIpXG4gICAgICBjb25zdCAkcHJvbXB0ID0gcmVxdWlyZShcIkBzeXN0ZW0ucHJvbXB0XCIpXG4gICAgICBjb25zdCAkd2VidmlldyA9IHJlcXVpcmUoXCJAc3lzdGVtLndlYnZpZXdcIilcbiAgICAgIGNvbnN0ICRhcGlzID0gcmVxdWlyZSgnLi9Db21tb24vaGVscGVyL2FwaXMnKS5kZWZhdWx0XG4gICAgICBjb25zdCAkYWQgPSByZXF1aXJlKFwiQHNlcnZpY2UuYWRcIilcbiAgICAgIGNvbnN0ICRhcHAgPSByZXF1aXJlKFwiQHN5c3RlbS5hcHBcIilcbiAgICAgIGNvbnN0ICRkZXZpY2UgPSByZXF1aXJlKFwiQHN5c3RlbS5kZXZpY2VcIilcblxuICAgICAgY29uc3QgJHByb2Nlc3NEYXRhID0gcmVxdWlyZSgnLi9Db21tb24vaGVscGVyL3Byb2Nlc3NEYXRhJykuZGVmYXVsdFxuXG4gICAgICBob29rMmdsb2JhbC4kcm91dGVyID0gJHJvdXRlclxuICAgICAgaG9vazJnbG9iYWwuJHV0aWxzID0gJHV0aWxzXG4gICAgICBob29rMmdsb2JhbC4kc3RvcmFnZSA9ICRzdG9yYWdlXG4gICAgICBob29rMmdsb2JhbC4kcHJvbXB0ID0gJHByb21wdFxuICAgICAgaG9vazJnbG9iYWwuJGFwaXMgPSAkYXBpc1xuICAgICAgaG9vazJnbG9iYWwuJHdlYnZpZXcgPSAkd2Vidmlld1xuICAgICAgaG9vazJnbG9iYWwuJGFkID0gJGFkXG4gICAgICBob29rMmdsb2JhbC4kY2lwaGVyID0gJGNpcGhlclxuICAgICAgaG9vazJnbG9iYWwuJGFwcCA9ICRhcHBcblxuICAgICAgaG9vazJnbG9iYWwuJGRldmljZSA9ICRkZXZpY2VcbiAgICAgIGhvb2syZ2xvYmFsLiRwcm9jZXNzRGF0YSA9ICRwcm9jZXNzRGF0YVxuICAgICAgLy/lj4vnm59zZGtcbiAgICAgIGNvbnNvbGUubG9nKFwiW2FwcC51eF0gb25DcmVhdGUuLi5cIik7XG4gICAgICAkdW1lbmdfc3RhdC5pbml0KHRoaXMpOyAgIC8v5Zyob25DcmVhdGXlh73mlbDkuK3liqDlhaXor6XooYzku6PnoIHvvIzlv4Xpobvmt7vliqDvvIHvvIFcblxuXG5cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVE9QT05fQURfU0RLKHtcbiAgICAgICAgICBhcHA6IHRoaXMsXG4gICAgICAgICAgYXBwSWQ6ICdhNjY5MGRkYmZkMmJiYycsIC8vIOivt+abv+aNouS4uuaCqOWcqHRvcG9u5byA5Y+R6ICF5ZCO5Y+w5LiK55qEYXBwSWTvvIjmgqjlnKh0b3BvbuW8gOWPkeiAheWQjuWPsOS4iuaJgOWIm+W7uueahOW6lOeUqElE77yJXG4gICAgICAgICAgYXBwS2V5OiAnYWM3YjhjMzgwNzUzMjA4NGU5M2ZkZjYxNDkwZTI1ZmE1JyAvLyDor7fmm7/mjaLkuLrmgqjlnKh0b3BvbuW8gOWPkeiAheWQjuWPsOS4iueahCBhcHAga2V577yIdG9wb27lvIDlj5HogIXlkI7lj7AgPT4g6LSm5oi35L+h5oGvID0+IGtleeWNs+S4umFwcEtlee+8iVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kZGVmLnRvcG9uX3Nka19pbnN0YW5jZSA9IGluc3RhbmNlXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBvblNob3coKSB7XG4gICAgLy8gICB0aGlzLmluc3RhbmNlLm9uU2hvdygpXG4gICAgLy8gfSxcbiAgICBvbkhpZGUoKSB7XG4gICAgICB0aGlzLmluc3RhbmNlLm9uSGlkZSgpXG4gICAgfSxcbiAgICBvbkRlc3Ryb3koKSB7XG4gICAgICBjb25zb2xlLmluZm8oJ0FwcGxpY2F0aW9uIG9uRGVzdHJveScpO1xuICAgICAgdGhpcy5pbnN0YW5jZS5vbkRlc3Ryb3koKVxuICAgIH0sXG4gICAgZGF0YUFwcDoge1xuXG4gICAgICB1cmwxOiBcImh0dHA6Ly93d3cuaWhhaXR1by5jbi94eS9qYi9ienp4Lmh0bWxcIixcbiAgICAgIHVybDI6IFwiaHR0cDovL3d3dy5paGFpdHVvLmNuL3h5L2piL3loeHkuaHRtbFwiLFxuICAgICAgdXJsMzogXCJodHRwOi8vd3d3LmloYWl0dW8uY24veHkvamIveXN6Yy5odG1sXCIsXG5cbiAgICAgIGNvdW50TWF4OiA4LC8v5ouG57qi5YyF5pyA5aSn5qyh5pWwLOW9k+i2hei/h+ivpeasoeaVsOWImei/lOWbnui3s+i9rOmTvuaOpVxuICAgICAgYnJhbmQ6ICdIVUFXRUknLFxuICAgICAgY2hhbm5lbDogJ2poJyxcblxuICAgICAgYmFubmVyQWRVbml0SWQ6IFwiejF2Nmp5a3Z5OVwiLC8vYmFubmVy5bm/5ZGK5L2NaWRcbiAgICAgIG5BYmFubmVyQWRVbml0SWQ6IFwiaTh6c2MzZ2NiZ1wiLC8v5Y6f55SfYmFubmVy5bm/5ZGK5L2NaWRcbiAgICAgIG5hdGl2ZUFkVW5pdElkOiBcInY1aDV4c2tscDJcIiwvL+W5v+WRiuS9jWlkXG4gICAgICBpbnRlcnN0aXRpYWxBZFVuaXRJZDogXCJhN252bDdmbTAwXCIsLy/mj5LlsY/lub/lkYrkvY1pZFxuICAgICAgLy/kv53lrZjnlKjmiLfkv6Hmga/lr7nosaFcbiAgICAgIHVzZXJEYXRhOiB7XG4gICAgICAgIGxvZ2luUGhvbmU6ICcnLFxuICAgICAgICB1c2VySWQ6ICcnLFxuICAgICAgICBiYWxhbmNlOiAwLFxuICAgICAgfSxcblxuICAgICAgYWN0aVBhcmFtOiAnJyxcbiAgICB9XG5cbiAgfVxuPC9zY3JpcHQ+IiwidmFyIG1hcCA9IHtcblx0XCIuL2V4YW1wbGUuanNcIjogXCIuL3NyYy9Db21tb24vaGVscGVyL2FwaXMvZXhhbXBsZS5qc1wiLFxuXHRcIi4vaW5kZXguanNcIjogXCIuL3NyYy9Db21tb24vaGVscGVyL2FwaXMvaW5kZXguanNcIixcblx0XCIuL3VzZXIuanNcIjogXCIuL3NyYy9Db21tb24vaGVscGVyL2FwaXMvdXNlci5qc1wiXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gXCIuL3NyYy9Db21tb24vaGVscGVyL2FwaXMgc3luYyByZWN1cnNpdmUgXFxcXC5qc1wiOyIsImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gKCkgPT4gKFtdKTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gXCIuL3NyYy9Db21tb24vbGlicy91bWVuZyBzeW5jIHJlY3Vyc2l2ZVwiO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrRW1wdHlDb250ZXh0OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmFtZE8gPSB7fTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyICRhcHBfc2NyaXB0JCA9IHJlcXVpcmUoXCIhIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9ub2RlX21vZHVsZXMvZmEtdG9vbGtpdC9saWIvZmEtY29tcGlsZXIvZmEtc2NyaXB0LWxvYWRlci5qcyFkOi9xdWlja2FwcFdvcmtzcGFjZS9jb20uaGFpdHVvLnNldHBwbGFuZXQvbm9kZV9tb2R1bGVzL2ZhLXRvb2xraXQvbGliL2ZhLWNvbXBpbGVyL2ZhLWFwcC1zY3JpcHQtbG9hZGVyLmpzIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyP3ByZXNldHNbXT1kOlxcXFxxdWlja2FwcFdvcmtzcGFjZVxcXFxjb20uaGFpdHVvLnNldHBwbGFuZXRcXFxcbm9kZV9tb2R1bGVzXFxcXEBiYWJlbFxcXFxwcmVzZXQtZW52LHRhcmdldHM9bm9kZSA4JnBsdWdpbnNbXT1kOlxcXFxxdWlja2FwcFdvcmtzcGFjZVxcXFxjb20uaGFpdHVvLnNldHBwbGFuZXRcXFxcbm9kZV9tb2R1bGVzXFxcXEBiYWJlbFxcXFxwbHVnaW4tdHJhbnNmb3JtLW1vZHVsZXMtY29tbW9uanMmcGx1Z2luc1tdPWQ6XFxcXHF1aWNrYXBwV29ya3NwYWNlXFxcXGNvbS5oYWl0dW8uc2V0cHBsYW5ldFxcXFxub2RlX21vZHVsZXNcXFxcQGJhYmVsXFxcXHBsdWdpbi1wcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzJnBsdWdpbnNbXT1kOlxcXFxxdWlja2FwcFdvcmtzcGFjZVxcXFxjb20uaGFpdHVvLnNldHBwbGFuZXRcXFxcbm9kZV9tb2R1bGVzXFxcXEBiYWJlbFxcXFxwbHVnaW4tcHJvcG9zYWwtb2JqZWN0LXJlc3Qtc3ByZWFkJmNvbW1lbnRzPWZhbHNlIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9ub2RlX21vZHVsZXMvZmEtdG9vbGtpdC9saWIvZmEtY29tcGlsZXIvZmEtZnJhZ21lbnQtbG9hZGVyLmpzP2luZGV4PTAmdHlwZT1zY3JpcHRzIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9zcmMvYXBwLnV4XCIpXG5cclxuJGFwcF9kZWZpbmUkKCdAYXBwLWFwcGxpY2F0aW9uL2FwcCcsIFtdLCBmdW5jdGlvbigkYXBwX3JlcXVpcmUkLCAkYXBwX2V4cG9ydHMkLCAkYXBwX21vZHVsZSQpe1xyXG5cbiAgICAgICAgJGFwcF9zY3JpcHQkKCRhcHBfbW9kdWxlJCwgJGFwcF9leHBvcnRzJCwgJGFwcF9yZXF1aXJlJClcbiAgICAgICAgaWYgKCRhcHBfZXhwb3J0cyQuX19lc01vZHVsZSAmJiAkYXBwX2V4cG9ydHMkLmRlZmF1bHQpIHtcbiAgICAgICAgICAgICRhcHBfbW9kdWxlJC5leHBvcnRzID0gJGFwcF9leHBvcnRzJC5kZWZhdWx0O1xuICAgICAgICB9XHJcbn0pXHJcbiRhcHBfYm9vdHN0cmFwJCgnQGFwcC1hcHBsaWNhdGlvbi9hcHAnLHtwYWNrYWdlck5hbWU6J2ZhLXRvb2xraXQnLCBwYWNrYWdlclZlcnNpb246ICcxNC4wLjEtU3RhYmxlLjMwMCd9KSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==