(function(){
                        
                        var $app_define_wrap$ = $app_define_wrap$ || function() {}
                        var createAppHandler = function() {
                            return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@hw-agconnect/api/dist/index.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/@hw-agconnect/api/dist/index.esm.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
var e=new(function(){function e(){this.servicesIdentifierMap=new Map,this.registeredService=new Map}return e.prototype.registryService=function(e){var r=e.name;this.registeredService.has(r)||this.registeredService.set(r,e)},e.prototype.unregistryService=function(e){},e.prototype.getService=function(e,r,t){void 0===t&&(t="[DEFAULT_CATEGORY]");var i=this.servicesIdentifierMap.get(t);if(null==i)i=new Map,this.servicesIdentifierMap.set(t,i);else if(null!=(s=i.get(e)))return s;var n=this.registeredService.get(e);if(null!=n){var s=n.serviceFactory(r);return i.set(e,s),s}return null},e}());var r=new(function(){function r(){}return r.prototype.registerApiProvider=function(e,r,t){(this[e]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)},null!=t)&&function e(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Array:r=[];break;case Object:void 0===r&&(r={});break;case Date:return new Date(t.getTime());default:return t}for(var i in t)t.hasOwnProperty(i)&&(r[i]=e(r[i],t[i]));return r}(this[e],t)},r.prototype.registerInternalService=function(r){e.registryService(r)},r.prototype.getService=function(r,t,i){return e.getService(r,t,i)},r}());


/***/ }),

/***/ "./node_modules/@hw-agconnect/core/dist/index.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@hw-agconnect/core/dist/index.esm.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_CATEGORY": () => (/* binding */ t),
/* harmony export */   "InstanceMap": () => (/* binding */ i),
/* harmony export */   "Singleton": () => (/* binding */ n)
/* harmony export */ });
var t="[DEFAULT_CATEGORY]",n=function(){function t(t){this.factory=t}return t.prototype.get=function(){return null==this.instance&&(this.instance=this.factory()),this.instance},t}(),i=function(){function t(t){this.instanceMap={},this.factory=t}return t.prototype.get=function(t){if(t&&Array.isArray(t)&&t.length>=1)return this.instanceMap[t[0]]||(this.instanceMap[t[0]]=this.factory(t)),this.instanceMap[t[0]];var n=new Array;return n[0]="[DEFAULT_CATEGORY]",this.get(n)},t}();


/***/ }),

/***/ "./node_modules/@hw-agconnect/instance/dist/index.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@hw-agconnect/instance/dist/index.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AGCError": () => (/* binding */ c),
/* harmony export */   "AGCErrorCode": () => (/* binding */ p),
/* harmony export */   "BaseResponse": () => (/* binding */ h),
/* harmony export */   "ConnectRet": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hw-agconnect/api */ "./node_modules/@hw-agconnect/api/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hw-agconnect/core */ "./node_modules/@hw-agconnect/core/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hw-agconnect/log */ "./node_modules/@hw-agconnect/log/dist/index.esm.js");

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)};var i,s,c=function(t){function e(o,n,r){var i=this,s=o.code+e.COLON+o.message;return r&&(s=r+e.DASH+s),n&&(n.message?s=s+e.COMMA+n.message:"string"==typeof n&&(s=s+e.COMMA+n)),(i=t.call(this,s)||this).__proto__=e.prototype,i.code=o.code,i.message=o.message,n&&(n.message?i.message=o.message+e.COMMA+n.message:"string"==typeof n&&(i.message=o.message+e.COMMA+n)),i.msg=i.message,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(e,t),e.COLON=": ",e.COMMA=", ",e.DASH="-",e}(Error),p=function(){function t(){}return t.AGC_INNER_ERROR={code:1e4,message:"agc inner error"},t.NETWORK_REQUEST_ERROR={code:10001,message:"agc network request error"},t.GET_AAID_ERROR={code:10002,message:"agc get aaid error"},t.ABTEST_LOAD_EXPERIMENTS_ERROR={code:10003,message:"abtest load experiments error"},t.ABTEST_SAVE_EXPERIMENTS_ERROR={code:10004,message:"abtest save experiments error"},t.ABTEST_REPLACE_EXPERIMENTS_ERROR={code:10005,message:"abtest repalce experiments error"},t.FAIL_TO_GET_STORAGE_SERVICE={code:10006,message:"get agcStorage service failed"},t.FAIL_TO_GET_NETWORK_SERVICE={code:10007,message:"get agcNetwork service failed"},t.REMOVE_TOKEN_FAILED={code:10008,message:"remove client token faild"},t.GET_TOKEN_FAILED={code:10009,message:"get client token faild"},t.AGC_INIT_ERROR={code:10010,message:"AGCInstance init error"},t.FAIL_TO_GET_CRIDENTIAL_SERVICE={code:10011,message:"get agcCredential service failed"},t.WEBSOCKET_NOT_SUPPORT={code:10012,message:"websocket is not support"},t.WEBSOCKET_ERROR={code:10013,message:"websocket error"},t}(),a=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_2__.Logger.createLogger("agconnectInstance"),g=function(){function t(t,o){this.appVersion="",this._config=null,this._customCredentialsProvider=null,this._customAuthProvider=null,this.cryptImpl=void 0,this.option=null,this.repo_=t,this.name_=o||_hw_agconnect_core__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_CATEGORY}return t.prototype.name=function(){return this.name_},t.prototype.configInstance=function(t){return this._config=t,this.replaceAppInfo(),this},t.prototype.replaceAppInfo=function(){this._config&&this._config.app_info&&this._config.app_info.app_id&&this._config.client&&(this._config.client.app_id=this._config.app_info.app_id)},t.prototype.config=function(){return this.checkBeforeSetKey(),this._config},t.prototype.setApiKey=function(t){this.checkBeforeSetKey(),this._config.client.api_key=t},t.prototype.setClientSecret=function(t){this.checkBeforeSetKey(),this._config.client.client_secret=t},t.prototype.setClientId=function(t){this.checkBeforeSetKey(),this._config.client.client_id=t},t.prototype.getService=function(t){return this.repo_.getService(t,this,this.name_)},t.prototype.setCustomCredentialsProvider=function(t){return t?t.getToken?1!=t.getToken.length?(a.error("the customCredentialsProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customCredentialsProvider=t,!0):(a.error("the customCredentialsProvider must contain getToken method."),!1):(this._customCredentialsProvider=t,!0)},t.prototype.setCustomAuthProvider=function(t){return t?t.getToken?1!=t.getToken.length?(a.error("the customAuthProvider getToken method must contain single parameter：forceRefresh."),!1):(this._customAuthProvider=t,!0):(a.error("the customAuthProvider must contain getToken method."),!1):(this._customAuthProvider=t,!0)},t.prototype.getCustomCredentialsProvider=function(){return this._customCredentialsProvider},t.prototype.getCustomAuthProvider=function(){return this._customAuthProvider},t.prototype.setCryptImp=function(t){return t?t.decrypt&&t.decrypt instanceof Function&&t.encrypt&&t.encrypt instanceof Function?(this.cryptImpl=t,!0):(a.error("the crypt is not exist necessary methods."),!1):(a.error("the crypt is not available."),!1)},t.prototype.setAppVersion=function(t){this.appVersion=t},t.prototype.setOption=function(t){this.option=t},t.prototype.addHttpToUrl=function(t){return t&&!t.startsWith("https://")?"https://"+t:t},t.prototype.getGwUrl=function(){return null!=this.option?this.option.routePolicy==Number(1)?this.addHttpToUrl(this._config.agcgw_all.CN):this.option.routePolicy==Number(2)?this.addHttpToUrl(this._config.agcgw_all.DE):this.option.routePolicy==Number(3)?this.addHttpToUrl(this._config.agcgw_all.RU):this.option.routePolicy==Number(4)?this.addHttpToUrl(this._config.agcgw_all.SG):this.addHttpToUrl(this._config.agcgw.url):this.addHttpToUrl(this._config.agcgw.url)},t.prototype.getGwBackUrl=function(){return null!=this.option?1==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.CN_back):2==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.DE_back):3==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.RU_back):4==this.option.routePolicy?this.addHttpToUrl(this._config.agcgw_all.SG_back):this.addHttpToUrl(this._config.agcgw.backurl):this.addHttpToUrl(this._config.agcgw.backurl)},t.prototype.getAppVersion=function(){return this.appVersion},t.prototype.getCryptImp=function(){return this.cryptImpl},t.prototype.checkBeforeSetKey=function(){if(null==this._config)throw new c(p.AGC_INIT_ERROR,{message:"AGCInstance not configurated. call agconnect.instance().configInstance() to configure the agconnect."},"instance");if(!this._config.agcgw||!this._config.client)throw new c(p.AGC_INIT_ERROR,{message:"AGCInstance config is invalid."},"instance")},t}(),u=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=""),this.code=t,this.msg=e}return t.prototype.getCode=function(){return this.code},t.prototype.setCode=function(t){this.code=t},t.prototype.getMsg=function(){return this.msg},t.prototype.setMsg=function(t){this.msg=t},t}(),h=function(){function t(){this.ret=new u}return t.prototype.isSuccess=function(){return null!=this.ret&&0==this.ret.getCode()},t.prototype.getRet=function(){return this.ret},t.prototype.setRet=function(t){this.ret=t},t.prototype.constructResponse=function(t){},t}(),l=new _hw_agconnect_core__WEBPACK_IMPORTED_MODULE_1__.InstanceMap((function(e){return new g(_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__["default"],e[0])}));!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CHINA=1]="CHINA",t[t.GERMANY=2]="GERMANY",t[t.RUSSIA=3]="RUSSIA",t[t.SINGAPORE=4]="SINGAPORE"}(i||(i={})),s={AGCRoutePolicy:i},_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__["default"].registerApiProvider("instance",(function(t){return l.get(t)}),s);


/***/ }),

/***/ "./node_modules/@hw-agconnect/log/dist/index.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/@hw-agconnect/log/dist/index.esm.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogLevel": () => (/* binding */ r),
/* harmony export */   "Logger": () => (/* binding */ e),
/* harmony export */   "setGlobalLogLevel": () => (/* binding */ t),
/* harmony export */   "setGlobalUserLogHandler": () => (/* binding */ n)
/* harmony export */ });
var o,r;!function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"}(r||(r={}));var e=function(){function e(){var o=this;this.moduleName="",this.logLevel=r.VERBOSE,this.userLogProvider=null,this.logProvider=function(r,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<o.logLevel)){var g=e.consoleType[t];if(!g)throw new Error("invalid logType: ".concat(t));console[g]("[Module:".concat(r,"] [").concat((new Date).toISOString(),"] | "),n.toString())}}}return e.createLogger=function(o){for(var r=0,t=e.logInstanceArray;r<t.length;r++){var n=t[r];if(n.moduleName==o)return n}var i=new e;return i.moduleName=o,e.logInstanceArray.push(i),i},e.prototype.setLogProvider=function(o){if("function"!=typeof o)throw new Error("logProvider must be set as a function");this.logProvider=o},e.prototype.setUserLogProvider=function(o){this.userLogProvider=o},e.prototype.debug=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];this.doLog(r.DEBUG,o)},e.prototype.log=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];this.doLog(r.VERBOSE,o)},e.prototype.info=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];this.doLog(r.INFO,o)},e.prototype.warn=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];this.doLog(r.WARN,o)},e.prototype.error=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];this.doLog(r.ERROR,o)},e.prototype.doLog=function(o){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];this.userLogProvider&&this.userLogProvider(this.moduleName,o,r),this.logProvider(this.moduleName,o,r)},e.consoleType=((o={})[r.DEBUG]="log",o[r.VERBOSE]="log",o[r.SILENT]="log",o[r.INFO]="info",o[r.WARN]="warn",o[r.ERROR]="error",o),e.logInstanceArray=[],e}();function t(o){for(var r=0,t=e.logInstanceArray;r<t.length;r++){t[r].logLevel=o}}function n(o){for(var r=function(r){o?r.setUserLogProvider((function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t<r.logLevel||o(e,t,n)})):r.setUserLogProvider(null)},t=0,n=e.logInstanceArray;t<n.length;t++){r(n[t])}}


/***/ }),

/***/ "./node_modules/@hw-agconnect/network/dist/index.quickapp.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@hw-agconnect/network/dist/index.quickapp.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hw-agconnect/api */ "./node_modules/@hw-agconnect/api/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hw-agconnect/log */ "./node_modules/@hw-agconnect/log/dist/index.esm.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hw-agconnect/instance */ "./node_modules/@hw-agconnect/instance/dist/index.esm.js");

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function i(e,t,o,s){return new(o||(o=Promise))((function(a,r){function n(e){try{u(s.next(e))}catch(e){r(e)}}function i(e){try{u(s.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,i)}u((s=s.apply(e,t||[])).next())}))}function u(e,t){var o,s,a,r,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function i(r){return function(i){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,s&&(a=2&r[0]?s.return:r[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,r[1])).done)return a;switch(s=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,s=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(!(a=n.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){n=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){n.label=r[1];break}if(6===r[0]&&n.label<a[1]){n.label=a[1],a=r;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(r);break}a[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(e){r=[6,e],s=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,i])}}}var d=function(){function e(){}return e.prototype.getPlatform=function(){return""},e.prototype.getPlatformVersion=function(){return""},e.prototype.getPackageName=function(){return""},e.prototype.getAppVersion=function(){return""},e.prototype.getLanguage=function(){return""},e.prototype.getScript=function(){return""},e.prototype.getCountry=function(){return""},e.prototype.getSystemInfo=function(){return{name:"",version:""}},e.prototype.getBrowsersInfo=function(){return{name:"",version:""}},e}(),c=$app_require$("@app-module/system.configuration"),l=$app_require$("@app-module/system.app"),p=$app_require$("@app-module/system.device"),f="",h=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__.Logger.createLogger("QuickApp");p.getInfo({success:function(e){var t=e;f="android"==t.osType?"Android "+t.osVersionName:t.osType+" "+t.osVersionName},fail:function(e,t){h.warn("Failed to obtain device information. Error code:"+t+"; Error information: "+e)}});var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPlatform=function(){return"JS-SDK-QuickApp"},t.prototype.getPlatformVersion=function(){return f},t.prototype.getPackageName=function(){return l.getInfo().packageName},t.prototype.getAppVersion=function(){return l.getInfo().versionName},t.prototype.getLanguage=function(){return c.getLocale().language},t.prototype.getCountry=function(){return c.getLocale().countryOrRegion},t}(d),w=function(e){function t(t){var s=e.call(this)||this;return s.CancelToken=void 0,(axios__WEBPACK_IMPORTED_MODULE_2___default().defaults.timeout)=7e4,s.CancelToken=(axios__WEBPACK_IMPORTED_MODULE_2___default().CancelToken),null==t&&null==t||((axios__WEBPACK_IMPORTED_MODULE_2___default().defaults.adapter)=t),s}return n(t,e),t.prototype.getAxiosIns=function(){return (axios__WEBPACK_IMPORTED_MODULE_2___default())},t.prototype.sendRequest=function(e,t,r,n,d){return i(this,void 0,void 0,(function(){var i,c;return u(this,(function(u){switch(u.label){case 0:return this.checkParam(t)?(i={url:t,method:e,transformResponse:null==d?void 0:d.transformResponse,headers:n,timeout:null==d?void 0:d.timeout,responseType:null==d?void 0:d.responseType,onUploadProgress:null==d?void 0:d.onUploadProgress,onDownloadProgress:null==d?void 0:d.onDownloadProgress,validateStatus:null==d?void 0:d.validateStatus,cancelToken:null==d?void 0:d.cancelToken},"PUT"!=e&&"POST"!=e||(i.data=r),"GET"!=e&&"DELETE"!=e||(i.params=r),d&&d.throwOriginException?[2,axios__WEBPACK_IMPORTED_MODULE_2___default().request(i)]:[4,axios__WEBPACK_IMPORTED_MODULE_2___default().request(i).catch((function(e){return Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.NETWORK_REQUEST_ERROR,e,"network"))}))]):[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.NETWORK_REQUEST_ERROR,{message:"url is illegal"},"network"))];case 1:return c=u.sent(),[2,Promise.resolve(c)]}}))}))},t}(function(){function e(){this.CancelToken=void 0}return e.prototype.post=function(e,t,o,s){return this.sendRequest("POST",e,t,o,s)},e.prototype.get=function(e,t,o,s){return this.sendRequest("GET",e,t,o,s)},e.prototype.delete=function(e,t,o,s){return this.sendRequest("DELETE",e,t,o,s)},e.prototype.put=function(e,t,o,s){return this.sendRequest("PUT",e,t,o,s)},e.prototype.checkParam=function(e){return!(!e||e.match(/\s/g)||!e.match(/^(ht)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?/))},e}()),g=$app_require$("@app-module/system.fetch");function T(e){var o=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__.Logger.createLogger("AGCNetworkService");return new Promise((function(t,s){var a=null;"PUT"!=e.method&&"POST"!=e.method&&"put"!=e.method&&"post"!=e.method||(a=e.data),"GET"!=e.method&&"DELETE"!=e.method&&"get"!=e.method&&"delete"!=e.method||(a=e.params),g.fetch({url:e.url,data:a,header:e.headers,responseType:e.responseType,method:e.method,success:function(o){var a={data:o.data,status:o.code,statusText:o.statusText,headers:o.headers};if(null!=e.validateStatus)if(!o.code||e.validateStatus(o.code))t(a);else{var r=new Error("Request failed with status code "+o.code);r.code=o.code,r.response=a,s(r)}else t(a)},fail:function(e,t){o.log("quick app fetch fail code : "+t);var a=new Error("Request failed with status code : "+t+" statusText : "+e.statusText);a.code=t,a.response={data:e.data,status:t,statusText:e.statusText,headers:null},s(a)}})}))}var y=function(){function e(){this.logger=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__.Logger.createLogger("AGCWebSocketService")}return e.prototype.getReadyState=function(){return this.websocket?Number(this.websocket.readyState):null},e.prototype.send=function(e,t,o){try{if(this.websocket){if(this.websocket.send(e),t)return t()}else if(o)return o()}catch(e){if(this.logger.error(e),o)return o()}},e.prototype.close=function(e,t,o,s){try{if(this.websocket){if(this.websocket.close(e,t),o)return o()}else if(s)return s()}catch(e){if(this.logger.error(e),s)return s()}},e.prototype.onOpen=function(e){if(!this.websocket)throw new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onopen=e},e.prototype.onMessage=function(e){if(!this.websocket)throw new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onmessage=function(t){e&&e(t.data)}},e.prototype.onClose=function(e){if(!this.websocket)throw new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onclose=function(t){e&&e(t.code,t.reason,t.wasClean)}},e.prototype.onError=function(e){if(!this.websocket)throw new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onerror=function(t){e&&e(t)}},e}(),v=$app_require$("@app-module/system.websocketfactory"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.connect=function(e,t,o){return i(this,void 0,void 0,(function(){return u(this,(function(r){return this.websocket&&(this.websocket.close(),this.websocket=null),this.websocket=v.create({url:e,header:t,protocols:o}),this.websocket?[2,Promise.resolve()]:[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket create failed"},"network"))]}))}))},t.prototype.getReadyState=function(){return this.logger.warn("getReadyState not support"),null},t.prototype.send=function(e,t,o){this.websocket?this.websocket.send({data:e,success:t,fail:o}):o&&o()},t.prototype.close=function(e,t,o,s){this.websocket?this.websocket.close({code:e,reason:t,success:o,fail:s}):s&&s()},t.prototype.onError=function(e){if(!this.websocket)throw new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.WEBSOCKET_ERROR,{message:"webSocket connect fail"},"network");this.websocket.onerror=function(t){e&&e(t.data)}},t}(y),q=$app_require$("@app-module/system.downloadtask"),R=function(){function e(){this.logger=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__.Logger.createLogger("AGCFileTransloadService"),this.task=void 0}return e.prototype.downloadWithTask=function(e){var t=this;return new Promise((function(o,s){t.task=q.downloadFile({url:e.url,header:e.header,filename:e.filename,timeout:e.timeout,success:function(t){var a={header:t.header,filePath:t.filePath,status:t.statusCode,statusText:t.statusText};null!=e.validateStatus?e.validateStatus(t.statusCode)?o(a):s({code:t.statusCode,message:"downloadtask request failed with status code "+t.statusCode,response:{header:t.header,filePath:t.filePath,status:t.statusCode,statusText:t.statusText}}):o(a)},fail:function(e,t){s({code:t,message:e.statusText,response:{header:e.header,filePath:e.filePath,status:e.statusCode,statusText:e.statusText}})}})}))},e.prototype.onProgressUpdate=function(e){null!=this.task?this.task.onProgressUpdate(e):this.logger.error("please make sure you have called downloadWithTask function")},e.prototype.offProgressUpdate=function(){null!=this.task?this.task.offProgressUpdate():this.logger.error("please make sure you have called downloadWithTask function")},e.prototype.onHeadersReceived=function(e){null!=this.task?this.task.onHeadersReceived(e):this.logger.error("please make sure you have called downloadWithTask function")},e.prototype.offHeadersReceived=function(){null!=this.task?this.task.offHeadersReceived():this.logger.error("please make sure you have called downloadWithTask function")},e.prototype.abort=function(){null!=this.task?this.task.abort():this.logger.error("please make sure you have called downloadWithTask function")},e}(),b=$app_require$("@app-module/system.request"),P=function(){function e(){this.logger=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__.Logger.createLogger("AGCFileTransloadService")}return e.prototype.upload=function(e){var t=this;return new Promise((function(o,s){b.upload({url:e.url,header:e.header,method:e.method,files:e.files,data:e.data,success:function(a){var r=a.data;if("string"==typeof a.data)try{r=JSON.parse(a.data)}catch(e){t.logger.error("upload result cannot be parsed to JSON")}var n={data:r,status:a.code,statusText:a.statusText,headers:a.headers};null!=e.validateStatus?e.validateStatus(a.code)?o(n):s({code:a.code,message:"upload request failed with status code "+a.code,response:{data:r,status:a.code,statusText:a.statusText,headers:a.headers}}):o(n)},fail:function(e,t){s({code:t,message:e.statusText,response:{data:e.data,status:t,statusText:e.statusText,headers:e.headers}})}})}))},e.prototype.download=function(e){return new Promise((function(t,o){b.download({url:e.url,header:e.header,description:e.description,filename:e.filename,success:function(s){var a={token:s.token,status:s.code};null!=e.validateStatus?e.validateStatus(s.code)?t(a):o({code:s.code,message:"download request failed with status code "+s.code,response:{data:s.token,status:s.code,statusText:s.statusText}}):t(a)},fail:function(e,t){o({code:t,message:e.statusText,response:{data:e.token,status:t,statusText:e.statusText}})}})}))},e.prototype.onDownloadComplete=function(e){return new Promise((function(t,o){b.onDownloadComplete({token:e.token,success:function(s){var a={uri:s.uri,status:s.code};null!=e.validateStatus?e.validateStatus(s.code)?t(a):o({code:s.code,message:"onDownloadComplete request failed with status code "+s.code,response:{data:s.uri,status:s.code,statusText:s.statusText}}):t(a)},fail:function(e,t){o({code:t,message:e.statusText,response:{data:e.uri,status:t,statusText:e.statusText}})}})}))},e}(),S=$app_require$("@app-module/system.requesttask"),x=function(){function e(){this.logger=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__.Logger.createLogger("AGCFileTransloadService"),this.task=void 0}return e.prototype.request=function(e){var t=this;return new Promise((function(o,s){t.task=S.request({url:e.url,data:e.data,header:e.header,method:e.method,responseType:e.responseType,timeout:e.timeout,success:function(t){var a=t.data;if("string"==typeof t.data)try{a=JSON.parse(t.data)}catch(e){}var r={data:a,status:t.statusCode,statusText:t.statusText,header:t.header};null!=e.validateStatus?e.validateStatus(t.statusCode)?o(r):s({code:t.statusCode,message:"requesttask request failed with status code "+t.statusCode,response:{data:a,status:t.statusCode,statusText:t.statusText,header:t.header}}):o(r)},fail:function(e,t){s({code:t,message:e.statusText,response:{data:e.data,status:t,statusText:e.statusText,header:e.header}})}})}))},e.prototype.onProgressUpdate=function(e){null!=this.task?this.task.onProgressUpdate(e):this.logger.error("please make sure you have called request function")},e.prototype.offProgressUpdate=function(){null!=this.task?this.task.offProgressUpdate():this.logger.error("please make sure you have called request function")},e.prototype.onHeadersReceived=function(e){null!=this.task?this.task.onHeadersReceived(e):this.logger.error("please make sure you have called request function")},e.prototype.offHeadersReceived=function(){null!=this.task?this.task.offHeadersReceived():this.logger.error("please make sure you have called request function")},e.prototype.abort=function(){null!=this.task?this.task.abort():this.logger.error("please make sure you have called request function")},e}(),I=$app_require$("@app-module/system.uploadtask"),E=function(){function e(){this.logger=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_1__.Logger.createLogger("AGCFileTransloadService"),this.task=void 0}return e.prototype.uploadWithTask=function(e){var t=this;return new Promise((function(o,s){t.task=I.uploadFile({url:e.url,method:e.method,files:e.files,data:e.data,timeout:e.timeout,success:function(t){var a=t.data;if("string"==typeof t.data)try{a=JSON.parse(t.data)}catch(e){}var r={data:a,status:t.statusCode,statusText:t.statusText,headers:t.headers};null!=e.validateStatus?e.validateStatus(t.statusCode)?o(r):s({code:t.statusCode,message:"uploadtask request failed with status code "+t.statusCode,response:{data:a,status:t.statusCode,statusText:t.statusText,headers:t.headers}}):o(r)},fail:function(e,t){s({code:t,message:e.statusText,response:{data:e.data,status:t,statusText:e.statusText,headers:e.headers}})}})}))},e.prototype.onProgressUpdate=function(e){null!=this.task?this.task.onProgressUpdate(e):this.logger.error("please make sure you have called uploadWithTask function")},e.prototype.offProgressUpdate=function(){null!=this.task?this.task.offProgressUpdate():this.logger.error("please make sure you have called uploadWithTask function")},e.prototype.onHeadersReceived=function(e){null!=this.task?this.task.onHeadersReceived(e):this.logger.error("please make sure you have called uploadWithTask function")},e.prototype.offHeadersReceived=function(){null!=this.task?this.task.offHeadersReceived():this.logger.error("please make sure you have called uploadWithTask function")},e.prototype.abort=function(){null!=this.task?this.task.abort():this.logger.error("please make sure you have called uploadWithTask function")},e}(),C=function(){function e(){this.quickAppReq=void 0,this.uploadTaskIns=void 0,this.downloadTaskIns=void 0,this.reqTask=void 0}return e.prototype.upload=function(e){return this.quickAppReq||(this.quickAppReq=new P),this.quickAppReq.upload(e)},e.prototype.download=function(e){return this.quickAppReq||(this.quickAppReq=new P),this.quickAppReq.download(e)},e.prototype.onDownloadComplete=function(e){return this.quickAppReq||(this.quickAppReq=new P),this.quickAppReq.onDownloadComplete(e)},e.prototype.downloadWithTask=function(e){return this.downloadTaskIns||(this.downloadTaskIns=new R),this.downloadTaskIns.downloadWithTask(e)},e.prototype.downloadtaskOnProgressUpdate=function(e){this.downloadTaskIns||(this.downloadTaskIns=new R),this.downloadTaskIns.onProgressUpdate(e)},e.prototype.downloadtaskOnHeadersReceived=function(e){this.downloadTaskIns||(this.downloadTaskIns=new R),this.downloadTaskIns.onHeadersReceived(e)},e.prototype.downloadtaskOffProgressUpdate=function(){this.downloadTaskIns||(this.downloadTaskIns=new R),this.downloadTaskIns.offProgressUpdate()},e.prototype.downloadtaskOffHeadersReceived=function(){this.downloadTaskIns||(this.downloadTaskIns=new R),this.downloadTaskIns.offHeadersReceived()},e.prototype.downloadtaskAbort=function(){this.downloadTaskIns||(this.downloadTaskIns=new R),this.downloadTaskIns.abort()},e.prototype.uploadWithTask=function(e){return this.uploadTaskIns||(this.uploadTaskIns=new E),this.uploadTaskIns.uploadWithTask(e)},e.prototype.uploadtaskOnProgressUpdate=function(e){this.uploadTaskIns||(this.uploadTaskIns=new E),this.uploadTaskIns.onProgressUpdate(e)},e.prototype.uploadtaskOnHeadersReceived=function(e){this.uploadTaskIns||(this.uploadTaskIns=new E),this.uploadTaskIns.onHeadersReceived(e)},e.prototype.uploadtaskOffProgressUpdate=function(){this.uploadTaskIns||(this.uploadTaskIns=new E),this.uploadTaskIns.offProgressUpdate()},e.prototype.uploadtaskOffHeadersReceived=function(){this.uploadTaskIns||(this.uploadTaskIns=new E),this.uploadTaskIns.offHeadersReceived()},e.prototype.uploadtaskAbort=function(){this.uploadTaskIns||(this.uploadTaskIns=new E),this.uploadTaskIns.abort()},e.prototype.request=function(e){return this.reqTask||(this.reqTask=new x),this.reqTask.request(e)},e.prototype.requestOnProgressUpdate=function(e){this.reqTask||(this.reqTask=new x),this.reqTask.onProgressUpdate(e)},e.prototype.requestOnHeadersReceived=function(e){this.reqTask||(this.reqTask=new x),this.reqTask.onHeadersReceived(e)},e.prototype.requestOffProgressUpdate=function(){this.reqTask||(this.reqTask=new x),this.reqTask.offProgressUpdate()},e.prototype.requestOffHeadersReceived=function(){this.reqTask||(this.reqTask=new x),this.reqTask.offHeadersReceived()},e.prototype.requestAbort=function(){this.reqTask||(this.reqTask=new x),this.reqTask.abort()},e}();var O=_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__["default"];O.registerInternalService({name:"AGCNetworkService",serviceFactory:function(e){return new w(T)}}),O.registerInternalService({name:"AGCWebSocketService",serviceFactory:function(e){return new m}}),O.registerInternalService({name:"AGCPlatformInfoService",serviceFactory:function(e){return new k}}),O.registerInternalService({name:"AGCFileTransloadService",serviceFactory:function(e){return new C}});


/***/ }),

/***/ "./node_modules/@hw-agconnect/storage/dist/index.quickapp.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@hw-agconnect/storage/dist/index.quickapp.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hw-agconnect/api */ "./node_modules/@hw-agconnect/api/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hw-agconnect/core */ "./node_modules/@hw-agconnect/core/dist/index.esm.js");
var n=function(){function t(t){this.encryptImpl=void 0,this.encryptImpl=t}return t.prototype.setEncryptImp=function(t){this.encryptImpl=t},t.prototype.decrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.decrypt(t):t},t.prototype.encrypt=function(t){return null!=this.encryptImpl&&null!=this.encryptImpl&&null!=t&&null!=t?this.encryptImpl.encrypt(t):t},t}(),r=$app_require$("@app-module/system.storage"),c=function(){function t(){this.agcCryptImpl=new n}return t.getInstance=function(e,n){!t.quickAppStoreMap.has(e)&&t.quickAppStoreMap.get(e)||t.quickAppStoreMap.set(e,new t);var r=t.quickAppStoreMap.get(e);return r.agcCryptImpl.setEncryptImp(n),r},t.prototype.get=function(t){var e=this;return new Promise((function(n,c){r.get({key:t,default:null,success:function(t){n(t&&""!=t?e.agcCryptImpl.decrypt(t):null)},fail:function(t,e){c(t)}})}))},t.prototype.remove=function(t){return new Promise((function(e,n){r.delete({key:t,success:function(t){e()},fail:function(t,r){200==r?e():n(t)}})}))},t.prototype.set=function(t,e){var n=this;return new Promise((function(c,p){r.set({key:t,value:n.agcCryptImpl.encrypt(e),success:function(t){c(t)},fail:function(t,e){p(t)}})}))},t.quickAppStoreMap=new Map,t}(),p=function(){function t(t){this.name=_hw_agconnect_core__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_CATEGORY,t&&(this.name=t)}return t.prototype.getStorageInstance=function(t,e){return c.getInstance(this.name,e)},t.prototype.createPersistentStorage=function(){return c.getInstance(this.name)},t.prototype.createTemporaryStorage=function(){return c.getInstance(this.name)},t.prototype.createMemoryStorage=function(){return c.getInstance(this.name)},t}();_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__["default"].registerInternalService({name:"AGCStorageService",serviceFactory:function(t){return new p(t.name())}});


/***/ }),

/***/ "./node_modules/@hw-agconnect/util/dist/index.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@hw-agconnect/util/dist/index.esm.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EnvironmentUtil": () => (/* binding */ l),
/* harmony export */   "ObserverUtil": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hw-agconnect/api */ "./node_modules/@hw-agconnect/api/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hw-agconnect/core */ "./node_modules/@hw-agconnect/core/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hw-agconnect/instance */ "./node_modules/@hw-agconnect/instance/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hw-agconnect/storage */ "./node_modules/@hw-agconnect/storage/dist/index.quickapp.js");
/* harmony import */ var _hw_agconnect_log__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hw-agconnect/log */ "./node_modules/@hw-agconnect/log/dist/index.esm.js");

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var c,s=function(){function e(){this.storageImpl=void 0}return e.prototype.getAaid=function(c){return i(this,void 0,void 0,(function(){var i,s,l,u,f;return a(this,(function(a){switch(a.label){case 0:i=_hw_agconnect_log__WEBPACK_IMPORTED_MODULE_4__.Logger.createLogger("ClientInfoService"),a.label=1;case 1:return a.trys.push([1,5,,6]),s="agcAaid_"+c.name()+":"+c.config().client.client_id,c.name()===_hw_agconnect_core__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_CATEGORY&&(s="agcAaid:"+c.config().client.client_id),null==(l=c.getService("AGCStorageService"))?(i.error("Get AGC storage Service failed."),[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCErrorCode.GET_AAID_ERROR,{message:"get AGC storage Service failed"},"util"))]):(this.storageImpl||(this.storageImpl=l.getStorageInstance(e.persistence)),[4,this.storageImpl.get(s).catch((function(e){return i.error("get aaid failed",e.message),Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCErrorCode.GET_AAID_ERROR,{message:"get aaid from storage failed"},"util"))}))]);case 2:return null!=(u=a.sent())&&null!=u&&""!=u?[3,4]:(u=this.getRandomString(),[4,this.storageImpl.set(s,u).catch((function(e){return i.error("get aaid failed",e.message),Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCErrorCode.GET_AAID_ERROR,{message:"save aaid to storage failed"},"util"))}))]);case 3:a.sent(),a.label=4;case 4:return[2,u];case 5:return f=a.sent(),i.error("get aaid failed",f.message),[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_2__.AGCErrorCode.GET_AAID_ERROR,f,"util"))];case 6:return[2]}}))}))},e.prototype.getRandomString=function(){var e="0123456789abcdef",t=e.length;return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,(function(){return e.charAt(Math.floor(Math.random()*t))}))},e.persistence=0,e.INSTANCE=new e,e}(),l=function(){function e(){}return e.getEnvironmentIns=function(){return e.instance},e.prototype.isBrowser=function(){return"object"==typeof self&&self.self===self},e.prototype.isNodeJS=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},e.prototype.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.prototype.isQuickApp=function(){try{return global&&"fastapp"in global}catch(e){return!1}},e.instance=new e,e}(),u=function(){function t(t){this.instance=t||_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__["default"].instance()}return t.prototype.getAaid=function(){return s.INSTANCE.getAaid(this.instance)},t.prototype.getEnvironmentUtil=function(){return l.getEnvironmentIns()},t}();function f(e){return null!=e}!function(e){var t=function(e,t,n){if("function"==typeof e||f(t)||f(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}};e.ObserverImpl=t}(c||(c={})),_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_0__["default"].registerInternalService({name:"ClientInfoService",serviceFactory:function(e){return new u(e)}});


/***/ }),

/***/ "./node_modules/@hw-hmscore/analytics-sdk-quickapp/index.quickapp.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@hw-hmscore/analytics-sdk-quickapp/index.quickapp.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hw_agconnect_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hw-agconnect/core */ "./node_modules/@hw-agconnect/core/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hw-agconnect/api */ "./node_modules/@hw-agconnect/api/dist/index.esm.js");
/* harmony import */ var _hw_hmscore_hms_js_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hw-hmscore/hms-js-base */ "./node_modules/@hw-hmscore/hms-js-base/src/index.js");
/* harmony import */ var _hw_hmscore_hms_js_base__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_hw_hmscore_hms_js_base__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hw-agconnect/instance */ "./node_modules/@hw-agconnect/instance/dist/index.esm.js");
/* harmony import */ var _hw_agconnect_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hw-agconnect/storage */ "./node_modules/@hw-agconnect/storage/dist/index.quickapp.js");
/* harmony import */ var _hw_agconnect_network__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hw-agconnect/network */ "./node_modules/@hw-agconnect/network/dist/index.quickapp.js");
/* harmony import */ var _hw_agconnect_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hw-agconnect/util */ "./node_modules/@hw-agconnect/util/dist/index.esm.js");
var r = $app_require$("@app-module/system.shortcut");;var{fetch:o}= $app_require$("@app-module/system.fetch");;var a = $app_require$("@app-module/system.app");;var s = $app_require$("@app-module/system.device");;var c = $app_require$("@app-module/system.storage");;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function p(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function h(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function f(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var g,E="header",v="events_common",C="events",T="event",S="debugMode",y="routePolicy",I="terminalName",A="App-Id",m="App-Ver",P="Sdk-Name",N="Device-Type",O="servicetag",R="Package-Name",L="Request-Id",$="x-hasdk-debug",_="x-hasdk-token",D="x-hasdk-log-region",U="x-hasdk-resourceid",M="x-hasdk-productid",k="x-hasdk-clientid",w="_openness_log_tag",H="_openness_config_tag",b="$StartType",V="$StartScene",F="$PrevActivityName",G="$PrevActivityId",Y="$CurActivityName",B="$CurActivityId",W="$PrePageId",K="$CurrPageId",x="$Duration",j=64,J=100,q=128,Q=256,X=4096,z=2048,Z=100,ee=204800,te=50,ne=25,ie=/^[a-zA-Z_$][A-Za-z0-9_]*$/,re=/^[a-zA-Z][A-Za-z0-9_]*$/,oe=/^[a-zA-Z_$][A-Za-z0-9_]*$/,ae={value:5e3,label:"5s"},se={value:18e6,label:"5h"};!function(e){e[e.BEACON=1]="BEACON",e[e.AJAX=2]="AJAX",e[e.IMG=3]="IMG",e[e.WXREQUEST=4]="WXREQUEST"}(g||(g={}));var ce,ue,le=0,de=1,pe=2,he=3,fe=5,ge="0",Ee="1",ve=1,Ce=60,Te=30,Se=1e3;!function(e){e.AES_CBC_NETWORK="AES_CBC_NETWORK",e.AES_CBC_STORAGE="AES_CBC_STORAGE"}(ce||(ce={})),function(e){e.APP_ID="appId",e.PKG_NAME="packageName",e.ANALYTICS_URL="analyticsUrl"}(ue||(ue={}));var ye="HW_ha_eventSessionName",Ie="HW_ha_analyticsEnabled",Ae="HW_ha_restrictionEnabled",me="HW_ha_restrictionShared",Pe="HW_ha_serverOaidFlag",Ne="HW_ha_isFirstRun",Oe={CN:"HW_ha_pubKeyCN",DE:"HW_ha_pubKeyDE",RU:"HW_ha_pubKeyRU",SG:"HW_ha_pubKeySG"},Re={CN:"HW_ha_workKeyCN",DE:"HW_ha_workKeyDE",RU:"HW_ha_workKeyRU",SG:"HW_ha_workKeySG"},Le={CREATEPAYMENTINFO:"$CreatePaymentInfo",ADDPRODUCT2CART:"$AddProduct2Cart",ADDPRODUCT2WISHLIST:"$AddProduct2WishList",STARTAPP:"$StartApp",STARTCHECKOUT:"$StartCheckout",VIEWCAMPAIGN:"$ViewCampaign",VIEWCHECKOUTSTEP:"$ViewCheckoutStep",WINVIRTUALCOIN:"$WinVirtualCoin",COMPLETEPURCHASE:"$CompletePurchase",OBTAINLEADS:"$ObtainLeads",JOINUSERGROUP:"$JoinUserGroup",COMPLETELEVEL:"$CompleteLevel",STARTLEVEL:"$StartLevel",UPGRADELEVEL:"$UpgradeLevel",SIGNIN:"$SignIn",SIGNOUT:"$SignOut",SUBMITSCORE:"$SubmitScore",CREATEORDER:"$CreateOrder",REFUNDORDER:"$RefundOrder",DELPRODUCTFROMCART:"$DelProductFromCart",SEARCH:"$Search",VIEWCONTENT:"$ViewContent",UPDATECHECKOUTOPTION:"$UpdateCheckoutOption",SHARECONTENT:"$ShareContent",REGISTERACCOUNT:"$RegisterAccount",CONSUMEVIRTUALCOIN:"$ConsumeVirtualCoin",STARTTUTORIAL:"$StartTutorial",COMPLETETUTORIAL:"$CompleteTutorial",OBTAINACHIEVEMENT:"$ObtainAchievement",VIEWPRODUCT:"$ViewProduct",VIEWPRODUCTLIST:"$ViewProductList",VIEWSEARCHRESULT:"$ViewSearchResult",UPDATEMEMBERSHIPLEVEL:"$UpdateMembershipLevel",FILTRATEPRODUCT:"$FiltrateProduct",VIEWCATEGORY:"$ViewCategory",UPDATEORDER:"$UpdateOrder",CANCELORDER:"$CancelOrder",COMPLETEORDER:"$CompleteOrder",CANCELCHECKOUT:"$CancelCheckout",OBTAINVOUCHER:"$ObtainVoucher",CONTACTCUSTOMSERVICE:"$ContactCustomService",NOVICEGUIDESTART:"$NoviceGuideStart",NOVICEGUIDEEND:"$NoviceGuideEnd",STARTGAME:"$StartGame",ENDGAME:"$EndGame",WINPROPS:"$WinProps",EXCHANGEGOODS:"$ExchangeGoods",VIEWHOUSELIST:"$ViewHouseList",VIEWHOUSEDETAIL:"$ViewHouseDetail",INVITE:"$Invite",RATE:"$Rate",CONSUMEPROPS:"$ConsumeProps",ADDFRIEND:"$AddFriend",ADDBLACKLIST:"$AddBlacklist",VIEWFRIENDLIST:"$ViewFriendList",QUITUSERGROUP:"$QuitUserGroup",CREATEUSERGROUP:"$CreateUserGroup",DISBANDUSERGROUP:"$DisbandUserGroup",UPGRADEUSERGROUP:"$UpgradeUserGroup",VIEWUSERGROUP:"$ViewUserGroup",JOINTEAM:"$JoinTeam",SENDMESSAGE:"$SendMessage",LEARNSKILL:"$LearnSkill",USESKILL:"$UseSkill",GETEQUIPMENT:"$GetEquipment",LOSEEQUIPMENT:"$LoseEquipment",ENHANCEEQUIPMENT:"$EnhanceEquipment",SWITCHCLASS:"$SwitchClass",ACCEPTTASK:"$AcceptTask",FINISHTASK:"$FinishTask",ATTENDACTIVITY:"$AttendActivity",FINISHCUTSCENE:"$FinishCutscene",SKIPCUTSCENE:"$SkipCutscene",GETPET:"$GetPet",LOSEPET:"$LosePet",ENHANCEPET:"$EnhancePet",GETMOUNT:"$GetMount",LOSEMOUNT:"$LoseMount",ENHANCEMOUNT:"$EnhanceMount",CREATEROLE:"$CreateRole",SIGNINROLE:"$SignInRole",SIGNOUTROLE:"$SignOutRole",STARTBATTLE:"$StartBattle",ENDBATTLE:"$EndBattle",STARTDUNGEON:"$StartDungeon",FINISHDUNGEON:"$FinishDungeon",VIEWPACKAGE:"$ViewPackage",REDEEM:"$Redeem",MODIFYSETTING:"$ModifySetting",WATCHVIDEO:"$WatchVideo",CLICKMESSAGE:"$ClickMessage",DRAWCARD:"$DrawCard",VIEWCARDLIST:"$ViewCardList",BINDACCOUNT:"$BindAccount",STARTEXERCISE:"$StartExercise",ENDEXERCISE:"$EndExercise",STARTPLAYMEDIA:"$StartPlayMedia",ENDPLAYMEDIA:"$EndPlayMedia",STARTEXAMINE:"$StartExamine",ENDEXAMINE:"$EndExamine",CHECKIN:"$CheckIn",COMPENSATION:"$Compensation",POST:"$Post",SHAREAPP:"$ShareApp",BINDDEVICE:"$BindDevice",UNBINDDEVICE:"$UnBindDevice",RESERVEMAINTENANCE:"$ReserveMaintenance",DEVICEMISSINGREPORT:"$DeviceMissingReport",MODULARCLICK:"$ModularClick",PAGEVIEW:"$PageView",STARTBOOKING:"$StartBooking",LEARNTARGET:"$LearnTarget",LANGUAGETEST:"$LanguageTest",STARTTRAINING:"$StartTraining",ENDTRAINING:"$EndTraining",REGISTERACTIVITY:"$RegisterActivity",EXITACTIVITY:"$ExitActivity",COMPLETEACTIVITY:"$CompleteActivity",FOLLOWCONTENT:"$FollowContent",ENTERACCOUNTOPENING:"$EnterAccountOpening",SUBMITACCOUNTOPENING:"$SubmitAccountOpening",BANDCARD:"$BandCard",BANKTRANSFERIN:"$BankTransferIn",BANKTRANSFEROUT:"$BankTransferOut",VIEWSTOCKDETAIL:"$ViewStockDetail",TRADESTOCKS:"$TradeStocks",VIEWFINANCEPAGE:"$ViewFinancePage",PURCHASEFINANCE:"$PurchaseFinance",REDEMPTIONFINANCE:"$RedemptionFinance",FUNDTRADING:"$FundTrading",FIXEDINVESTMENT:"$Fixedinvestment",APPLYNEW:"$ApplyNew",VIEWINFORMATIONSECTION:"$ViewInformationSection",VIEWINFORMATION:"$ViewInformation",DISPLAYVOUCHER:"$DisplayVoucher",BOOKCOURSE:"$BookCourse",LEARNCOURSES:"$LearnCourses",TRYOUT:"$Tryout",ANSWER:"$Answer",VIEWFUNDPAGE:"$ViewFundPage",CLICKPURCHASE:"$ClickPurchase",ENABLEMEMBER:"$EnableMember",CANCELMEMBER:"$CancelMember",COMMENTCONTENT:"$CommentContent",LIKECONTENT:"$LikeContent",DELETEPRODUCT2WISHLIST:"$DeleteProduct2WishList",ADCLICK:"$AdClick",ADDISPLAY:"$AdDisplay",VIPSUC:"$VipSuc",REGISTERFAILED:"$RegisterFailed",VIPCLICK:"$VipClick",VIPFAILED:"$VipFailed",IMPROVEINFORMATION:"$ImproveInformation"},$e={JOINABTASK:"$JoinABTask",FIRST_OPEN:"$AppFirstOpen",ENTER_SCREEN:"$EnterScreen",EXIT_SCREEN:"$ExitScreen",ADD_QUICK_APP:"$AddQuickApp",HA_NOTIFICATION_DISPLAY:"$HA_NOTIFICATION_DISPLAY",DisplayNotification:"$DisplayNotification",HA_NOTIFICATION_CLICK:"$HA_NOTIFICATION_CLICK",ClickNotification:"$ClickNotification",HA_NOTIFICATION_CLEAR:"$HA_NOTIFICATION_CLEAR",ClearNotification:"$ClearNotification",HA_APP_INSTALL:"$HA_APP_INSTALL",InstallApp:"$InstallApp",HA_APP_START:"$HA_APP_START",LaunchApp:"$LaunchApp",HA_APP_UPDATE:"$HA_APP_UPDATE",UpdateApp:"$UpdateApp",HA_FIRST_OPEN:"$HA_FIRST_OPEN",AppFirstOpen:"$AppFirstOpen",HA_SCREEN_ENTER:"$HA_SCREEN_ENTER",EnterScreen:"$EnterScreen",HA_SCREEN_EXIT:"$HA_SCREEN_EXIT",ExitScreen:"$ExitScreen",HA_CLEAR_DATA:"$HA_CLEAR_DATA",ClearData:"$ClearData",HA_CLEAR_CACHE:"$HA_CLEAR_CACHE",ClearCache:"$ClearCache",HA_APP_UNINSTALL:"$HA_APP_UNINSTALL",UninstallApp:"$UninstallApp",InAppPurchase:"$InAppPurchase",RequestAd:"$RequestAd",DisplayAd:"$DisplayAd",ClickAd:"$ClickAd",STOP_ANALYTICS_COLLECTION:"$StopAnalyticsCollection",AppError:"$AppError",AppPushToken:"$AppPushToken",CampaignPushClick:"$CampaignPushClick",SignIn:"$SignIn",SignOut:"$SignOut",ObtainAdAward:"$ObtainAdAward"},_e=[$e.SignIn,$e.SignOut,$e.JOINABTASK],De={};De[Le.WINVIRTUALCOIN]={VIRTUALCURRNAME:"$VirtualCurrName",LEVEL:"$Level",ENTRY:"$Entry"},De[Le.CONSUMEVIRTUALCOIN]={VIRTUALCURRNAME:"$VirtualCurrName",LEVEL:"$Level",ENTRY:"$Entry"},De[Le.COMPLETEPURCHASE]={LEVEL:"$Level",ENTRY:"$Entry",PURCHASEENTRY:"$PurchaseEntry"},De[Le.NOVICEGUIDEEND]={RESULT:"$Result"},De[Le.ENDGAME]={RESULT:"$Result",DURATION:"$Duration"},De[Le.WINPROPS]={PROPS:"$Props",LEVEL:"$Level",ENTRY:"$Entry",QUANTITY:"$Quantity"},De[Le.CONSUMEPROPS]={PROPS:"$Props",LEVEL:"$Level",ENTRY:"$Entry",QUANTITY:"$Quantity"},De[Le.ADDPRODUCT2CART]={ORDERID:"$OrderId",BRAND:"$Brand",CATEGORY:"$Category",SOURCE:"$Source",MEDIUM:"$Medium",PROMOTIONNAME:"$PromotionName",CONTENT:"$Content",KEYWORDS:"$Keywords",MATERIALNAME:"$MaterialName",MATERIALSLOT:"$MaterialSlot"};function Ue(e){return null==e||""===e}function Me(e){return!Ue(e)}function ke(e){return"string"==typeof e&&!Ue(e)}function we(e,t){if(!ke(e))return t&&t(),!1;for(var n=!1,i=(e=e.replace(/,$/gi,"")).split(","),r=0;r<i.length;r++)Ue(i[r])?t&&t(r):0===r&&(n=!0);return n}var He=new(function(){function e(){}return e.prototype.create=function(){var e=Math.floor(Math.random()*(Math.pow(2,12)-1-0+1))+0,t=Math.floor(Math.random()*(Math.pow(2,32)-1-0+1))+0,n=Math.floor(Math.random()*(Math.pow(2,16)-1-0+1))+0,i=Math.floor(Math.random()*(Math.pow(2,6)-1-0+1))+0,r=Math.floor(Math.random()*(Math.pow(2,8)-1-0+1))+0,o=(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30);function a(e,t,n){n=n||"0";for(var i=t-(e=String(e)).length;i>0;i>>>=1,n+=n)1&i&&(e=n+e);return e}return[a(t.toString(16),8),a(n.toString(16),4),a((16384|e).toString(16),4),a((128|i).toString(16),2),a(r.toString(16),2),a(o.toString(16),12)].join("")},e}());function be(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),"object"!=typeof e)return e;if(Array.isArray(e)){for(var i=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&i.push(be(e[r]));return i}if(null!=e&&e.constructor!==RegExp){var o={};for(var a in e)(n||"function"!=typeof e[a])&&-1===t.indexOf(a)&&(o[a]=be(e[a]));return o}return e}function Ve(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function Fe(e,t){return-1!==e.indexOf(t)}var Ge,Ye,Be,We=new(function(){function e(){this.sessionDuration=18e5,this.minSessionDuration=3e4,this.defaultEventParams={},this.expiryTimeInfinity=-1,this.keyList=[],this.dataList={},this.initCompletedAt=0,this.initPromise=null}return e.prototype.init=function(){return h(this,void 0,void 0,(function(){var e,t,n,i,r;return f(this,(function(o){switch(o.label){case 0:return this.initPromise?[2]:[4,It.hiMigration.migrate()];case 1:return o.sent(),e=this.initKeyNameList(),t=this,[4,this.clearInvalidKey(e)];case 2:t.keyList=o.sent(),n=0,o.label=3;case 3:return n<this.keyList.length?(i=this.keyList[n],[4,It.hiStorage.getSavedObject(i)]):[3,6];case 4:if(r=o.sent()||{},!this.isValidStoredItem(r))return[3,5];-1!=this.initNoRefreshKeyList().indexOf(i)?this.dataList[i]=r:this.saveClientValue(i,r.value),o.label=5;case 5:return n++,[3,3];case 6:return this.initCompletedAt=(new Date).getTime(),It.sendTask.processEventsReceivedAfterLaunch(),[2]}}))}))},e.prototype.clearInvalidKey=function(e){return h(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){switch(i.label){case 0:t=0,i.label=1;case 1:return t<e.length?(n=e[t],[4,It.hiStorage.isKeyExist(n)]):[3,4];case 2:i.sent()||(e.splice(t,1),t--),i.label=3;case 3:return t++,[3,1];case 4:return[2,e]}}))}))},e.prototype.handleSessionValue=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var n=this.getSessionValue(),i=e?He.create()+"_"+(new Date).getTime():n||He.create()+"_"+(new Date).getTime(),r=It.sendTask.getCurFocusStateSessionDuration(!e&&!Ue(n)&&!t);this.saveClientValue(ye,i,r),n!==i&&(It.sendTask.upLoadService.isInit=!1)},e.prototype.getSessionValue=function(){return this.getClientValue(ye)},e.prototype.setSessionDuration=function(e){Number.isInteger(e)&&(this.sessionDuration=e,this.handleSessionValue())},e.prototype.setBackgroundSessionDuration=function(e){Number.isInteger(e)&&(this.minSessionDuration=e,this.handleSessionValue())},e.prototype.getClientExpire=function(e){var t=this;return this.isValidStoredItem(this.dataList[e],(function(){Ue(t.dataList[e])||t.removeClientValue(e)}))?this.dataList[e].expiryTime:0},e.prototype.getClientValue=function(e){var t=this;return this.isValidStoredItem(this.dataList[e],(function(){Ue(t.dataList[e])||t.removeClientValue(e)}))?this.dataList[e].value:""},e.prototype.removeClientValue=function(e){delete this.dataList[e],It.hiStorage.removeItem(e);var t=this.keyList.indexOf(e);-1!==t&&delete this.keyList[t]},e.prototype.isKeyExist=function(e){return!!this.getClientValue(e)},e.prototype.saveClientValue=function(e,t,n){this.dataList[e]={value:t,expiryTime:this.makeExpiryTime(n)},It.hiStorage.saveClientValue(e,t,n),-1==this.keyList.indexOf(e)&&this.keyList.push(e)},e.prototype.isValidStoredItem=function(e,t){return null===e||""===e||void 0===(n="string"==typeof e?JSON.parse(e):e)||isNaN(n.expiryTime)||!1===Ve(n,"value")?(t&&t(),!1):!(n.expiryTime!==this.expiryTimeInfinity&&n.expiryTime<(new Date).getTime())||(t&&t(),!1);var n},e.prototype.makeExpiryTime=function(e){var t=(new Date).getTime()+31536e6;return e&&!isNaN(e)&&e>0&&(t=(new Date).getTime()+e),t},e.prototype.initKeyNameList=function(){return["HW_ha_clientOaidFlag",Pe,"HW_ha_pushTokenFlag","HW_ha_getConfigTime",Ne,"HW_ha_isTestDevice","HW_ha_isNewUser",ye,"HW_ha_appVersion","HW_ha_saltExpire","HW_ha_wxAppId",Oe.CN,Oe.DE,Oe.RU,Oe.SG,Re.CN,Re.DE,Re.RU,Re.SG,"HW_ha_eventUploadPolicy","HW_ha_disableEvents","HW_ha_apiChannel","HW_ha_firstOpenTime","HW_ha_existShortcut","HW_ha_existUserId",Ie,me,Ae]},e.prototype.initNoRefreshKeyList=function(){return[ye,"HW_ha_saltExpire",Oe.CN,Oe.DE,Oe.RU,Oe.SG,Re.CN,Re.DE,Re.RU,Re.SG]},e}()),Ke={code:"CE-001",message:"Cannot find agcgw/url from agconnect-service.json."},xe={code:"PE-002",message:"Length of $1 exceeds the limit. Max Length is $2."},je={code:"PE-003",message:"$1 missed."},Je={code:"PE-004",message:"$1 is reserved."},qe={code:"PE-005",message:"Too many $1 parameters. Max number of parameters is $2."},Qe={code:"PE-006",message:"$1 is invalid."},Xe={code:"PE-007",message:"The size exceeds the limit, the maximum size is $1."},ze={code:"IE-004",message:"Missing agconnect sdk."},Ze={code:"IE-006",message:"The Analytics Kit is disabled."},et={code:"SE-001",message:"Failed to initialize the Analytics Kit."},tt={code:"SE-002",message:"Failed to obtain AAID from hms core sdk."},nt={code:"SE-003",message:"Failed to obtain token from agconnect sdk."},it=function(){function e(){}return e.checkString=function(e,t,n,i){return Ue(n)?(It.hiLog.warn(e,je.code,je.message,{$1:t}),!1):!(String(n).length>i)||(It.hiLog.warn(e,xe.code,xe.message,{$1:t,$2:i}),!1)},e.checkPattern=function(e,t,n,i){return!!i.test(n)||(It.hiLog.warn(e,Qe.code,Qe.message,{$1:t}),!1)},e.checkReserve=function(e,t,n,i){for(var r in i)if(n===i[r])return It.hiLog.warn(e,Je.code,Je.message,{$1:t}),!1;return!0},e.checkLength=function(e,t,n,i){return!(n>i)||(It.hiLog.warn(e,qe.code,qe.message,{$1:t,$2:i}),!1)},e.checkSwitchIsOpen=function(e,t){return!!t||(It.hiLog.warn(e,Ze.code,Ze.message),!1)},e.checkExceedMaxSize=function(e,t,n,i){return!(n>i)||(It.hiLog.warn(e,Xe.code,Xe.message,{$1:t}),!1)},e.checkEmpty=function(e,t,n){return!Ue(n)||(It.hiLog.warn(e,je.code,je.message,{$1:t}),!1)},e}(),rt="1.0",ot="web",at="hianalytics",st="Analytics",ct="aaid",ut="token",lt=new(function(){function e(){this.attributesCollectors=[]}return e.prototype.register=function(e){this.attributesCollectors.push(e)},e.prototype.collectAll=function(){return h(this,void 0,void 0,(function(){var e,t,n,i;return f(this,(function(r){switch(r.label){case 0:e={},t=0,n=this.attributesCollectors,r.label=1;case 1:return t<n.length?[4,n[t].doCollect()]:[3,4];case 2:i=r.sent(),Object.assign(e,i),r.label=3;case 3:return t++,[3,1];case 4:return[2,e]}}))}))},e.prototype.collect=function(e){return h(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){switch(i.label){case 0:return t={},n={},this.attributesCollectors.some((function(t,i){return t.key===e&&(n=t,!0)})),n.doCollect?[4,n.doCollect()]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return[2,t]}}))}))},e.prototype.syncCollect=function(e){return h(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){switch(i.label){case 0:return t={},(n=this.attributesCollectors.find((function(t){return t.key===e})))&&n.doCollect?[4,n.doCollect()]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return[2,t]}}))}))},e}()),dt=new(function(){function e(){this.tag="AaidCollector",this.key=ct,this.cache=null}return e.prototype.doCollect=function(){return h(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return this.cache&&this.cache[this.key]?[3,2]:(this.cache=this.cache||{},[4,It.hiAgcUtil.getAaid(this.tag)]);case 1:(e=t.sent())&&(this.cache[this.key]=e),t.label=2;case 2:return[2,this.cache]}}))}))},e.prototype.getAaid=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.doCollect()];case 1:return e.sent(),[2,this.cache[ct]||""]}}))}))},e.prototype.refreshAaid=function(){return h(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return delete this.cache[ct],[4,It.hiAgcUtil.deleteAaid()];case 1:return t.sent(),[4,this.doCollect()];case 2:return(e=t.sent())[ct]&&(vt.addConfig("aaid",e[ct]),vt.setIsTestDevice(),We.removeClientValue("HW_ha_isNewUser")),[2]}}))}))},e}()),pt=function(){function e(){}return e.parse=function(t){var n,i,r,o,a,s,c,u,l,d,p,h;if("function"==typeof URL)return new URL(t);var f={hash:"",host:"",hostname:"",href:"",origin:"",password:"",pathname:"",port:"",protocol:"",search:"",searchParams:new Map,username:""},g=t.match(/^(http:|https:)\/\/(.+[:][^/]+[@])?([^:/]+)([:]\d+)?([^#?]+)?([?])?([^#]+)?([#].+)?$/);return null==g||(g=g.map((function(e){return Ue(e)?"":e})),f.hash=null!==(n=e.parseHash(g))&&void 0!==n?n:"",f.host=null!==(i=e.parseHost(g))&&void 0!==i?i:"",f.hostname=null!==(r=e.parseHostName(g))&&void 0!==r?r:"",f.href=null!==(o=e.parseHref(g))&&void 0!==o?o:"",f.origin=null!==(a=e.parseOrigin(g))&&void 0!==a?a:"",f.password=null!==(s=e.parsePassword(g))&&void 0!==s?s:"",f.pathname=null!==(c=e.parsePathname(g))&&void 0!==c?c:"",f.port=null!==(u=e.parsePort(g))&&void 0!==u?u:"",f.protocol=null!==(l=e.parseProtocol(g))&&void 0!==l?l:"",f.search=null!==(d=e.parseSearch(g))&&void 0!==d?d:"",f.searchParams=null!==(p=e.parseSearchParams(g))&&void 0!==p?p:new Map,f.username=null!==(h=e.parseUsername(g))&&void 0!==h?h:""),f},e.parseHash=function(e){return e[8]},e.parseHost=function(e){return e[3]+e[4]},e.parseHostName=function(e){return e[3]},e.parseHref=function(e){return e[0]},e.parseOrigin=function(e){return e[1]+"//"+e[3]+e[4]},e.parsePassword=function(e){return Ue(e[2])?"":e[2].replace("@","").split(":")[1]},e.parsePathname=function(e){return e[5]},e.parsePort=function(e){return Ue(e[4])?"":e[4].replace(":","")},e.parseProtocol=function(e){return e[1]},e.parseSearch=function(e){return e[6]+e[7]},e.parseSearchParams=function(e){if(Ue(e[7]))return new Map;var t=e[7].split("&").map((function(e){return e.split("=")})),n=new Map;for(var i in t){var r=t[i];n.set(r[0],decodeURIComponent(r[1]))}return n},e.parseUsername=function(e){return Ue(e[2])?"":e[2].replace("@","").split(":")[0]},e}(),ht=new(function(){function e(){}return e.prototype.getPageIdByUrl=function(e){return e},e.prototype.removeParamValues=function(e,t){var n=this.getParams(t.urlParams),i=this.getParams(t.anchorParams),r=[],o=[];if(Object.prototype.hasOwnProperty.call(e.removeParams,"params")){var a=e.removeParams.params;for(var s in a)!0===a[s].removeValuesOnly?"search"===a[s].position?n[s]="":"anchor"===a[s].position?i[s]="":"both"===a[s].position&&(n[s]="",i[s]=""):"search"===a[s].position?r.push(s):"anchor"===a[s].position?o.push(s):"both"===a[s].position&&(r.push(s),o.push(s))}if(Ve(e.removeParams,"removeValuesOnly")&&!0===e.removeParams.removeValuesOnly){for(var s in n)-1===r.indexOf(s)&&(n[s]="");for(var s in i)-1===o.indexOf(s)&&(i[s]="")}return{urlParams:n,anchorParams:i}},e.prototype.generateParams=function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")},e.prototype.generatePageId=function(e){var t="";return e.protocol&&(t+=e.protocol+"//"),e.origin&&(t+=e.origin),e.path&&(t+=e.path),e.urlParams&&(t+="?"+e.urlParams),e.anchor&&(t+="#"+e.anchor,e.anchorParams&&(t+="?"+e.anchorParams)),t},e.prototype.matchUrlPatterns=function(e,t){var n=t.urlPatterns,i=t.urlSeparators,r=e;i="["+i+"]";var o=new RegExp(i);for(var a in n){for(var s=n[a],c=s.split(/\{\w+\}/g),u=0,l=0,d=!1;;){var p=r.indexOf(c[u],l);if(-1===p){d=!1;break}if(0===u&&0!==p){d=!1;break}if(l=p+c[u].length,c.length>=u&&l>r.length){d=!0;break}var h=r;c.length>u&&(h=c[u+1]);var f=r.indexOf(h,l);if(!(d=null===r.substr(l,f-l).match(o))){d=!1;break}if(u+1>=c.length){d=!0;break}u++}d&&(r=s)}return r},e.prototype.getUrlInfos=function(e){var t=pt.parse(e),n={};n.protocol=t.protocol,n.origin=t.host,n.path=t.pathname,n.urlParams=""===t.search?"":t.search.split("?")[1];var i=""===t.hash?"":t.hash.split("#")[1];return n.anchor=""===i?"":i.split("?")[0],n.anchorParams=""===i?"":i.split("?")[1],n},e.prototype.getParams=function(e){var t={};if(""===e||null==e)return t;var n=e.split("&");for(var i in n){var r={key:n[i].split("=")[0],value:n[i].split("=")[1]};t[r.key]=r.value}return t},e}());!function(e){e.OFF="OFF",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(Ge||(Ge={})),function(e){e.CN="CN",e.DE="DE",e.RU="RU",e.SG="SG"}(Ye||(Ye={})),function(e){e.ISFULLLEVEL="is_full_level",e.ISMEMBER="is_member",e.USERLEVEL="user_level"}(Be||(Be={}));var ft=new(function(){function e(){this.tag="TokenCollector",this.key=ut,this.cache=null}return e.prototype.doCollect=function(){return h(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return this.cache=this.cache||{},[4,It.hiAgcUtil.getToken(this.tag)];case 1:return(e=t.sent())&&(this.cache[this.key]=e),[2,this.cache]}}))}))},e.prototype.getToken=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.doCollect()];case 1:return e.sent(),[2,this.cache[ut]||""]}}))}))},e}()),gt=new function(){this.debugMode=!1,this.terminalName="",this.logDisabled=!1,this.logLevel=Ge.INFO,this.routePolicy=null},Et="Cannot find valid $1 from agconnect-service.json.",vt=new(function(){function e(){this.tag="GlobalSetting",this.clientConfig={},this.serverConfig={},this.externalConfig={},this.userProfiles={},this.prevScreenName="",this.currentScreenName="",this.reportType=-1,this.pageEntryTime=0,this.logLevel=Ge.INFO,this.urlClusteringOptions={},this.campaignPushInfo=null,this.isBackground=!1,this.eventUploadPolicy={}}return e.prototype.init=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return this.updateAnalyticsUrl(),[2]}))}))},e.prototype.initDebugMode=function(e,t){vt.addConfig(S,e),e&&t?((t=t.trim()).length>30&&(It.hiLog.warn(st,xe.code,xe.message,{$1:"terminalName",$2:30}),t=t.substring(0,30)),vt.addConfig(I,t)):vt.addConfig(I,"")},e.prototype.initLogLevel=function(e,t){e?vt.logLevel=Ge.OFF:Fe(Object.keys(Ge),t.toUpperCase())?vt.logLevel=t.toUpperCase():vt.logLevel=Ge.INFO},e.prototype.initDisableEvents=function(){return h(this,void 0,void 0,(function(){var e,t,n,i;return f(this,(function(r){switch(r.label){case 0:return[4,It.hiClient.isOnline()];case 1:return r.sent()?(e="",[4,vt.getHaSdkToken()]):[2];case 2:return(t=r.sent())?(n=It.hiEncryptSendData.generateDisableEventsHttpHeader({sdkToken:t}),(i={}).method="get",i.url=vt.getConfig("analyticsUrl")+"/analytics/api/events/online",It.hiEncryptSendData.getOnlineAndDisableEvents(e,n,i).then((function(e){e.disable_evts&&We.saveClientValue("HW_ha_disableEvents",e.disable_evts)})),[2]):[2]}}))}))},e.prototype.initServerOaidFlag=function(){return h(this,void 0,void 0,(function(){var e,t,n,i;return f(this,(function(r){switch(r.label){case 0:return vt.getRoutePolicy()!==Ye.DE?[2,!0]:Me(e=We.getClientValue("HW_ha_getConfigTime"))&&Date.now()-Number(e)<=864e5?(t=We.getClientValue(Pe)||"false",[2,Promise.resolve("true"===t)]):(n="",[4,vt.getHaSdkToken()]);case 1:return(i=r.sent())?[2,new Promise((function(e,t){var r=It.hiEncryptSendData.generateOaidFlagHttpHeader({sdkToken:i}),o={method:"get"};o.url=vt.getConfig("analyticsUrl")+"/analytics/api/config?config_key=oaid_flag",It.hiEncryptSendData.getServerOaidFlag(n,r,o).then((function(t){var n;We.saveClientValue("HW_ha_getConfigTime",String(Date.now()));var i=null!==(n=t.configList)&&void 0!==n?n:[],r=i[0]&&"true"===i[0].config_value;We.saveClientValue(Pe,String(r),864e5),e(r)})).catch((function(){We.saveClientValue(Pe,String(!1),864e5),e(!1)}))}))]:[2,!1]}}))}))},e.prototype.initPrevScreen=function(){for(var e,t=It.sendTask.eventModels.length-1;t>=0;t--){var n=It.sendTask.eventModels[t];if(n.event===$e.EXIT_SCREEN){e=n;break}}e&&this.setCurrentScreen(e.properties[K])},e.prototype.getAAID=function(){var e=this.getConfig(ct);return e||(It.hiLog.error(st,tt.code,tt.message),"")},e.prototype.getConfigs=function(){return Object.assign({},this.serverConfig,this.clientConfig,this.externalConfig)},e.prototype.getConfig=function(e){var t,n;return null!==(n=null!==(t=this.externalConfig[e])&&void 0!==t?t:this.clientConfig[e])&&void 0!==n?n:this.serverConfig[e]},e.prototype.addConfig=function(e,t){this.externalConfig[e]=t},e.prototype.removeConfig=function(e){delete this.externalConfig[e]},e.prototype.resolveTerminalName=function(){var e;return h(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){switch(i.label){case 0:return t="",this.getConfig(S)?0!==(t=null!==(e=this.getConfig(I))&&void 0!==e?e:"").length?[3,2]:[4,dt.getAaid()]:[3,2];case 1:(n=i.sent())&&(t=n.substring(0,8)),i.label=2;case 2:return[2,t]}}))}))},e.prototype.setUserProfile=function(e,t){if(it.checkString(st,"user name",e,Q)&&it.checkPattern(st,"user name",e,re))if(null!==t){if(it.checkString(st,"user value",t,Q))if(Ve(this.userProfiles,e))this.userProfiles[e]=t;else{var n=Object.keys(this.userProfiles).length+1;it.checkLength(st,"User Profile",n,ne)&&(this.userProfiles[e]=t)}}else delete this.userProfiles[e]},e.prototype.getUserProfiles=function(e){return h(this,void 0,void 0,(function(){var t,n,i,r;return f(this,(function(o){switch(o.label){case 0:return t={},e?(i=(n=Object).assign,r=[t],[4,It.hiClientProperty.generateUserCommonProperty()]):[3,2];case 1:return t=i.apply(n,r.concat([o.sent()])),[3,3];case 2:t=Object.assign(t,this.userProfiles),o.label=3;case 3:return[2,t]}}))}))},e.prototype.pageStart=function(e){if(it.checkString(st,"screenName",e,Q)){this.pageEntryTime=(new Date).getTime();var t={};t[F]=ht.getPageIdByUrl(this.currentScreenName),t[Y]=ht.getPageIdByUrl(e),t[G]=t[F],t[B]=t[Y],e!==this.currentScreenName&&(this.prevScreenName=this.currentScreenName,this.currentScreenName=e);At.onEvent($e.ENTER_SCREEN,t,{immediately:!1,isReserved:!0})}},e.prototype.setPrevScreenName=function(e){this.prevScreenName=e},e.prototype.setCurrentScreen=function(e){this.currentScreenName=e},e.prototype.setPageEntryTime=function(e){this.pageEntryTime=e},e.prototype.getPageEntryTime=function(){return this.pageEntryTime},e.prototype.pageEnd=function(e){if(it.checkString(st,"screenName",e,Q)&&this.getPageEntryTime()){var t=(new Date).getTime()-this.getPageEntryTime(),n={};n[x]=t,n[Y]=ht.getPageIdByUrl(e),n[B]=n[Y];At.onEvent($e.EXIT_SCREEN,n,{immediately:!1,isReserved:!0})}},e.prototype.setReportType=function(e){this.reportType=e},e.prototype.getReportType=function(){return this.reportType},e.prototype.generateClientKey=function(e){return("HW_"+e+"_"+this.getConfig("appId")).replace(/\./g,"_")},e.prototype.checkRoutePolicy=function(e){var t=It.hiAgcUtil.getConfig().service.analytics;if(!vt.getConfig(y))return It.hiLog.warn(st,"","Invalid routePolicy!"),!1;if(!we(t.collector_url,(function(t){null==t?!e&&It.hiLog.warn(st,Ke.code,"Cannot find valid service/analytics/collector_url from agconnect-service.json."):!e&&It.hiLog.warn(st,Ke.code,"Cannot find valid service/analytics/collector_url[$1] from agconnect-service.json.",{$1:t})})))return!1;if(vt.getConfig("routePolicyUsed")){var n=Object.keys(Ye),i=function(i){var r="collector_url_"+n[i].toLowerCase();if(!we(t[r],(function(n){null==n?e&&null!=t[r]||It.hiLog.warn(st,Ke.code,"Cannot find valid service/analytics/$1 from agconnect-service.json.",{$1:r}):e&&null!=t[r]||It.hiLog.warn(st,Ke.code,"Cannot find valid service/analytics/$1[$2] from agconnect-service.json.",{$1:r,$2:n})})))return{value:!1}};for(var r in n){var o=i(r);if("object"==typeof o)return o.value}}return!0},e.prototype.getHaSdkToken=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,ft.getToken()]}))}))},e.prototype.setRoutePolicy=function(e,t){return""===(e=(e=null!=e?e:"").toUpperCase())?vt.addConfig(y,"UNKNOWN"):Ve(Ye,e)?vt.addConfig(y,e):vt.addConfig(y,null),vt.addConfig("routePolicyUsed",""!==e),!!this.checkRoutePolicy(t)},e.prototype.getRoutePolicy=function(){var e,t=this.getConfig(y);return"UNKNOWN"===t?null!==(e=It.hiAgcUtil.getConfig().region)&&void 0!==e?e:"":t},e.prototype.updateAnalyticsUrl=function(){var e;return h(this,void 0,void 0,(function(){var t,n,i;return f(this,(function(r){switch(r.label){case 0:return t=this,[4,lt.syncCollect("serverConfig")];case 1:return t.serverConfig=r.sent(),n=this.serverConfig.analyticsUrl,null==(i=vt.getConfig(y))?n="":"UNKNOWN"!==i&&(n=null!==(e=this.serverConfig.collectorUrls[i.toUpperCase()])&&void 0!==e?e:""),vt.addConfig("analyticsUrl",n),It.hiSendData.setUrl(n),[2]}}))}))},e.prototype.checkAgcConfig=function(){var e,t,n,i,r,o,a=It.hiAgcUtil.getConfig();ke(null===(t=null===(e=null==a?void 0:a.service)||void 0===e?void 0:e.analytics)||void 0===t?void 0:t.resource_id)||It.hiLog.warn(st,"",Et,{$1:"service/analytics/resource_id"}),ke(null===(n=null==a?void 0:a.client)||void 0===n?void 0:n.product_id)||It.hiLog.warn(st,"",Et,{$1:"client/product_id"}),ke(null===(i=null==a?void 0:a.client)||void 0===i?void 0:i.app_id)||It.hiLog.warn(st,"",Et,{$1:"client/app_id"}),ke(null===(r=null==a?void 0:a.client)||void 0===r?void 0:r.client_id)||It.hiLog.warn(st,"",Et,{$1:"client/client_id"});var s=null===(o=null==a?void 0:a.client)||void 0===o?void 0:o.package_name;null==s||ke(s)||It.hiLog.warn(st,"",Et,{$1:"client/package_name"});var c=null==a?void 0:a.region;return null==c||ke(c)&&Ye[c]||It.hiLog.warn(st,"",Et,{$1:"region"}),vt.setRoutePolicy(gt.routePolicy,!1)},e.prototype.getNewUserFlag=function(){if("false"===We.getClientValue("HW_ha_isNewUser"))return 0;var e=Number(We.getClientValue("HW_ha_firstOpenTime")),t=new Date(e).toDateString()===(new Date).toDateString();return t||We.saveClientValue("HW_ha_isNewUser","false"),t?1:0},e.prototype.setIsTestDevice=function(){var e=vt.getConfig(S),t="true"===We.getClientValue("HW_ha_isTestDevice")||e?"true":"false";"true"===t&&We.saveClientValue("HW_ha_isTestDevice",t)},e.prototype.isTestDevice=function(){return"true"===We.getClientValue("HW_ha_isTestDevice")?1:0},e}()),Ct={ON_SCHEDULED_TIME_POLICY:5,ON_CACHE_THRESHOLD_POLICY:30},Tt=function(){function e(){this.reportPolicyDefault=Ct}return e.prototype.eventUploadPolicyLaunch=function(){It.sendTask.uploadData(!0,$e.LaunchApp)},e.prototype.eventUploadPolicyThreshold=function(){var e=this.getEventUploadPolicy();if(e.ON_CACHE_THRESHOLD_POLICY){if(e.ON_CACHE_THRESHOLD_POLICY<Te)return;if(e.ON_CACHE_THRESHOLD_POLICY>Se)return;It.sendTask.eventModels.filter((function(e){return e.event!==$e.STOP_ANALYTICS_COLLECTION&&e.sendState===de||e.sendState===fe})).length>=e.ON_CACHE_THRESHOLD_POLICY&&It.sendTask.uploadData(!1,"")}},e.prototype.eventUploadPolicyScheduleTime=function(){var e,t=this.getEventUploadPolicy();if(vt.getConfig(S))e=1e3;else{if(!t.ON_SCHEDULED_TIME_POLICY)return;if(t.ON_SCHEDULED_TIME_POLICY<ve)return;if(t.ON_SCHEDULED_TIME_POLICY>Ce)return;e=1e3*t.ON_SCHEDULED_TIME_POLICY}It.sendTask.setHeartbeatFunc(e)},e.prototype.eventUploadPolicyBackground=function(){},e.prototype.logUploadPolicyLaunch=function(){var e=this.getEventUploadPolicy();It.hiAutoReport.isLaunchUpload()&&e.ON_APP_LAUNCH_POLICY&&e.ON_APP_LAUNCH_POLICY>0&&It.sendLogTask.uploadData()},e.prototype.logUploadPolicyThreshold=function(){var e=this.getEventUploadPolicy();if(e.ON_CACHE_THRESHOLD_POLICY){if(e.ON_CACHE_THRESHOLD_POLICY<Te)return;if(e.ON_CACHE_THRESHOLD_POLICY>Se)return;It.sendLogTask.logRecords.filter((function(e){return e.sendState===de||e.sendState===fe})).length>=e.ON_CACHE_THRESHOLD_POLICY&&It.sendLogTask.uploadData()}},e.prototype.logUploadPolicyScheduleTime=function(){var e,t=this.getEventUploadPolicy();if(vt.getConfig(S))e=1e3;else{if(!t.ON_SCHEDULED_TIME_POLICY)return;if(t.ON_SCHEDULED_TIME_POLICY<ve)return;if(t.ON_SCHEDULED_TIME_POLICY>Ce)return;e=1e3*t.ON_SCHEDULED_TIME_POLICY}It.sendLogTask.setHeartbeatFunc(e)},e.prototype.logUploadPolicyBackground=function(){},e.prototype.getUploadMaxCount=function(){var e=this.getEventUploadPolicy();return-1===e.ON_CACHE_THRESHOLD_POLICY?300:Math.min(300,e.ON_CACHE_THRESHOLD_POLICY)},e.prototype.getEventUploadPolicy=function(){var e=We.getClientValue("HW_ha_eventUploadPolicy");return Ue(e)&&(e=this.reportPolicyDefault,We.saveClientValue("HW_ha_eventUploadPolicy",e)),e},e}();new Tt;var St=function(){function e(){}return e.prototype.queryAllModels=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,this.generateEventModels()]}))}))},e.prototype.queryModels=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(t){return[2,this.generateEventModels(void 0,e)]}))}))},e.prototype.saveModel=function(e,t){return h(this,void 0,void 0,(function(){var n,i;return f(this,(function(r){switch(r.label){case 0:return n=be(t,["sendState","collectionUrl","routePolicy"]),i=JSON.stringify(n),[4,It.hiDBStorage.saveClientValue(e,i,!0)];case 1:return r.sent(),[2]}}))}))},e.prototype.removeModel=function(e){It.hiDBStorage.removeItem(e,!0)},e.prototype.removeModels=function(e){It.hiDBStorage.removeItems(e,!0)},e.prototype.removeAllModels=function(){It.hiDBStorage.removeAllItems(!0)},e.prototype.generateEventModels=function(e,t){return h(this,void 0,void 0,(function(){var e,t,n,i,r,o;return f(this,(function(a){switch(a.label){case 0:return[4,It.hiDBStorage.getAllClientValue(!0)];case 1:for(e=a.sent(),t=[],n=0;n<e.length;n++)i=e[n],r=i,null!=(o=JSON.parse(r)).id&&t.push(o);return[2,t]}}))}))},e}(),yt=function(){function e(){}return e.prototype.getDatabase=function(){},e.prototype.getAllClientValue=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,Promise.resolve([""])]}))}))},e.prototype.getClientValues=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,Promise.resolve([""])]}))}))},e.prototype.getClientValue=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,Promise.resolve("")]}))}))},e.prototype.isKeyExist=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,Promise.resolve(!1)]}))}))},e.prototype.saveClientValue=function(e,t,n){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e.prototype.removeItem=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e.prototype.removeItems=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e.prototype.removeAllItems=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e}(),It=new(function(){function e(){this.hiAnalytics={},this.hiLog={},this.hiAutoReport={},this.hiEncryptSendData={},this.hiSendData={},this.hiClient={},this.hiClientProperty={},this.hiStorage={},this.hiDBStorage={},this.hiFileStorage={},this.hiMigration={},this.sendLogTask={},this.sendTask={},this.sendPolicy={},this.hiEncrypt={},this.hiKeyStore={},this.hiAgcUtil={},this.hiEventModelsAdapter={},this.setSendPolicy(new Tt),this.setHiEventModelsAdapter(new St),this.setHiDBStorage(new yt)}return e.prototype.setHiAnalytics=function(e){this.hiAnalytics=e},e.prototype.setHiLog=function(e){this.hiLog=e},e.prototype.setHiAutoReport=function(e){this.hiAutoReport=e},e.prototype.setHiEncryptSendData=function(e){this.hiEncryptSendData=e,this.setHiSendData(e)},e.prototype.setHiSendData=function(e){this.hiSendData=e},e.prototype.setHiClient=function(e){this.hiClient=e},e.prototype.setHiClientProperty=function(e){this.hiClientProperty=e},e.prototype.setHiStorage=function(e){this.hiStorage=e},e.prototype.setHiDBStorage=function(e){this.hiDBStorage=e},e.prototype.setHiFileStorage=function(e){this.hiFileStorage=e},e.prototype.setHiMigration=function(e){this.hiMigration=e},e.prototype.setSendLogTask=function(e){this.sendLogTask=e},e.prototype.setSendTask=function(e){this.sendTask=e},e.prototype.setSendPolicy=function(e){this.sendPolicy=e},e.prototype.setHiEncrypt=function(e){this.hiEncrypt=e},e.prototype.setHiKeyStore=function(e){this.hiKeyStore=e},e.prototype.setHiAgcUtil=function(e){this.hiAgcUtil=e},e.prototype.setHiEventModelsAdapter=function(e){this.hiEventModelsAdapter=e},e}()),At=new(function(){function e(){this.eventsReceived=[],this.initialized=!1,this.reportFlag=!0}return e.prototype.init=function(){var e=We.getClientValue(Ie);null==e||0===e.length?We.saveClientValue(Ie,String(this.reportFlag)):this.reportFlag=e===String(!0)},e.prototype.setAnalyticsEnabled=function(e){if(this.reportFlag!==e&&(this.reportFlag=e,We.saveClientValue(Ie,String(e)),!e)){var t=We.getClientValue(Ae);"true"!==t&&"false"!==t||We.saveClientValue(Ae,String(!0));var n=We.getClientValue(me);"true"!==n&&"false"!==n||We.saveClientValue(me,String(!0)),It.hiEventModelsAdapter.removeAllModels(),this.onEvent($e.STOP_ANALYTICS_COLLECTION,{},{isReserved:!0,forceReport:!0,immediately:!0})}},e.prototype.setRestrictionEnabled=function(e){if(this.reportFlag&&(We.saveClientValue(Ae,String(e)),e)){this.onEvent($e.STOP_ANALYTICS_COLLECTION,{},{isReserved:!0,forceReport:!0,immediately:!0});var t=We.getClientValue(me);"true"!==t&&"false"!==t||We.saveClientValue(me,String(e))}},e.prototype.isRestrictionEnabled=function(){var e=We.getClientValue(Ie),t=We.getClientValue(Ae);return""!==t?"true"===t:"true"!==e},e.prototype.setRestrictionShared=function(e){this.reportFlag?vt.getRoutePolicy()===Ye.CN?this.isRestrictionEnabled()?It.hiLog.warn(st,"","Cannot set restriction_shared because restriction_enabled is true!"):We.saveClientValue(me,String(e)):It.hiLog.warn(st,"","Cannot set restriction_shared because routePolicy is not CN!"):It.hiLog.warn(st,"","Cannot set restriction_shared because analytics_enabled is false!")},e.prototype.isRestrictionShared=function(){return vt.getRoutePolicy()!==Ye.CN||(!this.reportFlag||(vt.getRoutePolicy()!==Ye.CN||(!!this.isRestrictionEnabled()||"true"===We.getClientValue(me))))},e.prototype.checkEventLength=function(e){return!!it.checkString(st,"eventId",e,Q)},e.prototype.checkIsPredineEvents=function(e){var t=!1,n=Le;for(var i in n){if(e===n[i]){t=!0;break}}return t},e.prototype.getEventParams=function(e,t){void 0===t&&(t={});var n={};for(var i in this.putEventParams(n,t,e,!1),this.putEventParams(n,We.defaultEventParams,e,!0),n)null==n[i]&&delete n[i];var r=Object.keys(n);if(r.length>z){It.hiLog.warn(st,qe.code,qe.message,{$1:"Event",$2:z});for(var o=r.slice(z),a=0;a<o.length;a++){delete n[i=o[a]]}}return n},e.prototype.putEventParams=function(e,t,n,i){if(i&&n)return e;for(var r in t)i&&Ve(e,r)||it.checkString(st,"params key",r,Q)&&(n||it.checkPattern(st,"params key",r,oe))&&(e[r]=t[r]);return e},e.prototype.checkEventIsValid=function(e,t){return!!this.checkEventLength(e)&&(!(!t&&!it.checkReserve(st,"eventId",e,$e))&&(!!(this.checkIsPredineEvents(e)||t||it.checkPattern(st,"eventId",e,ie))&&(!this.isDisableEvent(e)||(It.hiLog.info("The event is disabled: "+e),!1))))},e.prototype.processEventsReceived=function(){var e=this;0!==this.eventsReceived.length&&(this.reportFlag?this.eventsReceived.forEach((function(t){var n=t.eventId,i=t.param,r=t.config;r.isReserved=_e.some((function(e){return e===n})),e.onEvent(n,i,r)})):It.hiLog.warn(st,Ze.code,Ze.message),this.eventsReceived.length=0)},e.prototype.onEventCallback=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),this.initialized?this.reportFlag?this.onEvent(e,t,n):It.hiLog.warn(st,Ze.code,Ze.message):(this.eventsReceived.length>=300&&(this.eventsReceived.length=0),this.eventsReceived.push({eventId:e,param:t,config:n}))},e.prototype.onEvent=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var i=n.isReserved||!1,r=n.forceReport||!1;if(this.checkEventIsValid(e,i)&&(r||it.checkSwitchIsOpen(st,this.reportFlag))){var o=this.getEventParams(i,t),a=ee/1024+"KB",s=JSON.stringify(o).length;if(it.checkExceedMaxSize(st,a,s,ee)){o.$TaskId="";var c={};c[W]=ht.getPageIdByUrl(vt.prevScreenName),c[K]=ht.getPageIdByUrl(vt.currentScreenName),this.putEventParams(o,c,i,!1);var u=n.eventtime||(new Date).getTime();It.sendTask.onEvent(e,o,"oper",u,n)}}},e.prototype.addDefaultEventParams=function(e){if(null!=e)if("object"==typeof e){var t={};for(var n in e){null==(i=e[n])?delete We.defaultEventParams[n]:t[n]=i}for(var n in t){var i=t[n];if(this.validateDefaultParam(n,i)){if(!Ve(We.defaultEventParams,n)){var r=Object.keys(We.defaultEventParams).length+1;if(!it.checkLength(st,"default event",r,Z))continue}We.defaultEventParams[n]=i}}}else It.hiLog.warn(st,Qe.code,Qe.message,{$1:"default event params"});else We.defaultEventParams={}},e.prototype.validateDefaultParam=function(e,t){return!!it.checkString(st,"default event params key",e,Q)&&(!!it.checkPattern(st,"default event params key",e,oe)&&(!("string"==typeof t&&t.length>Q)||(It.hiLog.warn(st,xe.code,xe.message,{$1:"default event params value",$2:Q}),!1)))},e.prototype.isDisableEvent=function(e){var t=We.getClientValue("HW_ha_disableEvents");return"object"==typeof t&&t instanceof Array&&-1!==t.indexOf(e)},e.prototype.writeLog=function(e,t){return h(this,void 0,void 0,(function(){var n,i,r,o,a,s,c,u,l,d;return f(this,(function(p){return null==e||Ue(t)?(It.hiLog.warn(st,Qe.code,Qe.message,{$1:null==e?"logConfig":"content"}),[2]):"string"!=typeof t?(It.hiLog.warn(st,Qe.code,Qe.message,{$1:"content"}),[2]):(n=e.region,i=e.projectId,r=e.groupId,o=e.streamId,a=e.tags,it.checkString(st,"region",n,q)&&it.checkString(st,"projectId",i,q)&&it.checkString(st,"groupId",r,q)&&it.checkString(st,"streamId",o,q)?(null!=a&&"object"==typeof a||(It.hiLog.warn(st,Qe.code,Qe.message,{$1:"tags"}),a={}),s={},(c=Object.entries(a||{}).filter((function(e){var t=e[0],n=e[1];return!!it.checkString(st,"tag key",t,j)&&(!!it.checkPattern(st,"tag key",t,re)&&!!it.checkString(st,"tag value",n,Q))}))).length>te&&It.hiLog.warn(st,qe.code,qe.message,{$1:"tags",$2:te}),c.slice(0,te).forEach((function(e){var t=e[0],n=e[1];s[t]=n})),t.length>X&&(It.hiLog.warn(st,xe.code,xe.message,{$1:"content",$2:X}),t=t.substring(0,X)),u=vt.getConfig(y),l=It.hiAgcUtil.getConfig().region||"",d={region:n,projectId:i,groupId:r,streamId:o,tags:s,id:He.create(),content:t,type:"maint",eventtime:(new Date).getTime(),collectionUrl:vt.getConfig("analyticsUrl"),routePolicy:"UNKNOWN"===u?l:u,sendState:le},It.sendLogTask.writeLog(d),[2]):[2])}))}))},e.prototype.onReport=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return It.sendTask.uploadData(!1,""),It.sendLogTask.uploadData(),[2]}))}))},e}()),mt=new(function(){function e(){this.userId="",this.clientId=""}return e.prototype.init=function(){},e.prototype.setUserId=function(e){var t=this.isValidUserId(e);t&&We.saveClientValue("HW_ha_existUserId",null!=e?Ee:ge),(e=t&&null!=e?String(e):"")!==this.userId&&We.handleSessionValue(),this.userId=e||""},e.prototype.isValidUserId=function(e){return null==e||("string"!=typeof e&&"number"!=typeof e?(It.hiLog.warn(st,"",Qe.message,{$1:"userId"}),!1):!!it.checkString(st,"userId",e,Q))},e.prototype.setSessionDuration=function(e){return e<ae.value&&(It.hiLog.warn(st,Xe.code,"session duration less than minimum $1.",{$1:ae.label}),e=ae.value),e>se.value&&(It.hiLog.warn(st,Xe.code,"session duration greater than maximum $1.",{$1:se.label}),e=se.value),We.setSessionDuration(e)},e.prototype.setBackgroundSessionDuration=function(e){return e<ae.value&&(It.hiLog.warn(st,Xe.code,"min session duration less than minimum $1.",{$1:ae.label}),e=ae.value),e>se.value&&(It.hiLog.warn(st,Xe.code,"min session duration greater than maximum $1.",{$1:se.label}),e=se.value),We.setBackgroundSessionDuration(e)},e.prototype.getUserInfo=function(e){var t=(void 0===e?{}:e).routePolicy,n=void 0===t?"":t;return h(this,void 0,void 0,(function(){var e,t,i,r,o,a,s,c,u,l,d,p;return f(this,(function(h){switch(h.label){case 0:return e=vt.getAAID(),[4,It.hiClient.getSystemOaidFlag()];case 1:return t=h.sent(),(r=t)?[4,It.hiClient.getClientOaidFlag()]:[3,3];case 2:r=h.sent(),h.label=3;case 3:return i=r,(a=t)?[4,It.hiClient.getServerOaidFlag(n)]:[3,5];case 4:a=h.sent(),h.label=5;case 5:return s={systemOaidFlag:t,clientOaidFlag:i,serverOaidFlag:o=a},u={aaid:e,userid:this.userId},[4,It.hiClientProperty.generateUserCommonProperty(s)];case 6:return u.properties=h.sent(),u.events_global_properties=vt.userProfiles,c=u,t&&i&&o?(l=c,[4,It.hiClient.getOaid()]):[3,9];case 7:return l.oaid=h.sent(),d=c,[4,It.hiClient.getOaidSource()];case 8:return d.oaid_source=h.sent(),[3,10];case 9:c.oaid="",c.oaid_source="",h.label=10;case 10:case 11:return[3,15];case 12:return(void 0).oaid=h.sent(),p=c,[4,It.hiClient.getOaidSource()];case 13:return p.oaid_source=h.sent(),[3,15];case 14:c.oaid="",c.oaid_source="",h.label=15;case 15:return[2,c]}}))}))},e}()),Pt=new(function(){function e(){this.autoReport={},this.hiStorage={},this.hiClient={}}return e.prototype.init=function(){this.autoReport=It.hiAutoReport,this.hiStorage=It.hiStorage,this.hiClient=It.hiClient},e.prototype.reportFirstOpenEvent=function(e){void 0===e&&(e=!1);var t={eventtime:We.getClientValue("HW_ha_firstOpenTime")||String((new Date).getTime()),immediately:!1,isReserved:!0},n={},i=e?"clearCachedData":It.hiClient.getStartType();null!=i&&(n[b]=i);var r=It.hiClient.getStartScene();null!=r&&(n[V]=r),At.onEvent($e.FIRST_OPEN,n,t)},e.prototype.reportLaunchAppEvent=function(e){void 0===e&&(e=!1);var t={},n=e?"clearCachedData":It.hiClient.getStartType();null!=n&&(t[b]=n);var i=It.hiClient.getStartScene();null!=i&&(t[V]=i),At.onEvent($e.LaunchApp,t,{immediately:!1,isReserved:!0})},e.prototype.reportPageEntryEvent=function(){this.reportPageEntryEventAsync()},e.prototype.reportPageEntryEventAsync=function(){return h(this,void 0,void 0,(function(){var e,t,n,i,r;return f(this,(function(o){switch(o.label){case 0:return[4,It.hiAnalytics.initPromise];case 1:return o.sent(),e={},t=(new Date).getTime(),vt.setPageEntryTime(t),n=vt.currentScreenName,i=It.hiClient.getHref(),vt.setPrevScreenName(vt.currentScreenName),vt.setCurrentScreen(i),e[F]=n,e[Y]=ht.getPageIdByUrl(i),e[G]=e[F],e[B]=e[Y],r={immediately:!1,isReserved:!0},At.onEvent($e.ENTER_SCREEN,e,r),[2]}}))}))},e.prototype.reportPageExitEvent=function(){var e=vt.getPageEntryTime();if(e){var t={},n=(new Date).getTime()-e;t[Y]=ht.getPageIdByUrl(vt.currentScreenName),t[B]=t[Y],t[x]=n;At.onEvent($e.EXIT_SCREEN,t,{immediately:!0,isReserved:!0})}},e.prototype.reportCampaignPushInfoEvent=function(){var e=vt.campaignPushInfo;if(e){var t={};t.$CampaignPushInfo=JSON.stringify(e),t.$JobId=e.jobId,t.$ActivityId=e.activityId;At.onEvent($e.CampaignPushClick,t,{immediately:!1,isReserved:!0})}},e.prototype.computeLoadTime=function(){},e.prototype.stateChanged=function(){},e}()),Nt=new(function(){function e(){this.eventListeners=[]}return e.prototype.addListener=function(e){this.eventListeners.push(e)},e.prototype.init=function(){return h(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:e=0,t=this.eventListeners,n.label=1;case 1:return e<t.length?[4,t[e].init()]:[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},e}()),Ot=new(function(){function e(){}return e.prototype.init=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(n){return e&&e.forEach((function(e){lt.register(e)})),t&&t.forEach((function(e){Nt.addListener(e)})),Nt.init(),[2]}))}))},e}()),Rt=new(function(){function e(){this.key="serverConfig",this.cache=null}return e.prototype.doCollect=function(){return h(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(i){if(!this.cache){for(n in e=It.hiAgcUtil.getConfig(),t={},Ye)t[n]=this.getUrl(e.service.analytics["collector_url_"+n.toLowerCase()]);this.cache={productId:e.client.product_id,appId:e.client.app_id,clientId:e.client.client_id,packageName:e.client.package_name||e.client.app_id,resourceId:e.service.analytics.resource_id,collectorUrls:t,analyticsUrl:this.getUrl(e.service.analytics.collector_url)}}return[2,this.cache]}))}))},e.prototype.getUrl=function(e){if(null!=e&&"string"!=typeof e)return"";var t=(null!=e?e:"").split(",")[0];return/^https?:\/\//.test(t)||(t="https://"+t),""!==t&&It.sendTask.isServerWebV3()&&(t+="/webv3"),t},e}()),Lt=new(function(){function e(){}return e.prototype.init=function(){Pt.init(),At.init()},e.prototype.onEvent=function(){},e}()),$t=new function(){this.enabled=!1,this.removeProtocol=!0,this.removeOrigin=!1,this.removeAllParams=!0,this.removeParams={removeValuesOnly:!0,params:{}},this.removeAnchor=!0,this.urlPatterns=[],this.urlSeparators=":/.?=&#"},_t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.reportInitEvents=function(t){e.prototype.reportInitEvents.call(this,t),this.registerKitSdk()},t.prototype.setCollectAdsIdEnabled=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),We.saveClientValue("HW_ha_clientOaidFlag",String(e)),[2]}}))}))},t.prototype.setRoutePolicy=function(t){return h(this,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,e.prototype.setRoutePolicy.call(this,t)];case 1:return n.sent(),this.refreshKitSdk(),[2]}}))}))},t.prototype.registerKitSdk=function(){var e={_restriction_enabled:We.getClientValue(Ae),_restriction_shared:We.getClientValue(me),region:vt.getRoutePolicy()},t={agcUrl:vt.getConfig(ue.ANALYTICS_URL),appid:vt.getConfig(ue.APP_ID),aaid:vt.getAAID(),pkgName:vt.getConfig(ue.PKG_NAME)||"",params:JSON.stringify(e)},n={uri:"hianalytics.analyticsEvtService",requestJson:JSON.stringify(t),transactId:"1",service_action:"",api_name:"hianalytics.API",subId:vt.getConfig(ue.APP_ID),api_level:1,kit_sdk_version:1,min_apk_version:1};_hw_hmscore_hms_js_base__WEBPACK_IMPORTED_MODULE_2__.hmsjsb.invoke({apiName:"bg.request",args:n,success:function(e){It.hiLog.info("registerKitSdk success")},fail:function(e){e.errCode,e.errMsg,It.hiLog.info("registerKitSdk fail")}})},t.prototype.refreshKitSdk=function(){var e={method:"setKitEnable",pkg_name:vt.getConfig(ue.PKG_NAME)||"","3rd_aaid":vt.getAAID(),app_id:vt.getConfig(ue.APP_ID),enable_collect:We.getClientValue(Ie),_restriction_enabled:We.getClientValue(Ae),_restriction_shared:We.getClientValue(me),_region:vt.getRoutePolicy()},t={uri:"hianalytics.analyticsInvokeService",requestJson:JSON.stringify(e),transactId:"1",service_action:"",api_name:"hianalytics.API",subId:vt.getConfig(ue.APP_ID),api_level:1,kit_sdk_version:1,min_apk_version:1};_hw_hmscore_hms_js_base__WEBPACK_IMPORTED_MODULE_2__.hmsjsb.invoke({apiName:"bg.request",args:t,success:function(e){It.hiLog.info("refreshKitSdk success")},fail:function(e){e.errCode,e.errMsg,It.hiLog.info("refreshKitSdk fail")}})},t}(function(){function e(e,t){var n=this;It.setHiAnalytics(this),this.preConfigPromise=this.preConfig(e,t),this.preStoragePromise=We.init(),this.initPromise=this.initSDK(e),this.initPromise.then((function(){It.hiLog.info("init success"),n.initDone()})).catch((function(e){It.hiLog.warn(st,et.code,et.message)}))}return e.prototype.preConfig=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,It.hiAgcUtil.init()];case 1:return e.sent(),vt.initDebugMode(gt.debugMode,gt.terminalName),vt.initLogLevel(gt.logDisabled,gt.logLevel),vt.urlClusteringOptions=JSON.parse(JSON.stringify($t)),vt.addConfig("launchAppTime",(new Date).getTime()),[2,vt.checkAgcConfig()]}}))}))},e.prototype.initDone=function(){At.initialized=!0,At.processEventsReceived(),It.sendPolicy.eventUploadPolicyScheduleTime(),It.sendPolicy.logUploadPolicyScheduleTime(),setTimeout((function(){It.sendPolicy.eventUploadPolicyLaunch(),It.sendPolicy.logUploadPolicyLaunch()}),50),setInterval((function(){It.sendPolicy.eventUploadPolicyThreshold(),It.sendPolicy.logUploadPolicyThreshold()}),1e3)},e.prototype.initSDK=function(e){return h(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(i){switch(i.label){case 0:return It.hiAutoReport.initAutoEvents(),[4,this.preConfigPromise];case 1:return i.sent()?[4,this.preStoragePromise]:[2,Promise.reject()];case 2:return i.sent(),We.handleSessionValue(),vt.campaignPushInfo=It.hiClient.getCampaignPushInfo(),[4,Ot.init([Rt,dt],[Lt])];case 3:return i.sent(),[4,vt.init()];case 4:return i.sent(),mt.init(),[4,It.sendTask.init()];case 5:return i.sent(),[4,It.sendLogTask.init()];case 6:return i.sent(),vt.initPrevScreen(),[4,lt.collect(ct)];case 7:return(e=i.sent())[ct]&&(vt.addConfig("aaid",e[ct]),vt.setIsTestDevice()),Ue(t=We.getClientValue(Ne))?(t="true",n=(new Date).getTime(),We.saveClientValue("HW_ha_firstOpenTime",String(n)),We.saveClientValue(Ne,t)):"true"===t&&(t="false",We.saveClientValue(Ne,t)),vt.getNewUserFlag(),this.reportInitEvents(t),[2]}}))}))},e.prototype.reportInitEvents=function(e){"true"===e&&Pt.reportFirstOpenEvent(),It.hiAutoReport.initEventTriggers()},e.prototype.destroySDK=function(){},e.prototype.setAnalyticsEnabled=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.setAnalyticsEnabled(e),[2]}}))}))},e.prototype.setRestrictionEnabled=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.setRestrictionEnabled(e),[2]}}))}))},e.prototype.isRestrictionEnabled=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),[2,At.isRestrictionEnabled()]}}))}))},e.prototype.setRestrictionShared=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.setRestrictionShared(e),[2]}}))}))},e.prototype.isRestrictionShared=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),[2,At.isRestrictionShared()]}}))}))},e.prototype.setUserId=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.reportFlag?(mt.setUserId(e),[2]):[2]}}))}))},e.prototype.setUserProfile=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),At.reportFlag?(vt.setUserProfile(e,t),[2]):[2]}}))}))},e.prototype.getUserProfiles=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.reportFlag?[2,vt.getUserProfiles(e)]:[2,{}]}}))}))},e.prototype.pageStart=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.reportFlag?(vt.pageStart(e),[2]):[2]}}))}))},e.prototype.pageEnd=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.reportFlag?(vt.pageEnd(e),[2]):[2]}}))}))},e.prototype.setSessionDuration=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.preConfigPromise];case 1:return t.sent(),At.reportFlag?(Number.isInteger(e)&&mt.setSessionDuration(e),[2]):[2]}}))}))},e.prototype.onEvent=function(e,t){return h(this,void 0,void 0,(function(){var n;return f(this,(function(i){switch(i.label){case 0:return[4,this.initPromise];case 1:return i.sent(),At.reportFlag?(n={isReserved:_e.some((function(t){return t===e}))},At.onEvent(e,t,n),[2]):(It.hiLog.warn(st,Ze.code,Ze.message),[2])}}))}))},e.prototype.setAppVersion=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.preConfigPromise];case 1:return t.sent(),At.reportFlag?it.checkString(st,"app version",e,J)?(vt.addConfig("appVersion",e),[2]):[2]:[2]}}))}))},e.prototype.getAAID=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.initPromise];case 1:return e.sent(),[2,vt.getAAID()]}}))}))},e.prototype.addDefaultEventParams=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.initPromise];case 1:return t.sent(),At.reportFlag?(At.addDefaultEventParams(e),[2]):[2]}}))}))},e.prototype.writeLog=function(e,t){return h(this,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),At.reportFlag?(At.writeLog(e,t),[2]):(It.hiLog.warn(st,Ze.code,Ze.message),[2])}}))}))},e.prototype.setRoutePolicy=function(e){return h(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){switch(i.label){case 0:return[4,this.initPromise];case 1:return i.sent(),t=vt.getRoutePolicy(),vt.setRoutePolicy(e),n=vt.getRoutePolicy(),t===n?[2]:(At.reportFlag||It.sendTask.clearData(t),[4,vt.updateAnalyticsUrl()]);case 2:return i.sent(),[2]}}))}))},e.prototype.setReportPolicies=function(e){return h(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this.preConfigPromise];case 1:return n.sent(),t={},"number"!=typeof e.ON_SCHEDULED_TIME_POLICY?t.ON_SCHEDULED_TIME_POLICY=Ct.ON_SCHEDULED_TIME_POLICY:e.ON_SCHEDULED_TIME_POLICY<ve?t.ON_SCHEDULED_TIME_POLICY=ve:e.ON_SCHEDULED_TIME_POLICY>Ce?t.ON_SCHEDULED_TIME_POLICY=Ce:t.ON_SCHEDULED_TIME_POLICY=e.ON_SCHEDULED_TIME_POLICY,"number"!=typeof e.ON_CACHE_THRESHOLD_POLICY?t.ON_CACHE_THRESHOLD_POLICY=Ct.ON_CACHE_THRESHOLD_POLICY:e.ON_CACHE_THRESHOLD_POLICY<Te?t.ON_CACHE_THRESHOLD_POLICY=Te:e.ON_CACHE_THRESHOLD_POLICY>Se?t.ON_CACHE_THRESHOLD_POLICY=Se:t.ON_CACHE_THRESHOLD_POLICY=e.ON_CACHE_THRESHOLD_POLICY,We.saveClientValue("HW_ha_eventUploadPolicy",t),[2]}}))}))},e.prototype.onReport=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.preConfigPromise];case 1:return e.sent(),[2,At.onReport()]}}))}))},e}()),Dt=function(e,t,n,i){i&&(i.$1&&(n=n.replace("$1",i.$1)),i.$2&&(n=n.replace("$2",i.$2)));var r=[];return e&&r.push(e),t&&r.push(t),n&&r.push(n),Ut+" => "+r.join("|")},Ut="OpennessSDK",Mt=new(function(){function e(){}return e.prototype.info=function(e,t){if(Fe(this.generateLevels(vt.logLevel),Ge.INFO)){var n=Dt(null,null,e,t);this.printInfo(n)}},e.prototype.warn=function(e,t,n,i){if(Fe(this.generateLevels(vt.logLevel),Ge.WARN)){var r=Dt(e,t,n,i);this.printWarn(r),i&&i.$error&&this.printError(i.$error)}},e.prototype.error=function(e,t,n,i){if(Fe(this.generateLevels(vt.logLevel),Ge.ERROR)){var r=Dt(e,t,n,i);this.printError(r),i&&i.$error&&this.printError(i.$error)}},e.prototype.generateLevels=function(e){return e===Ge.INFO?[Ge.INFO,Ge.WARN,Ge.ERROR]:e===Ge.WARN?[Ge.WARN,Ge.ERROR]:e===Ge.ERROR?[Ge.ERROR]:[]},e.prototype.printInfo=function(e){console.info(e)},e.prototype.printWarn=function(e){console.warn(e)},e.prototype.printError=function(e){console.error(e)},e}()),kt=new(function(){function e(){}return e.prototype.initAutoEvents=function(){},e.prototype.initEventTriggers=function(){this.scheduleCheckAddShortcutState(),Pt.reportLaunchAppEvent(),Pt.reportCampaignPushInfoEvent()},e.prototype.scheduleCheckAddShortcutState=function(){if("function"==typeof r.hasInstalled){clearInterval(this.scheduleId);var e=this.getStorageExistShortcut();e?"1"===e&&this.submitAddQuickAppEvent():(this.checkState(),this.scheduleCheckState())}},e.prototype.scheduleCheckState=function(){var e=this;this.getCheckInfo().isCheck&&(this.scheduleId=setInterval((function(){e.checkState()}),3e5))},e.prototype.checkState=function(){var e=this,t=this.getCheckInfo(),n=t.isCheck,i=t.checkCount;n?(r.hasInstalled({success:function(t){t&&(We.saveClientValue("HW_ha_existShortcut","1"),e.submitAddQuickAppEvent(),clearInterval(e.scheduleId))}}),vt.addConfig("checkAddShortcutCount",i+1)):clearInterval(this.scheduleId)},e.prototype.getCheckInfo=function(){var e=vt.getConfig("checkAddShortcutCount")||0;return{isCheck:e<4,checkCount:e}},e.prototype.submitAddQuickAppEvent=function(){if(!It.sendTask.eventModels.find((function(e){return e.event===$e.ADD_QUICK_APP}))){At.onEvent($e.ADD_QUICK_APP,{},{immediately:!1,isReserved:!0})}},e.prototype.updateAddShortcutState=function(){We.saveClientValue("HW_ha_existShortcut","2")},e.prototype.getStorageExistShortcut=function(){return We.getClientValue("HW_ha_existShortcut")},e.prototype.isLaunchUpload=function(){return!1},e}()),wt=new(function(){function e(){this.url=""}return e.prototype.onEvent=function(e,t,n){var i=this;return new Promise((function(r,a){var s=(null==n?void 0:n.url)||i.url;o({url:s,method:"POST",data:JSON.stringify(e),success:function(e){var t=e&&e.code||200;t>=200&&t<300?r():a("resultCode: "+t)},fail:function(e){return a(e)},header:t})}))},e.prototype.setUrl=function(e){this.url=e},e}());var Ht=new(function(){function e(){}return e.prototype.getReferrer=function(){return""},e.prototype.getHref=function(){return""},e.prototype.getHost=function(){return""},e.prototype.getDefaultTitle=function(){return""},e.prototype.getUAType=function(){return 0},e.prototype.getStartType=function(){return((a.getInfo()||{}).source||{}).packageName||""},e.prototype.getStartScene=function(){var e=(a.getInfo()||{}).source||{},t=e.type||"";return"shortcut"===t?t+"-"+((e.extra||{}).scene||""):t},e.prototype.getLibType=function(){return"quickApp"},e.prototype.getOaid=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,new Promise((function(e,t){if("function"!=typeof s.getOAID)return e("");s.getOAID({success:function(t){e(t&&t.oaid||"")},fail:function(e,n){It.hiLog.warn(Ut,"","getOAID fail, code: "+n+", message: "+e),t(e)}})}))]}))}))},e.prototype.getOaidSource=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,Promise.resolve("oaid")]}))}))},e.prototype.getClientOaidFlag=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,It.hiAnalytics.preStoragePromise];case 1:return e.sent(),[2,"true"===(We.getClientValue("HW_ha_clientOaidFlag")||"true")]}}))}))},e.prototype.getSystemOaidFlag=function(){return h(this,void 0,void 0,(function(){var e;return f(this,(function(t){return null==s.allowTrackOAID?[2,!1]:(e=!s.allowTrackOAID,[2,Promise.resolve(e)])}))}))},e.prototype.getServerOaidFlag=function(e){return h(this,void 0,void 0,(function(){var t,n,i,r,a;return f(this,(function(s){switch(s.label){case 0:return[4,It.hiAnalytics.preStoragePromise];case 1:return s.sent(),[4,Rt.doCollect()];case 2:return s.sent(),t=It.hiAgcUtil.getConfig(),n=t.region,(e=null!=e?e:vt.getRoutePolicy())!==Ye.DE?[3,5]:Me(i=We.getClientValue("HW_ha_getConfigTime"))&&Date.now()-Number(i)<=864e5?(r=We.getClientValue(Pe)||"false",[2,Promise.resolve("true"===r)]):[4,vt.getHaSdkToken()];case 3:return(a=s.sent())?[4,new Promise((function(e,i){var r,s,c="";if(n===Ye.DE&&(c=(null!==(r=t.service.analytics.collector_url)&&void 0!==r?r:"").split(",")[0]),Ue(c)&&(c=(null!==(s=t.service.analytics.collector_url_de)&&void 0!==s?s:"").split(",")[0]),Ue(c))e({oaidFlag:!1});else{var u="https://"+c+"/analytics/api/config?config_key=oaid_flag",l={};l[k]=vt.getConfig("clientId"),l[M]=vt.getConfig("productId"),l[U]=vt.getConfig("resourceId"),l[_]=a,l[A]=vt.getConfig("appId"),o({url:u,method:"GET",header:l,success:function(t){var n=!1,i=t&&t.code||200;if(i>=200&&i<300){var r=JSON.parse(t.data);if("0"===r.result_code){We.saveClientValue("HW_ha_getConfigTime",String(Date.now()));var o=r.configList||[];n=o[0]&&"true"===o[0].config_value||!1}}We.saveClientValue(Pe,String(n)),e({oaidFlag:n})},fail:function(){We.saveClientValue(Pe,"false"),e({oaidFlag:!1})}})}}))]:[2,Promise.resolve(!1)];case 4:return[2,s.sent().oaidFlag];case 5:return[2,Promise.resolve(!0)]}}))}))},e.prototype.getCampaignPushInfo=function(){return null},e.prototype.isOnline=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,!0]}))}))},e}());var bt=new(function(){function e(){}return e.prototype.generateUserCommonProperty=function(e){var t,n,i,r,o,c;return h(this,void 0,void 0,(function(){var u,l,d,p,h,g,E,v,C,T,S,y,I,A;return f(this,(function(f){switch(f.label){case 0:return null===(t=null==e?void 0:e.systemOaidFlag)||void 0===t?[3,1]:(l=t,[3,3]);case 1:return[4,It.hiClient.getSystemOaidFlag()];case 2:l=f.sent(),f.label=3;case 3:return u=l,null===(n=null==e?void 0:e.clientOaidFlag)||void 0===n?[3,4]:(p=n,[3,7]);case 4:return(h=u)?[4,It.hiClient.getClientOaidFlag()]:[3,6];case 5:h=f.sent(),f.label=6;case 6:p=h,f.label=7;case 7:return d=p,null===(i=null==e?void 0:e.serverOaidFlag)||void 0===i?[3,8]:(E=i,[3,11]);case 8:return(v=u)?[4,It.hiClient.getServerOaidFlag()]:[3,10];case 9:v=f.sent(),f.label=10;case 10:E=v,f.label=11;case 11:return g=E,C=d&&g?String(u):"",this.immutableProperties?[3,13]:(T=a.getInfo(),[4,new Promise((function(e,t){s.getInfo({success:function(t){e(t)},fail:function(e,n){It.hiLog.warn(Ut,"","getInfo fail, code: "+n+", message: "+e),t(e)}})}))]);case 12:S=f.sent(),y=null!==(o=null!==(r=S.characteristics)&&void 0!==r?r:S.deviceType)&&void 0!==o?o:"",this.immutableProperties={_model:S.model,_lib_ver:"6.10.0-301",_lib_name:"hianalytics",_lib_type:It.hiClient.getLibType(),_sys_language:S.language,_os:S.osType,_os_ver:S.osVersionName,_screen_height:S.screenHeight,_screen_width:S.screenWidth,_first_open_time:We.getClientValue("HW_ha_firstOpenTime"),_is_testdevice:vt.isTestDevice(),_device_category:y.split(",").map((function(e){return""!==e?"quickAPP."+e:e})).join("|"),_package_name:null!==(c=It.hiAgcUtil.getConfig().client.package_name)&&void 0!==c?c:T.packageName},f.label=13;case 13:return A={_new_user_flag:vt.getNewUserFlag(),_signed:Number(We.getClientValue("HW_ha_existUserId")||ge),_restriction_enabled:String(At.isRestrictionEnabled())},[4,vt.resolveTerminalName()];case 14:return A._terminal_name=f.sent(),A._app_ver=vt.getConfig("appVersion")||"1.0.0",A._oaid_tracking_flag=C,I=A,vt.getRoutePolicy()===Ye.CN&&(I._restriction_shared=String(At.isRestrictionShared())),[2,Object.assign(I,this.immutableProperties)]}}))}))},e}());function Vt(e){return new Promise((function(t,n){c.get({key:e,success:function(e){t(e)},fail:function(t,i){It.hiLog.warn(Ut,"","getClientValue fail, key: "+e+", code: "+i+", message: "+t),n(new Error("get from storage failed"))}})}))}function Ft(e,t){return new Promise((function(n,i){c.set({key:e,value:t,success:function(){n()},fail:function(t,n){It.hiLog.warn(Ut,"","saveClientValue fail, key: "+e+", code: "+n+", message: "+t),i(new Error("save to storage failed"))}})}))}function Gt(e){return new Promise((function(t,n){c.delete({key:e,success:function(){t()},fail:function(t,i){It.hiLog.warn(Ut,"","removeItem fail, key: "+e+", code: "+i+", message: "+t),n(new Error("delete from storage failed"))}})}))}var Yt=new(function(){function e(){this.sessionDuration=18e5,this.sessionValue=""}return e.prototype.getClientValue=function(e){return h(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this.getSavedObject(e)];case 1:return t=n.sent(),0===Object.keys(t).length?[2,Promise.resolve("")]:[2,Promise.resolve(t.value)]}}))}))},e.prototype.getSavedObject=function(e){return h(this,void 0,void 0,(function(){var t,n,i=this;return f(this,(function(r){switch(r.label){case 0:return[4,Vt(e)];case 1:return(t=r.sent())&&We.isValidStoredItem(t,(function(){return h(i,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Vt(e)];case 1:return t.sent()?[4,Gt(e)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))?"object"!=typeof(n=JSON.parse(t))?[2,Promise.resolve({})]:[2,Promise.resolve(n)]:[2,Promise.resolve({})]}}))}))},e.prototype.getSavedString=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){return[2,Vt(e)]}))}))},e.prototype.isKeyExist=function(e){return h(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this.getClientValue(e)];case 1:return t=n.sent(),[2,Promise.resolve(!!t)]}}))}))},e.prototype.saveClientValue=function(e,t,n){return h(this,void 0,void 0,(function(){var i;return f(this,(function(r){switch(r.label){case 0:return i=We.makeExpiryTime(n),[4,Ft(e,JSON.stringify({value:t,expiryTime:i}))];case 1:return r.sent(),[2]}}))}))},e.prototype.removeItem=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.getClientValue(e)];case 1:return""!==t.sent()&&Gt(e),[2]}}))}))},e}()),Bt=function(){function e(e){this.type="",this.event="",this.properties={},this.eventtime=0,this.event_session_name="",this.first_session_event="",this.id="",this.sendState=le,this.collectionUrl="",this.routePolicy="",this.id=null!=e?e:He.create()}return e.toMemoryEventModel=function(e){return be(e,["properties","eventtime","event_session_name","first_session_event"])},e.toStorageEventModel=function(e){return be(e,["sendState"])},e}(),Wt=new(function(){function e(){this.headAppId="",this.timestamp=0,this.serviceTag=H,this.serviceId="hmshioperqrt",this.reqID="",this.productId=""}return e.prototype.setHeadAppId=function(e){this.headAppId=e},e.prototype.setTimestamp=function(e){this.timestamp=e},e.prototype.setServiceTag=function(e){this.serviceTag=e},e.prototype.setServiceId=function(e){this.serviceId=e},e.prototype.setReqID=function(e){this.reqID=e},e.prototype.setProductId=function(e){this.productId=e},e.prototype.getEventHead=function(){return{protocol_version:"1",serviceid:this.serviceId,appid:this.headAppId,timestamp:this.timestamp,servicetag:this.serviceTag,requestid:this.reqID,productid:this.productId}},e}());var Kt,xt,jt=rt,Jt=ot,qt=at,Qt=function(){function e(){this.sessionFlag="",this.eventUploadData={},this.isInit=!1}return e.prototype.getEvent=function(e,t,n,i,r){var o,a,s,c=new Bt;c.properties=t,c.event=e,c.eventtime=i,c.type=n,c.first_session_event=String(!this.isInit),c.event_session_name=(Ue(s=We.getSessionValue())&&(We.handleSessionValue(!0,!1),s=We.getSessionValue()),s),c.sendState=de,c.collectionUrl=null!==(o=r.url)&&void 0!==o?o:vt.getConfig("analyticsUrl");var u=null!==(a=r.region)&&void 0!==a?a:vt.getConfig(y),l=It.hiAgcUtil.getConfig().region||"";c.routePolicy="UNKNOWN"===u?l:u;var d=It.hiAgcUtil.getABTestProvider();if(d){var p=c,h={tag:st,type:n,source:T};d.onEvent(e,p,h)}return this.isInit||(this.isInit=!0),c},e.prototype.generateHttpHeader=function(e){var t=void 0===e?{}:e,n=t.reqId,i=void 0===n?"":n,r=t.logRegion,o=void 0===r?"":r,a=t.sdkToken,s=void 0===a?"":a,c=t.supportDebugMode,u=void 0===c||c,l={};return l[A]=vt.getConfig("appId"),l[M]=vt.getConfig("productId"),l[U]=vt.getConfig("resourceId"),l[m]=jt,l[N]=Jt,l[O]=o?w:H,l[R]=vt.getConfig("packageName"),l[L]=i,l[P]=qt,l[k]=vt.getConfig("clientId"),o&&(l[D]=encodeURIComponent(o)),u&&(l[$]=String(vt.getConfig(S))),l[_]=s,l},e.prototype.generateEventUploadData=function(e,t){var n;return h(this,void 0,void 0,(function(){var i,r,o,a;return f(this,(function(s){switch(s.label){case 0:return Wt.setHeadAppId(vt.getConfig("appId")),Wt.setProductId(vt.getConfig("productId")),Wt.setTimestamp((new Date).getTime()),Wt.setReqID(t),i=Wt.getEventHead(),(r={})[C]=e.map((function(e){return be(e,["id","sendState","collectionUrl","routePolicy"])})),o=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.routePolicy,[4,mt.getUserInfo({routePolicy:o})];case 1:return a=s.sent(),r[v]=a,this.eventUploadData[E]=i,this.eventUploadData[T]=r,[2,this.eventUploadData]}}))}))},e.prototype.generateLogPayload=function(e,t){var n={protocol_version:"1",serviceid:"hmshimaintqrt",appid:vt.getConfig("appId"),timestamp:(new Date).getTime(),servicetag:w,requestid:t,productid:vt.getConfig("productId")},i=[];return e.forEach((function(e){var t,n,r=i.find((function(t){var n=t.events_common;return n.projectId===e.projectId&&n.groupId===e.groupId&&n.streamId===e.streamId}));r?(r.events_common.tags=e.tags,r.events.push({eventtime:String(e.eventtime),event:"$WriteLog",properties:(t={},t[G]=ht.getPageIdByUrl(vt.prevScreenName),t[B]=ht.getPageIdByUrl(vt.currentScreenName),t.$Content=e.content,t)})):i.push({events_common:{projectId:e.projectId,groupId:e.groupId,streamId:e.streamId,tags:e.tags},events:[{eventtime:String(e.eventtime),event:"$WriteLog",properties:(n={},n[G]=ht.getPageIdByUrl(vt.prevScreenName),n[B]=ht.getPageIdByUrl(vt.currentScreenName),n.$Content=e.content,n)}]})})),{header:n,event:i}},e.prototype.getUploadEventModels=function(e,t){var n;n=e===$e.STOP_ANALYTICS_COLLECTION?It.sendTask.eventModels.filter((function(e){return e.event===$e.STOP_ANALYTICS_COLLECTION&&e.sendState===de})):e===$e.LaunchApp?t?It.sendTask.eventModels.filter((function(e){var t=e.sendState===de,n=e.sendState===fe;return-1!=[$e.LaunchApp,$e.FIRST_OPEN,$e.ENTER_SCREEN,$e.EXIT_SCREEN].indexOf(e.event)&&(t||n)})):It.sendTask.eventModels.filter((function(t){var n=t.sendState===de,i=t.sendState===fe,r=t.event!==$e.STOP_ANALYTICS_COLLECTION;return t.event===e&&(r&&n||i)})):t?It.sendTask.eventModels.filter((function(t){var n=t.sendState===de,i=t.sendState===fe,r=t.event!==$e.STOP_ANALYTICS_COLLECTION;return t.event===e&&(r&&n||i)})):It.sendTask.eventModels.filter((function(e){var t=e.sendState===de,n=e.sendState===fe;return e.event!==$e.STOP_ANALYTICS_COLLECTION&&t||n}));var i=vt.getConfig("analyticsUrl"),r="",o=n.filter((function(e){var t=e.collectionUrl,n=t!==i&&(""===r||t===r);return n&&""===r&&(r=e.collectionUrl),n}));return o.length>0&&(n=o),n=n.filter((function(e){var t=!0;return At.isDisableEvent(e.event)&&(t=!1,It.sendTask.eventModels=It.sendTask.eventModels.filter((function(t){return t.id!==e.id})),It.hiEventModelsAdapter.removeModel(e.id)),t}))},e.prototype.getUploadLogModels=function(){var e=It.sendLogTask.logRecords.filter((function(e){return e.sendState===de||e.sendState===fe})),t=vt.getConfig("analyticsUrl"),n="",i=e.filter((function(e){var i=e.collectionUrl!==t&&(""===n||e.collectionUrl===n);return i&&""===n&&(n=e.collectionUrl),i}));return i.length>0&&(e=i),e},e}(),Xt=!1,zt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.doEventSendDone=function(e,t){e.forEach((function(e){e.event===$e.ADD_QUICK_APP&&kt.updateAddShortcutState()}))},t}(function(){function e(){this.eventModels=[],this.upLoadService=new Qt}return e.prototype.init=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e.prototype.uploadData=function(e,t){return void 0===e&&(e=!1),h(this,void 0,void 0,(function(){var n,i,r,o,a,s,c,u=this;return f(this,(function(l){switch(l.label){case 0:return[4,It.hiClient.isOnline()];case 1:return l.sent()&&(At.reportFlag||e&&t===$e.STOP_ANALYTICS_COLLECTION)?0===this.eventModels.length?[2]:[4,this.getAaidAndAuthInfo()]:[2];case 2:return n=l.sent(),i=n.isValid,n.aaid,r=n.authInfo,i&&r?[4,this.generateFinalUploadInfos(e,t,r)]:[2];case 3:if(0===(o=l.sent()).length)return[2];for(a=function(t){0===t?s.sendEventData(e,o[t]):setTimeout((function(){u.sendEventData(e,o[t])}),200*t)},s=this,c=0;c<o.length;c++)a(c);return[2]}}))}))},e.prototype.sendEventData=function(e,t){var n=this,i=t.finalUploadEventData,r=t.uploadEventDataEventModels,o=t.isOtherCollectionUrl,a=t.config,s=t.uploadDataHeader;It.hiSendData.onEvent(i,s,a).then((function(t){It.hiLog.info("resultCode: 200"),n.setEventModelsStatus(r,he),n.doEventSendDone(r,e),n.eventModels=n.eventModels.filter((function(e){return e.sendState!==he}))})).catch((function(){n.setEventModelsStatus(r,fe),n.doEventSendFail(r,o),(o||vt.getConfig(S))&&(n.eventModels=n.eventModels.filter((function(e){return e.sendState!==fe})))}))},e.prototype.chunkEventModels=function(e){for(var t=[],n=It.sendPolicy.getUploadMaxCount(),i=Math.ceil(e.length/n),r=0;r<i;r++){var o=e.slice(r*n,(r+1)*n);t.push(o)}return t},e.prototype.generateFinalUploadInfos=function(e,t,n){return void 0===e&&(e=!1),h(this,void 0,void 0,(function(){var i,r,o,a,s,c,u,l,d,p,h,g,E;return f(this,(function(f){switch(f.label){case 0:if(i=[],0===(r=this.upLoadService.getUploadEventModels(t,e)).length)return[2,i];o=this.backupEventModelStatus(r),this.setEventModelsStatus(r,pe),"",a=this.upLoadService.generateHttpHeader({reqId:"",sdkToken:n}),s=this.chunkEventModels(r),c=0,f.label=1;case 1:return c<s.length?[4,this.getUploadEventDataEventModels(s[c])]:[3,6];case 2:return u=f.sent(),this.revertEventModelStatus(u,s[c],o),l=u[0],d=vt.getConfig("analyticsUrl")!==l.collectionUrl,p={mode:vt.getReportType(),url:l.collectionUrl,async:!e},h=He.create(),[4,this.upLoadService.generateEventUploadData(u,h)];case 3:return g=f.sent(),this.uploadDataAppendEventHeader(g,l),[4,this.generateFinalUploadEventData(g)];case 4:if("string"==typeof(E=f.sent())&&Ue(E))return[3,5];a[L]=h,i.push(be({finalUploadEventData:E,uploadEventDataEventModels:u,config:p,isOtherCollectionUrl:d,uploadDataHeader:a})),f.label=5;case 5:return c++,[3,1];case 6:return[2,i]}}))}))},e.prototype.backupEventModelStatus=function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];t[i.id]=i.sendState}return t},e.prototype.revertEventModelStatus=function(e,t,n){if(e.length!==t.length)for(var i=e.map((function(e){return e.id})),r=0;r<t.length;r++){var o=t[r];-1===i.indexOf(o.id)&&this.setEventModelsStatus([o],n[o.id])}},e.prototype.getUploadEventDataEventModels=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){return[2,e]}))}))},e.prototype.getAaidAndAuthInfo=function(){return h(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(i){switch(i.label){case 0:return(e=vt.getAAID())?[3,2]:[4,lt.collect(ct)];case 1:if(!(t=i.sent())[ct])return[2,{isValid:!1}];vt.addConfig("aaid",t[ct]),vt.setIsTestDevice(),e=vt.getAAID(),i.label=2;case 2:return[4,vt.getHaSdkToken()];case 3:return(n=i.sent())?[2,{aaid:e,authInfo:n,isValid:!0}]:[2,{isValid:!1}]}}))}))},e.prototype.uploadDataAppendEventHeader=function(e,t){},e.prototype.generateFinalUploadEventData=function(e){return h(this,void 0,void 0,(function(){return f(this,(function(t){return[2,e]}))}))},e.prototype.doEventSendDone=function(e,t){},e.prototype.doEventSendFail=function(e,t){},e.prototype.dtmProcessAspect=function(e,t,n){return!1},e.prototype.onEvent=function(e,t,n,i,r){var o,a=this;void 0===r&&(r={}),t=t||{};var s=r.immediately||!1;if(!this.dtmProcessAspect(e,t,r)&&""!==(null!==(o=r.url)&&void 0!==o?o:vt.getConfig("analyticsUrl"))){var c=this.upLoadService.getEvent(e,t,n,i,r);this.pushEventModel(c);var u=this.saveEventModel(c);s&&u.then((function(){a.uploadData(s,e).then((function(e){})).catch((function(e){}))}))}},e.prototype.setHeartbeatFunc=function(e){var t=this;this.timer=setTimeout((function(){Xt||(Xt=!0,t.uploadData(!1,"").then((function(e){Xt=!1,It.sendPolicy.eventUploadPolicyScheduleTime()})).catch((function(e){Xt=!1,It.sendPolicy.eventUploadPolicyScheduleTime()})))}),e)},e.prototype.setEventModelsStatus=function(e,t,n){var i=e.map((function(e){return e.id}));this.eventModels.forEach((function(e){-1!==i.indexOf(e.id)&&(void 0!==n&&e.sendState!==n||(e.sendState=t))}))},e.prototype.processEventsReceivedAfterLaunch=function(){"false"===We.getClientValue(Ie)&&(this.eventModels.length=0,this.removeAllEventModels())},e.prototype.clearData=function(e){this.removeEventModels(e),this.eventModels=this.eventModels.filter((function(t){return null!=e&&t.routePolicy!==e}))},e.prototype.getCurFocusStateSessionDuration=function(e){return vt.isBackground?We.minSessionDuration:We.sessionDuration},e.prototype.pushEventModel=function(e){this.eventModels.push(e)},e.prototype.saveEventModel=function(e){return Promise.resolve()},e.prototype.removeEventModels=function(e){},e.prototype.removeAllEventModels=function(){},e.prototype.isServerWebV3=function(){return!0},e.prototype.isServerWebEvent=function(){return!1},e}())),Zt=new(function(){function e(){}return e.prototype.migrate=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return It.hiLog.info("start quickapp migration"),[4,this.usingObjectStorage()];case 1:return e.sent(),[2,Promise.resolve()]}}))}))},e.prototype.usingObjectStorage=function(){return h(this,void 0,void 0,(function(){var e,t,n,i,r,o;return f(this,(function(a){switch(a.label){case 0:e=this.getKeyMappings(),t=0,n=e,a.label=1;case 1:return t<n.length?(i=n[t],[4,It.hiStorage.getSavedString(i.oldKey)]):[3,6];case 2:return(r=a.sent())?(o=i.newKey===Ne?"false":r,[4,It.hiStorage.saveClientValue(i.newKey,o,i.duration)]):[3,5];case 3:return a.sent(),[4,It.hiStorage.removeItem(i.oldKey)];case 4:a.sent(),a.label=5;case 5:return t++,[3,1];case 6:return[2]}}))}))},e.prototype.getKeyMappings=function(){var e=It.hiAgcUtil.getConfig().client.app_id;return[{oldKey:"HW_ha_"+e,newKey:Ne,duration:31536e6},{oldKey:"HW_hid_"+e,newKey:ye,duration:We.sessionDuration},{oldKey:"HW_analytics_enabled",newKey:Ie,duration:31536e6},{oldKey:"HW_ha_restriction_enabled",newKey:Ae,duration:31536e6}]},e}()),en=!1,tn=new(function(){function e(){this.logRecords=[],this.timerId=0,this.upLoadService=new Qt}return e.prototype.init=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e.prototype.uploadData=function(){return h(this,void 0,void 0,(function(){var e,t,n,i=this;return f(this,(function(r){switch(r.label){case 0:return[4,It.hiClient.isOnline()];case 1:return r.sent()&&At.reportFlag?0===this.logRecords.length?[2]:[4,vt.getHaSdkToken()]:[2];case 2:return(e=r.sent())?(t={mode:vt.getReportType(),url:vt.getConfig("analyticsUrl")},n={},this.logRecords.forEach((function(e){var t=e.sendState;if(t===de||t===fe){var i=e.region;n[i]=n[i]||[],n[i].push(e)}})),Object.entries(n).forEach((function(n){for(var r=n[0],o=n[1],a=i.chunkLogDatas(o),s=function(n){var o=a[n];if(0===o.length)return{value:void 0};var s=He.create(),c=i.upLoadService.generateLogPayload(o,s),u=i.generateFinalUploadLogData(c);if("string"==typeof u&&Ue(u))return{value:void 0};var l=i.upLoadService.generateHttpHeader({reqId:s,logRegion:r,supportDebugMode:!1,sdkToken:e});o.forEach((function(e){return e.sendState=pe})),It.hiSendData.onEvent(u,l,t).then((function(){It.hiLog.info("upload log successfully, resultCode: 200"),o.forEach((function(e){return e.sendState=he})),i.doLogSendDone(o),i.logRecords=i.logRecords.filter((function(e){return e.sendState!==he}))}),(function(){o.forEach((function(e){return e.sendState=fe})),i.doLogSendFail(o)}))},c=0;c<a.length;c++){var u=s(c);if("object"==typeof u)return u.value}})),[2]):[2]}}))}))},e.prototype.chunkLogDatas=function(e){var t=It.sendPolicy.getUploadMaxCount();return[e.slice(0,t)]},e.prototype.generateFinalUploadLogData=function(e){return e},e.prototype.setHeartbeatFunc=function(e){var t=this;this.timerId=setTimeout((function(){en||(en=!0,t.uploadData().then((function(e){en=!1,It.sendPolicy.logUploadPolicyScheduleTime()})).catch((function(e){en=!1,It.sendPolicy.logUploadPolicyScheduleTime()})))}),e)},e.prototype.writeLog=function(e){e.sendState=de,this.logRecords.push(e),this.saveLogModel(e)},e.prototype.doLogSendDone=function(e){},e.prototype.doLogSendFail=function(e){},e.prototype.saveLogModel=function(e){},e}());!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xt||(xt={}));var nn=function(){function e(){var t=this;this.moduleName="",this.logLevel=xt.VERBOSE,this.userLogProvider=null,this.logProvider=function(n,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!(i<t.logLevel)){var a=e.consoleType[i];if(!a)throw new Error("invalid logType: ".concat(i));console[a]("[Module:".concat(n,"] [").concat((new Date).toISOString(),"] | "),r.toString())}}}return e.createLogger=function(t){for(var n=0,i=e.logInstanceArray;n<i.length;n++){var r=i[n];if(r.moduleName==t)return r}var o=new e;return o.moduleName=t,e.logInstanceArray.push(o),o},e.prototype.setLogProvider=function(e){if("function"!=typeof e)throw new Error("logProvider must be set as a function");this.logProvider=e},e.prototype.setUserLogProvider=function(e){this.userLogProvider=e},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.doLog(xt.DEBUG,e)},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.doLog(xt.VERBOSE,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.doLog(xt.INFO,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.doLog(xt.WARN,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.doLog(xt.ERROR,e)},e.prototype.doLog=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.userLogProvider&&this.userLogProvider(this.moduleName,e,t),this.logProvider(this.moduleName,e,t)},e.consoleType=((Kt={})[xt.DEBUG]="log",Kt[xt.VERBOSE]="log",Kt[xt.SILENT]="log",Kt[xt.INFO]="info",Kt[xt.WARN]="warn",Kt[xt.ERROR]="error",Kt),e.logInstanceArray=[],e}(),rn=function(e,t){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function on(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function an(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var sn=function(){function e(){this.TWO_MINUTES_EARLY=12e4,this.ONE_HOUR=36e5,this.expiration=0,this.tokenString="",this.issuedAt="0",this.notBefore="0",this.lastRefreshTime=0}return e.prototype.constructFromJson=function(e){this.expiration=e.expiration,this.issuedAt=e.issuedAt,this.tokenString=e.tokenString,this.notBefore=e.notBefore,this.lastRefreshTime=e.lastRefreshTime},e.prototype.isValid=function(){var e=(new Date).getTime(),t=this.lastRefreshTime+1e3*this.expiration-this.TWO_MINUTES_EARLY;return null!=this.tokenString&&e<=t},e.prototype.allowRefresh=function(){return(new Date).getTime()-this.lastRefreshTime>this.ONE_HOUR},e}(),cn=function(e){function t(t){var n=e.call(this,t)||this;return n.REQUEST_URL="/agc/apigw/oauth2/v1/token",n.useJwt=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}rn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBody=function(){return{grant_type:"client_credentials",client_id:this.getHeaderClientId(),client_secret:this.getClientSecret(),useJwt:this.getUseJwt()}},t.prototype.getUrl=function(){return this.getAgcgwUrl()+this.REQUEST_URL},t.prototype.setUseJwt=function(e){this.useJwt=e},t.prototype.getUseJwt=function(){return this.useJwt},t}(function(){function e(e){this.sdkPlatform="",this.sdkPlatformVersion="",this.sdkType="JS",this.packageName="",this.appVersion="",this.headerProductId="",this.headerAppId="",this.headerClientId="",this.clientSecret="",this.agcgwUrl="",this.agcgwBackUrl="",this.agcConfig=null,this.instance=null,this.sdkServiceName="agconnect-credential",this.sdkVersion="1.5.0",this.setAGCInstance(e)}return e.prototype.setAGCInstance=function(e){if(!e)throw new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.AGC_INNER_ERROR,{message:"set AGCInstance using null or undefined object"},"CredentialsService");this.instance=e,this.agcConfig=null},e.prototype.getHeaderClientId=function(){return this.initConfig()?this.headerClientId:""},e.prototype.getClientSecret=function(){return this.initConfig()?this.clientSecret:""},e.prototype.getAgcgwUrl=function(){return this.initConfig()?this.agcgwUrl:""},e.prototype.getHeader=function(){if(!this.initConfig())return"";var e=this.instance.getService("AGCPlatformInfoService");return e&&(this.sdkPlatform=e.getPlatform(),this.sdkPlatformVersion=e.getPlatformVersion(),this.packageName=e.getPackageName(),this.appVersion=e.getAppVersion()),{sdkVersion:this.sdkVersion,sdkPlatform:this.sdkPlatform,sdkServiceName:this.sdkServiceName,sdkPlatformVersion:this.sdkPlatformVersion,sdkType:this.sdkType,packageName:this.packageName,appVersion:this.appVersion,app_id:this.headerAppId,client_id:this.headerClientId,productId:this.headerProductId,"Content-Type":"application/json;charset=UTF-8"}},e.prototype.initConfig=function(){if(!this.instance)throw new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.AGC_INNER_ERROR,{message:"set AGCInstance using null or undefined object"},"CredentialsService");return null==this.agcConfig&&(this.agcConfig=this.instance.config(),this.headerProductId=this.agcConfig.client.product_id,this.headerClientId=this.agcConfig.client.client_id,this.headerAppId=this.agcConfig.client.app_id,this.clientSecret=this.agcConfig.client.client_secret,this.agcgwUrl=this.instance.getGwUrl(),this.agcgwBackUrl=this.instance.getGwBackUrl()),!0},e}()),un=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getStorage=function(e){var t=e.getService("AGCStorageService");if(null!=t)return t.getStorageInstance(0,e.getCryptImp());ln.error("Get AGC storage Service failed.")},e}(),ln=nn.createLogger("CredentialsService"),dn=function(){function t(e){this.instance=e||_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"].instance()}return t.prototype.removeToken=function(){if(this.instance.getCustomCredentialsProvider())return Promise.resolve();var e=this.getCredentialStoreKey(),t=un.getInstance().getStorage(this.instance);return t?t.remove(e).catch((function(e){return e instanceof _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError?Promise.reject(e):Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.REMOVE_TOKEN_FAILED,e,"CredentialsService"))})):Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.FAIL_TO_GET_STORAGE_SERVICE,null,"CredentialsService"))},t.prototype.getToken=function(e){return on(this,void 0,void 0,(function(){var t,n,i,r,o,a=this;return an(this,(function(s){switch(s.label){case 0:return this.instance.getCustomCredentialsProvider()?(t=new sn,[4,this.instance.getCustomCredentialsProvider().getToken(!!e)]):[3,2];case 1:return(n=s.sent())&&n.tokenString&&n.expiration?isNaN(Number(n.expiration))||Number(n.expiration)<=0?(ln.error("the customCredentialsProvider getToken must return valid expiration."),[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.GET_TOKEN_FAILED,{message:"the customCredentialsProvider getToken must return valid expiration"},"CredentialsService"))]):(t.tokenString=n.tokenString,t.expiration=n.expiration,t.lastRefreshTime=(new Date).getTime(),[2,Promise.resolve(t)]):(ln.error("the customCredentialsProvider getToken method must contain return value: tokenString, expiration."),[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.GET_TOKEN_FAILED,{message:"the customCredentialsProvider getToken method must contain return value: tokenString, expiration"},"CredentialsService"))]);case 2:return i=this.getCredentialStoreKey(),(r=un.getInstance().getStorage(this.instance))?(o=new sn,[2,r.get(i).then((function(t){return on(a,void 0,void 0,(function(){var n,a;return an(this,(function(s){switch(s.label){case 0:return t?o.constructFromJson(JSON.parse(t)):o=null,o&&o.isValid()?e&&o.allowRefresh()?[4,this.requestToken()]:[3,3]:[3,4];case 1:return n=s.sent(),[4,r.set(i,JSON.stringify(n))];case 2:return s.sent(),[2,Promise.resolve(n)];case 3:return[2,Promise.resolve(o)];case 4:return[4,this.requestToken()];case 5:return a=s.sent(),[4,r.set(i,JSON.stringify(a))];case 6:return s.sent(),[2,Promise.resolve(a)]}}))}))})).catch((function(e){return e instanceof _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError?Promise.reject(e):Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.GET_TOKEN_FAILED,e,"CredentialsService"))}))]):[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.FAIL_TO_GET_STORAGE_SERVICE,null,"CredentialsService"))]}}))}))},t.prototype.getCredentialStoreKey=function(){return this.instance.name()===_hw_agconnect_core__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_CATEGORY?"agcClientToken:"+this.instance.config().client.client_id:"agcClientToken_"+this.instance.name()+":"+this.instance.config().client.client_id},t.prototype.requestToken=function(){return on(this,void 0,void 0,(function(){var e,t;return an(this,(function(n){return(e=this.instance.getService("AGCNetworkService"))?((t=new cn(this.instance)).setUseJwt(1),[2,e.post(t.getUrl(),t.getBody(),t.getHeader()).then((function(e){if(e.data.ret&&0!=e.data.ret.code)return Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError({code:e.data.ret.code,message:e.data.ret.msg},null,"CredentialsService"));var t=new sn;return t.tokenString=e.data.access_token,t.expiration=e.data.expires_in,t.lastRefreshTime=(new Date).getTime(),Promise.resolve(t)}))]):[2,Promise.reject(new _hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCError(_hw_agconnect_instance__WEBPACK_IMPORTED_MODULE_3__.AGCErrorCode.FAIL_TO_GET_NETWORK_SERVICE,null,"CredentialsService"))]}))}))},t}();_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"].registerInternalService({name:"CredentialsService",serviceFactory:function(e){return new dn(e)}});var pn=new(function(){function e(){}return e.prototype.init=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e.prototype.getConfig=function(){return _hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"].instance().config()},e.prototype.getToken=function(e){return h(this,void 0,void 0,(function(){var t;return f(this,(function(i){switch(i.label){case 0:if(!(t=_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"].instance().getService("CredentialsService")))return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.getToken()];case 2:return[2,i.sent().tokenString];case 3:return i.sent(),It.hiLog.error(e,nt.code,nt.message),[2,""];case 4:return[3,6];case 5:return It.hiLog.warn(e,ze.code,ze.message),[2,""];case 6:return[2]}}))}))},e.prototype.getAaid=function(e){return h(this,void 0,void 0,(function(){var t;return f(this,(function(i){try{return null!=(t=_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"].instance().getService("ClientInfoService"))?[2,t.getAaid()]:(It.hiLog.warn(e,ze.code,ze.message),[2,""])}catch(t){return It.hiLog.error(e,tt.code,tt.message),[2,""]}return[2]}))}))},e.prototype.deleteAaid=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2]}))}))},e.prototype.getPushToken=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,""]}))}))},e.prototype.getOaid=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,""]}))}))},e.prototype.getOaidFlag=function(){return h(this,void 0,void 0,(function(){return f(this,(function(e){return[2,!0]}))}))},e.prototype.getABTestProvider=function(){var e=_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"].instance().getService("ABTestService");if(null!==e)return e.getABtestInstance("REMOTE_CONFIG")?e:null},e}());It.setHiLog(Mt),It.setHiSendData(wt),It.setSendLogTask(tn),It.setSendTask(zt),It.setHiAutoReport(kt),It.setHiStorage(Yt),It.setHiClientProperty(bt),It.setHiClient(Ht),It.setHiMigration(Zt),It.setHiAgcUtil(pn);var hn=function(){function e(){}return e.prototype.onEventCallback=function(e,t){var n={eventtime:(new Date).getTime(),isCallBack:!0};At.onEventCallback(e,t,n)},e}(),fn=new _hw_agconnect_core__WEBPACK_IMPORTED_MODULE_0__.Singleton((function(){return new _t})),gn=new _hw_agconnect_core__WEBPACK_IMPORTED_MODULE_0__.Singleton((function(){return new hn})),En={InitSettings:gt,RoutePolicy:Ye,LogLevel:Ge,UserProfileType:Be,EventName:Le,ParamName:{STORENAME:"$StoreName",BRAND:"$Brand",CATEGORY:"$Category",PRODUCTID:"$ProductId",PRODUCTNAME:"$ProductName",PRODUCTFEATURE:"$ProductFeature",PRICE:"$Price",QUANTITY:"$Quantity",REVENUE:"$Revenue",CURRNAME:"$CurrName",PLACEID:"$PlaceId",DESTINATION:"$Destination",ENDDATE:"$EndDate",BOOKINGDAYS:"$BookingDays",PASSENGERSNUMBER:"$PassengersNumber",BOOKINGROOMS:"$BookingRooms",ORIGINATINGPLACE:"$OriginatingPlace",BEGINDATE:"$BeginDate",TRANSACTIONID:"$TransactionId",CLASS:"$Class",CLICKID:"$ClickId",PROMOTIONNAME:"$PromotionName",CONTENT:"$Content",EXTENDPARAM:"$ExtendParam",MATERIALNAME:"$MaterialName",MATERIALSLOT:"$MaterialSlot",MEDIUM:"$Medium",SOURCE:"$Source",KEYWORDS:"$Keywords",OPTION:"$Option",STEP:"$Step",VIRTUALCURRNAME:"$VirtualCurrName",VOUCHER:"$Voucher",PLACE:"$Place",SHIPPING:"$Shipping",TAXFEE:"$TaxFee",USERGROUPID:"$UserGroupId",LEVELNAME:"$LevelName",RESULT:"$Result",ROLENAME:"$RoleName",LEVELID:"$LevelId",CHANNEL:"$Channel",SCORE:"$Score",SEARCHKEYWORDS:"$SearchKeywords",CONTENTTYPE:"$ContentType",ACHIEVEMENTID:"$AchievementId",FLIGHTNO:"$FlightNo",POSITIONID:"$PositionId",PRODUCTLIST:"$ProductList",ACOUNTTYPE:"$AcountType",EVTRESULT:"$EvtResult",PREVLEVEL:"$PrevLevel",CURRVLEVEL:"$CurrvLevel",VOUCHERS:"$Vouchers",MATERIALSLOTTYPE:"$MaterialSlotType",LISTID:"$ListId",FILTERS:"$Filters",SORTS:"$Sorts",ORDERID:"$OrderId",PAYTYPE:"$PayType",REASON:"$Reason",EXPIREDATE:"$ExpireDate",VOUCHERTYPE:"$VoucherType",SERVICETYPE:"$ServiceType",DETAILS:"$Details",COMMENTTYPE:"$CommentType",REGISTMETHOD:"$RegistMethod",FEATURE:"$Feature",ROOMS:"$Rooms",SALEPRICE:"$SalePrice",RENTFEE:"$RentFee",RENTTYPE:"$RentType",ACTIVITYNAME:"$ActivityName",ACTIVITYTYPE:"$ActivityType",AMOUNT:"$Amount",BALANCE:"$Balance",BATTLENAME:"$BattleName",BATTLETYPE:"$BattleType",CARDLIST:"$CardList",CLASSLIMIT:"$ClassLimit",COMBAT:"$Combat",CUTSCENENAME:"$CutsceneName",DAMAGE:"$Damage",DIFFICULTY:"$Difficulty",DISCOUNT:"$Discount",DUNGEONNAME:"$DungeonName",DURATION:"$Duration",ENHANCETYPE:"$EnhanceType",EQUIPMENTID:"$EquipmentId",EQUIPMENTLEVEL:"$EquipmentLevel",EQUIPMENTNAME:"$EquipmentName",FIRSTCREATE:"$FirstCreate",FIRSTPAY:"$FirstPay",FIRSTSIGNIN:"$FirstSignIn",FRIENDNUMBER:"$FriendNumber",GIFTNAME:"$GiftName",GIFTTYPE:"$GiftType",INVITER:"$Inviter",ISFREE:"$IsFree",ISTOPLEVEL:"$IsTopLevel",ITEMLIST:"$ItemList",LEFTPULLSFORGUARANTEE:"$LeftPullsForGuarantee",LEVELBEFORE:"$LevelBefore",LEVELLIMIT:"$LevelLimit",MEMBERS:"$Members",MESSAGETITLE:"$MessageTitle",MESSAGETYPE:"$MessageType",MOUNTDEFAULTNAME:"$MountDefaultName",MOUNTID:"$MountId",MOUNTLEVEL:"$MountLevel",MVP:"$MVP",NEWCLASS:"$NewClass",NEWVALUE:"$NewValue",NUMBEROFCARDS:"$NumberOfCards",NUMBEROFDRAWING:"$NumberOfDrawing",OLDCLASS:"$OldClass",OLDVALUE:"$OldValue",OPERATION:"$Operation",PACKAGETYPE:"$PackageType",PARTICIPANTS:"$Participants",PETDEFAULTNAME:"$PetDefaultName",PETID:"$PetId",PETLEVEL:"$PetLevel",QUALITY:"$Quality",RANKING:"$Ranking",REWARD:"$Reward",ROLECLASS:"$RoleClass",ROLECOMBAT:"$RoleCombat",ROLEGENDER:"$RoleGender",SERVER:"$Server",SKILLLEVEL:"$SkillLevel",SKILLLEVELBEFORE:"$SkillLevelBefore",SKILLNAME:"$SkillName",TASKNAME:"$TaskName",TASKTYPE:"$TaskType",TOTALAFTERCHANGE:"$TotalAfterChange",TYPE:"$Type",USERGROUPLEVEL:"$UserGroupLevel",USERGROUPNAME:"$UserGroupName",VIDEONAME:"$VideoName",VIDEOTYPE:"$VideoType",VIPLEVEL:"$VIPLevel",WINREASON:"$WinReason",VIPTYPE:"$VIPType",VIPSTATUS:"$VIPStatus",VIPEXPIREDATE:"$VIPExpireDate",ENTER:"$Enter",STARTDATE:"$StartDate",EFFECTIVETIME:"$EffectiveTime",NAME:"$Name",MODE:"$Mode",SUBJECT:"$Subject",ACCURACY:"$Accuracy",CONTENTLENGTH:"$ContentLength",REMARK:"$Remark",DAYS:"$Days",POSTID:"$PostId",ENTRY:"$Entry",INFORMATIONTYPE:"$InformationType",INFORMATION:"$Information",TASKID:"$TaskId",LEVEL:"$Level",CONTENTNAME:"$ContentName",PAGENAME:"$PageName",PROPS:"$Props",PURCHASEENTRY:"$PurchaseEntry",ARRIVALDATE:"$ArrivalDate",BINDDURATION:"$BindDuration",BUYERTYPE:"$BuyerType",CONFIGURATION:"$Configuration",DEALERNAME:"$DealerName",DEVICETYPE:"$DeviceType",DEVICENAME:"$DeviceName",ENERGY:"$Energy",ISLOAN:"$IsLoan",LOANCHANNEL:"$LoanChannel",LOANPRODUCTNAME:"$LoanProductName",MODEL:"$Model",OCCURREDDATE:"$OccurredDate",REPAYMENTMETHOD:"$RepaymentMethod",SEAT:"$Seat",SERIES:"$Series",ACTION:"$Action",PAGE:"$Page",INDEX:"$Index",MODULE:"$Module",SOURCEPAGENAME:"$SourcePageName",CITY:"$City",FROMCITY:"$FromCity",TOCITY:"$ToCity",DEPARTUREDATE:"$DepartureDate",RETURNDATE:"$ReturnDate",TRIPTYPE:"$TripType",SEARCHHOTEL:"$SearchHotel",SPECIALTICKET:"$SpecialTicket",HASBABY:"$HasBaby",HASCHILDREN:"$HasChildren",COUNTRY:"$Country",STAR:"$Star",CHECKINDATE:"$CheckinDate",CHECKOUTDATE:"$CheckoutDate",ALDULTCOUNT:"$AldultCount",BABYCOUNT:"$BabyCount",CHILDRENCOUNT:"$ChildrenCount",FROM:"$From",CARMODE:"$CarMode",CARTIME:"$CarTime",FLIGHTID:"$FlightID",SEARCHRESULT:"$SearchResult",PRODUCT:"$Product",DEPARTURETIME:"$DepartureTime",ARRIVETIME:"$ArriveTime",DEPARTUREAIRPORT:"$DepartureAirport",ARRIVEEAIRPORT:"$ArriveeAirport",AIRLINE:"$Airline",FLIGHTTYPE:"$FlightType",DIRECTFLIGHT:"$DirectFlight",TRAINTYPE:"$TrainType",FROMSTATION:"$FromStation",BEDTYPE:"$BedType",BREAKFAST:"$Breakfast",ARRIVEDATE:"$ArriveDate",TRAINID:"$TrainID",HOTELID:"$HotelID",HOTELNAME:"$HotelName",TRIPTAG:"$TripTag",HOTELTYPE:"$HotelType",CABIN:"$Cabin",ROOMTYPE:"$RoomType",CARTYPE:"$CarType",SUPPLIER:"$Supplier",STUDENTCOUNT:"$StudentCount",ROOMCOUNT:"$RoomCount",PERSONCOUNT:"$PersonCount",VOUCHERID:"$VoucherID",VOUCHERNAME:"$VoucherName",VOUCHERPRICE:"$VoucherPrice",USERTYPE:"$UserType",TARGET:"$Target",ISCOMPELETED:"$IsCompeleted",USERLEVEL:"$UserLevel",TIME:"$Time",DISTANCE:"$Distance",CALORIECONSUMED:"$CalorieConsumed",PROGRESS:"$Progress",SOURCEPAGE:"$SourcePage",MULTIPLEACCOUNTS:"$MultipleAccounts",ACCOUNTTYPE:"$AccountType",FAILUREREASON:"$FailureReason",AUTHORITY:"$Authority",CARDTYPE:"$CardType",ISSUEBANK:"$IssueBank",TRANSFORMAMOUNT:"$TransformAmount",BANKNAME:"$BankName",ANK_NAME:"bank_name",SOURCEMODULE:"$SourceModule",STOCKCODE:"$Stockcode",STOCKNAME:"$Stockname",MARKETCODE:"$MarketCode",MARKETNAME:"$MarketName",VIEWTYPE:"$ViewType",TRENDCYCLE:"$TrendCycle",TRANSACTIONTYPE:"$TransactionType",CURRENCY:"$Currency",MONEY:"$Money",FINANCEID:"$FinanceId",FINANCENAME:"$FinanceName",FINANCETYPE:"$FinanceType",FINANCERATE:"$FinanceRate",FINANCETIMELIMIT:"$FinanceTimeLimit",FINANCEAMOUNTMIN:"$FinanceAmountMin",FINANCERISKLEV:"$FinanceRiskLev",PURCHASEAMOUNT:"$PurchaseAmount",HANDLINGFEES:"$HandlingFees",REDEMPTIONAMOUNT:"$RedemptionAmount",RETURNAMOUNT:"$ReturnAmount",FUNDCODE:"$FundCode",FUNDTYPE:"$FundType",FUNDNAME:"$FundName",FUNDRISKLEV:"$FundRiskLev",CHARGERATE:"$ChargeRate",PAYMENTMETHOD:"$PaymentMethod",FIXEDCYCLE:"$FixedCycle",ENTRANCE:"$Entrance",CODE:"$code",NEWSTOPIC:"$NewsTopic",INFORMATIONSOURCE:"$InformationSource",COMMENTSNUMBER:"$CommentsNumber",FORWARDINGNUMBER:"$forwardingNumber",LIKES:"$Likes",TITLE:"$Title",SEARCHTYPE:"$SearchType",SOURCELOCATION:"$SourceLocation",LOCATION:"$Location",ID:"$Id",PLAYMODE:"$PlayMode",LISTS:"$Lists",ADLOCATION:"$Adlocation",ADCATEGORY:"$AdCategory",ADTHEME:"$AdTheme",BUTTONNAME:"$ButtonName",USERID:"$UserID",PAGECATEGORY:"$PageCategory",RATING:"$Rating",PERFORMANCE:"$Performance",TRADINGRULES:"$TradingRules",PORTFOLIO:"$Portfolio",INVESTMENTMANAGER:"$InvestmentManager",FUNDSIZE:"$FundSize",VIPMONEY:"$VipMoney",VIPLOCATION:"$VipLocation",VIPFAILED:"$VipFailed",SECTION:"$Section"}};_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"].registerApiProvider("analytics",(function(){return fn.get()}),En),function(e){e.registerApiProvider("hmscore_analytics",(function(){return gn.get()}))}(_hw_agconnect_api__WEBPACK_IMPORTED_MODULE_1__["default"]);


/***/ }),

/***/ "./node_modules/@hw-hmscore/hms-js-base/src/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@hw-hmscore/hms-js-base/src/index.js ***!
  \***********************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=26)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n,i,o,a,s,u=r(3),c=r.n(u),f=r(4),l=r.n(f),p=r(7);function h(){(n=p.a.get("hmscoreFramework","HMSLogger"))&&(i=n.debug,o=n.info,a=n.warn,s=n.error)}function d(e,t,r,n){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];"function"==typeof e?e.apply(void 0,[r,n].concat(o)):t.apply(void 0,["[".concat(r,"] ").concat(n||"")].concat(o))}var y=function(){function e(){c()(this,e)}return l()(e,null,[{key:"debug",value:function(e,t){n||h();for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];d.apply(void 0,[i,console.debug||console.log,e,t].concat(o))}},{key:"info",value:function(e,t){n||h();for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];d.apply(void 0,[o,console.info,e,t].concat(i))}},{key:"warn",value:function(e,t){n||h();for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];d.apply(void 0,[a,console.warn,e,t].concat(i))}},{key:"error",value:function(e,t){n||h();for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];d.apply(void 0,[s,console.error,e,t].concat(i))}}]),e}()},function(e,t,r){"use strict";r.d(t,"j",(function(){return n})),r.d(t,"k",(function(){return i})),r.d(t,"i",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"b",(function(){return l})),r.d(t,"h",(function(){return p})),r.d(t,"a",(function(){return h}));var n="HMS-JS-BASE",i="weexJsbCallback",o="rnJsbCallback",a="com.huawei.hms.adapter",s="JsbInternalAbility",u=1001,c=1002,f=1005,l=1,p=0,h=1},function(e,t,r){"use strict";(function(e){var n,i=r(0),o=r(1),a=0;t.a={uniqueId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat(a++,"_").concat((new Date).getTime(),"_").concat(Math.random())},getJSCore:function(){return n||(this.isWeex()?n=weex.requireModule("JSCore"):this.isRN()?i.a.debug(o.j,"this is RN"):n=this.isHarmony()?ModuleGroup.getGroup("AceModuleGroup/HmsBridge"):this.isQickApp()?e.requireAPI("service.jsb"):window.JSCore,n)},setJSCore:function(e){n=e},isWebView:function(){return"function"==typeof Window&&window instanceof Window},isWeex:function(){return"undefined"!=typeof weex},isRN:function(){return"undefined"!=typeof GLOBAL},isCordova:function(){return"undefined"!=typeof window&&void 0!==window.cordova&&!this.isCapacitor()},isCapacitor:function(){return"undefined"!=typeof window&&void 0!==window.Capacitor&&void 0!==window.Capacitor.Plugins.JSBCapacitorPlugin},isHarmony:function(){return"undefined"!=typeof ModuleGroup},isOHOS:function(){var e;return"undefined"!=typeof globalThis&&"ohos.base"===(null===(e=globalThis.hmscoreFramework)||void 0===e?void 0:e.xpsfJsTrigger)},isSupportPAF:function(){var e,t;return"undefined"!=typeof globalThis&&("paf.base"===(null===(e=globalThis.pafFramework)||void 0===e?void 0:e.xpsfJsTrigger)||"paf.binding"===(null===(t=globalThis.pafFramework)||void 0===t?void 0:t.xpsfJsTrigger))},isHarmonyWebview:function(){return"undefined"!=typeof window&&!!(window.jsbHarmonyWebview&&"function"==typeof window.jsbHarmonyWebview.call)},isQickApp:function(){return void 0!==e&&void 0!==e.quickapp},getPositionInfoById:function(e){var t=document.getElementById(e),r=t.getBoundingClientRect(),n=r.left+t.scrollLeft,i=r.top+t.scrollTop;return{left:n,top:i,width:r.right-n,height:r.bottom-i}}}}).call(this,r(18))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=function(){};n.prototype.toDebugString,n.prototype.toDebugStringInternal;var i={FieldType:{INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},WireType:{INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},FieldTypeToWireType:function(e){var t=i.FieldType,r=i.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;case t.INVALID:case t.GROUP:default:return r.INVALID}},INVALID_FIELD_NUMBER:-1,FLOAT32_EPS:1401298464324817e-60,FLOAT32_MIN:11754943508222875e-54,FLOAT32_MAX:34028234663852886e22,FLOAT64_EPS:5e-324,FLOAT64_MIN:22250738585072014e-324,FLOAT64_MAX:17976931348623157e292,TWO_TO_20:1048576,TWO_TO_23:8388608,TWO_TO_31:2147483648,TWO_TO_32:4294967296,TWO_TO_52:4503599627370496,TWO_TO_63:0x8000000000000000,TWO_TO_64:0x10000000000000000,ZERO_HASH:"\0\0\0\0\0\0\0\0"}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return f}));var n,i=r(3),o=r.n(i),a=r(4),s=r.n(a),u=r(1),c=r(0);n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0;var f=function(){function e(){o()(this,e)}return s()(e,null,[{key:"set",value:function(e,t,r){"string"==typeof e?"string"==typeof t?(n[e]||(n[e]={}),n[e][t]=r):c.a.error(u.j,"HGlobalVariableManager.set key is not string."):c.a.error(u.j,"HGlobalVariableManager.set moduleName is not string.")}},{key:"get",value:function(e,t){if("string"==typeof e){if("string"==typeof t)return n[e]?n[e][t]:void 0;c.a.error(u.j,"HGlobalVariableManager.get key is not string.")}else c.a.error(u.j,"HGlobalVariableManager.get moduleName is not string.")}}]),e}()}).call(this,r(18))},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return o}));var n=r(5),i=r(13),o={},a="[ptotobuf utils] ";o.split64Low=0,o.split64High=0,o.splitUint64=function(e){console.log("".concat(a," ").concat("utils"," splitUint64"));var t=e>>>0,r=Math.floor((e-t)/n.a.TWO_TO_32)>>>0;o.split64Low=t,o.split64High=r},o.splitInt64=function(e){var t=e<0,r=(e=Math.abs(e))>>>0,i=Math.floor((e-r)/n.a.TWO_TO_32);i>>>=0,t&&(i=~i>>>0,r=~r>>>0,(r+=1)>4294967295&&(r=0,++i>4294967295&&(i=0))),o.split64Low=r,o.split64High=i},o.splitZigzag64=function(e){console.log("".concat(a," ").concat("utils"," splitZigzag64"));var t=e<0;e=2*Math.abs(e),o.splitUint64(e);var r=o.split64Low,n=o.split64High;t&&(0==r?0==n?(r=4294967295,n=4294967295):(n--,r=4294967295):r--),o.split64Low=r,o.split64High=n},o.splitFloat32=function(e){var t,r,i=e<0?1:0;if(0!==(e=i?-e:e)){if(isNaN(e))return o.split64High=0,void(o.split64Low=2147483647);if(e>n.a.FLOAT32_MAX)return o.split64High=0,void(o.split64Low=(i<<31|2139095040)>>>0);if(e<n.a.FLOAT32_MIN)return r=Math.round(e/Math.pow(2,-149)),o.split64High=0,void(o.split64Low=(i<<31|r)>>>0);t=Math.floor(Math.log(e)/Math.LN2),r=e*Math.pow(2,-t),(r=Math.round(r*n.a.TWO_TO_23))>=16777216&&++t,r&=8388607,o.split64High=0,o.split64Low=(i<<31|t+127<<23|r)>>>0}else 1/e>0?(o.split64High=0,o.split64Low=0):(o.split64High=0,o.split64Low=2147483648)},o.splitFloat64=function(e){var t=e<0?1:0;if(0!==(e=t?-e:e)){if(isNaN(e))return o.split64High=2147483647,void(o.split64Low=4294967295);if(e>n.a.FLOAT64_MAX)return o.split64High=(t<<31|2146435072)>>>0,void(o.split64Low=0);if(e<n.a.FLOAT64_MIN){var r=(s=e/Math.pow(2,-1074))/n.a.TWO_TO_32;return o.split64High=(t<<31|r)>>>0,void(o.split64Low=s>>>0)}var i=e,a=0;if(i>=2)for(;i>=2&&a<1023;)a++,i/=2;else for(;i<1&&a>-1022;)i*=2,a--;r=(s=e*Math.pow(2,-a))*n.a.TWO_TO_20&1048575;var s,u=s*n.a.TWO_TO_52>>>0;o.split64High=(t<<31|a+1023<<20|r)>>>0,o.split64Low=u}else 1/e>0?(o.split64High=0,o.split64Low=0):(o.split64High=2147483648,o.split64Low=0)},o.joinUint64=function(e,t){return t*n.a.TWO_TO_32+(e>>>0)},o.joinInt64=function(e,t){var r=2147483648&t;r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0));var n=o.joinUint64(e,t);return r?-n:n},o.joinFloat32=function(e,t){var r=2*(e>>31)+1,n=e>>>23&255,i=8388607&e;return 255==n?i?NaN:r*(1/0):0==n?r*Math.pow(2,-149)*i:r*Math.pow(2,n-150)*(i+Math.pow(2,23))},o.joinFloat64=function(e,t){var r=2*(t>>31)+1,i=t>>>20&2047,o=n.a.TWO_TO_32*(1048575&t)+e;return 2047==i?o?NaN:r*(1/0):0==i?r*Math.pow(2,-1074)*o:r*Math.pow(2,i-1075)*(o+n.a.TWO_TO_52)},o.DIGITS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],o.ZERO_CHAR_CODE_=48,o.A_CHAR_CODE_=97,o.joinSignedDecimalString=function(e,t){console.log("".concat(a," ").concat("utils"," joinSignedDecimalString"));var r=2147483648&t;r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0);var n=o.joinUnsignedDecimalString(e,t);return r?"-"+n:n},o.byteSourceToUint8Array=function(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer?(t=t,new Uint8Array(t)):void 0!==e&&t.constructor===e?new Uint8Array(t):t.constructor===Array?(t=t,new Uint8Array(t)):t.constructor===String?(t=t,Object(i.b)(t)):new Uint8Array(0)}}).call(this,r(35).Buffer)},function(e,t,r){var n=r(33),i=r(22);e.exports=function(e,t){var r=i(e,t,"get");return n(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(39)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return p}));var n=null,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o={},a=0,s=function(e){var t=e.length,r=3*t/4;r%3?r=Math.floor(r):u(e[t-1])&&(u(e[t-2])?r-=2:r-=1);var n=new Uint8Array(r),i=0;return c(e,(function(e){n[i++]=e})),i!==r?n.subarray(0,i):n},u=function(e){return-1!="=.".indexOf(e)},c=function(e,t){f();var r=0;function i(t){for(;r<e.length;){var i=e.charAt(r++),o=n[i];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(i))throw new Error("Unknown base64 encoding at char: "+i)}return t}for(;;){var o=i(-1),a=i(0),s=i(64),u=i(64);if(64===u&&-1===o)return;if(t(o<<2|a>>4),64!=s)if(t(a<<4&240|s>>2),64!=u)t(s<<6&192|u)}},f=function(){if(!n){n={};for(var e=i.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;r<5;r++){var a=e.concat(t[r].split(""));o[r]=a;for(var s=0;s<a.length;s++){var u=a[s];void 0===n[u]&&(n[u]=s)}}}},l=function(e){if(e.length<=8192)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=Array.prototype.slice.call(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},p=function(e,t){void 0===t&&(t=a),f();for(var r=o[t],n=new Array(Math.floor(e.length/3)),i=r[64]||"",s=0,u=0;s<e.length-2;s+=3){var c=e[s],l=e[s+1],p=e[s+2],h=r[c>>2],d=r[(3&c)<<4|l>>4],y=r[(15&l)<<2|p>>6],g=r[63&p];n[u++]=""+h+d+y+g}var v=0,b=i;switch(e.length-s){case 2:b=r[(15&(v=e[s+1]))<<2]||i;case 1:var w=e[s],m=r[w>>2],_=r[(3&w)<<4|v>>4];n[u]=""+m+_+b+i}return n.join("")}},function(e,t,r){var n=r(31);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(12).default,i=r(32);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(34),i=r(22);e.exports=function(e,t,r){var o=i(e,t,"set");return n(e,o,r),r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(19);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(27),i=r(20),o=r(21),a=r(28);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(29),i=r(20),o=r(21),a=r(30);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=JSON.parse('{"a":"6.8.0-300"}')},function(e,t,r){e.exports=r(40)},function(e,t,r){var n=r(19);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(36),i=r(37),o=r(38);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function m(e,t,r,n){return V(B(t,e.length-r),e,r,n)}function _(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return _(e,t,r,n)}function I(e,t,r,n){return V(U(t),e,r,n)}function S(e,t,r,n){return V(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),f=e.slice(t,r),l=0;l<s;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return m(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=F(e[o]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function C(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(e,t,r,n,o){return o||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return o||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return H(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return H(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(18))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),f=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,p=r?-1:1,h=e[t+l];for(l+=p,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=d,a/=256,c-=8);e[r+h-d]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n=r(12).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new T(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return R()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=I(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h={};function d(){}function y(){}function g(){}var v={};f(v,s,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(O([])));w&&w!==r&&o.call(w,s)&&(v=w);var m=g.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;this._invoke=function(i,a){function s(){return new t((function(r,s){!function r(i,a,s,u){var c=p(e[i],e,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==n(l)&&o.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(l).then((function(e){f.value=e,s(f)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}(i,a,r,s)}))}return r=r?r.then(s,s):s()}}function I(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=p(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return y.prototype=g,f(m,"constructor",g),f(g,"constructor",y),y.displayName=f(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},t.awrap=function(e){return{__await:e}},_(E.prototype),f(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(m),f(m,c,"Generator"),f(m,s,(function(){return this})),f(m,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.r(t),r.d(t,"hmsjsb",(function(){return ze})),r.d(t,"callbackMap",(function(){return Ye})),r.d(t,"eventMap",(function(){return Xe})),r.d(t,"hmsbase",(function(){return B})),r.d(t,"HError",(function(){return N})),r.d(t,"HHeader",(function(){return V})),r.d(t,"HParcel",(function(){return ne})),r.d(t,"HBaseAdapter",(function(){return U})),r.d(t,"HJSBAdapter",(function(){return Fe})),r.d(t,"HObject",(function(){return Le})),r.d(t,"HUnknownObject",(function(){return re})),r.d(t,"HServiceManager",(function(){return Be})),r.d(t,"HServiceRegistry",(function(){return oe})),r.d(t,"HServiceRegistryInfo",(function(){return ie})),r.d(t,"IClassFactory",(function(){return ce})),r.d(t,"HViewHolder",(function(){return ue})),r.d(t,"IXPSFSolution",(function(){return de})),r.d(t,"XPSFServiceInfo",(function(){return ye})),r.d(t,"MainEntry",(function(){return ge})),r.d(t,"KitRegisterCenter",(function(){return ve})),r.d(t,"JsServiceInfo",(function(){return we})),r.d(t,"CppServiceInfo",(function(){return _e})),r.d(t,"HAppInfoManager",(function(){return Ie})),r.d(t,"HPreferencesManager",(function(){return Pe})),r.d(t,"HPageStarter",(function(){return je})),r.d(t,"HPageInfo",(function(){return Te})),r.d(t,"HCommonMessenger",(function(){return Ae})),r.d(t,"HGlobalVariableManager",(function(){return M.a})),r.d(t,"HLogger",(function(){return l.a})),r.d(t,"HTrace",(function(){return xe})),r.d(t,"ErrorCode",(function(){return h})),r.d(t,"BaseCode",(function(){return d})),r.d(t,"ResolutionResult",(function(){return y})),r.d(t,"AvailableCode",(function(){return g})),r.d(t,"JSBCompat",(function(){return Ue})),r.d(t,"PageInfo",(function(){return Oe}));var n={};r.r(n),r.d(n,"Message",(function(){return Y})),r.d(n,"BinaryReader",(function(){return Q})),r.d(n,"BinaryWriter",(function(){return ee}));var i=r(23),o=r.n(i),a=r(6),s=r.n(a),u=r(2),c=r(24),f=r.n(c),l=r(0),p=r(1),h={ARGUMENTS_INVALID:907135e3,INTERNAL_ERROR:907135001,NAMING_INVALID:907135002,CLIENT_API_INVALID:907135003,EXECUTE_TIMEOUT:907135004,NOT_IN_SERVICE:907135005,SESSION_INVALID:907135006,DENY_NETWORK:907135007,GET_SCOPE_ERROR:907135700,SCOPE_LIST_EMPTY:907135701,CERT_FINGERPRINT_EMPTY:907135702,PERMISSION_LIST_EMPTY:907135703,GET_SCOPE_NETWORK_ERROR:907135704,AUTH_INFO_NOT_EXIST:907135705,CERT_FINGERPRINT_ERROR:907135706,PERMISSION_NOT_EXIST:907135707,PERMISSION_NOT_AUTHORIZED:907135708,PERMISSION_EXPIRED:907135709,SCOPE_ILLEGAL_PARAMETER:907135710,SCOPE_INTERNAL_ERROR:907135711,SUBAPP_CHECKER_NOT_EXIST:907135720,SUBAPP_AUTH_ERROR:907135721,KIT_NOT_EXIST:907135900,API_MODULE_NOT_EXIST:1e3,API_CLIENT_SESSION_EXPIRED:1001,CALL_UNASSIGNED_API_ERROR:1002,HMS_CORE_NOT_READY:1201,PARAMETER_INVALID:1210,CALLER_SESSION_INVALID:1211,KIT_NEED_UPDATE:1212,KIT_BREAKER:1213,MEMORY_OVER_LIMIT:1215,NOT_REGISTER_API:1216,AUTH_FAILED:1217,RUNTIME_OTHER:1260,NOT_FOUND_STUB:1303,SESSION_AUTH_FAILED:1304,API_LEVEL_NOT_SUPPORT:907180001,API_LEVEL_NOT_EXIST:907180002,INTERFACE_UPDATE_FAILED:907180003,ADAPTER_UNINITIALIZED:907180004,ADAPTER_DISCONNECT:907180005,ADAPTER_CONNECT_FAILED:907180006,ADAPTER_CONNECT_TIMEOUT:907180007,GET_APPID_FAILED:907180008,GET_SERVICEINFO_FAILED:907180009,GET_BUNDLEINFO_FAILED:907180010,GET_BUNDLENAME_FAILED:907180011,GET_APP_FINGER_PRINT_ERROR:907180012,CALL_SERVICE_FAILED:907180013,NOT_FOUND_SERVICE:907180014,IID_NOT_EXPORTED:907180016,BUNDLENAME_NOT_MATCH:907180017,SERVICE_PROCESS_DIED:907180020,REMOTE_OBJECT_RELEASING:907180021,REMOTE_OBJECT_NOT_EXIST:907180022,INVOKE_UNIMPLEMENTED_METHOD:907180023,METHOD_NOT_EXIST:907180024,NOT_SUPPORTED_PLATFORM:907180025},d={RETURN_PARAM_NULL:-1,PARAM_ERROR:-2,SUCCESS:0,SERVICE_KILLED:1,SERVICE_CONNECT_LOST:2},y={INTERNAL_ERROR:8},g={CANCELED:13,APP_IS_BACKGROUND_OR_LOCKED:28,HMS_IS_SPOOF:29,USER_ALREADY_KNOWS_SERVICE_UNAVAILABLE:30,CURRENT_SHOWING_SERVICE_UNAVAILABLE:31},v=r(3),b=r.n(v),w=r(4),m=r.n(w),_=r(14),E=r.n(_),I=r(15),S=r.n(I),A=r(10),T=r.n(A),O=r(9),R=r.n(O),k=r(17),P=r.n(k),N=function(){function e(t,r){b()(this,e),this.code=t,this.message=r}return m()(e,[{key:"setData",value:function(e){this.data=e}},{key:"setSolution",value:function(e){this.solution=e}}]),e}(),x=r(25);function j(e,t){if("function"==typeof t){Object.defineProperties(t,{hmsClassName:{get:function(){return e}},hmsVersion:{get:function(){return x.a}}});try{Object.defineProperty(t,Symbol.hasInstance,{value:function(e){for(var r=Object.getPrototypeOf(e).constructor;r;){if(r.hmsClassName===t.hmsClassName)return r.hmsVersion===t.hmsVersion;r=Object.getPrototypeOf(r)}return!1}}),Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return e}})}catch(e){l.a.error(p.j,"The device does not support rewriting the instanceof method.")}}}function C(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r];j(n,e[n])}}var M=r(7);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){var t=e.apiName,r=e.args,n=e.success,i=e.fail,o=e.complete;return ze.invoke({apiName:t,args:r,success:n,fail:i,complete:o})}function F(e,t){var r=t.success,n=t.fail,i=t.complete;if("function"!=typeof r&&"function"!=typeof n&&"function"!=typeof i)return e;e.then((function(){"function"==typeof r&&r.apply(void 0,arguments)})).catch((function(){"function"==typeof n&&n.apply(void 0,arguments)})).finally((function(){"function"==typeof i&&i.apply(void 0,arguments)}))}var B={setSPvalue:function(e){var t=e.key,r=e.value,n=e.spname;return D(L(L({},e),{},{args:{key:t,value:r,spname:n},apiName:"sp.setSPvalue"}))},getSPvalue:function(e){var t=e.key,r=e.spname;return D(L(L({},e),{},{args:{key:t,spname:r},apiName:"sp.getSPvalue"}))},removeSPvalue:function(e){var t=e.key,r=e.spname;return D(L(L({},e),{},{args:{key:t,spname:r},apiName:"sp.removeSPvalue"}))},getMetadata:function(e){var t=e.key,r=e.packagename;return D(L(L({},e),{},{args:{key:t,packagename:r},apiName:"metadata.getvalue"}))},getPackageName:function(e){return u.a.isOHOS()?F(Ie.getPackageName(),e):D(L(L({},e),{},{apiName:"package.name"}))},getAppId:function(e){return u.a.isOHOS()?F(Ie.getAppId(),e):D(L(L({},e),{},{apiName:"base.getappid"}))},getAaId:function(e){return D(L(L({},e),{},{apiName:"base.getaaid"}))},getUid:function(e){return D(L(L({},e),{},{apiName:"base.getUid"}))},getAppVersion:function(e){return D(L(L({},e),{},{apiName:"base.getAppVersion"}))},getAgcConfig:function(e){var t=e.key;return D(L(L({},e),{},{args:{key:t},apiName:"base.getAgcConfig"}))},reportEntry:function(e){var t=e.uri,r=e.kitSdkVersion;return D(L(L({},e),{},{args:{uri:t,kitSdkVersion:r},apiName:"analytics.reportEntry"}))},reportExit:function(e){var t=e.uri,r=e.transactId,n=e.statusCode,i=e.errorCode,o=e.kitSdkVersionName;return D(L(L({},e),{},{args:{uri:t,transactId:r,statusCode:n,errorCode:i,kitSdkVersionName:o},apiName:"analytics.reportExit"}))},encrypt:function(e){var t=e.encryptWord;return D(L(L({},e),{},{args:{encryptWord:t},apiName:"security.encrypter"}))},decrypt:function(e){var t=e.encryptWord;return D(L(L({},e),{},{args:{encryptWord:t},apiName:"security.decrypter"}))},config:function(e){var t=e.subId;return D(L(L({},e),{},{args:{subId:t},apiName:"config.auth"}))},isJsbKitAvailable:function(e){var t=e.min_api_level;return D(L(L({},e),{},{args:{min_api_level:t},apiName:"update.availability"}))},upgrade:function(e){return D(L(L({},e),{},{apiName:"update.upgrade"}))},reload:function(e){return D(L(L({},e),{},{apiName:"update.reload"}))}},U=function(){function e(){b()(this,e)}return m()(e,[{key:"hGetClassObject",value:function(t,r){throw new Error("The hGetClassObject method is not implemented on the ".concat(e.type," adapter."))}},{key:"transact",value:function(t,r,n){throw new Error("The transact method is not implemented on the ".concat(e.type," adapter."))}},{key:"newStub",value:function(t){throw new Error("The newStub method is not implemented on the ".concat(e.type," adapter."))}}]),e}();s()(U,"type","");var V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;b()(this,e),this.protolVersion=t,this.appid=void 0,this.packageName=void 0,this.transactId=void 0,this.status=void 0,this.callingUid=void 0,this.subAppId=void 0}return m()(e,[{key:"readMessage",value:function(e){var t=this;e.nextField()&&(1e4===e.getFieldNumber()&&e.readMessage(this,(function(e,r){for(;r.nextField()&&!r.isEndGroup();){switch(r.getFieldNumber()){case 1:t.protolVersion=r.readInt32();break;case 2:t.appid=r.readString();break;case 3:t.packageName=r.readString();break;case 4:t.transactId=r.readString();break;case 5:t.status=r.readInt32();break;case 6:t.callingUid=r.readString();break;case 7:t.subAppId=r.readString();break;default:r.skipField()}}})))}},{key:"writeMessage",value:function(e){var t=this;e.writeMessage(1e4,this,(function(e,r){r.writeInt32(1,t.protolVersion),r.writeString(2,t.appid),r.writeString(3,t.packageName),r.writeString(4,t.transactId),r.writeInt32(5,t.status),r.writeString(6,t.callingUid),r.writeString(7,t.subAppId)}))}}]),e}(),W=r(12),J=r.n(W),G=r(13),Y=function(){};Y.GENERATE_TO_OBJECT=!0,Y.GENERATE_FROM_OBJECT=!1,Y.GENERATE_TO_STRING=!0,Y.ASSUME_LOCAL_ARRAYS=!1,Y.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,Y.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,Y.prototype.array,Y.prototype.wrappers_,Y.prototype.extensionObject_,Y.prototype.pivot_,Y.prototype.messageId_,Y.prototype.convertedPrimitiveFields_,Y.prototype.repeatedFields;Y.prototype.arrayIndexOffset_,Y.hiddenES6Property_=function(){return m()((function e(){b()(this,e)}))}(),Y.EMPTY_LIST_SENTINEL_=[],Y.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?Object(G.b)(e):null},Y.getFieldProto3=Y.getFieldWithDefault,Y.GENERATE_TO_STRING,Y.messageSetExtensions={},Y.messageSetExtensionsBinary={};var X=r(5),q=r(8),K=function(e,t,r){this.bytes_=null,this.start_=0,this.end_=0,this.cursor_=0,this.error_=!1,e&&this.setBlock(e,t,r)};K.instanceCache_=[];var z="[ptotobuf decoder] ";K.alloc=function(e,t,r){if(K.instanceCache_.length){var n=K.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new K(e,t,r)},K.prototype.getBuffer=function(){return console.log("".concat(z," ").concat("BinaryDecoder"," getBuffer")),this.bytes_},K.prototype.setBlock=function(e,t,r){this.bytes_=q.a.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},K.prototype.getEnd=function(){return this.end_},K.prototype.setEnd=function(e){this.end_=e},K.prototype.getCursor=function(){return this.cursor_},K.prototype.setCursor=function(e){this.cursor_=e},K.prototype.advance=function(e){console.log("".concat(z," ").concat("BinaryDecoder"," advance")),this.cursor_+=e},K.prototype.atEnd=function(){return this.cursor_==this.end_},K.prototype.getError=function(){return this.error_||this.cursor_<0||this.cursor_>this.end_},K.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,i=0;i<4&&t>=128;i++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*i;if(t>=128&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,n|=(127&t)>>4),t>=128)for(i=0;i<5&&t>=128;i++)n|=(127&(t=this.bytes_[this.cursor_++]))<<7*i+3;if(t<128)return e(r>>>0,n>>>0);this.error_=!0},K.prototype.skipVarint=function(){for(console.log("".concat(z," ").concat("BinaryDecoder"," skipVarint"));128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},K.prototype.readUnsignedVarint32=function(){var e,t=this.bytes_,r=127&(e=t[this.cursor_+0]);return e<128?(this.cursor_+=1,r):(r|=(127&(e=t[this.cursor_+1]))<<7,e<128?(this.cursor_+=2,r):(r|=(127&(e=t[this.cursor_+2]))<<14,e<128?(this.cursor_+=3,r):(r|=(127&(e=t[this.cursor_+3]))<<21,e<128?(this.cursor_+=4,r):(r|=(15&(e=t[this.cursor_+4]))<<28,e<128?(this.cursor_+=5,r>>>0):(this.cursor_+=5,t[this.cursor_++]>=128&&t[this.cursor_++]>=128&&t[this.cursor_++]>=128&&t[this.cursor_++]>=128&&t[this.cursor_++],r)))))},K.prototype.readSignedVarint32=K.prototype.readUnsignedVarint32,K.prototype.readSignedVarint64=function(){return this.readSplitVarint64(q.a.joinInt64)},K.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,(e<<0|t<<8|r<<16|n<<24)>>>0},K.prototype.readFloat=function(){var e=this.readUint32();return q.a.joinFloat32(e,0)},K.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return q.a.joinFloat64(e,t)},K.prototype.readBool=function(){return console.log("".concat(z," ").concat("BinaryDecoder"," readBool")),!!this.bytes_[this.cursor_++]},K.prototype.readString=function(e){for(var t=this.bytes_,r=this.cursor_,n=r+e,i=[],o="";r<n;){var a=t[r++];if(a<128)i.push(a);else{if(a<192)continue;if(a<224){var s=t[r++];i.push((31&a)<<6|63&s)}else if(a<240){s=t[r++];var u=t[r++];i.push((15&a)<<12|(63&s)<<6|63&u)}else if(a<248){var c=(7&a)<<18|(63&(s=t[r++]))<<12|(63&(u=t[r++]))<<6|63&t[r++],f=56320+(1023&(c-=65536)),l=55296+(c>>10&1023);i.push(l,f)}}i.length>=8192&&(o+=String.fromCharCode.apply(null,i),i.length=0)}return o+=Object(G.a)(i),this.cursor_=r,o},K.prototype.readBytes=function(e){if(console.log("".concat(z," ").concat("BinaryDecoder"," readBytes")),e<0||this.cursor_+e>this.bytes_.length)return this.error_=!0,new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,t};var Z="[ptotobuf reader] ",Q=function(e,t,r){this.decoder_=K.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=X.a.INVALID_FIELD_NUMBER,this.nextWireType_=X.a.WireType.INVALID,this.error_=!1,this.readCallbacks_=null};Q.instanceCache_=[],Q.prototype.alloc=Q.alloc,Q.prototype.getBuffer=function(){return console.log("".concat(Z," ").concat("BinaryReader"," getBuffer")),this.decoder_.getBuffer()},Q.prototype.getFieldNumber=function(){return this.nextField_},Q.prototype.isEndGroup=function(){return this.nextWireType_==X.a.WireType.END_GROUP},Q.prototype.getError=function(){return this.error_||this.decoder_.getError()},Q.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3,r=7&e;return r!=X.a.WireType.VARINT&&r!=X.a.WireType.FIXED32&&r!=X.a.WireType.FIXED64&&r!=X.a.WireType.DELIMITED&&r!=X.a.WireType.START_GROUP&&r!=X.a.WireType.END_GROUP?(this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=r,!0)},Q.prototype.skipVarintField=function(){console.log("".concat(Z," ").concat("BinaryReader"," skipVarintField")),this.nextWireType_==X.a.WireType.VARINT?this.decoder_.skipVarint():this.skipField()},Q.prototype.skipDelimitedField=function(){if(console.log("".concat(Z," ").concat("BinaryReader"," skipDelimitedField")),this.nextWireType_==X.a.WireType.DELIMITED){var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}else this.skipField()},Q.prototype.skipFixed32Field=function(){console.log("".concat(Z," ").concat("BinaryReader"," skipFixed32Field")),this.nextWireType_==X.a.WireType.FIXED32?this.decoder_.advance(4):this.skipField()},Q.prototype.skipFixed64Field=function(){console.log("".concat(Z," ").concat("BinaryReader"," skipFixed64Field")),this.nextWireType_==X.a.WireType.FIXED64?this.decoder_.advance(8):this.skipField()},Q.prototype.skipGroup=function(){console.log("".concat(Z," ").concat("BinaryReader"," skipGroup"));for(var e=this.nextField_;;){if(!this.nextField())return void(this.error_=!0);if(this.nextWireType_==X.a.WireType.END_GROUP)return this.nextField_!=e?void(this.error_=!0):void 0;this.skipField()}},Q.prototype.skipField=function(){switch(console.log("".concat(Z," ").concat("BinaryReader"," skipField")),this.nextWireType_){case X.a.WireType.VARINT:this.skipVarintField();break;case X.a.WireType.FIXED64:this.skipFixed64Field();break;case X.a.WireType.DELIMITED:this.skipDelimitedField();break;case X.a.WireType.FIXED32:this.skipFixed32Field();break;case X.a.WireType.START_GROUP:this.skipGroup()}},Q.prototype.readMessage=function(e,t){var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32(),i=this.decoder_.getCursor()+n;this.decoder_.setEnd(i),t(e,this),this.decoder_.setCursor(i),this.decoder_.setEnd(r)},Q.prototype.readInt32=function(){return this.decoder_.readSignedVarint32()},Q.prototype.readInt64=function(){return this.decoder_.readSignedVarint64()},Q.prototype.readFloat=function(){return this.decoder_.readFloat()},Q.prototype.readDouble=function(){return this.decoder_.readDouble()},Q.prototype.readBool=function(){return!!this.decoder_.readUnsignedVarint32()},Q.prototype.readString=function(){var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},Q.prototype.readBytes=function(){console.log("".concat(Z," ").concat("BinaryReader"," readBytes"));var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)};var $=function(){this.buffer_=[]};$.prototype.length=function(){return this.buffer_.length},$.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},$.prototype.writeSplitVarint64=function(e,t){for(;t>0||e>127;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},$.prototype.writeUnsignedVarint32=function(e){for(;e>127;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},$.prototype.writeSignedVarint32=function(e){if(e>=0)this.writeUnsignedVarint32(e);else{for(var t=0;t<9;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},$.prototype.writeSignedVarint64=function(e){q.a.splitInt64(e),this.writeSplitVarint64(q.a.split64Low,q.a.split64High)},$.prototype.writeUint32=function(e){this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},$.prototype.writeFloat=function(e){q.a.splitFloat32(e),this.writeUint32(q.a.split64Low)},$.prototype.writeDouble=function(e){q.a.splitFloat64(e),this.writeUint32(q.a.split64Low),this.writeUint32(q.a.split64High)},$.prototype.writeBool=function(e){this.buffer_.push(e?1:0)},$.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<128)this.buffer_.push(n);else if(n<2048)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(n<65536)if(n>=55296&&n<=56319&&r+1<e.length){var i=e.charCodeAt(r+1);i>=56320&&i<=57343&&(n=1024*(n-55296)+i-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t};var ee=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new $,this.bookmarks_=[]};ee.prototype.appendUint8Array_=function(e){console.log("".concat("[ptotobuf writer] "," ").concat("BinaryWriter"," appendUint8Array_"));var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},ee.prototype.beginDelimited_=function(e){this.writeFieldHeader_(e,X.a.WireType.DELIMITED);var t=this.encoder_.end();return this.blocks_.push(t),this.totalLength_+=t.length,t.push(this.totalLength_),t},ee.prototype.endDelimited_=function(e){for(var t=e.pop(),r=this.totalLength_+this.encoder_.length()-t;r>127;)e.push(127&r|128),r>>>=7,this.totalLength_++;e.push(r),this.totalLength_++},ee.prototype.getResultBuffer=function(){for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,i=0;i<r;i++){var o=t[i];e.set(o,n),n+=o.length}var a=this.encoder_.end();return e.set(a,n),n+=a.length,this.blocks_=[e],e},ee.prototype.getResultBase64String=function(e){return Object(G.c)(this.getResultBuffer(),e)},ee.prototype.writeFieldHeader_=function(e,t){var r=8*e+t;this.encoder_.writeUnsignedVarint32(r)},ee.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,X.a.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},ee.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,X.a.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},ee.prototype.writeInt32=function(e,t){null!=t&&this.writeSignedVarint32_(e,t)},ee.prototype.writeInt64=function(e,t){null!=t&&this.writeSignedVarint64_(e,t)},ee.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,X.a.WireType.FIXED32),this.encoder_.writeFloat(t))},ee.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,X.a.WireType.FIXED64),this.encoder_.writeDouble(t))},ee.prototype.writeBool=function(e,t){null!=t&&(this.writeFieldHeader_(e,X.a.WireType.VARINT),this.encoder_.writeBool(t))},ee.prototype.writeString=function(e,t){if(null!=t){var r=this.beginDelimited_(e);this.encoder_.writeString(t),this.endDelimited_(r)}},ee.prototype.writeBytes=function(e,t){if(console.log("".concat("[ptotobuf writer] "," ").concat("BinaryWriter"," writeBytes")),null!=t){var r=q.a.byteSourceToUint8Array(t);this.writeFieldHeader_(e,X.a.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(r.length),this.appendUint8Array_(r)}},ee.prototype.writeMessage=function(e,t,r){if(null!=t){var n=this.beginDelimited_(e);r(t,this),this.endDelimited_(n)}},ee.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},ee.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},ee.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},ee.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},ee.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},ee.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])};var te=n,re=m()((function e(t){b()(this,e),this.mId=t})),ne=function(){function e(){b()(this,e),this.mAdapter=void 0,this.mWriter=new te.BinaryWriter,this.mWriteHObjectIds=[],this.mWriteHObjects=[],this.mWriteHObjectIndex=0}return m()(e,[{key:"getHObjectsNum",value:function(){return this.mWriteHObjectIds.length}},{key:"getHObjectIds",value:function(){return this.mWriteHObjectIds}},{key:"setHObjectIds",value:function(e){this.mWriteHObjectIds=e}},{key:"toBase64",value:function(){return this.mWriter.getResultBase64String()}},{key:"fromBase64",value:function(e){var t=te.Message.bytesAsU8(e);return this.mReader=new te.BinaryReader(t,0,t.length),this}},{key:"getWriterBuffer",value:function(){return this.mWriter.getResultBuffer()}},{key:"setWriterBuffer",value:function(e){this.mWriter=new te.BinaryWriter;var t=new Uint8Array(e);return this.mWriter.appendUint8Array_(t),this}},{key:"getReaderBuffer",value:function(){return this.mReader.getBuffer()}},{key:"setReaderBuffer",value:function(e){var t=new Uint8Array(e);return this.mReader=new te.BinaryReader(t,0,t.length),this}},{key:"nextField",value:function(){return this.mReader.nextField()}},{key:"skipField",value:function(){this.mReader.skipField()}},{key:"isEndGroup",value:function(){return this.mReader.isEndGroup()}},{key:"getFieldNumber",value:function(){return this.mReader.getFieldNumber()}},{key:"readHeader",value:function(){var e=new V;return e.readMessage(this.mReader),e}},{key:"readHParcelable",value:function(t){var r=this;this.mReader.readMessage(this,(function(n,i){var o=new e;o.mReader=i,o.mAdapter=r.mAdapter,t(o)}))}},{key:"readString",value:function(){return this.mReader.readString()}},{key:"readBytes",value:function(){return this.mReader.readBytes()}},{key:"readBool",value:function(){return this.mReader.readBool()}},{key:"readInt",value:function(){return this.mReader.readInt32()}},{key:"readInt64",value:function(){var e=this.mReader.readInt64();return(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&l.a.warn(p.j,"readInt64: longValue(".concat(e,') not within the safe range, it will be distorted.         You are advised to use "string" instead.')),e}},{key:"readFloat",value:function(){return this.mReader.readFloat()}},{key:"readDouble",value:function(){return this.mReader.readDouble()}},{key:"readHObject",value:function(){var e=new Le;return e.mId=this.mReader.readString(),e.mAdapter=this.mAdapter,e}},{key:"readHUnknownObject",value:function(){var e=this.mReader.readString();return new re(e)}},{key:"writeHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new V;"function"==typeof e.writeMessage?e.writeMessage(this.mWriter):(l.a.warn(p.j,"writeHeader: params is not HHeader, write default HHeader."),(new V).writeMessage(this.mWriter))}},{key:"writeAny",value:function(e,t,r){if(Array.isArray(t))this.writeRepeatAny(e,t,r);else switch(r){case"boolean":this.writeBool(e,t);break;case"string":this.writeString(e,t);break;case"int":this.writeInt(e,t);break;case"long":this.writeInt64(e,t);break;case"float":this.writeFloat(e,t);break;case"double":this.writeDouble(e,t);break;case"hparcelable":this.writeHParcelable(e,t);break;case"hobject":this.writeHObject(e,t);break;case"hunknownobject":this.writeHUnknownObject(e,t);break;case"bytes":this.writeBytes(e,t);break;default:l.a.warn(p.j,"writeAny: is not supported type: ".concat(r))}}},{key:"writeBool",value:function(e,t){this.mWriter.writeBool(e,t)}},{key:"writeFloat",value:function(e,t){this.mWriter.writeFloat(e,this.anyTypeToNumber(t,!0))}},{key:"writeDouble",value:function(e,t){this.mWriter.writeDouble(e,this.anyTypeToNumber(t,!0))}},{key:"writeInt",value:function(e,t){this.mWriter.writeInt32(e,this.anyTypeToNumber(t))}},{key:"writeInt64",value:function(e,t){var r=this.anyTypeToNumber(t);isNaN(r)?l.a.warn(p.j,"writeInt64: longValue(".concat(J()(t),") not is number")):(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&l.a.warn(p.j,"writeInt64: longValue(".concat(t,') not within the safe range, it will be distorted.         You are advised to use "string" instead.')),this.mWriter.writeInt64(e,r)}},{key:"writeString",value:function(e,t){this.mWriter.writeString(e,this.anyTypeToString(t))}},{key:"writeBytes",value:function(e,t){t instanceof Uint8Array?this.mWriter.writeBytes(e,t):t instanceof Int8Array&&this.mWriter.writeBytes(e,new Uint8Array(t))}},{key:"writeRepeatAny",value:function(e,t,r){if(Array.isArray(t))switch(r){case"boolean":this.writeRepeatBool(e,t);break;case"string":this.writeRepeatString(e,t);break;case"int":this.writeRepeatInt32(e,t);break;case"long":this.writeRepeatInt64(e,t);break;case"float":this.writeRepeatFloat(e,t);break;case"double":this.writeRepeatDouble(e,t);break;case"hparcelable":this.writeRepeatHParcelable(e,t);break;default:l.a.warn(p.j,"writeRepeatAny: is not supported type: ".concat(r))}else l.a.debug(p.j,"writeRepeatAny: repeatedValue is not array! is ".concat(t))}},{key:"writeRepeatBool",value:function(e,t){Array.isArray(t)?this.mWriter.writeRepeatedBool(e,t):l.a.warn(p.j,"writeRepeatBool: skip! Because repeatedValue is not array! is ".concat(t))}},{key:"writeRepeatFloat",value:function(e,t){Array.isArray(t)?this.mWriter.writeRepeatedFloat(e,t):l.a.warn(p.j,"writeRepeatFloat: skip! Because repeatedValue is not array! is ".concat(t))}},{key:"writeRepeatDouble",value:function(e,t){Array.isArray(t)?this.mWriter.writeRepeatedDouble(e,t):l.a.warn(p.j,"writeRepeatDouble: skip! Because repeatedValue is not array! is ".concat(t))}},{key:"writeRepeatInt32",value:function(e,t){Array.isArray(t)?this.mWriter.writeRepeatedInt32(e,t):l.a.warn(p.j,"writeRepeatInt32: skip! Because repeatedValue is not array! is ".concat(t))}},{key:"writeRepeatInt64",value:function(e,t){if(Array.isArray(t)){for(var r=0;r<t.length;r++){var n=t[r];(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)&&l.a.warn(p.j,"writeRepeatInt64: repeatedValue[".concat(r,"](").concat(n,') not within the safe range,           it will be distorted. You are advised to use "string" instead.'))}this.mWriter.writeRepeatedInt64(e,t)}else l.a.warn(p.j,"writeRepeatInt64: skip! Because repeatedValue is not array! is ".concat(t))}},{key:"writeRepeatString",value:function(e,t){Array.isArray(t)?this.mWriter.writeRepeatedString(e,t):l.a.warn(p.j,"writeRepeatString: skip! Because repeatedValue is not array! is ".concat(t))}},{key:"writeHParcelable",value:function(e,t){var r=this;t&&"function"==typeof t.writeToParcel?this.mWriter.writeMessage(e,this,(function(){t.writeToParcel(r)})):l.a.debug(p.j,"writeHParcelable params parcelable error")}},{key:"writeRepeatHParcelable",value:function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];this.writeHParcelable(e,n)}else l.a.warn(p.j,"writeRepeatHParcelable: skip! Because repeatedValue is not array! is ".concat(t))}},{key:"writeHObject",value:function(e,t){void 0!==t?t.mId?(this.writeString(e,t.mId),this.mWriteHObjects[this.mWriteHObjectIndex]=t,this.mWriteHObjectIds[this.mWriteHObjectIndex++]=t.mId):l.a.warn(p.j,"writeHObject: skip! Because hObject is not HObject! No mId! "):l.a.warn(p.j,"writeHObject: skip! Because hObject is undefined!")}},{key:"writeHUnknownObject",value:function(e,t){void 0!==t?this.writeString(e,t.mId):l.a.warn(p.j,"writeHUnknownObject: skip! Because hUnknownObject is undefined!")}},{key:"anyTypeToNumber",value:function(e,t){switch(J()(e)){case"number":return e;case"boolean":return e?1:0;case"string":case"bigint":return t?parseFloat(e):parseInt(e);default:return NaN}}},{key:"anyTypeToString",value:function(e){switch(J()(e)){case"string":return e;case"object":return"[Object]";case"function":return"[Function]";case"symbol":return"[Symbol]";case"undefined":return"";default:return"".concat(e)}}}]),e}(),ie=m()((function e(t,r,n,i,o){b()(this,e),this.mSId=t,this.mProgId=r,this.mPath=n,this.mTrigger=i,this.mProc=o,this.mApiLevel=void 0})),oe=function(){function e(){b()(this,e),this.mProgInfos=new Map}return m()(e,[{key:"initPolicy",value:function(){l.a.debug(p.j,"init policy")}},{key:"addProgInfos",value:function(e,t,r,n,i){var o=new ie(e,t,r,n,i);this.mProgInfos.set(t,o)}},{key:"findInfoByProgId",value:function(e){return this.mProgInfos.get(e)}},{key:"findInfo",value:function(e,t,r){var n=this.findInfoByProgId(e);if(n)return n;var i=void 0,o=M.a.get("pafFramework","xpsfJsPafRegistryCenter");if(void 0!==o&&"function"==typeof o.findServiceInfo){var a=o.findServiceInfo(e);void 0!==a&&(i=!0===a.isSupportBinding?M.a.get("pafFramework","bindingJsTrigger"):M.a.get("pafFramework","xpsfJsTrigger"))}l.a.debug(p.j,"pafTrigger = ".concat(i));var s=M.a.get("hmscoreFramework","xpsfJsTrigger");l.a.debug(p.j,"defaultTrigger = ".concat(s));var u=new ie;return u.mSId=t,u.mProgId=e,u.mApiLevel=r,u.mTrigger=i||s||"jsb",u}}]),e}();function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}s()(oe,"defaultTrigger",M.a.get("hmscoreFramework","xpsfJsTrigger")||"jsb");var ue=function(){function e(){b()(this,e)}return m()(e,null,[{key:"createView",value:function(t,r){var n=this;return new Promise((function(i,o){if(t)if("string"==typeof t)if(r){if("string"==typeof r.mId)r=r.mId;else if("string"!=typeof r)return void o({errCode:-2,errMsg:"objId is not string or HObject"});var a=document.getElementById(t);if(a){var s=se(se({},e.initalPropsOf(a)),{},{objId:r,containerId:t});l.a.debug(p.j,"view props:",s),ze.createView({apiName:"createView",args:s,containerId:t,success:function(e){var t=new Le;t.mId=e.data.id,t.mAdapter=n,i(t)},fail:o})}else o({errCode:-2,errMsg:"Cannot find view with id '".concat(t,"'")})}else o({errCode:-2,errMsg:"objId is null"});else o({errCode:-2,errMsg:"containerId is not string"});else o({errCode:-2,errMsg:"containerId is null"})}))}},{key:"initalPropsOf",value:function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e,null);return{x:t.x,y:t.y,width:parseInt(r.getPropertyValue("width"),10),height:parseInt(r.getPropertyValue("height"),10)}}}]),e}(),ce=m()((function e(){b()(this,e)}));ce.asInterface=function(e){return new ce.Proxy(e)},ce.Proxy=function(){function e(t){b()(this,e),this.mRemoteObj=t}return m()(e,[{key:"createInstance",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new V;return new Promise((function(n){var i=new ne;i.writeHeader(r),i.writeString(1,e),t.mRemoteObj.mAdapter.transact(t.mRemoteObj,1,i).then((function(e){for(var t,r=e.readHeader();e.nextField()&&!e.isEndGroup();){switch(e.getFieldNumber()){case 1:t=e.readHObject();break;default:e.skipField()}}n(t,r)}))}))}}]),e}(),ce.IID_IClassFactory="IID_IClassFactory";var fe=r(16),le=r.n(fe),pe=r(11),he=r.n(pe),de=function(){function e(){b()(this,e),this.header=null,this.startDefaultSolution=null}return m()(e,[{key:"onTransact",value:function(t,r,n){var i=this;return new Promise((function(o,a){try{switch(t){case e.CODE_START_DEFAULT_SOLUTION:var s=0;for(i.header=r.readHeader();r.nextField()&&!r.isEndGroup();){switch(r.getFieldNumber()){case 1:s=r.readInt();break;default:r.skipField()}}return void i.callMethod(i.startDefaultSolution,"int",n,o,s);default:var u="IXPSFSolution ApiLevel is not match with the service's: "+"there is no function for code = ".concat(t);return l.a.error("HMSCore HIDL_Js",u),void a(new N(h.API_LEVEL_NOT_SUPPORT,u))}}catch(e){l.a.error("HMSCore HIDL_Js","IXPSFSolution onTransact code = ".concat(t,", ").concat(e.message)),a(e)}}))}},{key:"doCallBack",value:function(e,t,r,n){r&&(e.writeHeader(),e.writeAny(1,r,n)),t(e)}},{key:"callMethod",value:function(e,t,r,n){var i=this;if("function"==typeof e)if("function"==typeof n){for(var o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];var u=e.apply(void 0,a);u instanceof Promise?u.then((function(e){l.a.debug("HMSCore HIDL_Js","callMethod return Promise. asynReslut = ".concat(e)),i.doCallBack(r,n,e,t)})):this.doCallBack(r,n,u,t)}else l.a.debug("HMSCore HIDL_Js","callback is not a function. callback = ".concat(n));else l.a.debug("HMSCore HIDL_Js","method is not a function. method = ".concat(e))}}],[{key:"asInterface",value:function(t){return new e.Proxy(t)}}]),e}();s()(de,"API_LELVEL",1),s()(de,"CODE_START_DEFAULT_SOLUTION",1),s()(de,"Proxy",function(){function e(t){b()(this,e),this.mRemoteObj=t}var t;return m()(e,[{key:"startDefaultSolution",value:(t=le()(he.a.mark((function e(t){var r,n,i,o,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.a.debug("HMSCore HIDL_Js","IXPSFSolution Proxy startDefaultSolution."),r=new ne,e.next=5,this.mRemoteObj.mAdapter.createHeader(this.mRemoteObj);case 5:return n=e.sent,r.writeHeader(n),r.writeInt(1,t),e.next=10,this.mRemoteObj.mAdapter.transact(this.mRemoteObj,de.CODE_START_DEFAULT_SOLUTION,r);case 10:i=e.sent,l.a.debug("HMSCore HIDL_Js","IXPSFSolution Proxy startDefaultSolution result coming..."),i.readHeader(),o=0;case 14:if(!i.nextField()){e.next=27;break}if(!i.isEndGroup()){e.next=17;break}return e.abrupt("break",27);case 17:a=i.getFieldNumber(),e.t0=a,e.next=1===e.t0?21:23;break;case 21:return o=i.readInt(),e.abrupt("break",25);case 23:return i.skipField(),e.abrupt("break",25);case 25:e.next=14;break;case 27:return e.abrupt("return",o);case 30:throw e.prev=30,e.t1=e.catch(0),l.a.error("HMSCore HIDL_Js","IXPSFSolution Proxy startDefaultSolution, ".concat(e.t1.message)),e.t1;case 34:case"end":return e.stop()}}),e,this,[[0,30]])}))),function(e){return t.apply(this,arguments)})}]),e}());var ye=function(){function e(){b()(this,e),s()(this,"mIidPermissions",new Map),s()(this,"mApiPermissions",new Map),s()(this,"mDisableAuthObjs",new Set),s()(this,"mIsIidExport",new Map)}return m()(e,[{key:"registerPermission",value:function(e,t){this.mIidPermissions.set(e,t)}},{key:"registerApiPermission",value:function(e,t,r){var n;this.mApiPermissions.has(e)?null===(n=this.mApiPermissions.get(e))||void 0===n||n.set(t,r):this.mApiPermissions.set(e,new Map([[t,r]]))}},{key:"disableAuth",value:function(e){this.mDisableAuthObjs.add(e)}},{key:"registerIsServiceIidExport",value:function(e,t){this.mIsIidExport.set(e,t)}},{key:"getPermission",value:function(e){return this.mIidPermissions.get(e)}},{key:"getApiPermissions",value:function(e){return this.mApiPermissions.get(e)}},{key:"isAuthDisabled",value:function(e){return this.mDisableAuthObjs.has(e)}},{key:"getIsServiceIidExport",value:function(e){return this.mIsIidExport.get(e)}}]),e}();s()(ye,"JS_SERVICE_TYPE",1),s()(ye,"CPP_SERVICE_TYPE",2);var ge=m()((function e(){b()(this,e)})),ve=function(){function e(){b()(this,e)}return m()(e,null,[{key:"registerServiceInfo",value:function(e){var t=M.a.get("hmscoreFramework","registerCenter");e.initPermissions?e.initPermissions():l.a.debug(p.j,"Registered service initPermissions undefined"),e.initIsServiceIidExport?e.initIsServiceIidExport():l.a.debug(p.j,"Registered service initIsServiceIidExport undefined"),t.registerServiceInfo(e)}}]),e}();function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T()(e);if(t){var i=T()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S()(this,r)}}var we=function(e){E()(r,e);var t=be(r);function r(){return b()(this,r),t.apply(this,arguments)}return m()(r,[{key:"getType",value:function(){return ye.JS_SERVICE_TYPE}}]),r}(ye);function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T()(e);if(t){var i=T()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S()(this,r)}}var _e=function(e){E()(r,e);var t=me(r);function r(){return b()(this,r),t.apply(this,arguments)}return m()(r,[{key:"getType",value:function(){return ye.CPP_SERVICE_TYPE}}]),r}(ye);function Ee(){if(u.a.isOHOS()){var e=M.a.get("hmscoreFramework","xpsfJsTrigger");return Be.mSupprotAdapters[e]||Be.init(),Be.mSupprotAdapters[e]().getAppInfoManager()}}C({HError:N,HHeader:V,HBaseAdapter:U,HJSBAdapter:Fe,HObject:Le,HUnknownObject:re,HParcel:ne,HServiceRegistry:oe,HServiceRegistryInfo:ie,HViewHolder:ue,IXPSFSolution:de,IClassFactory:ce});var Ie=function(){function e(){b()(this,e)}return m()(e,null,[{key:"getAppId",value:function(){var e=Ee();return e?e.getAppId():new Promise((function(e,t){B.getAppId().then((function(r){var n=r.errCode,i=r.errMsg,o=r.data;0===n?e(o):t(new N(n,i))})).catch(t)}))}},{key:"getProjectId",value:function(){var e=Ee();return e?e.getProjectId():new Promise((function(e,t){t(new N(h.NOT_SUPPORTED_PLATFORM,"The HAppInfoManager.getProjectId method is not supported by the current platform."))}))}},{key:"getPackageName",value:function(){var e=Ee();return e?e.getPackageName():new Promise((function(e,t){B.getPackageName().then((function(r){var n=r.errCode,i=r.errMsg,o=r.data;0===n?e(o):t(new N(n,i))})).catch(t)}))}}]),e}();function Se(){if(u.a.isOHOS()){var e=M.a.get("hmscoreFramework","xpsfJsTrigger");return Be.mSupprotAdapters[e]||Be.init(),Be.mSupprotAdapters[e]().getCommonMessenger()}return new U}var Ae=function(){function e(){b()(this,e)}return m()(e,null,[{key:"on",value:function(e,t){u.a.isOHOS()?Se().on(e,t):l.a.debug(p.j,"The HCommonMessenger is not supported by the current platform.")}},{key:"off",value:function(e){u.a.isOHOS()?Se().off(e):l.a.debug(p.j,"The HCommonMessenger is not supported by the current platform.")}}]),e}(),Te=function(){function e(){b()(this,e),s()(this,"packageName",void 0),s()(this,"pageName",void 0),s()(this,"action",void 0),s()(this,"extra",void 0)}var t;return m()(e,[{key:"writeToParcel",value:function(e){try{e.writeString(1,this.packageName),e.writeString(2,this.pageName),e.writeString(3,this.action),e.writeString(4,this.extra)}catch(e){throw l.a.error("HMSCore HIDL_Js","HPageInfo writeToParcel ".concat(e.message)),e}}},{key:"registerHObject",value:(t=le()(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.a.debug("HMSCore HIDL_Js","registerHObject ".concat(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}],[{key:"creatorFromHParcel",value:function(t){try{var r=new e,n="",i="",o="",a="";return t.readHParcelable((function(e){for(;e.nextField()&&!e.isEndGroup();){switch(e.getFieldNumber()){case 1:n=e.readString();break;case 2:i=e.readString();break;case 3:o=e.readString();break;case 4:a=e.readString();break;default:e.skipField()}}})),r.packageName=n,r.pageName=i,r.action=o,r.extra=a,r}catch(e){throw l.a.error("HMSCore HIDL_Js","HPageInfo creatorFromHParcel ".concat(e.message)),e}}}]),e}(),Oe=Te;function Re(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}var ke=new WeakMap,Pe=function(){function e(t){b()(this,e),Re(this,ke,{writable:!0,value:void 0});var r=function(){if(u.a.isOHOS()){var e=M.a.get("hmscoreFramework","xpsfJsTrigger");return Be.mSupprotAdapters[e]||Be.init(),Be.mSupprotAdapters[e]().getPreferencesManager()}}();if(r)P()(this,ke,new r(t));else{l.a.debug(p.j,"The HPreferencesManager is not supported by the current platform.");var n=function(){return new Promise((function(){l.a.debug(p.j,"The HPreferencesManager is not supported by the current platform.")}))};P()(this,ke,{get:n,set:n,has:n,delete:n,clear:n,synchronize:n})}}return m()(e,[{key:"get",value:function(e,t){return R()(this,ke).get(e,t)}},{key:"set",value:function(e,t){return R()(this,ke).set(e,t)}},{key:"has",value:function(e){return R()(this,ke).has(e)}},{key:"delete",value:function(e){return R()(this,ke).delete(e)}},{key:"clear",value:function(){return R()(this,ke).clear()}},{key:"synchronize",value:function(){return R()(this,ke).synchronize()}}]),e}();function Ne(){return M.a.get("pafFramework","pafTrace")}var xe=function(){function e(){b()(this,e)}return m()(e,null,[{key:"traceBegin",value:function(e,t){var r=Ne();if(r)return r.traceBegin(e,t)}},{key:"traceError",value:function(e,t){var r=Ne();r&&r.traceError(e,t)}},{key:"traceEnd",value:function(e,t){var r=Ne();r&&r.traceEnd(e,t)}}]),e}(),je={mSupprotAdapters:[],init:function(){this.registerAdapter("ohos.base",(function(){return M.a.get("hmscoreFramework","abilityManager")}))},registerAdapter:function(e,t){this.mSupprotAdapters[e]=t},start:function(e,t,r){var n=this;return l.a.debug(p.j,"startAbilityForResult enter"),this.init(),l.a.debug(p.j,"startAbilityForResult end"),new Promise((function(i,o){u.a.isOHOS()?n.mSupprotAdapters["ohos.base"]().startAbilityForResult(e,t,r).then(i,o):(l.a.debug(p.j,"HAbilityManager is not find adapter"),o())}))}};function Ce(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}C({HAppInfoManager:Ie,HCommonMessenger:Ae,HGlobalVariableManager:M.a,HLogger:l.a,HPageInfo:Te,HPreferencesManager:Pe,HTrace:xe});var Me=new WeakMap,He=new WeakMap,Le=function(){function e(){b()(this,e),s()(this,"mId",u.a.uniqueId("hobject")),s()(this,"mAdapter",void 0),s()(this,"mRemoteStub",void 0),Ce(this,Me,{writable:!0,value:void 0}),Ce(this,He,{writable:!0,value:{}})}return m()(e,[{key:"onTransact",value:function(e,t,r,n){throw new N(h.INVOKE_UNIMPLEMENTED_METHOD,"The onTransact method is not implemented on the HObject.")}},{key:"bindRemoteObject",value:function(e,t){this.unbindRemoteObject(),this.mId=e,P()(this,Me,ze.on(e,(function(e){var r=e;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){l.a.warn(p.j,"resultData is not JSON string. ".concat(r))}if("string"==typeof r.value&&void 0===r.transferData)try{r=JSON.parse(r.value)}catch(e){l.a.warn(p.j,"resultData.value is not JSON string. ".concat(r.value))}"function"==typeof t&&t(r||{})}),R()(this,He)))}},{key:"unbindRemoteObject",value:function(){this.mId&&R()(this,Me)&&(ze.off(this.mId,R()(this,Me),R()(this,He)),P()(this,Me,void 0))}},{key:"release",value:function(){l.a.debug(p.j,"HObject release"),this.unbindRemoteObject()}}]),e}();function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T()(e);if(t){var i=T()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S()(this,r)}}Object.defineProperty(Le.prototype,"refCount",{get:function(){return this._refCount||0},set:function(e){this._refCount=e,0===e&&this.release()}});var Fe=function(e){E()(r,e);var t=De(r);function r(){return b()(this,r),t.apply(this,arguments)}return m()(r,[{key:"hGetClassObject",value:function(e,t){var r=this;return new Promise((function(n,i){ze.invoke({apiName:"service.hGetClassObject",args:{sId:e.mSId,iId:t,path:e.mPath,apiLevel:e.mApiLevel},success:function(e){var t=new Le;t.mId=e.data.id,t.mAdapter=r,n(t)},fail:i})}))}},{key:"transact",value:function(e,t,r){var n=this;return new Promise((function(i){ze.invoke({apiName:"service.transact",args:{stubId:e.mId,code:t,transferData:r.toBase64(),extras:r.mWriteHObjectIds},success:function(e){if("HIDL_JSB no value returned."!==e.data){var t=(new ne).fromBase64(e.data);t.mAdapter=n,i(t)}else i("success. no value returened.")}})}))}},{key:"newStub",value:function(e){return new Promise((function(t){ze.invoke({apiName:"service.newStub",args:{mode:1},success:function(r){e.bindRemoteObject(r.data,(function(t){var r=t.code,n=t.transferData,i=(new ne).fromBase64(n);e.onTransact(r,i,new ne,0)})),t(e)}})}))}}]),r}(U);Fe.type="jsb";var Be={mRegistry:void 0,mSupprotAdapters:[],init:function(){this.registerAdapter(Fe.type,(function(){return new Fe})),this.registerAdapter("ohos.base",(function(){return M.a.get("hmscoreFramework","xpsfJsAdapter")})),this.registerAdapter("paf.base",(function(){return M.a.get("pafFramework","xpsfJsPafAdapter")})),this.registerAdapter("paf.binding",(function(){return M.a.get("pafFramework","bindingJsPafAdapter")}))},registerAdapter:function(e,t){this.mSupprotAdapters[e]=t},hCreateInstance:function(e){for(var t,r=e.apiLevel,n=void 0===r?1:r,i=e.progId,o=e.iId,a=e.success,s=e.failed,c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];if("string"==typeof e&&f.length>0&&(i=e,o=f[0],a=f[1],s=f[2]),void 0===this.mRegistry&&(l.a.debug(p.j,"mRegistry is null."),this.mRegistry=new oe,this.mRegistry.initPolicy(),this.init()),u.a.isOHOS()||u.a.isSupportPAF()){var d=this.mRegistry.findInfo(i,"",n);t=this.mSupprotAdapters[d.mTrigger]().hGetClassObject(d,o)}else{var y=this.mRegistry.findInfoByProgId(i);y.mApiLevel=n,t=this.mSupprotAdapters[y.mTrigger]().hGetClassObject(y,ce.IID_IClassFactory).then((function(e){return ce.asInterface(e).createInstance(o)}))}return"function"==typeof a||"function"==typeof s?void t.then(a).catch(s):t},hGetClassObject:function(e,t,r){void 0===this.mRegistry&&(this.mRegistry=new oe,this.mRegistry.initPolicy());var n=this.mRegistry.findInfoByProgId(e);l.a.debug(p.j,"hGetClassObject info = ".concat(JSON.stringify(n))),this.mSupprotAdapters[n.mTrigger]().hGetClassObject(n,t).then((function(e){l.a.debug(p.j,"HServiceManager hGetClassObject result ".concat(e.mId)),r(e)}))}},Ue=function(){function e(){b()(this,e),this.header=null,this.sendRequest=null}return m()(e,[{key:"onTransact",value:function(t,r,n){var i=this;return new Promise((function(o,a){try{switch(t){case e.CODE_SEND_REQUEST:var s="";for(i.header=r.readHeader();r.nextField()&&!r.isEndGroup();){switch(r.getFieldNumber()){case 1:s=r.readString();break;default:r.skipField()}}return void i.callMethod(i.sendRequest,"string",n,o,s);default:return a(new N),void l.a.debug("HMSCore HIDL_Js","there is no function in JSBCompat for code = ".concat(t))}}catch(e){l.a.error("HMSCore HIDL_Js","JSBCompat onTransact code = ".concat(t,", ").concat(e.message)),a(e)}}))}},{key:"doCallBack",value:function(e,t,r,n){r&&(e.writeHeader(),e.writeAny(1,r,n)),t(e)}},{key:"callMethod",value:function(e,t,r,n){var i=this;if("function"==typeof e)if("function"==typeof n){for(var o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];var u=e.apply(void 0,a);u instanceof Promise?u.then((function(e){l.a.debug("HMSCore HIDL_Js","callMethod return Promise. asynReslut = ".concat(e)),i.doCallBack(r,n,e,t)})):this.doCallBack(r,n,u,t)}else l.a.debug("HMSCore HIDL_Js","callback is not a function. callback = ".concat(n));else l.a.debug("HMSCore HIDL_Js","method is not a function. method = ".concat(e))}}],[{key:"asInterface",value:function(t){return new e.Proxy(t)}}]),e}();s()(Ue,"API_LELVEL",1),s()(Ue,"CODE_SEND_REQUEST",1),s()(Ue,"Proxy",function(){function e(t){b()(this,e),this.mRemoteObj=t}var t;return m()(e,[{key:"sendRequest",value:(t=le()(he.a.mark((function e(t){var r,n,i,o,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.a.debug("HMSCore HIDL_Js","JSBCompat Proxy sendRequest."),r=new ne,e.next=5,this.mRemoteObj.mAdapter.createHeader();case 5:return n=e.sent,r.writeHeader(n),r.writeString(1,t),e.next=10,this.mRemoteObj.mAdapter.transact(this.mRemoteObj,Ue.CODE_SEND_REQUEST,r);case 10:i=e.sent,l.a.debug("HMSCore HIDL_Js","JSBCompat Proxy sendRequest result coming..."),i.readHeader(),o="";case 14:if(!i.nextField()){e.next=27;break}if(!i.isEndGroup()){e.next=17;break}return e.abrupt("break",27);case 17:a=i.getFieldNumber(),e.t0=a,e.next=1===e.t0?21:23;break;case 21:return o=i.readString(),e.abrupt("break",25);case 23:return i.skipField(),e.abrupt("break",25);case 25:e.next=14;break;case 27:return e.abrupt("return",o);case 30:e.prev=30,e.t1=e.catch(0),l.a.error("HMSCore HIDL_Js","JSBCompat Proxy sendRequest, ".concat(e.t1.message));case 33:return e.abrupt("return",void 0);case 34:case"end":return e.stop()}}),e,this,[[0,30]])}))),function(e){return t.apply(this,arguments)})}]),e}());var Ve=function(e,t){return l.a.debug(p.j,"apiName: ".concat(e,", args: ").concat(JSON.stringify(t))),new Promise((function(r,n){if("fg.request"===e||"bg.request"===e)if("string"==typeof(null==t?void 0:t.uri)){var i=t.uri.split("."),o=f()(i),a=o[0],s=o.slice(1);Be.hCreateInstance({progId:a,iId:s.join("."),apiLevel:(null==t?void 0:t.api_level)||1}).then((function(e){var i=JSON.stringify(t);Ue.asInterface(e).sendRequest(i).then((function(e){r(e)})).catch((function(e){var t=e.code,r=e.message;n({errCode:t,errMsg:r})}))})).catch(n)}else n({errCode:h.PARAMETER_INVALID,errMsg:'"args.uri" is required.'});else n({errCode:h.PARAMETER_INVALID,errMsg:'Invoke only "bg.request" and "fg.request" are supported.'})}))};function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Je,Ge,Ye={},Xe={};function qe(e,t,r){var n={id:u.a.uniqueId("cb_"),success:e,fail:t,complete:r};return Ye[n.id]=n,n.id}function Ke(e){var t;try{"string"==typeof e?t=JSON.parse(e):(l.a.info(p.j,"result is not string",e),t=e)}catch(r){t={errCode:-1,errMsg:"callback result parsing error"},l.a.error(p.j,"json parse failed, ".concat(e))}return t}var ze={initAppId:function(e){M.a.set("hmscoreFramework","hmsSubId",e),l.a.info("initAppId(), appId:".concat(e))},invoke:function(e){var t=this,r=e.apiName,n=e.args,i=e.success,o=e.fail,a=e.complete;if(l.a.info(p.j,"invoke start, apiName: ".concat(r)),r){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({subId:M.a.get("hmscoreFramework","hmsSubId")},n),f=JSON.stringify(c);Ze();var h={};h.apiName=r,h.args=c;var d={};if(d.bundleName=p.e,d.abilityName=p.c,!(i&&"function"==typeof i||o&&"function"==typeof o||a&&"function"==typeof a)){if(u.a.isHarmonyWebview())return new Promise((function(e,t){var n={method:r,data:c};try{e(Ke(window.invoke.call(JSON.stringify(n))))}catch(e){l.a.error(p.j,"Harmony webview invoke",e),t(e)}}));if(u.a.isOHOS())return Ve(r,c);if(u.a.isHarmony())return d.messageCode=p.g,d.data=h,d.abilityType=p.b,d.syncOption=p.h,function(e){return new Promise((function(t,r){e.then((function(e){t(Ke(e))})).catch((function(e){r(Ke(e))}))}))}(FeatureAbility.callAbility(d));if(u.a.isCordova())return new Promise((function(e,t){var n={method:r,data:c};window.cordova.exec((function(t){e(Ke(t))}),(function(e){t(Ke(e))}),"JSCore","invoke",n)}));if(u.a.isCapacitor()){var y={method:r,data:c};return window.Capacitor.Plugins.JSBCapacitorPlugin.invoke(y)}return new Promise((function(e){e(Ke(u.a.getJSCore().invoke(r,f)))}))}var g=qe(i,o,a);if(l.a.info(p.j,"invoke Async, callbackId:".concat(g)),u.a.isHarmonyWebview()){var v={method:r,data:c,callback:g};try{window.invokeAsync.call(JSON.stringify(v))}catch(e){l.a.error(p.j,"Harmony webview invokeAsync",e),this.callback(g,e)}}else if(u.a.isOHOS())Ve(r,c).then((function(e){ze.callback(g,e)})).catch((function(e){l.a.error(p.j,"ohos adapter invokeAsync failed ".concat(JSON.stringify(e))),ze.callback(g,e)}));else if(u.a.isHarmony())h.callbackId=g,d.messageCode=p.d,d.data=h,d.abilityType=p.b,d.syncOption=p.a,FeatureAbility.callAbility(d).then((function(e){var t=Ke(e);"callback result parsing error"!==t.errMsg&&ze.callback(g,t.data)}),(function(e){l.a.error(p.j,"call ability failed ".concat(e))}));else if(u.a.isQickApp())u.a.getJSCore().invokeAsync({apiName:r,args:f,callbackId:g,callback:this.callback});else if(u.a.isCordova()){var b={method:r,data:c};window.cordova.exec((function(e){t.callback(g,e)}),(function(e){t.callback(g,e)}),"JSCore","invokeAsync",b)}else if(u.a.isCapacitor()){var w={method:r,data:c};window.Capacitor.Plugins.JSBCapacitorPlugin.invokeAsync(w).then((function(e){ze.callback(g,e.value)})).catch((function(e){l.a.error(p.j,"capacitor adapter invokeAsync failed",e)}))}else u.a.getJSCore().invokeAsync(r,f,g)}},callback:function(e,t){if(l.a.info(p.j,"callback start, cbId: ".concat(e)),t){var r=Ye[e];if(r){!function(e){delete Ye[e.id]}(r);var n=Ke(t);if("callback result parsing error"===n.errMsg&&"function"==typeof r.fail)return void r.fail(n);var i={errCode:n.errCode,errMsg:n.errMsg||"",data:n.data,extras:n.extras};0===n.errCode?("function"==typeof r.success&&r.success(i),"function"==typeof r.complete&&r.complete(i)):("function"==typeof r.fail&&r.fail(i),"function"==typeof r.complete&&r.complete(i))}}else l.a.error(p.j,"callback params is null")},on:function(e,t,r){if(l.a.info(p.j,"on start, eventName: ".concat(e)),r&&u.a.isHarmony())return function(e,t,r){var n={id:u.a.uniqueId("ecb_"),eventName:e,callback:t};return r[n.id]=n,n.id}(e,t,r);if(!u.a.isWeex()){if(u.a.isRN())return Ge.addListener(e,(function(e){var r;try{r=JSON.parse(e)}catch(e){return}t(r)}));if(u.a.isCapacitor())return window.Capacitor.Plugins.JSBCapacitorPlugin.addListener(e,(function(e){t(e)}));u.a.isCordova()&&0===Object.keys(Xe).length&&window.cordova.exec(ze.cordovaHandler,ze.cordovaHandler,"JSCore","addEventListener",{eventName:e});var n=u.a.uniqueId("subscribeEvent_");l.a.info(p.j,"on browser, offKey: ".concat(n));var i=Xe["event_"+e];return i||(i={},Xe["event_"+e]=i),i[n]=t,n}weex.requireModule("globalEvent").addEventListener(e,t)},off:function(e,t,r){if(l.a.info(p.j,"off start, eventName: ".concat(e,", offKey: ").concat(t)),r&&u.a.isHarmony())delete r[t];else if(u.a.isWeex()){weex.requireModule("globalEvent").removeEventListener(e)}else if(u.a.isRN()||u.a.isCapacitor())t&&t.remove();else{var n=Xe["event_"+e];if(n)if("string"==typeof t)delete n[t];else if("function"==typeof t){var i=Object.keys(n).filter((function(e){return n[e]===t}));i&&i.length&&delete n[i[0]]}}},publishHandler:function(e,t){var r;l.a.info(p.j,"publishHandler start, eventName: ".concat(e));try{r=JSON.parse(t)}catch(e){l.a.error(p.j,"pushEvent data parsing error"),r=t}var n=Xe["event_"+e];n&&Object.keys(n).forEach((function(e){var t=n[e];"function"==typeof t&&t(r)}))},cordovaHandler:function(e){e&&ze.publishHandler(e.event,e.data)},createView:function(e){var t=this,r=e.apiName,n=e.args,i=e.containerId,a=e.success,s=e.fail,c=e.complete,f=void 0!==n?JSON.stringify(n):"",l=qe(a,s,c);if(u.a.isCordova())window.cordova.exec((function(e){t.callback(l,e)}),(function(e){t.callback(l,e)}),"JSCoreView","createView",n);else if(u.a.isWebView()){var p,h=u.a.getPositionInfoById(i);(p=u.a.getJSCore()).createView.apply(p,[r,f,l,i].concat(o()(h)))}else u.a.getJSCore().createView(r,f,l,i)},scrollViewToY:function(e,t){u.a.isWebView()&&u.a.getJSCore().scrollViewToY(e,t)},init:function(e){if(l.a.info(p.j,"init start"),u.a.isRN()){var t=e.NativeModules;u.a.setJSCore(t.JSCore),Ge=e.DeviceEventEmitter,Ze(),this.utils=t.ModuleUtils}else if(u.a.isHarmony()){var r={};r.bundleName=p.e,r.abilityName=p.c,r.messageCode=p.f,r.abilityType=p.b,r.syncOption=p.a,FeatureAbility.subscribeAbilityEvent(r,(function(t){var r;try{r=JSON.parse(t)}catch(e){return void l.a.error(p.j,"subscribe event result parse error: ".concat(t))}var n=r.data.eventName;Object.keys(e).forEach((function(t){var i=e[t];n===i.eventName&&i.callback(r.data.eventResult)}))})).catch((function(e){return l.a.error(p.j,"subscribe event fail",e)}))}},destroy:function(){l.a.info(p.j,"destroy start"),u.a.isRN()?Je&&Je.remove():u.a.isCordova()&&window.cordova.exec(ze.cordovaHandler,ze.cordovaHandler,"JSCore","removeEventListener")}};function Ze(){u.a.isWebView()||u.a.isHarmonyWebview()?window.JSBridge=ze:u.a.isWeex()?ze.on(p.k,(function(e){var t=e.id,r=e.value;ze.callback(t,r)})):u.a.isRN()?Ge&&(Je&&Je.remove(),Je=ze.on(p.i,(function(e){var t=e.id,r=e.value;ze.callback(t,r)}))):u.a.isQickApp()&&(u.a.getJSCore().onEventCallBack=ze.publishHandler)}if(Ze(),u.a.isHarmonyWebview()&&document.currentScript&&document.currentScript.href){var Qe=document.currentScript.href;l.a.info(p.j,"script href: ".concat(document.currentScript.href));var $e=Qe.match(/[?&]appid=([^&=]+)/i);$e&&$e[1]&&ze.initAppId($e[1])}}])}));

/***/ }),

/***/ "./node_modules/@topon/quick-app-sdk-hw/app.js":
/*!*****************************************************!*\
  !*** ./node_modules/@topon/quick-app-sdk-hw/app.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

Object.defineProperty(exports, "__esModule", ({value:!0})),exports["default"]=void 0;var e=v(__webpack_require__(/*! union-quick-app-ad/app.js */ "./node_modules/union-quick-app-ad/app.js")),t=v($app_require$("@app-module/system.device")),n=v($app_require$("@app-module/system.package")),o=v($app_require$("@app-module/system.network")),r=v($app_require$("@app-module/system.app")),l=v($app_require$("@app-module/system.storage")),i=v($app_require$("@app-module/service.ad")),u=v($app_require$("@app-module/system.fetch")),a=v($app_require$("@app-module/system.file")),c=v($app_require$("@app-module/system.router")),s=v($app_require$("@app-module/system.prompt")),d=v(__webpack_require__(/*! js-md5 */ "./node_modules/js-md5/src/md5.js")),f=v(__webpack_require__(/*! js-base64 */ "./node_modules/js-base64/base64.js")),p=v(__webpack_require__(/*! ./bundle */ "./node_modules/@topon/quick-app-sdk-hw/bundle/index.js"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,k(o.key),o)}}function k(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var $=Object.getPrototypeOf(global)||global,O="internal://files/toponad/".concat("".concat("4.2.11"),"/core-render.js"),x="local",j="http://192.168.86.113:7001";function w(e){try{new Function(e)()}catch(e){console.error("load sdk error",e)}}function P(){return new Promise((function(e,t){u.default.fetch({url:"".concat(j,"/core/render/core-render.js"),responseType:"text",method:"GET",success:function(t){a.default.writeText({uri:O,text:t.data,success:function(){},fail:function(e,t){}}),e(t.data)},fail:function(e,n){t()}})}))}function _(a){try{var p;$.$topon_sdk&&($.$topon_sdk.api={device:t.default,pkg:n.default,network:o.default,app:r.default,storage:l.default,ad:i.default,$fetch:u.default,router:c.default,prompt:s.default,md5:d.default,jsBase64:f.default}),new $.$topon_sdk(this,a),new e.default(this);var v=(null==a||null===(p=a.config)||void 0===p?void 0:p.ylhAppId)||"";if(v)try{new(0,(__webpack_require__(/*! ylh-quick-app-ad-sdk */ "./node_modules/ylh-quick-app-ad-sdk/index.js")["default"]))(this,{appId:v})}catch(e){}}catch(e){console.error("init sdk error",e)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.app,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);this.$ctx=n,delete o.app,$&&$.$topon_sdk?_.call(n,o):"local"===x?(w.call(n,p.default,!1),_.call(n,o)):a.default.readText({uri:O,success:function(e){w.call(n,e.text),_.call(n,o)},fail:function(e,t){P.call(n).then((function(e){w.call(n,e,!1),_.call(n,o)}))}})}var t,n,o;return t=e,(n=[{key:"setChannel",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setChannel.call(this.$ctx,e)}},{key:"setSubChannel",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setSubChannel.call(this.$ctx,e)}},{key:"setCustomParam",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setCustomParam.call(this.$ctx,e)}},{key:"setPlacementCustomParam",value:function(e){var t;return null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.setPlacementCustomParam.call(this.$ctx,e)}},{key:"onShow",value:function(){var e,t;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.publish("app-on-show"),null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.onShow.call(this.$ctx)}},{key:"onHide",value:function(){var e,t;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.publish("app-on-hide"),null==this||null===(t=this.$ctx)||void 0===t||null===(t=t.$def)||void 0===t||null===(t=t.topon_sdk)||void 0===t?void 0:t.onHide.call(this.$ctx)}},{key:"onDestroy",value:function(){var e;return null==this||null===(e=this.$ctx)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e?void 0:e.onDestroy.call(this.$ctx)}}])&&m(t.prototype,n),o&&m(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();exports["default"]=g;

/***/ }),

/***/ "./node_modules/@topon/quick-app-sdk-hw/bundle/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@topon/quick-app-sdk-hw/bundle/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _default = "!function(){function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},o=\"function\"==typeof Symbol?Symbol:{},d=o.iterator||\"@@iterator\",s=o.asyncIterator||\"@@asyncIterator\",l=o.toStringTag||\"@@toStringTag\";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var r=e&&e.prototype instanceof _?e:_,o=Object.create(r.prototype),d=new D(n||[]);return a(o,\"_invoke\",{value:T(t,i,d)}),o}function h(t,e,i){try{return{type:\"normal\",arg:t.call(e,i)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=u;var p=\"suspendedStart\",f=\"executing\",v=\"completed\",m={};function _(){}function g(){}function y(){}var I={};c(I,d,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(L([])));k&&k!==n&&r.call(k,d)&&(I=k);var w=y.prototype=_.prototype=Object.create(I);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function i(n,a,o,d){var s=h(t[n],t,a);if(\"throw\"!==s.type){var l=s.arg,c=l.value;return c&&\"object\"==typeof c&&r.call(c,\"__await\")?e.resolve(c.__await).then((function(t){i(\"next\",t,o,d)}),(function(t){i(\"throw\",t,o,d)})):e.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return i(\"throw\",t,o,d)}))}d(s.arg)}var n;a(this,\"_invoke\",{value:function(t,r){function a(){return new e((function(e,n){i(t,r,e,n)}))}return n=n?n.then(a,a):a()}})}function T(e,i,n){var r=p;return function(a,o){if(r===f)throw Error(\"Generator is already running\");if(r===v){if(\"throw\"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var d=n.delegate;if(d){var s=A(d,n);if(s){if(s===m)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(r===p)throw r=v,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=f;var l=h(e,i,n);if(\"normal\"===l.type){if(r=n.done?v:\"suspendedYield\",l.arg===m)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(r=v,n.method=\"throw\",n.arg=l.arg)}}}function A(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,\"throw\"===n&&e.iterator.return&&(i.method=\"return\",i.arg=t,A(e,i),\"throw\"===i.method)||\"return\"!==n&&(i.method=\"throw\",i.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var a=h(r,e.iterator,i.arg);if(\"throw\"===a.type)return i.method=\"throw\",i.arg=a.arg,i.delegate=null,m;var o=a.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,\"return\"!==i.method&&(i.method=\"next\",i.arg=t),i.delegate=null,m):o:(i.method=\"throw\",i.arg=new TypeError(\"iterator result is not an object\"),i.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function L(e){if(e||\"\"===e){var i=e[d];if(i)return i.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return a.next=a}}throw new TypeError(typeof e+\" is not iterable\")}return g.prototype=y,a(w,\"constructor\",{value:y,configurable:!0}),a(y,\"constructor\",{value:g,configurable:!0}),g.displayName=c(y,l,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,\"GeneratorFunction\")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new S(u(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(w),c(w,l,\"Generator\"),c(w,d,(function(){return this})),c(w,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(C),!e)for(var i in this)\"t\"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(n,r){return d.type=\"throw\",d.arg=e,i.next=n,r&&(i.method=\"next\",i.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],d=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var s=r.call(o,\"catchLoc\"),l=r.call(o,\"finallyLoc\");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var a=n;break}}a&&(\"break\"===t||\"continue\"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method=\"next\",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if(\"throw\"===n.type){var r=n.arg;C(i)}return r}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,i,n){return this.delegate={iterator:L(e),resultName:i,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function n(t){var e=function(t,e){if(\"object\"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||\"default\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:e+\"\"}function r(t){return r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},r(t)}function a(t,e,i,n,r,a,o){try{var d=t[a](o),s=d.value}catch(t){return void i(t)}d.done?e(s):Promise.resolve(s).then(n,r)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function d(t){a(o,n,r,d,s,\"next\",t)}function s(t){a(o,n,r,d,s,\"throw\",t)}d(void 0)}))}}function d(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function l(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function c(t,e,i){return(e=n(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t,e){return function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)===e}function h(t){return u(t,\"String\")}function p(t){return u(t,\"Number\")}function f(t){return u(t,\"Object\")}function v(t){for(var e in t)if({}.hasOwnProperty.call(t,e))return!1;return!0}function m(t,e){var i=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);if(i.length!==n.length)return!1;for(var r=0;r<i.length;r+=1){var a=i[r];if(t[a]!==e[a])return!1}return!0}function _(t){if(\"string\"==typeof t)try{var e=JSON.parse(t);return!(\"object\"!==r(e)||!e)}catch(t){return!1}}var g={VIVO:54,OPPO:55,BAIDU:56,HUAWEI:60,XIAOMI:61,HUAWEI_AGD_PRO:62,HONOR:63,YLH:64,ADX:66},y={VIVO:54,OPPO:55,YLH:64};function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.separator||\"-\",n=e.split||/(?=[A-Z])/;return t.split(n).join(i).toLowerCase()}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=\"hb\"===t?y:g,i=Object.values(e)||[];return i}var k=[\"containerStyle\",\"imgStyle\",\"titleStyle\",\"buttonStyle\",\"descStyle\"],w={g:function(){if(\"object\"==(\"undefined\"==typeof globalThis?\"undefined\":r(globalThis)))return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==(\"undefined\"==typeof window?\"undefined\":r(window)))return window}}()},x=Object.getPrototypeOf(w.g)||w.g;function S(){return x&&x.$topon_sdk?x.$topon_sdk.api:null}function T(t,e){var i=[];for(var n in e)i.push(n+\"=\"+e[n]);var r=i.join(\"&\");return r?\"\".concat(t,\"?\").concat(r):t}function A(t,e){return Math.floor(Math.random()*(e-t))+t}function E(t,e){for(var i=e.length,n=[],r=0;r<i;r++){var a=e[r].key,o=e[r].value,d=\"\".concat(a,\"=\").concat(o);n.push(d)}return L(t+n.join(\"&\"))}function C(t){return S().jsBase64.Base64.encode(t)}function D(t){return JSON.stringify(t).replace(/\\//g,\"\\\\/\")}function L(t){return(0,S().md5)(t).toString()}function O(t,i){var n=e({},t);return Object.keys(i).forEach((function(e){t[e]&&t[e]===i[e]||(n[e]=i[e])})),n}function R(){var t,e=(null===(t=global)||void 0===t?void 0:t.navigator)||{},i=e.userAgent||\"\",n=e.vendor||\"\";return\"\".concat(i,\" \").concat(n).toLowerCase()}function P(t,e,i){var n=t.nwFirmIds||[];return(t.unitIds||[]).includes(1*i)?9006:n.includes(1*e)?9007:0}function U(t,e){e||(e=this.$app&&this.$app.$def.manifest.config&&this.$app.$def.manifest.config.designWidth);var i=p(e)?e/750:1,n={};for(var r in t)if(t.hasOwnProperty(r))if(t[r]&&f(t[r]))n[r]=U.call(this,t[r]);else if(h(t[r])&&t[r].endsWith(\"px\")){var a=parseInt(t[r].split(\"px\")[0],10);p(a)&&(n[r]=a*i+\"px\")}else n[r]=t[r];return n}function $(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(e));if(i)for(var a in r)k.includes(a)||delete r[a];function o(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(f(n))for(var r in n)n.hasOwnProperty(r)&&(f(n[r])?o(t[i][r],n[r]):!t[i]||t[i][r]&&t[i][r]===n[r]||(t[i][r]=n[r]));else t[i]&&t[i]===n||(t[i]=n)}}return o(n,r),null!=n&&n.imgPropertiesStyle&&null!=n&&n.imgStyle&&(n.imgPropertiesStyle=Object.assign({},n.imgPropertiesStyle,n.imgStyle),delete n.imgPropertiesStyle.position),n}function N(t,e,i){var n,r,a,o=null!==(n=null!==(r=null===(a=this.$app)||void 0===a?void 0:a.$def)&&void 0!==r?r:this.$def)&&void 0!==n?n:null;o&&null!=o&&o.topon_sdk&&(o.topon_sdk.cache[t]||(o.topon_sdk.cache[t]=Object.create(null)),o.topon_sdk.cache[t][e]=i)}function j(t,e){var i,n,r,a,o,d=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def)&&void 0!==i?i:null;return d&&null!=d&&d.topon_sdk&&null!==(a=null===(o=d.topon_sdk)||void 0===o||null===(o=o.cache[t])||void 0===o?void 0:o[e])&&void 0!==a?a:null}function F(t,e){var i,n,r,a,o,d=null!==(i=null==t?void 0:t.width)&&void 0!==i?i:0,s=null!==(n=null==t?void 0:t.height)&&void 0!==n?n:0,l=null!==(r=null==e?void 0:e.screenWidth)&&void 0!==r?r:750,c=null!==(a=null==e?void 0:e.screenHeight)&&void 0!==a?a:1415,u=(null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.manifest)||void 0===o||null===(o=o.config)||void 0===o?void 0:o.designWidth)||750;return d*s/(u*(u*(c/l)))}function B(t){var e=this;null!=this&&this.$nextTick?this.$nextTick((function(){return t.call(e)})):void 0!==(\"undefined\"==typeof Promise?\"undefined\":r(Promise))?Promise.resolve().then(t):setTimeout(t,0)}var W=\"TOPON_AD_CACHE\",q=function(){function t(){d(this,t),this._storage={}}var e,n,r,a;return l(t,[{key:\"_getKey\",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return t;var i=I(t,{separator:\"_\"});return i=\"\".concat(W,\"_\").concat(i.toUpperCase())}},{key:\"batch\",value:(a=o(i().mark((function t(e){var n,r,a=this,o=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],r=[],Object.keys(e).forEach((function(t){r.push(a.setItem(t,e[t],n))})),t.abrupt(\"return\",Promise.all(r));case 4:case\"end\":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:\"setItem\",value:(r=o(i().mark((function t(e,n){var r,a,o,d,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(s.length>2&&void 0!==s[2])||s[2],a=this._getKey(e,r),o=S(),d=o.storage,t.abrupt(\"return\",d.set({key:a,value:n}));case 4:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:\"getItem\",value:(n=o(i().mark((function t(e){var n,r,a,o,d,s,l,c=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(c.length>1&&void 0!==c[1])||c[1],a=this._getKey(e,r),o=S(),d=o.storage,t.next=5,d.get({key:a});case 5:return s=t.sent,l=null!==(n=null==s?void 0:s.data)&&void 0!==n?n:\"\",t.abrupt(\"return\",_(l)?JSON.parse(l):l);case 8:case\"end\":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:\"delete\",value:(e=o(i().mark((function t(e){var n,r,a=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!(a.length>1&&void 0!==a[1])||a[1],r=this._getKey(e,n),S().storage.delete({key:r});case 4:case\"end\":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:\"clear\",value:function(){S().storage.clear()}}]),t}(),M=new q,V=function(){function t(){d(this,t),this._device={}}var e,n,r,a,s;return l(t,[{key:\"getInfo\",value:(s=o(i().mark((function t(){var e,n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=S(),r=n.device,t.next=4,r.getInfo();case 4:return a=t.sent,o=null!==(e=null==a?void 0:a.data)&&void 0!==e?e:{},t.abrupt(\"return\",o);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",{});case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return s.apply(this,arguments)})},{key:\"getAdvertisingId\",value:(a=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getAdvertisingId();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.advertisingId)&&void 0!==e?e:\"\",t.abrupt(\"return\",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",\"\");case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return a.apply(this,arguments)})},{key:\"getOaId\",value:(r=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getOAID();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.oaid)&&void 0!==e?e:\"\",t.abrupt(\"return\",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",\"\");case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:\"getUserId\",value:(n=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=S(),a=r.device,t.next=4,a.getUserId();case 4:return o=t.sent,d=null!==(e=null==o||null===(n=o.data)||void 0===n?void 0:n.userId)&&void 0!==e?e:\"\",t.abrupt(\"return\",d);case 9:t.prev=9,t.t0=t.catch(0);case 11:return t.abrupt(\"return\",\"\");case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])}))),function(){return n.apply(this,arguments)})},{key:\"getDeviceIds\",value:(e=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=\"\",n=\"\",r=\"\",a=\"\",o=S(),d=o.device,t.prev=2,t.next=5,M.getItem(\"needDevice\");case 5:if(\"1\"!=t.sent){t.next=17;break}return t.next=9,d.getId({type:[\"device\",\"mac\",\"user\"]});case 9:p=t.sent,f=null!==(s=null==p?void 0:p.data)&&void 0!==s?s:{},e=null!==(l=null==f?void 0:f.advertising)&&void 0!==l?l:\"\",n=null!==(c=null==f?void 0:f.user)&&void 0!==c?c:\"\",r=null!==(u=null==f?void 0:f.device)&&void 0!==u?u:\"\",a=null!==(h=null==f?void 0:f.mac)&&void 0!==h?h:\"\",t.next=30;break;case 17:return t.next=19,d.getUserId();case 19:return _=t.sent,n=null!==(v=null==_||null===(m=_.data)||void 0===m?void 0:m.userId)&&void 0!==v?v:\"\",t.prev=21,t.next=24,d.getAdvertisingId();case 24:I=t.sent,e=null!==(g=null==I||null===(y=I.data)||void 0===y?void 0:y.advertisingId)&&void 0!==g?g:\"\",t.next=30;break;case 28:t.prev=28,t.t0=t.catch(21);case 30:t.next=39;break;case 32:return t.prev=32,t.t1=t.catch(2),201===t.t1.code&&M.setItem(\"needDevice\",\"0\"),t.next=37,d.getUserId();case 37:w=t.sent,n=null!==(b=null==w||null===(k=w.data)||void 0===k?void 0:k.userId)&&void 0!==b?b:\"\";case 39:return t.abrupt(\"return\",{device:r,mac:a,user:n,advertising:e});case 40:case\"end\":return t.stop()}}),t,null,[[2,32],[21,28]])}))),function(){return e.apply(this,arguments)})}]),t}(),H=new V;function G(){return Y.apply(this,arguments)}function Y(){return(Y=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=\"upId\",a=\"\",t.next=4,M.getItem(r);case 4:if(o=t.sent,[\"d41d8cd98f00b204e9800998ecf8427e\",\"9f89c84a559f573636a47ff8daed0d33\"].includes(a=o)&&(a=\"\",M.delete(r)),!a){t.next=9;break}return t.abrupt(\"return\",a);case 9:return t.next=11,H.getDeviceIds();case 11:return d=t.sent,t.next=14,H.getOaId();case 14:if(t.t0=t.sent,t.t0){t.next=17;break}t.t0=\"\";case 17:if(s=t.t0,l=null!==(e=null==d?void 0:d.advertising)&&void 0!==e?e:\"\",c=null!==(n=null==d?void 0:d.user)&&void 0!==n?n:\"\",!l){t.next=24;break}a=L(l),t.next=36;break;case 24:if(!s||\"00000000-0000-0000-0000-000000000000\"===s){t.next=28;break}a=L(s),t.next=36;break;case 28:if(!c){t.next=32;break}a=L(c),t.next=36;break;case 32:return t.next=34,M.getItem(\"appId\");case 34:u=t.sent,a=L(u+Date.now()+A(0,1e8));case 36:return t.next=38,M.setItem(r,a);case 38:return t.abrupt(\"return\",a);case 39:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function K(){return z.apply(this,arguments)}function z(){return(z=o(i().mark((function t(){var e,n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return e=t.sent,t.next=5,M.getItem(\"appId\");case 5:return n=t.sent,t.next=8,M.getItem(\"currentInitTime\");case 8:return r=t.sent,a=L(e+n+r),t.abrupt(\"return\",a);case 11:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){return Q.apply(this,arguments)}function Q(){return(Q=o(i().mark((function t(e){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return n=t.sent,r=Date.now(),a=L(n+e+r),t.abrupt(\"return\",a);case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return Z.apply(this,arguments)}function Z(){return(Z=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(new Date).getTime(),t.next=3,H.getDeviceIds();case 3:return a=t.sent,t.next=6,G();case 6:for(o=t.sent,d=null!==(e=null==a?void 0:a.user)&&void 0!==e?e:\"\",s=null!==(n=null==a?void 0:a.advertising)&&void 0!==n?n:\"\",l=[d,s,o,r],c=A(0,1e4),u=l.length,h=[],p=0;p<u;p++)h.push(l[p]);return h.push(c),f=h.join(\"&\"),v=L(f),t.abrupt(\"return\",v);case 18:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}var tt=e({},g),et=e({},y),it={54:\"unit_id\",55:\"unit_id\",56:\"placement_id\",60:\"ad_id\",61:\"unit_id\",62:\"ad_id\",63:\"unit_id\",64:\"unit_id\"},nt={\"2g\":\"1\",\"3g\":\"3\",\"4g\":\"13\",\"5g\":\"15\",wifi:\"-2\",none:\"-1\"},rt=new(function(){function t(){d(this,t),this.code={54:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,2e3,9e3,9001,9006,9007],loading:[1105],show:[1101,1106]},55:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},56:{load:[\"error\",\"adError\",9e3,9001,9006,9007],loading:[],show:[\"error\",1101]},60:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},61:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},62:{load:[1e3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1100,1102,1103,1104,1105,2e3,9e3,9001,9006,9007],loading:[8e3],show:[1101,1106]},63:{load:[1e3,1001,1002,1003,1004],loading:[],show:[]},64:{load:[1001,1004,1100],loading:[],show:[]},66:{load:[9006,9007,9008],loading:[],show:[1101]}}}return l(t,[{key:\"codeToEvent\",value:function(t,e){var i,n,r,a=isNaN(e)?e:1*e;return null!==(i=this.code[t])&&void 0!==i&&null!==(i=i.load)&&void 0!==i&&i.includes(a)?\"load\":null!==(n=this.code[t])&&void 0!==n&&null!==(n=n.loading)&&void 0!==n&&n.includes(a)?\"loading\":null!==(r=this.code[t])&&void 0!==r&&null!==(r=r.show)&&void 0!==r&&r.includes(a)?\"show\":\"unknown\"}}]),t}()),at={100133:1001,136001:1001,136002:1001,136004:1001,102006:1004,109502:1100},ot=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};var dt=function(){this.__data__=[],this.size=0};var st=function(t,e){return t===e||t!=t&&e!=e},lt=st;var ct=function(t,e){for(var i=t.length;i--;)if(lt(t[i][0],e))return i;return-1},ut=ct,ht=Array.prototype.splice;var pt=ct;var ft=ct;var vt=ct;var mt=dt,_t=function(t){var e=this.__data__,i=ut(e,t);return!(i<0)&&(i==e.length-1?e.pop():ht.call(e,i,1),--this.size,!0)},gt=function(t){var e=this.__data__,i=pt(e,t);return i<0?void 0:e[i][1]},yt=function(t){return ft(this.__data__,t)>-1},It=function(t,e){var i=this.__data__,n=vt(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};function bt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}bt.prototype.clear=mt,bt.prototype.delete=_t,bt.prototype.get=gt,bt.prototype.has=yt,bt.prototype.set=It;var kt=bt,wt=kt;var xt=function(){this.__data__=new wt,this.size=0};var St=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i};var Tt=function(t){return this.__data__.get(t)};var At=function(t){return this.__data__.has(t)},Et=\"object\"==typeof ot&&ot&&ot.Object===Object&&ot,Ct=Et,Dt=\"object\"==typeof self&&self&&self.Object===Object&&self,Lt=Ct||Dt||Function(\"return this\")(),Ot=Lt.Symbol,Rt=Ot,Pt=Object.prototype,Ut=Pt.hasOwnProperty,$t=Pt.toString,Nt=Rt?Rt.toStringTag:void 0;var jt=function(t){var e=Ut.call(t,Nt),i=t[Nt];try{t[Nt]=void 0;var n=!0}catch(t){}var r=$t.call(t);return n&&(e?t[Nt]=i:delete t[Nt]),r},Ft=Object.prototype.toString;var Bt=jt,Wt=function(t){return Ft.call(t)},qt=Ot?Ot.toStringTag:void 0;var Mt=function(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":qt&&qt in Object(t)?Bt(t):Wt(t)};var Vt=function(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)},Ht=Mt,Gt=Vt;var Yt,Kt=function(t){if(!Gt(t))return!1;var e=Ht(t);return\"[object Function]\"==e||\"[object GeneratorFunction]\"==e||\"[object AsyncFunction]\"==e||\"[object Proxy]\"==e},zt=Lt[\"__core-js_shared__\"],Xt=(Yt=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+Yt:\"\";var Qt=function(t){return!!Xt&&Xt in t},Jt=Function.prototype.toString;var Zt=function(t){if(null!=t){try{return Jt.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"},te=Kt,ee=Qt,ie=Vt,ne=Zt,re=/^\\[object .+?Constructor\\]$/,ae=Function.prototype,oe=Object.prototype,de=ae.toString,se=oe.hasOwnProperty,le=RegExp(\"^\"+de.call(se).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");var ce=function(t){return!(!ie(t)||ee(t))&&(te(t)?le:re).test(ne(t))},ue=function(t,e){return null==t?void 0:t[e]};var he=function(t,e){var i=ue(t,e);return ce(i)?i:void 0},pe=he(Lt,\"Map\"),fe=he(Object,\"create\"),ve=fe;var me=function(){this.__data__=ve?ve(null):{},this.size=0};var _e=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ge=fe,ye=Object.prototype.hasOwnProperty;var Ie=function(t){var e=this.__data__;if(ge){var i=e[t];return\"__lodash_hash_undefined__\"===i?void 0:i}return ye.call(e,t)?e[t]:void 0},be=fe,ke=Object.prototype.hasOwnProperty;var we=fe;var xe=me,Se=_e,Te=Ie,Ae=function(t){var e=this.__data__;return be?void 0!==e[t]:ke.call(e,t)},Ee=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=we&&void 0===e?\"__lodash_hash_undefined__\":e,this};function Ce(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ce.prototype.clear=xe,Ce.prototype.delete=Se,Ce.prototype.get=Te,Ce.prototype.has=Ae,Ce.prototype.set=Ee;var De=Ce,Le=kt,Oe=pe;var Re=function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t};var Pe=function(t,e){var i=t.__data__;return Re(e)?i[\"string\"==typeof e?\"string\":\"hash\"]:i.map},Ue=Pe;var $e=Pe;var Ne=Pe;var je=Pe;var Fe=function(){this.size=0,this.__data__={hash:new De,map:new(Oe||Le),string:new De}},Be=function(t){var e=Ue(this,t).delete(t);return this.size-=e?1:0,e},We=function(t){return $e(this,t).get(t)},qe=function(t){return Ne(this,t).has(t)},Me=function(t,e){var i=je(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};function Ve(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ve.prototype.clear=Fe,Ve.prototype.delete=Be,Ve.prototype.get=We,Ve.prototype.has=qe,Ve.prototype.set=Me;var He=kt,Ge=pe,Ye=Ve;var Ke=kt,ze=xt,Xe=St,Qe=Tt,Je=At,Ze=function(t,e){var i=this.__data__;if(i instanceof He){var n=i.__data__;if(!Ge||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ye(n)}return i.set(t,e),this.size=i.size,this};function ti(t){var e=this.__data__=new Ke(t);this.size=e.size}ti.prototype.clear=ze,ti.prototype.delete=Xe,ti.prototype.get=Qe,ti.prototype.has=Je,ti.prototype.set=Ze;var ei=ti;var ii=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t},ni=he,ri=function(){try{var t=ni(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();var ai=function(t,e,i){\"__proto__\"==e&&ri?ri(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i},oi=ai,di=st,si=Object.prototype.hasOwnProperty;var li=function(t,e,i){var n=t[e];si.call(t,e)&&di(n,i)&&(void 0!==i||e in t)||oi(t,e,i)},ci=li,ui=ai;var hi=function(t,e,i,n){var r=!i;i||(i={});for(var a=-1,o=e.length;++a<o;){var d=e[a],s=n?n(i[d],t[d],d,i,t):void 0;void 0===s&&(s=t[d]),r?ui(i,d,s):ci(i,d,s)}return i};var pi=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n};var fi=function(t){return null!=t&&\"object\"==typeof t},vi=Mt,mi=fi;var _i=function(t){return mi(t)&&\"[object Arguments]\"==vi(t)},gi=fi,yi=Object.prototype,Ii=yi.hasOwnProperty,bi=yi.propertyIsEnumerable,ki=_i(function(){return arguments}())?_i:function(t){return gi(t)&&Ii.call(t,\"callee\")&&!bi.call(t,\"callee\")},wi=ki,xi=Array.isArray,Si={};var Ti=function(){return!1};!function(t,e){var i=Lt,n=Ti,r=e&&!e.nodeType&&e,a=r&&t&&!t.nodeType&&t,o=a&&a.exports===r?i.Buffer:void 0,d=(o?o.isBuffer:void 0)||n;t.exports=d}({get exports(){return Si},set exports(t){Si=t}},Si);var Ai=/^(?:0|[1-9]\\d*)$/;var Ei=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&(\"number\"==i||\"symbol\"!=i&&Ai.test(t))&&t>-1&&t%1==0&&t<e};var Ci=function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Di=Mt,Li=Ci,Oi=fi,Ri={};Ri[\"[object Float32Array]\"]=Ri[\"[object Float64Array]\"]=Ri[\"[object Int8Array]\"]=Ri[\"[object Int16Array]\"]=Ri[\"[object Int32Array]\"]=Ri[\"[object Uint8Array]\"]=Ri[\"[object Uint8ClampedArray]\"]=Ri[\"[object Uint16Array]\"]=Ri[\"[object Uint32Array]\"]=!0,Ri[\"[object Arguments]\"]=Ri[\"[object Array]\"]=Ri[\"[object ArrayBuffer]\"]=Ri[\"[object Boolean]\"]=Ri[\"[object DataView]\"]=Ri[\"[object Date]\"]=Ri[\"[object Error]\"]=Ri[\"[object Function]\"]=Ri[\"[object Map]\"]=Ri[\"[object Number]\"]=Ri[\"[object Object]\"]=Ri[\"[object RegExp]\"]=Ri[\"[object Set]\"]=Ri[\"[object String]\"]=Ri[\"[object WeakMap]\"]=!1;var Pi=function(t){return Oi(t)&&Li(t.length)&&!!Ri[Di(t)]};var Ui=function(t){return function(e){return t(e)}},$i={};!function(t,e){var i=Et,n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,a=r&&r.exports===n&&i.process,o=function(){try{var t=r&&r.require&&r.require(\"util\").types;return t||a&&a.binding&&a.binding(\"util\")}catch(t){}}();t.exports=o}({get exports(){return $i},set exports(t){$i=t}},$i);var Ni=Pi,ji=Ui,Fi=$i&&$i.isTypedArray,Bi=Fi?ji(Fi):Ni,Wi=pi,qi=wi,Mi=xi,Vi=Si,Hi=Ei,Gi=Bi,Yi=Object.prototype.hasOwnProperty;var Ki=function(t,e){var i=Mi(t),n=!i&&qi(t),r=!i&&!n&&Vi(t),a=!i&&!n&&!r&&Gi(t),o=i||n||r||a,d=o?Wi(t.length,String):[],s=d.length;for(var l in t)!e&&!Yi.call(t,l)||o&&(\"length\"==l||r&&(\"offset\"==l||\"parent\"==l)||a&&(\"buffer\"==l||\"byteLength\"==l||\"byteOffset\"==l)||Hi(l,s))||d.push(l);return d},zi=Object.prototype;var Xi=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||zi)};var Qi=function(t,e){return function(i){return t(e(i))}},Ji=Qi(Object.keys,Object),Zi=Xi,tn=Ji,en=Object.prototype.hasOwnProperty;var nn=Kt,rn=Ci;var an=function(t){return null!=t&&rn(t.length)&&!nn(t)},on=Ki,dn=function(t){if(!Zi(t))return tn(t);var e=[];for(var i in Object(t))en.call(t,i)&&\"constructor\"!=i&&e.push(i);return e},sn=an;var ln=function(t){return sn(t)?on(t):dn(t)},cn=hi,un=ln;var hn=function(t,e){return t&&cn(e,un(e),t)};var pn=Vt,fn=Xi,vn=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e},mn=Object.prototype.hasOwnProperty;var _n=Ki,gn=function(t){if(!pn(t))return vn(t);var e=fn(t),i=[];for(var n in t)(\"constructor\"!=n||!e&&mn.call(t,n))&&i.push(n);return i},yn=an;var In=function(t){return yn(t)?_n(t,!0):gn(t)},bn=hi,kn=In;var wn=function(t,e){return t&&bn(e,kn(e),t)},xn={};!function(t,e){var i=Lt,n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,a=r&&r.exports===n?i.Buffer:void 0,o=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,n=o?o(i):new t.constructor(i);return t.copy(n),n}}({get exports(){return xn},set exports(t){xn=t}},xn);var Sn=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e};var Tn=function(){return[]},An=function(t,e){for(var i=-1,n=null==t?0:t.length,r=0,a=[];++i<n;){var o=t[i];e(o,i,t)&&(a[r++]=o)}return a},En=Tn,Cn=Object.prototype.propertyIsEnumerable,Dn=Object.getOwnPropertySymbols,Ln=Dn?function(t){return null==t?[]:(t=Object(t),An(Dn(t),(function(e){return Cn.call(t,e)})))}:En,On=hi,Rn=Ln;var Pn=function(t,e){return On(t,Rn(t),e)};var Un=function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t},$n=Qi(Object.getPrototypeOf,Object),Nn=Un,jn=$n,Fn=Ln,Bn=Tn,Wn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Nn(e,Fn(t)),t=jn(t);return e}:Bn,qn=hi,Mn=Wn;var Vn=function(t,e){return qn(t,Mn(t),e)},Hn=Un,Gn=xi;var Yn=function(t,e,i){var n=e(t);return Gn(t)?n:Hn(n,i(t))},Kn=Yn,zn=Ln,Xn=ln;var Qn=function(t){return Kn(t,Xn,zn)},Jn=Yn,Zn=Wn,tr=In;var er=function(t){return Jn(t,tr,Zn)},ir=he(Lt,\"DataView\"),nr=pe,rr=he(Lt,\"Promise\"),ar=he(Lt,\"Set\"),or=he(Lt,\"WeakMap\"),dr=Mt,sr=Zt,lr=\"[object Map]\",cr=\"[object Promise]\",ur=\"[object Set]\",hr=\"[object WeakMap]\",pr=\"[object DataView]\",fr=sr(ir),vr=sr(nr),mr=sr(rr),_r=sr(ar),gr=sr(or),yr=dr;(ir&&yr(new ir(new ArrayBuffer(1)))!=pr||nr&&yr(new nr)!=lr||rr&&yr(rr.resolve())!=cr||ar&&yr(new ar)!=ur||or&&yr(new or)!=hr)&&(yr=function(t){var e=dr(t),i=\"[object Object]\"==e?t.constructor:void 0,n=i?sr(i):\"\";if(n)switch(n){case fr:return pr;case vr:return lr;case mr:return cr;case _r:return ur;case gr:return hr}return e});var Ir=yr,br=Object.prototype.hasOwnProperty;var kr=function(t){var e=t.length,i=new t.constructor(e);return e&&\"string\"==typeof t[0]&&br.call(t,\"index\")&&(i.index=t.index,i.input=t.input),i},wr=Lt.Uint8Array;var xr=function(t){var e=new t.constructor(t.byteLength);return new wr(e).set(new wr(t)),e},Sr=xr;var Tr=function(t,e){var i=e?Sr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)},Ar=/\\w*$/;var Er=function(t){var e=new t.constructor(t.source,Ar.exec(t));return e.lastIndex=t.lastIndex,e},Cr=Ot?Ot.prototype:void 0,Dr=Cr?Cr.valueOf:void 0;var Lr=xr;var Or=xr,Rr=Tr,Pr=Er,Ur=function(t){return Dr?Object(Dr.call(t)):{}},$r=function(t,e){var i=e?Lr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)};var Nr=function(t,e,i){var n=t.constructor;switch(e){case\"[object ArrayBuffer]\":return Or(t);case\"[object Boolean]\":case\"[object Date]\":return new n(+t);case\"[object DataView]\":return Rr(t,i);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return $r(t,i);case\"[object Map]\":case\"[object Set]\":return new n;case\"[object Number]\":case\"[object String]\":return new n(t);case\"[object RegExp]\":return Pr(t);case\"[object Symbol]\":return Ur(t)}},jr=Vt,Fr=Object.create,Br=function(){function t(){}return function(e){if(!jr(e))return{};if(Fr)return Fr(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),Wr=$n,qr=Xi;var Mr=function(t){return\"function\"!=typeof t.constructor||qr(t)?{}:Br(Wr(t))},Vr=Ir,Hr=fi;var Gr=function(t){return Hr(t)&&\"[object Map]\"==Vr(t)},Yr=Ui,Kr=$i&&$i.isMap,zr=Kr?Yr(Kr):Gr,Xr=Ir,Qr=fi;var Jr=function(t){return Qr(t)&&\"[object Set]\"==Xr(t)},Zr=Ui,ta=$i&&$i.isSet,ea=ta?Zr(ta):Jr,ia=ei,na=ii,ra=li,aa=hn,oa=wn,da=xn,sa=Sn,la=Pn,ca=Vn,ua=Qn,ha=er,pa=Ir,fa=kr,va=Nr,ma=Mr,_a=xi,ga=Si,ya=zr,Ia=Vt,ba=ea,ka=ln,wa=In,xa=\"[object Arguments]\",Sa=\"[object Function]\",Ta=\"[object Object]\",Aa={};Aa[xa]=Aa[\"[object Array]\"]=Aa[\"[object ArrayBuffer]\"]=Aa[\"[object DataView]\"]=Aa[\"[object Boolean]\"]=Aa[\"[object Date]\"]=Aa[\"[object Float32Array]\"]=Aa[\"[object Float64Array]\"]=Aa[\"[object Int8Array]\"]=Aa[\"[object Int16Array]\"]=Aa[\"[object Int32Array]\"]=Aa[\"[object Map]\"]=Aa[\"[object Number]\"]=Aa[Ta]=Aa[\"[object RegExp]\"]=Aa[\"[object Set]\"]=Aa[\"[object String]\"]=Aa[\"[object Symbol]\"]=Aa[\"[object Uint8Array]\"]=Aa[\"[object Uint8ClampedArray]\"]=Aa[\"[object Uint16Array]\"]=Aa[\"[object Uint32Array]\"]=!0,Aa[\"[object Error]\"]=Aa[Sa]=Aa[\"[object WeakMap]\"]=!1;var Ea=function t(e,i,n,r,a,o){var d,s=1&i,l=2&i,c=4&i;if(n&&(d=a?n(e,r,a,o):n(e)),void 0!==d)return d;if(!Ia(e))return e;var u=_a(e);if(u){if(d=fa(e),!s)return sa(e,d)}else{var h=pa(e),p=h==Sa||\"[object GeneratorFunction]\"==h;if(ga(e))return da(e,s);if(h==Ta||h==xa||p&&!a){if(d=l||p?{}:ma(e),!s)return l?ca(e,oa(d,e)):la(e,aa(d,e))}else{if(!Aa[h])return a?e:{};d=va(e,h,s)}}o||(o=new ia);var f=o.get(e);if(f)return f;o.set(e,d),ba(e)?e.forEach((function(r){d.add(t(r,i,n,r,e,o))})):ya(e)&&e.forEach((function(r,a){d.set(a,t(r,i,n,a,e,o))}));var v=u?void 0:(c?l?ha:ua:l?wa:ka)(e);return na(v||e,(function(r,a){v&&(r=e[a=r]),ra(d,a,t(r,i,n,a,e,o))})),d},Ca=Ea;var Da=function(t){return Ca(t,5)},La=function(){function t(){d(this,t),this.reqUgNum=1,this.progress=0,this.isFirst=!0,this.statusList=[],this.STATUS_WAITING=\"waiting\",this.STATUS_LOADING=\"loading\",this.STATUS_CACHING=\"caching\",this.STATUS_TIMEOUT=\"timeout\",this.STATUS_EXPIRED=\"expired\",this.STATUS_FAILED=\"failed\",this.STATUS_SHOWED=\"showed\"}return l(t,[{key:\"load\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.progress=0;var n=[];e.forEach((function(e,i){var r=e.unit_id,a={index:i,itemId:r,unitId:r,nwFirmId:e.nw_firm_id,ecpm:e.ecpm,ecpmSort:e.s_pty,rank:e.sp_ps,rankSort:0,status:t.STATUS_WAITING,expirationTime:0,context:{},type:0,unit:Da(e)};n.push(a)})),(null==n?void 0:n.length)>1&&Oa(n),n.sort((function(t,e){var i=e.ecpmSort-t.ecpmSort,n=e.rankSort-t.rankSort;return 0===i?n:i})),n.forEach((function(t,e){t.index=e}));var r=i.reqUgNum,a=void 0===r?1:r;this.reqUgNum=a,this.progress=a-1,this.isFirst=!0,this.initStatusList(n)}},{key:\"merge\",value:function(t){var e,i=this;if(!(t.length<=0)){var n=[];t.forEach((function(t){var e=t.unit_id,r=t.nw_firm_id,a=t.ecpm,o=t.s_pty,d=t.nw_cache_time,s={index:0,itemId:e,unitId:e,nwFirmId:r,ecpm:a,ecpmSort:o,rank:t.sp_ps,rankSort:0,status:i.STATUS_WAITING,expirationTime:Date.now()+d,context:{},type:66==r?2:1,unit:Da(t)};n.push(s)})),(e=this.statusList).push.apply(e,n),this.statusList.sort((function(t,e){var i=e.ecpmSort-t.ecpmSort,n=e.type-t.type;return 0===i?n:i})),this.statusList.forEach((function(t,e){t.index=e,[1,2].includes(t.type)&&t.index<=i.progress&&(t.status=i.STATUS_LOADING),t.unit.bidTk&&(t.unit.bidTk.sortPriority=e+1)}))}}},{key:\"scheduler\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=[this.STATUS_WAITING],n=[this.STATUS_CACHING,this.STATUS_SHOWED],r=[this.STATUS_LOADING,this.STATUS_CACHING],a=[this.STATUS_LOADING,this.STATUS_CACHING,this.STATUS_TIMEOUT,this.STATUS_SHOWED],o=[],d=[],s=[],l=[];if(this.statusList.forEach((function(e,c){a.includes(e.status)&&o.push(e.itemId),r.includes(e.status)&&c<=t.progress&&d.push(e.itemId),i.includes(e.status)&&s.push(e.itemId),n.includes(e.status)&&l.push(e.itemId)})),e)return o;if((d.length<this.reqUgNum||this.isFirst)&&l.length<1){var c=this.reqUgNum-d.length,u=s.slice(0,c);this.statusList.forEach((function(e,i){u.includes(e.itemId)&&(e.status=t.STATUS_LOADING,t.progress=i)})),o=o.concat(u),this.isFirst=!1}return o}},{key:\"selecter\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"STATUS_CACHING\",i=Date.now(),n={};return this.statusList.forEach((function(r,a){[t[e]].includes(r.status)&&(0===r.expirationTime||r.expirationTime>i)&&v(n)&&(n=r)})),n}},{key:\"itemIdSeleter\",value:function(){var t=this.selecter();return t&&t.itemId?t.itemId:null}},{key:\"indexSeleter\",value:function(){var t=this.selecter();return t&&t.index?t.index:null}},{key:\"setLoading\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_LOADING,e)}},{key:\"setCaching\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setStatus(t,this.STATUS_CACHING,e,i)}},{key:\"setTimeout\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_TIMEOUT,e)}},{key:\"setFailed\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_FAILED,e)}},{key:\"setShowed\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setStatus(t,this.STATUS_SHOWED,e)}},{key:\"getIndex\",value:function(t){var e=0;return this.statusList.forEach((function(i){i.itemId===t&&(e=i.index)})),e}},{key:\"getStatusList\",value:function(){return this.statusList}},{key:\"initStatusList\",value:function(t){var e=this,i=[],n=Date.now();t.forEach((function(t){e.statusList.forEach((function(i){i.itemId===t.itemId&&[e.STATUS_CACHING].includes(i.status)&&(0===i.expirationTime||i.expirationTime>n)&&(t.status=e.STATUS_CACHING,t.context=i.context,t.expirationTime=i.expirationTime)})),i.push(t)})),this.statusList=i}},{key:\"setStatus\",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.expirationTime,o=void 0===a?0:a;this.statusList.forEach((function(r){r.itemId===t&&(r.status=e,e===i.STATUS_CACHING&&(r.expirationTime=o,r.context=n))}))}},{key:\"isExpired\",value:function(){var t=this,e=0,i=Date.now(),n=this.statusList.filter((function(e){return[t.STATUS_LOADING,t.STATUS_TIMEOUT,t.STATUS_CACHING,t.STATUS_SHOWED].includes(e.status)}));return!(n.length<=0)&&(n.forEach((function(n,r){[t.STATUS_LOADING,t.STATUS_TIMEOUT,t.STATUS_SHOWED].includes(n.status)?t.setStatus(n.itemId,t.STATUS_EXPIRED):0===n.expirationTime||n.expirationTime>i?e++:t.setStatus(n.itemId,t.STATUS_EXPIRED)})),e<=0)}},{key:\"isFailed\",value:function(){var t=this;return this.statusList.filter((function(e){return e.status===t.STATUS_FAILED})).length>=this.statusList.length}},{key:\"isExist\",value:function(t){var e=!1;return this.statusList.forEach((function(i){i.itemId===t&&(e=!0)})),e}},{key:\"isLoaded\",value:function(){var t=this,e=this.statusList.filter((function(e){return e.status===t.STATUS_CACHING}));return(null==e?void 0:e.length)>0}}]),t}();function Oa(t){var e,i=(e=\"ecpmSort\",t.reduce((function(t,i){return t[i[e]]=t[i[e]]||[],t[i[e]].push(i),t}),{}));Object.keys(i).forEach((function(e){var n=Da(i[e]);if(!(n.length<=1||Ra(n,\"rank\"))){var r=function(t){var e=[];function i(t){if(t.length)if(1!==t.length)for(var n=t.length,r=function(){var r=A(1,Pa(t,\"rank\")),a=function(t,e){for(var i=[[1,t[0][e]]],n=t.length,r=1;r<n;r++){var a=i[i.length-1][1]+1,o=a+t[r][e]-1;i.push([a,o])}return i}(Da(t),\"rank\"),o=a.findIndex((function(t){return t[0]<=r&&r<=t[1]})),d={index:t.splice(o,1)[0].index,rankSort:n};e.push(d),i(t)},a=0;a<t.length;a++)r();else{var o={index:t[0].index,rankSort:1};e.push(o)}}return i(t),e}(n);r.forEach((function(e){t[e.index].rankSort=e.rankSort}))}}))}var Ra=function(t,e){return t.every((function(i){return i[e]===t[0][e]}))},Pa=function(t,e){return t.reduce((function(t,i){return t+i[e]}),0)};function Ua(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.rawResponse,n=void 0!==i&&i;return new Promise((function(e,i){S().$fetch.fetch({url:t.url,method:t.method,header:{\"Content-Type\":\"application/json;charset=utf-8\"},data:t.data}).then((function(t){if(n)e(t.data);else{var i=t.data,r=_(null==i?void 0:i.data)?JSON.parse(null==i?void 0:i.data):i.data;e(r)}})).catch((function(t){i(t)})).finally((function(){e()}))}))}function $a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.timeout,n=void 0===i?2e4:i;try{return Promise.race([Ua(t,e),new Promise((function(t,e){setTimeout((function(){e(new Error(\"网络状况不太好，再刷新一次？\"))}),n)}))])}catch(t){}}Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))};var Na=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $a({method:\"post\",url:t,data:e},i)},ja=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $a({method:\"get\",url:T(t,e)},i)},Fa=\"http://da.anythinktech.com\",Ba=\"4.2.11\",Wa={API_ERROR:\"1004616\",STRATEGY_REQUEST_TIME:\"1004635\",LOAD_FAILED:\"1004630\",REQUEST_FAILED:\"1004631\",IS_READY:\"1004632\",SHOW_FAILED:\"1004633\",CAN_NOT_GET_DEVICE_INFO:\"1004681\",HOT_START_INTERVAL_TIME:\"1004682\",STAY_TIME:\"1004644\",CALLBACK_ERROR:\"1004683\",CLICK_URL_FAIL:\"1004648\",DEEPLINK_RESULT:\"1004650\",BID_LOSS:\"1004659\",BID_WIN:\"1004667\",BID_MERGE_TO_WF:\"1004668\",ADX_WEBVIEW_ACTION:\"1004675\",ADX_IMP_INVALID:\"1100004\",GET_AD:\"1100001\",VIVO_AD_PRICE:\"1100002\",AD_FEEDBACK:\"1004652\",BANNER_HIDE:\"1100003\"};function qa(t){return Ma.apply(this,arguments)}function Ma(){return(Ma=o(i().mark((function t(n){var r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,O,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L=null!==(r=null===(a=this.$app)||void 0===a?void 0:a.$def)&&void 0!==r?r:this.$def,O=(null==L?void 0:L.topon_sdk)||{},P=O.appKey,U=O.appId,$=O.store,N=O.channelId,j=void 0===N?\"\":N,F=O.subChannelId,B=void 0===F?\"\":F,W=R(),q=S(),V=q.app,Y=q.network,v(null==$||null===(o=$.device)||void 0===o?void 0:o.info)){t.next=8;break}t.t0=null==$||null===(d=$.device)||void 0===d?void 0:d.info,t.next=14;break;case 8:return t.next=10,H.getInfo();case 10:if(t.t1=t.sent,t.t1){t.next=13;break}t.t1={};case 13:t.t0=t.t1;case 14:return z=t.t0,Q=V.getInfo()||{},t.next=18,Y.getType();case 18:if(t.t2=t.sent,t.t2){t.next=21;break}t.t2={};case 21:if(J=t.t2,t.t4=null==$||null===(s=$.device)||void 0===s?void 0:s.ids,t.t4){t.next=27;break}return t.next=26,H.getDeviceIds();case 26:t.t4=t.sent;case 27:if(t.t3=t.t4,t.t3){t.next=30;break}t.t3={};case 30:if(Z=t.t3,t.t6=null==$||null===(l=$.device)||void 0===l?void 0:l.oaid,t.t6){t.next=36;break}return t.next=35,H.getOaId();case 35:t.t6=t.sent;case 36:if(t.t5=t.t6,t.t5){t.next=39;break}t.t5=\"\";case 39:if(tt=t.t5,et=Wa[n.key],it=\"1.0\",t.t7=null==$?void 0:$.upid,t.t7){t.next=47;break}return t.next=46,G();case 46:t.t7=t.sent;case 47:return rt=t.t7,t.next=50,K();case 50:return at=t.sent,ot=null!==(c=null==Q?void 0:Q.packageName)&&void 0!==c?c:\"\",dt=null!==(u=\"\"+(null==Q?void 0:Q.versionCode))&&void 0!==u?u:\"\",st=null!==(h=\"\"+(null==Q?void 0:Q.versionName))&&void 0!==h?h:\"\",lt=\"\".concat(null==z?void 0:z.screenWidth,\"*\").concat(null==z?void 0:z.screenHeight),ct=nt[null==J||null===(p=J.data)||void 0===p?void 0:p.type]||\"-1\",t.next=58,M.getItem(\"firstInitTime\");case 58:if(t.t8=t.sent,t.t8){t.next=61;break}t.t8=0;case 61:return ut=t.t8,t.next=64,M.getItem(\"currentInitTime\");case 64:if(t.t9=t.sent,t.t9){t.next=67;break}t.t9=0;case 67:return ht=t.t9,pt=Math.ceil((ht-ut+1)/864e5),ft=\"TOPON_AD_CACHE_APP_\"+U,t.next=72,M.getItem(ft,!1);case 72:if(t.t10=t.sent,t.t10){t.next=75;break}t.t10={};case 75:if(vt=t.t10,mt=e(e({},n),{},{key:et,psid:at,timestamp:String(Date.now())}),_t=\"\",!n.unitid){t.next=83;break}return t.next=81,X(n.unitid);case 81:_t=t.sent,mt.sessionid=_t;case 83:return gt=[mt],yt={app_id:U,system:1,platform:1,os_vn:null!==(f=\"\"+(null==z?void 0:z.osVersionName))&&void 0!==f?f:\"\",os_vc:null!==(m=\"\"+(null==z?void 0:z.osVersionCode))&&void 0!==m?m:\"\",package_name:ot,app_vn:st,app_vc:dt,brand:null!==(_=null==z?void 0:z.brand)&&void 0!==_?_:\"\",model:null!==(g=null==z?void 0:z.model)&&void 0!==g?g:\"\",pf_vn:null!==(y=null==z?void 0:z.platformVersionName)&&void 0!==y?y:\"\",pf_vc:null!==(I=\"\"+(null==z?void 0:z.platformVersionCode))&&void 0!==I?I:\"\",screen:lt,network_type:ct,mcc:\"1\",mnc:\"1\",language:null!==(b=null==z?void 0:z.language)&&void 0!==b?b:\"\",timezone:\"\",sdk_ver:\"UA_\".concat(Ba),nw_ver:\"\",gp_ver:\"\",ua:W||\"\",upid:rt,channel:j||\"\",sub_channel:B||\"\",orient:1,os_fw:8,data:gt,first_init_time:1*ut,days_from_first_init:1*pt,abtest_id:null!==(k=null==vt||null===(w=vt.data)||void 0===w?void 0:w.abtest_id)&&void 0!==k?k:\"\"},It={android_id:null!==(x=null==Z?void 0:Z.user)&&void 0!==x?x:\"\",mac:null!==(T=null==Z?void 0:Z.mac)&&void 0!==T?T:\"\",imei:\"\",oaid:tt,gaid:null!==(A=null==Z?void 0:Z.advertising)&&void 0!==A?A:\"\",is_cn_sdk:\"1\"},bt=C(D(yt)),kt=C(D(It)),wt=E(P,[{key:\"api_ver\",value:it},{key:\"p\",value:bt},{key:\"p2\",value:kt}]),t.abrupt(\"return\",{p:bt,p2:kt,api_ver:it,sign:wt});case 91:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Va(t){return Ha.apply(this,arguments)}function Ha(){return(Ha=o(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qa.call(this,e);case 3:return n=t.sent,t.abrupt(\"return\",Na(\"\".concat(Fa,\"/v2/da\"),n));case 7:t.prev=7,t.t0=t.catch(0);case 9:case\"end\":return t.stop()}}),t,this,[[0,7]])})))).apply(this,arguments)}function Ga(t){return Ya.apply(this,arguments)}function Ya(){return(Ya=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,E,C,D,L,O,P,U,$,N,j,F,B,W,q,M,V,Y,z,X,Q,J,Z,tt,et,it,rt,at,ot,dt,st;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,T=(null==x?void 0:x.topon_sdk)||{},A=T.appId,E=T.store,C=T.channelId,D=void 0===C?\"\":C,L=T.subChannelId,O=void 0===L?\"\":L,P=e.key,U=e.msg,$=e.msg1,N=e.msg2,j=e.msg3,F=R(),B=S(),W=B.app,q=B.network,v(null==E||null===(a=E.device)||void 0===a?void 0:a.info)){t.next=9;break}t.t0=null==E||null===(o=E.device)||void 0===o?void 0:o.info,t.next=15;break;case 9:return t.next=11,H.getInfo();case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1={};case 14:t.t0=t.t1;case 15:return M=t.t0,V=W.getInfo()||{},t.next=19,q.getType();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:if(Y=t.t2,t.t4=null==E||null===(d=E.device)||void 0===d?void 0:d.ids,t.t4){t.next=28;break}return t.next=27,H.getDeviceIds();case 27:t.t4=t.sent;case 28:if(t.t3=t.t4,t.t3){t.next=31;break}t.t3={};case 31:if(z=t.t3,t.t6=null==E||null===(s=E.device)||void 0===s?void 0:s.oaid,t.t6){t.next=37;break}return t.next=36,H.getOaId();case 36:t.t6=t.sent;case 37:if(t.t5=t.t6,t.t5){t.next=40;break}t.t5=\"\";case 40:if(X=t.t5,Q=Wa[P],t.t7=null==E?void 0:E.upid,t.t7){t.next=47;break}return t.next=46,G();case 46:t.t7=t.sent;case 47:return J=t.t7,t.next=50,K();case 50:return Z=t.sent,tt=null!==(l=null==V?void 0:V.packageName)&&void 0!==l?l:\"\",et=null!==(c=\"\"+(null==V?void 0:V.versionCode))&&void 0!==c?c:\"\",it=null!==(u=\"\"+(null==V?void 0:V.versionName))&&void 0!==u?u:\"\",rt=\"\".concat(null==M?void 0:M.screenWidth,\"*\").concat(null==M?void 0:M.screenHeight),at=nt[null==Y||null===(h=Y.data)||void 0===h?void 0:h.type]||\"-1\",ot={key:Q,psid:Z,timestamp:String(Date.now()),upid:J,sdk_time:Date.now(),msg:U,msg1:$,msg2:N,msg3:j},dt={app_id:A,system:1,platform:1,os_vn:null!==(p=\"\"+(null==M?void 0:M.osVersionName))&&void 0!==p?p:\"\",os_vc:null!==(f=\"\"+(null==M?void 0:M.osVersionCode))&&void 0!==f?f:\"\",package_name:tt,app_vn:it,app_vc:et,brand:null!==(m=null==M?void 0:M.brand)&&void 0!==m?m:\"\",model:null!==(_=null==M?void 0:M.model)&&void 0!==_?_:\"\",pf_vn:null!==(g=null==M?void 0:M.platformVersionName)&&void 0!==g?g:\"\",pf_vc:null!==(y=\"\"+(null==M?void 0:M.platformVersionCode))&&void 0!==y?y:\"\",screen:rt,network_type:at,mcc:\"1\",mnc:\"1\",language:null!==(I=null==M?void 0:M.language)&&void 0!==I?I:\"\",timezone:\"\",sdk_ver:\"UA_\".concat(Ba),nw_ver:\"\",gp_ver:\"\",ua:F||\"\",upid:J,channel:D||\"\",sub_channel:O||\"\",orient:1,os_fw:8},st={android_id:null!==(b=null==z?void 0:z.user)&&void 0!==b?b:\"\",mac:null!==(k=null==z?void 0:z.mac)&&void 0!==k?k:\"\",imei:\"\",oaid:X,gaid:null!==(w=null==z?void 0:z.advertising)&&void 0!==w?w:\"\",is_cn_sdk:\"1\"},t.abrupt(\"return\",{pParams:dt,p2Params:st,data:ot});case 60:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ka(t,e){var i,n,r=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:this.$def,a=((null==r?void 0:r.topon_sdk)||{}).appKey,o=C(D(t)),d=C(D(e));return{p:o,p2:d,api_ver:\"1.0\",sign:E(a,[{key:\"api_ver\",value:\"1.0\"},{key:\"p\",value:o},{key:\"p2\",value:d}])}}function za(t){try{var i,n=(null==this||null===(i=this.$def)||void 0===i||null===(i=i.topon_sdk)||void 0===i?void 0:i.destroyParams)||{},r=n.pParams,a=n.p2Params,o=function(t,i){var n=Wa[i.key];return e(e(e({},t),i),{},{key:n,timestamp:String(Date.now())})}(n.data,t),d=e(e({},r),{},{data:[o]}),s=Ka.call(this,d,a);return Na(\"\".concat(Fa,\"/v2/da\"),s)}catch(t){}}var Xa=\"4.2.11\",Qa=\"http://api.anythinktech.com\";function Ja(t){return Za.apply(this,arguments)}function Za(){return(Za=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt,xt,St,Tt,At;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,$=(null==U?void 0:U.topon_sdk)||{},N=$.appKey,j=$.appId,F=$.channelId,B=void 0===F?\"\":F,W=$.subChannelId,q=void 0===W?\"\":W,V=$.customParam,Y=void 0===V?{}:V,z=$.placementCustomParam,Q=void 0===z?{}:z,J=$.store,Z=e.placementId,tt=O(Y,Q),et=R(),it=S(),rt=it.app,at=it.network,ot=it.device,v(null==J||null===(a=J.device)||void 0===a?void 0:a.info)){t.next=10;break}t.t0=null==J||null===(o=J.device)||void 0===o?void 0:o.info,t.next=16;break;case 10:return t.next=12,H.getInfo();case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1={};case 15:t.t0=t.t1;case 16:return dt=t.t0,st=rt.getInfo()||{},t.next=20,at.getType();case 20:if(t.t2=t.sent,t.t2){t.next=23;break}t.t2={};case 23:if(lt=t.t2,t.t4=null==J||null===(d=J.device)||void 0===d?void 0:d.ids,t.t4){t.next=29;break}return t.next=28,H.getDeviceIds();case 28:t.t4=t.sent;case 29:if(t.t3=t.t4,t.t3){t.next=32;break}t.t3={};case 32:if(ct=t.t3,t.t6=null==J||null===(s=J.device)||void 0===s?void 0:s.oaid,t.t6){t.next=38;break}return t.next=37,H.getOaId();case 37:t.t6=t.sent;case 38:if(t.t5=t.t6,t.t5){t.next=41;break}t.t5=\"\";case 41:if(ut=t.t5,ht=\"\".concat(null==dt?void 0:dt.screenWidth,\"*\").concat(null==dt?void 0:dt.screenHeight),pt=nt[null==lt||null===(l=lt.data)||void 0===l?void 0:l.type]||\"-1\",ft=\"1.0\",t.t7=null==J?void 0:J.upid,t.t7){t.next=50;break}return t.next=49,G();case 49:t.t7=t.sent;case 50:return vt=t.t7,t.next=53,K();case 53:return mt=t.sent,t.next=56,X(Z);case 56:return _t=t.sent,t.next=59,M.getItem(\"firstInitTime\");case 59:if(t.t8=t.sent,t.t8){t.next=62;break}t.t8=0;case 62:return gt=t.t8,t.next=65,M.getItem(\"currentInitTime\");case 65:if(t.t9=t.sent,t.t9){t.next=68;break}t.t9=0;case 68:return yt=t.t9,It=Math.ceil((yt-gt+1)/864e5),bt=\"TOPON_AD_CACHE_APP_\"+j,t.next=73,M.getItem(bt,!1);case 73:if(t.t10=t.sent,t.t10){t.next=76;break}t.t10={};case 76:return kt=t.t10,wt={system:1,os_fw:8,mcc:\"1\",mnc:\"1\",timezone:\"\",nw_ver:\"\",orient:1,ua:et||\"\",os_vn:null!==(c=null==dt?void 0:dt.osVersionName)&&void 0!==c?c:\"\",os_vc:null!==(u=\"\"+(null==dt?void 0:dt.osVersionCode))&&void 0!==u?u:\"\",package_name:null!==(h=null==st?void 0:st.packageName)&&void 0!==h?h:\"\",app_vn:null!==(p=null==st?void 0:st.versionName)&&void 0!==p?p:\"\",app_vc:null!==(f=\"\"+(null==st?void 0:st.versionCode))&&void 0!==f?f:\"\",brand:null!==(m=null==dt?void 0:dt.brand)&&void 0!==m?m:\"\",model:null!==(_=null==dt?void 0:dt.model)&&void 0!==_?_:\"\",pf_vn:null!==(g=null==dt?void 0:dt.platformVersionName)&&void 0!==g?g:\"\",pf_vc:null!==(y=\"\"+(null==dt?void 0:dt.platformVersionCode))&&void 0!==y?y:\"\",network_type:pt,screen:ht,upid:vt,app_id:j,sdk_ver:\"UA_\".concat(Xa),platform:1,pl_id:Z,channel:B||\"\",sub_channel:q||\"\",custom:tt,ps_id:mt,session_id:_t,first_init_time:1*gt,days_from_first_init:It,deny:String(dt.screenDensity),api_ver:\"1.0\",host_vn:null!==(I=null==ot||null===(b=ot.host)||void 0===b?void 0:b.versionName)&&void 0!==I?I:\"\",host_vc:null!==(k=\"\"+(null==ot||null===(w=ot.host)||void 0===w?void 0:w.versionCode))&&void 0!==k?k:\"\",abtest_id:null!==(x=null==kt||null===(T=kt.data)||void 0===T?void 0:T.abtest_id)&&void 0!==x?x:\"\"},xt={android_id:null!==(A=null==ct?void 0:ct.user)&&void 0!==A?A:\"\",mac:null!==(L=null==ct?void 0:ct.mac)&&void 0!==L?L:\"\",imei:\"\",oaid:ut,gaid:null!==(P=null==ct?void 0:ct.advertising)&&void 0!==P?P:\"\",is_cn_sdk:\"1\"},St=C(D(wt)),Tt=C(D(xt)),At=E(N,[{key:\"api_ver\",value:ft},{key:\"p\",value:St},{key:\"p2\",value:Tt}]),t.abrupt(\"return\",{p:St,p2:Tt,api_ver:ft,sign:At});case 84:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function to(t){return eo.apply(this,arguments)}function eo(){return eo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=e.placementId,t.prev=2,a=Date.now(),t.next=6,Ja.call(this,e);case 6:return o=t.sent,t.next=9,Na(\"\".concat(Qa,\"/v2/open/placement\"),o,{rawResponse:!0});case 9:return d=t.sent,s=_(null==d?void 0:d.data)?JSON.parse(null==d?void 0:d.data):(null==d?void 0:d.data)||{},l=Date.now(),c={key:\"STRATEGY_REQUEST_TIME\",msg:\"placement\",unitid:r,msg1:String(a),msg2:String(l),msg3:String(l-a),msg4:null!=n&&n.isPreload?\"1\":\"\"},Va.call(this,c),s.code>0&&(u={key:\"API_ERROR\",msg:\"placement\",unitid:r,msg1:String(s.code),msg2:s.msg,msg3:Qa.replace(/^https?:\\/\\//,\"\")},Va.call(this,u)),t.abrupt(\"return\",d);case 18:return t.prev=18,t.t0=t.catch(2),h={key:\"API_ERROR\",msg:\"placement\",msg1:\"unknow\",msg2:\"request error\",unitid:r,msg3:Qa.replace(/^https?:\\/\\//,\"\")},Va.call(this,h),t.abrupt(\"return\",{});case 23:case\"end\":return t.stop()}}),t,this,[[2,18]])}))),eo.apply(this,arguments)}var io=\"http://tk.anythinktech.com\",no=\"4.2.11\",ro={AD_LOAD:10,AD_LOAD_FILLED:12,AD_REQUEST:1,AD_REQUEST_FILLED:2,AD_BIDDING:11,AD_SHOW:13,AD_CLICK:6,AD_IMPRESSION:4,APP_STARTUP:21};function ao(t){return oo.apply(this,arguments)}function oo(){return(oo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt,It,bt,kt,wt,xt,St,Tt,At,Et,Ct,Dt,Lt,Ot,Rt,Pt,Ut,$t,Nt,jt,Ft,Bt,Wt,qt,Mt,Vt,Ht,Gt,Yt,Kt,zt,Xt,Qt,Jt,Zt,te,ee,ie,ne,re,ae,oe,de,se,le,ce;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,N=(null==$?void 0:$.topon_sdk)||{},j=N.appKey,F=N.appId,B=N.channelId,W=void 0===B?\"\":B,q=N.subChannelId,V=void 0===q?\"\":q,Y=N.customParam,z=void 0===Y?{}:Y,Q=N.placementCustomParam,J=void 0===Q?{}:Q,Z=N.store,tt=e.placementId,et=e.requestId,it=e.logType,rt=e.trafficGroupId,at=e.segmentId,ot=e.adSourceId,dt=e.nwFirmId,st=e.asId,lt=e.format,ct=e.ecpm,ut=e.sPty,ht=e.placementLoadTime,pt=e.unitFilledTime,ft=e.reqUgNum,vt=e.pC,mt=e.bidTk,_t=void 0===mt?{}:mt,gt=e.wfType,yt=e.psIdVirtual,It=void 0===yt?\"\":yt,bt=O(z,J),kt=S(),wt=kt.app,xt=kt.network,St=kt.device,Tt=R(),v(null==Z||null===(a=Z.device)||void 0===a?void 0:a.info)){t.next=10;break}t.t0=null==Z||null===(o=Z.device)||void 0===o?void 0:o.info,t.next=16;break;case 10:return t.next=12,H.getInfo();case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1={};case 15:t.t0=t.t1;case 16:return At=t.t0,Et=wt.getInfo()||{},t.next=20,xt.getType();case 20:if(t.t2=t.sent,t.t2){t.next=23;break}t.t2={};case 23:if(Ct=t.t2,t.t4=null==Z||null===(d=Z.device)||void 0===d?void 0:d.ids,t.t4){t.next=29;break}return t.next=28,H.getDeviceIds();case 28:t.t4=t.sent;case 29:if(t.t3=t.t4,t.t3){t.next=32;break}t.t3={};case 32:if(Dt=t.t3,t.t6=null==Z||null===(s=Z.device)||void 0===s?void 0:s.oaid,t.t6){t.next=38;break}return t.next=37,H.getOaId();case 37:t.t6=t.sent;case 38:if(t.t5=t.t6,t.t5){t.next=41;break}t.t5=\"\";case 41:if(Lt=t.t5,Ot=\"1.0\",t.t7=null==Z?void 0:Z.upid,t.t7){t.next=48;break}return t.next=47,G();case 47:t.t7=t.sent;case 48:return Rt=t.t7,t.next=51,K();case 51:return Pt=t.sent,It&&(Pt=Pt+\"/\"+It),t.next=55,X(tt);case 55:return Ut=t.sent,t.next=58,M.getItem(\"firstInitTime\");case 58:if(t.t8=t.sent,t.t8){t.next=61;break}t.t8=0;case 61:return $t=t.t8,t.next=64,M.getItem(\"currentInitTime\");case 64:if(t.t9=t.sent,t.t9){t.next=67;break}t.t9=0;case 67:return Nt=t.t9,jt=Math.ceil((Nt-$t+1)/864e5),Ft=\"\".concat(null==At?void 0:At.screenWidth,\"*\").concat(null==At?void 0:At.screenHeight),Bt=nt[null==Ct||null===(l=Ct.data)||void 0===l?void 0:l.type]||\"-1\",Wt=\"TOPON_AD_CACHE_APP_\"+F,t.next=74,M.getItem(Wt,!1);case 74:if(t.t10=t.sent,t.t10){t.next=77;break}t.t10={};case 77:return qt=t.t10,Mt={app_id:F,system:1,platform:1,os_vn:null!==(c=null==At?void 0:At.osVersionName)&&void 0!==c?c:\"\",os_vc:null!==(u=\"\"+(null==At?void 0:At.osVersionCode))&&void 0!==u?u:\"\",package_name:null!==(h=null==Et?void 0:Et.packageName)&&void 0!==h?h:\"\",app_vn:null!==(p=null==Et?void 0:Et.versionName)&&void 0!==p?p:\"\",app_vc:null!==(f=\"\"+(null==Et?void 0:Et.versionCode))&&void 0!==f?f:\"\",brand:null!==(m=null==At?void 0:At.brand)&&void 0!==m?m:\"\",model:null!==(_=null==At?void 0:At.model)&&void 0!==_?_:\"\",pf_vn:null!==(g=null==At?void 0:At.platformVersionName)&&void 0!==g?g:\"\",pf_vc:null!==(y=\"\"+(null==At?void 0:At.platformVersionCode))&&void 0!==y?y:\"\",screen:Ft,network_type:Bt,mcc:\"1\",mnc:\"1\",language:null!==(I=null==At?void 0:At.language)&&void 0!==I?I:\"\",timezone:\"\",sdk_ver:\"UA_\".concat(no),gp_ver:\"\",ua:Tt||\"\",orient:1,upid:Rt,channel:W,sub_channel:V,android_id:null!==(b=null==Dt?void 0:Dt.user)&&void 0!==b?b:\"\",oaid:Lt,mac:null!==(k=null==Dt?void 0:Dt.mac)&&void 0!==k?k:\"\",imei:\"\",is_cn_sdk:\"1\",gaid:null!==(w=null==Dt?void 0:Dt.advertising)&&void 0!==w?w:\"\",idfa:\"\",idfv:\"\",custom:bt,os_fw:8,first_init_time:1*$t,days_from_first_init:jt,host_vn:null!==(x=null==St||null===(T=St.host)||void 0===T?void 0:T.versionName)&&void 0!==x?x:\"\",host_vc:null!==(A=\"\"+(null==St||null===(L=St.host)||void 0===L?void 0:L.versionCode))&&void 0!==A?A:\"\",abtest_id:null!==(P=null==qt||null===(U=qt.data)||void 0===U?void 0:U.abtest_id)&&void 0!==P?P:\"\"},Vt=(new Date).getTime(),1===(Ht={traffic_group_id:rt,sdk_time:Vt,req_id:et,req_par:1,req_par_num:ft,pl_id:tt,type:ro[it],unit_id:ot,nw_firm_id:dt,gro_id:at,format:lt,ps_id:Pt,sessionid:Ut,asid:st,bidtype:[\"1\",\"2\"].includes(gt)?1:0,bidprice:ct,s_pty:ut,p_c:vt,cl_imp:0,isload:\"\"}).bidtype&&(Gt=_t.bidId,Yt=void 0===Gt?\"\":Gt,Kt=_t.tpBidId,zt=void 0===Kt?\"\":Kt,Xt=_t.bidRequestTime,Qt=_t.bidResponseTime,Jt=_t.bidFilledTime,Zt=_t.bidResult,te=_t.errorMsg,ee=void 0===te?\"\":te,ie=_t.rlBidStatus,ne=_t.sortType,re=_t.sortPriority,ae={bid_id:Yt,tp_bid_id:zt},oe={},\"AD_BIDDING\"===it&&(oe={bidrequesttime:Xt,bidresponsetime:Qt,bid_filledtime:Jt,bidresponselist:[{sortpriority:re,sorttype:ne,unit_id:ot,bidresult:Zt,bidprice:ct,errormsg:ee,tp_bid_id:zt,nw_firm_id:dt,rl_bid_status:ie,s_pty:ut}]}),Ht=Object.assign({},Ht,ae,oe)),\"AD_LOAD_FILLED\"===it&&(Ht.loadtime=ht),\"AD_REQUEST_FILLED\"===it&&(Ht.filledtime=pt),de=[Ht],se=C(D(Mt)),le=C(D(de)),ce=E(j,[{key:\"api_ver\",value:Ot},{key:\"common\",value:se},{key:\"data\",value:le}]),t.abrupt(\"return\",{common:se,data:le,api_ver:Ot,sign:ce});case 90:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function so(t){return lo.apply(this,arguments)}function lo(){return(lo=o(i().mark((function t(n){var r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ao.call(this,n);case 3:return r=t.sent,t.next=6,Na(\"\".concat(io,\"/v2/tk\"),r);case 6:(a=t.sent).code>0&&(o=e(e({},n),{},{key:\"API_ERROR\",msg:\"tk_2\",msg1:String(a.code),msg2:a.msg,msg3:io.replace(/^https?:\\/\\//,\"\")}),Va.call(this,o)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),d=e(e({},n),{},{key:\"API_ERROR\",msg:\"tk_2\",msg1:\"unknow\",msg2:\"request error\",msg3:io.replace(/^https?:\\/\\//,\"\")}),Va.call(this,d);case 14:case\"end\":return t.stop()}}),t,this,[[0,10]])})))).apply(this,arguments)}var co=\"4.2.11\",uo=\"http://adx-cn.anythinktech.com\",ho={BROWSER:2,WEBVIEW:3},po=[\"{__VIDEO_TIME__}\",\"{__BEGIN_TIME__}\",\"{__END_TIME__}\",\"{__PLAY_FIRST_FRAME__}\",\"{__PLAY_LAST_FRAME__}\",\"{__SCENE__}\",\"{__TYPE__}\",\"{__BEHAVIOR__}\",\"{__STATUS__}\",\"{__REQ_WIDTH__}\",\"{__REQ_HEIGHT__}\",\"{__WIDTH__}\",\"{__HEIGHT__}\",\"{__DOWN_X__}\",\"{__DOWN_Y__}\",\"{__UP_X__}\",\"{__UP_Y__}\",\"{__CLICK_ID__}\",\"{__RE_DOWN_X__}\",\"{__RE_DOWN_Y__}\",\"{__RE_UP_X__}\",\"{__RE_UP_Y__}\",\"{__TS__}\",\"{__TS_MSEC__}\",\"{__END_TS__}\",\"{__END_TS_MSEC__}\",\"{__PLAY_SEC__}\",\"{__PLAY_SEC__}\",\"{__PLAY_MSEC__}\",\"{__DPLINK_TYPE__}\",\"{ABSOLUTE_COORD}\",\"{RELATIVE_COORD}\"];function fo(t){return vo.apply(this,arguments)}function vo(){return(vo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,T,A,E,L,O,P,U,$,N,j,F,B,W,q,M,V,Y,z,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut,ht,pt,ft,vt,mt,_t,gt,yt;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,T=(null==x?void 0:x.topon_sdk)||{},A=T.appId,E=T.channelId,L=void 0===E?\"\":E,O=T.subChannelId,P=void 0===O?\"\":O,U=T.store,$=T.isTest,N=void 0!==$&&$,j=e.placementId,F=e.unitId,B=e.requestId,W=e.adxExt,q=void 0===W?\"\":W,M=e.adWidth,V=void 0===M?0:M,Y=e.adHeight,z=void 0===Y?0:Y,Q=e.format,J=void 0===Q?\"0\":Q,Z=R(),tt=S(),et=tt.app,it=tt.network,v(null==U||null===(a=U.device)||void 0===a?void 0:a.info)){t.next=9;break}t.t0=null==U||null===(o=U.device)||void 0===o?void 0:o.info,t.next=15;break;case 9:return t.next=11,H.getInfo();case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1={};case 14:t.t0=t.t1;case 15:return rt=t.t0,at=et.getInfo()||{},t.next=19,it.getType();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:if(ot=t.t2,t.t4=null==U||null===(d=U.device)||void 0===d?void 0:d.ids,t.t4){t.next=28;break}return t.next=27,H.getDeviceIds();case 27:t.t4=t.sent;case 28:if(t.t3=t.t4,t.t3){t.next=31;break}t.t3={};case 31:if(dt=t.t3,t.t6=null==U||null===(s=U.device)||void 0===s?void 0:s.oaid,t.t6){t.next=37;break}return t.next=36,H.getOaId();case 36:t.t6=t.sent;case 37:if(t.t5=t.t6,t.t5){t.next=40;break}t.t5=\"\";case 40:if(st=t.t5,lt=\"\".concat(null==rt?void 0:rt.screenWidth,\"*\").concat(null==rt?void 0:rt.screenHeight),ct=nt[null==ot||null===(l=ot.data)||void 0===l?void 0:l.type]||\"-1\",t.t7=null==U?void 0:U.upid,t.t7){t.next=48;break}return t.next=47,G();case 47:t.t7=t.sent;case 48:return ut=t.t7,t.next=51,K();case 51:return ht=t.sent,t.next=54,X(j);case 54:return pt=t.sent,ft={system:1,platform:1,brand:null!==(c=null==rt?void 0:rt.brand)&&void 0!==c?c:\"\",model:null!==(u=null==rt?void 0:rt.model)&&void 0!==u?u:\"\",os_vn:null!==(h=null==rt?void 0:rt.osVersionName)&&void 0!==h?h:\"\",os_vc:null!==(p=\"\"+(null==rt?void 0:rt.osVersionCode))&&void 0!==p?p:\"\",os_fw:8,pf_vn:null!==(f=null==rt?void 0:rt.platformVersionName)&&void 0!==f?f:\"\",pf_vc:null!==(m=\"\"+(null==rt?void 0:rt.platformVersionCode))&&void 0!==m?m:\"\",sdk_ver:\"UA_\".concat(co),app_id:A,app_vn:null!==(_=null==at?void 0:at.versionName)&&void 0!==_?_:\"\",app_vc:null!==(g=\"\"+(null==at?void 0:at.versionCode))&&void 0!==g?g:\"\",package_name:null!==(y=null==at?void 0:at.packageName)&&void 0!==y?y:\"\",pl_id:j,mcc:\"1\",mnc:\"1\",language:null!==(I=null==rt?void 0:rt.language)&&void 0!==I?I:\"\",timezone:\"\",nw_ver:\"\",orient:1,ua:Z||\"\",network_type:ct,screen:lt,upid:ut,channel:L||\"\",sub_channel:P||\"\",ps_id:ht,session_id:pt,deny:String(rt.screenDensity)},vt={android_id:null!==(b=null==dt?void 0:dt.user)&&void 0!==b?b:\"\",mac:null!==(k=null==dt?void 0:dt.mac)&&void 0!==k?k:\"\",imei:\"\",oaid:st,gaid:null!==(w=null==dt?void 0:dt.advertising)&&void 0!==w?w:\"\",is_cn_sdk:\"1\"},mt=[{ad_width:V,ad_height:z,nw_firm_id:66,unit_id:String(F),ad_source_id:String(F),get_offer:2,ad_format:J}],N&&(mt[0].test=1),_t=C(D(ft)),gt=C(D(vt)),yt=C(D(mt)),t.abrupt(\"return\",{p:_t,p2:gt,request_id:B,adx_ext:q,hb_list:yt});case 63:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function mo(t,e){return _o.apply(this,arguments)}function _o(){return(_o=o(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fo.call(this,e);case 3:return r=t.sent,t.abrupt(\"return\",Na(\"\".concat(uo,\"/bid\"),r,{timeout:n}));case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.abrupt(\"return\",{code:1,msg:\"请求API异常\"});case 10:case\"end\":return t.stop()}}),t,this,[[0,7]])})))).apply(this,arguments)}function go(t,e,i,n){return yo.apply(this,arguments)}function yo(){return(yo=o(i().mark((function t(n,r,a,o){var d,s,l,c,u,h,p,f,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D,L,O,R,P,U,$,N,j,F,B,W,q,M,V;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.placementId,u=n.exchR,h=a.hbBidTimeout,p=a.requestId,f=a.segmentId,m=a.trafficGroupId,_=a.asId,g=Date.now(),t.next=5,mo.call(this,n,h);case 5:if(y=t.sent,I=Date.now(),b=null!==(d=null==y?void 0:y.data)&&void 0!==d?d:[],k=b[0]||{},w=this.placementLoadStart,x=this.placementLoadEnd,S=this.format,T=this.reqUgNum,A=this.apiData,E=A.t_g_id,C=A.gro_id,D=A.asid,L=A.p_c,O=void 0===L?{}:L,R=x-w,P=o.getStatusList(),U=P.length,1,$=P.findIndex((function(t){return t.ecpmSort<k.s_pty})),N={bidRequestTime:g,bidResponseTime:I,bidFilledTime:I-g,bidResult:0,rlBidStatus:0,sortType:-1,sortPriority:$>-1?$+1:U+1},j={placementId:c,requestId:p,logType:\"AD_BIDDING\",trafficGroupId:E,segmentId:C,asId:D,adSourceId:r.unit_id||0,nwFirmId:r.nw_firm_id||0,ecpm:k.price,sPty:k.s_pty||0,format:S,placementLoadTime:R,unitFilledTime:I-g,reqUgNum:T,pC:O,wfType:\"1\"},F=e(e({},j),{},{bidTk:N}),r.bidTk={bidFilledTime:I-g},!(y.code>0||(null==y||null===(s=y.data)||void 0===s?void 0:s.length)<=0)){t.next=25;break}return F.bidTk.errorMsg=\"bid error, code = \".concat(y.code,\", msg = \").concat(y.msg),so.call(this,F),t.abrupt(\"return\",r);case 25:if(!(1!==k.is_success||k.err_code>0)){t.next=29;break}return F.bidTk.errorMsg=\"bid error, code = \".concat(k.err_code,\", msg = \").concat(k.err_msg),so.call(this,F),t.abrupt(\"return\",r);case 29:if(!(v(k)||v(k.offer_data)||k.offer_data.seatbid&&k.offer_data.seatbid.length<=0)){t.next=32;break}return so.call(this,F),t.abrupt(\"return\",r);case 32:if(B=k.offer_data.seatbid[0],r.bidTk.bidId=k.bid_id,r.bidTk.tpBidId=k.tp_bid_id,F.bidTk.bidId=k.bid_id,F.bidTk.tpBidId=k.tp_bid_id,B.tk.lurl||(B.tk.lurl=[]),B.tk.nurl||(B.tk.nurl=[]),B.tk.burl||(B.tk.burl=[]),k.lurl&&B.tk.lurl.push(k.lurl),k.nurl&&B.tk.nurl.push(k.nurl),k.burl&&B.tk.burl.push(k.burl),Object.values(ho).includes((null==B?void 0:B.link_type)||0)){t.next=46;break}return so.call(this,F),t.abrupt(\"return\",r);case 46:if(F.bidTk.bidResult=1,F.bidTk.rlBidStatus=2,W=Io.call(this,c),q=null!==(l=null==W?void 0:W._expirationTime)&&void 0!==l?l:0,!v(W)&&W.price>k.price&&q>Date.now()&&(F.bidTk.bidResult=0,F.bidTk.rlBidStatus=1,ko.call(this,B.tk.lurl),M={key:\"BID_LOSS\",unitid:c,requestid:p,groupid:f,traffic_group_id:m,asid:_,msg:\"66\",msg1:\"\"+k.unit_id,msg2:\"\"+k.price,msg3:\"\"},k=W,Va.call(this,M)),F.bidTk.bidResult&&(F.bidTk.sortType=0),so.call(this,F),!(o.selecter().ecpm>k.price)){t.next=59;break}return ko.call(this,B.tk.lurl),V={key:\"BID_LOSS\",unitid:c,requestid:p,groupid:f,traffic_group_id:m,asid:_,msg:\"66\",msg1:\"\"+k.unit_id,msg2:\"\"+k.price,msg3:\"\"},Va.call(this,V),t.abrupt(\"return\",Promise.reject(\"ADX BID_LOSS\"));case 59:return r.ecpm=k.price,r.cy_ecpm=k.price*u,r.s_pty=k.s_pty,r.nw_cache_time=k.expire,k.bidTk=r.bidTk,k._expirationTime=Date.now()+k.expire,bo.call(this,c,k),t.abrupt(\"return\",r);case 67:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Io(t){var e,i,n,r,a,o=null!==(e=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:null==this?void 0:this.$def)&&void 0!==e?e:null;return o&&null!=o&&o.topon_sdk&&null!==(r=null===(a=o.topon_sdk)||void 0===a||null===(a=a.cache)||void 0===a||null===(a=a.adxOffer)||void 0===a?void 0:a[t])&&void 0!==r?r:{}}function bo(t,e){var i,n,r,a=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:null==this?void 0:this.$def)&&void 0!==i?i:null;a&&null!=a&&a.topon_sdk&&(a.topon_sdk.cache.adxOffer||(a.topon_sdk.cache.adxOffer=Object.create(null)),a.topon_sdk.cache.adxOffer[t]=e)}function ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new RegExp(po.join(\"|\"),\"gi\"),n=[];return t.forEach((function(t){var r=t.replace(i,(function(t){return e[t]}));n.push(ja(\"\".concat(r),{}))})),Promise.all(n)}function wo(t,e){var i=e.getStatusList()||[],n=i.length,r=i.findIndex((function(e){return e.ecpmSort<t.s_pty}));return r>-1?r+1:n+1}function xo(t,i,n,r,a,o){var d=o.placementId,s=o.format,l=this.placementLoadStart,c=this.placementLoadEnd,u=this.reqUgNum,h=this.apiData,p=h.t_g_id,f=h.gro_id,v=h.asid,m=h.p_c,_=void 0===m?{}:m,g=c-l,y={bidRequestTime:n,bidResponseTime:i,bidFilledTime:i-n,bidResult:0,rlBidStatus:0,sortType:-1,sortPriority:r};return e(e({},{placementId:d,requestId:a.requestId,logType:\"AD_BIDDING\",trafficGroupId:p,segmentId:f,asId:v,adSourceId:t.unit_id||0,nwFirmId:t.nw_firm_id||0,ecpm:t.price,sPty:t.s_pty||0,format:s,placementLoadTime:g,unitFilledTime:i-n,reqUgNum:u,pC:_,wfType:\"2\"}),{},{bidTk:y})}function So(t,e,i,n,r){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,d=n.placementId,s=n.exchRateC2u,l=n.accountCurrency,c=e.unit_id,u=d+\"/\"+c,h=j.call(this,\"unit\",u),p=null!==(a=null==h?void 0:h._expirationTime)&&void 0!==a?a:0;if(!v(h)&&h.offer.ecpm>t.ecpm&&p>Date.now()){var f;i.bidTk.bidResult=0,i.bidTk.rlBidStatus=1,o=null!==(f=null==h?void 0:h.ad)&&void 0!==f?f:null;var m=t.adId?{adid:t.adId}:{};Ao.call(this,{condition:n,strategy:r,unit:e,notifyOptions:m,notifyInstance:o});var _=(t=h.offer).ecpm/100;e.ecpm=_*s,e.price=_*s,e.cy_ecpm=\"USD\"===l?_*s:_,e.s_pty=_*s}return{offer:t,adInstance:o}}function To(t,e,i,n,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=r.selecter();if(o&&o.ecpm>e.ecpm){var d=t.adId?{adid:t.adId}:{};return Ao.call(this,{condition:i,strategy:n,unit:e,notifyOptions:d,notifyInstance:a}),o.unit}return null}function Ao(t){var i=t.condition,n=t.strategy,r=t.unit,a=t.daOptions,o=void 0===a?{}:a,d=t.notifyOptions,s=void 0===d?{}:d,l=t.notifyInstance,c=void 0===l?null:l,u=i.placementId,h=n.requestId,p=n.segmentId,f=n.trafficGroupId,v=n.asId;55===r.nw_firm_id&&Eo.call(this,s,c);var m=e({key:\"BID_LOSS\",unitid:u,requestid:h,groupid:p,traffic_group_id:f,asid:v,msg:r.nw_firm_id,msg1:\"\"+r.unit_id,msg2:\"\"+r.ecpm,msg3:\"\"},o);Va.call(this,m)}function Eo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=S(),r=n.ad,a=i||r,o=e({winPrice:0,code:1,channel:\"mob\"},t);a.notifyRankLoss(o)}function Co(t){var i=S().ad;return new Promise((function(n,r){i.preloadAd(e(e({},t),{},{success:function(t){n(t)},fail:function(t,e){n(t)}}))}))}function Do(t){var e=S().ad,i=null;try{i=e.createRewardedVideoAd(t)}catch(t){}return i}function Lo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((null==t?void 0:t.length)<=1)return t;var e=JSON.parse(JSON.stringify(t));return e.sort((function(t,e){return e.price-t.price})),e}function Oo(t,e,i,n){return Ro.apply(this,arguments)}function Ro(){return(Ro=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.unit_id,u=e.content,h=JSON.parse(u),p=h.unit_id,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+\"/\"+c,g={},y={adUnitId:p,ecpm:!0,type:\"native\",adCount:1},I=Date.now(),t.next=10,Co.call(this,y);case 10:if(b=t.sent,k=Date.now(),g=null!==(o=null==b||null===(d=b.adList)||void 0===d?void 0:d[0])&&void 0!==o?o:{},w=null!==(s=null===(l=g)||void 0===l?void 0:l.ecpm)&&void 0!==s?s:0,x=w/100,e.ecpm=x*v,e.price=x*v,e.cy_ecpm=\"USD\"===m?x*v:x,e.s_pty=x*v,e.bidTk={bidFilledTime:k-I},S=wo.call(this,e,a),(T=xo.call(this,e,k,I,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,g,e,T,n,r),E=A.offer,g=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),g.ecpm||(T.bidTk.sortType=-12,T.bidTk.errorMsg=\"0 bid price\"),so.call(this,T),g.ecpm){t.next=34;break}return C={msg2:\"0\"},D={adid:g.adId},Ao.call(this,{condition:n,strategy:r,unit:e,notifyOptions:D,daOptions:C}),t.abrupt(\"return\",Promise.reject(\"offer.ecpm: \".concat(g.ecpm,\"不符合bid场景，reject掉\")));case 34:if(!To.call(this,g,e,n,r,a)){t.next=37;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 37:return N.call(this,\"unit\",_,{ad:null,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 39:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Po(t,e,i,n){var r=this,a=t.unit_id,o=t.content,d=JSON.parse(o).unit_id,s=e.placementId,l=e.exchRateC2u,c=e.accountCurrency,u=s+\"/\"+a,h={ecpm:0},p={adUnitId:d},f=Date.now(),v=Do.call(this,p);return v?(v.load(),new Promise((function(a,o){v.onLoad((function(){var d,s;h=v.getECPM();var p=Date.now(),m=(null!==(d=null===(s=h)||void 0===s?void 0:s.ecpm)&&void 0!==d?d:0)/100;t.ecpm=m*l,t.price=m*l,t.cy_ecpm=\"USD\"===c?m*l:m,t.s_pty=m*l,t.bidTk={bidFilledTime:p-f};var _=wo.call(r,t,n),g=xo.call(r,t,p,f,_,i,e);g.bidTk.bidResult=1,g.bidTk.rlBidStatus=2;var y=So.call(r,h,t,g,e,i,v),I=y.offer,b=y.adInstance;if(h=I,v=b,g.bidTk.bidResult&&(g.bidTk.sortType=0),h.ecpm||(g.bidTk.sortType=-12,g.bidTk.errorMsg=\"0 bid price\"),so.call(r,g),!h.ecpm){return Ao.call(r,{condition:e,strategy:i,unit:t,daOptions:{msg2:\"0\"},notifyInstance:v}),Promise.reject(\"offer.ecpm: \".concat(h.ecpm,\"不符合bid场景，reject掉\"))}var k=To.call(r,h,t,e,i,n,v);k&&o(k),N.call(r,\"unit\",u,{ad:v,offer:h,_expirationTime:Date.now()+t.nw_cache_time}),a(t)})),v.onError((function(n){var a=Date.now(),d=xo.call(r,t,a,f,-1,i,e);d.bidTk.bidResult=0,d.bidTk.rlBidStatus=0,d.bidTk.sortType=-12,d.bidTk.errorMsg=\"\".concat(JSON.stringify(n)),so.call(r,d),o({msg:\"激励视频 c2s 失败: \".concat(JSON.stringify(n))})}))}))):t}function Uo(t,e,i,n){return $o.apply(this,arguments)}function $o(){return($o=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C,D;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.topon_sdk)||void 0===o?void 0:o.channelId,c=e.unit_id,u=e.content,h=e.nw_req_num,p=JSON.parse(u),f=p.unit_id,v=n.placementId,m=n.exchRateC2u,_=n.accountCurrency,g=v+\"/\"+c,y={},I={adUnitId:f,type:\"native\",adCount:h&&h<=3?h:1},l&&(I.channel=l),b=Date.now(),t.next=12,Co.call(this,I);case 12:if(k=t.sent,w=Date.now(),x=k.adList||[],S=Lo(x),(y=S[0]||{}).ecpm=null!==(d=null===(s=y)||void 0===s?void 0:s.price)&&void 0!==d?d:0,T=y.ecpm/100,e.ecpm=T*m,e.price=T*m,e.cy_ecpm=\"USD\"===_?T*m:T,e.s_pty=T*m,e.bidTk={bidFilledTime:w-b},A=wo.call(this,e,a),(E=xo.call(this,e,w,b,A,r,n)).bidTk.bidResult=1,E.bidTk.rlBidStatus=2,C=So.call(this,y,e,E,n,r),D=C.offer,y=D,E.bidTk.bidResult&&(E.bidTk.sortType=0),so.call(this,E),!To.call(this,y,e,n,r,a)){t.next=35;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 35:return N.call(this,\"unit\",g,{ad:null,offer:y,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 37:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function No(t,e,i,n){return jo.apply(this,arguments)}function jo(){return(jo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E,C;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=null===(o=this.$app)||void 0===o||null===(o=o.$def)||void 0===o||null===(o=o.topon_sdk)||void 0===o?void 0:o.channelId,s=e.unit_id,l=e.content,c=e.nw_req_num,u=JSON.parse(l),h=u.unit_id,p=n.placementId,f=n.exchRateC2u,v=n.accountCurrency,m=p+\"/\"+s,_={},g={adUnitId:h,type:\"rewardedVideoAd\",adCount:c&&c<=3?c:1},d&&(g.channel=d),y=Date.now(),t.next=12,Co.call(this,g);case 12:if(I=t.sent,b=Date.now(),!I.adList){t.next=20;break}k=I.adList||[],w=Lo(k),_=w[0]||{},t.next=25;break;case 20:if(!I.adid){t.next=24;break}_=I,t.next=25;break;case 24:return t.abrupt(\"return\",Promise.reject(\"bid无结果\"));case 25:if(_.ecpm=_.price||0,x=_.ecpm/100,e.ecpm=x*f,e.price=x*f,e.cy_ecpm=\"USD\"===v?x*f:x,e.s_pty=x*f,e.bidTk={bidFilledTime:b-y},S=wo.call(this,e,a),(T=xo.call(this,e,b,y,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,_,e,T,n,r),E=A.offer,_=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),so.call(this,T),!To.call(this,_,e,n,r,a)){t.next=43;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 43:if(C=Do.call(this,{multiton:!0})){t.next=46;break}return t.abrupt(\"return\",e);case 46:return N.call(this,\"unit\",m,{ad:C,offer:_,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 48:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Fo(t){var i,n,r=null!==(i=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==i?i:this.$def,a=(null==r?void 0:r.ylh_sdk)||{};return new Promise((function(i,n){v(a)&&i({code:2e3,msg:\"找不到优量汇SDK\"}),a.onYlhReady((function(){var n=e({},t);a.loadFeedAd(n).then((function(t){var e={adList:t||[]};t.code&&t.code>0&&(e.code=at[t.code]||2e3,e.msg=\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\"),e.adList=[]),i(e)})).catch((function(t){i({code:2e3,msg:\"\".concat(null==t?void 0:t.message)})}))}))}))}function Bo(t,e,i,n){return Wo.apply(this,arguments)}function Wo(){return(Wo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,S,T,A,E;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=u.allow_recommend,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+\"/\"+l,g={},y={count:1,placementId:h,recommendation:\"1\"===p?2:1},I=Date.now(),t.next=10,Fo.call(this,y);case 10:if(b=t.sent,k=Date.now(),g=null!==(o=null==b||null===(d=b.adList)||void 0===d?void 0:d[0])&&void 0!==o?o:{},w=(null===(s=g)||void 0===s?void 0:s.getECPM())>0?g.getECPM():0,g.ecpm=w,x=w/100,e.ecpm=x*v,e.price=x*v,e.cy_ecpm=\"USD\"===m?x*v:x,e.s_pty=x*v,e.bidTk={bidFilledTime:k-I},S=wo.call(this,e,a),(T=xo.call(this,e,k,I,S,r,n)).bidTk.bidResult=1,T.bidTk.rlBidStatus=2,A=So.call(this,g,e,T,n,r),E=A.offer,g=E,T.bidTk.bidResult&&(T.bidTk.sortType=0),g.ecpm||(T.bidTk.sortType=-12,T.bidTk.errorMsg=\"0 bid price\"),so.call(this,T),g.ecpm){t.next=32;break}return t.abrupt(\"return\",Promise.reject(\"offer.ecpm: \".concat(g.ecpm,\"不符合bid场景，reject掉\")));case 32:if(!To.call(this,g,e,n,r,a)){t.next=35;break}return t.abrupt(\"return\",Promise.reject(\"HB BID_LOSS\"));case 35:return N.call(this,\"unit\",_,{ad:null,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),t.abrupt(\"return\",e);case 37:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function qo(t,e,i,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null!==(o=null===(d=this.$app)||void 0===d?void 0:d.$def)&&void 0!==o?o:this.$def,l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=u.video_muted,f=n.placementId,v=n.exchRateC2u,m=n.accountCurrency,_=f+\"/\"+l,g={ecpm:0},y={placementId:h,muted:\"1\"===p},I=Date.now(),t.abrupt(\"return\",new Promise((function(t,i){try{var o=s.ylh_sdk.createRewardVideoAd(y);o.onLoad((function(){var i,d;g.ecpm=o.getECPM();var s=Date.now(),l=(null!==(i=null===(d=g)||void 0===d?void 0:d.ecpm)&&void 0!==i?i:0)/100;e.ecpm=l*v,e.price=l*v,e.cy_ecpm=\"USD\"===m?l*v:l,e.s_pty=l*v,e.bidTk={bidFilledTime:s-I};var c=wo.call(b,e,a),u=xo.call(b,e,s,I,c,r,n);u.bidTk.bidResult=1,u.bidTk.rlBidStatus=2;var h=So.call(b,g,e,u,n,r).offer;return g=h,u.bidTk.bidResult&&(u.bidTk.sortType=0),g.ecpm||(u.bidTk.sortType=-12,u.bidTk.errorMsg=\"0 bid price\"),so.call(b,u),g.ecpm?To.call(b,g,e,n,r,a)?Promise.reject(\"HB BID_LOSS\"):(N.call(b,\"unit\",_,{ad:o,offer:g,_expirationTime:Date.now()+e.nw_cache_time}),void t(e)):Promise.reject(\"offer.ecpm: \".concat(g.ecpm,\"不符合bid场景，reject掉\"))})),o.onError((function(t){if(t.errorCode){var a=Date.now(),o=xo.call(b,e,a,I,-1,r,n),d=at[t.errorCode]||2e3,s=\"\".concat(null==t?void 0:t.errorMsg,\" real code [\").concat(t.errorCode,\"]\");o.bidTk.bidResult=0,o.bidTk.rlBidStatus=0,o.bidTk.sortType=-12,o.bidTk.errorMsg=s,so.call(b,o),i({code:d,msg:s})}})),o.load()}catch(t){i({code:2e3,msg:\"激励视频 c2s 失败: \".concat(JSON.stringify(t))})}})));case 10:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vo(t,e,i,n){return Ho.apply(this,arguments)}function Ho(){return(Ho=o(i().mark((function t(e,n,r,a){var o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null!==(o=null===(d=this.$app)||void 0===d?void 0:d.$def)&&void 0!==o?o:this.$def,l=e.unit_id,c=e.content,u=JSON.parse(c),h=u.unit_id,p=n.placementId,f=n.exchRateC2u,v=n.accountCurrency,m=n.placementConfig,_=(void 0===m?{}:m).entry,g=p+\"/\"+l,y={ecpm:0},I={placementId:h,entry:void 0===_?\"\":_},b=Date.now(),t.abrupt(\"return\",new Promise((function(t,i){try{s.ylh_sdk.onYlhReady((function(){var o=s.ylh_sdk.createSplashAd(I);o.onLoad((function(){var i,d;y.ecpm=o.getECPM();var s=Date.now(),l=(null!==(i=null===(d=y)||void 0===d?void 0:d.ecpm)&&void 0!==i?i:0)/100;e.ecpm=l*f,e.price=l*f,e.cy_ecpm=\"USD\"===v?l*f:l,e.s_pty=l*f,e.bidTk={bidFilledTime:s-b};var c=wo.call(k,e,a),u=xo.call(k,e,s,b,c,r,n);u.bidTk.bidResult=1,u.bidTk.rlBidStatus=2;var h=So.call(k,y,e,u,n,r).offer;return y=h,u.bidTk.bidResult&&(u.bidTk.sortType=0),y.ecpm||(u.bidTk.sortType=-12,u.bidTk.errorMsg=\"0 bid price\"),so.call(k,u),y.ecpm?To.call(k,y,e,n,r,a)?Promise.reject(\"HB BID_LOSS\"):(N.call(k,\"unit\",g,{ad:o,offer:y,_expirationTime:Date.now()+e.nw_cache_time}),void t(e)):Promise.reject(\"offer.ecpm: \".concat(y.ecpm,\"不符合bid场景，reject掉\"))})),o.onError((function(t){if(t.errorCode){var a=Date.now(),o=xo.call(k,e,a,b,-1,r,n),d=at[t.errorCode]||2e3,s=\"\".concat(null==t?void 0:t.errorMsg,\" real code [\").concat(t.errorCode,\"]\");o.bidTk.bidResult=0,o.bidTk.rlBidStatus=0,o.bidTk.sortType=-12,o.bidTk.errorMsg=s,so.call(k,o),i({code:d,msg:s})}})),o.load()}))}catch(t){i({code:2e3,msg:\"开屏广告 c2s 失败: \".concat(JSON.stringify(t))})}})));case 11:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}var Go=c(c(c({},tt.OPPO,{bid:function(t,e,i,n){var r=e.format,a={0:Oo,1:Po};return a[r]?a[r].call(this,t,e,i,n):Promise.reject(\"不支持该广告类型\")},brand:\"oppo\"}),tt.VIVO,{bid:function(t,e,i,n){var r=e.format,a={0:Uo,1:No};return a[r]?a[r].call(this,t,e,i,n):Promise.reject(\"不支持该广告类型\")},brand:\"vivo\"}),tt.YLH,{bid:function(t,e,i,n){var r=e.format,a={0:Bo,1:qo,4:Vo};return a[r]?a[r].call(this,t,e,i,n):Promise.reject(\"不支持该广告类型\")},brand:\"ylh\"});function Yo(t,e){var i=S().ad.getProvider().toLowerCase();return!!Go[t]&&(\"ylh\"===Go[t].brand?!((null==e?void 0:e.platformVersionCode)<1100):Go[t].brand===i&&!(\"oppo\"===i&&(null==e?void 0:e.platformVersionCode)<1119))}function Ko(t){return zo.apply(this,arguments)}function zo(){return(zo=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,m,_;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(a=l.device)||void 0===a?void 0:a.info)){t.next=6;break}t.t0=null==l||null===(o=l.device)||void 0===o?void 0:o.info,t.next=12;break;case 6:return t.next=8,H.getInfo();case 8:if(t.t1=t.sent,t.t1){t.next=11;break}t.t1={};case 11:t.t0=t.t1;case 12:if(c=t.t0,u=e.hbUnit,h=e.condition,p=e.strategy,f=e.scheduler,m=[],_=u,Yo.call(this,_.nw_firm_id,c)){t.next=18;break}return t.abrupt(\"return\");case 18:if(Go[_.nw_firm_id]&&m.push(Go[_.nw_firm_id].bid.call(this,_,h,p,f)),m.length){t.next=21;break}return t.abrupt(\"return\",[]);case 21:return t.abrupt(\"return\",Promise.allSettled(m));case 22:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}var Xo,Qo,Jo,Zo,td={adProxyEvent:{onInit:function(){var t;if(!this.placementId)throw new Error(\"请传入广告位ID\");var e=\"\".concat(this.$page.name,\"/\").concat(this.placementId,\"/\").concat(null==this||null===(t=this._page)||void 0===t?void 0:t.id);if(j.call(this,\"global\",e)){var i=\"当前页面: \".concat(this.$page.name,\" 已存在广告位: \").concat(this.placementId,\"，同一页面中请勿使用相同广告位ID\");throw new Error(i)}N.call(this,\"global\",e,this.placementId),this.$watch(\"wfUnitIdsNeedRender\",\"checkWfCache\"),this.$on(\"proxyTkReport\",this.tkReportWatcher),this.$on(\"proxyAdLoad\",this.adLoadWatcher),this.$on(\"proxyAdShow\",this.adShowWatcher),this.$on(\"proxyAdClick\",this.adClickWatcher),this.$on(\"proxyAdClose\",this.adCloseWatcher),this.$on(\"proxyAdReward\",this.adRewardWatcher),this.$on(\"proxyAdError\",this.adErrorWatcher),this.handleAdInit()},onDestroy:function(){var t,e,i=\"\".concat(null===(t=this.$page)||void 0===t?void 0:t.name,\"/\").concat(this.placementId,\"/\").concat(null==this||null===(e=this._page)||void 0===e?void 0:e.id);N.call(this,\"global\",i,null);try{this.$off(\"proxyTkReport\",this.tkReportWatcher),this.$off(\"proxyAdLoad\",this.adLoadWatcher),this.$off(\"proxyAdShow\",this.adShowWatcher),this.$off(\"proxyAdClick\",this.adClickWatcher),this.$off(\"proxyAdClose\",this.adCloseWatcher),this.$off(\"proxyAdReward\",this.adRewardWatcher),this.$off(\"proxyAdError\",this.adErrorWatcher)}catch(t){}}},handleAdInit:(Jo=o(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=\"lockLoad\",this.lock.load!==e){t.next=3;break}return t.abrupt(\"return\");case 3:return this.lock.load=e,this.wfAdapter=null,this.adxBidding=!1,this.hitUnitId=null,this.wfScheduler||(this.wfScheduler=new La),t.next=10,this.beforeLoad();case 10:return t.next=12,this.handleCreateAd();case 12:this.reportTkData(\"AD_LOAD\"),this.wfScheduler.load(this.unitList,{reqUgNum:this.reqUgNum}),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),[0,1].includes(this.format)&&this.initAdx(),[0,1,4].includes(this.format)&&this.initHb();case 17:case\"end\":return t.stop()}}),t,this)}))),function(){return Jo.apply(this,arguments)}),initAdx:function(){var t,e,i=this;if(null!==(t=this.adxList)&&void 0!==t&&t.length){var n=this.adxList[0],r={placementId:this.placementId,requestId:this.requestId,adxExt:this.apiData.adx_ext,exchR:(null===(e=this.apiData)||void 0===e||null===(e=e.callback)||void 0===e?void 0:e.exch_r)||1,unitId:n.unit_id,format:\"\"+this.format},a=this.apiData||{},o=a.t_g_id,d=a.gro_id,s=a.asid,l=a.hb_bid_timeout,c=void 0===l?6e4:l,u={hbBidTimeout:c,requestId:this.requestId,segmentId:d,trafficGroupId:o,asId:s};this.adxBidding=!0;var h=P(this.mergeConfig.filter,tt.ADX,n.unit_id);if(h){this.adxBidding=!1;var p=\"0\";9006===h?p=\"5\":9007===h&&(p=\"9\");var f={key:\"REQUEST_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:d,traffic_group_id:o,asid:s,msg:String(tt.ADX),msg1:String(n.unit_id),msg2:\"\",msg3:p,msg4:p,msg5:\"ADX广告源被过滤\",msg8:\"0\"};Va.call(this,f)}else this.adxBiddingTimeId=setTimeout((function(){i.adxBidding=!1}),c),this.emitWfUnitEvent(\"adUnitBiddingAttempt\",{unit:n}),go.call(this,r,n,u,this.wfScheduler).then((function(t){if(t.ecpm<=0)return i.emitWfUnitEvent(\"adUnitBiddingFail\",{unit:t,error:{code:22e3,msg:\"\"}}),!i.hbBidding&&i.wfScheduler.isFailed()&&i.adErrorWfEmpty(\"ADX无填充\"),i.adxBidding=!1,void(i.adxBiddingTimeId&&clearTimeout(i.adxBiddingTimeId));i.wfScheduler.merge([t]),i.wfUnitIdsNeedRender=i.wfScheduler.scheduler(),i.adxBidding=!1,i.adxBiddingTimeId&&clearTimeout(i.adxBiddingTimeId);var e={key:\"BID_MERGE_TO_WF\",unitid:i.placementId,requestid:i.requestId,groupid:d,traffic_group_id:o,asid:s,msg:\"66\",msg1:\"\"+t.unit_id,msg2:\"\"+t.ecpm,msg3:i.wfScheduler.isFailed()?\"3\":i.wfScheduler.isLoaded()?\"2\":\"1\",msg4:\"2\"};Va.call(i,e),i.emitWfUnitEvent(\"adUnitBiddingFilled\",{unit:t,unitIndex:i.wfScheduler.getIndex(t.unit_id)})}))}},initHb:function(){var t,e,i,n,r=this;if(null!==(t=this.hbList)&&void 0!==t&&t.length){this.hbBidding=!0;var a=this.apiData||{},o=a.t_g_id,d=a.gro_id,s=a.asid,l=a.hb_bid_timeout,c=void 0===l?6e4:l,u={hbBidTimeout:c,requestId:this.requestId,segmentId:d,trafficGroupId:o,asId:s},p={condition:{placementId:this.placementId,requestId:this.requestId,format:\"\"+this.format,exchRateC2u:(null===(e=this.apiData)||void 0===e?void 0:e.exch_rate_c2u)||1,accountCurrency:null!==(i=null===(n=this.apiData)||void 0===n||null===(n=n.callback)||void 0===n?void 0:n.acct_cy)&&void 0!==i?i:\"\",placementConfig:this.mergeConfig},strategy:u,scheduler:this.wfScheduler};this.hbBiddingTimeId=setTimeout((function(){r.hbBidding=!1}),c),this.hbList.forEach((function(t){p.hbUnit=t,r.emitWfUnitEvent(\"adUnitBiddingAttempt\",{unit:t});var e={};Ko.call(r,p).then((function(i){var n=[];if(i.map((function(t){\"fulfilled\"===t.status?n.push(t.value):t.reason&&(e={code:22e3,msg:h(t.reason)?t.reason:JSON.stringify(t.reason)})})),n.length<=0)return r.emitWfUnitEvent(\"adUnitBiddingFail\",{unit:t,error:e}),!r.adxBidding&&r.wfScheduler.isFailed()&&r.adErrorWfEmpty(\"HB无填充\"),r.hbBidding=!1,void(r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId));r.wfScheduler.merge(n),r.wfUnitIdsNeedRender=r.wfScheduler.scheduler(),r.hbBidding=!1,r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId),n.forEach((function(t){var e={key:\"BID_MERGE_TO_WF\",unitid:r.placementId,requestid:r.requestId,groupid:d,traffic_group_id:o,asid:s,msg:\"\"+t.nw_firm_id,msg1:\"\"+t.unit_id,msg2:\"\"+t.ecpm,msg3:r.wfScheduler.isFailed()?\"3\":r.wfScheduler.isLoaded()?\"2\":\"1\",msg4:\"2\"};Va.call(r,e),r.emitWfUnitEvent(\"adUnitBiddingFilled\",{unit:t,unitIndex:r.wfScheduler.getIndex(t.unit_id)})}))})).catch((function(){!r.adxBidding&&r.wfScheduler.isFailed()&&r.adErrorWfEmpty(\"HB无填充\"),r.hbBidding=!1,r.hbBiddingTimeId&&clearTimeout(r.hbBiddingTimeId)}))}))}},beforeLoad:(Qo=o(i().mark((function t(){var e,n,r=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=Date.now(),this.unitLoadStart=e,this.placementLoadStart=e,t.t0=String,t.next=7,J();case 7:t.t1=t.sent,this.requestId=(0,t.t0)(t.t1),this.requestIdCount++,n=4===this.format?5e3:3e5,this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){r.checkTimeout()}),this.mergeConfig.timeout>0?this.mergeConfig.timeout:n),t.next=17;break;case 15:t.prev=15,t.t2=t.catch(0);case 17:case\"end\":return t.stop()}}),t,this,[[0,15]])}))),function(){return Qo.apply(this,arguments)}),checkTimeout:function(){var t=this;if(this.wfScheduler){var e=this.wfScheduler.getStatusList(),i=[];e.forEach((function(t){[\"loading\",\"timeout\"].includes(t.status)&&i.push(t)}));var n=this.apiData||{},r=n.t_g_id,a=n.gro_id,o=n.asid;i.forEach((function(e){var i={key:\"REQUEST_FAILED\",unitid:t.placementId,requestid:t.requestId,groupid:a,traffic_group_id:r,asid:o,msg:String(e.nwFirmId),msg1:String(e.unitId),msg2:String(e.index),msg3:\"1\",msg4:\"19002\",msg5:\"\",msg8:\"\"};Va.call(t,i)}));this.adError({},{detail:{code:9002,msg:\"Load Timeout\"}})}},handleCreateAd:(Xo=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,_,g,y,I,b,k,w,x=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isApiSuccess=!1,o=\"TOPON_AD_CACHE_PLACEMENT_\"+this.placementId,t.next=4,M.getItem(o,!1);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(!v(d=t.t0)){t.next=10;break}return t.abrupt(\"return\",this.handleApiRequest());case 10:if(s=null!==(e=null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n?void 0:n.topon_sdk)&&void 0!==e?e:{},l=s.channelId,c=void 0===l?\"\":l,u=s.subChannelId,h=void 0===u?\"\":u,p=s.customParam,f=void 0===p?{}:p,_=s.placementCustomParam,g=c+\"/\"+h,y=O(f,void 0===_?{}:_),I=(new Date).getTime(),b=(null==d||null===(r=d.data)||void 0===r?void 0:r.ps_ct_max)||6048e5,k=(null==d||null===(a=d.data)||void 0===a?void 0:a.ps_ct_out)||0,(w=(null==d?void 0:d._request_timestamp)||0)<=0&&(w=d._ps_ct_timestamp-d.data.ps_ct),!(d._ps_ct_timestamp>I&&d._channel===g&&m(d._custom_param,y))){t.next=22;break}this.handleApiResponse(d),t.next=28;break;case 22:if(!(w+b<I)){t.next=26;break}return t.abrupt(\"return\",this.handleApiRequest());case 26:return setTimeout((function(){x.handleApiResponse(d)}),k),t.abrupt(\"return\",this.handleApiRequest());case 28:case\"end\":return t.stop()}}),t,this)}))),function(){return Xo.apply(this,arguments)}),handleApiRequest:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,m,g,y,I,b,k;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=null!==(e=null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n?void 0:n.topon_sdk)&&void 0!==e?e:{},o=a.channelId,d=void 0===o?\"\":o,s=a.subChannelId,l=void 0===s?\"\":s,c=a.customParam,u=void 0===c?{}:c,h=a.placementCustomParam,p=O(u,void 0===h?{}:h),f={placementId:this.placementId},t.next=6,to.call(this,f);case 6:if(m=t.sent,g=_(null==m?void 0:m.data)?JSON.parse(null==m?void 0:m.data):(null==m?void 0:m.data)||{},699===m.code&&(g={code:0,data:{ad_delivery_sw:0,ps_ct:864e5,ps_ct_out:0}}),!((null===(r=g)||void 0===r?void 0:r.code)>0||v(g))&&g){t.next=15;break}if(!this.isApiSuccess){t.next=12;break}return t.abrupt(\"return\");case 12:return y={detail:{code:9004,msg:\"接口服务错误\"}},this.adError({},y),t.abrupt(\"return\");case 15:I=(new Date).getTime(),b=d+\"/\"+l,g._ps_ct_timestamp=I+g.data.ps_ct,g._channel=b,g._custom_param=p,g._request_timestamp=I,this.handleApiResponse(g),k=\"TOPON_AD_CACHE_PLACEMENT_\"+this.placementId,M.setItem(k,g,!1),t.next=28;break;case 26:t.prev=26,t.t0=t.catch(0);case 28:case\"end\":return t.stop()}}),t,this,[[0,26]])})));return function(){return t.apply(this,arguments)}}(),handleApiResponse:function(t){var e;if(!this.isApiSuccess){this.isApiSuccess=!0,this.apiData=t.data;var i=function(t){if(!t)return[];var e=t.data,i=e.adx_list,n=void 0===i?[]:i,r=e.hb_list,a=void 0===r?[]:r,o=e.ug_list,d=void 0===o?[]:o,s=b(),l=b(\"hb\"),c=d.filter((function(t){return s.includes(t.nw_firm_id)}))||[];return{adxList:n,hbList:a.filter((function(t){return l.includes(t.nw_firm_id)}))||[],ugList:c}}(t);if(1!==(null===(e=this.apiData)||void 0===e?void 0:e.ad_delivery_sw)&&(i={}),this.adxList=i.adxList||[],this.hbList=i.hbList||[],this.unitList=i.ugList||[],this.adxList.length||this.unitList.length||this.hbList.length)return i;this.adErrorWfEmpty()}},checkWfCache:function(){if(this.wfScheduler){var t=this.wfScheduler.selecter();if(!v(t)){var e=t.unit,i=this.requestId;if(this.lock.adLoad!==i){this.lock.adLoad=i,this.timerId&&clearTimeout(this.timerId);try{this.$emit(\"adLoad\",{})}catch(t){console.error(\"error\",t.message);var n={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:e.unit_id,msg1:\"1\",msg2:\"adLoad回调错误\",msg3:this.handleGetErrMsg(t.message)};Va.call(this,n)}this.reportTkData(\"AD_LOAD_FILLED\",e)}}}},load:function(){this.wfScheduler.isExpired()&&(this.lock.load=\"\"),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(!0),this.adErrorList=[],this.handleAdInit()},isReady:function(){var t=this.apiData||{},e=t.t_g_id,i=t.gro_id,n=t.asid,r={key:\"IS_READY\",unitid:this.placementId,requestid:this.requestId,groupid:i,traffic_group_id:e,asid:n},a=this.wfScheduler.selecter();return v(a)?(console.error(\"wfAdapterInstance not exist\"),r.msg=\"0\",r.msg1=\"1\",r.msg2=\"\",r.msg3=\"\",r.msg4=\"\",r.msg5=\"\",Va.call(this,r),!1):(r.msg=\"1\",r.msg1=\"\",r.msg2=String(a.index),r.msg3=String(a.unitId),r.msg4=String(a.nwFirmId),r.msg5=\"\",Va.call(this,r),!0)},getAd:function(){var t;if(!this.isReady())return this.wfAdapter=null,null;if(!this.wfScheduler)return null;this.wfAdapter=this.wfScheduler.selecter();var i=this.wfAdapter,n=this.getWfAdapterInstance(i.itemId);if(v(n))return console.error(\"wfAdapterInstance not exist\"),{};this.wfScheduler.setShowed(i.unitId),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.lock.load=\"\",this.hitUnitId=i.unitId;var r={},a=null;n.getAd&&(r=n.getAd()||{}),n.getInstance&&(a=n.getInstance());var o=e(e({},i.context.emit),{},{ad:r,instance:a});if(null!==(t=this.$app)&&void 0!==t&&null!==(t=t.$def)&&void 0!==t&&null!==(t=t.topon_sdk)&&void 0!==t&&t.enhancedLoggingMode){var d=this.apiData||{},s=d.t_g_id,l=d.gro_id,c=d.asid,u={key:\"GET_AD\",unitid:this.placementId,requestid:this.requestId,groupid:l,traffic_group_id:s,asid:c,msg:String((null==o?void 0:o.nwFirmId)||0),msg1:String((null==o?void 0:o.unitId)||0),msg2:String((null==o?void 0:o.ecpm)||0)};Va.call(this,u)}return o},show:function(){try{var t=this.apiData||{},e=t.t_g_id,i=t.gro_id,n=t.asid,r={key:\"SHOW_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:i,traffic_group_id:e,asid:n,msg:\"1\"};if(v(this.wfAdapter))return console.error(\"wfAdapterInstance not exist\"),void Va.call(this,r);var a=this.wfAdapter,o=this.getWfAdapterInstance(a.itemId);if(v(o)){return this.adError({},{detail:{code:9005,msg:\"广告缓存已过期\"}}),void Va.call(this,r)}var d={unit_id:a.unitId,nw_firm_id:a.nwFirmId,ecpm:a.ecpm,bidTk:a.unit.bidTk};this.reportTkData(\"AD_SHOW\",d),null==o||o.show()}catch(t){console.error(\"call show error\",t)}},adLoad:function(t,i){var n,r,a,o=t.nw_cache_time,d=t.wfAdOption,s=void 0===d?{}:d,l=Date.now();this.placementLoadEnd=l;var c=this.getWfAdEmit(t);null!=i&&null!==(n=i.detail)&&void 0!==n&&n.nwUnitVersion&&(c.nwUnitVersion=i.detail.nwUnitVersion);var u=0;[\"1\",\"2\"].includes(null==s?void 0:s._type)&&(u=1),c.isHeaderBidding=u;var h={adapter:i,emit:e({isSelfRendering:null!==(r=null===(a=i.detail)||void 0===a?void 0:a.isSelfRendering)&&void 0!==r&&r},c)},p=l+o;this.wfScheduler.setCaching(t.unit_id,h,{expirationTime:p}),this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.emitWfUnitEvent(\"adUnitLoadFilled\",{unit:t})},adShow:function(t,e){this.wfScheduler.setShowed(t.unit_id),this.hitUnitId=t.unit_id,this.wfUnitIdsNeedRender=this.wfScheduler.scheduler(),this.lock.load=\"\";try{this.$emit(\"adShow\",e)}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"2\",msg2:\"adShow回调错误\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adClick:function(t,e){try{this.$emit(\"adClick\",e)}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"4\",msg2:\"adClick回调错误\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adClose:function(t,e){try{this.$emit(\"adClose\",e),this.hitUnitId=null}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"3\",msg2:\"adClose回调错误\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adReward:function(t,e){try{this.$emit(\"adReward\",e)}catch(e){console.error(\"error\",e.message);var i={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:t.unit_id,msg1:\"5\",msg2:\"adReward回调错误\",msg3:this.handleGetErrMsg(e.message)};Va.call(this,i)}},adError:function(t,e){var i,n,r,a,o=t.nw_firm_id,d=void 0===o?\"\":o,s=t.unit_id,l=t.wfIndex,c=null!==(i=null===(n=e.detail)||void 0===n?void 0:n.code)&&void 0!==i?i:void 0,u=rt.codeToEvent(d,c)||\"unknown\";9001===c?d===tt.BAIDU&&[1,3,4].includes(this.format)||d===tt.OPPO&&2===this.format?this.wfScheduler.setFailed(t.unit_id):this.wfScheduler.setTimeout(t.unit_id):\"loading\"!==u&&this.wfScheduler.setFailed(t.unit_id);var h=22e3,p=1*c;if(h=1e3<=p&&p<9e3?p+2e4:9e3<=p&&p<9999?p+1e4:22e3,\"loading\"!==u&&![9e3,9001,9003].includes(c)){var f,v,m=this.apiData||{},_=m.t_g_id,g=m.gro_id,y=m.asid,I=\"0\";9006===c?I=\"5\":9007===c?I=\"9\":9008===c&&(I=\"11\");var b={key:\"REQUEST_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:g,traffic_group_id:_,asid:y,msg:String(d),msg1:String(s),msg2:String(l),msg3:I,msg4:String(h),msg5:String(null!==(f=null==e||null===(v=e.detail)||void 0===v?void 0:v.msg)&&void 0!==f?f:e.msg),msg8:String(Date.now()-this.unitLoadStart)};Va.call(this,b)}if(this.isNeedEmitError(u)||this.isBusinessErrorCode(c)){var k,w,x=e.type?e:{};if(e.type){var S,T;x.detail=null!==(S=null==e?void 0:e.detail)&&void 0!==S?S:{},x.detail.code=h;var A={code:h,msg:null==e||null===(T=e.detail)||void 0===T?void 0:T.msg,unitId:s,nwFirmId:d};this.adErrorList.push(A),x.detail.errors=this.adErrorList}else{var E,C,D,L;x.msg=null!==(E=null==e||null===(C=e.detail)||void 0===C?void 0:C.msg)&&void 0!==E?E:e.msg,x.code=h;var O={code:h,msg:null!==(D=null==e||null===(L=e.detail)||void 0===L?void 0:L.msg)&&void 0!==D?D:e.msg,unitId:s,nwFirmId:d};this.adErrorList.push(O),x.errors=this.adErrorList}var R=this.requestId;if(this.lock.adError===R)return;this.lock.adError=R;try{this.$emit(\"adError\",x)}catch(t){console.error(\"error\",t.message);var P={key:\"CALLBACK_ERROR\",unitid:this.placementId,requestid:this.requestId,msg:s,msg1:\"6\",msg2:\"adError回调错误\",msg3:this.handleGetErrMsg(t.message)};Va.call(this,P)}this.lock.load=\"\",this.timerId&&clearTimeout(this.timerId);var U=this.apiData||{},$=U.t_g_id,N=U.gro_id,j=U.asid,F={key:\"LOAD_FAILED\",unitid:this.placementId,requestid:this.requestId,groupid:N,traffic_group_id:$,asid:j,msg:String(null!==(k=null==e||null===(w=e.detail)||void 0===w?void 0:w.msg)&&void 0!==k?k:e.msg),msg1:String(h)};Va.call(this,F)}else if(\"loading\"!==u){this.wfUnitIdsNeedRender=this.wfScheduler.scheduler();var B=(null==e?void 0:e.detail)||{};B.code=h,B.unitId=s,B.nwFirmId=d,this.adErrorList.push(B)}var W={code:h,msg:null!==(r=null==e||null===(a=e.detail)||void 0===a?void 0:a.msg)&&void 0!==r?r:e.msg};this.emitWfUnitEvent(\"adUnitLoadFail\",{unit:t,error:W})},adErrorWfEmpty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"无广告源数据/广告位已关闭\",e={detail:{code:9003,msg:t}};this.adError({},e)},isNeedEmitError:function(t){return\"loading\"!==t&&(!this.adxBidding&&!this.hbBidding&&(\"show\"===t||this.wfScheduler.isFailed()))},isBusinessErrorCode:function(t){return[9002,19002,9003,19003,9004,19004,9005,19005].includes(t)},emitWfUnitEvent:function(t,e){var i=this||{},n=i.format,r=i.requestId,a=e.unit,o=void 0===a?{}:a,d=e.unitIndex,s=void 0===d?-1:d,l=e.isHeaderBidding,c=void 0===l?0:l,u=e.error,h=void 0===u?{}:u,p=o.wfAdOption,f=void 0===p?{}:p,v=this.getWfAdEmit(o)||{},m=v.ecpm,_=v.cyEcpm,g=v.unitId,y=v.unitLevel,I=v.nwFirmId,b=v.nwUnitId,k={format:n,requestId:r,abTestId:v.abTestId,segmentId:v.segmentId,unitId:g,nwFirmId:I,nwUnitId:b,ecpm:m,cyEcpm:_,isHeaderBidding:c,unitLevel:y,unitIndex:s,error:h};[19e3,19006,19007].includes(null==h?void 0:h.code)||this.isBusinessErrorCode(null==h?void 0:h.code)||([\"adUnitBiddingAttempt\",\"adUnitBiddingFail\"].includes(t)&&(k.ecpm=0,k.cyEcpm=0),([\"adUnitBiddingAttempt\",\"adUnitBiddingFilled\",\"adUnitBiddingFail\"].includes(t)||[\"1\",\"2\"].includes(null==f?void 0:f._type))&&(k.isHeaderBidding=1),this.$emit(t,k))},reportShow:function(){if(v(this.wfAdapter))console.error(\"wfAdapterInstance not exist\");else{var t=this.getWfAdapterInstance(this.wfAdapter.itemId);v(t)?console.error(\"wfAdapterInstance not exist\"):void 0!==t.reportShow&&t.reportShow()}},reportClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reportToProvider:!0};if(v(this.wfAdapter))console.error(\"wfAdapterInstance not exist\");else{var e=this.getWfAdapterInstance(this.wfAdapter.itemId);v(e)?console.error(\"wfAdapterInstance not exist\"):void 0!==e.reportClick&&e.reportClick(t)}},getWfAdapterInstance:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<=0&&(t=this.wfScheduler.itemIdSeleter()),this.$child(this.placementId+\"/\"+t)},getWfAdOption:function(t){var e,i={};return null!=t&&t.content&&(i=JSON.parse(t.content)),i._unit_id=null==t?void 0:t.unit_id,i._nw_req_num=null==t?void 0:t.nw_req_num,i._nw_timeout=null!==(e=null==t?void 0:t.nw_timeout)&&void 0!==e?e:5e4,i._request_id=this.requestId,i},getWfAdExtra:function(t){var e,i,n,r,a;return{unit:{unit_id:t.unit_id,nw_firm_id:t.nw_firm_id,ecpm:t.ecpm,nw_cache_time:t.nw_cache_time,cy_ecpm:t.cy_ecpm,content:t.content,bidTk:t.bidTk||{}},trafficGroupId:null===(e=this.apiData)||void 0===e?void 0:e.t_g_id,segmentId:null===(i=this.apiData)||void 0===i?void 0:i.gro_id,format:null===(n=this.apiData)||void 0===n?void 0:n.format,asId:null===(r=this.apiData)||void 0===r?void 0:r.asid,adSourceId:t.unit_id,nwFirmId:t.nw_firm_id,ecpm:t.ecpm,channelId:null===(a=this.$app)||void 0===a||null===(a=a.$def)||void 0===a||null===(a=a.topon_sdk)||void 0===a?void 0:a.channelId,placementId:this.placementId,bidTk:t.bidTk||{}}},getWfAdEmit:function(t){var e=t.ecpm,i=t.cy_ecpm,n=t.ecpm_level,r=t.unit_id,a=t.nw_firm_id,o=t.content,d=void 0===o?\"{}\":o,s=this.apiData||{},l=s.t_g_id,c=s.gro_id,u=r,h=a,p=JSON.parse(d),f=this.format;return{ecpm:e,cyEcpm:i,unitId:u,unitLevel:n,nwFirmId:h,nwUnitId:p[it[h]]||\"\",customExt:p.custom_ext||null,format:f,abTestId:l,segmentId:c}},handleReportTk:function(t,e){var i,n,r=e.detail.type,a=null!==(i=null===(n=e.detail)||void 0===n?void 0:n.ad)&&void 0!==i?i:null;\"AD_REQUEST\"===r&&(this.emitWfUnitEvent(\"adUnitLoadAttempt\",{unit:t}),this.unitLoadStart=Date.now()),\"AD_REQUEST_FILLED\"===r&&(this.unitLoadEnd=Date.now()),this.reportTkData(r,t,a)},reportTkData:function(t){var e,i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this||{},d=o.placementLoadStart,s=o.placementLoadEnd,l=o.unitLoadStart,c=o.unitLoadEnd,u=o.placementId,h=o.requestId,p=o.format,f=o.reqUgNum,v=o.apiData,m=void 0===v?{}:v,_=m.t_g_id,g=m.gro_id,y=m.asid,I=m.p_c,b=void 0===I?{}:I,k=s-d,w=c-l,x={placementId:u,requestId:h,logType:t,trafficGroupId:_,segmentId:g,asId:y,adSourceId:r.unit_id||0,nwFirmId:r.nw_firm_id||0,ecpm:r.ecpm||0,sPty:r.s_pty||0,format:p,placementLoadTime:k,unitFilledTime:w,adId:null!==(e=null==a?void 0:a.adId)&&void 0!==e?e:\"\",reqUgNum:f,pC:b,bidTk:r.bidTk||{},wfType:null==r||null===(i=r.wfAdOption)||void 0===i?void 0:i._type},S=Object.values(et);[].concat(S,[tt.ADX]).includes(r.nw_firm_id)&&null!==(n=r.bidTk)&&void 0!==n&&n.bidFilledTime&&(x.unitFilledTime=r.bidTk.bidFilledTime),so.call(this,x)},handleGetErrMsg:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return\"unlimited\"===e||isNaN(e)?t:t.slice(0,e)},hide:function(){var t=this.wfScheduler.selecter(\"STATUS_SHOWED\");if(t){var e=this.getWfAdapterInstance(t.itemId);null!=e&&e.hide&&(e.hide(),this.hitUnitId=null)}else console.error(\"hide error, wfAdapterInstance not exist\")},tkReportWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.handleReportTk(i,n)},adLoadWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adLoad(i,n)},adShowWatcher:function(t){var e=t.detail.unit;this.adShow(e,{})},adClickWatcher:function(t){var e=t.detail.unit;this.adClick(e,{})},adCloseWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adClose(i,n)},adRewardWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adReward(i,n)},adErrorWatcher:function(t){var e=t.detail,i=e.unit,n=e.adapter;this.adError(i,n)},getDownloadStatus:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(v(e))console.error(\"wfAdapterInstance not exist\");else if(e.getDownloadStatus)return e.getDownloadStatus()}},getDownloadProgress:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(v(i))console.error(\"wfAdapterInstance not exist\");else if(i.getDownloadProgress)return i.getDownloadProgress()}},subscribeDownloadStatus:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(!v(i)&&i.subscribeDownloadStatus)return i.subscribeDownloadStatus(t)}},unsubscribeDownloadStatus:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.unsubscribeDownloadStatus)return e.unsubscribeDownloadStatus()}},subscribeDownloadProgress:function(t){if(this.wfAdapter){var e=this.wfAdapter,i=this.getWfAdapterInstance(e.itemId);if(!v(i)&&i.subscribeDownloadProgress)return i.subscribeDownloadProgress(t)}},unsubscribeDownloadProgress:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.unsubscribeDownloadProgress)return e.unsubscribeDownloadProgress()}},showAppDetailPage:function(){if(this.wfAdapter){var t=this.wfAdapter,e=this.getWfAdapterInstance(t.itemId);if(!v(e)&&e.showAppDetailPage)return e.showAppDetailPage()}}},ed={landingContainer:{marginTop:\"0\",flex:1,flexDirection:\"column\"},landingWeb:{flex:1},loadingContainer:{flex:1,flexDirection:\"column\",alignItems:\"center\"},loadingText:{fontSize:\"30px\",color:\"#787878\",textAlign:\"center\"},landingBar:{width:\"100%\",height:\"100px\",backgroundColor:\"#f7f6f6\",justifyContent:\"center\",alignItems:\"center\"},landingBtn:{height:\"50px\",width:\"50px\",padding:\"5px\",marginLeft:\"20px\",fontSize:\"32px\",fontWeight:\"bolder\"},landingTitle:{textAlign:\"center\",fontSize:\"40px\",fontWeight:\"bolder\",width:\"100%\",color:\"#333\"}},id={adProxyEvent:{onInit:function(){this.adStyle=ed;var t=this.$app.$def.manifest.display.pages;t&&t[\"TopOn/AdLanding\"]&&t[\"TopOn/AdLanding\"].fullScreen&&!t[\"TopOn/AdLanding\"].titleBar&&(this.isFullScreen=!0)},onPageStart:function(t){},onPageFinish:function(t){},onTitleReceive:function(t){var e=this;this.$page.setTitleBar({text:t.title}),this.title=t.title,setTimeout((function(){e.isLoading=!1}),10)},onError:function(t){},onProgress:function(t){},onBack:function(t){S().router.back()}}},nd=[{name:\"onSubmit\",type:\"submit\",label:\"提交\"}],rd=[{label:\"异常广告\",parentId:\"1\",groups:[{id:\"11\",children:[{label:\"广告卡顿\",value:\"1\"},{label:\"黑白屏\",value:\"2\"},{label:\"无法关闭\",value:\"3\"}]}]},{label:\"举报广告\",parentId:\"2\",groups:[{id:\"22\",children:[{label:\"诱导点击\",value:\"4\"},{label:\"违法违规\",value:\"5\"},{label:\"虚假欺诈\",value:\"6\"}]},{id:\"23\",children:[{label:\"内容抄袭\",value:\"7\"},{label:\"内容低俗\",value:\"8\"},{label:\"不感兴趣\",value:\"9\"}]}]}],ad={adProxyEvent:{onInit:function(){var t=this.$app.$def.manifest.display.pages;t&&t[\"TopOn/AdReward\"]&&t[\"TopOn/AdReward\"].fullScreen&&!t[\"TopOn/AdReward\"].titleBar&&(this.isFullScreen=!0),this.setInitialData(),this.getAdDataCache()},onCheck:function(t){var e={msg3:t.detail.data.value,msg4:\"0\"};this.feedbackSubmitError=!1,this.submitFeedback(e),this.hideDialog()},onInput:function(t){this.feedbackInputValue=t.detail.data||\"\",t.detail.data&&(this.feedbackSubmitError=!1)},onSubmit:function(){var t=this.feedbackInputValue;if(t){var e={msg3:\"0\",msg4:t};this.submitFeedback(e),this.hideDialog()}else this.feedbackSubmitError=!0},onShowDialog:function(){this.showDialog()},onHideDialog:function(){this.hideDialog()},onTouchStart:function(t){var i=t.timestamp||Date.now(),n=e(e({},t.detail.detail.touches[0]||{}),{},{timestamp:i});this.dispatchRewardedVideoEvent(\"adTouch\",{type:\"start\",data:n})},onTouchMove:function(t){},onTouchEnd:function(t){var i=t.timestamp||Date.now(),n=e(e({},t.detail.detail.changedTouches[0]||{}),{},{timestamp:i});this.dispatchRewardedVideoEvent(\"adTouch\",{type:\"end\",data:n})},onAdClick:function(t){this.dispatchRewardedVideoEvent(\"adClick\",t)},onAdClose:function(t){if(this.onVideoPause(),this.currentCountdown){var e=S().prompt,i=this;e.showDialog({message:\"观看视频满\".concat(this.countdownInitial,\"秒即可获得激励，确定要离开吗？\"),buttons:[{text:\"继续观看视频\"},{text:\"放弃激励离开\"}],success:function(t){\"1\"==t.index?(i.dispatchRewardedVideoEvent(\"adClose\",{reward:!1}),i.onBack()):i.onVideoContinue()},cancel:function(){i.onVideoContinue()},fail:function(){i.onVideoContinue()}})}else this.dispatchRewardedVideoEvent(\"adClose\",{reward:!0}),this.onBack()},onAdShow:(Zo=o(i().mark((function t(e){var n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.option._request_id+\"/\"+this.adUnitId,this.lockAdAppear!==n){t.next=3;break}return t.abrupt(\"return\");case 3:return this.lockAdAppear=n,r=Date.now(),t.next=7,this.getBoundingClientRect();case 7:a=t.sent,o=Date.now(),d=o-r,this.dispatchRewardedVideoEvent(\"adImpression\",{clientRect:a,diff:d});case 11:case\"end\":return t.stop()}}),t,this)}))),function(t){return Zo.apply(this,arguments)}),onPause:function(){this.onVideoPause()},onContinue:function(){this.onVideoContinue()}},submitFeedback:function(t){this.dispatchRewardedVideoEvent(\"adFeedback\",t),this.feedbackSubmited=!0},showDialog:function(){this.feedbackDialogVisible=!0,this.onVideoPause()},hideDialog:function(){this.feedbackDialogVisible=!1,this.onVideoContinue()},setInitialData:function(){this.feedbackDialogButtons=nd,this.feedbackSelectOptions=rd},getAdDataCache:function(){var t,e,i,n=\"\".concat(this.plId,\"/\").concat(this.adUnitId),r=j.call(this,\"adxRewardedVideo\",n);this.adData=null!==(t=null==r?void 0:r.adData)&&void 0!==t?t:{},this.adStyle=null!==(e=null==r?void 0:r.adStyle)&&void 0!==e?e:{},this.option=null!==(i=null==r?void 0:r.option)&&void 0!==i?i:{};var a=Number(this.option._countdown);this.countdownInitial=a,this.currentCountdown=a,this.onCountdown(this.currentCountdown)},onCountdown:function(t){var e=this;if(t){var i=t;this.currentCountdown=i,this.countdownTimerId&&clearInterval(this.countdownTimerId),this.countdownTimerId=setInterval((function(){i--,e.currentCountdown=i,i<1&&e.onVideoFinish()}),1e3)}},onVideoFinish:function(){this.onVideoPause()},onVideoPause:function(){this.countdownTimerId&&clearInterval(this.countdownTimerId)},onVideoContinue:function(){this.onCountdown(this.currentCountdown)},onBack:function(){var t=S().router;this.lockAdAppear=\"\",t.back()},getBoundingClientRect:function(){var t=this.$element(\"top-on-adx-container-\".concat(this.adUnitId));return t?new Promise((function(e){t.getBoundingClientRect({success:function(t){return e(t)},fail:function(){return e({})}})})):{}},dispatchRewardedVideoEvent:function(t){var e,i=\"\".concat(this.plId,\"/\").concat(this.adUnitId);if(null!==(e=this.$app.$def.topon_sdk)&&void 0!==e&&e.rewardedVideo[i]){for(var n,r,a=arguments.length,o=new Array(a>1?a-1:0),d=1;d<a;d++)o[d-1]=arguments[d];null===(n=this.$app.$def.topon_sdk)||void 0===n||(r=n.rewardedVideo[i])[t].apply(r,o)}}},od={containerStyle:{flexDirection:\"column\",width:\"100%\",paddingTop:\"10px\",paddingRight:\"10px\",paddingBottom:\"10px\",paddingLeft:\"10px\"},contentStyle:{flexDirection:\"column\",width:\"100%\"},mainStyle:{flex:1,flexDirection:\"column\"},headerStyle:{flex:1,flexDirection:\"column\"},footerStyle:{flexDirection:\"row\"},imgStyle:{width:\"100%\",overflow:\"hidden\",borderRadius:\"10px\",justifyContent:\"flex-end\",position:\"relative\"},imgPropertiesStyle:{width:\"100%\",objectFit:\"fill\"},titleStyle:{padding:\"10px\",lineHeight:\"40px\",fontSize:\"36px\",fontWeight:700,color:\"rgb(44, 62, 88)\",textOverflow:\"ellipsis\",lines:\"1\"},descStyle:{marginRight:\"20px\",marginTop:\"12px\",fontSize:\"24px\",color:\"rgb(44, 62, 88)\",textOverflow:\"ellipsis\",lines:\"1\",display:\"none\"},buttonStyle:{width:\"100%\",paddingTop:\"20px\",paddingRight:\"20px\",paddingBottom:\"20px\",paddingLeft:\"20px\",borderRadius:\"20px\",backgroundColor:\"#ff9e2b\",textAlign:\"center\",fontSize:\"24px\",color:\"#FFFFFF\"},closeStyle:{closeContainer:{position:\"absolute\",right:\"15px\",top:\"15px\",zIndex:\"100\",alignItems:\"center\",justifyContent:\"center\",transform:\"translateY(0px)\"},closeClickArea:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"transparent\"},closeBtn:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"rgba(0, 0, 0, .4)\"}},logoStyle:{logoContainer:{height:\"30px\",alignItems:\"center\",alignSelf:\"flex-end\",justifyContent:\"flex-end\",marginBottom:\"4px\",marginRight:\"4px\",backgroundColor:\"rgba(153, 153, 153, 0.8)\"},logoImg:{width:\"70px\",marginRight:\"2px\",display:\"flex\"}}},dd={2:{containerStyle:{paddingTop:\"0px\",paddingBottom:\"0px\"},contentStyle:{flexDirection:\"row-reverse\"},headerStyle:{justifyContent:\"space-between\"},footerStyle:{justifyContent:\"flex-end\",alignItems:\"center\"},imgStyle:{width:\"175px\",height:\"100px\",marginLeft:\"20px\"},imgPropertiesStyle:{height:\"100%\"},titleStyle:{padding:\"0px\",fontSize:\"30px\",lineHeight:\"36px\"},descStyle:{width:\"100%\",marginRight:\"0\",marginTop:\"0px\",display:\"flex\"},buttonStyle:{width:\"auto\",paddingTop:\"8px\",paddingBottom:\"8px\",backgroundColor:\"transparent\",borderWidth:\"1px\",borderColor:\"rgb(44, 62, 88)\",borderStyle:\"solid\",color:\"rgb(44, 62, 88)\"},closeStyle:{closeBtn:{width:\"32px\",height:\"32px\",color:\"rgb(44, 62, 88)\",borderRadius:\"0\",backgroundColor:\"transparent\"},closeClickArea:{width:\"32px\",height:\"32px\",borderRadius:\"0\"}}},3:{containerStyle:{paddingTop:\"0px\",paddingBottom:\"0px\"},contentStyle:{flexDirection:\"row\"},imgStyle:{width:\"175px\",height:\"100px\",marginRight:\"20px\"},imgPropertiesStyle:{height:\"100%\"},titleStyle:{padding:\"0px\",fontSize:\"30px\",lineHeight:\"36px\"},descStyle:{marginRight:\"0px\",marginTop:\"12px\",display:\"flex\"},buttonStyle:{width:\"auto\",paddingTop:\"8px\",paddingBottom:\"8px\"},mainStyle:{flexDirection:\"row\",justifyContent:\"flex-start\",alignItems:\"center\"},footerStyle:{alignSelf:\"center\",justifyContent:\"flex-end\"},closeStyle:{closeContainer:{top:\"0px\",right:\"0px\"},closeBtn:{width:\"32px\",height:\"32px\",backgroundColor:\"rgba(0, 0, 0, .4)\",borderRadius:\"0\"},closeClickArea:{width:\"32px\",height:\"32px\",borderRadius:\"0\"}}},4:{containerStyle:{paddingTop:\"0px\",paddingBottom:\"0px\"},contentStyle:{flexDirection:\"row\"},imgStyle:{width:\"315px\",height:\"180px\",marginRight:\"20px\"},imgPropertiesStyle:{height:\"100%\"},titleStyle:{padding:\"0px\",fontSize:\"30px\"},descStyle:{marginRight:\"0px\",display:\"flex\"},buttonStyle:{width:\"auto\",paddingTop:\"8px\",paddingBottom:\"8px\"},footerStyle:{justifyContent:\"flex-end\"},closeStyle:{closeContainer:{top:\"0px\",right:\"0px\"},closeBtn:{width:\"32px\",height:\"32px\",backgroundColor:\"rgba(0, 0, 0, .4)\",borderRadius:\"0\"},closeClickArea:{width:\"32px\",height:\"32px\",borderRadius:\"0\"}}}};function sd(t){var i,n=t.name,a=t.proxyName,o=void 0===a?null:a,d=t.params,s=void 0===d?{}:d,l=t.proxyParams,c=void 0===l?{}:l;try{if(null==this||!this.$dispatch||null==this||!this.adExtra)return;var u=o||\"proxy\".concat((i=n).charAt(0).toUpperCase()+i.slice(1)),h=JSON.parse(function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&\"object\"!=r(t[i])&&\"function\"!=typeof t[i]&&(e[i]=t[i]);return JSON.stringify(e)}(this.adExtra.unit));this.$dispatch(u,e({unit:h,adapter:{detail:e({},s)}},c))}catch(t){}}function ld(){var t=this;if(null!=this&&this.adOption){var e=this.adOption,i=e._nw_timeout,n=e._unit_id;cd.call(this),this.timerId=setTimeout((function(){t.adError({code:9001,msg:\"unitId: \".concat(n,\" 超时\")})}),i)}}function cd(t){var e=t||(null==this?void 0:this.timerId)||null;e&&clearTimeout(e)}function ud(t,e){if(!t)return e;if(!dd[t])return e;var i=$.call(this,e,dd[t],!1);return\"2\"===t&&delete i.closeStyle.closeContainer,i}var hd,pd,fd,vd={adProxyEvent:{onInit:(fd=o(i().mark((function t(){var e,n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=P(this.adConfig.filter,tt.ADX,this.adOption._unit_id))){t.next=4;break}return this.adError({code:a,msg:\"该广告源被过滤\"}),t.abrupt(\"return\");case 4:if(ld.call(this),this.handleAdInit(),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-show\"),v(null==this||null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.store)||void 0===n||null===(n=n.device)||void 0===n?void 0:n.info)){t.next=11;break}t.t0=null==this||null===(r=this.$app)||void 0===r||null===(r=r.$def)||void 0===r||null===(r=r.topon_sdk)||void 0===r||null===(r=r.store)||void 0===r||null===(r=r.device)||void 0===r?void 0:r.info,t.next=17;break;case 11:return t.next=13,H.getInfo();case 13:if(t.t1=t.sent,t.t1){t.next=16;break}t.t1={};case 16:t.t0=t.t1;case 17:o=t.t0,this.deviceInfoCache=o;case 19:case\"end\":return t.stop()}}),t,this)}))),function(){return fd.apply(this,arguments)}),onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t;this.lockAdAppear=\"\";var e=Io.call(this,this.adExtra.placementId),i=null!==(t=null==e?void 0:e.offer_data)&&void 0!==t?t:{};sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.adLoad(i)},show:function(){if(this.ready){var t=(this.adExtra||{}).placementId,e=void 0===t?\"\":t,i=Io.call(this,e);if(Date.now()>i._expirationTime)return this.adError({code:1101,msg:\"广告已过期，请重新获取广告或刷新广告\"}),void bo.call(this,e,{});this.displayed=!0}},adLoad:function(t){var e,i;if(null!=t&&t.seatbid&&null!=t&&null!==(e=t.seatbid)&&void 0!==e&&e.length){this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(i=null==t?void 0:t.seatbid)&&void 0!==i?i:[],sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this);var n=ud.call(this,this.templateId,od),r=U.call(this,this.adConfig.style),a=U.call(this,n),o=$.call(this,a,r);this.adStyle=o,this.updateCloseStyle()}else{this.adError({code:2e3,msg:\"TopOn Adx广告服务无数据返回\"})}},updateCloseStyle:function(){var t,e,i=null!==(t=null===(e=this.currentAd)||void 0===e||null===(e=e.ctrl)||void 0===e?void 0:e.ft_cl_sz)&&void 0!==t?t:1;if(1!==i){var n={1:1,2:1.5,3:.75,4:.5},r=this.adStyle.closeStyle.closeBtn.width.match(/\\d+/g)[0];if(this.adStyle.closeStyle.closeClickArea.width=r*n[i]+\"px\",this.adStyle.closeStyle.closeClickArea.height=r*n[i]+\"px\",n[i]>1){var a=r*n[i]/2-r/2+\"px\";this.adStyle.closeStyle.closeContainer.transform=\"translateY(-\".concat(a,\")\")}}},adShow:function(t){sd.call(this,{name:\"adShow\"})},adClick:function(t){var e=this;sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}}),this.handleNotice(\"click\"),this.noticeSucceed=!1,this.noticeFailed=!1;var i=S(),n=i.router,r=i.pkg,a=this||{},o=a.adExtra,d=void 0===o?{}:o,s=a.currentAd,l=void 0===s?{}:s,c=a.adOption,u=void 0===c?{}:c,h=d.placementId,p=void 0===h?\"\":h,f=l.deeplink,v=void 0===f?\"\":f,m=l.oid,_=l.click_u,g=void 0===_?\"\":_,y=l.link_type,I=l.pkg,b=void 0===I?\"\":I;if(v)return this.handleNotice(\"dp_start\"),void r.hasInstalled({package:b,success:function(t){if(t.result){var i,r,a;e.handleNotice(\"app_install\"),n.push({uri:v}),e.onHideCallback=e.subscribeAppHideCallback.bind(e),e.onShowCallback=e.handleDeepLinkFailed.bind(e);var o={once:!0};null==e||null===(i=e.$app)||void 0===i||null===(i=i.$def)||void 0===i||null===(i=i.topon_sdk)||void 0===i||null===(i=i.event)||void 0===i||null===(i=i.deeplink)||void 0===i||i.subscribe(\"app-on-hide\",e.onHideCallback,o),null==e||null===(r=e.$app)||void 0===r||null===(r=r.$def)||void 0===r||null===(r=r.topon_sdk)||void 0===r||null===(r=r.event)||void 0===r||null===(r=r.deeplink)||void 0===r||r.subscribe(\"app-on-show\",e.onShowCallback,o),\"vivo\"==(null==e||null===(a=e.deviceInfoCache)||void 0===a||null===(a=a.brand)||void 0===a?void 0:a.toLowerCase())&&(e.failTimeId&&clearTimeout(e.failTimeId),e.failTimeId=setTimeout((function(){e.noticeSucceed||e.handleDeepLinkFailed()}),3e3))}else{e.handleNotice(\"app_uninstall\"),e.handleNotice(\"dp_uninst_fail\");var d={key:\"DEEPLINK_RESULT\",unitid:p,requestid:u._request_id,msg:\"\"+m,msg1:\"2\",msg2:\"\"+g,msg3:\"0\",msg4:\"1\",msg7:\"0\"};Va.call(e,d),n.push({uri:\"TopOn/AdLanding\",params:{url:g}})}},fail:function(t,i){e.handleNotice(\"dp_uninst_fail\");var r={key:\"DEEPLINK_RESULT\",unitid:p,requestid:u._request_id,msg:\"\"+m,msg1:\"2\",msg2:\"\"+g,msg3:\"0\",msg4:\"1\",msg7:\"0\"};Va.call(e,r),n.push({uri:\"TopOn/AdLanding\",params:{url:g}})}});2===y&&n.push({uri:g}),3===y&&n.push({uri:\"TopOn/AdLanding\",params:{url:g}})},adClose:function(t){this.displayed=!1,this.adDestroy=!0,sd.call(this,{name:\"adClose\"}),this.validityTimeId&&clearTimeout(this.validityTimeId)},adError:function(t){var i=(this||{}).adOption,n=void 0===i?{}:i,r=n._request_id+\"/\"+n._unit_id;if(this.lockAdError!==r){this.lockAdError=r,this.ready=!1;var a=e(e({},t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code});delete a.errCode,delete a.errMsg,sd.call(this,{name:\"adError\",params:a}),cd.call(this)}},adAppear:(pd=o(i().mark((function t(){var e,n,r,a,o,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=this||{}).adOption,r=void 0===n?{}:n,a=e.adExtra,o=void 0===a?{}:a,d=r._request_id+\"/\"+r._unit_id,this.lockAdAppear!==d){t.next=4;break}return t.abrupt(\"return\");case 4:this.lockAdAppear=d,bo.call(this,o.placementId,{}),this.isAdExposureValid(),this.reportBidWinDa();case 8:case\"end\":return t.stop()}}),t,this)}))),function(){return pd.apply(this,arguments)}),reportBidWinDa:function(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=void 0===n?{}:n,a=t.currentAd,o=void 0===a?{}:a,d=r.placementId,s=r.trafficGroupId,l=r.segmentId,c=r.asId,u=r.nwFirmId,h=r.ecpm,p=r.bidTk,f={key:\"BID_WIN\",unitid:d,requestid:i._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(i._unit_id),msg2:\"\",msg3:\"\",msg4:\"\"+o.dsp_id,msg5:\"\"+o.oid,msg6:\"1\",msg7:p.tpBidId,msg8:\"\"+h,msg9:\"\"};Va.call(this,f)},isAdExposureValid:(hd=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=this||{}).adExtra,a=void 0===r?{}:r,o=n.currentAd,d=void 0===o?{}:o,s=Date.now(),t.next=4,this.getBoundingClientRect();case 4:if(l=t.sent,this.clientRect=l,c=[1,3].includes(a.format)?0:100,null!=d&&null!==(e=d.ctrl)&&void 0!==e&&e.shm_t&&(c=d.ctrl.shm_t),u=c,h=F.call(this,l,this.deviceInfoCache),p=Date.now(),c>(f=p-s)&&(u=c-f),c<f&&(u=0),h>.02){t.next=20;break}return console.error(\"ADX广告无效展示\"),_={ratio:h,clientRect:l,deviceInfo:{screenWidth:null===(v=this.deviceInfoCache)||void 0===v?void 0:v.screenWidth,screenHeight:null===(m=this.deviceInfoCache)||void 0===m?void 0:m.screenHeight}},this.reportInvalidImpressionDa(_),t.abrupt(\"return\");case 20:this.validityTimeId&&clearTimeout(this.validityTimeId),this.validityTimeId=setTimeout((function(){g.adDestroy?console.error(\"ADX广告无效展示\"):(g.adShow(),g.handleNotice(\"nurl\"),sd.call(g,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}}),g.handleNotice(\"imp\"),g.handleNotice(\"burl\"))}),u);case 22:case\"end\":return t.stop()}}),t,this)}))),function(){return hd.apply(this,arguments)}),handleNotice:function(t){var e,i=(this.currentAd||{}).tk,n=void 0===i?{}:i;if(n[t]&&null!==(e=n[t])&&void 0!==e&&e.length){var r=this.getMacroData();ko.call(this,n[t],r)}},adTouchStart:function(t){var i=t.timestamp||Date.now(),n=t.detail.touches[0]||{};this.startPoint=e(e({},n),{},{timestamp:i})},adTouchMove:function(t){},adTouchEnd:function(t){var i=t.timestamp||Date.now(),n=t.detail.changedTouches[0]||{};this.endPoint=e(e({},n),{},{timestamp:i})},getBoundingClientRect:function(){var t=this.$element(\"top-on-adx-container-\".concat(this.adOption._unit_id));return t?new Promise((function(e,i){t.getBoundingClientRect({success:function(t){return e(t)},fail:function(){return e({})}})})):{}},getMacroData:function(){var t,e,i,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this.clientRect,y=this.startPoint,I=void 0===y?{}:y,b=this.endPoint,k=void 0===b?{}:b,w=this.currentAd,x=void 0===w?{}:w,S={down_x:null!==(t=null==I?void 0:I.clientX)&&void 0!==t?t:\"-999\",down_y:null!==(e=null==I?void 0:I.clientY)&&void 0!==e?e:\"-999\",up_x:null!==(i=null==k?void 0:k.clientX)&&void 0!==i?i:\"-999\",up_y:null!==(n=null==k?void 0:k.clientY)&&void 0!==n?n:\"-999\"},T={down_x:null!==(r=null==I?void 0:I.offsetX)&&void 0!==r?r:\"-999\",down_y:null!==(a=null==I?void 0:I.offsetY)&&void 0!==a?a:\"-999\",up_x:null!==(o=null==k?void 0:k.offsetX)&&void 0!==o?o:\"-999\",up_y:null!==(d=null==k?void 0:k.offsetY)&&void 0!==d?d:\"-999\"};return{\"{__WIDTH__}\":null!==(s=null==g?void 0:g.width)&&void 0!==s?s:\"\",\"{__HEIGHT__}\":null!==(l=null==g?void 0:g.height)&&void 0!==l?l:\"\",\"{__DOWN_X__}\":null!==(c=null==I?void 0:I.clientX)&&void 0!==c?c:\"\",\"{__DOWN_Y__}\":null!==(u=null==I?void 0:I.clientY)&&void 0!==u?u:\"\",\"{__UP_X__}\":null!==(h=null==k?void 0:k.clientX)&&void 0!==h?h:\"\",\"{__UP_Y__}\":null!==(p=null==k?void 0:k.clientY)&&void 0!==p?p:\"\",\"{__RE_DOWN_X__}\":null!==(f=null==I?void 0:I.offsetX)&&void 0!==f?f:\"-999\",\"{__RE_DOWN_Y__}\":null!==(v=null==I?void 0:I.offsetY)&&void 0!==v?v:\"-999\",\"{__RE_UP_X__}\":null!==(m=null==k?void 0:k.offsetX)&&void 0!==m?m:\"-999\",\"{__RE_UP_Y__}\":null!==(_=null==k?void 0:k.offsetY)&&void 0!==_?_:\"-999\",\"{__TS__}\":I.timestamp/1e3,\"{__TS_MSEC__}\":I.timestamp,\"{__END_TS__}\":k.timestamp/1e3,\"{__END_TS_MSEC__}\":k.timestamp,\"{ABSOLUTE_COORD}\":S,\"{RELATIVE_COORD}\":T,\"{__DPLINK_TYPE__}\":x.deeplink?1:2}},handleDeepLinkSucceed:function(t){var e;this.handleNotice(\"dp_succ\"),this.noticeSucceed=!0,this.failTimeId&&clearTimeout(this.failTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-show\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"1\",msg4:\"0\",msg7:\"0\"};Va.call(this,p)},handleDeepLinkFailed:function(t){var e;this.handleNotice(\"dp_inst_fail\"),this.noticeFailed=!0,this.succeedTimeId&&clearTimeout(this.succeedTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-hide\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"0\",msg4:\"0\",msg7:\"0\"};Va.call(this,p)},subscribeAppHideCallback:function(){var t,e=this,i=null==this||null===(t=this.deviceInfoCache)||void 0===t||null===(t=t.brand)||void 0===t?void 0:t.toLowerCase();[\"oppo\",\"xiaomi\",\"redmi\"].includes(i)?(this.succeedTimeId&&clearTimeout(this.succeedTimeId),this.succeedTimeId=setTimeout((function(){e.noticeFailed||e.handleDeepLinkSucceed()}),1e3)):this.handleDeepLinkSucceed()},reportInvalidImpressionDa:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this||{},n=i.adOption,r=void 0===n?{}:n,a=i.adExtra,o=void 0===a?{}:a,d=i.currentAd,s=void 0===d?{}:d,l=o.placementId,c=o.trafficGroupId,u=o.segmentId,h=o.asId;o.nwFirmId,o.ecpm,o.bidTk;var p={key:\"ADX_IMP_INVALID\",unitid:l,requestid:r._request_id,groupid:u,traffic_group_id:c,asid:h,msg:s.dsp_id,msg1:String(r._unit_id),msg2:\"\"+s.oid,msg3:\"2\",msg4:null!==(t=null==e?void 0:e.msg4)&&void 0!==t?t:\"2\",msg5:JSON.stringify(e)};Va.call(this,p)}},md={containerStyle:{flexDirection:\"column\",width:\"100%\",height:\"100%\"},contentStyle:{flexDirection:\"column\",width:\"100%\",height:\"100%\",position:\"relative\",justifyContent:\"flex-end\"},imgStyle:{justifyContent:\"center\",width:\"100%\",height:\"100%\",alignItems:\"center\"},imgPropertiesStyle:{width:\"100%\",objectFit:\"fill\"},iconStyle:{width:\"80px\",height:\"80px\",marginRight:\"20px\"},iconPropertiesStyle:{width:\"100%\",borderRadius:\"10px\",height:\"100%\"},videoStyle:{justifyContent:\"center\",width:\"100%\",height:\"100%\",alignItems:\"center\"},videoPropertiesStyle:{width:\"100%\",objectFit:\"cover\",height:\"100%\"},downloadStyle:{container:{width:\"100%\"},panel:{width:\"100%\",flexDirection:\"column\",padding:\"20px\",filter:\"blur(180px)\",background:{values:[{type:\"linearGradient\",directions:[\"180deg\"],values:[\"rgba(0,0,0,0)\",\"rgba(0,0,0,0.8)\"]}]}},title:{flexDirection:\"column\"},titleText:{lineHeight:\"38px\",fontSize:\"36px\",fontWeight:700,color:\"rgba(255, 255, 255, 1)\"},desc:{fontSize:\"24px\",lineHeight:\"26px\",marginTop:\"4px\",color:\"rgba(255, 255, 255, 1)\"}},buttonStyle:{width:\"100%\",paddingTop:\"20px\",paddingRight:\"20px\",paddingBottom:\"20px\",paddingLeft:\"20px\",borderRadius:\"24px\",backgroundColor:\"#1D6AFF\",textAlign:\"center\",fontSize:\"28px\",color:\"#FFFFFF\",marginTop:\"30px\"},closeStyle:{closeContainer:{position:\"absolute\",right:\"30px\",top:\"60px\",zIndex:\"100\",alignItems:\"center\",justifyContent:\"center\",transform:\"translateY(0px)\"},closeClickArea:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"transparent\"},closeBtn:{width:\"48px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"50%\",color:\"#FFFFFF\",fontSize:\"24px\",backgroundColor:\"rgba(0, 0, 0, .4)\"}},logoStyle:{logoContainer:{height:\"30px\",alignItems:\"center\",alignSelf:\"flex-end\",justifyContent:\"flex-end\",marginBottom:\"4px\",backgroundColor:\"rgba(153, 153, 153, 0.8)\"},logoImg:{width:\"70px\",marginRight:\"2px\",display:\"flex\"}},factorStyle:{factorContainer:{justifyContent:\"space-between\",marginTop:\"20px\"},infoText:{fontSize:\"22px\",color:\"#A0A0A0\",marginRight:\"10px\"}},countdownStyle:{position:\"absolute\",left:\"30px\",top:\"60px\",width:\"160px\",height:\"48px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"24px\",zIndex:\"100\",color:\"#FFFFFF\",backgroundColor:\"rgba(0, 0, 0, .4)\",fontSize:\"20px\"},feedbackStyle:{containerStyle:{position:\"absolute\",right:\"100px\",top:\"60px\",height:\"48px\",paddingLeft:\"16px\",paddingRight:\"16px\",justifyContent:\"center\",alignItems:\"center\",borderRadius:\"24px\",zIndex:\"100\",color:\"#FFFFFF\",backgroundColor:\"rgba(0, 0, 0, .4)\",fontSize:\"20px\"},iconStyle:{fontSize:\"20px\",color:\"#000000\",width:\"24px\",height:\"24px\",marginRight:\"4px\",borderRadius:\"50%\",alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"rgba(255, 255, 255, 1)\"}}},_d={adProxyEvent:{onInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=P(this.adConfig.filter,tt.ADX,this.adOption._unit_id))){t.next=4;break}return this.adError({code:r,msg:\"该广告源被过滤\"}),t.abrupt(\"return\");case 4:if(a=U.call(this,this.adConfig.style),o=U.call(this,md),d=$.call(this,o,a),this.adStyle=d,ld.call(this),this.handleAdInit(),v(null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.store)||void 0===e||null===(e=e.device)||void 0===e?void 0:e.info)){t.next=14;break}t.t0=null==this||null===(n=this.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.store)||void 0===n||null===(n=n.device)||void 0===n?void 0:n.info,t.next=20;break;case 14:return t.next=16,H.getInfo();case 16:if(t.t1=t.sent,t.t1){t.next=19;break}t.t1={};case 19:t.t0=t.t1;case 20:s=t.t0,this.deviceInfoCache=s;case 22:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e=Io.call(this,this.adExtra.placementId),i=null!==(t=null==e?void 0:e.offer_data)&&void 0!==t?t:{};sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.adLoad(i)},show:function(){var t;if(this.ready){var e=this||{},i=e.currentAd,n=void 0===i?{}:i,r=e.adStyle,a=void 0===r?{}:r,o=e.adExtra,d=void 0===o?{}:o,s=e.adOption,l=void 0===s?{}:s,c=d.placementId,u=void 0===c?\"\":c,h=S().router,p=Io.call(this,u);if(Date.now()>p._expirationTime)return this.adError({code:1101,msg:\"广告已过期，请重新获取广告或刷新广告\"}),void bo.call(this,u,{});var f=\"\".concat(u,\"/\").concat(l._unit_id),v={adData:n,adStyle:a,option:{_request_id:l._request_id,_countdown:(null==n||null===(t=n.ctrl)||void 0===t?void 0:t.or_img_t)/1e3||0}};N.call(this,\"adxRewardedVideo\",f,v),h.push({uri:\"TopOn/AdReward\",params:{adUnitId:l._unit_id,plId:d.placementId}}),this.adShow()}},adLoad:function(t){var e,i,n;if(null!=t&&t.seatbid&&null!=t&&null!==(e=t.seatbid)&&void 0!==e&&e.length)if(null!=t&&null!==(i=t.seatbid[this.adListIndexInUse])&&void 0!==i&&i.full_u)this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(n=null==t?void 0:t.seatbid)&&void 0!==n?n:[],sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this),this.createRewardedVideo(),this.updateCloseStyle();else{this.adError({code:9008,msg:\"ADX广告无填充[素材缺失]\"})}else{this.adError({code:2e3,msg:\"ADX广告无填充\"})}},updateCloseStyle:function(){var t,e,i=null!==(t=null===(e=this.currentAd)||void 0===e||null===(e=e.ctrl)||void 0===e?void 0:e.ft_cl_sz)&&void 0!==t?t:1;if(1!==i){var n={1:1,2:1.5,3:.75,4:.5},r=this.adStyle.closeStyle.closeBtn.width.match(/\\d+/g)[0];if(this.adStyle.closeStyle.closeClickArea.width=r*n[i]+\"px\",this.adStyle.closeStyle.closeClickArea.height=r*n[i]+\"px\",n[i]>1){var a=r*n[i]/2-r/2+\"px\";this.adStyle.closeStyle.closeContainer.transform=\"translateY(-\".concat(a,\")\")}}},createRewardedVideo:function(){this.$app.$def.topon_sdk.rewardedVideo||(this.$app.$def.topon_sdk.rewardedVideo=Object.create(null));var t=this.adExtra,e=this.adOption,i=\"\".concat(t.placementId,\"/\").concat(e._unit_id);this.$app.$def.topon_sdk.rewardedVideo[i]||(this.$app.$def.topon_sdk.rewardedVideo[i]=Object.create(null));var n=this;this.$app.$def.topon_sdk.rewardedVideo[i].adClick=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adClick).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adClose=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adClose).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adError=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adError).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adImpression=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adImpression).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adTouch=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adTouch).call.apply(t,[n].concat(i))},this.$app.$def.topon_sdk.rewardedVideo[i].adFeedback=function(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.adFeedback).call.apply(t,[n].concat(i))}},destroyRewardedVideo:function(){var t;if(this.$app&&null!==(t=this.$app)&&void 0!==t&&t.$def){var e=this||{},i=e.adExtra,n=void 0===i?{}:i,r=e.adOption,a=void 0===r?{}:r,o=\"\".concat(n.placementId,\"/\").concat(a._unit_id);this.$app.$def.topon_sdk.rewardedVideo[o]=null,delete this.$app.$def.topon_sdk.rewardedVideo[o]}},adShow:function(t){var e;sd.call(this,{name:\"adShow\"}),bo.call(this,null===(e=this.adExtra)||void 0===e?void 0:e.placementId,{})},adClick:function(t,e){var i=this;sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}}),this.handleNotice(\"click\"),this.noticeSucceed=!1,this.noticeFailed=!1,e&&e();var n=S(),r=n.router,a=n.pkg,o=this||{},d=o.adExtra,s=void 0===d?{}:d,l=o.currentAd,c=void 0===l?{}:l,u=o.adOption,h=void 0===u?{}:u,p=s.placementId,f=void 0===p?\"\":p,v=c.deeplink,m=void 0===v?\"\":v,_=c.oid,g=c.click_u,y=void 0===g?\"\":g,I=c.link_type,b=c.pkg,k=void 0===b?\"\":b;if(m)return this.handleNotice(\"dp_start\"),void a.hasInstalled({package:k,success:function(t){if(t.result){var e,n,a;i.handleNotice(\"app_install\"),r.push({uri:m}),i.onHideCallback=i.subscribeAppHideCallback.bind(i),i.onShowCallback=i.handleDeepLinkFailed.bind(i);var o={once:!0};null==i||null===(e=i.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.subscribe(\"app-on-hide\",i.onHideCallback,o),null==i||null===(n=i.$app)||void 0===n||null===(n=n.$def)||void 0===n||null===(n=n.topon_sdk)||void 0===n||null===(n=n.event)||void 0===n||null===(n=n.deeplink)||void 0===n||n.subscribe(\"app-on-show\",i.onShowCallback,o),\"vivo\"==(null==i||null===(a=i.deviceInfoCache)||void 0===a||null===(a=a.brand)||void 0===a?void 0:a.toLowerCase())&&(i.failTimeId&&clearTimeout(i.failTimeId),i.failTimeId=setTimeout((function(){i.noticeSucceed||i.handleDeepLinkFailed()}),3e3))}else{i.handleNotice(\"app_uninstall\"),i.handleNotice(\"dp_uninst_fail\");var d={key:\"DEEPLINK_RESULT\",unitid:f,requestid:h._request_id,msg:\"\"+_,msg1:\"2\",msg2:\"\"+y,msg3:\"0\",msg4:\"1\",msg7:\"1\"};Va.call(i,d),r.push({uri:\"TopOn/AdLanding\",params:{url:y}})}},fail:function(t,e){i.handleNotice(\"dp_uninst_fail\");var n={key:\"DEEPLINK_RESULT\",unitid:f,requestid:h._request_id,msg:\"\"+_,msg1:\"2\",msg2:\"\"+y,msg3:\"0\",msg4:\"1\",msg7:\"1\"};Va.call(i,n),r.push({uri:\"TopOn/AdLanding\",params:{url:y}})}});2===I&&r.push({uri:y}),3===I&&r.push({uri:\"TopOn/AdLanding\",params:{url:y}})},adClose:function(t){var e;this.adDestroy=!0;var i=null!==(e=null==t?void 0:t.reward)&&void 0!==e&&e;sd.call(this,{name:\"adClose\",params:{reward:i}}),i&&sd.call(this,{name:\"adReward\",params:{reward:i}}),this.validityTimeId&&clearTimeout(this.validityTimeId),this.destroyRewardedVideo()},adError:function(t){var i=(this||{}).adOption,n=void 0===i?{}:i,r=n._request_id+\"/\"+n._unit_id;if(this.lockAdError!==r){this.lockAdError=r,this.ready=!1;var a=e(e({},t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code});delete a.errCode,delete a.errMsg,sd.call(this,{name:\"adError\",params:a}),cd.call(this)}},adImpression:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clientRect,i=t.diff,n=void 0===i?0:i;this.clientRect=e,this.isAdExposureValid(e,n),this.reportBidWinDa()},reportBidWinDa:function(){var t=this||{},e=t.adExtra,i=void 0===e?{}:e,n=t.currentAd,r=void 0===n?{}:n,a=t.adOption,o=void 0===a?{}:a,d=i.placementId,s=i.trafficGroupId,l=i.segmentId,c=i.asId,u=i.nwFirmId,h=i.ecpm,p=i.bidTk,f={key:\"BID_WIN\",unitid:d,requestid:o._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(o._unit_id),msg2:\"\",msg3:\"\",msg4:\"\"+r.dsp_id,msg5:\"\"+r.oid,msg6:\"1\",msg7:p.tpBidId,msg8:\"\"+h,msg9:\"\"};Va.call(this,f)},isAdExposureValid:function(t,e){var i,n=this,r=this||{},a=r.adExtra,o=void 0===a?{}:a,d=r.currentAd,s=void 0===d?{}:d,l=Date.now(),c=[1,3].includes(o.format)?0:100;null!=s&&null!==(i=s.ctrl)&&void 0!==i&&i.shm_t&&(c=s.ctrl.shm_t);var u=c,h=F.call(this,t,this.deviceInfoCache),p=Date.now()-l+e;if(c>p&&(u=c-p),c<p&&(u=0),h>.02)this.validityTimeId&&clearTimeout(this.validityTimeId),this.validityTimeId=setTimeout((function(){n.adDestroy?console.error(\"ADX广告无效展示\"):(n.handleNotice(\"nurl\"),sd.call(n,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}}),n.handleNotice(\"imp\"),n.handleNotice(\"burl\"))}),u);else{var f,v;console.error(\"ADX广告无效展示\");var m={ratio:h,clientRect:t,deviceInfo:{screenWidth:null===(f=this.deviceInfoCache)||void 0===f?void 0:f.screenWidth,screenHeight:null===(v=this.deviceInfoCache)||void 0===v?void 0:v.screenHeight}};this.reportInvalidImpressionDa(m)}},handleNotice:function(t){var e,i=(this.currentAd||{}).tk,n=void 0===i?{}:i;if(n[t]&&null!==(e=n[t])&&void 0!==e&&e.length){var r=this.getMacroData();ko.call(this,n[t],r)}},getMacroData:function(){var t,e,i,n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g=this.clientRect,y=this.startPoint,I=void 0===y?{}:y,b=this.endPoint,k=void 0===b?{}:b,w=this.currentAd,x=void 0===w?{}:w,S={down_x:null!==(t=null==I?void 0:I.clientX)&&void 0!==t?t:\"-999\",down_y:null!==(e=null==I?void 0:I.clientY)&&void 0!==e?e:\"-999\",up_x:null!==(i=null==k?void 0:k.clientX)&&void 0!==i?i:\"-999\",up_y:null!==(n=null==k?void 0:k.clientY)&&void 0!==n?n:\"-999\"},T={down_x:null!==(r=null==I?void 0:I.offsetX)&&void 0!==r?r:\"-999\",down_y:null!==(a=null==I?void 0:I.offsetY)&&void 0!==a?a:\"-999\",up_x:null!==(o=null==k?void 0:k.offsetX)&&void 0!==o?o:\"-999\",up_y:null!==(d=null==k?void 0:k.offsetY)&&void 0!==d?d:\"-999\"};return{\"{__WIDTH__}\":null!==(s=null==g?void 0:g.width)&&void 0!==s?s:\"\",\"{__HEIGHT__}\":null!==(l=null==g?void 0:g.height)&&void 0!==l?l:\"\",\"{__DOWN_X__}\":null!==(c=null==I?void 0:I.clientX)&&void 0!==c?c:\"\",\"{__DOWN_Y__}\":null!==(u=null==I?void 0:I.clientY)&&void 0!==u?u:\"\",\"{__UP_X__}\":null!==(h=null==k?void 0:k.clientX)&&void 0!==h?h:\"\",\"{__UP_Y__}\":null!==(p=null==k?void 0:k.clientY)&&void 0!==p?p:\"\",\"{__RE_DOWN_X__}\":null!==(f=null==I?void 0:I.offsetX)&&void 0!==f?f:\"-999\",\"{__RE_DOWN_Y__}\":null!==(v=null==I?void 0:I.offsetY)&&void 0!==v?v:\"-999\",\"{__RE_UP_X__}\":null!==(m=null==k?void 0:k.offsetX)&&void 0!==m?m:\"-999\",\"{__RE_UP_Y__}\":null!==(_=null==k?void 0:k.offsetY)&&void 0!==_?_:\"-999\",\"{__TS__}\":I.timestamp/1e3,\"{__TS_MSEC__}\":I.timestamp,\"{__END_TS__}\":k.timestamp/1e3,\"{__END_TS_MSEC__}\":k.timestamp,\"{ABSOLUTE_COORD}\":S,\"{RELATIVE_COORD}\":T,\"{__DPLINK_TYPE__}\":x.deeplink?1:2}},handleDeepLinkSucceed:function(t){var e;this.handleNotice(\"dp_succ\"),this.noticeSucceed=!0,this.failTimeId&&clearTimeout(this.failTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-show\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"1\",msg4:\"0\",msg7:\"1\"};Va.call(this,p)},handleDeepLinkFailed:function(t){var e;this.handleNotice(\"dp_inst_fail\"),this.noticeFailed=!0,this.succeedTimeId&&clearTimeout(this.succeedTimeId),null==this||null===(e=this.$app)||void 0===e||null===(e=e.$def)||void 0===e||null===(e=e.topon_sdk)||void 0===e||null===(e=e.event)||void 0===e||null===(e=e.deeplink)||void 0===e||e.unsubscribe(\"app-on-hide\");var i=this||{},n=i.adExtra,r=void 0===n?{}:n,a=i.currentAd,o=void 0===a?{}:a,d=i.adOption,s=void 0===d?{}:d,l=r.placementId,c=o.deeplink,u=void 0===c?\"\":c,h=o.oid,p={key:\"DEEPLINK_RESULT\",unitid:l,requestid:s._request_id,msg:\"\"+h,msg1:\"2\",msg2:\"\"+u,msg3:\"0\",msg4:\"0\",msg7:\"1\"};Va.call(this,p)},adTouch:function(t){var e=t.type,i=t.data;this[\"\".concat(e,\"Point\")]=i},adFeedback:function(t){var i,n,r,a,o,d,s,l,c=this||{},u=c.adExtra,h=void 0===u?{}:u,p=c.adOption,f=void 0===p?{}:p,v=c.currentAd,m=void 0===v?{}:v,_=e(e({key:\"AD_FEEDBACK\",unitid:h.placementId,requestid:f._request_id,msg:\"66\",msg1:\"\"+f._unit_id,msg2:\"2\"},t),{},{msg5:null!==(i=null==m?void 0:m.oid)&&void 0!==i?i:\"\",msg6:null!==(n=null==m?void 0:m.c_id)&&void 0!==n?n:\"\",msg7:null!==(r=null==m?void 0:m.pkg)&&void 0!==r?r:\"\",msg8:null!==(a=null==m?void 0:m.title)&&void 0!==a?a:\"\",msg9:null!==(o=null==m?void 0:m.desc)&&void 0!==o?o:\"\",msg10:null!==(d=null==m?void 0:m.icon_u)&&void 0!==d?d:\"\",msg11:null!==(s=null==m?void 0:m.full_u)&&void 0!==s?s:\"\",msg12:null!==(l=null==m?void 0:m.video_u)&&void 0!==l?l:\"\",msg13:JSON.stringify(null==m?void 0:m.img_list)});Va.call(this,_)},subscribeAppHideCallback:function(){var t,e=this,i=null==this||null===(t=this.deviceInfoCache)||void 0===t||null===(t=t.brand)||void 0===t?void 0:t.toLowerCase();[\"oppo\",\"xiaomi\",\"redmi\"].includes(i)?(this.succeedTimeId&&clearTimeout(this.succeedTimeId),this.succeedTimeId=setTimeout((function(){e.noticeFailed||e.handleDeepLinkSucceed()}),1e3)):this.handleDeepLinkSucceed()},reportInvalidImpressionDa:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this||{},n=i.adOption,r=void 0===n?{}:n,a=i.adExtra,o=void 0===a?{}:a,d=i.currentAd,s=void 0===d?{}:d,l=o.placementId,c=o.trafficGroupId,u=o.segmentId,h=o.asId;o.nwFirmId,o.ecpm,o.bidTk;var p={key:\"ADX_IMP_INVALID\",unitid:l,requestid:r._request_id,groupid:u,traffic_group_id:c,asid:h,msg:s.dsp_id,msg1:String(r._unit_id),msg2:\"\"+s.oid,msg3:\"2\",msg4:null!==(t=null==e?void 0:e.msg4)&&void 0!==t?t:\"2\",msg5:JSON.stringify(e)};Va.call(this,p)}},gd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(this.isShow=!0,this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}})},show:function(){this.ready&&(this.displayed=!0)},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){this.lockAdClicked=!0,sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adDownloadClick:function(t){this.lockAdClicked||(sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}}))},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},yd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e=this;try{this.ad=this.$app.$def.union_quick_app_sdk.createRewardedVideoAd({apid:this.adOption.placement_id,appid:this.adOption.app_id}),this.ad.onLoad((function(t){e.adLoad(t)})),this.ad.onClose((function(t){e.adClose(t)})),this.ad.onClick&&this.ad.onClick((function(t){e.adClick(t)})),this.ad.onError((function(t){e.ready=!1,e.adError(t)}))}catch(t){this.adError({code:2e3,msg:\"createRewardedVideoAd广告服务错误\"})}sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.lockAdLoad=!1,null===(t=this.ad)||void 0===t||t.load()},show:function(){this.ad&&this.ready&&(this.ad.show(),this.adShow(),this.ready=!1)},adLoad:function(t){this.lockAdLoad||(this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this))},adShow:function(t){this.lockAdLoad=!0,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){var e,i,n=null!==(e=null==t||null===(i=t.data)||void 0===i?void 0:i.reward)&&void 0!==e&&e;sd.call(this,{name:\"adClose\",params:{reward:n}}),n&&sd.call(this,{name:\"adReward\",params:t})},adError:function(t){if(!this.lockAdLoad){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}}},Id={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){this.isShow=(new Date).getTime(),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}})},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},bd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.BAIDU,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(this.isShow=!0,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}})},adLoad:function(t){this.ready=!0,this.lockAdClose=!1,this.showClassName=\"union-ad-wraper--show\",sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){this.lockAdClose||sd.call(this,{name:\"adClose\"})},adError:function(t){this.lockAdClose=!0,this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}};function kd(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=void 0===n?{}:n,a=r.placementId,o=r.trafficGroupId,d=r.segmentId,s=r.asId,l=r.nwFirmId,c=r.ecpm,u={key:\"BID_WIN\",unitid:a,requestid:i._request_id,groupid:d,traffic_group_id:o,asid:s,msg:String(l),msg1:String(i._unit_id),msg2:\"\",msg3:\"\",msg4:\"\",msg5:\"\",msg6:\"2\",msg7:\"\",msg8:\"\"+c,msg9:\"\"};Va.call(this,u)}function wd(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=\"\".concat((void 0===n?{}:n).placementId,\"/\").concat(i._unit_id);N.call(this,\"unit\",r,{})}function xd(){var t;null!=this&&this.adOption&&null!=this&&this.adExtra&&\"1\"===(null==this||null===(t=this.adOption)||void 0===t?void 0:t._type)&&(kd.call(this),wd.call(this))}var Sd={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:\"不支持该平台版本\"}),t.abrupt(\"return\");case 17:\"1\"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.loadFeedAd();case 18:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t=this||{},e=t.adOption,i=void 0===e?{}:e,n=t.adExtra,r=\"\".concat((void 0===n?{}:n).placementId,\"/\").concat(i._unit_id),a=j.call(this,\"unit\",r)||{},o={adList:a.offer?[a.offer]:[]};this.adLoad(o)},loadFeedAd:function(){var t,e=this,i=this.adOption,n=i._nw_req_num,r=i.unit_id,a=i.allow_recommend,o=null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk;v(o)?this.adError({code:2e3,msg:\"找不到优量汇SDK\"}):o.onYlhReady((function(){var t={count:n&&n<=10?n:1,placementId:r,recommendation:\"1\"===a?2:1};o.loadFeedAd(t).then((function(t){var i={adList:t||[]};t.code&&t.code>0?e.adError({code:at[t.code]||2e3,msg:\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\")}):e.adLoad(i)})).catch((function(t){e.adError({code:2e3,msg:(null==t?void 0:t.message)||\"\"})}))}))},getAd:function(){if(!this.ready)return null;var t=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,t||(this.ready=!1),xd.call(this),t},adLoad:function(t){var e,i;this.ready=!0,this.adListIndexInUse=0,this.adList=null!==(e=null==t?void 0:t.adList)&&void 0!==e?e:[],\"1\"!==(null==this||null===(i=this.adOption)||void 0===i?void 0:i._type)&&(this.adList=this.sortByPrice(this.adList)),sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!0}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)},reportShow:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},reportClick:function(){sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},sortByPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(null==t?void 0:t.length)<=1||t.sort((function(t,e){return e.getECPM()-t.getECPM()})),t}},Td={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:\"不支持该平台版本\"}),t.abrupt(\"return\");case 17:\"1\"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.createRewardVideoAd();case 18:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t,e,i=this,n=this||{},r=n.adOption,a=void 0===r?{}:r,o=n.adExtra,d=\"\".concat((void 0===o?{}:o).placementId,\"/\").concat(a._unit_id),s=j.call(this,\"unit\",d)||{},l=null!==(t=null==s?void 0:s.ad)&&void 0!==t?t:null,c=null!==(e=null==s?void 0:s.offer)&&void 0!==e?e:{};l&&(this.adLoad(c),this.bidOffer=c,this.ad=l,this.ad.onExpose((function(t){i.adShow()})),this.ad.onClick((function(){i.adClick()})),this.ad.onVideoFinish((function(){i.adVideoFinish()})),this.ad.onReward((function(){i.adReward()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})))},createRewardVideoAd:function(){var t,e=this,i=this.adOption,n=i.unit_id,r=i.video_muted;if(v(null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk))this.adError({code:2e3,msg:\"找不到优量汇SDK\"});else try{var a={placementId:n,muted:\"1\"===r};this.ad=this.$app.$def.ylh_sdk.createRewardVideoAd(a),this.ad.onLoad((function(){e.adLoad()})),this.ad.onExpose((function(t){e.adShow()})),this.ad.onClick((function(){e.adClick()})),this.ad.onReward((function(){e.adReward()})),this.ad.onVideoFinish((function(){e.adVideoFinish()})),this.ad.onClose((function(){e.adClose()})),this.ad.onError((function(t){e.adError({code:at[t.code]||2e3,msg:\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\")})})),this.ad.load()}catch(t){this.adError({code:2e3,msg:t||\"\"})}},show:function(){this.ready&&(xd.call(this),this.ad.show(),this.ready=!1)},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adVideoFinish:function(t){this.isVideoEnded=!0},adClose:function(t){sd.call(this,{name:\"adClose\"})},adReward:function(t){sd.call(this,{name:\"adReward\",params:{reward:!0}})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},Ad={adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.YLH,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(this.lockAdClicked=!1,ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),d=null!==(e=null===(n=this.$app)||void 0===n?void 0:n.$def)&&void 0!==e?e:this.$def,s=(null==d?void 0:d.topon_sdk)||{},v(null==(l=s.store)||null===(r=l.device)||void 0===r?void 0:r.info)){t.next=7;break}t.t0=null==l||null===(a=l.device)||void 0===a?void 0:a.info,t.next=13;break;case 7:return t.next=9,H.getInfo();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1={};case 12:t.t0=t.t1;case 13:if(!((null==(c=t.t0)?void 0:c.platformVersionCode)<1100)){t.next=17;break}return this.adError({code:9e3,msg:\"不支持该平台版本\"}),t.abrupt(\"return\");case 17:\"1\"===(null==this||null===(o=this.adOption)||void 0===o?void 0:o._type)?this.bid():this.createSplashAd();case 18:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),bid:function(){var t,e,i=this,n=this||{},r=n.adOption,a=void 0===r?{}:r,o=n.adExtra,d=\"\".concat((void 0===o?{}:o).placementId,\"/\").concat(a._unit_id),s=j.call(this,\"unit\",d)||{},l=null!==(t=null==s?void 0:s.ad)&&void 0!==t?t:null,c=null!==(e=null==s?void 0:s.offer)&&void 0!==e?e:{};l&&(this.adLoad(c),this.bidOffer=c,this.ad=l,this.ad.onExpose((function(t){i.adShow()})),this.ad.onClick((function(){i.adClick()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})))},createSplashAd:function(){var t,e=this,i=this.adOption.unit_id,n=this.adConfig.entry,r=void 0===n?\"\":n;v(null===(t=this.$app)||void 0===t||null===(t=t.$def)||void 0===t?void 0:t.ylh_sdk)?this.adError({code:2e3,msg:\"找不到优量汇SDK\"}):this.$app.$def.ylh_sdk.onYlhReady((function(){try{e.ad=e.$app.$def.ylh_sdk.createSplashAd({placementId:i,entry:r}),e.ad.onLoad((function(){e.adLoad()})),e.ad.onExpose((function(t){e.adShow()})),e.ad.onClick((function(){e.adClick()})),e.ad.onClose((function(){e.adClose()})),e.ad.onError((function(t){e.adError({code:at[t.code]||2e3,msg:\"\".concat(null==t?void 0:t.message,\" real code [\").concat(t.code,\"]\")})})),e.ad.load()}catch(t){e.adError({code:2e3,msg:t||\"\"})}}))},show:function(){this.ready&&(xd.call(this),this.ad.show(),this.ready=!1)},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var i=e(e({},t.stop?t.detail:t),{},{msg:t.errMsg||t.msg,code:t.errCode||t.code||t.type});delete i.errCode,delete i.errMsg,sd.call(this,{name:\"adError\",params:i}),cd.call(this)}},Ed={main:{entry:td},web:{entry:id},views:{rewarde:ad},66:{native:vd,rewardedVideo:_d},56:{native:gd,rewardedVideo:yd,interstitial:Id,splash:bd},64:{native:Sd,rewardedVideo:Td,splash:Ad},60:{native:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=this,n=S().ad;this.provider=n.getProvider(),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}});try{var r={adUnitId:this.adOption.ad_id},a=this.adExtra.channelId;a&&(r.channel=a),this.ad=n.createNativeAd(r),this.ad.onLoad((function(t){i.adLoad(t)})),this.ad.onError((function(t){i.adError(t)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createNativeAd广告服务错误\"})}if(!(Date.now()>new Date(\"2023/05/01\").getTime())){var o=this.adExtra,d=o.placementId,s=o.trafficGroupId,l=o.segmentId,c=o.asId,u=o.nwFirmId,h=this.$app.$def.topon_sdk.store,p=void 0===h?{}:h,f={key:\"AD_PROVIDER\",unitid:d,requestid:this.adOption._request_id,groupid:l,traffic_group_id:s,asid:c,msg:String(u),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==p||null===(t=p.device)||void 0===t?void 0:t.info.brand,msg4:\"\"+(null==p||null===(e=p.device)||void 0===e?void 0:e.info.model)};Va.call(this,f)}},getAd:function(){if(!this.ready)return null;var t=this.adListIndexInUse,e=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,this.currentIndexUse=t,e||(this.ready=!1),e},adLoad:function(t){this.ready=!0,this.adListIndexInUse=0,this.adList=t.adList,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!0}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\",ad:this.adList[this.currentIndexUse]||{}}}),cd.call(this)},adShow:function(t){sd.call(this,{name:\"adShow\"})},adClick:function(t){sd.call(this,{name:\"adClick\"})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},reportShow:function(){var t;null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\",ad:this.adList[this.currentIndexUse]||{}}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\",ad:this.adList[this.currentIndexUse]||{}}}),this.ad.reportAdShow({adId:this.adList[this.currentIndexUse].adId}))},reportClick:function(t){var e;null!==(e=this.adList[this.currentIndexUse])&&void 0!==e&&e.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\",ad:this.adList[this.currentIndexUse]||{}}}),null!=t&&t.reportToProvider&&this.ad.reportAdClick({adId:this.adList[this.currentIndexUse].adId}))},getDownloadStatus:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getAppStatus({adId:this.adList[this.currentIndexUse].adId})},getDownloadProgress:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getDownloadProgress({adId:this.adList[this.currentIndexUse].adId})},subscribeDownloadStatus:function(t){this.ad.onStatusChanged(t)},unsubscribeDownloadStatus:function(){this.ad&&this.ready&&this.ad.offStatusChanged()},subscribeDownloadProgress:function(t){this.ad.onDownloadProgress(t)},unsubscribeDownloadProgress:function(){this.ad&&this.ready&&this.ad.offDownloadProgress()},showAppDetailPage:function(){var t;this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&this.ad.showAppDetailPage({adId:this.adList[this.currentIndexUse].adId})},getInstance:function(){return this.ad||null}},rewardedVideo:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=this,n=S().ad;this.provider=n.getProvider(),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.lockAdLoad=!1,this.showCalled=!1;try{var r={adUnitId:this.adOption.ad_id};this.ad=n.createRewardedVideoAd(r),this.ad.onLoad((function(t){i.adLoad()})),this.ad.onClose((function(t){i.adClose(t)})),this.ad.onError((function(t){i.adError(t)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createRewardedVideoAd广告服务错误\"})}if(!(Date.now()>new Date(\"2023/05/01\").getTime())){var a=this.adExtra,o=a.placementId,d=a.trafficGroupId,s=a.segmentId,l=a.asId,c=a.nwFirmId,u=this.$app.$def.topon_sdk.store,h=void 0===u?{}:u,p={key:\"AD_PROVIDER\",unitid:o,requestid:this.adOption._request_id,groupid:s,traffic_group_id:d,asid:l,msg:String(c),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==h||null===(t=h.device)||void 0===t?void 0:t.info.brand,msg4:\"\"+(null==h||null===(e=h.device)||void 0===e?void 0:e.info.model)};Va.call(this,p)}},show:function(){var t=this;this.ready&&(this.showCalled=!0,this.ad.show().then((function(e){t.adShow(e)})).catch((function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:\"展示失败\"};sd.call(t,{name:\"adError\",params:r})})),this.ready=!1)},adLoad:function(t){this.lockAdLoad||(this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this))},adShow:function(t){this.lockAdLoad=!0,this.ready=!1,sd.call(this,{name:\"adShow\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\"}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){var e=t.isEnded;sd.call(this,{name:\"adClose\",params:{reward:e}}),e&&sd.call(this,{name:\"adReward\",params:t})},adError:function(t){this.ready=!1;var e=t.errMsg||t.msg,i=t.errCode||t.code,n={msg:e,code:i};this.showCalled&&(n.code=1101,n.msg=\"展示失败 real code: [\".concat(i,\"] real msg: [\").concat(e,\"]\")),delete n.errCode,delete n.errMsg,sd.call(this,{name:\"adError\",params:n}),cd.call(this)},getInstance:function(){return this.ad||null}},banner:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){var t;cd.call(this),this.removeAdEventListener(),null==this||null===(t=this.ad)||void 0===t||t.destroy()}},removeAdEventListener:function(){var t,e,i,n,r,a,o,d;null==this||null===(t=this.ad)||void 0===t||null===(e=t.offLoad)||void 0===e||e.call(t),null==this||null===(i=this.ad)||void 0===i||null===(n=i.offClose)||void 0===n||n.call(i),null==this||null===(r=this.ad)||void 0===r||null===(a=r.offError)||void 0===a||a.call(r),null==this||null===(o=this.ad)||void 0===o||null===(d=o.offResize)||void 0===d||d.call(o)},handleAdInit:function(){var t,e,i=this,n=S().ad;sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}}),this.lockAdLoad=!1,this.ready=!1;try{var r,a={adUnitId:this.adOption.ad_id,style:{width:-1,height:-2,left:0,top:0}};t=a.style,(e=null===(r=this.adConfig)||void 0===r?void 0:r.style)&&!v(e)&&f(e)&&Object.assign(t,e),this.ad=n.createBannerAd(a),this.ad.onLoad((function(t){i.adLoad()})),this.ad.onClose((function(t){var e;i.adClose(t),i.removeAdEventListener(),null===(e=i.ad)||void 0===e||e.destroy()})),this.ad.onError((function(t){console.error(\"onError\",t),i.adError(t)}))}catch(t){this.adError({code:2e3,msg:\"createBannerAd广告服务失败\"})}this._show()},_show:function(){var t=this;this.ad&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\"}}),this.ad.show().then((function(){}),(function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:\"展示失败: \".concat(JSON.stringify(e))};sd.call(t,{name:\"adError\",params:r})})))},adLoad:function(t){this.lockAdLoad||(this.ready=!0,this.lockAdLoad=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this),B.call(this,this.adShow))},adShow:function(t){sd.call(this,{name:\"adShow\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\",params:t})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,delete e.subErrCode,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},hide:function(){this.ad&&this.ad.hide&&this.ad.hide()}},interstitial:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){var t;cd.call(this),this.removeAdEventListener(),null==this||null===(t=this.ad)||void 0===t||t.destroy()}},removeAdEventListener:function(){var t,e,i,n,r,a,o,d,s,l;null==this||null===(t=this.ad)||void 0===t||null===(e=t.offLoad)||void 0===e||e.call(t),null==this||null===(i=this.ad)||void 0===i||null===(n=i.offClose)||void 0===n||n.call(i),null==this||null===(r=this.ad)||void 0===r||null===(a=r.offError)||void 0===a||a.call(r),null==this||null===(o=this.ad)||void 0===o||null===(d=o.offResize)||void 0===d||d.call(o),null==this||null===(s=this.ad)||void 0===s||null===(l=s.offClick)||void 0===l||l.call(s)},handleAdInit:function(){var t=this,e=S().ad;sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}});try{var i,n={adUnitId:this.adOption.ad_id};this.ad=e.createInterstitialAd(n),this.ad.onLoad((function(e){t.adLoad()})),this.ad.onClose((function(e){var i;t.adClose(e),t.removeAdEventListener(),null===(i=t.ad)||void 0===i||i.destroy()})),this.ad.onError((function(e){t.adError(e)})),null!=this&&null!==(i=this.ad)&&void 0!==i&&i.onClick&&this.ad.onClick((function(e){t.adClick(e)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createInterstitialAd广告服务失败\"})}},show:function(){var t=this;this.ad&&this.ready&&this.ad.show().then((function(){t.adShow()}),(function(e){var i,n,r={code:1101,msg:null!==(i=null!==(n=null==e?void 0:e.msg)&&void 0!==n?n:null==e?void 0:e.data)&&void 0!==i?i:\"展示失败: \".concat(JSON.stringify(e))};sd.call(t,{name:\"adError\",params:r})}))},adLoad:function(t){this.ready=!0,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!1}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\"}}),cd.call(this)},adShow:function(t){this.ready=!1,sd.call(this,{name:\"adShow\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\"}})},adClick:function(t){sd.call(this,{name:\"adClick\",params:t}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\"}})},adClose:function(t){sd.call(this,{name:\"adClose\",params:t})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,delete e.subErrCode,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},getInstance:function(){return this.ad||null}}},62:{native:{adProxyEvent:{onInit:function(){var t=P(this.adConfig.filter,tt.HUAWEI_AGD_PRO,this.adOption._unit_id);t?this.adError({code:t,msg:\"该广告源被过滤\"}):(ld.call(this),this.handleAdInit())},onDestroy:function(){cd.call(this)}},handleAdInit:function(){var t,e,i=S().ad;if(this.provider=i.getProvider(),this.createNativeAd(),!(Date.now()>new Date(\"2023/05/01\").getTime())){var n=this.adExtra,r=n.placementId,a=n.trafficGroupId,o=n.segmentId,d=n.asId,s=n.nwFirmId,l=this.$app.$def.topon_sdk.store,c=void 0===l?{}:l,u={key:\"AD_PROVIDER\",unitid:r,requestid:this.adOption._request_id,groupid:o,traffic_group_id:a,asid:d,msg:String(s),msg1:String(this.adOption._unit_id),msg2:this.provider,msg3:null==c||null===(t=c.device)||void 0===t?void 0:t.info.brand,msg4:\"\"+(null==c||null===(e=c.device)||void 0===e?void 0:e.info.model)};Va.call(this,u)}},createNativeAd:function(){var t=this,e=S().ad;sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST\"}});try{var i={adUnitId:this.adOption.ad_id},n=this.adExtra.channelId;n&&(i.channel=n),this.ad=e.createNativeAd(i),this.ad.onLoad((function(e){t.adLoad(e)})),this.ad.onError((function(e){t.adError(e)})),this.ad.load()}catch(t){this.adError({code:2e3,msg:\"createNativeAd广告服务错误\"})}},createTemplateAd:function(){var t=this,e=S().ad;try{this.ad=e.createTemplateAd({adUnitId:this.adOption.ad_id,type:this.templateAdType}),this.ad.load({success:function(e){t.adLoad(e)},fail:function(e,i){t.adError({code:2e3,msg:\"createTemplateAd广告服务错误\"})}})}catch(t){this.adError({code:2e3,msg:\"createTemplateAd广告服务错误\"})}},getAd:function(){if(!this.ready)return null;var t=this.adListIndexInUse,e=this.adList[this.adListIndexInUse]||{};return this.adListIndexInUse++,this.currentIndexUse=t,e||(this.ready=!1),e},adLoad:function(t){this.ready=!0,this.adListIndexInUse=0,this.adList=t.adList,sd.call(this,{name:\"adLoad\",params:{isSelfRendering:!this.isTemplateAd}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_REQUEST_FILLED\",ad:this.adList[this.currentIndexUse]||{}}}),cd.call(this)},adShow:function(t){sd.call(this,{name:\"adShow\"})},adClick:function(t){sd.call(this,{name:\"adClick\"})},adClose:function(t){sd.call(this,{name:\"adClose\"})},adError:function(t){this.ready=!1;var e={msg:t.errMsg||t.msg,code:t.errCode||t.code};delete e.errCode,delete e.errMsg,sd.call(this,{name:\"adError\",params:e}),cd.call(this)},reportShow:function(){var t;null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_SHOW\",ad:this.adList[this.currentIndexUse]||{}}}),sd.call(this,{name:\"tkReport\",params:{type:\"AD_IMPRESSION\",ad:this.adList[this.currentIndexUse]||{}}}),this.ad.reportAdShow({adId:this.adList[this.currentIndexUse].adId}))},reportClick:function(t){var e;null!==(e=this.adList[this.currentIndexUse])&&void 0!==e&&e.adId&&(sd.call(this,{name:\"tkReport\",params:{type:\"AD_CLICK\",ad:this.adList[this.currentIndexUse]||{}}}),null!=t&&t.reportToProvider&&this.ad.reportAdClick({adId:this.adList[this.currentIndexUse].adId}))},getDownloadStatus:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getAppStatus({adId:this.adList[this.currentIndexUse].adId})},getDownloadProgress:function(){var t;if(this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId)return this.ad.getDownloadProgress({adId:this.adList[this.currentIndexUse].adId})},subscribeDownloadStatus:function(t){this.ad.onStatusChanged(t)},unsubscribeDownloadStatus:function(){this.ad&&this.ready&&this.ad.offStatusChanged()},subscribeDownloadProgress:function(t){this.ad.onDownloadProgress(t)},unsubscribeDownloadProgress:function(){this.ad&&this.ready&&this.ad.offDownloadProgress()},showAppDetailPage:function(){var t;this.ad&&this.ready&&null!==(t=this.adList[this.currentIndexUse])&&void 0!==t&&t.adId&&this.ad.showAppDetailPage({adId:this.adList[this.currentIndexUse].adId})},getInstance:function(){return this.ad||null}}}},Cd=new(function(){function t(){d(this,t)}return l(t,[{key:\"dispatch\",value:function(t,e){t.$def.topon_sdk.store=Object.create(null),this._options=e,this.device(t),this.upId(t)}},{key:\"device\",value:function(t){t.$def.topon_sdk.store.device={};var e=[H.getInfo(),H.getOaId(),H.getDeviceIds()];Promise.all(e).then((function(e){t.$def.topon_sdk.store.device.info=e[0]||{},t.$def.topon_sdk.store.device.oaid=e[1]||\"\",t.$def.topon_sdk.store.device.ids=e[2]||{}}))}},{key:\"upId\",value:function(t){G().then((function(e){t.$def.topon_sdk.store.upid=e||\"\"}))}}]),t}()),Dd=function(){function t(e){d(this,t),this.name=e,this.eventMap={}}return l(t,[{key:\"subscribe\",value:function(t,e,i){var n=this;if(i&&i.once){return this.subscribe(t,(function i(r){e(r),n.unsubscribe(t,i)}))}if(this.eventMap[t]=this.eventMap[t]||[],\"function\"==typeof e){var r=this.eventMap[t];-1===r.indexOf(e)&&r.push(e)}}},{key:\"publish\",value:function(t,e){for(var i=null,n=this.eventMap[t]||[],r=0,a=n.length;r<a;r++)i=n[r]&&n[r](e,i);return i}},{key:\"unsubscribe\",value:function(t,e){if(this.eventMap[t]){var i=this.eventMap[t];if(e){var n=i.indexOf(e);n>-1&&i.splice(n,1)}else this.eventMap[t]=[]}}}]),t}(),Ld={};function Od(t){return Ld[t]||(Ld[t]=new Dd(t)),Ld[t]}function Rd(t,e){return Pd.apply(this,arguments)}function Pd(){return(Pd=o(i().mark((function t(e,n){var r,a,o,d,s,l,c,u,h,p,f,m,g,y,I;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.channelId,o=void 0===a?\"\":a,d=n.subChannelId,s=void 0===d?\"\":d,l=n.customParam,c=void 0===l?{}:l,u=n.placementCustomParam,h=O(c,void 0===u?{}:u),p={placementId:e},t.next=6,to.call(this,p,{isPreload:!0});case 6:if(f=t.sent,m=_(null==f?void 0:f.data)?JSON.parse(null==f?void 0:f.data):(null==f?void 0:f.data)||{},699===f.code&&(m={code:0,data:{ad_delivery_sw:0,ps_ct:864e5,ps_ct_out:0}}),!((null===(r=m)||void 0===r?void 0:r.code)>0||v(m))&&m){t.next=11;break}return t.abrupt(\"return\");case 11:g=(new Date).getTime(),y=o+\"/\"+s,m._ps_ct_timestamp=g+m.data.ps_ct,m._channel=y,m._custom_param=h,m._request_timestamp=g,I=\"TOPON_AD_CACHE_PLACEMENT_\"+e,M.setItem(I,m,!1),t.next=23;break;case 21:t.prev=21,t.t0=t.catch(0);case 23:case\"end\":return t.stop()}}),t,this,[[0,21]])})))).apply(this,arguments)}function Ud(t,e){return $d.apply(this,arguments)}function $d(){return($d=o(i().mark((function t(e,n){var r,a,o,d,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=\"TOPON_AD_CACHE_PLACEMENT_\"+e,t.next=3,M.getItem(a,!1);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:if(!v(o=t.t0)){t.next=9;break}return t.abrupt(\"return\",Rd.call(this,e,n));case 9:if(d=(new Date).getTime(),s=(null==o||null===(r=o.data)||void 0===r?void 0:r.ps_ct_max)||6048e5,(l=(null==o?void 0:o._request_timestamp)||0)<=0&&(l=o._ps_ct_timestamp-o.data.ps_ct),!(l+s<d)){t.next=15;break}return t.abrupt(\"return\",Rd.call(this,e,n));case 15:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Nd(t){var e=this,i=t.placementStrategy,n=void 0===i?[]:i;if(n.length){var r=JSON.parse(JSON.stringify(t));delete r.options;var a=n.slice(0,10),o=[];return a.forEach((function(t){o.push(Ud.call(e,t,r))})),Promise.all(o)}}var jd=\"4.2.11\",Fd=\"http://api.anythinktech.com\";function Bd(t){return Wd.apply(this,arguments)}function Wd(){return(Wd=o(i().mark((function t(e){var n,r,a,o,d,s,l,c,u,h,p,f,v,m,_,g,y,I,b,k,w,x,T,A,L,P,U,$,N,j,F,B,W,q,V,Y,z,X,Q,J,Z,tt,et,it,rt,at,ot,dt,st,lt,ct,ut;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I=e.appId,b=e.appKey,k=e.channelId,w=void 0===k?\"\":k,x=e.subChannelId,T=void 0===x?\"\":x,A=e.abtest_id,L=void 0===A?\"\":A,P=e.customParam,U=void 0===P?{}:P,$=e.placementCustomParam,N=O(U,void 0===$?{}:$),j=R(),F=S(),B=F.app,W=F.network,q=F.device,t.next=6,H.getInfo();case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:return V=t.t0,Y=B.getInfo()||{},t.next=13,W.getType();case 13:if(t.t1=t.sent,t.t1){t.next=16;break}t.t1={};case 16:return z=t.t1,t.next=19,H.getDeviceIds();case 19:if(t.t2=t.sent,t.t2){t.next=22;break}t.t2={};case 22:return X=t.t2,t.next=25,H.getOaId();case 25:if(t.t3=t.sent,t.t3){t.next=28;break}t.t3=\"\";case 28:return Q=t.t3,J=\"\".concat(null==V?void 0:V.screenWidth,\"*\").concat(null==V?void 0:V.screenHeight),Z=nt[null==z||null===(n=z.data)||void 0===n?void 0:n.type]||\"-1\",tt=\"1.0\",t.next=34,G();case 34:return et=t.sent,t.next=37,K();case 37:return it=t.sent,t.next=40,M.getItem(\"firstInitTime\");case 40:if(t.t4=t.sent,t.t4){t.next=43;break}t.t4=0;case 43:return rt=t.t4,t.next=46,M.getItem(\"currentInitTime\");case 46:if(t.t5=t.sent,t.t5){t.next=49;break}t.t5=0;case 49:return at=t.t5,ot=Math.ceil((at-rt+1)/864e5),dt={system:1,os_fw:8,mcc:\"1\",mnc:\"1\",timezone:\"\",nw_ver:\"\",orient:1,ua:j||\"\",os_vn:null!==(r=null==V?void 0:V.osVersionName)&&void 0!==r?r:\"\",os_vc:null!==(a=\"\"+(null==V?void 0:V.osVersionCode))&&void 0!==a?a:\"\",package_name:null!==(o=null==Y?void 0:Y.packageName)&&void 0!==o?o:\"\",app_vn:null!==(d=null==Y?void 0:Y.versionName)&&void 0!==d?d:\"\",app_vc:null!==(s=\"\"+(null==Y?void 0:Y.versionCode))&&void 0!==s?s:\"\",brand:null!==(l=null==V?void 0:V.brand)&&void 0!==l?l:\"\",model:null!==(c=null==V?void 0:V.model)&&void 0!==c?c:\"\",pf_vn:null!==(u=null==V?void 0:V.platformVersionName)&&void 0!==u?u:\"\",pf_vc:null!==(h=\"\"+(null==V?void 0:V.platformVersionCode))&&void 0!==h?h:\"\",network_type:Z,screen:J,upid:et,app_id:I,sdk_ver:\"UA_\".concat(jd),platform:1,channel:w||\"\",sub_channel:T||\"\",custom:N,ps_id:it,first_init_time:1*rt,days_from_first_init:ot,deny:String(V.screenDensity),api_ver:\"1.0\",host_vn:null!==(p=null==q||null===(f=q.host)||void 0===f?void 0:f.versionName)&&void 0!==p?p:\"\",host_vc:null!==(v=\"\"+(null==q||null===(m=q.host)||void 0===m?void 0:m.versionCode))&&void 0!==v?v:\"\",abtest_id:L},st={android_id:null!==(_=null==X?void 0:X.user)&&void 0!==_?_:\"\",mac:null!==(g=null==X?void 0:X.mac)&&void 0!==g?g:\"\",imei:\"\",oaid:Q,gaid:null!==(y=null==X?void 0:X.advertising)&&void 0!==y?y:\"\",is_cn_sdk:\"1\"},lt=C(D(dt)),ct=C(D(st)),ut=E(b,[{key:\"api_ver\",value:tt},{key:\"p\",value:lt},{key:\"p2\",value:ct}]),t.abrupt(\"return\",{p:lt,p2:ct,api_ver:tt,sign:ut});case 58:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function qd(t){return Md.apply(this,arguments)}function Md(){return(Md=o(i().mark((function t(e){var n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,t.prev=1,t.next=4,Bd.call(this,e);case 4:return r=t.sent,t.next=7,Na(\"\".concat(Fd,\"/v2/open/app\"),r);case 7:return a=t.sent,o=Date.now(),a._scet_timestamp=o+a.data.scet,a._request_timestamp=o,Vd.call(this,n,a),t.abrupt(\"return\",a);case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt(\"return\",{});case 18:case\"end\":return t.stop()}}),t,this,[[1,15]])})))).apply(this,arguments)}function Vd(t,e){var i=\"TOPON_AD_CACHE_APP_\"+t;return M.setItem(i,e,!1),Yd.call(this,t,e.data.logger),e}function Hd(t){return Gd.apply(this,arguments)}function Gd(){return(Gd=o(i().mark((function t(n){var r,a,o,d,s,l,c,u,h,p=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.appId,a=\"TOPON_AD_CACHE_APP_\"+r,t.next=4,M.getItem(a,!1);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(!v(o=t.t0)){t.next=10;break}return t.abrupt(\"return\",qd.call(this,n));case 10:if(d=Date.now(),s=(null==o?void 0:o._request_timestamp)||0,!(o._scet_timestamp>d)){t.next=16;break}return t.abrupt(\"return\",Vd.call(this,r,o));case 16:if(!(s+6048e5<d)){t.next=20;break}return t.abrupt(\"return\",qd.call(this,e(e({},n),{},{abtest_id:null!==(l=null==o||null===(c=o.data)||void 0===c?void 0:c.abtest_id)&&void 0!==l?l:\"\"})));case 20:return setTimeout((function(){Vd.call(p,r,o)}),100),t.abrupt(\"return\",qd.call(this,e(e({},n),{},{abtest_id:null!==(u=null==o||null===(h=o.data)||void 0===h?void 0:h.abtest_id)&&void 0!==u?u:\"\"})));case 22:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Yd(t,e){var i,n,r,a=null!==(i=null!==(n=null===(r=this.$app)||void 0===r?void 0:r.$def)&&void 0!==n?n:this.$def)&&void 0!==i?i:null;a&&null!=a&&a.topon_sdk&&(a.topon_sdk.cache.logger||(a.topon_sdk.cache.logger=Object.create(null)),a.topon_sdk.cache.logger[t]=e)}function Kd(t){return/^([.A-Za-z0-9_-]){1,128}$/.test(t)}function zd(t){return _(t)?JSON.parse(t):t}function Xd(t){var e=[],i=zd(t);return f(i)?(Object.keys(i).forEach((function(t){h(i[t])||e.push(\"\".concat(t,\"必须为字符串\"))})),e):(e.push(\"setCustomParam参数必须是JSON Object\"),e)}x&&(x.$topon_sdk=function(t,n){function r(){return r=o(i().mark((function t(e){var n,r,o,d,l,u,h,p,f,v,m,_,g=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this&&this.$def&&!this.$def.topon_sdk&&(this.$def.topon_sdk=Object.create(null),this.$def.topon_sdk.components=Ed,this.$def.topon_sdk.appId=e.appId,this.$def.topon_sdk.appKey=e.appKey,this.$def.topon_sdk.isTest=e.isTest||!1,this.$def.topon_sdk.event=Object.create(null),this.$def.topon_sdk.event.deeplink=Od(\"deeplink\"),this.$def.topon_sdk.cache=Object.create(null),this.$def.topon_sdk.channelId=Kd(e.channelId)?e.channelId:\"\",this.$def.topon_sdk.subChannelId=Kd(e.subChannelId)?e.subChannelId:\"\",this.$def.topon_sdk.customParam={},this.$def.topon_sdk.placementCustomParam={},this.$def.topon_sdk.onInitTimestamp=Date.now(),this.$def.topon_sdk.onShowTimestamp=0,this.$def.topon_sdk.onHideTimestamp=0,this.$def.topon_sdk.onDestroyTimestamp=0,this.$def.topon_sdk.onHideCounter=0,this.$def.topon_sdk.destroyParams={},h=(null==e||null===(n=e.config)||void 0===n?void 0:n.device)||\"0\",p=(null==e||null===(r=e.config)||void 0===r?void 0:r.startup)||\"0\",f=(null==e||null===(o=e.config)||void 0===o?void 0:o.startupUnlock)||\"0\",v=(null==e||null===(d=e.config)||void 0===d?void 0:d.enhancedLoggingMode)&&Date.now()<17119008e5,this.$def.topon_sdk.startup=p,this.$def.topon_sdk.startupUnlock=f,this.$def.topon_sdk.startupReported=!1,this.$def.topon_sdk.enhancedLoggingMode=v,m={appId:e.appId,appKey:e.appKey,channelId:Kd(e.channelId)?e.channelId:\"\",subChannelId:Kd(e.subChannelId)?e.subChannelId:\"\",customParam:{},placementCustomParam:{}},Hd.call(this,m),M.setItem(\"needDevice\",h),M.setItem(\"appId\",e.appId),Cd.dispatch(this,e),c.call(this),a.call(this).then((function(){\"1\"!==p&&s.call(g)})),_={placementStrategy:null!==(l=null===(u=e.config)||void 0===u||null===(u=u.preload)||void 0===u?void 0:u.placementStrategy)&&void 0!==l?l:[],channelId:Kd(e.channelId)?e.channelId:\"\",subChannelId:Kd(e.subChannelId)?e.subChannelId:\"\",customParam:{},placementCustomParam:{}},Nd.call(this,_));case 1:case\"end\":return t.stop()}}),t,this)}))),r.apply(this,arguments)}function a(){return d.apply(this,arguments)}function d(){return(d=o(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getItem(\"firstInitTime\");case 2:return(!(e=t.sent)||v(e)||1*e<16409664e5)&&(e=Date.now()),n=Date.now(),t.abrupt(\"return\",M.batch({firstInitTime:e,currentInitTime:n}));case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function s(t){var i=e({logType:\"APP_STARTUP\"},t);so.call(this,i)}function l(){if(\"1\"===this.$def.topon_sdk.startup){if(this.$def.topon_sdk.startupReported&&\"1\"===this.$def.topon_sdk.startupUnlock){var t=\"\"+Date.now();return void s.call(this,{psIdVirtual:t})}this.$def.topon_sdk.startupReported||(this.$def.topon_sdk.startupReported=!0,s.call(this))}}function c(){var t=this,e={setChannel:u,setSubChannel:h,setCustomParam:p,setPlacementCustomParam:f,onShow:m,onHide:_,onDestroy:y};Object.keys(e).forEach((function(i){t.$def.topon_sdk[i]=e[i]}))}function u(t){if(!Kd(t))return console.error(\"渠道格式错误，仅支持：“数字“、”字母“、”_-.“\"),void l.call(this);this.$def.topon_sdk.channelId=t,l.call(this)}function h(t){Kd(t)?this.$def.topon_sdk.subChannelId=t:console.error(\"渠道格式错误，仅支持：“数字“、”字母“、”_-.“\")}function p(t){if(t&&!v(t)){var e=Xd(t);if(null!=e&&e.length)for(var i=0;i<e.length;i++)console.error(e[i]);else{var n=zd(t);this.$def.topon_sdk.customParam=n}}else console.error(\"setCustomParam参数错误\")}function f(t,e){if(t&&e&&!v(e)){var i=Xd(e);if(null!=i&&i.length)for(var n=0;n<i.length;n++)console.error(i[n]);else{var r=zd(e);this.$def.topon_sdk.placementCustomParam[t]=r}}else console.error(\"setPlacementCustomParam参数错误\")}function m(){if(this.$def.topon_sdk.onShowTimestamp=Date.now(),this.$def.topon_sdk.onHideTimestamp>0){var t=this.$def.topon_sdk.onShowTimestamp-this.$def.topon_sdk.onHideTimestamp,e={key:\"HOT_START_INTERVAL_TIME\",msg:String(t)};Va.call(this,e),this.$def.topon_sdk.onHideTimestamp=0}}function _(){return g.apply(this,arguments)}function g(){return(g=o(i().mark((function t(){var e,n,r,a,o,d,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$def.topon_sdk.onHideTimestamp=Date.now(),e=this.$def.topon_sdk.onHideTimestamp-this.$def.topon_sdk.onInitTimestamp,n=this.$def.topon_sdk.onHideTimestamp-this.$def.topon_sdk.onShowTimestamp,o=String(this.$def.topon_sdk.onHideTimestamp),e>n&&this.$def.topon_sdk.onHideCounter>0?(r=\"3\",a=String(this.$def.topon_sdk.onShowTimestamp),d=String(n)):(r=\"1\",a=String(this.$def.topon_sdk.onInitTimestamp),d=String(e)),t.next=7,G();case 7:return s=t.sent,l={key:\"STAY_TIME\",sdk_time:Date.now(),upid:s,msg:r,msg1:a,msg2:o,msg3:d},Va.call(this,l),this.$def.topon_sdk.onHideCounter++,t.next=13,Ga.call(this,l);case 13:c=t.sent,this.$def.topon_sdk.destroyParams=c;case 15:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function y(){this.$def.topon_sdk.onDestroyTimestamp=Date.now();var t,e,i,n,r=this.$def.topon_sdk.onDestroyTimestamp-this.$def.topon_sdk.onInitTimestamp,a=this.$def.topon_sdk.onDestroyTimestamp-this.$def.topon_sdk.onShowTimestamp;i=String(this.$def.topon_sdk.onDestroyTimestamp),r>a&&this.$def.topon_sdk.onHideCounter>1?(t=\"4\",e=String(this.$def.topon_sdk.onShowTimestamp),n=String(a)):(t=\"2\",e=String(this.$def.topon_sdk.onInitTimestamp),n=String(r));var o={key:\"STAY_TIME\",sdk_time:Date.now(),msg:t,msg1:e,msg2:i,msg3:n};za.call(this,o)}return function(t){return r.apply(this,arguments)}.call(t,n)})}();\n";
exports["default"] = _default;

/***/ }),

/***/ "./node_modules/axios/index.js":
/*!*************************************!*\
  !*** ./node_modules/axios/index.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! ./lib/axios */ "./node_modules/axios/lib/axios.js");

/***/ }),

/***/ "./node_modules/axios/lib/adapters/xhr.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/adapters/xhr.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var settle = __webpack_require__(/*! ./../core/settle */ "./node_modules/axios/lib/core/settle.js");
var cookies = __webpack_require__(/*! ./../helpers/cookies */ "./node_modules/axios/lib/helpers/cookies.js");
var buildURL = __webpack_require__(/*! ./../helpers/buildURL */ "./node_modules/axios/lib/helpers/buildURL.js");
var buildFullPath = __webpack_require__(/*! ../core/buildFullPath */ "./node_modules/axios/lib/core/buildFullPath.js");
var parseHeaders = __webpack_require__(/*! ./../helpers/parseHeaders */ "./node_modules/axios/lib/helpers/parseHeaders.js");
var isURLSameOrigin = __webpack_require__(/*! ./../helpers/isURLSameOrigin */ "./node_modules/axios/lib/helpers/isURLSameOrigin.js");
var transitionalDefaults = __webpack_require__(/*! ../defaults/transitional */ "./node_modules/axios/lib/defaults/transitional.js");
var AxiosError = __webpack_require__(/*! ../core/AxiosError */ "./node_modules/axios/lib/core/AxiosError.js");
var CanceledError = __webpack_require__(/*! ../cancel/CanceledError */ "./node_modules/axios/lib/cancel/CanceledError.js");
var parseProtocol = __webpack_require__(/*! ../helpers/parseProtocol */ "./node_modules/axios/lib/helpers/parseProtocol.js");

module.exports = function xhrAdapter(config) {
  return new Promise(function dispatchXhrRequest(resolve, reject) {
    var requestData = config.data;
    var requestHeaders = config.headers;
    var responseType = config.responseType;
    var onCanceled;
    function done() {
      if (config.cancelToken) {
        config.cancelToken.unsubscribe(onCanceled);
      }

      if (config.signal) {
        config.signal.removeEventListener('abort', onCanceled);
      }
    }

    if (utils.isFormData(requestData) && utils.isStandardBrowserEnv()) {
      delete requestHeaders['Content-Type']; // Let the browser set it
    }

    var request = new XMLHttpRequest();

    // HTTP basic authentication
    if (config.auth) {
      var username = config.auth.username || '';
      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';
      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);
    }

    var fullPath = buildFullPath(config.baseURL, config.url);

    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);

    // Set the request timeout in MS
    request.timeout = config.timeout;

    function onloadend() {
      if (!request) {
        return;
      }
      // Prepare the response
      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;
      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?
        request.responseText : request.response;
      var response = {
        data: responseData,
        status: request.status,
        statusText: request.statusText,
        headers: responseHeaders,
        config: config,
        request: request
      };

      settle(function _resolve(value) {
        resolve(value);
        done();
      }, function _reject(err) {
        reject(err);
        done();
      }, response);

      // Clean up request
      request = null;
    }

    if ('onloadend' in request) {
      // Use onloadend if available
      request.onloadend = onloadend;
    } else {
      // Listen for ready state to emulate onloadend
      request.onreadystatechange = function handleLoad() {
        if (!request || request.readyState !== 4) {
          return;
        }

        // The request errored out and we didn't get a response, this will be
        // handled by onerror instead
        // With one exception: request that using file: protocol, most browsers
        // will return status as 0 even though it's a successful request
        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {
          return;
        }
        // readystate handler is calling before onerror or ontimeout handlers,
        // so we should call onloadend on the next 'tick'
        setTimeout(onloadend);
      };
    }

    // Handle browser request cancellation (as opposed to a manual cancellation)
    request.onabort = function handleAbort() {
      if (!request) {
        return;
      }

      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));

      // Clean up request
      request = null;
    };

    // Handle low level network errors
    request.onerror = function handleError() {
      // Real errors are hidden from us by the browser
      // onerror should only fire if it's a network error
      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request, request));

      // Clean up request
      request = null;
    };

    // Handle timeout
    request.ontimeout = function handleTimeout() {
      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';
      var transitional = config.transitional || transitionalDefaults;
      if (config.timeoutErrorMessage) {
        timeoutErrorMessage = config.timeoutErrorMessage;
      }
      reject(new AxiosError(
        timeoutErrorMessage,
        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,
        config,
        request));

      // Clean up request
      request = null;
    };

    // Add xsrf header
    // This is only done if running in a standard browser environment.
    // Specifically not if we're in a web worker, or react-native.
    if (utils.isStandardBrowserEnv()) {
      // Add xsrf header
      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?
        cookies.read(config.xsrfCookieName) :
        undefined;

      if (xsrfValue) {
        requestHeaders[config.xsrfHeaderName] = xsrfValue;
      }
    }

    // Add headers to the request
    if ('setRequestHeader' in request) {
      utils.forEach(requestHeaders, function setRequestHeader(val, key) {
        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {
          // Remove Content-Type if data is undefined
          delete requestHeaders[key];
        } else {
          // Otherwise add header to the request
          request.setRequestHeader(key, val);
        }
      });
    }

    // Add withCredentials to request if needed
    if (!utils.isUndefined(config.withCredentials)) {
      request.withCredentials = !!config.withCredentials;
    }

    // Add responseType to request if needed
    if (responseType && responseType !== 'json') {
      request.responseType = config.responseType;
    }

    // Handle progress if needed
    if (typeof config.onDownloadProgress === 'function') {
      request.addEventListener('progress', config.onDownloadProgress);
    }

    // Not all browsers support upload events
    if (typeof config.onUploadProgress === 'function' && request.upload) {
      request.upload.addEventListener('progress', config.onUploadProgress);
    }

    if (config.cancelToken || config.signal) {
      // Handle cancellation
      // eslint-disable-next-line func-names
      onCanceled = function(cancel) {
        if (!request) {
          return;
        }
        reject(!cancel || (cancel && cancel.type) ? new CanceledError() : cancel);
        request.abort();
        request = null;
      };

      config.cancelToken && config.cancelToken.subscribe(onCanceled);
      if (config.signal) {
        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);
      }
    }

    if (!requestData) {
      requestData = null;
    }

    var protocol = parseProtocol(fullPath);

    if (protocol && [ 'http', 'https', 'file' ].indexOf(protocol) === -1) {
      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));
      return;
    }


    // Send the request
    request.send(requestData);
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/axios.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/axios.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./utils */ "./node_modules/axios/lib/utils.js");
var bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");
var Axios = __webpack_require__(/*! ./core/Axios */ "./node_modules/axios/lib/core/Axios.js");
var mergeConfig = __webpack_require__(/*! ./core/mergeConfig */ "./node_modules/axios/lib/core/mergeConfig.js");
var defaults = __webpack_require__(/*! ./defaults */ "./node_modules/axios/lib/defaults/index.js");

/**
 * Create an instance of Axios
 *
 * @param {Object} defaultConfig The default config for the instance
 * @return {Axios} A new instance of Axios
 */
function createInstance(defaultConfig) {
  var context = new Axios(defaultConfig);
  var instance = bind(Axios.prototype.request, context);

  // Copy axios.prototype to instance
  utils.extend(instance, Axios.prototype, context);

  // Copy context to instance
  utils.extend(instance, context);

  // Factory for creating new instances
  instance.create = function create(instanceConfig) {
    return createInstance(mergeConfig(defaultConfig, instanceConfig));
  };

  return instance;
}

// Create the default instance to be exported
var axios = createInstance(defaults);

// Expose Axios class to allow class inheritance
axios.Axios = Axios;

// Expose Cancel & CancelToken
axios.CanceledError = __webpack_require__(/*! ./cancel/CanceledError */ "./node_modules/axios/lib/cancel/CanceledError.js");
axios.CancelToken = __webpack_require__(/*! ./cancel/CancelToken */ "./node_modules/axios/lib/cancel/CancelToken.js");
axios.isCancel = __webpack_require__(/*! ./cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");
axios.VERSION = (__webpack_require__(/*! ./env/data */ "./node_modules/axios/lib/env/data.js").version);
axios.toFormData = __webpack_require__(/*! ./helpers/toFormData */ "./node_modules/axios/lib/helpers/toFormData.js");

// Expose AxiosError class
axios.AxiosError = __webpack_require__(/*! ../lib/core/AxiosError */ "./node_modules/axios/lib/core/AxiosError.js");

// alias for CanceledError for backward compatibility
axios.Cancel = axios.CanceledError;

// Expose all/spread
axios.all = function all(promises) {
  return Promise.all(promises);
};
axios.spread = __webpack_require__(/*! ./helpers/spread */ "./node_modules/axios/lib/helpers/spread.js");

// Expose isAxiosError
axios.isAxiosError = __webpack_require__(/*! ./helpers/isAxiosError */ "./node_modules/axios/lib/helpers/isAxiosError.js");

module.exports = axios;

// Allow use of default import syntax in TypeScript
module.exports["default"] = axios;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/CancelToken.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/cancel/CancelToken.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var CanceledError = __webpack_require__(/*! ./CanceledError */ "./node_modules/axios/lib/cancel/CanceledError.js");

/**
 * A `CancelToken` is an object that can be used to request cancellation of an operation.
 *
 * @class
 * @param {Function} executor The executor function.
 */
function CancelToken(executor) {
  if (typeof executor !== 'function') {
    throw new TypeError('executor must be a function.');
  }

  var resolvePromise;

  this.promise = new Promise(function promiseExecutor(resolve) {
    resolvePromise = resolve;
  });

  var token = this;

  // eslint-disable-next-line func-names
  this.promise.then(function(cancel) {
    if (!token._listeners) return;

    var i;
    var l = token._listeners.length;

    for (i = 0; i < l; i++) {
      token._listeners[i](cancel);
    }
    token._listeners = null;
  });

  // eslint-disable-next-line func-names
  this.promise.then = function(onfulfilled) {
    var _resolve;
    // eslint-disable-next-line func-names
    var promise = new Promise(function(resolve) {
      token.subscribe(resolve);
      _resolve = resolve;
    }).then(onfulfilled);

    promise.cancel = function reject() {
      token.unsubscribe(_resolve);
    };

    return promise;
  };

  executor(function cancel(message) {
    if (token.reason) {
      // Cancellation has already been requested
      return;
    }

    token.reason = new CanceledError(message);
    resolvePromise(token.reason);
  });
}

/**
 * Throws a `CanceledError` if cancellation has been requested.
 */
CancelToken.prototype.throwIfRequested = function throwIfRequested() {
  if (this.reason) {
    throw this.reason;
  }
};

/**
 * Subscribe to the cancel signal
 */

CancelToken.prototype.subscribe = function subscribe(listener) {
  if (this.reason) {
    listener(this.reason);
    return;
  }

  if (this._listeners) {
    this._listeners.push(listener);
  } else {
    this._listeners = [listener];
  }
};

/**
 * Unsubscribe from the cancel signal
 */

CancelToken.prototype.unsubscribe = function unsubscribe(listener) {
  if (!this._listeners) {
    return;
  }
  var index = this._listeners.indexOf(listener);
  if (index !== -1) {
    this._listeners.splice(index, 1);
  }
};

/**
 * Returns an object that contains a new `CancelToken` and a function that, when called,
 * cancels the `CancelToken`.
 */
CancelToken.source = function source() {
  var cancel;
  var token = new CancelToken(function executor(c) {
    cancel = c;
  });
  return {
    token: token,
    cancel: cancel
  };
};

module.exports = CancelToken;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/CanceledError.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/cancel/CanceledError.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var AxiosError = __webpack_require__(/*! ../core/AxiosError */ "./node_modules/axios/lib/core/AxiosError.js");
var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

/**
 * A `CanceledError` is an object that is thrown when an operation is canceled.
 *
 * @class
 * @param {string=} message The message.
 */
function CanceledError(message) {
  // eslint-disable-next-line no-eq-null,eqeqeq
  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED);
  this.name = 'CanceledError';
}

utils.inherits(CanceledError, AxiosError, {
  __CANCEL__: true
});

module.exports = CanceledError;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/isCancel.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/cancel/isCancel.js ***!
  \***************************************************/
/***/ ((module) => {

"use strict";


module.exports = function isCancel(value) {
  return !!(value && value.__CANCEL__);
};


/***/ }),

/***/ "./node_modules/axios/lib/core/Axios.js":
/*!**********************************************!*\
  !*** ./node_modules/axios/lib/core/Axios.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var buildURL = __webpack_require__(/*! ../helpers/buildURL */ "./node_modules/axios/lib/helpers/buildURL.js");
var InterceptorManager = __webpack_require__(/*! ./InterceptorManager */ "./node_modules/axios/lib/core/InterceptorManager.js");
var dispatchRequest = __webpack_require__(/*! ./dispatchRequest */ "./node_modules/axios/lib/core/dispatchRequest.js");
var mergeConfig = __webpack_require__(/*! ./mergeConfig */ "./node_modules/axios/lib/core/mergeConfig.js");
var buildFullPath = __webpack_require__(/*! ./buildFullPath */ "./node_modules/axios/lib/core/buildFullPath.js");
var validator = __webpack_require__(/*! ../helpers/validator */ "./node_modules/axios/lib/helpers/validator.js");

var validators = validator.validators;
/**
 * Create a new instance of Axios
 *
 * @param {Object} instanceConfig The default config for the instance
 */
function Axios(instanceConfig) {
  this.defaults = instanceConfig;
  this.interceptors = {
    request: new InterceptorManager(),
    response: new InterceptorManager()
  };
}

/**
 * Dispatch a request
 *
 * @param {Object} config The config specific for this request (merged with this.defaults)
 */
Axios.prototype.request = function request(configOrUrl, config) {
  /*eslint no-param-reassign:0*/
  // Allow for axios('example/url'[, config]) a la fetch API
  if (typeof configOrUrl === 'string') {
    config = config || {};
    config.url = configOrUrl;
  } else {
    config = configOrUrl || {};
  }

  config = mergeConfig(this.defaults, config);

  // Set config.method
  if (config.method) {
    config.method = config.method.toLowerCase();
  } else if (this.defaults.method) {
    config.method = this.defaults.method.toLowerCase();
  } else {
    config.method = 'get';
  }

  var transitional = config.transitional;

  if (transitional !== undefined) {
    validator.assertOptions(transitional, {
      silentJSONParsing: validators.transitional(validators.boolean),
      forcedJSONParsing: validators.transitional(validators.boolean),
      clarifyTimeoutError: validators.transitional(validators.boolean)
    }, false);
  }

  // filter out skipped interceptors
  var requestInterceptorChain = [];
  var synchronousRequestInterceptors = true;
  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {
      return;
    }

    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;

    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
  });

  var responseInterceptorChain = [];
  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
  });

  var promise;

  if (!synchronousRequestInterceptors) {
    var chain = [dispatchRequest, undefined];

    Array.prototype.unshift.apply(chain, requestInterceptorChain);
    chain = chain.concat(responseInterceptorChain);

    promise = Promise.resolve(config);
    while (chain.length) {
      promise = promise.then(chain.shift(), chain.shift());
    }

    return promise;
  }


  var newConfig = config;
  while (requestInterceptorChain.length) {
    var onFulfilled = requestInterceptorChain.shift();
    var onRejected = requestInterceptorChain.shift();
    try {
      newConfig = onFulfilled(newConfig);
    } catch (error) {
      onRejected(error);
      break;
    }
  }

  try {
    promise = dispatchRequest(newConfig);
  } catch (error) {
    return Promise.reject(error);
  }

  while (responseInterceptorChain.length) {
    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());
  }

  return promise;
};

Axios.prototype.getUri = function getUri(config) {
  config = mergeConfig(this.defaults, config);
  var fullPath = buildFullPath(config.baseURL, config.url);
  return buildURL(fullPath, config.params, config.paramsSerializer);
};

// Provide aliases for supported request methods
utils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {
  /*eslint func-names:0*/
  Axios.prototype[method] = function(url, config) {
    return this.request(mergeConfig(config || {}, {
      method: method,
      url: url,
      data: (config || {}).data
    }));
  };
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  /*eslint func-names:0*/

  function generateHTTPMethod(isForm) {
    return function httpMethod(url, data, config) {
      return this.request(mergeConfig(config || {}, {
        method: method,
        headers: isForm ? {
          'Content-Type': 'multipart/form-data'
        } : {},
        url: url,
        data: data
      }));
    };
  }

  Axios.prototype[method] = generateHTTPMethod();

  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);
});

module.exports = Axios;


/***/ }),

/***/ "./node_modules/axios/lib/core/AxiosError.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/core/AxiosError.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

/**
 * Create an Error with the specified message, config, error code, request and response.
 *
 * @param {string} message The error message.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 * @param {Object} [config] The config.
 * @param {Object} [request] The request.
 * @param {Object} [response] The response.
 * @returns {Error} The created error.
 */
function AxiosError(message, code, config, request, response) {
  Error.call(this);
  this.message = message;
  this.name = 'AxiosError';
  code && (this.code = code);
  config && (this.config = config);
  request && (this.request = request);
  response && (this.response = response);
}

utils.inherits(AxiosError, Error, {
  toJSON: function toJSON() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: this.config,
      code: this.code,
      status: this.response && this.response.status ? this.response.status : null
    };
  }
});

var prototype = AxiosError.prototype;
var descriptors = {};

[
  'ERR_BAD_OPTION_VALUE',
  'ERR_BAD_OPTION',
  'ECONNABORTED',
  'ETIMEDOUT',
  'ERR_NETWORK',
  'ERR_FR_TOO_MANY_REDIRECTS',
  'ERR_DEPRECATED',
  'ERR_BAD_RESPONSE',
  'ERR_BAD_REQUEST',
  'ERR_CANCELED'
// eslint-disable-next-line func-names
].forEach(function(code) {
  descriptors[code] = {value: code};
});

Object.defineProperties(AxiosError, descriptors);
Object.defineProperty(prototype, 'isAxiosError', {value: true});

// eslint-disable-next-line func-names
AxiosError.from = function(error, code, config, request, response, customProps) {
  var axiosError = Object.create(prototype);

  utils.toFlatObject(error, axiosError, function filter(obj) {
    return obj !== Error.prototype;
  });

  AxiosError.call(axiosError, error.message, code, config, request, response);

  axiosError.name = error.name;

  customProps && Object.assign(axiosError, customProps);

  return axiosError;
};

module.exports = AxiosError;


/***/ }),

/***/ "./node_modules/axios/lib/core/InterceptorManager.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/core/InterceptorManager.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

function InterceptorManager() {
  this.handlers = [];
}

/**
 * Add a new interceptor to the stack
 *
 * @param {Function} fulfilled The function to handle `then` for a `Promise`
 * @param {Function} rejected The function to handle `reject` for a `Promise`
 *
 * @return {Number} An ID used to remove interceptor later
 */
InterceptorManager.prototype.use = function use(fulfilled, rejected, options) {
  this.handlers.push({
    fulfilled: fulfilled,
    rejected: rejected,
    synchronous: options ? options.synchronous : false,
    runWhen: options ? options.runWhen : null
  });
  return this.handlers.length - 1;
};

/**
 * Remove an interceptor from the stack
 *
 * @param {Number} id The ID that was returned by `use`
 */
InterceptorManager.prototype.eject = function eject(id) {
  if (this.handlers[id]) {
    this.handlers[id] = null;
  }
};

/**
 * Iterate over all the registered interceptors
 *
 * This method is particularly useful for skipping over any
 * interceptors that may have become `null` calling `eject`.
 *
 * @param {Function} fn The function to call for each interceptor
 */
InterceptorManager.prototype.forEach = function forEach(fn) {
  utils.forEach(this.handlers, function forEachHandler(h) {
    if (h !== null) {
      fn(h);
    }
  });
};

module.exports = InterceptorManager;


/***/ }),

/***/ "./node_modules/axios/lib/core/buildFullPath.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/core/buildFullPath.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var isAbsoluteURL = __webpack_require__(/*! ../helpers/isAbsoluteURL */ "./node_modules/axios/lib/helpers/isAbsoluteURL.js");
var combineURLs = __webpack_require__(/*! ../helpers/combineURLs */ "./node_modules/axios/lib/helpers/combineURLs.js");

/**
 * Creates a new URL by combining the baseURL with the requestedURL,
 * only when the requestedURL is not already an absolute URL.
 * If the requestURL is absolute, this function returns the requestedURL untouched.
 *
 * @param {string} baseURL The base URL
 * @param {string} requestedURL Absolute or relative URL to combine
 * @returns {string} The combined full path
 */
module.exports = function buildFullPath(baseURL, requestedURL) {
  if (baseURL && !isAbsoluteURL(requestedURL)) {
    return combineURLs(baseURL, requestedURL);
  }
  return requestedURL;
};


/***/ }),

/***/ "./node_modules/axios/lib/core/dispatchRequest.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/core/dispatchRequest.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var transformData = __webpack_require__(/*! ./transformData */ "./node_modules/axios/lib/core/transformData.js");
var isCancel = __webpack_require__(/*! ../cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");
var defaults = __webpack_require__(/*! ../defaults */ "./node_modules/axios/lib/defaults/index.js");
var CanceledError = __webpack_require__(/*! ../cancel/CanceledError */ "./node_modules/axios/lib/cancel/CanceledError.js");

/**
 * Throws a `CanceledError` if cancellation has been requested.
 */
function throwIfCancellationRequested(config) {
  if (config.cancelToken) {
    config.cancelToken.throwIfRequested();
  }

  if (config.signal && config.signal.aborted) {
    throw new CanceledError();
  }
}

/**
 * Dispatch a request to the server using the configured adapter.
 *
 * @param {object} config The config that is to be used for the request
 * @returns {Promise} The Promise to be fulfilled
 */
module.exports = function dispatchRequest(config) {
  throwIfCancellationRequested(config);

  // Ensure headers exist
  config.headers = config.headers || {};

  // Transform request data
  config.data = transformData.call(
    config,
    config.data,
    config.headers,
    config.transformRequest
  );

  // Flatten headers
  config.headers = utils.merge(
    config.headers.common || {},
    config.headers[config.method] || {},
    config.headers
  );

  utils.forEach(
    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],
    function cleanHeaderConfig(method) {
      delete config.headers[method];
    }
  );

  var adapter = config.adapter || defaults.adapter;

  return adapter(config).then(function onAdapterResolution(response) {
    throwIfCancellationRequested(config);

    // Transform response data
    response.data = transformData.call(
      config,
      response.data,
      response.headers,
      config.transformResponse
    );

    return response;
  }, function onAdapterRejection(reason) {
    if (!isCancel(reason)) {
      throwIfCancellationRequested(config);

      // Transform response data
      if (reason && reason.response) {
        reason.response.data = transformData.call(
          config,
          reason.response.data,
          reason.response.headers,
          config.transformResponse
        );
      }
    }

    return Promise.reject(reason);
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/core/mergeConfig.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/core/mergeConfig.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

/**
 * Config-specific merge-function which creates a new config-object
 * by merging two configuration objects together.
 *
 * @param {Object} config1
 * @param {Object} config2
 * @returns {Object} New object resulting from merging config2 to config1
 */
module.exports = function mergeConfig(config1, config2) {
  // eslint-disable-next-line no-param-reassign
  config2 = config2 || {};
  var config = {};

  function getMergedValue(target, source) {
    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {
      return utils.merge(target, source);
    } else if (utils.isPlainObject(source)) {
      return utils.merge({}, source);
    } else if (utils.isArray(source)) {
      return source.slice();
    }
    return source;
  }

  // eslint-disable-next-line consistent-return
  function mergeDeepProperties(prop) {
    if (!utils.isUndefined(config2[prop])) {
      return getMergedValue(config1[prop], config2[prop]);
    } else if (!utils.isUndefined(config1[prop])) {
      return getMergedValue(undefined, config1[prop]);
    }
  }

  // eslint-disable-next-line consistent-return
  function valueFromConfig2(prop) {
    if (!utils.isUndefined(config2[prop])) {
      return getMergedValue(undefined, config2[prop]);
    }
  }

  // eslint-disable-next-line consistent-return
  function defaultToConfig2(prop) {
    if (!utils.isUndefined(config2[prop])) {
      return getMergedValue(undefined, config2[prop]);
    } else if (!utils.isUndefined(config1[prop])) {
      return getMergedValue(undefined, config1[prop]);
    }
  }

  // eslint-disable-next-line consistent-return
  function mergeDirectKeys(prop) {
    if (prop in config2) {
      return getMergedValue(config1[prop], config2[prop]);
    } else if (prop in config1) {
      return getMergedValue(undefined, config1[prop]);
    }
  }

  var mergeMap = {
    'url': valueFromConfig2,
    'method': valueFromConfig2,
    'data': valueFromConfig2,
    'baseURL': defaultToConfig2,
    'transformRequest': defaultToConfig2,
    'transformResponse': defaultToConfig2,
    'paramsSerializer': defaultToConfig2,
    'timeout': defaultToConfig2,
    'timeoutMessage': defaultToConfig2,
    'withCredentials': defaultToConfig2,
    'adapter': defaultToConfig2,
    'responseType': defaultToConfig2,
    'xsrfCookieName': defaultToConfig2,
    'xsrfHeaderName': defaultToConfig2,
    'onUploadProgress': defaultToConfig2,
    'onDownloadProgress': defaultToConfig2,
    'decompress': defaultToConfig2,
    'maxContentLength': defaultToConfig2,
    'maxBodyLength': defaultToConfig2,
    'beforeRedirect': defaultToConfig2,
    'transport': defaultToConfig2,
    'httpAgent': defaultToConfig2,
    'httpsAgent': defaultToConfig2,
    'cancelToken': defaultToConfig2,
    'socketPath': defaultToConfig2,
    'responseEncoding': defaultToConfig2,
    'validateStatus': mergeDirectKeys
  };

  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {
    var merge = mergeMap[prop] || mergeDeepProperties;
    var configValue = merge(prop);
    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);
  });

  return config;
};


/***/ }),

/***/ "./node_modules/axios/lib/core/settle.js":
/*!***********************************************!*\
  !*** ./node_modules/axios/lib/core/settle.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var AxiosError = __webpack_require__(/*! ./AxiosError */ "./node_modules/axios/lib/core/AxiosError.js");

/**
 * Resolve or reject a Promise based on response status.
 *
 * @param {Function} resolve A function that resolves the promise.
 * @param {Function} reject A function that rejects the promise.
 * @param {object} response The response.
 */
module.exports = function settle(resolve, reject, response) {
  var validateStatus = response.config.validateStatus;
  if (!response.status || !validateStatus || validateStatus(response.status)) {
    resolve(response);
  } else {
    reject(new AxiosError(
      'Request failed with status code ' + response.status,
      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],
      response.config,
      response.request,
      response
    ));
  }
};


/***/ }),

/***/ "./node_modules/axios/lib/core/transformData.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/core/transformData.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var defaults = __webpack_require__(/*! ../defaults */ "./node_modules/axios/lib/defaults/index.js");

/**
 * Transform the data for a request or a response
 *
 * @param {Object|String} data The data to be transformed
 * @param {Array} headers The headers for the request or response
 * @param {Array|Function} fns A single function or Array of functions
 * @returns {*} The resulting transformed data
 */
module.exports = function transformData(data, headers, fns) {
  var context = this || defaults;
  /*eslint no-param-reassign:0*/
  utils.forEach(fns, function transform(fn) {
    data = fn.call(context, data, headers);
  });

  return data;
};


/***/ }),

/***/ "./node_modules/axios/lib/defaults/index.js":
/*!**************************************************!*\
  !*** ./node_modules/axios/lib/defaults/index.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");
var normalizeHeaderName = __webpack_require__(/*! ../helpers/normalizeHeaderName */ "./node_modules/axios/lib/helpers/normalizeHeaderName.js");
var AxiosError = __webpack_require__(/*! ../core/AxiosError */ "./node_modules/axios/lib/core/AxiosError.js");
var transitionalDefaults = __webpack_require__(/*! ./transitional */ "./node_modules/axios/lib/defaults/transitional.js");
var toFormData = __webpack_require__(/*! ../helpers/toFormData */ "./node_modules/axios/lib/helpers/toFormData.js");

var DEFAULT_CONTENT_TYPE = {
  'Content-Type': 'application/x-www-form-urlencoded'
};

function setContentTypeIfUnset(headers, value) {
  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {
    headers['Content-Type'] = value;
  }
}

function getDefaultAdapter() {
  var adapter;
  if (typeof XMLHttpRequest !== 'undefined') {
    // For browsers use XHR adapter
    adapter = __webpack_require__(/*! ../adapters/xhr */ "./node_modules/axios/lib/adapters/xhr.js");
  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {
    // For node use HTTP adapter
    adapter = __webpack_require__(/*! ../adapters/http */ "./node_modules/axios/lib/adapters/xhr.js");
  }
  return adapter;
}

function stringifySafely(rawValue, parser, encoder) {
  if (utils.isString(rawValue)) {
    try {
      (parser || JSON.parse)(rawValue);
      return utils.trim(rawValue);
    } catch (e) {
      if (e.name !== 'SyntaxError') {
        throw e;
      }
    }
  }

  return (encoder || JSON.stringify)(rawValue);
}

var defaults = {

  transitional: transitionalDefaults,

  adapter: getDefaultAdapter(),

  transformRequest: [function transformRequest(data, headers) {
    normalizeHeaderName(headers, 'Accept');
    normalizeHeaderName(headers, 'Content-Type');

    if (utils.isFormData(data) ||
      utils.isArrayBuffer(data) ||
      utils.isBuffer(data) ||
      utils.isStream(data) ||
      utils.isFile(data) ||
      utils.isBlob(data)
    ) {
      return data;
    }
    if (utils.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils.isURLSearchParams(data)) {
      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');
      return data.toString();
    }

    var isObjectPayload = utils.isObject(data);
    var contentType = headers && headers['Content-Type'];

    var isFileList;

    if ((isFileList = utils.isFileList(data)) || (isObjectPayload && contentType === 'multipart/form-data')) {
      var _FormData = this.env && this.env.FormData;
      return toFormData(isFileList ? {'files[]': data} : data, _FormData && new _FormData());
    } else if (isObjectPayload || contentType === 'application/json') {
      setContentTypeIfUnset(headers, 'application/json');
      return stringifySafely(data);
    }

    return data;
  }],

  transformResponse: [function transformResponse(data) {
    var transitional = this.transitional || defaults.transitional;
    var silentJSONParsing = transitional && transitional.silentJSONParsing;
    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;
    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';

    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {
      try {
        return JSON.parse(data);
      } catch (e) {
        if (strictJSONParsing) {
          if (e.name === 'SyntaxError') {
            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);
          }
          throw e;
        }
      }
    }

    return data;
  }],

  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,

  xsrfCookieName: 'XSRF-TOKEN',
  xsrfHeaderName: 'X-XSRF-TOKEN',

  maxContentLength: -1,
  maxBodyLength: -1,

  env: {
    FormData: __webpack_require__(/*! ./env/FormData */ "./node_modules/axios/lib/helpers/null.js")
  },

  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  },

  headers: {
    common: {
      'Accept': 'application/json, text/plain, */*'
    }
  }
};

utils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {
  defaults.headers[method] = {};
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
});

module.exports = defaults;


/***/ }),

/***/ "./node_modules/axios/lib/defaults/transitional.js":
/*!*********************************************************!*\
  !*** ./node_modules/axios/lib/defaults/transitional.js ***!
  \*********************************************************/
/***/ ((module) => {

"use strict";


module.exports = {
  silentJSONParsing: true,
  forcedJSONParsing: true,
  clarifyTimeoutError: false
};


/***/ }),

/***/ "./node_modules/axios/lib/env/data.js":
/*!********************************************!*\
  !*** ./node_modules/axios/lib/env/data.js ***!
  \********************************************/
/***/ ((module) => {

module.exports = {
  "version": "0.27.2"
};

/***/ }),

/***/ "./node_modules/axios/lib/helpers/bind.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/bind.js ***!
  \************************************************/
/***/ ((module) => {

"use strict";


module.exports = function bind(fn, thisArg) {
  return function wrap() {
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }
    return fn.apply(thisArg, args);
  };
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/buildURL.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/helpers/buildURL.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

function encode(val) {
  return encodeURIComponent(val).
    replace(/%3A/gi, ':').
    replace(/%24/g, '$').
    replace(/%2C/gi, ',').
    replace(/%20/g, '+').
    replace(/%5B/gi, '[').
    replace(/%5D/gi, ']');
}

/**
 * Build a URL by appending params to the end
 *
 * @param {string} url The base of the url (e.g., http://www.google.com)
 * @param {object} [params] The params to be appended
 * @returns {string} The formatted url
 */
module.exports = function buildURL(url, params, paramsSerializer) {
  /*eslint no-param-reassign:0*/
  if (!params) {
    return url;
  }

  var serializedParams;
  if (paramsSerializer) {
    serializedParams = paramsSerializer(params);
  } else if (utils.isURLSearchParams(params)) {
    serializedParams = params.toString();
  } else {
    var parts = [];

    utils.forEach(params, function serialize(val, key) {
      if (val === null || typeof val === 'undefined') {
        return;
      }

      if (utils.isArray(val)) {
        key = key + '[]';
      } else {
        val = [val];
      }

      utils.forEach(val, function parseValue(v) {
        if (utils.isDate(v)) {
          v = v.toISOString();
        } else if (utils.isObject(v)) {
          v = JSON.stringify(v);
        }
        parts.push(encode(key) + '=' + encode(v));
      });
    });

    serializedParams = parts.join('&');
  }

  if (serializedParams) {
    var hashmarkIndex = url.indexOf('#');
    if (hashmarkIndex !== -1) {
      url = url.slice(0, hashmarkIndex);
    }

    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
  }

  return url;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/combineURLs.js":
/*!*******************************************************!*\
  !*** ./node_modules/axios/lib/helpers/combineURLs.js ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";


/**
 * Creates a new URL by combining the specified URLs
 *
 * @param {string} baseURL The base URL
 * @param {string} relativeURL The relative URL
 * @returns {string} The combined URL
 */
module.exports = function combineURLs(baseURL, relativeURL) {
  return relativeURL
    ? baseURL.replace(/\/+$/, '') + '/' + relativeURL.replace(/^\/+/, '')
    : baseURL;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/cookies.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/helpers/cookies.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

module.exports = (
  utils.isStandardBrowserEnv() ?

  // Standard browser envs support document.cookie
    (function standardBrowserEnv() {
      return {
        write: function write(name, value, expires, path, domain, secure) {
          var cookie = [];
          cookie.push(name + '=' + encodeURIComponent(value));

          if (utils.isNumber(expires)) {
            cookie.push('expires=' + new Date(expires).toGMTString());
          }

          if (utils.isString(path)) {
            cookie.push('path=' + path);
          }

          if (utils.isString(domain)) {
            cookie.push('domain=' + domain);
          }

          if (secure === true) {
            cookie.push('secure');
          }

          document.cookie = cookie.join('; ');
        },

        read: function read(name) {
          var match = document.cookie.match(new RegExp('(^|;\\s*)(' + name + ')=([^;]*)'));
          return (match ? decodeURIComponent(match[3]) : null);
        },

        remove: function remove(name) {
          this.write(name, '', Date.now() - 86400000);
        }
      };
    })() :

  // Non standard browser env (web workers, react-native) lack needed support.
    (function nonStandardBrowserEnv() {
      return {
        write: function write() {},
        read: function read() { return null; },
        remove: function remove() {}
      };
    })()
);


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isAbsoluteURL.js":
/*!*********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isAbsoluteURL.js ***!
  \*********************************************************/
/***/ ((module) => {

"use strict";


/**
 * Determines whether the specified URL is absolute
 *
 * @param {string} url The URL to test
 * @returns {boolean} True if the specified URL is absolute, otherwise false
 */
module.exports = function isAbsoluteURL(url) {
  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
  // by any combination of letters, digits, plus, period, or hyphen.
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isAxiosError.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isAxiosError.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

/**
 * Determines whether the payload is an error thrown by Axios
 *
 * @param {*} payload The value to test
 * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false
 */
module.exports = function isAxiosError(payload) {
  return utils.isObject(payload) && (payload.isAxiosError === true);
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isURLSameOrigin.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isURLSameOrigin.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

module.exports = (
  utils.isStandardBrowserEnv() ?

  // Standard browser envs have full support of the APIs needed to test
  // whether the request URL is of the same origin as current location.
    (function standardBrowserEnv() {
      var msie = /(msie|trident)/i.test(navigator.userAgent);
      var urlParsingNode = document.createElement('a');
      var originURL;

      /**
    * Parse a URL to discover it's components
    *
    * @param {String} url The URL to be parsed
    * @returns {Object}
    */
      function resolveURL(url) {
        var href = url;

        if (msie) {
        // IE needs attribute set twice to normalize properties
          urlParsingNode.setAttribute('href', href);
          href = urlParsingNode.href;
        }

        urlParsingNode.setAttribute('href', href);

        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
        return {
          href: urlParsingNode.href,
          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',
          host: urlParsingNode.host,
          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '',
          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',
          hostname: urlParsingNode.hostname,
          port: urlParsingNode.port,
          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?
            urlParsingNode.pathname :
            '/' + urlParsingNode.pathname
        };
      }

      originURL = resolveURL(window.location.href);

      /**
    * Determine if a URL shares the same origin as the current location
    *
    * @param {String} requestURL The URL to test
    * @returns {boolean} True if URL shares the same origin, otherwise false
    */
      return function isURLSameOrigin(requestURL) {
        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;
        return (parsed.protocol === originURL.protocol &&
            parsed.host === originURL.host);
      };
    })() :

  // Non standard browser envs (web workers, react-native) lack needed support.
    (function nonStandardBrowserEnv() {
      return function isURLSameOrigin() {
        return true;
      };
    })()
);


/***/ }),

/***/ "./node_modules/axios/lib/helpers/normalizeHeaderName.js":
/*!***************************************************************!*\
  !*** ./node_modules/axios/lib/helpers/normalizeHeaderName.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

module.exports = function normalizeHeaderName(headers, normalizedName) {
  utils.forEach(headers, function processHeader(value, name) {
    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
      headers[normalizedName] = value;
      delete headers[name];
    }
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/null.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/null.js ***!
  \************************************************/
/***/ ((module) => {

// eslint-disable-next-line strict
module.exports = null;


/***/ }),

/***/ "./node_modules/axios/lib/helpers/parseHeaders.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/parseHeaders.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

// Headers whose duplicates are ignored by node
// c.f. https://nodejs.org/api/http.html#http_message_headers
var ignoreDuplicateOf = [
  'age', 'authorization', 'content-length', 'content-type', 'etag',
  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',
  'last-modified', 'location', 'max-forwards', 'proxy-authorization',
  'referer', 'retry-after', 'user-agent'
];

/**
 * Parse headers into an object
 *
 * ```
 * Date: Wed, 27 Aug 2014 08:58:49 GMT
 * Content-Type: application/json
 * Connection: keep-alive
 * Transfer-Encoding: chunked
 * ```
 *
 * @param {String} headers Headers needing to be parsed
 * @returns {Object} Headers parsed into an object
 */
module.exports = function parseHeaders(headers) {
  var parsed = {};
  var key;
  var val;
  var i;

  if (!headers) { return parsed; }

  utils.forEach(headers.split('\n'), function parser(line) {
    i = line.indexOf(':');
    key = utils.trim(line.substr(0, i)).toLowerCase();
    val = utils.trim(line.substr(i + 1));

    if (key) {
      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
        return;
      }
      if (key === 'set-cookie') {
        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
      } else {
        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;
      }
    }
  });

  return parsed;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/parseProtocol.js":
/*!*********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/parseProtocol.js ***!
  \*********************************************************/
/***/ ((module) => {

"use strict";


module.exports = function parseProtocol(url) {
  var match = /^([-+\w]{1,25})(:?\/\/|:)/.exec(url);
  return match && match[1] || '';
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/spread.js":
/*!**************************************************!*\
  !*** ./node_modules/axios/lib/helpers/spread.js ***!
  \**************************************************/
/***/ ((module) => {

"use strict";


/**
 * Syntactic sugar for invoking a function and expanding an array for arguments.
 *
 * Common use case would be to use `Function.prototype.apply`.
 *
 *  ```js
 *  function f(x, y, z) {}
 *  var args = [1, 2, 3];
 *  f.apply(null, args);
 *  ```
 *
 * With `spread` this example can be re-written.
 *
 *  ```js
 *  spread(function(x, y, z) {})([1, 2, 3]);
 *  ```
 *
 * @param {Function} callback
 * @returns {Function}
 */
module.exports = function spread(callback) {
  return function wrap(arr) {
    return callback.apply(null, arr);
  };
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/toFormData.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/helpers/toFormData.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

/**
 * Convert a data object to FormData
 * @param {Object} obj
 * @param {?Object} [formData]
 * @returns {Object}
 **/

function toFormData(obj, formData) {
  // eslint-disable-next-line no-param-reassign
  formData = formData || new FormData();

  var stack = [];

  function convertValue(value) {
    if (value === null) return '';

    if (utils.isDate(value)) {
      return value.toISOString();
    }

    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {
      return typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);
    }

    return value;
  }

  function build(data, parentKey) {
    if (utils.isPlainObject(data) || utils.isArray(data)) {
      if (stack.indexOf(data) !== -1) {
        throw Error('Circular reference detected in ' + parentKey);
      }

      stack.push(data);

      utils.forEach(data, function each(value, key) {
        if (utils.isUndefined(value)) return;
        var fullKey = parentKey ? parentKey + '.' + key : key;
        var arr;

        if (value && !parentKey && typeof value === 'object') {
          if (utils.endsWith(key, '{}')) {
            // eslint-disable-next-line no-param-reassign
            value = JSON.stringify(value);
          } else if (utils.endsWith(key, '[]') && (arr = utils.toArray(value))) {
            // eslint-disable-next-line func-names
            arr.forEach(function(el) {
              !utils.isUndefined(el) && formData.append(fullKey, convertValue(el));
            });
            return;
          }
        }

        build(value, fullKey);
      });

      stack.pop();
    } else {
      formData.append(parentKey, convertValue(data));
    }
  }

  build(obj);

  return formData;
}

module.exports = toFormData;


/***/ }),

/***/ "./node_modules/axios/lib/helpers/validator.js":
/*!*****************************************************!*\
  !*** ./node_modules/axios/lib/helpers/validator.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var VERSION = (__webpack_require__(/*! ../env/data */ "./node_modules/axios/lib/env/data.js").version);
var AxiosError = __webpack_require__(/*! ../core/AxiosError */ "./node_modules/axios/lib/core/AxiosError.js");

var validators = {};

// eslint-disable-next-line func-names
['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {
  validators[type] = function validator(thing) {
    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;
  };
});

var deprecatedWarnings = {};

/**
 * Transitional option validator
 * @param {function|boolean?} validator - set to false if the transitional option has been removed
 * @param {string?} version - deprecated version / removed since version
 * @param {string?} message - some message with additional info
 * @returns {function}
 */
validators.transitional = function transitional(validator, version, message) {
  function formatMessage(opt, desc) {
    return '[Axios v' + VERSION + '] Transitional option \'' + opt + '\'' + desc + (message ? '. ' + message : '');
  }

  // eslint-disable-next-line func-names
  return function(value, opt, opts) {
    if (validator === false) {
      throw new AxiosError(
        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),
        AxiosError.ERR_DEPRECATED
      );
    }

    if (version && !deprecatedWarnings[opt]) {
      deprecatedWarnings[opt] = true;
      // eslint-disable-next-line no-console
      console.warn(
        formatMessage(
          opt,
          ' has been deprecated since v' + version + ' and will be removed in the near future'
        )
      );
    }

    return validator ? validator(value, opt, opts) : true;
  };
};

/**
 * Assert object's properties type
 * @param {object} options
 * @param {object} schema
 * @param {boolean?} allowUnknown
 */

function assertOptions(options, schema, allowUnknown) {
  if (typeof options !== 'object') {
    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);
  }
  var keys = Object.keys(options);
  var i = keys.length;
  while (i-- > 0) {
    var opt = keys[i];
    var validator = schema[opt];
    if (validator) {
      var value = options[opt];
      var result = value === undefined || validator(value, opt, options);
      if (result !== true) {
        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);
      }
      continue;
    }
    if (allowUnknown !== true) {
      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);
    }
  }
}

module.exports = {
  assertOptions: assertOptions,
  validators: validators
};


/***/ }),

/***/ "./node_modules/axios/lib/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/utils.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");

// utils is a library of generic helper functions non-specific to axios

var toString = Object.prototype.toString;

// eslint-disable-next-line func-names
var kindOf = (function(cache) {
  // eslint-disable-next-line func-names
  return function(thing) {
    var str = toString.call(thing);
    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());
  };
})(Object.create(null));

function kindOfTest(type) {
  type = type.toLowerCase();
  return function isKindOf(thing) {
    return kindOf(thing) === type;
  };
}

/**
 * Determine if a value is an Array
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Array, otherwise false
 */
function isArray(val) {
  return Array.isArray(val);
}

/**
 * Determine if a value is undefined
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if the value is undefined, otherwise false
 */
function isUndefined(val) {
  return typeof val === 'undefined';
}

/**
 * Determine if a value is a Buffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Buffer, otherwise false
 */
function isBuffer(val) {
  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)
    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);
}

/**
 * Determine if a value is an ArrayBuffer
 *
 * @function
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an ArrayBuffer, otherwise false
 */
var isArrayBuffer = kindOfTest('ArrayBuffer');


/**
 * Determine if a value is a view on an ArrayBuffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
 */
function isArrayBufferView(val) {
  var result;
  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {
    result = ArrayBuffer.isView(val);
  } else {
    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));
  }
  return result;
}

/**
 * Determine if a value is a String
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a String, otherwise false
 */
function isString(val) {
  return typeof val === 'string';
}

/**
 * Determine if a value is a Number
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Number, otherwise false
 */
function isNumber(val) {
  return typeof val === 'number';
}

/**
 * Determine if a value is an Object
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Object, otherwise false
 */
function isObject(val) {
  return val !== null && typeof val === 'object';
}

/**
 * Determine if a value is a plain Object
 *
 * @param {Object} val The value to test
 * @return {boolean} True if value is a plain Object, otherwise false
 */
function isPlainObject(val) {
  if (kindOf(val) !== 'object') {
    return false;
  }

  var prototype = Object.getPrototypeOf(val);
  return prototype === null || prototype === Object.prototype;
}

/**
 * Determine if a value is a Date
 *
 * @function
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Date, otherwise false
 */
var isDate = kindOfTest('Date');

/**
 * Determine if a value is a File
 *
 * @function
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a File, otherwise false
 */
var isFile = kindOfTest('File');

/**
 * Determine if a value is a Blob
 *
 * @function
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Blob, otherwise false
 */
var isBlob = kindOfTest('Blob');

/**
 * Determine if a value is a FileList
 *
 * @function
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a File, otherwise false
 */
var isFileList = kindOfTest('FileList');

/**
 * Determine if a value is a Function
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Function, otherwise false
 */
function isFunction(val) {
  return toString.call(val) === '[object Function]';
}

/**
 * Determine if a value is a Stream
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Stream, otherwise false
 */
function isStream(val) {
  return isObject(val) && isFunction(val.pipe);
}

/**
 * Determine if a value is a FormData
 *
 * @param {Object} thing The value to test
 * @returns {boolean} True if value is an FormData, otherwise false
 */
function isFormData(thing) {
  var pattern = '[object FormData]';
  return thing && (
    (typeof FormData === 'function' && thing instanceof FormData) ||
    toString.call(thing) === pattern ||
    (isFunction(thing.toString) && thing.toString() === pattern)
  );
}

/**
 * Determine if a value is a URLSearchParams object
 * @function
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a URLSearchParams object, otherwise false
 */
var isURLSearchParams = kindOfTest('URLSearchParams');

/**
 * Trim excess whitespace off the beginning and end of a string
 *
 * @param {String} str The String to trim
 * @returns {String} The String freed of excess whitespace
 */
function trim(str) {
  return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, '');
}

/**
 * Determine if we're running in a standard browser environment
 *
 * This allows axios to run in a web worker, and react-native.
 * Both environments support XMLHttpRequest, but not fully standard globals.
 *
 * web workers:
 *  typeof window -> undefined
 *  typeof document -> undefined
 *
 * react-native:
 *  navigator.product -> 'ReactNative'
 * nativescript
 *  navigator.product -> 'NativeScript' or 'NS'
 */
function isStandardBrowserEnv() {
  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||
                                           navigator.product === 'NativeScript' ||
                                           navigator.product === 'NS')) {
    return false;
  }
  return (
    typeof window !== 'undefined' &&
    typeof document !== 'undefined'
  );
}

/**
 * Iterate over an Array or an Object invoking a function for each item.
 *
 * If `obj` is an Array callback will be called passing
 * the value, index, and complete array for each item.
 *
 * If 'obj' is an Object callback will be called passing
 * the value, key, and complete object for each property.
 *
 * @param {Object|Array} obj The object to iterate
 * @param {Function} fn The callback to invoke for each item
 */
function forEach(obj, fn) {
  // Don't bother if no value provided
  if (obj === null || typeof obj === 'undefined') {
    return;
  }

  // Force an array if not already something iterable
  if (typeof obj !== 'object') {
    /*eslint no-param-reassign:0*/
    obj = [obj];
  }

  if (isArray(obj)) {
    // Iterate over array values
    for (var i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    // Iterate over object keys
    for (var key in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, key)) {
        fn.call(null, obj[key], key, obj);
      }
    }
  }
}

/**
 * Accepts varargs expecting each argument to be an object, then
 * immutably merges the properties of each object and returns result.
 *
 * When multiple objects contain the same key the later object in
 * the arguments list will take precedence.
 *
 * Example:
 *
 * ```js
 * var result = merge({foo: 123}, {foo: 456});
 * console.log(result.foo); // outputs 456
 * ```
 *
 * @param {Object} obj1 Object to merge
 * @returns {Object} Result of all merge properties
 */
function merge(/* obj1, obj2, obj3, ... */) {
  var result = {};
  function assignValue(val, key) {
    if (isPlainObject(result[key]) && isPlainObject(val)) {
      result[key] = merge(result[key], val);
    } else if (isPlainObject(val)) {
      result[key] = merge({}, val);
    } else if (isArray(val)) {
      result[key] = val.slice();
    } else {
      result[key] = val;
    }
  }

  for (var i = 0, l = arguments.length; i < l; i++) {
    forEach(arguments[i], assignValue);
  }
  return result;
}

/**
 * Extends object a by mutably adding to it the properties of object b.
 *
 * @param {Object} a The object to be extended
 * @param {Object} b The object to copy properties from
 * @param {Object} thisArg The object to bind function to
 * @return {Object} The resulting value of object a
 */
function extend(a, b, thisArg) {
  forEach(b, function assignValue(val, key) {
    if (thisArg && typeof val === 'function') {
      a[key] = bind(val, thisArg);
    } else {
      a[key] = val;
    }
  });
  return a;
}

/**
 * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)
 *
 * @param {string} content with BOM
 * @return {string} content value without BOM
 */
function stripBOM(content) {
  if (content.charCodeAt(0) === 0xFEFF) {
    content = content.slice(1);
  }
  return content;
}

/**
 * Inherit the prototype methods from one constructor into another
 * @param {function} constructor
 * @param {function} superConstructor
 * @param {object} [props]
 * @param {object} [descriptors]
 */

function inherits(constructor, superConstructor, props, descriptors) {
  constructor.prototype = Object.create(superConstructor.prototype, descriptors);
  constructor.prototype.constructor = constructor;
  props && Object.assign(constructor.prototype, props);
}

/**
 * Resolve object with deep prototype chain to a flat object
 * @param {Object} sourceObj source object
 * @param {Object} [destObj]
 * @param {Function} [filter]
 * @returns {Object}
 */

function toFlatObject(sourceObj, destObj, filter) {
  var props;
  var i;
  var prop;
  var merged = {};

  destObj = destObj || {};

  do {
    props = Object.getOwnPropertyNames(sourceObj);
    i = props.length;
    while (i-- > 0) {
      prop = props[i];
      if (!merged[prop]) {
        destObj[prop] = sourceObj[prop];
        merged[prop] = true;
      }
    }
    sourceObj = Object.getPrototypeOf(sourceObj);
  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);

  return destObj;
}

/*
 * determines whether a string ends with the characters of a specified string
 * @param {String} str
 * @param {String} searchString
 * @param {Number} [position= 0]
 * @returns {boolean}
 */
function endsWith(str, searchString, position) {
  str = String(str);
  if (position === undefined || position > str.length) {
    position = str.length;
  }
  position -= searchString.length;
  var lastIndex = str.indexOf(searchString, position);
  return lastIndex !== -1 && lastIndex === position;
}


/**
 * Returns new array from array like object
 * @param {*} [thing]
 * @returns {Array}
 */
function toArray(thing) {
  if (!thing) return null;
  var i = thing.length;
  if (isUndefined(i)) return null;
  var arr = new Array(i);
  while (i-- > 0) {
    arr[i] = thing[i];
  }
  return arr;
}

// eslint-disable-next-line func-names
var isTypedArray = (function(TypedArray) {
  // eslint-disable-next-line func-names
  return function(thing) {
    return TypedArray && thing instanceof TypedArray;
  };
})(typeof Uint8Array !== 'undefined' && Object.getPrototypeOf(Uint8Array));

module.exports = {
  isArray: isArray,
  isArrayBuffer: isArrayBuffer,
  isBuffer: isBuffer,
  isFormData: isFormData,
  isArrayBufferView: isArrayBufferView,
  isString: isString,
  isNumber: isNumber,
  isObject: isObject,
  isPlainObject: isPlainObject,
  isUndefined: isUndefined,
  isDate: isDate,
  isFile: isFile,
  isBlob: isBlob,
  isFunction: isFunction,
  isStream: isStream,
  isURLSearchParams: isURLSearchParams,
  isStandardBrowserEnv: isStandardBrowserEnv,
  forEach: forEach,
  merge: merge,
  extend: extend,
  trim: trim,
  stripBOM: stripBOM,
  inherits: inherits,
  toFlatObject: toFlatObject,
  kindOf: kindOf,
  kindOfTest: kindOfTest,
  endsWith: endsWith,
  toArray: toArray,
  isTypedArray: isTypedArray,
  isFileList: isFileList
};


/***/ }),

/***/ "./src/Common/helper/ajax.js":
/*!***********************************!*\
  !*** ./src/Common/helper/ajax.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _system = _interopRequireDefault($app_require$("@app-module/system.fetch"));
var _system2 = _interopRequireDefault($app_require$("@app-module/system.storage"));
var _system3 = _interopRequireDefault($app_require$("@app-module/system.device"));
var _system4 = _interopRequireDefault($app_require$("@app-module/system.prompt"));
var _system5 = _interopRequireDefault($app_require$("@app-module/system.router"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
const getUserId = async () => {
  let userId = await _system3.default.getUserId();
  return userId.data.userId;
};
const quit = () => {
  _system4.default.showDialog({
    title: '警告',
    message: "您已注销账号,请退出。",
    buttons: [{
      text: '退出',
      color: '#333333'
    }],
    success: function (data) {
      _system5.default.push({
        uri: "Page_login"
      });
    },
    cancel: function () {
      console.log("cancel");
    }
  });
};
const getTokenData = () => {
  return new Promise(async (resolve, reject) => {
    const example = (__webpack_require__(/*! ./apis/example.js */ "./src/Common/helper/apis/example.js")["default"]);
    const deviceNum = await getUserId();
    // console.log(`getTokenData()---->deviceNum=${deviceNum}`);
    // console.log('是否触发的这里');
    example.toLogin({
      loginType: "DEVICE",
      appId: 'SC_0001',
      deviceNum,
      loginAccount: deviceNum
    }).then(data => {
      console.log('走的成功回调');
      resolve(data);
    }).catch(err => {
      console.log(err, '失败回调');
      try {
        if (JSON.parse(err).code === '310001') {
          console.log('进来了');
          quit();
        }
      } catch (error) {
        console.log(error, '查看获取报错');
      }
      reject(err);
    });
  });
};
let isRefreshing = false; // 是否正在请求刷新token的接口
const refreshSubscribers = []; // 存储请求的数组
const subscribeTokenRefresh = cb => {
  // 将所有的请求都push到数组中,其实数组是[function(token){}, function(token){},...]
  refreshSubscribers.push(cb);
};
const onRrefreshed = token => {
  // 数组中的请求得到新的token之后自执行，用新的token去请求数据
  refreshSubscribers.map(cb => cb(token));
};
const isAccessTokenExpired = authData => {
  // 判断当前token是否过期
  if (new Date().getTime() - authData.expireAt > 10000 * 60) {
    return true;
  }
  return false;
};
const request = options => {
  return new Promise(async (resolve, reject) => {
    const {
      method,
      url,
      data,
      headers = {}
    } = options;
    const authData = (await _system2.default.get({
      key: 'AUTH_TOKEN_DATA'
    })) || {};
    const accessToken = authData.data ? JSON.parse(authData.data).accessToken : '';
    if (isAccessTokenExpired(authData) || !accessToken) {
      if (!options.url.includes("qa/mini/basic/user/login")) {
        if (!isRefreshing) {
          isRefreshing = true;
          getTokenData().then(async res => {
            res = JSON.parse(res);
            isRefreshing = false;
            if (res.code === "000000") {
              headers.Authorization = res.data.accessToken;
              await _system2.default.set({
                key: "AUTH_TOKEN_DATA",
                value: JSON.stringify(res.data)
              });
              console.log('res.data.accessToken', res.data.accessToken);
              onRrefreshed(res.data.accessToken);
            }
          }).catch(err => {
            isRefreshing = false;
          });
        }
        let retry = new Promise(() => {
          subscribeTokenRefresh(token => {
            headers.Authorization = token; // 用最新token请求数据
            return request(options).then(resolve).catch(reject);
          });
        });
        return retry;
      }
    }
    headers.Authorization = accessToken || '';
    _system.default.fetch({
      // url: 'https://test.ipandata.com' + url,
      url: 'https://api.ihaituo.cn' + url,
      method,
      data,
      header: _objectSpread({
        "content-type": "application/json"
      }, headers),
      // success: function (res) {
      //   const data = res.data
      //   if (data.code === "000000" || JSON.parse(data).code === "000000") {
      //     resolve(url.includes("qa/mini/basic/user/login") ? res.data : JSON.parse(res.data));
      //   } else {
      //     if (data.code === "300002") {
      //       $storage.delete({
      //         key: 'AUTH_TOKEN_DATA'
      //       })
      //       request(options)
      //         .then(resolve)
      //         .catch(reject);
      //     } else {
      //       reject(res.data);
      //     }
      //   }
      // },

      success: function (res) {
        try {
          const data = res.data;

          // 尝试解析 JSON 数据，如果解析失败，则会抛出错误
          const parsedData = typeof data === 'string' ? JSON.parse(data) : data;
          if (parsedData.code === "000000") {
            resolve(url.includes("qa/mini/basic/user/login") ? data : parsedData);
          } else {
            if (parsedData.code === "300002") {
              _system2.default.delete({
                key: 'AUTH_TOKEN_DATA'
              });
              request(options).then(resolve).catch(reject);
            } else {
              reject(data);
            }
          }
        } catch (e) {
          console.error("Error parsing JSON or handling code: ", e);

          // 检查是否返回的是 HTML，而不是 JSON
          if (typeof res.data === 'string' && res.data.startsWith('<html>')) {
            reject("Server returned an HTML page instead of JSON. Possible incorrect URL or server error.");
          } else {
            reject("Error parsing JSON or handling code: " + e.message);
          }
        }
      },
      fail: function (err) {
        reject(err);
      },
      complete: function (res) {}
    });
  });
};
var _default = exports["default"] = request;

/***/ }),

/***/ "./src/Common/helper/apis/example.js":
/*!*******************************************!*\
  !*** ./src/Common/helper/apis/example.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ajax = _interopRequireDefault(__webpack_require__(/*! ../ajax.js */ "./src/Common/helper/ajax.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
// 登录 
const toLogin = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/user/login`,
    data
  });
};

// 上传步数
const uploadsteps = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/sc/upload`,
    data
  });
};
// 获取步数
const getsteps = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/sc`,
    data
  });
};

// 获取最近30天记录
const getstepslist = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/sc/list`
  });
};

//提现
const withdraw = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/user/withdraw`,
    data
  });
};

//用户余额记录
const record = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/cash/record`,
    data
  });
};

//获取广告完成次数
const getAdCount = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/ad/complete/count`,
    data
  });
};

//广告完成
const completeAd = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/ad/complete`,
    data
  });
};

//广告完成-加密
const completeAdRSA = async data => {
  let timestamp = +new Date();
  data.timestamp = timestamp;
  let _data = await $utils.dataEncryption(data);
  let param = {
    data: _data
  };
  console.log('任务加密', param);
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/ad/finish`,
    data: JSON.stringify(param)
  });
};

//广告转化上传   type:广告渠道类型: jh(鲸鸿), ks(快手), jl(巨量), ,可用值:jh,ks,jl
const convertUpload = data => {
  console.log('data= ', data, `url= /qa/mini/basic/ad/convert/upload/${data.type}`);
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/ad/convert/upload/${data.type}`,
    data
  });
};

//获取手势返回配置信息
const bolckReturn = () => {
  let brand = getApp().$def.dataApp.brand;
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/clickControl/return/info/${brand}`
  });
};

/**
 * 获取页面透明层配置信息  
 *
 */

const showTclayer = data => {
  let brand = getApp().$def.dataApp.brand;
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/clickControl/transparentLayer/info/${brand}`,
    data
  });
};

/**
 * 获取是否自动弹窗  
 *
 */

const popUps = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/ad/auto/popUps`
  });
};

/**
 * 转化点击次数
 *
 */
const clickCount = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/ad/convert/clickCount/${data.type}`,
    data
  });
};

//单个埋点数据
const capture = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/track/capture`,
    data
  });
};
var _default = exports["default"] = {
  toLogin,
  uploadsteps,
  getsteps,
  getstepslist,
  withdraw,
  record,
  getAdCount,
  completeAd,
  completeAdRSA,
  convertUpload,
  bolckReturn,
  showTclayer,
  popUps,
  clickCount,
  capture
};

/***/ }),

/***/ "./src/Common/helper/apis/index.js":
/*!*****************************************!*\
  !*** ./src/Common/helper/apis/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
/**
 * 导出 apis 下目录的所有接口
 */
const files = __webpack_require__("./src/Common/helper/apis sync recursive \\.js");
const modules = {};
files.keys().forEach(key => {
  if (key === './index.js') {
    return;
  }
  modules[key.replace(/(^\.\/|\.js$)/g, '')] = files(key).default;
});
var _default = exports["default"] = modules;

/***/ }),

/***/ "./src/Common/helper/apis/task.js":
/*!****************************************!*\
  !*** ./src/Common/helper/apis/task.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ajax = _interopRequireDefault(__webpack_require__(/*! ../ajax.js */ "./src/Common/helper/ajax.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
// 获取广告完成情况
const getCompleteCount = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/basic/ad/complete/count`,
    data
  });
};

// 完成广告
const postCompleteAd = data => {
  return (0, _ajax.default)({
    method: 'POST',
    url: `/qa/mini/basic/ad/complete`,
    data
  });
};
// 完成广告(加密)
const postFinishCompleteAd = async (data, headers) => {
  let timestamp = +new Date();
  data.timestamp = timestamp;
  let _data = await $utils.dataEncryption(data);
  let param = {
    data: _data
  };
  console.log('任务加密', param);
  return (0, _ajax.default)({
    method: 'POST',
    url: `/qa/mini/basic/ad/finish`,
    data: JSON.stringify(param),
    headers
  });
};

// 获取是否自动弹窗
const getAutoPopUps = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/basic/ad/auto/popUps`,
    data
  });
};

// 转换上报
const postConvertUpload = data => {
  return (0, _ajax.default)({
    method: 'POST',
    url: `/qa/mini/basic/ad/convert/upload/${data.type}`,
    data
  });
};

// 获取手势返回配置信息
const getClickControlReyurn = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/basic/clickControl/return/info/${data.brand}`,
    data
  });
};

// 获取页面透明层配置信息
const getTransparentLayer = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/basic/clickControl/transparentLayer/info/${data.brand}`,
    data
  });
};

// 获取福利入口信息
const getUserwealEntry = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/user/weal/entry`,
    data
  });
};

// 获取跳转链接
const getAdJumpLink = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/basic/ad/jumpLink/${data.brand}`,
    data
  });
};

// 获取是否开启广告页入口
const getAdPageEntrance = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/basic/ad/adPage/entrance`,
    data
  });
};

// 转化点击次数

const getConversionlicks = data => {
  return (0, _ajax.default)({
    method: 'GET',
    url: `/qa/mini/basic/ad/convert/clickCount/${data.type || 'jh'}`,
    data
  });
};

// 埋点捕获
const postTrackCapture = data => {
  return (0, _ajax.default)({
    method: 'POST',
    url: `/qa/track/capture`,
    data
  });
};
let task = {
  getCompleteCount,
  postCompleteAd,
  getAutoPopUps,
  postFinishCompleteAd,
  getClickControlReyurn,
  getTransparentLayer,
  postConvertUpload,
  getUserwealEntry,
  getAdJumpLink,
  getAdPageEntrance,
  getConversionlicks,
  postTrackCapture
};
var _default = exports["default"] = task;

/***/ }),

/***/ "./src/Common/helper/apis/user.js":
/*!****************************************!*\
  !*** ./src/Common/helper/apis/user.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ajax = _interopRequireDefault(__webpack_require__(/*! ../ajax.js */ "./src/Common/helper/ajax.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
// 登录 
const getUserInfo = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/info`
  });
};

// 金币
const getDailySignDay = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/goldExchangeRule/daily/sign/day`,
    data
  });
};
//签到
const goSianIn = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/goldExchangeRule/daily/sign`,
    data
  });
};

// 反馈
const postUserFeedback = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/user/feedback`,
    data
  });
};
//注销用户
const putForeverLogout = data => {
  return (0, _ajax.default)({
    method: "PUT",
    url: `/qa/mini/user/forever/logout`
  });
};

// 用户余额记录
const getUserCashRecord = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/cash/record`,
    data
  });
};

// 用户金币记录
const getUserGoldRecord = data => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/gold/record`,
    data
  });
};
//设置支付宝账户
const putAlipayAccount = data => {
  return (0, _ajax.default)({
    method: "PUT",
    url: `/qa/mini/user/alipay/account`,
    data
  });
};

//发送验证码
const postSendCode = data => {
  return (0, _ajax.default)({
    method: "POST",
    url: `/qa/mini/basic/user/sendCode/${data.phone}`
  });
};

//获取福利入口信息
const wealentry = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/user/weal/entry`
  });
};

//获取是否开启广告页入口
const entrance = () => {
  return (0, _ajax.default)({
    method: "GET",
    url: `/qa/mini/basic/ad/adPage/entrance`
  });
};
let user = {
  getUserInfo,
  getDailySignDay,
  goSianIn,
  postUserFeedback,
  getUserCashRecord,
  getUserGoldRecord,
  putForeverLogout,
  putAlipayAccount,
  postSendCode,
  wealentry,
  entrance
};
var _default = exports["default"] = user;

/***/ }),

/***/ "./src/Common/helper/processData.js":
/*!******************************************!*\
  !*** ./src/Common/helper/processData.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.clearStorage = clearStorage;
exports["default"] = void 0;
exports.deleteStorage = deleteStorage;
exports.getStorage = getStorage;
exports.incrementTodayClicks = incrementTodayClicks;
exports.localStorage = localStorage;
exports.resetTodayClicksIfNeeded = resetTodayClicksIfNeeded;
exports.setStorage = setStorage;
var _system = _interopRequireDefault($app_require$("@app-module/system.storage"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
// 优化本地存储get方法
function localStorage(key) {
  return new Promise((resolve, reject) => {
    _system.default.get({
      key,
      success: function (data) {
        resolve(data);
      },
      fail: function (data, code) {
        reject(data);
      }
    });
  });
}
function setStorage(key, value = "") {
  return new Promise((resolve, reject) => {
    _system.default.set({
      key,
      value: JSON.stringify(value),
      success: function (data) {
        resolve(`setStorage success`);
      },
      fail: function (data, code) {
        reject(`setStorage fail, code = ${code}`);
      }
    });
  });
}
function getStorage(key) {
  return new Promise((resolve, reject) => {
    _system.default.get({
      key,
      success: function (data) {
        if (data) {
          const res = JSON.parse(data);
          return resolve(res);
        }
        resolve(data);
      },
      fail: function (data, code) {
        reject(`getStorage fail, code = ${code}`);
      }
    });
  });
}
function deleteStorage(key) {
  return new Promise((resolve, reject) => {
    _system.default.delete({
      key,
      success: function (data) {
        resolve(`deleteStorage success`);
      },
      fail: function (data, code) {
        reject(`deleteStorage fail, code = ${code}`);
      }
    });
  });
}
function clearStorage() {
  return new Promise((resolve, reject) => {
    _system.default.clear({
      success: function (data) {
        resolve(`clearStorage success`);
      },
      fail: function (data, code) {
        reject(`clearStorage fail, code = ${code}`);
      }
    });
  });
}

//检查是否需要重置广告点击次数
function resetTodayClicksIfNeeded() {
  const currentDate = new Date().toLocaleDateString(); //当天日期

  _system.default.get({
    key: 'lastResetDate',
    default: '-1',
    success: function (data) {
      console.log('本次检查日期：', currentDate, '--- 最后进入广告页日期：', data);
      if (data !== currentDate) {
        //日期不相同
        // 重置广告点击次数
        _system.default.set({
          key: 'todayClicks',
          value: '0'
        });
      }
    }
  });
}

//进入广告页时执行
function incrementTodayClicks() {
  _system.default.get({
    key: 'todayClicks',
    default: '0',
    //默认0次
    success: function (data) {
      console.log('点击次数+1,当前次数', data);
      let todayClicks = parseInt(data) || 0;
      todayClicks = todayClicks + 1;
      _system.default.set({
        key: 'todayClicks',
        value: todayClicks.toString()
      });
      _system.default.set({
        key: 'lastResetDate',
        value: new Date().toLocaleDateString()
      });
    }
  });
}
var _default = exports["default"] = {
  getStorage,
  setStorage,
  incrementTodayClicks,
  resetTodayClicksIfNeeded
};

/***/ }),

/***/ "./src/Common/helper/utils.js":
/*!************************************!*\
  !*** ./src/Common/helper/utils.js ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _system = _interopRequireDefault($app_require$("@app-module/system.device"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); } /**
 * 您可以将常用的方法、或系统 API，统一封装，暴露全局，以便各页面、组件调用，而无需 require / import.
 */
// 节流阀
const throttle = (fn, gapTime = 1500) => {
  let _lastTime = null;
  // 返回新的函数
  return function () {
    let _nowTime = +new Date();
    if (_nowTime - _lastTime > gapTime || !_lastTime) {
      fn.apply(this, arguments); //将this和参数传给原函数
      _lastTime = _nowTime;
    }
  };
};
const {
  JSEncrypt
} = __webpack_require__(/*! ../libs/jsencrypt/lib/index */ "./src/Common/libs/jsencrypt/lib/index.js");
const config = {
  publicKey: 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqaj0Y3k54jCyTq47t73ScBX9uBsSScDo7/uZ+PhHYh9eQqHNW1bBjKGV4t3Y8Wokhv783krxhIqzkPf9nHeZ2yWqoQlPa3qOUc7Wf/HpX2+eHGRjF1/RLARJmMcEgQYB3WGbdRedu0FjQSGd+OfSS/W7Heh2ZGlF/aSHj2NYhYE4p7x4jjQIi+ueKZvVJNZpu0vhQaF45jpqQDULPL+MkkQePmupjp/PR4Ra8BVg4DwJuI6K8jL77YWaxeQRbMrEiQ0ZbTKRQ4o8N73iIM97E/h8PbDl5FbuNn0k8urkYnmv56AMdkVEyIOUwNEa8oU9QKz37o5Z2L7+yqx2zmLpVwIDAQAB'
};
const dataEncryption = (data, action = "encrypt") => {
  try {
    let keyMap = {
      encrypt: config.publicKey,
      decrypt: config.privateKey
    };
    let key = keyMap[action];
    let _data = action === "encrypt" ? JSON.stringify(data) : data;
    return new Promise((resolve, reject) => {
      if (action === "encrypt") {
        const encryptor = new JSEncrypt();
        encryptor.setPublicKey(key);
        let result = encryptor.encrypt(_data);
        console.log(result, '查看有什么');
        resolve(result);
        return resolve(result);
      }
    });
  } catch (error) {
    console.log(error, '转换报错？');
  }
};
const getUserId = async () => {
  let userId = await _system.default.getUserId();
  return userId.data.userId;
};
const getOAID = async () => {
  let oaid = await _system.default.getOAID();
  return oaid;
};

/**
 * 转化上传
 * @param {*} that 所在this 
 */
function getConvertUpload() {
  let param = _objectSpread({}, getApp().$def.dataApp.actiParam);
  console.log('getConvertUpload() 转化参数param= ', param);
  for (const key in param) {
    param[key] = param[key].replace(/\/$/, "");
  }
  const convertedParam = convertKeysToCamelCase(param);
  if (!convertedParam.callback) {
    return;
  }
  console.log('getConvertUpload() 格式化转化参数convertedParam= ', convertedParam);
  $apis.example.convertUpload(_objectSpread(_objectSpread({}, convertedParam), {}, {
    deviceId: convertedParam.oaid,
    type: convertedParam.type || 'jh'
  })).then(res => {
    console.log(res, '转换成功');
  }).catch(err => {
    console.log(err, '转换失败');
  });
}
function toCamelCase(str) {
  return str.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());
}
function convertKeysToCamelCase(obj) {
  if (Array.isArray(obj)) {
    return obj.map(v => convertKeysToCamelCase(v));
  } else if (obj !== null && obj.constructor === Object) {
    return Object.keys(obj).reduce((result, key) => {
      const camelCaseKey = toCamelCase(key);
      result[camelCaseKey] = convertKeysToCamelCase(obj[key]);
      return result;
    }, {});
  }
  return obj;
}

/**
* 保存广告回传参数   router.push(OBJECT)  例：@param {Object} e='hap://app/com.company.app/index?param1=value1'
*/
const saveHapUri = e => {
  // //处理华为平台的跳转链接最一个字符为/的问题
  if (e.channelValue) {
    let channelValue = e.channelValue;
    if (channelValue.charAt(channelValue.length - 1) === '/') {
      // 去掉最后一个字符
      e.channelValue = channelValue.slice(0, -1);
    }
  }
  console.log('saveHapUri() 转化参数e= ', e);
  const {
    callback = '',
    oaid = '',
    type = '',
    channelValue = '',
    corp_id = ''
  } = e;
  getApp().$def.dataApp.actiParam = _objectSpread({}, e);
};

/**
 * 转化上传
 * @param {*} that 所在this  小说广告页面的转化方法
 */
function conversionUpload(that) {
  let param = _objectSpread({}, that.$app.$def.dataApp.actiParam);
  param.type = judgingAd(that); //转换类型
  if (Object.keys(param).length <= 0 || !param.type) {
    //无值的情况直接删除
    return;
  }
  console.log('进入了回传上报');
  let conversionlicks = that.$app.$def.dataApp.conversionlicks; //第几次回传上报
  let clicksOnAdsNow = that.$app.$def.dataApp.clicksOnAdsNow + 1; //现在是第几次任务
  console.log(conversionlicks, 'conversionlicks');
  console.log(clicksOnAdsNow, 'clicksOnAdsNow');
  that.$app.$def.dataApp.clicksOnAdsNow = clicksOnAdsNow;
  if (conversionlicks <= 0 || clicksOnAdsNow !== conversionlicks) {
    console.log('取消转换上传');
    return;
  }
  if (param.type === 'jh') {
    for (const key in param) {
      param[key] = param[key].replace(/\/$/, '');
    }
    param = convertKeysToCamelCase(param);
  }
  console.log(param, '查看上传的参数');
  $apis.task.postConvertUpload(_objectSpread(_objectSpread({}, param), {}, {
    deviceId: param.oaid || '',
    type: param.type
  })).then(res => {
    console.log(res, '转换成功');
  }).catch(err => {
    console.log(err, '转换失败');
  });
}

/**
* 插屏广告 
*/

const tablePlaque = async (onCloseCallback, onCatchCallback) => {
  let Provider = $ad.getProvider();
  if (!Provider) {
    console.log('没有广告商');
    return;
  }
  let interstitialAd = $ad.createInterstitialAd({
    adUnitId: getApp().$def.dataApp.interstitialAdUnitId
  });
  interstitialAd.load().then(res => {
    console.log(res, '查屏加载成功');
    interstitialAd.show().then(() => {
      console.log('插屏广告show成功');
    }, () => {
      console.log('插屏广告show失败');
    });
  })
  // .catch((err) => {
  //   console.log(err, '插屏加载失败');
  // })
  .catch(onCatchCallback);
  interstitialAd.onClick(() => {
    console.log('插屏广告点击了');
    //转化上传
    getConvertUpload();
  });
  interstitialAd.onClose(onCloseCallback);
};

/**
* banner广告  margin_bot底部缩进  
*/

let bannerAd;
const showBannerAd = async margin_bot => {
  // const storageFlag = await $processData.getStorage("_PRIVAC");
  // if (!storageFlag) {
  //   //未授权，弹出授权询问
  //   console.log('用户授权= ', storageFlag);
  //   console.log('未授权,不加载banner广告');
  //   return
  // }

  let Provider = $ad.getProvider();
  if (!Provider) {
    console.log('没有广告返回');
    return;
  }
  var d = _system.default.getInfoSync();
  // console.info("banner广告-设备信息 " + JSON.stringify(d));

  let height = 57; //两种高度  57与144
  //获取页面内可见窗口的高度和宽度，此值不包括标题栏和状态栏高度
  let windowWidth = d.screenWidth;
  let windowHeight = d.screenHeight - 153 - margin_bot;
  //logicWidth对应manifest.json文件设置的designWidth值，默认是750
  let logicWidth = 750;
  //广告自身大小单位是dp，需要转换成px单位
  let realAdHeighPX = height * d.screenDensity;
  //标题栏高度一般是42dp左右，此处也需要转换成px单位
  let titleBarHeight = 42 * d.screenDensity;
  //此处计算很关键，需要将状态栏高度、标题栏高度加上
  let realToppx = windowHeight - realAdHeighPX + d.statusBarHeight + titleBarHeight;

  // console.info("calBannerPostion1 realToppx=" + realToppx + ", logicWidth= " + logicWidth, "windowWidth= " + windowWidth);
  //转换成页面基准值下的逻辑单位
  let logicWebTop = realToppx * logicWidth / windowWidth;

  //此对象请自己在data下定义
  let top = logicWebTop === 0 ? 1230 : logicWebTop;
  // console.info("calBannerPostion1 top=" + top + ", logicWebTop= " + logicWebTop);

  const style = {
    left: 0,
    top: top,
    width: 360,
    height: height
  };
  let adid = getApp().$def.dataApp.bannerAdUnitId;
  // let adid = 'z1v6jykvy9'
  // console.info("banner广告位=" + adid);
  bannerAd = $ad.createBannerAd({
    adUnitId: adid,
    //banner广告位
    style: style,
    adIntervals: 60 //刷新时间，秒
  });
  // console.info("annerAd.style=" + JSON.stringify(bannerAd.style));
  bannerAd.onLoad(e => {
    console.info("load bannerAd  onload success e=" + JSON.stringify(e));
  });
  bannerAd.onError(e => {
    // console.error("load bannerAd  onError " + JSON.stringify(e));
  });
  bannerAd.onClose(e => {
    // console.info("load bannerAd  onClose");
  });
  bannerAd.show();
};
const hideBanerAd = () => {
  if (bannerAd) {
    bannerAd.hide();
  }
};
const viewBanner = () => {
  if (bannerAd) {
    bannerAd.show();
  }
};
const destroyBanner = () => {
  if (bannerAd) {
    bannerAd.destroy();
  }
};

//打开拆福袋页面
const openAd = () => {
  //友盟事件打点
  $umeng_stat.trackEvent('wd_xyfddhj', '点击');
  var r = 'Page_cfd';
  // r = 'hap://app/com.haituo.setpplanet/pages/advertisingCampaigns?callback=45079911&oaid=30ac1840-06aa-461f-9594-7f7b365f0dfe&channelValue=KYY'
  r = 'hap://app/com.haituo.setpplanet/Page_cfd?channelValue=jzxgj11/';
  $router.push({
    uri: r
  });
};

/**
 * 分秒倒计时
 * @param {Object} countDownData 相关参数：totalSeconds倒计时秒数、name属性名称、isFormat格式化
 * @param {*} that 当前组件this
 */
const startCountDown = (countDownData, that) => {
  let {
    totalSeconds = 3,
    name,
    isFormat = false
  } = countDownData;
  let _this = that;
  return new Promise((resolve, reject) => {
    let timer = setInterval(() => {
      if (totalSeconds > 1) {
        totalSeconds--;
        const minutes = isFormat ? (void 0).formatTime(Math.floor(totalSeconds / 60)) : Math.floor(totalSeconds / 60);
        const seconds = isFormat ? (void 0).formatTime(Math.floor(totalSeconds % 60)) : Math.floor(totalSeconds % 60);
        _this[name] = {
          minutes,
          seconds
        };
      } else {
        clearInterval(_this.timer);
        resolve();
      }
    }, 1000);
    _this.timer = timer;
  });
};

/**
 * 判断广告商
 */
function judgingAd(context) {
  let param = _objectSpread({}, context.$app.$def.dataApp.actiParam);
  let type = param.type || '';
  if (type) {
    return type;
  }
  if (param.adgroup_id && param.content_id && param.campaign_id && param.callback) {
    type = 'jh';
  } else if (param.btn_name && param.backurl) {
    type = 'vivo';
  }
  return type ? type : false;
}

/**
 * 判断广告主id
 * @param {*} context
 */

function analyzeAdvertiserId(context) {
  const {
    backurl = '',
    corp_id = '',
    callback = ''
  } = context.$app.$def.dataApp.actiParam;
  if (backurl) {
    return backurl;
  } else if (callback) {
    return corp_id ? corp_id : callback;
  }
}

/**
 * 获取哪一次上报回传  context  指向
 */
function getConversionlicks(context) {
  const {
    type = '',
    corp_id = '',
    channelValue = ''
  } = context.$app.$def.dataApp.actiParam;
  let adType = type ? type : judgingAd(context); //有类型直接获取类型 没有则进行判断；
  let corpId = corp_id ? corp_id : analyzeAdvertiserId(context);
  $apis.task.getConversionlicks({
    type: adType,
    corpId,
    channelValue
  }).then(res => {
    console.log(res, '查看点击回传');
    if (res.data === 0) {
      $utils.conversionUpload(context);
    }
    context.$app.$def.dataApp.conversionlicks = res.data;
  }).catch(err => {
    console.log(err, '查看点击回传失败');
  });
}

// 埋点上报
async function buriedPointReport(these, event = 'AppLaunch', adId = '') {
  try {
    let checkPaem = _objectSpread({}, these.$app.$def.dataApp.actiParam);
    console.log(these.$app.$def.dataApp, 'these.$app.$def.dataApp-');
    console.log(checkPaem, '查看是否有参数');
    if (Object.keys(checkPaem).length <= 0) {
      //无值的情况直接删除
      return;
    }

    // //处理华为平台的跳转链接最一个字符为/的问题
    // if (checkPaem.channelValue) {
    //   let channelValue = checkPaem.channelValue;
    //   if (channelValue.charAt(channelValue.length - 1) === '/') {
    //     // 去掉最后一个字符
    //     checkPaem.channelValue = channelValue.slice(0, -1);
    //   }
    // }

    let token = await $storage.get({
      key: 'AUTH_TOKEN_DATA'
    });
    token = JSON.parse(token.data);
    console.log('查看这个token', token);
    let adBrand = $ad.getProvider();
    let param = _objectSpread(_objectSpread({}, checkPaem), {}, {
      cid: checkPaem.channelValue,
      event: event === 'click' ? '$AdClick' : '$AppLaunch',
      pid: adBrand.toLowerCase(),
      appId: token.appId,
      userId: token.userId
    });
    let urlQuery = convertToQueryString(checkPaem);
    _system.default.getInfo({
      success: function (res) {
        const phoninfo = res;
        let param2 = _objectSpread(_objectSpread({}, param), {}, {
          properties: _objectSpread(_objectSpread({}, res), {}, {
            manufacturer: phoninfo.manufacturer,
            model: phoninfo.model,
            os: phoninfo.osType,
            product: phoninfo.product,
            analysis: {
              adId: adId,
              title: adId
            },
            urlQuery: urlQuery
          })
        });
        console.log('查看上报参数', param2);
        $apis.task.postTrackCapture(_objectSpread({}, param2)).then(res => {
          console.log('上报成功', res);
        }).catch(err => {
          console.log(err, '上传失败');
        });
      }
    });
  } catch (error) {
    console.log(error, '上传错误');
  }
}
function convertToQueryString(objects) {
  // 初始化一个空字符串来存储结果
  let queryString = '';

  // 遍历对象数组
  Object.keys(objects).forEach((key, index) => {
    // 如果不是第一个键值对，则添加 '&'
    if (index > 0 || queryString !== '') {
      queryString += '&';
    }
    // 将键值对添加到查询字符串中
    queryString += `${key}=${objects[key]}`;
  });
  return queryString;
}
var _default = exports["default"] = {
  throttle,
  getUserId,
  getConvertUpload,
  startCountDown,
  dataEncryption,
  tablePlaque,
  showBannerAd,
  hideBanerAd,
  viewBanner,
  destroyBanner,
  saveHapUri,
  getOAID,
  openAd,
  buriedPointReport,
  //埋点
  getConversionlicks,
  conversionUpload
};

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/JSEncrypt.js":
/*!****************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/JSEncrypt.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.JSEncrypt = void 0;
var _base = __webpack_require__(/*! ./lib/jsbn/base64 */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js");
var _JSEncryptRSAKey = __webpack_require__(/*! ./JSEncryptRSAKey */ "./src/Common/libs/jsencrypt/lib/JSEncryptRSAKey.js");
var _a;
var version = typeof process !== 'undefined' ? (_a = process.env) === null || _a === void 0 ? void 0 : _a.npm_package_version : undefined;
/**
 *
 * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour
 * possible parameters are:
 * - default_key_size        {number}  default: 1024 the key size in bit
 * - default_public_exponent {string}  default: '010001' the hexadecimal representation of the public exponent
 * - log                     {boolean} default: false whether log warn/error or not
 * @constructor
 */
var JSEncrypt = exports.JSEncrypt = /** @class */function () {
  function JSEncrypt(options) {
    if (options === void 0) {
      options = {};
    }
    options = options || {};
    this.default_key_size = options.default_key_size ? parseInt(options.default_key_size, 10) : 1024;
    this.default_public_exponent = options.default_public_exponent || "010001"; // 65537 default openssl public exponent for rsa key type
    this.log = options.log || false;
    // The private and public key.
    this.key = null;
  }
  /**
   * Method to set the rsa key parameter (one method is enough to set both the public
   * and the private key, since the private key contains the public key paramenters)
   * Log a warning if logs are enabled
   * @param {Object|string} key the pem encoded string or an object (with or without header/footer)
   * @public
   */
  JSEncrypt.prototype.setKey = function (key) {
    if (this.log && this.key) {
      console.warn("A key was already set, overriding existing.");
    }
    this.key = new _JSEncryptRSAKey.JSEncryptRSAKey(key);
  };
  /**
   * Proxy method for setKey, for api compatibility
   * @see setKey
   * @public
   */
  JSEncrypt.prototype.setPrivateKey = function (privkey) {
    // Create the key.
    this.setKey(privkey);
  };
  /**
   * Proxy method for setKey, for api compatibility
   * @see setKey
   * @public
   */
  JSEncrypt.prototype.setPublicKey = function (pubkey) {
    // Sets the public key.
    this.setKey(pubkey);
  };
  /**
   * Proxy method for RSAKey object's decrypt, decrypt the string using the private
   * components of the rsa key object. Note that if the object was not set will be created
   * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor
   * @param {string} str base64 encoded crypted string to decrypt
   * @return {string} the decrypted string
   * @public
   */
  JSEncrypt.prototype.decrypt = function (str) {
    // Return the decrypted string.
    try {
      return this.getKey().decrypt((0, _base.b64tohex)(str));
    } catch (ex) {
      return false;
    }
  };
  /**
   * Proxy method for RSAKey object's encrypt, encrypt the string using the public
   * components of the rsa key object. Note that if the object was not set will be created
   * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor
   * @param {string} str the string to encrypt
   * @return {string} the encrypted string encoded in base64
   * @public
   */
  JSEncrypt.prototype.encrypt = function (str) {
    // Return the encrypted string.
    try {
      return (0, _base.hex2b64)(this.getKey().encrypt(str));
    } catch (ex) {
      return false;
    }
  };
  /**
   * Proxy method for RSAKey object's sign.
   * @param {string} str the string to sign
   * @param {function} digestMethod hash method
   * @param {string} digestName the name of the hash algorithm
   * @return {string} the signature encoded in base64
   * @public
   */
  JSEncrypt.prototype.sign = function (str, digestMethod, digestName) {
    // return the RSA signature of 'str' in 'hex' format.
    try {
      return (0, _base.hex2b64)(this.getKey().sign(str, digestMethod, digestName));
    } catch (ex) {
      return false;
    }
  };
  /**
   * Proxy method for RSAKey object's verify.
   * @param {string} str the string to verify
   * @param {string} signature the signature encoded in base64 to compare the string to
   * @param {function} digestMethod hash method
   * @return {boolean} whether the data and signature match
   * @public
   */
  JSEncrypt.prototype.verify = function (str, signature, digestMethod) {
    // Return the decrypted 'digest' of the signature.
    try {
      return this.getKey().verify(str, (0, _base.b64tohex)(signature), digestMethod);
    } catch (ex) {
      return false;
    }
  };
  /**
   * Getter for the current JSEncryptRSAKey object. If it doesn't exists a new object
   * will be created and returned
   * @param {callback} [cb] the callback to be called if we want the key to be generated
   * in an async fashion
   * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object
   * @public
   */
  JSEncrypt.prototype.getKey = function (cb) {
    // Only create new if it does not exist.
    if (!this.key) {
      // Get a new private key.
      this.key = new _JSEncryptRSAKey.JSEncryptRSAKey();
      if (cb && {}.toString.call(cb) === "[object Function]") {
        this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);
        return;
      }
      // Generate the key.
      this.key.generate(this.default_key_size, this.default_public_exponent);
    }
    return this.key;
  };
  /**
   * Returns the pem encoded representation of the private key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the private key WITH header and footer
   * @public
   */
  JSEncrypt.prototype.getPrivateKey = function () {
    // Return the private representation of this key.
    return this.getKey().getPrivateKey();
  };
  /**
   * Returns the pem encoded representation of the private key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the private key WITHOUT header and footer
   * @public
   */
  JSEncrypt.prototype.getPrivateKeyB64 = function () {
    // Return the private representation of this key.
    return this.getKey().getPrivateBaseKeyB64();
  };
  /**
   * Returns the pem encoded representation of the public key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the public key WITH header and footer
   * @public
   */
  JSEncrypt.prototype.getPublicKey = function () {
    // Return the private representation of this key.
    return this.getKey().getPublicKey();
  };
  /**
   * Returns the pem encoded representation of the public key
   * If the key doesn't exists a new key will be created
   * @returns {string} pem encoded representation of the public key WITHOUT header and footer
   * @public
   */
  JSEncrypt.prototype.getPublicKeyB64 = function () {
    // Return the private representation of this key.
    return this.getKey().getPublicBaseKeyB64();
  };
  JSEncrypt.version = version;
  return JSEncrypt;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/JSEncryptRSAKey.js":
/*!**********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/JSEncryptRSAKey.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.JSEncryptRSAKey = void 0;
var _base = __webpack_require__(/*! ./lib/jsbn/base64 */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js");
var _hex = __webpack_require__(/*! ./lib/asn1js/hex */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/hex.js");
var _base2 = __webpack_require__(/*! ./lib/asn1js/base64 */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/base64.js");
var _asn = __webpack_require__(/*! ./lib/asn1js/asn1 */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/asn1.js");
var _rsa = __webpack_require__(/*! ./lib/jsbn/rsa */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rsa.js");
var _jsbn = __webpack_require__(/*! ./lib/jsbn/jsbn */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js");
var _asn2 = __webpack_require__(/*! ./lib/jsrsasign/asn1-1.0 */ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/asn1-1.0.js");
var __extends = void 0 && (void 0).__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
  };
  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Create a new JSEncryptRSAKey that extends Tom Wu's RSA key object.
 * This object is just a decorator for parsing the key parameter
 * @param {string|Object} key - The key in string format, or an object containing
 * the parameters needed to build a RSAKey object.
 * @constructor
 */
var JSEncryptRSAKey = exports.JSEncryptRSAKey = /** @class */function (_super) {
  __extends(JSEncryptRSAKey, _super);
  function JSEncryptRSAKey(key) {
    var _this = _super.call(this) || this;
    // Call the super constructor.
    //  RSAKey.call(this);
    // If a key key was provided.
    if (key) {
      // If this is a string...
      if (typeof key === "string") {
        _this.parseKey(key);
      } else if (JSEncryptRSAKey.hasPrivateKeyProperty(key) || JSEncryptRSAKey.hasPublicKeyProperty(key)) {
        // Set the values for the key.
        _this.parsePropertiesFrom(key);
      }
    }
    return _this;
  }
  /**
   * Method to parse a pem encoded string containing both a public or private key.
   * The method will translate the pem encoded string in a der encoded string and
   * will parse private key and public key parameters. This method accepts public key
   * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).
   *
   * @todo Check how many rsa formats use the same format of pkcs #1.
   *
   * The format is defined as:
   * PublicKeyInfo ::= SEQUENCE {
   *   algorithm       AlgorithmIdentifier,
   *   PublicKey       BIT STRING
   * }
   * Where AlgorithmIdentifier is:
   * AlgorithmIdentifier ::= SEQUENCE {
   *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm
   *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)
   * }
   * and PublicKey is a SEQUENCE encapsulated in a BIT STRING
   * RSAPublicKey ::= SEQUENCE {
   *   modulus           INTEGER,  -- n
   *   publicExponent    INTEGER   -- e
   * }
   * it's possible to examine the structure of the keys obtained from openssl using
   * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/
   * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer
   * @private
   */
  JSEncryptRSAKey.prototype.parseKey = function (pem) {
    try {
      var modulus = 0;
      var public_exponent = 0;
      var reHex = /^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/;
      var der = reHex.test(pem) ? _hex.Hex.decode(pem) : _base2.Base64.unarmor(pem);
      var asn1 = _asn.ASN1.decode(der);
      // Fixes a bug with OpenSSL 1.0+ private keys
      if (asn1.sub.length === 3) {
        asn1 = asn1.sub[2].sub[0];
      }
      if (asn1.sub.length === 9) {
        // Parse the private key.
        modulus = asn1.sub[1].getHexStringValue(); // bigint
        this.n = (0, _jsbn.parseBigInt)(modulus, 16);
        public_exponent = asn1.sub[2].getHexStringValue(); // int
        this.e = parseInt(public_exponent, 16);
        var private_exponent = asn1.sub[3].getHexStringValue(); // bigint
        this.d = (0, _jsbn.parseBigInt)(private_exponent, 16);
        var prime1 = asn1.sub[4].getHexStringValue(); // bigint
        this.p = (0, _jsbn.parseBigInt)(prime1, 16);
        var prime2 = asn1.sub[5].getHexStringValue(); // bigint
        this.q = (0, _jsbn.parseBigInt)(prime2, 16);
        var exponent1 = asn1.sub[6].getHexStringValue(); // bigint
        this.dmp1 = (0, _jsbn.parseBigInt)(exponent1, 16);
        var exponent2 = asn1.sub[7].getHexStringValue(); // bigint
        this.dmq1 = (0, _jsbn.parseBigInt)(exponent2, 16);
        var coefficient = asn1.sub[8].getHexStringValue(); // bigint
        this.coeff = (0, _jsbn.parseBigInt)(coefficient, 16);
      } else if (asn1.sub.length === 2) {
        if (asn1.sub[0].sub) {
          // Parse ASN.1 SubjectPublicKeyInfo type as defined by X.509
          var bit_string = asn1.sub[1];
          var sequence = bit_string.sub[0];
          modulus = sequence.sub[0].getHexStringValue();
          this.n = (0, _jsbn.parseBigInt)(modulus, 16);
          public_exponent = sequence.sub[1].getHexStringValue();
          this.e = parseInt(public_exponent, 16);
        } else {
          // Parse ASN.1 RSAPublicKey type as defined by PKCS #1
          modulus = asn1.sub[0].getHexStringValue();
          this.n = (0, _jsbn.parseBigInt)(modulus, 16);
          public_exponent = asn1.sub[1].getHexStringValue();
          this.e = parseInt(public_exponent, 16);
        }
      } else {
        return false;
      }
      return true;
    } catch (ex) {
      return false;
    }
  };
  /**
   * Translate rsa parameters in a hex encoded string representing the rsa key.
   *
   * The translation follow the ASN.1 notation :
   * RSAPrivateKey ::= SEQUENCE {
   *   version           Version,
   *   modulus           INTEGER,  -- n
   *   publicExponent    INTEGER,  -- e
   *   privateExponent   INTEGER,  -- d
   *   prime1            INTEGER,  -- p
   *   prime2            INTEGER,  -- q
   *   exponent1         INTEGER,  -- d mod (p1)
   *   exponent2         INTEGER,  -- d mod (q-1)
   *   coefficient       INTEGER,  -- (inverse of q) mod p
   * }
   * @returns {string}  DER Encoded String representing the rsa private key
   * @private
   */
  JSEncryptRSAKey.prototype.getPrivateBaseKey = function () {
    var options = {
      array: [new _asn2.KJUR.asn1.DERInteger({
        int: 0
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.n
      }), new _asn2.KJUR.asn1.DERInteger({
        int: this.e
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.d
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.p
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.q
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.dmp1
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.dmq1
      }), new _asn2.KJUR.asn1.DERInteger({
        bigint: this.coeff
      })]
    };
    var seq = new _asn2.KJUR.asn1.DERSequence(options);
    return seq.getEncodedHex();
  };
  /**
   * base64 (pem) encoded version of the DER encoded representation
   * @returns {string} pem encoded representation without header and footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPrivateBaseKeyB64 = function () {
    return (0, _base.hex2b64)(this.getPrivateBaseKey());
  };
  /**
   * Translate rsa parameters in a hex encoded string representing the rsa public key.
   * The representation follow the ASN.1 notation :
   * PublicKeyInfo ::= SEQUENCE {
   *   algorithm       AlgorithmIdentifier,
   *   PublicKey       BIT STRING
   * }
   * Where AlgorithmIdentifier is:
   * AlgorithmIdentifier ::= SEQUENCE {
   *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm
   *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)
   * }
   * and PublicKey is a SEQUENCE encapsulated in a BIT STRING
   * RSAPublicKey ::= SEQUENCE {
   *   modulus           INTEGER,  -- n
   *   publicExponent    INTEGER   -- e
   * }
   * @returns {string} DER Encoded String representing the rsa public key
   * @private
   */
  JSEncryptRSAKey.prototype.getPublicBaseKey = function () {
    var first_sequence = new _asn2.KJUR.asn1.DERSequence({
      array: [new _asn2.KJUR.asn1.DERObjectIdentifier({
        oid: "1.2.840.113549.1.1.1"
      }), new _asn2.KJUR.asn1.DERNull()]
    });
    var second_sequence = new _asn2.KJUR.asn1.DERSequence({
      array: [new _asn2.KJUR.asn1.DERInteger({
        bigint: this.n
      }), new _asn2.KJUR.asn1.DERInteger({
        int: this.e
      })]
    });
    var bit_string = new _asn2.KJUR.asn1.DERBitString({
      hex: "00" + second_sequence.getEncodedHex()
    });
    var seq = new _asn2.KJUR.asn1.DERSequence({
      array: [first_sequence, bit_string]
    });
    return seq.getEncodedHex();
  };
  /**
   * base64 (pem) encoded version of the DER encoded representation
   * @returns {string} pem encoded representation without header and footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPublicBaseKeyB64 = function () {
    return (0, _base.hex2b64)(this.getPublicBaseKey());
  };
  /**
   * wrap the string in block of width chars. The default value for rsa keys is 64
   * characters.
   * @param {string} str the pem encoded string without header and footer
   * @param {Number} [width=64] - the length the string has to be wrapped at
   * @returns {string}
   * @private
   */
  JSEncryptRSAKey.wordwrap = function (str, width) {
    width = width || 64;
    if (!str) {
      return str;
    }
    var regex = "(.{1," + width + "})( +|$\n?)|(.{1," + width + "})";
    return str.match(RegExp(regex, "g")).join("\n");
  };
  /**
   * Retrieve the pem encoded private key
   * @returns {string} the pem encoded private key with header/footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPrivateKey = function () {
    var key = "-----BEGIN RSA PRIVATE KEY-----\n";
    key += JSEncryptRSAKey.wordwrap(this.getPrivateBaseKeyB64()) + "\n";
    key += "-----END RSA PRIVATE KEY-----";
    return key;
  };
  /**
   * Retrieve the pem encoded public key
   * @returns {string} the pem encoded public key with header/footer
   * @public
   */
  JSEncryptRSAKey.prototype.getPublicKey = function () {
    var key = "-----BEGIN PUBLIC KEY-----\n";
    key += JSEncryptRSAKey.wordwrap(this.getPublicBaseKeyB64()) + "\n";
    key += "-----END PUBLIC KEY-----";
    return key;
  };
  /**
   * Check if the object contains the necessary parameters to populate the rsa modulus
   * and public exponent parameters.
   * @param {Object} [obj={}] - An object that may contain the two public key
   * parameters
   * @returns {boolean} true if the object contains both the modulus and the public exponent
   * properties (n and e)
   * @todo check for types of n and e. N should be a parseable bigInt object, E should
   * be a parseable integer number
   * @private
   */
  JSEncryptRSAKey.hasPublicKeyProperty = function (obj) {
    obj = obj || {};
    return obj.hasOwnProperty("n") && obj.hasOwnProperty("e");
  };
  /**
   * Check if the object contains ALL the parameters of an RSA key.
   * @param {Object} [obj={}] - An object that may contain nine rsa key
   * parameters
   * @returns {boolean} true if the object contains all the parameters needed
   * @todo check for types of the parameters all the parameters but the public exponent
   * should be parseable bigint objects, the public exponent should be a parseable integer number
   * @private
   */
  JSEncryptRSAKey.hasPrivateKeyProperty = function (obj) {
    obj = obj || {};
    return obj.hasOwnProperty("n") && obj.hasOwnProperty("e") && obj.hasOwnProperty("d") && obj.hasOwnProperty("p") && obj.hasOwnProperty("q") && obj.hasOwnProperty("dmp1") && obj.hasOwnProperty("dmq1") && obj.hasOwnProperty("coeff");
  };
  /**
   * Parse the properties of obj in the current rsa object. Obj should AT LEAST
   * include the modulus and public exponent (n, e) parameters.
   * @param {Object} obj - the object containing rsa parameters
   * @private
   */
  JSEncryptRSAKey.prototype.parsePropertiesFrom = function (obj) {
    this.n = obj.n;
    this.e = obj.e;
    if (obj.hasOwnProperty("d")) {
      this.d = obj.d;
      this.p = obj.p;
      this.q = obj.q;
      this.dmp1 = obj.dmp1;
      this.dmq1 = obj.dmq1;
      this.coeff = obj.coeff;
    }
  };
  return JSEncryptRSAKey;
}(_rsa.RSAKey);

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/index.js":
/*!************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
Object.defineProperty(exports, "JSEncrypt", ({
  enumerable: true,
  get: function () {
    return _JSEncrypt.JSEncrypt;
  }
}));
exports["default"] = void 0;
var _JSEncrypt = __webpack_require__(/*! ./JSEncrypt */ "./src/Common/libs/jsencrypt/lib/JSEncrypt.js");
var _default = exports["default"] = _JSEncrypt.JSEncrypt;

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/asn1.js":
/*!**********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/asn1.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Stream = exports.ASN1Tag = exports.ASN1 = void 0;
var _int = __webpack_require__(/*! ./int10 */ "./src/Common/libs/jsencrypt/lib/lib/asn1js/int10.js");
// ASN.1 JavaScript decoder
// Copyright (c) 2008-2014 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
/*global oids */

var ellipsis = "\u2026";
var reTimeS = /^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;
var reTimeL = /^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;
function stringCut(str, len) {
  if (str.length > len) {
    str = str.substring(0, len) + ellipsis;
  }
  return str;
}
var Stream = exports.Stream = /** @class */function () {
  function Stream(enc, pos) {
    this.hexDigits = "0123456789ABCDEF";
    if (enc instanceof Stream) {
      this.enc = enc.enc;
      this.pos = enc.pos;
    } else {
      // enc should be an array or a binary string
      this.enc = enc;
      this.pos = pos;
    }
  }
  Stream.prototype.get = function (pos) {
    if (pos === undefined) {
      pos = this.pos++;
    }
    if (pos >= this.enc.length) {
      throw new Error("Requesting byte offset ".concat(pos, " on a stream of length ").concat(this.enc.length));
    }
    return "string" === typeof this.enc ? this.enc.charCodeAt(pos) : this.enc[pos];
  };
  Stream.prototype.hexByte = function (b) {
    return this.hexDigits.charAt(b >> 4 & 0xF) + this.hexDigits.charAt(b & 0xF);
  };
  Stream.prototype.hexDump = function (start, end, raw) {
    var s = "";
    for (var i = start; i < end; ++i) {
      s += this.hexByte(this.get(i));
      if (raw !== true) {
        switch (i & 0xF) {
          case 0x7:
            s += "  ";
            break;
          case 0xF:
            s += "\n";
            break;
          default:
            s += " ";
        }
      }
    }
    return s;
  };
  Stream.prototype.isASCII = function (start, end) {
    for (var i = start; i < end; ++i) {
      var c = this.get(i);
      if (c < 32 || c > 176) {
        return false;
      }
    }
    return true;
  };
  Stream.prototype.parseStringISO = function (start, end) {
    var s = "";
    for (var i = start; i < end; ++i) {
      s += String.fromCharCode(this.get(i));
    }
    return s;
  };
  Stream.prototype.parseStringUTF = function (start, end) {
    var s = "";
    for (var i = start; i < end;) {
      var c = this.get(i++);
      if (c < 128) {
        s += String.fromCharCode(c);
      } else if (c > 191 && c < 224) {
        s += String.fromCharCode((c & 0x1F) << 6 | this.get(i++) & 0x3F);
      } else {
        s += String.fromCharCode((c & 0x0F) << 12 | (this.get(i++) & 0x3F) << 6 | this.get(i++) & 0x3F);
      }
    }
    return s;
  };
  Stream.prototype.parseStringBMP = function (start, end) {
    var str = "";
    var hi;
    var lo;
    for (var i = start; i < end;) {
      hi = this.get(i++);
      lo = this.get(i++);
      str += String.fromCharCode(hi << 8 | lo);
    }
    return str;
  };
  Stream.prototype.parseTime = function (start, end, shortYear) {
    var s = this.parseStringISO(start, end);
    var m = (shortYear ? reTimeS : reTimeL).exec(s);
    if (!m) {
      return "Unrecognized time: " + s;
    }
    if (shortYear) {
      // to avoid querying the timer, use the fixed range [1970, 2069]
      // it will conform with ITU X.400 [-10, +40] sliding window until 2030
      m[1] = +m[1];
      m[1] += +m[1] < 70 ? 2000 : 1900;
    }
    s = m[1] + "-" + m[2] + "-" + m[3] + " " + m[4];
    if (m[5]) {
      s += ":" + m[5];
      if (m[6]) {
        s += ":" + m[6];
        if (m[7]) {
          s += "." + m[7];
        }
      }
    }
    if (m[8]) {
      s += " UTC";
      if (m[8] != "Z") {
        s += m[8];
        if (m[9]) {
          s += ":" + m[9];
        }
      }
    }
    return s;
  };
  Stream.prototype.parseInteger = function (start, end) {
    var v = this.get(start);
    var neg = v > 127;
    var pad = neg ? 255 : 0;
    var len;
    var s = "";
    // skip unuseful bits (not allowed in DER)
    while (v == pad && ++start < end) {
      v = this.get(start);
    }
    len = end - start;
    if (len === 0) {
      return neg ? -1 : 0;
    }
    // show bit length of huge integers
    if (len > 4) {
      s = v;
      len <<= 3;
      while (((+s ^ pad) & 0x80) == 0) {
        s = +s << 1;
        --len;
      }
      s = "(" + len + " bit)\n";
    }
    // decode the integer
    if (neg) {
      v = v - 256;
    }
    var n = new _int.Int10(v);
    for (var i = start + 1; i < end; ++i) {
      n.mulAdd(256, this.get(i));
    }
    return s + n.toString();
  };
  Stream.prototype.parseBitString = function (start, end, maxLength) {
    var unusedBit = this.get(start);
    var lenBit = (end - start - 1 << 3) - unusedBit;
    var intro = "(" + lenBit + " bit)\n";
    var s = "";
    for (var i = start + 1; i < end; ++i) {
      var b = this.get(i);
      var skip = i == end - 1 ? unusedBit : 0;
      for (var j = 7; j >= skip; --j) {
        s += b >> j & 1 ? "1" : "0";
      }
      if (s.length > maxLength) {
        return intro + stringCut(s, maxLength);
      }
    }
    return intro + s;
  };
  Stream.prototype.parseOctetString = function (start, end, maxLength) {
    if (this.isASCII(start, end)) {
      return stringCut(this.parseStringISO(start, end), maxLength);
    }
    var len = end - start;
    var s = "(" + len + " byte)\n";
    maxLength /= 2; // we work in bytes
    if (len > maxLength) {
      end = start + maxLength;
    }
    for (var i = start; i < end; ++i) {
      s += this.hexByte(this.get(i));
    }
    if (len > maxLength) {
      s += ellipsis;
    }
    return s;
  };
  Stream.prototype.parseOID = function (start, end, maxLength) {
    var s = "";
    var n = new _int.Int10();
    var bits = 0;
    for (var i = start; i < end; ++i) {
      var v = this.get(i);
      n.mulAdd(128, v & 0x7F);
      bits += 7;
      if (!(v & 0x80)) {
        // finished
        if (s === "") {
          n = n.simplify();
          if (n instanceof _int.Int10) {
            n.sub(80);
            s = "2." + n.toString();
          } else {
            var m = n < 80 ? n < 40 ? 0 : 1 : 2;
            s = m + "." + (n - m * 40);
          }
        } else {
          s += "." + n.toString();
        }
        if (s.length > maxLength) {
          return stringCut(s, maxLength);
        }
        n = new _int.Int10();
        bits = 0;
      }
    }
    if (bits > 0) {
      s += ".incomplete";
    }
    return s;
  };
  return Stream;
}();
var ASN1 = exports.ASN1 = /** @class */function () {
  function ASN1(stream, header, length, tag, sub) {
    if (!(tag instanceof ASN1Tag)) {
      throw new Error("Invalid tag value.");
    }
    this.stream = stream;
    this.header = header;
    this.length = length;
    this.tag = tag;
    this.sub = sub;
  }
  ASN1.prototype.typeName = function () {
    switch (this.tag.tagClass) {
      case 0:
        // universal
        switch (this.tag.tagNumber) {
          case 0x00:
            return "EOC";
          case 0x01:
            return "BOOLEAN";
          case 0x02:
            return "INTEGER";
          case 0x03:
            return "BIT_STRING";
          case 0x04:
            return "OCTET_STRING";
          case 0x05:
            return "NULL";
          case 0x06:
            return "OBJECT_IDENTIFIER";
          case 0x07:
            return "ObjectDescriptor";
          case 0x08:
            return "EXTERNAL";
          case 0x09:
            return "REAL";
          case 0x0A:
            return "ENUMERATED";
          case 0x0B:
            return "EMBEDDED_PDV";
          case 0x0C:
            return "UTF8String";
          case 0x10:
            return "SEQUENCE";
          case 0x11:
            return "SET";
          case 0x12:
            return "NumericString";
          case 0x13:
            return "PrintableString";
          // ASCII subset
          case 0x14:
            return "TeletexString";
          // aka T61String
          case 0x15:
            return "VideotexString";
          case 0x16:
            return "IA5String";
          // ASCII
          case 0x17:
            return "UTCTime";
          case 0x18:
            return "GeneralizedTime";
          case 0x19:
            return "GraphicString";
          case 0x1A:
            return "VisibleString";
          // ASCII subset
          case 0x1B:
            return "GeneralString";
          case 0x1C:
            return "UniversalString";
          case 0x1E:
            return "BMPString";
        }
        return "Universal_" + this.tag.tagNumber.toString();
      case 1:
        return "Application_" + this.tag.tagNumber.toString();
      case 2:
        return "[" + this.tag.tagNumber.toString() + "]";
      // Context
      case 3:
        return "Private_" + this.tag.tagNumber.toString();
    }
  };
  ASN1.prototype.content = function (maxLength) {
    if (this.tag === undefined) {
      return null;
    }
    if (maxLength === undefined) {
      maxLength = Infinity;
    }
    var content = this.posContent();
    var len = Math.abs(this.length);
    if (!this.tag.isUniversal()) {
      if (this.sub !== null) {
        return "(" + this.sub.length + " elem)";
      }
      return this.stream.parseOctetString(content, content + len, maxLength);
    }
    switch (this.tag.tagNumber) {
      case 0x01:
        // BOOLEAN
        return this.stream.get(content) === 0 ? "false" : "true";
      case 0x02:
        // INTEGER
        return this.stream.parseInteger(content, content + len);
      case 0x03:
        // BIT_STRING
        return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseBitString(content, content + len, maxLength);
      case 0x04:
        // OCTET_STRING
        return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseOctetString(content, content + len, maxLength);
      // case 0x05: // NULL
      case 0x06:
        // OBJECT_IDENTIFIER
        return this.stream.parseOID(content, content + len, maxLength);
      // case 0x07: // ObjectDescriptor
      // case 0x08: // EXTERNAL
      // case 0x09: // REAL
      // case 0x0A: // ENUMERATED
      // case 0x0B: // EMBEDDED_PDV
      case 0x10: // SEQUENCE
      case 0x11:
        // SET
        if (this.sub !== null) {
          return "(" + this.sub.length + " elem)";
        } else {
          return "(no elem)";
        }
      case 0x0C:
        // UTF8String
        return stringCut(this.stream.parseStringUTF(content, content + len), maxLength);
      case 0x12: // NumericString
      case 0x13: // PrintableString
      case 0x14: // TeletexString
      case 0x15: // VideotexString
      case 0x16: // IA5String
      // case 0x19: // GraphicString
      case 0x1A:
        // VisibleString
        // case 0x1B: // GeneralString
        // case 0x1C: // UniversalString
        return stringCut(this.stream.parseStringISO(content, content + len), maxLength);
      case 0x1E:
        // BMPString
        return stringCut(this.stream.parseStringBMP(content, content + len), maxLength);
      case 0x17: // UTCTime
      case 0x18:
        // GeneralizedTime
        return this.stream.parseTime(content, content + len, this.tag.tagNumber == 0x17);
    }
    return null;
  };
  ASN1.prototype.toString = function () {
    return this.typeName() + "@" + this.stream.pos + "[header:" + this.header + ",length:" + this.length + ",sub:" + (this.sub === null ? "null" : this.sub.length) + "]";
  };
  ASN1.prototype.toPrettyString = function (indent) {
    if (indent === undefined) {
      indent = "";
    }
    var s = indent + this.typeName() + " @" + this.stream.pos;
    if (this.length >= 0) {
      s += "+";
    }
    s += this.length;
    if (this.tag.tagConstructed) {
      s += " (constructed)";
    } else if (this.tag.isUniversal() && (this.tag.tagNumber == 0x03 || this.tag.tagNumber == 0x04) && this.sub !== null) {
      s += " (encapsulates)";
    }
    s += "\n";
    if (this.sub !== null) {
      indent += "  ";
      for (var i = 0, max = this.sub.length; i < max; ++i) {
        s += this.sub[i].toPrettyString(indent);
      }
    }
    return s;
  };
  ASN1.prototype.posStart = function () {
    return this.stream.pos;
  };
  ASN1.prototype.posContent = function () {
    return this.stream.pos + this.header;
  };
  ASN1.prototype.posEnd = function () {
    return this.stream.pos + this.header + Math.abs(this.length);
  };
  ASN1.prototype.toHexString = function () {
    return this.stream.hexDump(this.posStart(), this.posEnd(), true);
  };
  ASN1.decodeLength = function (stream) {
    var buf = stream.get();
    var len = buf & 0x7F;
    if (len == buf) {
      return len;
    }
    // no reason to use Int10, as it would be a huge buffer anyways
    if (len > 6) {
      throw new Error("Length over 48 bits not supported at position " + (stream.pos - 1));
    }
    if (len === 0) {
      return null;
    } // undefined
    buf = 0;
    for (var i = 0; i < len; ++i) {
      buf = buf * 256 + stream.get();
    }
    return buf;
  };
  /**
   * Retrieve the hexadecimal value (as a string) of the current ASN.1 element
   * @returns {string}
   * @public
   */
  ASN1.prototype.getHexStringValue = function () {
    var hexString = this.toHexString();
    var offset = this.header * 2;
    var length = this.length * 2;
    return hexString.substr(offset, length);
  };
  ASN1.decode = function (str) {
    var stream;
    if (!(str instanceof Stream)) {
      stream = new Stream(str, 0);
    } else {
      stream = str;
    }
    var streamStart = new Stream(stream);
    var tag = new ASN1Tag(stream);
    var len = ASN1.decodeLength(stream);
    var start = stream.pos;
    var header = start - streamStart.pos;
    var sub = null;
    var getSub = function () {
      var ret = [];
      if (len !== null) {
        // definite length
        var end = start + len;
        while (stream.pos < end) {
          ret[ret.length] = ASN1.decode(stream);
        }
        if (stream.pos != end) {
          throw new Error("Content size is not correct for container starting at offset " + start);
        }
      } else {
        // undefined length
        try {
          for (;;) {
            var s = ASN1.decode(stream);
            if (s.tag.isEOC()) {
              break;
            }
            ret[ret.length] = s;
          }
          len = start - stream.pos; // undefined lengths are represented as negative values
        } catch (e) {
          throw new Error("Exception while decoding undefined length content: " + e);
        }
      }
      return ret;
    };
    if (tag.tagConstructed) {
      // must have valid content
      sub = getSub();
    } else if (tag.isUniversal() && (tag.tagNumber == 0x03 || tag.tagNumber == 0x04)) {
      // sometimes BitString and OctetString are used to encapsulate ASN.1
      try {
        if (tag.tagNumber == 0x03) {
          if (stream.get() != 0) {
            throw new Error("BIT STRINGs with unused bits cannot encapsulate.");
          }
        }
        sub = getSub();
        for (var i = 0; i < sub.length; ++i) {
          if (sub[i].tag.isEOC()) {
            throw new Error("EOC is not supposed to be actual content.");
          }
        }
      } catch (e) {
        // but silently ignore when they don't
        sub = null;
      }
    }
    if (sub === null) {
      if (len === null) {
        throw new Error("We can't skip over an invalid tag with undefined length at offset " + start);
      }
      stream.pos = start + Math.abs(len);
    }
    return new ASN1(streamStart, header, len, tag, sub);
  };
  return ASN1;
}();
var ASN1Tag = exports.ASN1Tag = /** @class */function () {
  function ASN1Tag(stream) {
    var buf = stream.get();
    this.tagClass = buf >> 6;
    this.tagConstructed = (buf & 0x20) !== 0;
    this.tagNumber = buf & 0x1F;
    if (this.tagNumber == 0x1F) {
      // long tag
      var n = new _int.Int10();
      do {
        buf = stream.get();
        n.mulAdd(128, buf & 0x7F);
      } while (buf & 0x80);
      this.tagNumber = n.simplify();
    }
  }
  ASN1Tag.prototype.isUniversal = function () {
    return this.tagClass === 0x00;
  };
  ASN1Tag.prototype.isEOC = function () {
    return this.tagClass === 0x00 && this.tagNumber === 0x00;
  };
  return ASN1Tag;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/base64.js":
/*!************************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/base64.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Base64 = void 0;
// Base64 JavaScript decoder
// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
var decoder;
var Base64 = exports.Base64 = {
  decode: function (a) {
    var i;
    if (decoder === undefined) {
      var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
      var ignore = "= \f\n\r\t\u00A0\u2028\u2029";
      decoder = Object.create(null);
      for (i = 0; i < 64; ++i) {
        decoder[b64.charAt(i)] = i;
      }
      decoder['-'] = 62; //+
      decoder['_'] = 63; //-
      for (i = 0; i < ignore.length; ++i) {
        decoder[ignore.charAt(i)] = -1;
      }
    }
    var out = [];
    var bits = 0;
    var char_count = 0;
    for (i = 0; i < a.length; ++i) {
      var c = a.charAt(i);
      if (c == "=") {
        break;
      }
      c = decoder[c];
      if (c == -1) {
        continue;
      }
      if (c === undefined) {
        throw new Error("Illegal character at offset " + i);
      }
      bits |= c;
      if (++char_count >= 4) {
        out[out.length] = bits >> 16;
        out[out.length] = bits >> 8 & 0xFF;
        out[out.length] = bits & 0xFF;
        bits = 0;
        char_count = 0;
      } else {
        bits <<= 6;
      }
    }
    switch (char_count) {
      case 1:
        throw new Error("Base64 encoding incomplete: at least 2 bits missing");
      case 2:
        out[out.length] = bits >> 10;
        break;
      case 3:
        out[out.length] = bits >> 16;
        out[out.length] = bits >> 8 & 0xFF;
        break;
    }
    return out;
  },
  re: /-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,
  unarmor: function (a) {
    var m = Base64.re.exec(a);
    if (m) {
      if (m[1]) {
        a = m[1];
      } else if (m[2]) {
        a = m[2];
      } else {
        throw new Error("RegExp out of sync");
      }
    }
    return Base64.decode(a);
  }
};

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/hex.js":
/*!*********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/hex.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Hex = void 0;
// Hex JavaScript decoder
// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
var decoder;
var Hex = exports.Hex = {
  decode: function (a) {
    var i;
    if (decoder === undefined) {
      var hex = "0123456789ABCDEF";
      var ignore = " \f\n\r\t\u00A0\u2028\u2029";
      decoder = {};
      for (i = 0; i < 16; ++i) {
        decoder[hex.charAt(i)] = i;
      }
      hex = hex.toLowerCase();
      for (i = 10; i < 16; ++i) {
        decoder[hex.charAt(i)] = i;
      }
      for (i = 0; i < ignore.length; ++i) {
        decoder[ignore.charAt(i)] = -1;
      }
    }
    var out = [];
    var bits = 0;
    var char_count = 0;
    for (i = 0; i < a.length; ++i) {
      var c = a.charAt(i);
      if (c == "=") {
        break;
      }
      c = decoder[c];
      if (c == -1) {
        continue;
      }
      if (c === undefined) {
        throw new Error("Illegal character at offset " + i);
      }
      bits |= c;
      if (++char_count >= 2) {
        out[out.length] = bits;
        bits = 0;
        char_count = 0;
      } else {
        bits <<= 4;
      }
    }
    if (char_count) {
      throw new Error("Hex encoding incomplete: 4 bits missing");
    }
    return out;
  }
};

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/asn1js/int10.js":
/*!***********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/asn1js/int10.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Int10 = void 0;
// Big integer base-10 printing library
// Copyright (c) 2014 Lapo Luchini <lapo@lapo.it>
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */
var max = 10000000000000; // biggest integer that can still fit 2^53 when multiplied by 256
var Int10 = exports.Int10 = /** @class */function () {
  function Int10(value) {
    this.buf = [+value || 0];
  }
  Int10.prototype.mulAdd = function (m, c) {
    // assert(m <= 256)
    var b = this.buf;
    var l = b.length;
    var i;
    var t;
    for (i = 0; i < l; ++i) {
      t = b[i] * m + c;
      if (t < max) {
        c = 0;
      } else {
        c = 0 | t / max;
        t -= c * max;
      }
      b[i] = t;
    }
    if (c > 0) {
      b[i] = c;
    }
  };
  Int10.prototype.sub = function (c) {
    // assert(m <= 256)
    var b = this.buf;
    var l = b.length;
    var i;
    var t;
    for (i = 0; i < l; ++i) {
      t = b[i] - c;
      if (t < 0) {
        t += max;
        c = 1;
      } else {
        c = 0;
      }
      b[i] = t;
    }
    while (b[b.length - 1] === 0) {
      b.pop();
    }
  };
  Int10.prototype.toString = function (base) {
    if ((base || 10) != 10) {
      throw new Error("only base 10 is supported");
    }
    var b = this.buf;
    var s = b[b.length - 1].toString();
    for (var i = b.length - 2; i >= 0; --i) {
      s += (max + b[i]).toString().substring(1);
    }
    return s;
  };
  Int10.prototype.valueOf = function () {
    var b = this.buf;
    var v = 0;
    for (var i = b.length - 1; i >= 0; --i) {
      v = v * max + b[i];
    }
    return v;
  };
  Int10.prototype.simplify = function () {
    var b = this.buf;
    return b.length == 1 ? b[0] : this;
  };
  return Int10;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js":
/*!**********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/base64.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.b64toBA = b64toBA;
exports.b64tohex = b64tohex;
exports.hex2b64 = hex2b64;
var _util = __webpack_require__(/*! ./util */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js");
var b64map = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
var b64pad = "=";
function hex2b64(h) {
  var i;
  var c;
  var ret = "";
  for (i = 0; i + 3 <= h.length; i += 3) {
    c = parseInt(h.substring(i, i + 3), 16);
    ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);
  }
  if (i + 1 == h.length) {
    c = parseInt(h.substring(i, i + 1), 16);
    ret += b64map.charAt(c << 2);
  } else if (i + 2 == h.length) {
    c = parseInt(h.substring(i, i + 2), 16);
    ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);
  }
  while ((ret.length & 3) > 0) {
    ret += b64pad;
  }
  return ret;
}
// convert a base64 string to hex
function b64tohex(s) {
  var ret = "";
  var i;
  var k = 0; // b64 state, 0-3
  var slop = 0;
  for (i = 0; i < s.length; ++i) {
    if (s.charAt(i) == b64pad) {
      break;
    }
    var v = b64map.indexOf(s.charAt(i));
    if (v < 0) {
      continue;
    }
    if (k == 0) {
      ret += (0, _util.int2char)(v >> 2);
      slop = v & 3;
      k = 1;
    } else if (k == 1) {
      ret += (0, _util.int2char)(slop << 2 | v >> 4);
      slop = v & 0xf;
      k = 2;
    } else if (k == 2) {
      ret += (0, _util.int2char)(slop);
      ret += (0, _util.int2char)(v >> 2);
      slop = v & 3;
      k = 3;
    } else {
      ret += (0, _util.int2char)(slop << 2 | v >> 4);
      ret += (0, _util.int2char)(v & 0xf);
      k = 0;
    }
  }
  if (k == 1) {
    ret += (0, _util.int2char)(slop << 2);
  }
  return ret;
}
// convert a base64 string to a byte/number array
function b64toBA(s) {
  // piggyback on b64tohex for now, optimize later
  var h = b64tohex(s);
  var i;
  var a = [];
  for (i = 0; 2 * i < h.length; ++i) {
    a[i] = parseInt(h.substring(2 * i, 2 * i + 2), 16);
  }
  return a;
}

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js":
/*!********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.BigInteger = void 0;
exports.intAt = intAt;
exports.nbi = nbi;
exports.nbits = nbits;
exports.nbv = nbv;
exports.parseBigInt = parseBigInt;
var _util = __webpack_require__(/*! ./util */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js");
// Copyright (c) 2005  Tom Wu
// All Rights Reserved.
// See "LICENSE" for details.
// Basic JavaScript BN library - subset useful for RSA encryption.

// Bits per digit
var dbits;
// JavaScript engine analysis
var canary = 0xdeadbeefcafe;
var j_lm = (canary & 0xffffff) == 0xefcafe;
//#region
var lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];
var lplim = (1 << 26) / lowprimes[lowprimes.length - 1];
//#endregion
// (public) Constructor
var BigInteger = exports.BigInteger = /** @class */function () {
  function BigInteger(a, b, c) {
    if (a != null) {
      if ("number" == typeof a) {
        this.fromNumber(a, b, c);
      } else if (b == null && "string" != typeof a) {
        this.fromString(a, 256);
      } else {
        this.fromString(a, b);
      }
    }
  }
  //#region PUBLIC
  // BigInteger.prototype.toString = bnToString;
  // (public) return string representation in given radix
  BigInteger.prototype.toString = function (b) {
    if (this.s < 0) {
      return "-" + this.negate().toString(b);
    }
    var k;
    if (b == 16) {
      k = 4;
    } else if (b == 8) {
      k = 3;
    } else if (b == 2) {
      k = 1;
    } else if (b == 32) {
      k = 5;
    } else if (b == 4) {
      k = 2;
    } else {
      return this.toRadix(b);
    }
    var km = (1 << k) - 1;
    var d;
    var m = false;
    var r = "";
    var i = this.t;
    var p = this.DB - i * this.DB % k;
    if (i-- > 0) {
      if (p < this.DB && (d = this[i] >> p) > 0) {
        m = true;
        r = (0, _util.int2char)(d);
      }
      while (i >= 0) {
        if (p < k) {
          d = (this[i] & (1 << p) - 1) << k - p;
          d |= this[--i] >> (p += this.DB - k);
        } else {
          d = this[i] >> (p -= k) & km;
          if (p <= 0) {
            p += this.DB;
            --i;
          }
        }
        if (d > 0) {
          m = true;
        }
        if (m) {
          r += (0, _util.int2char)(d);
        }
      }
    }
    return m ? r : "0";
  };
  // BigInteger.prototype.negate = bnNegate;
  // (public) -this
  BigInteger.prototype.negate = function () {
    var r = nbi();
    BigInteger.ZERO.subTo(this, r);
    return r;
  };
  // BigInteger.prototype.abs = bnAbs;
  // (public) |this|
  BigInteger.prototype.abs = function () {
    return this.s < 0 ? this.negate() : this;
  };
  // BigInteger.prototype.compareTo = bnCompareTo;
  // (public) return + if this > a, - if this < a, 0 if equal
  BigInteger.prototype.compareTo = function (a) {
    var r = this.s - a.s;
    if (r != 0) {
      return r;
    }
    var i = this.t;
    r = i - a.t;
    if (r != 0) {
      return this.s < 0 ? -r : r;
    }
    while (--i >= 0) {
      if ((r = this[i] - a[i]) != 0) {
        return r;
      }
    }
    return 0;
  };
  // BigInteger.prototype.bitLength = bnBitLength;
  // (public) return the number of bits in "this"
  BigInteger.prototype.bitLength = function () {
    if (this.t <= 0) {
      return 0;
    }
    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);
  };
  // BigInteger.prototype.mod = bnMod;
  // (public) this mod a
  BigInteger.prototype.mod = function (a) {
    var r = nbi();
    this.abs().divRemTo(a, null, r);
    if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {
      a.subTo(r, r);
    }
    return r;
  };
  // BigInteger.prototype.modPowInt = bnModPowInt;
  // (public) this^e % m, 0 <= e < 2^32
  BigInteger.prototype.modPowInt = function (e, m) {
    var z;
    if (e < 256 || m.isEven()) {
      z = new Classic(m);
    } else {
      z = new Montgomery(m);
    }
    return this.exp(e, z);
  };
  // BigInteger.prototype.clone = bnClone;
  // (public)
  BigInteger.prototype.clone = function () {
    var r = nbi();
    this.copyTo(r);
    return r;
  };
  // BigInteger.prototype.intValue = bnIntValue;
  // (public) return value as integer
  BigInteger.prototype.intValue = function () {
    if (this.s < 0) {
      if (this.t == 1) {
        return this[0] - this.DV;
      } else if (this.t == 0) {
        return -1;
      }
    } else if (this.t == 1) {
      return this[0];
    } else if (this.t == 0) {
      return 0;
    }
    // assumes 16 < DB < 32
    return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
  };
  // BigInteger.prototype.byteValue = bnByteValue;
  // (public) return value as byte
  BigInteger.prototype.byteValue = function () {
    return this.t == 0 ? this.s : this[0] << 24 >> 24;
  };
  // BigInteger.prototype.shortValue = bnShortValue;
  // (public) return value as short (assumes DB>=16)
  BigInteger.prototype.shortValue = function () {
    return this.t == 0 ? this.s : this[0] << 16 >> 16;
  };
  // BigInteger.prototype.signum = bnSigNum;
  // (public) 0 if this == 0, 1 if this > 0
  BigInteger.prototype.signum = function () {
    if (this.s < 0) {
      return -1;
    } else if (this.t <= 0 || this.t == 1 && this[0] <= 0) {
      return 0;
    } else {
      return 1;
    }
  };
  // BigInteger.prototype.toByteArray = bnToByteArray;
  // (public) convert to bigendian byte array
  BigInteger.prototype.toByteArray = function () {
    var i = this.t;
    var r = [];
    r[0] = this.s;
    var p = this.DB - i * this.DB % 8;
    var d;
    var k = 0;
    if (i-- > 0) {
      if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p) {
        r[k++] = d | this.s << this.DB - p;
      }
      while (i >= 0) {
        if (p < 8) {
          d = (this[i] & (1 << p) - 1) << 8 - p;
          d |= this[--i] >> (p += this.DB - 8);
        } else {
          d = this[i] >> (p -= 8) & 0xff;
          if (p <= 0) {
            p += this.DB;
            --i;
          }
        }
        if ((d & 0x80) != 0) {
          d |= -256;
        }
        if (k == 0 && (this.s & 0x80) != (d & 0x80)) {
          ++k;
        }
        if (k > 0 || d != this.s) {
          r[k++] = d;
        }
      }
    }
    return r;
  };
  // BigInteger.prototype.equals = bnEquals;
  BigInteger.prototype.equals = function (a) {
    return this.compareTo(a) == 0;
  };
  // BigInteger.prototype.min = bnMin;
  BigInteger.prototype.min = function (a) {
    return this.compareTo(a) < 0 ? this : a;
  };
  // BigInteger.prototype.max = bnMax;
  BigInteger.prototype.max = function (a) {
    return this.compareTo(a) > 0 ? this : a;
  };
  // BigInteger.prototype.and = bnAnd;
  BigInteger.prototype.and = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_and, r);
    return r;
  };
  // BigInteger.prototype.or = bnOr;
  BigInteger.prototype.or = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_or, r);
    return r;
  };
  // BigInteger.prototype.xor = bnXor;
  BigInteger.prototype.xor = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_xor, r);
    return r;
  };
  // BigInteger.prototype.andNot = bnAndNot;
  BigInteger.prototype.andNot = function (a) {
    var r = nbi();
    this.bitwiseTo(a, _util.op_andnot, r);
    return r;
  };
  // BigInteger.prototype.not = bnNot;
  // (public) ~this
  BigInteger.prototype.not = function () {
    var r = nbi();
    for (var i = 0; i < this.t; ++i) {
      r[i] = this.DM & ~this[i];
    }
    r.t = this.t;
    r.s = ~this.s;
    return r;
  };
  // BigInteger.prototype.shiftLeft = bnShiftLeft;
  // (public) this << n
  BigInteger.prototype.shiftLeft = function (n) {
    var r = nbi();
    if (n < 0) {
      this.rShiftTo(-n, r);
    } else {
      this.lShiftTo(n, r);
    }
    return r;
  };
  // BigInteger.prototype.shiftRight = bnShiftRight;
  // (public) this >> n
  BigInteger.prototype.shiftRight = function (n) {
    var r = nbi();
    if (n < 0) {
      this.lShiftTo(-n, r);
    } else {
      this.rShiftTo(n, r);
    }
    return r;
  };
  // BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;
  // (public) returns index of lowest 1-bit (or -1 if none)
  BigInteger.prototype.getLowestSetBit = function () {
    for (var i = 0; i < this.t; ++i) {
      if (this[i] != 0) {
        return i * this.DB + (0, _util.lbit)(this[i]);
      }
    }
    if (this.s < 0) {
      return this.t * this.DB;
    }
    return -1;
  };
  // BigInteger.prototype.bitCount = bnBitCount;
  // (public) return number of set bits
  BigInteger.prototype.bitCount = function () {
    var r = 0;
    var x = this.s & this.DM;
    for (var i = 0; i < this.t; ++i) {
      r += (0, _util.cbit)(this[i] ^ x);
    }
    return r;
  };
  // BigInteger.prototype.testBit = bnTestBit;
  // (public) true iff nth bit is set
  BigInteger.prototype.testBit = function (n) {
    var j = Math.floor(n / this.DB);
    if (j >= this.t) {
      return this.s != 0;
    }
    return (this[j] & 1 << n % this.DB) != 0;
  };
  // BigInteger.prototype.setBit = bnSetBit;
  // (public) this | (1<<n)
  BigInteger.prototype.setBit = function (n) {
    return this.changeBit(n, _util.op_or);
  };
  // BigInteger.prototype.clearBit = bnClearBit;
  // (public) this & ~(1<<n)
  BigInteger.prototype.clearBit = function (n) {
    return this.changeBit(n, _util.op_andnot);
  };
  // BigInteger.prototype.flipBit = bnFlipBit;
  // (public) this ^ (1<<n)
  BigInteger.prototype.flipBit = function (n) {
    return this.changeBit(n, _util.op_xor);
  };
  // BigInteger.prototype.add = bnAdd;
  // (public) this + a
  BigInteger.prototype.add = function (a) {
    var r = nbi();
    this.addTo(a, r);
    return r;
  };
  // BigInteger.prototype.subtract = bnSubtract;
  // (public) this - a
  BigInteger.prototype.subtract = function (a) {
    var r = nbi();
    this.subTo(a, r);
    return r;
  };
  // BigInteger.prototype.multiply = bnMultiply;
  // (public) this * a
  BigInteger.prototype.multiply = function (a) {
    var r = nbi();
    this.multiplyTo(a, r);
    return r;
  };
  // BigInteger.prototype.divide = bnDivide;
  // (public) this / a
  BigInteger.prototype.divide = function (a) {
    var r = nbi();
    this.divRemTo(a, r, null);
    return r;
  };
  // BigInteger.prototype.remainder = bnRemainder;
  // (public) this % a
  BigInteger.prototype.remainder = function (a) {
    var r = nbi();
    this.divRemTo(a, null, r);
    return r;
  };
  // BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;
  // (public) [this/a,this%a]
  BigInteger.prototype.divideAndRemainder = function (a) {
    var q = nbi();
    var r = nbi();
    this.divRemTo(a, q, r);
    return [q, r];
  };
  // BigInteger.prototype.modPow = bnModPow;
  // (public) this^e % m (HAC 14.85)
  BigInteger.prototype.modPow = function (e, m) {
    var i = e.bitLength();
    var k;
    var r = nbv(1);
    var z;
    if (i <= 0) {
      return r;
    } else if (i < 18) {
      k = 1;
    } else if (i < 48) {
      k = 3;
    } else if (i < 144) {
      k = 4;
    } else if (i < 768) {
      k = 5;
    } else {
      k = 6;
    }
    if (i < 8) {
      z = new Classic(m);
    } else if (m.isEven()) {
      z = new Barrett(m);
    } else {
      z = new Montgomery(m);
    }
    // precomputation
    var g = [];
    var n = 3;
    var k1 = k - 1;
    var km = (1 << k) - 1;
    g[1] = z.convert(this);
    if (k > 1) {
      var g2 = nbi();
      z.sqrTo(g[1], g2);
      while (n <= km) {
        g[n] = nbi();
        z.mulTo(g2, g[n - 2], g[n]);
        n += 2;
      }
    }
    var j = e.t - 1;
    var w;
    var is1 = true;
    var r2 = nbi();
    var t;
    i = nbits(e[j]) - 1;
    while (j >= 0) {
      if (i >= k1) {
        w = e[j] >> i - k1 & km;
      } else {
        w = (e[j] & (1 << i + 1) - 1) << k1 - i;
        if (j > 0) {
          w |= e[j - 1] >> this.DB + i - k1;
        }
      }
      n = k;
      while ((w & 1) == 0) {
        w >>= 1;
        --n;
      }
      if ((i -= n) < 0) {
        i += this.DB;
        --j;
      }
      if (is1) {
        // ret == 1, don't bother squaring or multiplying it
        g[w].copyTo(r);
        is1 = false;
      } else {
        while (n > 1) {
          z.sqrTo(r, r2);
          z.sqrTo(r2, r);
          n -= 2;
        }
        if (n > 0) {
          z.sqrTo(r, r2);
        } else {
          t = r;
          r = r2;
          r2 = t;
        }
        z.mulTo(r2, g[w], r);
      }
      while (j >= 0 && (e[j] & 1 << i) == 0) {
        z.sqrTo(r, r2);
        t = r;
        r = r2;
        r2 = t;
        if (--i < 0) {
          i = this.DB - 1;
          --j;
        }
      }
    }
    return z.revert(r);
  };
  // BigInteger.prototype.modInverse = bnModInverse;
  // (public) 1/this % m (HAC 14.61)
  BigInteger.prototype.modInverse = function (m) {
    var ac = m.isEven();
    if (this.isEven() && ac || m.signum() == 0) {
      return BigInteger.ZERO;
    }
    var u = m.clone();
    var v = this.clone();
    var a = nbv(1);
    var b = nbv(0);
    var c = nbv(0);
    var d = nbv(1);
    while (u.signum() != 0) {
      while (u.isEven()) {
        u.rShiftTo(1, u);
        if (ac) {
          if (!a.isEven() || !b.isEven()) {
            a.addTo(this, a);
            b.subTo(m, b);
          }
          a.rShiftTo(1, a);
        } else if (!b.isEven()) {
          b.subTo(m, b);
        }
        b.rShiftTo(1, b);
      }
      while (v.isEven()) {
        v.rShiftTo(1, v);
        if (ac) {
          if (!c.isEven() || !d.isEven()) {
            c.addTo(this, c);
            d.subTo(m, d);
          }
          c.rShiftTo(1, c);
        } else if (!d.isEven()) {
          d.subTo(m, d);
        }
        d.rShiftTo(1, d);
      }
      if (u.compareTo(v) >= 0) {
        u.subTo(v, u);
        if (ac) {
          a.subTo(c, a);
        }
        b.subTo(d, b);
      } else {
        v.subTo(u, v);
        if (ac) {
          c.subTo(a, c);
        }
        d.subTo(b, d);
      }
    }
    if (v.compareTo(BigInteger.ONE) != 0) {
      return BigInteger.ZERO;
    }
    if (d.compareTo(m) >= 0) {
      return d.subtract(m);
    }
    if (d.signum() < 0) {
      d.addTo(m, d);
    } else {
      return d;
    }
    if (d.signum() < 0) {
      return d.add(m);
    } else {
      return d;
    }
  };
  // BigInteger.prototype.pow = bnPow;
  // (public) this^e
  BigInteger.prototype.pow = function (e) {
    return this.exp(e, new NullExp());
  };
  // BigInteger.prototype.gcd = bnGCD;
  // (public) gcd(this,a) (HAC 14.54)
  BigInteger.prototype.gcd = function (a) {
    var x = this.s < 0 ? this.negate() : this.clone();
    var y = a.s < 0 ? a.negate() : a.clone();
    if (x.compareTo(y) < 0) {
      var t = x;
      x = y;
      y = t;
    }
    var i = x.getLowestSetBit();
    var g = y.getLowestSetBit();
    if (g < 0) {
      return x;
    }
    if (i < g) {
      g = i;
    }
    if (g > 0) {
      x.rShiftTo(g, x);
      y.rShiftTo(g, y);
    }
    while (x.signum() > 0) {
      if ((i = x.getLowestSetBit()) > 0) {
        x.rShiftTo(i, x);
      }
      if ((i = y.getLowestSetBit()) > 0) {
        y.rShiftTo(i, y);
      }
      if (x.compareTo(y) >= 0) {
        x.subTo(y, x);
        x.rShiftTo(1, x);
      } else {
        y.subTo(x, y);
        y.rShiftTo(1, y);
      }
    }
    if (g > 0) {
      y.lShiftTo(g, y);
    }
    return y;
  };
  // BigInteger.prototype.isProbablePrime = bnIsProbablePrime;
  // (public) test primality with certainty >= 1-.5^t
  BigInteger.prototype.isProbablePrime = function (t) {
    var i;
    var x = this.abs();
    if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {
      for (i = 0; i < lowprimes.length; ++i) {
        if (x[0] == lowprimes[i]) {
          return true;
        }
      }
      return false;
    }
    if (x.isEven()) {
      return false;
    }
    i = 1;
    while (i < lowprimes.length) {
      var m = lowprimes[i];
      var j = i + 1;
      while (j < lowprimes.length && m < lplim) {
        m *= lowprimes[j++];
      }
      m = x.modInt(m);
      while (i < j) {
        if (m % lowprimes[i++] == 0) {
          return false;
        }
      }
    }
    return x.millerRabin(t);
  };
  //#endregion PUBLIC
  //#region PROTECTED
  // BigInteger.prototype.copyTo = bnpCopyTo;
  // (protected) copy this to r
  BigInteger.prototype.copyTo = function (r) {
    for (var i = this.t - 1; i >= 0; --i) {
      r[i] = this[i];
    }
    r.t = this.t;
    r.s = this.s;
  };
  // BigInteger.prototype.fromInt = bnpFromInt;
  // (protected) set from integer value x, -DV <= x < DV
  BigInteger.prototype.fromInt = function (x) {
    this.t = 1;
    this.s = x < 0 ? -1 : 0;
    if (x > 0) {
      this[0] = x;
    } else if (x < -1) {
      this[0] = x + this.DV;
    } else {
      this.t = 0;
    }
  };
  // BigInteger.prototype.fromString = bnpFromString;
  // (protected) set from string and radix
  BigInteger.prototype.fromString = function (s, b) {
    var k;
    if (b == 16) {
      k = 4;
    } else if (b == 8) {
      k = 3;
    } else if (b == 256) {
      k = 8;
      /* byte array */
    } else if (b == 2) {
      k = 1;
    } else if (b == 32) {
      k = 5;
    } else if (b == 4) {
      k = 2;
    } else {
      this.fromRadix(s, b);
      return;
    }
    this.t = 0;
    this.s = 0;
    var i = s.length;
    var mi = false;
    var sh = 0;
    while (--i >= 0) {
      var x = k == 8 ? +s[i] & 0xff : intAt(s, i);
      if (x < 0) {
        if (s.charAt(i) == "-") {
          mi = true;
        }
        continue;
      }
      mi = false;
      if (sh == 0) {
        this[this.t++] = x;
      } else if (sh + k > this.DB) {
        this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;
        this[this.t++] = x >> this.DB - sh;
      } else {
        this[this.t - 1] |= x << sh;
      }
      sh += k;
      if (sh >= this.DB) {
        sh -= this.DB;
      }
    }
    if (k == 8 && (+s[0] & 0x80) != 0) {
      this.s = -1;
      if (sh > 0) {
        this[this.t - 1] |= (1 << this.DB - sh) - 1 << sh;
      }
    }
    this.clamp();
    if (mi) {
      BigInteger.ZERO.subTo(this, this);
    }
  };
  // BigInteger.prototype.clamp = bnpClamp;
  // (protected) clamp off excess high words
  BigInteger.prototype.clamp = function () {
    var c = this.s & this.DM;
    while (this.t > 0 && this[this.t - 1] == c) {
      --this.t;
    }
  };
  // BigInteger.prototype.dlShiftTo = bnpDLShiftTo;
  // (protected) r = this << n*DB
  BigInteger.prototype.dlShiftTo = function (n, r) {
    var i;
    for (i = this.t - 1; i >= 0; --i) {
      r[i + n] = this[i];
    }
    for (i = n - 1; i >= 0; --i) {
      r[i] = 0;
    }
    r.t = this.t + n;
    r.s = this.s;
  };
  // BigInteger.prototype.drShiftTo = bnpDRShiftTo;
  // (protected) r = this >> n*DB
  BigInteger.prototype.drShiftTo = function (n, r) {
    for (var i = n; i < this.t; ++i) {
      r[i - n] = this[i];
    }
    r.t = Math.max(this.t - n, 0);
    r.s = this.s;
  };
  // BigInteger.prototype.lShiftTo = bnpLShiftTo;
  // (protected) r = this << n
  BigInteger.prototype.lShiftTo = function (n, r) {
    var bs = n % this.DB;
    var cbs = this.DB - bs;
    var bm = (1 << cbs) - 1;
    var ds = Math.floor(n / this.DB);
    var c = this.s << bs & this.DM;
    for (var i = this.t - 1; i >= 0; --i) {
      r[i + ds + 1] = this[i] >> cbs | c;
      c = (this[i] & bm) << bs;
    }
    for (var i = ds - 1; i >= 0; --i) {
      r[i] = 0;
    }
    r[ds] = c;
    r.t = this.t + ds + 1;
    r.s = this.s;
    r.clamp();
  };
  // BigInteger.prototype.rShiftTo = bnpRShiftTo;
  // (protected) r = this >> n
  BigInteger.prototype.rShiftTo = function (n, r) {
    r.s = this.s;
    var ds = Math.floor(n / this.DB);
    if (ds >= this.t) {
      r.t = 0;
      return;
    }
    var bs = n % this.DB;
    var cbs = this.DB - bs;
    var bm = (1 << bs) - 1;
    r[0] = this[ds] >> bs;
    for (var i = ds + 1; i < this.t; ++i) {
      r[i - ds - 1] |= (this[i] & bm) << cbs;
      r[i - ds] = this[i] >> bs;
    }
    if (bs > 0) {
      r[this.t - ds - 1] |= (this.s & bm) << cbs;
    }
    r.t = this.t - ds;
    r.clamp();
  };
  // BigInteger.prototype.subTo = bnpSubTo;
  // (protected) r = this - a
  BigInteger.prototype.subTo = function (a, r) {
    var i = 0;
    var c = 0;
    var m = Math.min(a.t, this.t);
    while (i < m) {
      c += this[i] - a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    if (a.t < this.t) {
      c -= a.s;
      while (i < this.t) {
        c += this[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += this.s;
    } else {
      c += this.s;
      while (i < a.t) {
        c -= a[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c -= a.s;
    }
    r.s = c < 0 ? -1 : 0;
    if (c < -1) {
      r[i++] = this.DV + c;
    } else if (c > 0) {
      r[i++] = c;
    }
    r.t = i;
    r.clamp();
  };
  // BigInteger.prototype.multiplyTo = bnpMultiplyTo;
  // (protected) r = this * a, r != this,a (HAC 14.12)
  // "this" should be the larger one if appropriate.
  BigInteger.prototype.multiplyTo = function (a, r) {
    var x = this.abs();
    var y = a.abs();
    var i = x.t;
    r.t = i + y.t;
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = 0; i < y.t; ++i) {
      r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);
    }
    r.s = 0;
    r.clamp();
    if (this.s != a.s) {
      BigInteger.ZERO.subTo(r, r);
    }
  };
  // BigInteger.prototype.squareTo = bnpSquareTo;
  // (protected) r = this^2, r != this (HAC 14.16)
  BigInteger.prototype.squareTo = function (r) {
    var x = this.abs();
    var i = r.t = 2 * x.t;
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = 0; i < x.t - 1; ++i) {
      var c = x.am(i, x[i], r, 2 * i, 0, 1);
      if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {
        r[i + x.t] -= x.DV;
        r[i + x.t + 1] = 1;
      }
    }
    if (r.t > 0) {
      r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);
    }
    r.s = 0;
    r.clamp();
  };
  // BigInteger.prototype.divRemTo = bnpDivRemTo;
  // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)
  // r != q, this != m.  q or r may be null.
  BigInteger.prototype.divRemTo = function (m, q, r) {
    var pm = m.abs();
    if (pm.t <= 0) {
      return;
    }
    var pt = this.abs();
    if (pt.t < pm.t) {
      if (q != null) {
        q.fromInt(0);
      }
      if (r != null) {
        this.copyTo(r);
      }
      return;
    }
    if (r == null) {
      r = nbi();
    }
    var y = nbi();
    var ts = this.s;
    var ms = m.s;
    var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus
    if (nsh > 0) {
      pm.lShiftTo(nsh, y);
      pt.lShiftTo(nsh, r);
    } else {
      pm.copyTo(y);
      pt.copyTo(r);
    }
    var ys = y.t;
    var y0 = y[ys - 1];
    if (y0 == 0) {
      return;
    }
    var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);
    var d1 = this.FV / yt;
    var d2 = (1 << this.F1) / yt;
    var e = 1 << this.F2;
    var i = r.t;
    var j = i - ys;
    var t = q == null ? nbi() : q;
    y.dlShiftTo(j, t);
    if (r.compareTo(t) >= 0) {
      r[r.t++] = 1;
      r.subTo(t, r);
    }
    BigInteger.ONE.dlShiftTo(ys, t);
    t.subTo(y, y); // "negative" y so we can replace sub with am later
    while (y.t < ys) {
      y[y.t++] = 0;
    }
    while (--j >= 0) {
      // Estimate quotient digit
      var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);
      if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {
        // Try it out
        y.dlShiftTo(j, t);
        r.subTo(t, r);
        while (r[i] < --qd) {
          r.subTo(t, r);
        }
      }
    }
    if (q != null) {
      r.drShiftTo(ys, q);
      if (ts != ms) {
        BigInteger.ZERO.subTo(q, q);
      }
    }
    r.t = ys;
    r.clamp();
    if (nsh > 0) {
      r.rShiftTo(nsh, r);
    } // Denormalize remainder
    if (ts < 0) {
      BigInteger.ZERO.subTo(r, r);
    }
  };
  // BigInteger.prototype.invDigit = bnpInvDigit;
  // (protected) return "-1/this % 2^DB"; useful for Mont. reduction
  // justification:
  //         xy == 1 (mod m)
  //         xy =  1+km
  //   xy(2-xy) = (1+km)(1-km)
  // x[y(2-xy)] = 1-k^2m^2
  // x[y(2-xy)] == 1 (mod m^2)
  // if y is 1/x mod m, then y(2-xy) is 1/x mod m^2
  // should reduce x and y(2-xy) by m^2 at each step to keep size bounded.
  // JS multiply "overflows" differently from C/C++, so care is needed here.
  BigInteger.prototype.invDigit = function () {
    if (this.t < 1) {
      return 0;
    }
    var x = this[0];
    if ((x & 1) == 0) {
      return 0;
    }
    var y = x & 3; // y == 1/x mod 2^2
    y = y * (2 - (x & 0xf) * y) & 0xf; // y == 1/x mod 2^4
    y = y * (2 - (x & 0xff) * y) & 0xff; // y == 1/x mod 2^8
    y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff; // y == 1/x mod 2^16
    // last step - calculate inverse mod DV directly;
    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints
    y = y * (2 - x * y % this.DV) % this.DV; // y == 1/x mod 2^dbits
    // we really want the negative inverse, and -DV < y < DV
    return y > 0 ? this.DV - y : -y;
  };
  // BigInteger.prototype.isEven = bnpIsEven;
  // (protected) true iff this is even
  BigInteger.prototype.isEven = function () {
    return (this.t > 0 ? this[0] & 1 : this.s) == 0;
  };
  // BigInteger.prototype.exp = bnpExp;
  // (protected) this^e, e < 2^32, doing sqr and mul with "r" (HAC 14.79)
  BigInteger.prototype.exp = function (e, z) {
    if (e > 0xffffffff || e < 1) {
      return BigInteger.ONE;
    }
    var r = nbi();
    var r2 = nbi();
    var g = z.convert(this);
    var i = nbits(e) - 1;
    g.copyTo(r);
    while (--i >= 0) {
      z.sqrTo(r, r2);
      if ((e & 1 << i) > 0) {
        z.mulTo(r2, g, r);
      } else {
        var t = r;
        r = r2;
        r2 = t;
      }
    }
    return z.revert(r);
  };
  // BigInteger.prototype.chunkSize = bnpChunkSize;
  // (protected) return x s.t. r^x < DV
  BigInteger.prototype.chunkSize = function (r) {
    return Math.floor(Math.LN2 * this.DB / Math.log(r));
  };
  // BigInteger.prototype.toRadix = bnpToRadix;
  // (protected) convert to radix string
  BigInteger.prototype.toRadix = function (b) {
    if (b == null) {
      b = 10;
    }
    if (this.signum() == 0 || b < 2 || b > 36) {
      return "0";
    }
    var cs = this.chunkSize(b);
    var a = Math.pow(b, cs);
    var d = nbv(a);
    var y = nbi();
    var z = nbi();
    var r = "";
    this.divRemTo(d, y, z);
    while (y.signum() > 0) {
      r = (a + z.intValue()).toString(b).substr(1) + r;
      y.divRemTo(d, y, z);
    }
    return z.intValue().toString(b) + r;
  };
  // BigInteger.prototype.fromRadix = bnpFromRadix;
  // (protected) convert from radix string
  BigInteger.prototype.fromRadix = function (s, b) {
    this.fromInt(0);
    if (b == null) {
      b = 10;
    }
    var cs = this.chunkSize(b);
    var d = Math.pow(b, cs);
    var mi = false;
    var j = 0;
    var w = 0;
    for (var i = 0; i < s.length; ++i) {
      var x = intAt(s, i);
      if (x < 0) {
        if (s.charAt(i) == "-" && this.signum() == 0) {
          mi = true;
        }
        continue;
      }
      w = b * w + x;
      if (++j >= cs) {
        this.dMultiply(d);
        this.dAddOffset(w, 0);
        j = 0;
        w = 0;
      }
    }
    if (j > 0) {
      this.dMultiply(Math.pow(b, j));
      this.dAddOffset(w, 0);
    }
    if (mi) {
      BigInteger.ZERO.subTo(this, this);
    }
  };
  // BigInteger.prototype.fromNumber = bnpFromNumber;
  // (protected) alternate constructor
  BigInteger.prototype.fromNumber = function (a, b, c) {
    if ("number" == typeof b) {
      // new BigInteger(int,int,RNG)
      if (a < 2) {
        this.fromInt(1);
      } else {
        this.fromNumber(a, c);
        if (!this.testBit(a - 1)) {
          // force MSB set
          this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), _util.op_or, this);
        }
        if (this.isEven()) {
          this.dAddOffset(1, 0);
        } // force odd
        while (!this.isProbablePrime(b)) {
          this.dAddOffset(2, 0);
          if (this.bitLength() > a) {
            this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);
          }
        }
      }
    } else {
      // new BigInteger(int,RNG)
      var x = [];
      var t = a & 7;
      x.length = (a >> 3) + 1;
      b.nextBytes(x);
      if (t > 0) {
        x[0] &= (1 << t) - 1;
      } else {
        x[0] = 0;
      }
      this.fromString(x, 256);
    }
  };
  // BigInteger.prototype.bitwiseTo = bnpBitwiseTo;
  // (protected) r = this op a (bitwise)
  BigInteger.prototype.bitwiseTo = function (a, op, r) {
    var i;
    var f;
    var m = Math.min(a.t, this.t);
    for (i = 0; i < m; ++i) {
      r[i] = op(this[i], a[i]);
    }
    if (a.t < this.t) {
      f = a.s & this.DM;
      for (i = m; i < this.t; ++i) {
        r[i] = op(this[i], f);
      }
      r.t = this.t;
    } else {
      f = this.s & this.DM;
      for (i = m; i < a.t; ++i) {
        r[i] = op(f, a[i]);
      }
      r.t = a.t;
    }
    r.s = op(this.s, a.s);
    r.clamp();
  };
  // BigInteger.prototype.changeBit = bnpChangeBit;
  // (protected) this op (1<<n)
  BigInteger.prototype.changeBit = function (n, op) {
    var r = BigInteger.ONE.shiftLeft(n);
    this.bitwiseTo(r, op, r);
    return r;
  };
  // BigInteger.prototype.addTo = bnpAddTo;
  // (protected) r = this + a
  BigInteger.prototype.addTo = function (a, r) {
    var i = 0;
    var c = 0;
    var m = Math.min(a.t, this.t);
    while (i < m) {
      c += this[i] + a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    if (a.t < this.t) {
      c += a.s;
      while (i < this.t) {
        c += this[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += this.s;
    } else {
      c += this.s;
      while (i < a.t) {
        c += a[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += a.s;
    }
    r.s = c < 0 ? -1 : 0;
    if (c > 0) {
      r[i++] = c;
    } else if (c < -1) {
      r[i++] = this.DV + c;
    }
    r.t = i;
    r.clamp();
  };
  // BigInteger.prototype.dMultiply = bnpDMultiply;
  // (protected) this *= n, this >= 0, 1 < n < DV
  BigInteger.prototype.dMultiply = function (n) {
    this[this.t] = this.am(0, n - 1, this, 0, 0, this.t);
    ++this.t;
    this.clamp();
  };
  // BigInteger.prototype.dAddOffset = bnpDAddOffset;
  // (protected) this += n << w words, this >= 0
  BigInteger.prototype.dAddOffset = function (n, w) {
    if (n == 0) {
      return;
    }
    while (this.t <= w) {
      this[this.t++] = 0;
    }
    this[w] += n;
    while (this[w] >= this.DV) {
      this[w] -= this.DV;
      if (++w >= this.t) {
        this[this.t++] = 0;
      }
      ++this[w];
    }
  };
  // BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;
  // (protected) r = lower n words of "this * a", a.t <= n
  // "this" should be the larger one if appropriate.
  BigInteger.prototype.multiplyLowerTo = function (a, n, r) {
    var i = Math.min(this.t + a.t, n);
    r.s = 0; // assumes a,this >= 0
    r.t = i;
    while (i > 0) {
      r[--i] = 0;
    }
    for (var j = r.t - this.t; i < j; ++i) {
      r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);
    }
    for (var j = Math.min(a.t, n); i < j; ++i) {
      this.am(0, a[i], r, i, 0, n - i);
    }
    r.clamp();
  };
  // BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;
  // (protected) r = "this * a" without lower n words, n > 0
  // "this" should be the larger one if appropriate.
  BigInteger.prototype.multiplyUpperTo = function (a, n, r) {
    --n;
    var i = r.t = this.t + a.t - n;
    r.s = 0; // assumes a,this >= 0
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = Math.max(n - this.t, 0); i < a.t; ++i) {
      r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n);
    }
    r.clamp();
    r.drShiftTo(1, r);
  };
  // BigInteger.prototype.modInt = bnpModInt;
  // (protected) this % n, n < 2^26
  BigInteger.prototype.modInt = function (n) {
    if (n <= 0) {
      return 0;
    }
    var d = this.DV % n;
    var r = this.s < 0 ? n - 1 : 0;
    if (this.t > 0) {
      if (d == 0) {
        r = this[0] % n;
      } else {
        for (var i = this.t - 1; i >= 0; --i) {
          r = (d * r + this[i]) % n;
        }
      }
    }
    return r;
  };
  // BigInteger.prototype.millerRabin = bnpMillerRabin;
  // (protected) true if probably prime (HAC 4.24, Miller-Rabin)
  BigInteger.prototype.millerRabin = function (t) {
    var n1 = this.subtract(BigInteger.ONE);
    var k = n1.getLowestSetBit();
    if (k <= 0) {
      return false;
    }
    var r = n1.shiftRight(k);
    t = t + 1 >> 1;
    if (t > lowprimes.length) {
      t = lowprimes.length;
    }
    var a = nbi();
    for (var i = 0; i < t; ++i) {
      // Pick bases at random, instead of starting at 2
      a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);
      var y = a.modPow(r, this);
      if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {
        var j = 1;
        while (j++ < k && y.compareTo(n1) != 0) {
          y = y.modPowInt(2, this);
          if (y.compareTo(BigInteger.ONE) == 0) {
            return false;
          }
        }
        if (y.compareTo(n1) != 0) {
          return false;
        }
      }
    }
    return true;
  };
  // BigInteger.prototype.square = bnSquare;
  // (public) this^2
  BigInteger.prototype.square = function () {
    var r = nbi();
    this.squareTo(r);
    return r;
  };
  //#region ASYNC
  // Public API method
  BigInteger.prototype.gcda = function (a, callback) {
    var x = this.s < 0 ? this.negate() : this.clone();
    var y = a.s < 0 ? a.negate() : a.clone();
    if (x.compareTo(y) < 0) {
      var t = x;
      x = y;
      y = t;
    }
    var i = x.getLowestSetBit();
    var g = y.getLowestSetBit();
    if (g < 0) {
      callback(x);
      return;
    }
    if (i < g) {
      g = i;
    }
    if (g > 0) {
      x.rShiftTo(g, x);
      y.rShiftTo(g, y);
    }
    // Workhorse of the algorithm, gets called 200 - 800 times per 512 bit keygen.
    var gcda1 = function () {
      if ((i = x.getLowestSetBit()) > 0) {
        x.rShiftTo(i, x);
      }
      if ((i = y.getLowestSetBit()) > 0) {
        y.rShiftTo(i, y);
      }
      if (x.compareTo(y) >= 0) {
        x.subTo(y, x);
        x.rShiftTo(1, x);
      } else {
        y.subTo(x, y);
        y.rShiftTo(1, y);
      }
      if (!(x.signum() > 0)) {
        if (g > 0) {
          y.lShiftTo(g, y);
        }
        setTimeout(function () {
          callback(y);
        }, 0); // escape
      } else {
        setTimeout(gcda1, 0);
      }
    };
    setTimeout(gcda1, 10);
  };
  // (protected) alternate constructor
  BigInteger.prototype.fromNumberAsync = function (a, b, c, callback) {
    if ("number" == typeof b) {
      if (a < 2) {
        this.fromInt(1);
      } else {
        this.fromNumber(a, c);
        if (!this.testBit(a - 1)) {
          this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), _util.op_or, this);
        }
        if (this.isEven()) {
          this.dAddOffset(1, 0);
        }
        var bnp_1 = this;
        var bnpfn1_1 = function () {
          bnp_1.dAddOffset(2, 0);
          if (bnp_1.bitLength() > a) {
            bnp_1.subTo(BigInteger.ONE.shiftLeft(a - 1), bnp_1);
          }
          if (bnp_1.isProbablePrime(b)) {
            setTimeout(function () {
              callback();
            }, 0); // escape
          } else {
            setTimeout(bnpfn1_1, 0);
          }
        };
        setTimeout(bnpfn1_1, 0);
      }
    } else {
      var x = [];
      var t = a & 7;
      x.length = (a >> 3) + 1;
      b.nextBytes(x);
      if (t > 0) {
        x[0] &= (1 << t) - 1;
      } else {
        x[0] = 0;
      }
      this.fromString(x, 256);
    }
  };
  return BigInteger;
}();
//#region REDUCERS
//#region NullExp
var NullExp = /** @class */function () {
  function NullExp() {}
  // NullExp.prototype.convert = nNop;
  NullExp.prototype.convert = function (x) {
    return x;
  };
  // NullExp.prototype.revert = nNop;
  NullExp.prototype.revert = function (x) {
    return x;
  };
  // NullExp.prototype.mulTo = nMulTo;
  NullExp.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
  };
  // NullExp.prototype.sqrTo = nSqrTo;
  NullExp.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
  };
  return NullExp;
}();
// Modular reduction using "classic" algorithm
var Classic = /** @class */function () {
  function Classic(m) {
    this.m = m;
  }
  // Classic.prototype.convert = cConvert;
  Classic.prototype.convert = function (x) {
    if (x.s < 0 || x.compareTo(this.m) >= 0) {
      return x.mod(this.m);
    } else {
      return x;
    }
  };
  // Classic.prototype.revert = cRevert;
  Classic.prototype.revert = function (x) {
    return x;
  };
  // Classic.prototype.reduce = cReduce;
  Classic.prototype.reduce = function (x) {
    x.divRemTo(this.m, null, x);
  };
  // Classic.prototype.mulTo = cMulTo;
  Classic.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  // Classic.prototype.sqrTo = cSqrTo;
  Classic.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Classic;
}();
//#endregion
//#region Montgomery
// Montgomery reduction
var Montgomery = /** @class */function () {
  function Montgomery(m) {
    this.m = m;
    this.mp = m.invDigit();
    this.mpl = this.mp & 0x7fff;
    this.mph = this.mp >> 15;
    this.um = (1 << m.DB - 15) - 1;
    this.mt2 = 2 * m.t;
  }
  // Montgomery.prototype.convert = montConvert;
  // xR mod m
  Montgomery.prototype.convert = function (x) {
    var r = nbi();
    x.abs().dlShiftTo(this.m.t, r);
    r.divRemTo(this.m, null, r);
    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {
      this.m.subTo(r, r);
    }
    return r;
  };
  // Montgomery.prototype.revert = montRevert;
  // x/R mod m
  Montgomery.prototype.revert = function (x) {
    var r = nbi();
    x.copyTo(r);
    this.reduce(r);
    return r;
  };
  // Montgomery.prototype.reduce = montReduce;
  // x = x/R mod m (HAC 14.32)
  Montgomery.prototype.reduce = function (x) {
    while (x.t <= this.mt2) {
      // pad x so am has enough room later
      x[x.t++] = 0;
    }
    for (var i = 0; i < this.m.t; ++i) {
      // faster way of calculating u0 = x[i]*mp mod DV
      var j = x[i] & 0x7fff;
      var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;
      // use am to combine the multiply-shift-add into one call
      j = i + this.m.t;
      x[j] += this.m.am(0, u0, x, i, 0, this.m.t);
      // propagate carry
      while (x[j] >= x.DV) {
        x[j] -= x.DV;
        x[++j]++;
      }
    }
    x.clamp();
    x.drShiftTo(this.m.t, x);
    if (x.compareTo(this.m) >= 0) {
      x.subTo(this.m, x);
    }
  };
  // Montgomery.prototype.mulTo = montMulTo;
  // r = "xy/R mod m"; x,y != r
  Montgomery.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  // Montgomery.prototype.sqrTo = montSqrTo;
  // r = "x^2/R mod m"; x != r
  Montgomery.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Montgomery;
}();
//#endregion Montgomery
//#region Barrett
// Barrett modular reduction
var Barrett = /** @class */function () {
  function Barrett(m) {
    this.m = m;
    // setup Barrett
    this.r2 = nbi();
    this.q3 = nbi();
    BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);
    this.mu = this.r2.divide(m);
  }
  // Barrett.prototype.convert = barrettConvert;
  Barrett.prototype.convert = function (x) {
    if (x.s < 0 || x.t > 2 * this.m.t) {
      return x.mod(this.m);
    } else if (x.compareTo(this.m) < 0) {
      return x;
    } else {
      var r = nbi();
      x.copyTo(r);
      this.reduce(r);
      return r;
    }
  };
  // Barrett.prototype.revert = barrettRevert;
  Barrett.prototype.revert = function (x) {
    return x;
  };
  // Barrett.prototype.reduce = barrettReduce;
  // x = x mod m (HAC 14.42)
  Barrett.prototype.reduce = function (x) {
    x.drShiftTo(this.m.t - 1, this.r2);
    if (x.t > this.m.t + 1) {
      x.t = this.m.t + 1;
      x.clamp();
    }
    this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);
    this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);
    while (x.compareTo(this.r2) < 0) {
      x.dAddOffset(1, this.m.t + 1);
    }
    x.subTo(this.r2, x);
    while (x.compareTo(this.m) >= 0) {
      x.subTo(this.m, x);
    }
  };
  // Barrett.prototype.mulTo = barrettMulTo;
  // r = x*y mod m; x,y != r
  Barrett.prototype.mulTo = function (x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  // Barrett.prototype.sqrTo = barrettSqrTo;
  // r = x^2 mod m; x != r
  Barrett.prototype.sqrTo = function (x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Barrett;
}();
//#endregion
//#endregion REDUCERS
// return new, unset BigInteger
function nbi() {
  return new BigInteger(null);
}
function parseBigInt(str, r) {
  return new BigInteger(str, r);
}
// am: Compute w_j += (x*this_i), propagate carries,
// c is initial carry, returns final carry.
// c < 3*dvalue, x < 2*dvalue, this_i < dvalue
// We need to select the fastest one that works in this environment.
var inBrowser = typeof navigator !== "undefined";
if (inBrowser && j_lm && navigator.appName == "Microsoft Internet Explorer") {
  // am2 avoids a big mult-and-extract completely.
  // Max digit bits should be <= 30 because we do bitwise ops
  // on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)
  BigInteger.prototype.am = function am2(i, x, w, j, c, n) {
    var xl = x & 0x7fff;
    var xh = x >> 15;
    while (--n >= 0) {
      var l = this[i] & 0x7fff;
      var h = this[i++] >> 15;
      var m = xh * l + h * xl;
      l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);
      c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);
      w[j++] = l & 0x3fffffff;
    }
    return c;
  };
  dbits = 30;
} else if (inBrowser && j_lm && navigator.appName != "Netscape") {
  // am1: use a single mult and divide to get the high bits,
  // max digit bits should be 26 because
  // max internal value = 2*dvalue^2-2*dvalue (< 2^53)
  BigInteger.prototype.am = function am1(i, x, w, j, c, n) {
    while (--n >= 0) {
      var v = x * this[i++] + w[j] + c;
      c = Math.floor(v / 0x4000000);
      w[j++] = v & 0x3ffffff;
    }
    return c;
  };
  dbits = 26;
} else {
  // Mozilla/Netscape seems to prefer am3
  // Alternately, set max digit bits to 28 since some
  // browsers slow down when dealing with 32-bit numbers.
  BigInteger.prototype.am = function am3(i, x, w, j, c, n) {
    var xl = x & 0x3fff;
    var xh = x >> 14;
    while (--n >= 0) {
      var l = this[i] & 0x3fff;
      var h = this[i++] >> 14;
      var m = xh * l + h * xl;
      l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;
      c = (l >> 28) + (m >> 14) + xh * h;
      w[j++] = l & 0xfffffff;
    }
    return c;
  };
  dbits = 28;
}
BigInteger.prototype.DB = dbits;
BigInteger.prototype.DM = (1 << dbits) - 1;
BigInteger.prototype.DV = 1 << dbits;
var BI_FP = 52;
BigInteger.prototype.FV = Math.pow(2, BI_FP);
BigInteger.prototype.F1 = BI_FP - dbits;
BigInteger.prototype.F2 = 2 * dbits - BI_FP;
// Digit conversions
var BI_RC = [];
var rr;
var vv;
rr = "0".charCodeAt(0);
for (vv = 0; vv <= 9; ++vv) {
  BI_RC[rr++] = vv;
}
rr = "a".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) {
  BI_RC[rr++] = vv;
}
rr = "A".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) {
  BI_RC[rr++] = vv;
}
function intAt(s, i) {
  var c = BI_RC[s.charCodeAt(i)];
  return c == null ? -1 : c;
}
// return bigint initialized to value
function nbv(i) {
  var r = nbi();
  r.fromInt(i);
  return r;
}
// returns bit length of the integer x
function nbits(x) {
  var r = 1;
  var t;
  if ((t = x >>> 16) != 0) {
    x = t;
    r += 16;
  }
  if ((t = x >> 8) != 0) {
    x = t;
    r += 8;
  }
  if ((t = x >> 4) != 0) {
    x = t;
    r += 4;
  }
  if ((t = x >> 2) != 0) {
    x = t;
    r += 2;
  }
  if ((t = x >> 1) != 0) {
    x = t;
    r += 1;
  }
  return r;
}
// "constants"
BigInteger.ZERO = nbv(0);
BigInteger.ONE = nbv(1);

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/prng4.js":
/*!*********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/prng4.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Arcfour = void 0;
exports.prng_newstate = prng_newstate;
exports.rng_psize = void 0;
// prng4.js - uses Arcfour as a PRNG
var Arcfour = exports.Arcfour = /** @class */function () {
  function Arcfour() {
    this.i = 0;
    this.j = 0;
    this.S = [];
  }
  // Arcfour.prototype.init = ARC4init;
  // Initialize arcfour context from key, an array of ints, each from [0..255]
  Arcfour.prototype.init = function (key) {
    var i;
    var j;
    var t;
    for (i = 0; i < 256; ++i) {
      this.S[i] = i;
    }
    j = 0;
    for (i = 0; i < 256; ++i) {
      j = j + this.S[i] + key[i % key.length] & 255;
      t = this.S[i];
      this.S[i] = this.S[j];
      this.S[j] = t;
    }
    this.i = 0;
    this.j = 0;
  };
  // Arcfour.prototype.next = ARC4next;
  Arcfour.prototype.next = function () {
    var t;
    this.i = this.i + 1 & 255;
    this.j = this.j + this.S[this.i] & 255;
    t = this.S[this.i];
    this.S[this.i] = this.S[this.j];
    this.S[this.j] = t;
    return this.S[t + this.S[this.i] & 255];
  };
  return Arcfour;
}();
// Plug in your RNG constructor here
function prng_newstate() {
  return new Arcfour();
}
// Pool size must be a multiple of 4 and greater than 32.
// An array of bytes the size of the pool will be passed to init()
var rng_psize = exports.rng_psize = 256;

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rng.js":
/*!*******************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/rng.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.SecureRandom = void 0;
var _prng = __webpack_require__(/*! ./prng4 */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/prng4.js");
// Random number generator - requires a PRNG backend, e.g. prng4.js

var rng_state;
var rng_pool = null;
var rng_pptr;
// Initialize the pool with junk if needed.
if (rng_pool == null) {
  rng_pool = [];
  rng_pptr = 0;
  var t = void 0;
  if (typeof window !== 'undefined' && window.crypto && window.crypto.getRandomValues) {
    // Extract entropy (2048 bits) from RNG if available
    var z = new Uint32Array(256);
    window.crypto.getRandomValues(z);
    for (t = 0; t < z.length; ++t) {
      rng_pool[rng_pptr++] = z[t] & 255;
    }
  }
  // Use mouse events for entropy, if we do not have enough entropy by the time
  // we need it, entropy will be generated by Math.random.
  var count = 0;
  var onMouseMoveListener_1 = function (ev) {
    count = count || 0;
    if (count >= 256 || rng_pptr >= _prng.rng_psize) {
      if (window.removeEventListener) {
        window.removeEventListener("mousemove", onMouseMoveListener_1, false);
      } else if (window.detachEvent) {
        window.detachEvent("onmousemove", onMouseMoveListener_1);
      }
      return;
    }
    try {
      var mouseCoordinates = ev.x + ev.y;
      rng_pool[rng_pptr++] = mouseCoordinates & 255;
      count += 1;
    } catch (e) {
      // Sometimes Firefox will deny permission to access event properties for some reason. Ignore.
    }
  };
  if (typeof window !== 'undefined') {
    if (window.addEventListener) {
      window.addEventListener("mousemove", onMouseMoveListener_1, false);
    } else if (window.attachEvent) {
      window.attachEvent("onmousemove", onMouseMoveListener_1);
    }
  }
}
function rng_get_byte() {
  if (rng_state == null) {
    rng_state = (0, _prng.prng_newstate)();
    // At this point, we may not have collected enough entropy.  If not, fall back to Math.random
    while (rng_pptr < _prng.rng_psize) {
      var random = Math.floor(65536 * Math.random());
      rng_pool[rng_pptr++] = random & 255;
    }
    rng_state.init(rng_pool);
    for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) {
      rng_pool[rng_pptr] = 0;
    }
    rng_pptr = 0;
  }
  // TODO: allow reseeding after first request
  return rng_state.next();
}
var SecureRandom = exports.SecureRandom = /** @class */function () {
  function SecureRandom() {}
  SecureRandom.prototype.nextBytes = function (ba) {
    for (var i = 0; i < ba.length; ++i) {
      ba[i] = rng_get_byte();
    }
  };
  return SecureRandom;
}();

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rsa.js":
/*!*******************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/rsa.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.RSAKey = void 0;
var _jsbn = __webpack_require__(/*! ./jsbn */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js");
var _rng = __webpack_require__(/*! ./rng */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/rng.js");
// Depends on jsbn.js and rng.js
// Version 1.1: support utf-8 encoding in pkcs1pad2
// convert a (hex) string to a bignum object

// function linebrk(s,n) {
//   var ret = "";
//   var i = 0;
//   while(i + n < s.length) {
//     ret += s.substring(i,i+n) + "\n";
//     i += n;
//   }
//   return ret + s.substring(i,s.length);
// }
// function byte2Hex(b) {
//   if(b < 0x10)
//     return "0" + b.toString(16);
//   else
//     return b.toString(16);
// }
function pkcs1pad1(s, n) {
  if (n < s.length + 22) {
    console.error("Message too long for RSA");
    return null;
  }
  var len = n - s.length - 6;
  var filler = "";
  for (var f = 0; f < len; f += 2) {
    filler += "ff";
  }
  var m = "0001" + filler + "00" + s;
  return (0, _jsbn.parseBigInt)(m, 16);
}
// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint
function pkcs1pad2(s, n) {
  if (n < s.length + 11) {
    // TODO: fix for utf-8
    console.error("Message too long for RSA");
    return null;
  }
  var ba = [];
  var i = s.length - 1;
  while (i >= 0 && n > 0) {
    var c = s.charCodeAt(i--);
    if (c < 128) {
      // encode using utf-8
      ba[--n] = c;
    } else if (c > 127 && c < 2048) {
      ba[--n] = c & 63 | 128;
      ba[--n] = c >> 6 | 192;
    } else {
      ba[--n] = c & 63 | 128;
      ba[--n] = c >> 6 & 63 | 128;
      ba[--n] = c >> 12 | 224;
    }
  }
  ba[--n] = 0;
  var rng = new _rng.SecureRandom();
  var x = [];
  while (n > 2) {
    // random non-zero pad
    x[0] = 0;
    while (x[0] == 0) {
      rng.nextBytes(x);
    }
    ba[--n] = x[0];
  }
  ba[--n] = 2;
  ba[--n] = 0;
  return new _jsbn.BigInteger(ba);
}
// "empty" RSA key constructor
var RSAKey = exports.RSAKey = /** @class */function () {
  function RSAKey() {
    this.n = null;
    this.e = 0;
    this.d = null;
    this.p = null;
    this.q = null;
    this.dmp1 = null;
    this.dmq1 = null;
    this.coeff = null;
  }
  //#region PROTECTED
  // protected
  // RSAKey.prototype.doPublic = RSADoPublic;
  // Perform raw public operation on "x": return x^e (mod n)
  RSAKey.prototype.doPublic = function (x) {
    return x.modPowInt(this.e, this.n);
  };
  // RSAKey.prototype.doPrivate = RSADoPrivate;
  // Perform raw private operation on "x": return x^d (mod n)
  RSAKey.prototype.doPrivate = function (x) {
    if (this.p == null || this.q == null) {
      return x.modPow(this.d, this.n);
    }
    // TODO: re-calculate any missing CRT params
    var xp = x.mod(this.p).modPow(this.dmp1, this.p);
    var xq = x.mod(this.q).modPow(this.dmq1, this.q);
    while (xp.compareTo(xq) < 0) {
      xp = xp.add(this.p);
    }
    return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);
  };
  //#endregion PROTECTED
  //#region PUBLIC
  // RSAKey.prototype.setPublic = RSASetPublic;
  // Set the public key fields N and e from hex strings
  RSAKey.prototype.setPublic = function (N, E) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = (0, _jsbn.parseBigInt)(N, 16);
      this.e = parseInt(E, 16);
    } else {
      console.error("Invalid RSA public key");
    }
  };
  // RSAKey.prototype.encrypt = RSAEncrypt;
  // Return the PKCS#1 RSA encryption of "text" as an even-length hex string
  RSAKey.prototype.encrypt = function (text) {
    var maxLength = this.n.bitLength() + 7 >> 3;
    var m = pkcs1pad2(text, maxLength);
    if (m == null) {
      return null;
    }
    var c = this.doPublic(m);
    if (c == null) {
      return null;
    }
    var h = c.toString(16);
    var length = h.length;
    // fix zero before result
    for (var i = 0; i < maxLength * 2 - length; i++) {
      h = "0" + h;
    }
    return h;
  };
  // RSAKey.prototype.setPrivate = RSASetPrivate;
  // Set the private key fields N, e, and d from hex strings
  RSAKey.prototype.setPrivate = function (N, E, D) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = (0, _jsbn.parseBigInt)(N, 16);
      this.e = parseInt(E, 16);
      this.d = (0, _jsbn.parseBigInt)(D, 16);
    } else {
      console.error("Invalid RSA private key");
    }
  };
  // RSAKey.prototype.setPrivateEx = RSASetPrivateEx;
  // Set the private key fields N, e, d and CRT params from hex strings
  RSAKey.prototype.setPrivateEx = function (N, E, D, P, Q, DP, DQ, C) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = (0, _jsbn.parseBigInt)(N, 16);
      this.e = parseInt(E, 16);
      this.d = (0, _jsbn.parseBigInt)(D, 16);
      this.p = (0, _jsbn.parseBigInt)(P, 16);
      this.q = (0, _jsbn.parseBigInt)(Q, 16);
      this.dmp1 = (0, _jsbn.parseBigInt)(DP, 16);
      this.dmq1 = (0, _jsbn.parseBigInt)(DQ, 16);
      this.coeff = (0, _jsbn.parseBigInt)(C, 16);
    } else {
      console.error("Invalid RSA private key");
    }
  };
  // RSAKey.prototype.generate = RSAGenerate;
  // Generate a new random private key B bits long, using public expt E
  RSAKey.prototype.generate = function (B, E) {
    var rng = new _rng.SecureRandom();
    var qs = B >> 1;
    this.e = parseInt(E, 16);
    var ee = new _jsbn.BigInteger(E, 16);
    for (;;) {
      for (;;) {
        this.p = new _jsbn.BigInteger(B - qs, 1, rng);
        if (this.p.subtract(_jsbn.BigInteger.ONE).gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) {
          break;
        }
      }
      for (;;) {
        this.q = new _jsbn.BigInteger(qs, 1, rng);
        if (this.q.subtract(_jsbn.BigInteger.ONE).gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) {
          break;
        }
      }
      if (this.p.compareTo(this.q) <= 0) {
        var t = this.p;
        this.p = this.q;
        this.q = t;
      }
      var p1 = this.p.subtract(_jsbn.BigInteger.ONE);
      var q1 = this.q.subtract(_jsbn.BigInteger.ONE);
      var phi = p1.multiply(q1);
      if (phi.gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0) {
        this.n = this.p.multiply(this.q);
        this.d = ee.modInverse(phi);
        this.dmp1 = this.d.mod(p1);
        this.dmq1 = this.d.mod(q1);
        this.coeff = this.q.modInverse(this.p);
        break;
      }
    }
  };
  // RSAKey.prototype.decrypt = RSADecrypt;
  // Return the PKCS#1 RSA decryption of "ctext".
  // "ctext" is an even-length hex string and the output is a plain string.
  RSAKey.prototype.decrypt = function (ctext) {
    var c = (0, _jsbn.parseBigInt)(ctext, 16);
    var m = this.doPrivate(c);
    if (m == null) {
      return null;
    }
    return pkcs1unpad2(m, this.n.bitLength() + 7 >> 3);
  };
  // Generate a new random private key B bits long, using public expt E
  RSAKey.prototype.generateAsync = function (B, E, callback) {
    var rng = new _rng.SecureRandom();
    var qs = B >> 1;
    this.e = parseInt(E, 16);
    var ee = new _jsbn.BigInteger(E, 16);
    var rsa = this;
    // These functions have non-descript names because they were originally for(;;) loops.
    // I don't know about cryptography to give them better names than loop1-4.
    var loop1 = function () {
      var loop4 = function () {
        if (rsa.p.compareTo(rsa.q) <= 0) {
          var t = rsa.p;
          rsa.p = rsa.q;
          rsa.q = t;
        }
        var p1 = rsa.p.subtract(_jsbn.BigInteger.ONE);
        var q1 = rsa.q.subtract(_jsbn.BigInteger.ONE);
        var phi = p1.multiply(q1);
        if (phi.gcd(ee).compareTo(_jsbn.BigInteger.ONE) == 0) {
          rsa.n = rsa.p.multiply(rsa.q);
          rsa.d = ee.modInverse(phi);
          rsa.dmp1 = rsa.d.mod(p1);
          rsa.dmq1 = rsa.d.mod(q1);
          rsa.coeff = rsa.q.modInverse(rsa.p);
          setTimeout(function () {
            callback();
          }, 0); // escape
        } else {
          setTimeout(loop1, 0);
        }
      };
      var loop3 = function () {
        rsa.q = (0, _jsbn.nbi)();
        rsa.q.fromNumberAsync(qs, 1, rng, function () {
          rsa.q.subtract(_jsbn.BigInteger.ONE).gcda(ee, function (r) {
            if (r.compareTo(_jsbn.BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {
              setTimeout(loop4, 0);
            } else {
              setTimeout(loop3, 0);
            }
          });
        });
      };
      var loop2 = function () {
        rsa.p = (0, _jsbn.nbi)();
        rsa.p.fromNumberAsync(B - qs, 1, rng, function () {
          rsa.p.subtract(_jsbn.BigInteger.ONE).gcda(ee, function (r) {
            if (r.compareTo(_jsbn.BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {
              setTimeout(loop3, 0);
            } else {
              setTimeout(loop2, 0);
            }
          });
        });
      };
      setTimeout(loop2, 0);
    };
    setTimeout(loop1, 0);
  };
  RSAKey.prototype.sign = function (text, digestMethod, digestName) {
    var header = getDigestHeader(digestName);
    var digest = header + digestMethod(text).toString();
    var m = pkcs1pad1(digest, this.n.bitLength() / 4);
    if (m == null) {
      return null;
    }
    var c = this.doPrivate(m);
    if (c == null) {
      return null;
    }
    var h = c.toString(16);
    if ((h.length & 1) == 0) {
      return h;
    } else {
      return "0" + h;
    }
  };
  RSAKey.prototype.verify = function (text, signature, digestMethod) {
    var c = (0, _jsbn.parseBigInt)(signature, 16);
    var m = this.doPublic(c);
    if (m == null) {
      return null;
    }
    var unpadded = m.toString(16).replace(/^1f+00/, "");
    var digest = removeDigestHeader(unpadded);
    return digest == digestMethod(text).toString();
  };
  return RSAKey;
}();
// Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext
function pkcs1unpad2(d, n) {
  var b = d.toByteArray();
  var i = 0;
  while (i < b.length && b[i] == 0) {
    ++i;
  }
  if (b.length - i != n - 1 || b[i] != 2) {
    return null;
  }
  ++i;
  while (b[i] != 0) {
    if (++i >= b.length) {
      return null;
    }
  }
  var ret = "";
  while (++i < b.length) {
    var c = b[i] & 255;
    if (c < 128) {
      // utf-8 decode
      ret += String.fromCharCode(c);
    } else if (c > 191 && c < 224) {
      ret += String.fromCharCode((c & 31) << 6 | b[i + 1] & 63);
      ++i;
    } else {
      ret += String.fromCharCode((c & 15) << 12 | (b[i + 1] & 63) << 6 | b[i + 2] & 63);
      i += 2;
    }
  }
  return ret;
}
// https://tools.ietf.org/html/rfc3447#page-43
var DIGEST_HEADERS = {
  md2: "3020300c06082a864886f70d020205000410",
  md5: "3020300c06082a864886f70d020505000410",
  sha1: "3021300906052b0e03021a05000414",
  sha224: "302d300d06096086480165030402040500041c",
  sha256: "3031300d060960864801650304020105000420",
  sha384: "3041300d060960864801650304020205000430",
  sha512: "3051300d060960864801650304020305000440",
  ripemd160: "3021300906052b2403020105000414"
};
function getDigestHeader(name) {
  return DIGEST_HEADERS[name] || "";
}
function removeDigestHeader(str) {
  for (var name_1 in DIGEST_HEADERS) {
    if (DIGEST_HEADERS.hasOwnProperty(name_1)) {
      var header = DIGEST_HEADERS[name_1];
      var len = header.length;
      if (str.substr(0, len) == header) {
        return str.substr(len);
      }
    }
  }
  return str;
}
// Return the PKCS#1 RSA encryption of "text" as a Base64-encoded string
// function RSAEncryptB64(text) {
//  var h = this.encrypt(text);
//  if(h) return hex2b64(h); else return null;
// }
// public
// RSAKey.prototype.encrypt_b64 = RSAEncryptB64;

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js":
/*!********************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsbn/util.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.cbit = cbit;
exports.int2char = int2char;
exports.lbit = lbit;
exports.op_and = op_and;
exports.op_andnot = op_andnot;
exports.op_or = op_or;
exports.op_xor = op_xor;
var BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz";
function int2char(n) {
  return BI_RM.charAt(n);
}
//#region BIT_OPERATIONS
// (public) this & a
function op_and(x, y) {
  return x & y;
}
// (public) this | a
function op_or(x, y) {
  return x | y;
}
// (public) this ^ a
function op_xor(x, y) {
  return x ^ y;
}
// (public) this & ~a
function op_andnot(x, y) {
  return x & ~y;
}
// return index of lowest 1-bit in x, x < 2^31
function lbit(x) {
  if (x == 0) {
    return -1;
  }
  var r = 0;
  if ((x & 0xffff) == 0) {
    x >>= 16;
    r += 16;
  }
  if ((x & 0xff) == 0) {
    x >>= 8;
    r += 8;
  }
  if ((x & 0xf) == 0) {
    x >>= 4;
    r += 4;
  }
  if ((x & 3) == 0) {
    x >>= 2;
    r += 2;
  }
  if ((x & 1) == 0) {
    ++r;
  }
  return r;
}
// return number of 1 bits in x
function cbit(x) {
  var r = 0;
  while (x != 0) {
    x &= x - 1;
    ++r;
  }
  return r;
}
//#endregion BIT_OPERATIONS

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/asn1-1.0.js":
/*!*****************************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsrsasign/asn1-1.0.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.KJUR = void 0;
var _jsbn = __webpack_require__(/*! ../jsbn/jsbn */ "./src/Common/libs/jsencrypt/lib/lib/jsbn/jsbn.js");
var _yahoo = __webpack_require__(/*! ./yahoo */ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/yahoo.js");
/* asn1-1.0.13.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
/*
 * asn1.js - ASN.1 DER encoder classes
 *
 * Copyright (c) 2013-2017 Kenji Urushima (kenji.urushima@gmail.com)
 *
 * This software is licensed under the terms of the MIT License.
 * https://kjur.github.io/jsrsasign/license
 *
 * The above copyright and license notice shall be
 * included in all copies or substantial portions of the Software.
 */

/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
/**
 * kjur's class library name space
 * <p>
 * This name space provides following name spaces:
 * <ul>
 * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>
 * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>
 * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature
 * class and utilities</li>
 * </ul>
 * </p>
 * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.
 * @name KJUR
 * @namespace kjur's class library name space
 */
var KJUR = exports.KJUR = {};
/**
 * kjur's ASN.1 class library name space
 * <p>
 * This is ITU-T X.690 ASN.1 DER encoder class library and
 * class structure and methods is very similar to
 * org.bouncycastle.asn1 package of
 * well known BouncyCaslte Cryptography Library.
 * <h4>PROVIDING ASN.1 PRIMITIVES</h4>
 * Here are ASN.1 DER primitive classes.
 * <ul>
 * <li>0x01 {@link KJUR.asn1.DERBoolean}</li>
 * <li>0x02 {@link KJUR.asn1.DERInteger}</li>
 * <li>0x03 {@link KJUR.asn1.DERBitString}</li>
 * <li>0x04 {@link KJUR.asn1.DEROctetString}</li>
 * <li>0x05 {@link KJUR.asn1.DERNull}</li>
 * <li>0x06 {@link KJUR.asn1.DERObjectIdentifier}</li>
 * <li>0x0a {@link KJUR.asn1.DEREnumerated}</li>
 * <li>0x0c {@link KJUR.asn1.DERUTF8String}</li>
 * <li>0x12 {@link KJUR.asn1.DERNumericString}</li>
 * <li>0x13 {@link KJUR.asn1.DERPrintableString}</li>
 * <li>0x14 {@link KJUR.asn1.DERTeletexString}</li>
 * <li>0x16 {@link KJUR.asn1.DERIA5String}</li>
 * <li>0x17 {@link KJUR.asn1.DERUTCTime}</li>
 * <li>0x18 {@link KJUR.asn1.DERGeneralizedTime}</li>
 * <li>0x30 {@link KJUR.asn1.DERSequence}</li>
 * <li>0x31 {@link KJUR.asn1.DERSet}</li>
 * </ul>
 * <h4>OTHER ASN.1 CLASSES</h4>
 * <ul>
 * <li>{@link KJUR.asn1.ASN1Object}</li>
 * <li>{@link KJUR.asn1.DERAbstractString}</li>
 * <li>{@link KJUR.asn1.DERAbstractTime}</li>
 * <li>{@link KJUR.asn1.DERAbstractStructured}</li>
 * <li>{@link KJUR.asn1.DERTaggedObject}</li>
 * </ul>
 * <h4>SUB NAME SPACES</h4>
 * <ul>
 * <li>{@link KJUR.asn1.cades} - CAdES long term signature format</li>
 * <li>{@link KJUR.asn1.cms} - Cryptographic Message Syntax</li>
 * <li>{@link KJUR.asn1.csr} - Certificate Signing Request (CSR/PKCS#10)</li>
 * <li>{@link KJUR.asn1.tsp} - RFC 3161 Timestamping Protocol Format</li>
 * <li>{@link KJUR.asn1.x509} - RFC 5280 X.509 certificate and CRL</li>
 * </ul>
 * </p>
 * NOTE: Please ignore method summary and document of this namespace.
 * This caused by a bug of jsdoc2.
 * @name KJUR.asn1
 * @namespace
 */
if (typeof KJUR.asn1 == "undefined" || !KJUR.asn1) KJUR.asn1 = {};
/**
 * ASN1 utilities class
 * @name KJUR.asn1.ASN1Util
 * @class ASN1 utilities class
 * @since asn1 1.0.2
 */
KJUR.asn1.ASN1Util = new function () {
  this.integerToByteHex = function (i) {
    var h = i.toString(16);
    if (h.length % 2 == 1) h = '0' + h;
    return h;
  };
  this.bigIntToMinTwosComplementsHex = function (bigIntegerValue) {
    var h = bigIntegerValue.toString(16);
    if (h.substr(0, 1) != '-') {
      if (h.length % 2 == 1) {
        h = '0' + h;
      } else {
        if (!h.match(/^[0-7]/)) {
          h = '00' + h;
        }
      }
    } else {
      var hPos = h.substr(1);
      var xorLen = hPos.length;
      if (xorLen % 2 == 1) {
        xorLen += 1;
      } else {
        if (!h.match(/^[0-7]/)) {
          xorLen += 2;
        }
      }
      var hMask = '';
      for (var i = 0; i < xorLen; i++) {
        hMask += 'f';
      }
      var biMask = new _jsbn.BigInteger(hMask, 16);
      var biNeg = biMask.xor(bigIntegerValue).add(_jsbn.BigInteger.ONE);
      h = biNeg.toString(16).replace(/^-/, '');
    }
    return h;
  };
  /**
   * get PEM string from hexadecimal data and header string
   * @name getPEMStringFromHex
   * @memberOf KJUR.asn1.ASN1Util
   * @function
   * @param {String} dataHex hexadecimal string of PEM body
   * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')
   * @return {String} PEM formatted string of input data
   * @description
   * This method converts a hexadecimal string to a PEM string with
   * a specified header. Its line break will be CRLF("\r\n").
   * @example
   * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');
   * // value of pem will be:
   * -----BEGIN PRIVATE KEY-----
   * YWFh
   * -----END PRIVATE KEY-----
   */
  this.getPEMStringFromHex = function (dataHex, pemHeader) {
    return hextopem(dataHex, pemHeader);
  };
  /**
   * generate ASN1Object specifed by JSON parameters
   * @name newObject
   * @memberOf KJUR.asn1.ASN1Util
   * @function
   * @param {Array} param JSON parameter to generate ASN1Object
   * @return {KJUR.asn1.ASN1Object} generated object
   * @since asn1 1.0.3
   * @description
   * generate any ASN1Object specified by JSON param
   * including ASN.1 primitive or structured.
   * Generally 'param' can be described as follows:
   * <blockquote>
   * {TYPE-OF-ASNOBJ: ASN1OBJ-PARAMETER}
   * </blockquote>
   * 'TYPE-OF-ASN1OBJ' can be one of following symbols:
   * <ul>
   * <li>'bool' - DERBoolean</li>
   * <li>'int' - DERInteger</li>
   * <li>'bitstr' - DERBitString</li>
   * <li>'octstr' - DEROctetString</li>
   * <li>'null' - DERNull</li>
   * <li>'oid' - DERObjectIdentifier</li>
   * <li>'enum' - DEREnumerated</li>
   * <li>'utf8str' - DERUTF8String</li>
   * <li>'numstr' - DERNumericString</li>
   * <li>'prnstr' - DERPrintableString</li>
   * <li>'telstr' - DERTeletexString</li>
   * <li>'ia5str' - DERIA5String</li>
   * <li>'utctime' - DERUTCTime</li>
   * <li>'gentime' - DERGeneralizedTime</li>
   * <li>'seq' - DERSequence</li>
   * <li>'set' - DERSet</li>
   * <li>'tag' - DERTaggedObject</li>
   * </ul>
   * @example
   * newObject({'prnstr': 'aaa'});
   * newObject({'seq': [{'int': 3}, {'prnstr': 'aaa'}]})
   * // ASN.1 Tagged Object
   * newObject({'tag': {'tag': 'a1',
   *                    'explicit': true,
   *                    'obj': {'seq': [{'int': 3}, {'prnstr': 'aaa'}]}}});
   * // more simple representation of ASN.1 Tagged Object
   * newObject({'tag': ['a1',
   *                    true,
   *                    {'seq': [
   *                      {'int': 3},
   *                      {'prnstr': 'aaa'}]}
   *                   ]});
   */
  this.newObject = function (param) {
    var _KJUR = KJUR,
      _KJUR_asn1 = _KJUR.asn1,
      _DERBoolean = _KJUR_asn1.DERBoolean,
      _DERInteger = _KJUR_asn1.DERInteger,
      _DERBitString = _KJUR_asn1.DERBitString,
      _DEROctetString = _KJUR_asn1.DEROctetString,
      _DERNull = _KJUR_asn1.DERNull,
      _DERObjectIdentifier = _KJUR_asn1.DERObjectIdentifier,
      _DEREnumerated = _KJUR_asn1.DEREnumerated,
      _DERUTF8String = _KJUR_asn1.DERUTF8String,
      _DERNumericString = _KJUR_asn1.DERNumericString,
      _DERPrintableString = _KJUR_asn1.DERPrintableString,
      _DERTeletexString = _KJUR_asn1.DERTeletexString,
      _DERIA5String = _KJUR_asn1.DERIA5String,
      _DERUTCTime = _KJUR_asn1.DERUTCTime,
      _DERGeneralizedTime = _KJUR_asn1.DERGeneralizedTime,
      _DERSequence = _KJUR_asn1.DERSequence,
      _DERSet = _KJUR_asn1.DERSet,
      _DERTaggedObject = _KJUR_asn1.DERTaggedObject,
      _newObject = _KJUR_asn1.ASN1Util.newObject;
    var keys = Object.keys(param);
    if (keys.length != 1) throw "key of param shall be only one.";
    var key = keys[0];
    if (":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":" + key + ":") == -1) throw "undefined key: " + key;
    if (key == "bool") return new _DERBoolean(param[key]);
    if (key == "int") return new _DERInteger(param[key]);
    if (key == "bitstr") return new _DERBitString(param[key]);
    if (key == "octstr") return new _DEROctetString(param[key]);
    if (key == "null") return new _DERNull(param[key]);
    if (key == "oid") return new _DERObjectIdentifier(param[key]);
    if (key == "enum") return new _DEREnumerated(param[key]);
    if (key == "utf8str") return new _DERUTF8String(param[key]);
    if (key == "numstr") return new _DERNumericString(param[key]);
    if (key == "prnstr") return new _DERPrintableString(param[key]);
    if (key == "telstr") return new _DERTeletexString(param[key]);
    if (key == "ia5str") return new _DERIA5String(param[key]);
    if (key == "utctime") return new _DERUTCTime(param[key]);
    if (key == "gentime") return new _DERGeneralizedTime(param[key]);
    if (key == "seq") {
      var paramList = param[key];
      var a = [];
      for (var i = 0; i < paramList.length; i++) {
        var asn1Obj = _newObject(paramList[i]);
        a.push(asn1Obj);
      }
      return new _DERSequence({
        'array': a
      });
    }
    if (key == "set") {
      var paramList = param[key];
      var a = [];
      for (var i = 0; i < paramList.length; i++) {
        var asn1Obj = _newObject(paramList[i]);
        a.push(asn1Obj);
      }
      return new _DERSet({
        'array': a
      });
    }
    if (key == "tag") {
      var tagParam = param[key];
      if (Object.prototype.toString.call(tagParam) === '[object Array]' && tagParam.length == 3) {
        var obj = _newObject(tagParam[2]);
        return new _DERTaggedObject({
          tag: tagParam[0],
          explicit: tagParam[1],
          obj: obj
        });
      } else {
        var newParam = {};
        if (tagParam.explicit !== undefined) newParam.explicit = tagParam.explicit;
        if (tagParam.tag !== undefined) newParam.tag = tagParam.tag;
        if (tagParam.obj === undefined) throw "obj shall be specified for 'tag'.";
        newParam.obj = _newObject(tagParam.obj);
        return new _DERTaggedObject(newParam);
      }
    }
  };
  /**
   * get encoded hexadecimal string of ASN1Object specifed by JSON parameters
   * @name jsonToASN1HEX
   * @memberOf KJUR.asn1.ASN1Util
   * @function
   * @param {Array} param JSON parameter to generate ASN1Object
   * @return hexadecimal string of ASN1Object
   * @since asn1 1.0.4
   * @description
   * As for ASN.1 object representation of JSON object,
   * please see {@link newObject}.
   * @example
   * jsonToASN1HEX({'prnstr': 'aaa'});
   */
  this.jsonToASN1HEX = function (param) {
    var asn1Obj = this.newObject(param);
    return asn1Obj.getEncodedHex();
  };
}();
/**
 * get dot noted oid number string from hexadecimal value of OID
 * @name oidHexToInt
 * @memberOf KJUR.asn1.ASN1Util
 * @function
 * @param {String} hex hexadecimal value of object identifier
 * @return {String} dot noted string of object identifier
 * @since jsrsasign 4.8.3 asn1 1.0.7
 * @description
 * This static method converts from hexadecimal string representation of
 * ASN.1 value of object identifier to oid number string.
 * @example
 * KJUR.asn1.ASN1Util.oidHexToInt('550406') &rarr; "2.5.4.6"
 */
KJUR.asn1.ASN1Util.oidHexToInt = function (hex) {
  var s = "";
  var i01 = parseInt(hex.substr(0, 2), 16);
  var i0 = Math.floor(i01 / 40);
  var i1 = i01 % 40;
  var s = i0 + "." + i1;
  var binbuf = "";
  for (var i = 2; i < hex.length; i += 2) {
    var value = parseInt(hex.substr(i, 2), 16);
    var bin = ("00000000" + value.toString(2)).slice(-8);
    binbuf = binbuf + bin.substr(1, 7);
    if (bin.substr(0, 1) == "0") {
      var bi = new _jsbn.BigInteger(binbuf, 2);
      s = s + "." + bi.toString(10);
      binbuf = "";
    }
  }
  ;
  return s;
};
/**
 * get hexadecimal value of object identifier from dot noted oid value
 * @name oidIntToHex
 * @memberOf KJUR.asn1.ASN1Util
 * @function
 * @param {String} oidString dot noted string of object identifier
 * @return {String} hexadecimal value of object identifier
 * @since jsrsasign 4.8.3 asn1 1.0.7
 * @description
 * This static method converts from object identifier value string.
 * to hexadecimal string representation of it.
 * @example
 * KJUR.asn1.ASN1Util.oidIntToHex("2.5.4.6") &rarr; "550406"
 */
KJUR.asn1.ASN1Util.oidIntToHex = function (oidString) {
  var itox = function (i) {
    var h = i.toString(16);
    if (h.length == 1) h = '0' + h;
    return h;
  };
  var roidtox = function (roid) {
    var h = '';
    var bi = new _jsbn.BigInteger(roid, 10);
    var b = bi.toString(2);
    var padLen = 7 - b.length % 7;
    if (padLen == 7) padLen = 0;
    var bPad = '';
    for (var i = 0; i < padLen; i++) bPad += '0';
    b = bPad + b;
    for (var i = 0; i < b.length - 1; i += 7) {
      var b8 = b.substr(i, 7);
      if (i != b.length - 7) b8 = '1' + b8;
      h += itox(parseInt(b8, 2));
    }
    return h;
  };
  if (!oidString.match(/^[0-9.]+$/)) {
    throw "malformed oid string: " + oidString;
  }
  var h = '';
  var a = oidString.split('.');
  var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);
  h += itox(i0);
  a.splice(0, 2);
  for (var i = 0; i < a.length; i++) {
    h += roidtox(a[i]);
  }
  return h;
};
// ********************************************************************
//  Abstract ASN.1 Classes
// ********************************************************************
// ********************************************************************
/**
 * base class for ASN.1 DER encoder object
 * @name KJUR.asn1.ASN1Object
 * @class base class for ASN.1 DER encoder object
 * @property {Boolean} isModified flag whether internal data was changed
 * @property {String} hTLV hexadecimal string of ASN.1 TLV
 * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)
 * @property {String} hL hexadecimal string of ASN.1 TLV length(L)
 * @property {String} hV hexadecimal string of ASN.1 TLV value(V)
 * @description
 */
KJUR.asn1.ASN1Object = function () {
  var isModified = true;
  var hTLV = null;
  var hT = '00';
  var hL = '00';
  var hV = '';
  /**
   * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)
   * @name getLengthHexFromValue
   * @memberOf KJUR.asn1.ASN1Object#
   * @function
   * @return {String} hexadecimal string of ASN.1 TLV length(L)
   */
  this.getLengthHexFromValue = function () {
    if (typeof this.hV == "undefined" || this.hV == null) {
      throw "this.hV is null or undefined.";
    }
    if (this.hV.length % 2 == 1) {
      throw "value hex must be even length: n=" + hV.length + ",v=" + this.hV;
    }
    var n = this.hV.length / 2;
    var hN = n.toString(16);
    if (hN.length % 2 == 1) {
      hN = "0" + hN;
    }
    if (n < 128) {
      return hN;
    } else {
      var hNlen = hN.length / 2;
      if (hNlen > 15) {
        throw "ASN.1 length too long to represent by 8x: n = " + n.toString(16);
      }
      var head = 128 + hNlen;
      return head.toString(16) + hN;
    }
  };
  /**
   * get hexadecimal string of ASN.1 TLV bytes
   * @name getEncodedHex
   * @memberOf KJUR.asn1.ASN1Object#
   * @function
   * @return {String} hexadecimal string of ASN.1 TLV
   */
  this.getEncodedHex = function () {
    if (this.hTLV == null || this.isModified) {
      this.hV = this.getFreshValueHex();
      this.hL = this.getLengthHexFromValue();
      this.hTLV = this.hT + this.hL + this.hV;
      this.isModified = false;
      //alert("first time: " + this.hTLV);
    }
    return this.hTLV;
  };
  /**
   * get hexadecimal string of ASN.1 TLV value(V) bytes
   * @name getValueHex
   * @memberOf KJUR.asn1.ASN1Object#
   * @function
   * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes
   */
  this.getValueHex = function () {
    this.getEncodedHex();
    return this.hV;
  };
  this.getFreshValueHex = function () {
    return '';
  };
};
// == BEGIN DERAbstractString ================================================
/**
 * base class for ASN.1 DER string classes
 * @name KJUR.asn1.DERAbstractString
 * @class base class for ASN.1 DER string classes
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @property {String} s internal string of value
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>str - specify initial ASN.1 value(V) by a string</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERAbstractString = function (params) {
  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);
  var s = null;
  var hV = null;
  /**
   * get string value of this string object
   * @name getString
   * @memberOf KJUR.asn1.DERAbstractString#
   * @function
   * @return {String} string value of this string object
   */
  this.getString = function () {
    return this.s;
  };
  /**
   * set value by a string
   * @name setString
   * @memberOf KJUR.asn1.DERAbstractString#
   * @function
   * @param {String} newS value by a string to set
   */
  this.setString = function (newS) {
    this.hTLV = null;
    this.isModified = true;
    this.s = newS;
    this.hV = stohex(this.s);
  };
  /**
   * set value by a hexadecimal string
   * @name setStringHex
   * @memberOf KJUR.asn1.DERAbstractString#
   * @function
   * @param {String} newHexString value by a hexadecimal string to set
   */
  this.setStringHex = function (newHexString) {
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = newHexString;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params == "string") {
      this.setString(params);
    } else if (typeof params['str'] != "undefined") {
      this.setString(params['str']);
    } else if (typeof params['hex'] != "undefined") {
      this.setStringHex(params['hex']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);
// == END   DERAbstractString ================================================
// == BEGIN DERAbstractTime ==================================================
/**
 * base class for ASN.1 DER Generalized/UTCTime class
 * @name KJUR.asn1.DERAbstractTime
 * @class base class for ASN.1 DER Generalized/UTCTime class
 * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERAbstractTime = function (params) {
  KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);
  var s = null;
  var date = null;
  // --- PRIVATE METHODS --------------------
  this.localDateToUTC = function (d) {
    utc = d.getTime() + d.getTimezoneOffset() * 60000;
    var utcDate = new Date(utc);
    return utcDate;
  };
  /*
   * format date string by Data object
   * @name formatDate
   * @memberOf KJUR.asn1.AbstractTime;
   * @param {Date} dateObject
   * @param {string} type 'utc' or 'gen'
   * @param {boolean} withMillis flag for with millisections or not
   * @description
   * 'withMillis' flag is supported from asn1 1.0.6.
   */
  this.formatDate = function (dateObject, type, withMillis) {
    var pad = this.zeroPadding;
    var d = this.localDateToUTC(dateObject);
    var year = String(d.getFullYear());
    if (type == 'utc') year = year.substr(2, 2);
    var month = pad(String(d.getMonth() + 1), 2);
    var day = pad(String(d.getDate()), 2);
    var hour = pad(String(d.getHours()), 2);
    var min = pad(String(d.getMinutes()), 2);
    var sec = pad(String(d.getSeconds()), 2);
    var s = year + month + day + hour + min + sec;
    if (withMillis === true) {
      var millis = d.getMilliseconds();
      if (millis != 0) {
        var sMillis = pad(String(millis), 3);
        sMillis = sMillis.replace(/[0]+$/, "");
        s = s + "." + sMillis;
      }
    }
    return s + "Z";
  };
  this.zeroPadding = function (s, len) {
    if (s.length >= len) return s;
    return new Array(len - s.length + 1).join('0') + s;
  };
  // --- PUBLIC METHODS --------------------
  /**
   * get string value of this string object
   * @name getString
   * @memberOf KJUR.asn1.DERAbstractTime#
   * @function
   * @return {String} string value of this time object
   */
  this.getString = function () {
    return this.s;
  };
  /**
   * set value by a string
   * @name setString
   * @memberOf KJUR.asn1.DERAbstractTime#
   * @function
   * @param {String} newS value by a string to set such like "130430235959Z"
   */
  this.setString = function (newS) {
    this.hTLV = null;
    this.isModified = true;
    this.s = newS;
    this.hV = stohex(newS);
  };
  /**
   * set value by a Date object
   * @name setByDateValue
   * @memberOf KJUR.asn1.DERAbstractTime#
   * @function
   * @param {Integer} year year of date (ex. 2013)
   * @param {Integer} month month of date between 1 and 12 (ex. 12)
   * @param {Integer} day day of month
   * @param {Integer} hour hours of date
   * @param {Integer} min minutes of date
   * @param {Integer} sec seconds of date
   */
  this.setByDateValue = function (year, month, day, hour, min, sec) {
    var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));
    this.setByDate(dateObject);
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);
// == END   DERAbstractTime ==================================================
// == BEGIN DERAbstractStructured ============================================
/**
 * base class for ASN.1 DER structured class
 * @name KJUR.asn1.DERAbstractStructured
 * @class base class for ASN.1 DER structured class
 * @property {Array} asn1Array internal array of ASN1Object
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERAbstractStructured = function (params) {
  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);
  var asn1Array = null;
  /**
   * set value by array of ASN1Object
   * @name setByASN1ObjectArray
   * @memberOf KJUR.asn1.DERAbstractStructured#
   * @function
   * @param {array} asn1ObjectArray array of ASN1Object to set
   */
  this.setByASN1ObjectArray = function (asn1ObjectArray) {
    this.hTLV = null;
    this.isModified = true;
    this.asn1Array = asn1ObjectArray;
  };
  /**
   * append an ASN1Object to internal array
   * @name appendASN1Object
   * @memberOf KJUR.asn1.DERAbstractStructured#
   * @function
   * @param {ASN1Object} asn1Object to add
   */
  this.appendASN1Object = function (asn1Object) {
    this.hTLV = null;
    this.isModified = true;
    this.asn1Array.push(asn1Object);
  };
  this.asn1Array = new Array();
  if (typeof params != "undefined") {
    if (typeof params['array'] != "undefined") {
      this.asn1Array = params['array'];
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);
// ********************************************************************
//  ASN.1 Object Classes
// ********************************************************************
// ********************************************************************
/**
 * class for ASN.1 DER Boolean
 * @name KJUR.asn1.DERBoolean
 * @class class for ASN.1 DER Boolean
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERBoolean = function () {
  KJUR.asn1.DERBoolean.superclass.constructor.call(this);
  this.hT = "01";
  this.hTLV = "0101ff";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER Integer
 * @name KJUR.asn1.DERInteger
 * @class class for ASN.1 DER Integer
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>int - specify initial ASN.1 value(V) by integer value</li>
 * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERInteger = function (params) {
  KJUR.asn1.DERInteger.superclass.constructor.call(this);
  this.hT = "02";
  /**
   * set value by Tom Wu's BigInteger object
   * @name setByBigInteger
   * @memberOf KJUR.asn1.DERInteger#
   * @function
   * @param {BigInteger} bigIntegerValue to set
   */
  this.setByBigInteger = function (bigIntegerValue) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);
  };
  /**
   * set value by integer value
   * @name setByInteger
   * @memberOf KJUR.asn1.DERInteger
   * @function
   * @param {Integer} integer value to set
   */
  this.setByInteger = function (intValue) {
    var bi = new _jsbn.BigInteger(String(intValue), 10);
    this.setByBigInteger(bi);
  };
  /**
   * set value by integer value
   * @name setValueHex
   * @memberOf KJUR.asn1.DERInteger#
   * @function
   * @param {String} hexadecimal string of integer value
   * @description
   * <br/>
   * NOTE: Value shall be represented by minimum octet length of
   * two's complement representation.
   * @example
   * new KJUR.asn1.DERInteger(123);
   * new KJUR.asn1.DERInteger({'int': 123});
   * new KJUR.asn1.DERInteger({'hex': '1fad'});
   */
  this.setValueHex = function (newHexString) {
    this.hV = newHexString;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params['bigint'] != "undefined") {
      this.setByBigInteger(params['bigint']);
    } else if (typeof params['int'] != "undefined") {
      this.setByInteger(params['int']);
    } else if (typeof params == "number") {
      this.setByInteger(params);
    } else if (typeof params['hex'] != "undefined") {
      this.setValueHex(params['hex']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER encoded BitString primitive
 * @name KJUR.asn1.DERBitString
 * @class class for ASN.1 DER encoded BitString primitive
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>bin - specify binary string (ex. '10111')</li>
 * <li>array - specify array of boolean (ex. [true,false,true,true])</li>
 * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>
 * <li>obj - specify {@link KJUR.asn1.ASN1Util.newObject}
 * argument for "BitString encapsulates" structure.</li>
 * </ul>
 * NOTE1: 'params' can be omitted.<br/>
 * NOTE2: 'obj' parameter have been supported since
 * asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).<br/>
 * @example
 * // default constructor
 * o = new KJUR.asn1.DERBitString();
 * // initialize with binary string
 * o = new KJUR.asn1.DERBitString({bin: "1011"});
 * // initialize with boolean array
 * o = new KJUR.asn1.DERBitString({array: [true,false,true,true]});
 * // initialize with hexadecimal string (04 is unused bits)
 * o = new KJUR.asn1.DEROctetString({hex: "04bac0"});
 * // initialize with ASN1Util.newObject argument for encapsulated
 * o = new KJUR.asn1.DERBitString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});
 * // above generates a ASN.1 data like this:
 * // BIT STRING, encapsulates {
 * //   SEQUENCE {
 * //     INTEGER 3
 * //     PrintableString 'aaa'
 * //     }
 * //   }
 */
KJUR.asn1.DERBitString = function (params) {
  if (params !== undefined && typeof params.obj !== "undefined") {
    var o = KJUR.asn1.ASN1Util.newObject(params.obj);
    params.hex = "00" + o.getEncodedHex();
  }
  KJUR.asn1.DERBitString.superclass.constructor.call(this);
  this.hT = "03";
  /**
   * set ASN.1 value(V) by a hexadecimal string including unused bits
   * @name setHexValueIncludingUnusedBits
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {String} newHexStringIncludingUnusedBits
   */
  this.setHexValueIncludingUnusedBits = function (newHexStringIncludingUnusedBits) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = newHexStringIncludingUnusedBits;
  };
  /**
   * set ASN.1 value(V) by unused bit and hexadecimal string of value
   * @name setUnusedBitsAndHexValue
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {Integer} unusedBits
   * @param {String} hValue
   */
  this.setUnusedBitsAndHexValue = function (unusedBits, hValue) {
    if (unusedBits < 0 || 7 < unusedBits) {
      throw "unused bits shall be from 0 to 7: u = " + unusedBits;
    }
    var hUnusedBits = "0" + unusedBits;
    this.hTLV = null;
    this.isModified = true;
    this.hV = hUnusedBits + hValue;
  };
  /**
   * set ASN.1 DER BitString by binary string<br/>
   * @name setByBinaryString
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {String} binaryString binary value string (i.e. '10111')
   * @description
   * Its unused bits will be calculated automatically by length of
   * 'binaryValue'. <br/>
   * NOTE: Trailing zeros '0' will be ignored.
   * @example
   * o = new KJUR.asn1.DERBitString();
   * o.setByBooleanArray("01011");
   */
  this.setByBinaryString = function (binaryString) {
    binaryString = binaryString.replace(/0+$/, '');
    var unusedBits = 8 - binaryString.length % 8;
    if (unusedBits == 8) unusedBits = 0;
    for (var i = 0; i <= unusedBits; i++) {
      binaryString += '0';
    }
    var h = '';
    for (var i = 0; i < binaryString.length - 1; i += 8) {
      var b = binaryString.substr(i, 8);
      var x = parseInt(b, 2).toString(16);
      if (x.length == 1) x = '0' + x;
      h += x;
    }
    this.hTLV = null;
    this.isModified = true;
    this.hV = '0' + unusedBits + h;
  };
  /**
   * set ASN.1 TLV value(V) by an array of boolean<br/>
   * @name setByBooleanArray
   * @memberOf KJUR.asn1.DERBitString#
   * @function
   * @param {array} booleanArray array of boolean (ex. [true, false, true])
   * @description
   * NOTE: Trailing falses will be ignored in the ASN.1 DER Object.
   * @example
   * o = new KJUR.asn1.DERBitString();
   * o.setByBooleanArray([false, true, false, true, true]);
   */
  this.setByBooleanArray = function (booleanArray) {
    var s = '';
    for (var i = 0; i < booleanArray.length; i++) {
      if (booleanArray[i] == true) {
        s += '1';
      } else {
        s += '0';
      }
    }
    this.setByBinaryString(s);
  };
  /**
   * generate an array of falses with specified length<br/>
   * @name newFalseArray
   * @memberOf KJUR.asn1.DERBitString
   * @function
   * @param {Integer} nLength length of array to generate
   * @return {array} array of boolean falses
   * @description
   * This static method may be useful to initialize boolean array.
   * @example
   * o = new KJUR.asn1.DERBitString();
   * o.newFalseArray(3) &rarr; [false, false, false]
   */
  this.newFalseArray = function (nLength) {
    var a = new Array(nLength);
    for (var i = 0; i < nLength; i++) {
      a[i] = false;
    }
    return a;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params == "string" && params.toLowerCase().match(/^[0-9a-f]+$/)) {
      this.setHexValueIncludingUnusedBits(params);
    } else if (typeof params['hex'] != "undefined") {
      this.setHexValueIncludingUnusedBits(params['hex']);
    } else if (typeof params['bin'] != "undefined") {
      this.setByBinaryString(params['bin']);
    } else if (typeof params['array'] != "undefined") {
      this.setByBooleanArray(params['array']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER OctetString<br/>
 * @name KJUR.asn1.DEROctetString
 * @class class for ASN.1 DER OctetString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * This class provides ASN.1 OctetString simple type.<br/>
 * Supported "params" attributes are:
 * <ul>
 * <li>str - to set a string as a value</li>
 * <li>hex - to set a hexadecimal string as a value</li>
 * <li>obj - to set a encapsulated ASN.1 value by JSON object
 * which is defined in {@link KJUR.asn1.ASN1Util.newObject}</li>
 * </ul>
 * NOTE: A parameter 'obj' have been supported
 * for "OCTET STRING, encapsulates" structure.
 * since asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).
 * @see KJUR.asn1.DERAbstractString - superclass
 * @example
 * // default constructor
 * o = new KJUR.asn1.DEROctetString();
 * // initialize with string
 * o = new KJUR.asn1.DEROctetString({str: "aaa"});
 * // initialize with hexadecimal string
 * o = new KJUR.asn1.DEROctetString({hex: "616161"});
 * // initialize with ASN1Util.newObject argument
 * o = new KJUR.asn1.DEROctetString({obj: {seq: [{int: 3}, {prnstr: 'aaa'}]}});
 * // above generates a ASN.1 data like this:
 * // OCTET STRING, encapsulates {
 * //   SEQUENCE {
 * //     INTEGER 3
 * //     PrintableString 'aaa'
 * //     }
 * //   }
 */
KJUR.asn1.DEROctetString = function (params) {
  if (params !== undefined && typeof params.obj !== "undefined") {
    var o = KJUR.asn1.ASN1Util.newObject(params.obj);
    params.hex = o.getEncodedHex();
  }
  KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);
  this.hT = "04";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER Null
 * @name KJUR.asn1.DERNull
 * @class class for ASN.1 DER Null
 * @extends KJUR.asn1.ASN1Object
 * @description
 * @see KJUR.asn1.ASN1Object - superclass
 */
KJUR.asn1.DERNull = function () {
  KJUR.asn1.DERNull.superclass.constructor.call(this);
  this.hT = "05";
  this.hTLV = "0500";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER ObjectIdentifier
 * @name KJUR.asn1.DERObjectIdentifier
 * @class class for ASN.1 DER ObjectIdentifier
 * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERObjectIdentifier = function (params) {
  var itox = function (i) {
    var h = i.toString(16);
    if (h.length == 1) h = '0' + h;
    return h;
  };
  var roidtox = function (roid) {
    var h = '';
    var bi = new _jsbn.BigInteger(roid, 10);
    var b = bi.toString(2);
    var padLen = 7 - b.length % 7;
    if (padLen == 7) padLen = 0;
    var bPad = '';
    for (var i = 0; i < padLen; i++) bPad += '0';
    b = bPad + b;
    for (var i = 0; i < b.length - 1; i += 7) {
      var b8 = b.substr(i, 7);
      if (i != b.length - 7) b8 = '1' + b8;
      h += itox(parseInt(b8, 2));
    }
    return h;
  };
  KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);
  this.hT = "06";
  /**
   * set value by a hexadecimal string
   * @name setValueHex
   * @memberOf KJUR.asn1.DERObjectIdentifier#
   * @function
   * @param {String} newHexString hexadecimal value of OID bytes
   */
  this.setValueHex = function (newHexString) {
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = newHexString;
  };
  /**
   * set value by a OID string<br/>
   * @name setValueOidString
   * @memberOf KJUR.asn1.DERObjectIdentifier#
   * @function
   * @param {String} oidString OID string (ex. 2.5.4.13)
   * @example
   * o = new KJUR.asn1.DERObjectIdentifier();
   * o.setValueOidString("2.5.4.13");
   */
  this.setValueOidString = function (oidString) {
    if (!oidString.match(/^[0-9.]+$/)) {
      throw "malformed oid string: " + oidString;
    }
    var h = '';
    var a = oidString.split('.');
    var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);
    h += itox(i0);
    a.splice(0, 2);
    for (var i = 0; i < a.length; i++) {
      h += roidtox(a[i]);
    }
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = h;
  };
  /**
   * set value by a OID name
   * @name setValueName
   * @memberOf KJUR.asn1.DERObjectIdentifier#
   * @function
   * @param {String} oidName OID name (ex. 'serverAuth')
   * @since 1.0.1
   * @description
   * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.
   * Otherwise raise error.
   * @example
   * o = new KJUR.asn1.DERObjectIdentifier();
   * o.setValueName("serverAuth");
   */
  this.setValueName = function (oidName) {
    var oid = KJUR.asn1.x509.OID.name2oid(oidName);
    if (oid !== '') {
      this.setValueOidString(oid);
    } else {
      throw "DERObjectIdentifier oidName undefined: " + oidName;
    }
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (params !== undefined) {
    if (typeof params === "string") {
      if (params.match(/^[0-2].[0-9.]+$/)) {
        this.setValueOidString(params);
      } else {
        this.setValueName(params);
      }
    } else if (params.oid !== undefined) {
      this.setValueOidString(params.oid);
    } else if (params.hex !== undefined) {
      this.setValueHex(params.hex);
    } else if (params.name !== undefined) {
      this.setValueName(params.name);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER Enumerated
 * @name KJUR.asn1.DEREnumerated
 * @class class for ASN.1 DER Enumerated
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>int - specify initial ASN.1 value(V) by integer value</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 * @example
 * new KJUR.asn1.DEREnumerated(123);
 * new KJUR.asn1.DEREnumerated({int: 123});
 * new KJUR.asn1.DEREnumerated({hex: '1fad'});
 */
KJUR.asn1.DEREnumerated = function (params) {
  KJUR.asn1.DEREnumerated.superclass.constructor.call(this);
  this.hT = "0a";
  /**
   * set value by Tom Wu's BigInteger object
   * @name setByBigInteger
   * @memberOf KJUR.asn1.DEREnumerated#
   * @function
   * @param {BigInteger} bigIntegerValue to set
   */
  this.setByBigInteger = function (bigIntegerValue) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);
  };
  /**
   * set value by integer value
   * @name setByInteger
   * @memberOf KJUR.asn1.DEREnumerated#
   * @function
   * @param {Integer} integer value to set
   */
  this.setByInteger = function (intValue) {
    var bi = new _jsbn.BigInteger(String(intValue), 10);
    this.setByBigInteger(bi);
  };
  /**
   * set value by integer value
   * @name setValueHex
   * @memberOf KJUR.asn1.DEREnumerated#
   * @function
   * @param {String} hexadecimal string of integer value
   * @description
   * <br/>
   * NOTE: Value shall be represented by minimum octet length of
   * two's complement representation.
   */
  this.setValueHex = function (newHexString) {
    this.hV = newHexString;
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params['int'] != "undefined") {
      this.setByInteger(params['int']);
    } else if (typeof params == "number") {
      this.setByInteger(params);
    } else if (typeof params['hex'] != "undefined") {
      this.setValueHex(params['hex']);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DEREnumerated, KJUR.asn1.ASN1Object);
// ********************************************************************
/**
 * class for ASN.1 DER UTF8String
 * @name KJUR.asn1.DERUTF8String
 * @class class for ASN.1 DER UTF8String
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERUTF8String = function (params) {
  KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);
  this.hT = "0c";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER NumericString
 * @name KJUR.asn1.DERNumericString
 * @class class for ASN.1 DER NumericString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERNumericString = function (params) {
  KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);
  this.hT = "12";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER PrintableString
 * @name KJUR.asn1.DERPrintableString
 * @class class for ASN.1 DER PrintableString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERPrintableString = function (params) {
  KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);
  this.hT = "13";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER TeletexString
 * @name KJUR.asn1.DERTeletexString
 * @class class for ASN.1 DER TeletexString
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERTeletexString = function (params) {
  KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);
  this.hT = "14";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER IA5String
 * @name KJUR.asn1.DERIA5String
 * @class class for ASN.1 DER IA5String
 * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})
 * @extends KJUR.asn1.DERAbstractString
 * @description
 * @see KJUR.asn1.DERAbstractString - superclass
 */
KJUR.asn1.DERIA5String = function (params) {
  KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);
  this.hT = "16";
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);
// ********************************************************************
/**
 * class for ASN.1 DER UTCTime
 * @name KJUR.asn1.DERUTCTime
 * @class class for ASN.1 DER UTCTime
 * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})
 * @extends KJUR.asn1.DERAbstractTime
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * <li>date - specify Date object.</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 * <h4>EXAMPLES</h4>
 * @example
 * d1 = new KJUR.asn1.DERUTCTime();
 * d1.setString('130430125959Z');
 *
 * d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});
 * d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});
 * d4 = new KJUR.asn1.DERUTCTime('130430125959Z');
 */
KJUR.asn1.DERUTCTime = function (params) {
  KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);
  this.hT = "17";
  /**
   * set value by a Date object<br/>
   * @name setByDate
   * @memberOf KJUR.asn1.DERUTCTime#
   * @function
   * @param {Date} dateObject Date object to set ASN.1 value(V)
   * @example
   * o = new KJUR.asn1.DERUTCTime();
   * o.setByDate(new Date("2016/12/31"));
   */
  this.setByDate = function (dateObject) {
    this.hTLV = null;
    this.isModified = true;
    this.date = dateObject;
    this.s = this.formatDate(this.date, 'utc');
    this.hV = stohex(this.s);
  };
  this.getFreshValueHex = function () {
    if (typeof this.date == "undefined" && typeof this.s == "undefined") {
      this.date = new Date();
      this.s = this.formatDate(this.date, 'utc');
      this.hV = stohex(this.s);
    }
    return this.hV;
  };
  if (params !== undefined) {
    if (params.str !== undefined) {
      this.setString(params.str);
    } else if (typeof params == "string" && params.match(/^[0-9]{12}Z$/)) {
      this.setString(params);
    } else if (params.hex !== undefined) {
      this.setStringHex(params.hex);
    } else if (params.date !== undefined) {
      this.setByDate(params.date);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);
// ********************************************************************
/**
 * class for ASN.1 DER GeneralizedTime
 * @name KJUR.asn1.DERGeneralizedTime
 * @class class for ASN.1 DER GeneralizedTime
 * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})
 * @property {Boolean} withMillis flag to show milliseconds or not
 * @extends KJUR.asn1.DERAbstractTime
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>
 * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>
 * <li>date - specify Date object.</li>
 * <li>millis - specify flag to show milliseconds (from 1.0.6)</li>
 * </ul>
 * NOTE1: 'params' can be omitted.
 * NOTE2: 'withMillis' property is supported from asn1 1.0.6.
 */
KJUR.asn1.DERGeneralizedTime = function (params) {
  KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);
  this.hT = "18";
  this.withMillis = false;
  /**
   * set value by a Date object
   * @name setByDate
   * @memberOf KJUR.asn1.DERGeneralizedTime#
   * @function
   * @param {Date} dateObject Date object to set ASN.1 value(V)
   * @example
   * When you specify UTC time, use 'Date.UTC' method like this:<br/>
   * o1 = new DERUTCTime();
   * o1.setByDate(date);
   *
   * date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59
   */
  this.setByDate = function (dateObject) {
    this.hTLV = null;
    this.isModified = true;
    this.date = dateObject;
    this.s = this.formatDate(this.date, 'gen', this.withMillis);
    this.hV = stohex(this.s);
  };
  this.getFreshValueHex = function () {
    if (this.date === undefined && this.s === undefined) {
      this.date = new Date();
      this.s = this.formatDate(this.date, 'gen', this.withMillis);
      this.hV = stohex(this.s);
    }
    return this.hV;
  };
  if (params !== undefined) {
    if (params.str !== undefined) {
      this.setString(params.str);
    } else if (typeof params == "string" && params.match(/^[0-9]{14}Z$/)) {
      this.setString(params);
    } else if (params.hex !== undefined) {
      this.setStringHex(params.hex);
    } else if (params.date !== undefined) {
      this.setByDate(params.date);
    }
    if (params.millis === true) {
      this.withMillis = true;
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);
// ********************************************************************
/**
 * class for ASN.1 DER Sequence
 * @name KJUR.asn1.DERSequence
 * @class class for ASN.1 DER Sequence
 * @extends KJUR.asn1.DERAbstractStructured
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>array - specify array of ASN1Object to set elements of content</li>
 * </ul>
 * NOTE: 'params' can be omitted.
 */
KJUR.asn1.DERSequence = function (params) {
  KJUR.asn1.DERSequence.superclass.constructor.call(this, params);
  this.hT = "30";
  this.getFreshValueHex = function () {
    var h = '';
    for (var i = 0; i < this.asn1Array.length; i++) {
      var asn1Obj = this.asn1Array[i];
      h += asn1Obj.getEncodedHex();
    }
    this.hV = h;
    return this.hV;
  };
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);
// ********************************************************************
/**
 * class for ASN.1 DER Set
 * @name KJUR.asn1.DERSet
 * @class class for ASN.1 DER Set
 * @extends KJUR.asn1.DERAbstractStructured
 * @description
 * <br/>
 * As for argument 'params' for constructor, you can specify one of
 * following properties:
 * <ul>
 * <li>array - specify array of ASN1Object to set elements of content</li>
 * <li>sortflag - flag for sort (default: true). ASN.1 BER is not sorted in 'SET OF'.</li>
 * </ul>
 * NOTE1: 'params' can be omitted.<br/>
 * NOTE2: sortflag is supported since 1.0.5.
 */
KJUR.asn1.DERSet = function (params) {
  KJUR.asn1.DERSet.superclass.constructor.call(this, params);
  this.hT = "31";
  this.sortFlag = true; // item shall be sorted only in ASN.1 DER
  this.getFreshValueHex = function () {
    var a = new Array();
    for (var i = 0; i < this.asn1Array.length; i++) {
      var asn1Obj = this.asn1Array[i];
      a.push(asn1Obj.getEncodedHex());
    }
    if (this.sortFlag == true) a.sort();
    this.hV = a.join('');
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params.sortflag != "undefined" && params.sortflag == false) this.sortFlag = false;
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);
// ********************************************************************
/**
 * class for ASN.1 DER TaggedObject
 * @name KJUR.asn1.DERTaggedObject
 * @class class for ASN.1 DER TaggedObject
 * @extends KJUR.asn1.ASN1Object
 * @description
 * <br/>
 * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.
 * For example, if you find '[1]' tag in a ASN.1 dump,
 * 'tagNoHex' will be 'a1'.
 * <br/>
 * As for optional argument 'params' for constructor, you can specify *ANY* of
 * following properties:
 * <ul>
 * <li>explicit - specify true if this is explicit tag otherwise false
 *     (default is 'true').</li>
 * <li>tag - specify tag (default is 'a0' which means [0])</li>
 * <li>obj - specify ASN1Object which is tagged</li>
 * </ul>
 * @example
 * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});
 * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});
 * hex = d2.getEncodedHex();
 */
KJUR.asn1.DERTaggedObject = function (params) {
  KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);
  this.hT = "a0";
  this.hV = '';
  this.isExplicit = true;
  this.asn1Object = null;
  /**
   * set value by an ASN1Object
   * @name setString
   * @memberOf KJUR.asn1.DERTaggedObject#
   * @function
   * @param {Boolean} isExplicitFlag flag for explicit/implicit tag
   * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag
   * @param {ASN1Object} asn1Object ASN.1 to encapsulate
   */
  this.setASN1Object = function (isExplicitFlag, tagNoHex, asn1Object) {
    this.hT = tagNoHex;
    this.isExplicit = isExplicitFlag;
    this.asn1Object = asn1Object;
    if (this.isExplicit) {
      this.hV = this.asn1Object.getEncodedHex();
      this.hTLV = null;
      this.isModified = true;
    } else {
      this.hV = null;
      this.hTLV = asn1Object.getEncodedHex();
      this.hTLV = this.hTLV.replace(/^../, tagNoHex);
      this.isModified = false;
    }
  };
  this.getFreshValueHex = function () {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params['tag'] != "undefined") {
      this.hT = params['tag'];
    }
    if (typeof params['explicit'] != "undefined") {
      this.isExplicit = params['explicit'];
    }
    if (typeof params['obj'] != "undefined") {
      this.asn1Object = params['obj'];
      this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);
    }
  }
};
_yahoo.YAHOO.lang.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);

/***/ }),

/***/ "./src/Common/libs/jsencrypt/lib/lib/jsrsasign/yahoo.js":
/*!**************************************************************!*\
  !*** ./src/Common/libs/jsencrypt/lib/lib/jsrsasign/yahoo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.YAHOO = void 0;
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
var YAHOO = exports.YAHOO = {};
YAHOO.lang = {
  /**
   * Utility to set up the prototype, constructor and superclass properties to
   * support an inheritance strategy that can chain constructors and methods.
   * Static members will not be inherited.
   *
   * @method extend
   * @static
   * @param {Function} subc   the object to modify
   * @param {Function} superc the object to inherit
   * @param {Object} overrides  additional properties/methods to add to the
   *                              subclass prototype.  These will override the
   *                              matching items obtained from the superclass
   *                              if present.
   */
  extend: function (subc, superc, overrides) {
    if (!superc || !subc) {
      throw new Error("YAHOO.lang.extend failed, please check that " + "all dependencies are included.");
    }
    var F = function () {};
    F.prototype = superc.prototype;
    subc.prototype = new F();
    subc.prototype.constructor = subc;
    subc.superclass = superc.prototype;
    if (superc.prototype.constructor == Object.prototype.constructor) {
      superc.prototype.constructor = superc;
    }
    if (overrides) {
      var i;
      for (i in overrides) {
        subc.prototype[i] = overrides[i];
      }
      /*
       * IE will not enumerate native functions in a derived object even if the
       * function was overridden.  This is a workaround for specific functions
       * we care about on the Object prototype.
       * @property _IEEnumFix
       * @param {Function} r  the object to receive the augmentation
       * @param {Function} s  the object that supplies the properties to augment
       * @static
       * @private
       */
      var _IEEnumFix = function () {},
        ADD = ["toString", "valueOf"];
      try {
        if (/MSIE/.test(navigator.userAgent)) {
          _IEEnumFix = function (r, s) {
            for (i = 0; i < ADD.length; i = i + 1) {
              var fname = ADD[i],
                f = s[fname];
              if (typeof f === 'function' && f != Object.prototype[fname]) {
                r[fname] = f;
              }
            }
          };
        }
      } catch (ex) {}
      ;
      _IEEnumFix(subc.prototype, overrides);
    }
  }
};

/***/ }),

/***/ "./src/Common/libs/umeng/umenganalysis.es.min.js":
/*!*******************************************************!*\
  !*** ./src/Common/libs/umeng/umenganalysis.es.min.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _system = _interopRequireDefault($app_require$("@app-module/system.storage"));
var _system2 = _interopRequireDefault($app_require$("@app-module/system.device"));
var _system3 = _interopRequireDefault($app_require$("@app-module/system.network"));
var _system4 = _interopRequireDefault($app_require$("@app-module/system.router"));
var _system5 = _interopRequireDefault($app_require$("@app-module/system.app"));
var _system6 = _interopRequireDefault($app_require$("@app-module/system.fetch"));
var _system7 = _interopRequireDefault($app_require$("@app-module/system.file"));
var _system8 = _interopRequireDefault($app_require$("@app-module/system.request"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function buildUniqueId(t) {
  const e = [];
  e.push(DeviceUtil.getAdvertisingId()), e.push(DeviceUtil.getAndroidId()), e.push(DeviceUtil.getOAID()), Promise.all(e).then(e => {
    const n = e[0];
    const o = e[1];
    const i = e[2];
    StorageUtil.putData(constants.MOBILE_ADVERTISING_ID, n);
    StorageUtil.putData(constants.MOBILE_ANDROID_ID, o);
    StorageUtil.putData(constants.MOBILE_OAID, i);
    uniqueidCache = o || n || i;
    StorageUtil.putData("umeng_uniqueid", uniqueidCache);
    t(uniqueidCache);
  });
}
function createCommonjsModule(t, e) {
  return e = {
    exports: {}
  }, t(e, e.exports), e.exports;
}
function MD5$1(t) {
  return MD5(t);
}
function encode(t) {
  return Base64_2.encode(t, !1);
}
function decode(t) {
  return Base64_2.decode(t);
}
function checkEmptyArgument(t) {
  return t.length && this.checkId(t[0]);
}
function checkId(t) {
  return t && "string" == typeof t;
}
function toStr(t) {
  let e = "";
  if (t) try {
    e = JSON.stringify(t);
  } catch (t) {}
  return e;
}
function stringToArray(t) {
  if (t) try {
    return JSON.parse(t);
  } catch (t) {}
  return [];
}
function toObject(t) {
  if (t) try {
    return JSON.parse(t);
  } catch (t) {}
  return null;
}
function checkAttrOrString(t) {
  return !(!t || "string" != typeof t && ("object" != typeof t || isArray(t)));
}
function isArray(t) {
  return "[object Array]" === {}.toString.call(t);
}
function isNotANumber(t) {
  return !isNaN(parseInt(t, 10));
}
function checkMD5(t, e) {
  try {
    return t === MD5(e);
  } catch (t) {
    return !1;
  }
}
function Looper() {}
function send(t) {
  _system3.default.getType({
    success(e) {
      "none" !== e.type && hasEnvelope(t, (e, n) => {
        if (e) {
          if (n) {
            const e = {
              md5Key: n,
              type: "second"
            };
            RequestHelper.getInstance().send(e, () => {
              StoreQueue.getInstance().handleMessage(null);
              realSend(t);
            });
          }
        } else realSend(t);
      });
    },
    fail() {}
  });
}
function hasEnvelope(t, e) {
  StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, n => {
    if (!n) return void e(!1, null);
    const o = UmengUtils.stringToArray(n);
    if (!o || 0 === o.length) return void e(!1, null);
    for (const n in o) if ({}.hasOwnProperty.call(o, n)) {
      const i = o[n];
      if (i) {
        const n = i.indexOf(constants.KEY_EVENT_PREFIX);
        if (0 === n && t === constants.REQUEST_TYPE_EVENT) return void e(!0, i);
        const o = i.indexOf(constants.KEY_HALF_SESSION_PREFIX);
        if (0 === o && t === constants.REQUEST_TYPE_SESSION_HALF) return void e(!0, i);
        const r = i.indexOf(constants.KEY_CLOSE_SESSION_PREFIX);
        if (0 === r && t === constants.REQUEST_TYPE_SESSION_CLOSE) return void e(!0, i);
      }
    }
    e(!1, null);
  });
}
function realSend(t) {
  if (RequestHelper.getInstance().paramsIsValid(t)) if (t === constants.REQUEST_TYPE_SESSION_HALF) {
    const e = RequestHelper.getInstance().buildSendContent(t, null),
      n = e.data;
    n.analytics && RequestHelper.getInstance().send(e, t => {
      t && -1 !== t.indexOf(constants.KEY_HALF_SESSION_PREFIX) && (Header.getInstance().setFirstSendFlag(), StorageUtil.putData(constants.APP_FIRST_OPEN_FLAG, "false"));
    });
  } else if (t === constants.REQUEST_TYPE_SESSION_CLOSE) {
    const e = RequestHelper.getInstance().buildSendContent(t, null);
    if (e && e.data) {
      const t = e.data;
      t.analytics && RequestHelper.getInstance().send(e);
    }
  } else t === constants.REQUEST_TYPE_EVENT && EventStoreQueue.getInstance().readEkvDatas(e => {
    if (!e || 0 === e.length) return;
    const n = RequestHelper.getInstance().buildSendContent(t, e);
    if (n) {
      const t = n.data;
      t.analytics && (RequestHelper.getInstance().send(n), EventController.getInstance().setSendTime());
    }
  });
}
function sendAll() {
  if (0 === time) {
    time = 10;
    const t = setInterval(() => {
      time -= 1;
      0 === time && clearInterval(t);
    }, 100);
    Header.getInstance().getHeader() ? (send(constants.REQUEST_TYPE_SESSION_HALF), send(constants.REQUEST_TYPE_SESSION_CLOSE), send(constants.REQUEST_TYPE_EVENT)) : setTimeout(sendAll, 100);
  }
}
function PageController() {
  this._pagelist = [], this._currentPage = {}, this.pageObject = {};
}
function UmengAnalysisLib() {
  this.pageController = new PageController();
}
function isInit() {
  return !!inited || (console.error("[app.ux] ==> onCreate not invoked init() method"), !1);
}
function sendDatas() {
  Header.getInstance().getHeader() ? (Request.send(constants.REQUEST_TYPE_SESSION_HALF), Request.send(constants.REQUEST_TYPE_SESSION_CLOSE), StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY, t => {
    t === constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE && Request.send(constants.REQUEST_TYPE_EVENT);
  })) : setTimeout(sendDatas, 100);
}
function SdkUpdater() {
  this.url = constants.SDK_UPDATE_SERVER_ADDRESS;
}
function Page(t) {
  if (t) {
    const e = t.onShow;
    t.onShow = function (...t) {
      try {
        UmengAnalysis.resume(this);
      } catch (t) {}
      if (e) return e.apply(this, t);
    };
    const n = t.onHide;
    t.onHide = function (...t) {
      try {
        UmengAnalysis.pause(this);
      } catch (t) {}
      if (n) return n.apply(this, t);
    };
  }
  return t;
}
const StorageUtil = {
    putData(t, e, n, o) {
      _system.default.set({
        key: t,
        value: e,
        success(t) {
          n && n(t);
        },
        fail(t, e) {
          o && o(t, e);
        }
      });
    },
    getData(t, e, n) {
      _system.default.get({
        key: t,
        success(t) {
          e && e(t);
        },
        fail(t, e) {
          n && n(t, e);
        }
      });
    },
    deleteData(t, e) {
      _system.default.delete({
        key: t,
        success() {
          e && e(!0);
        },
        fail() {
          e && e(!1);
        }
      });
    }
  },
  constants = {
    KEY_NO_SEND_REQUEST_KEYS: "umeng_key_no_send_request",
    SESSION_INTERVAL: 3e4,
    TEST_URL: "https://preulogs.umeng.com/unify_logs",
    RELEASE_URL: "https://ulogs.umeng.com/unify_logs",
    KEY_SESSION_PREFIX: "umeng_session_prefix_",
    KEY_EVENT_PREFIX: "umeng_event_prefix_",
    KEY_HALF_SESSION_PREFIX: "umeng_half_session_prefix_",
    KEY_CLOSE_SESSION_PREFIX: "umeng_close_session_prefix_",
    REQUEST_TYPE_SESSION_HALF: 1,
    REQUEST_TYPE_SESSION_CLOSE: 2,
    REQUEST_TYPE_EVENT: 3,
    IS_DEBUG: !1,
    SDK_VERSION: "2.0.3",
    APP_FIRST_OPEN_FLAG: "umeng_key_first_open_flag",
    MOBILE_ADVERTISING_ID: "umeng_mobile_advertising_id",
    MOBILE_ANDROID_ID: "umeng_android__id",
    MOBILE_OAID: "umeng_oaid",
    EVENT_SEND_MIN_INTERVAL: 90,
    EVENT_SEND_MAX_INTERVAL: 86400,
    EVENT_LAST_SEND_TIME: "umeng_ekv_last_send_time",
    EVENT_SEND_REPORT_POLICY: "event_send_report_policy",
    EVENT_SEND_REPORT_INTERVAL_TIME: "event_send_report_interval_time",
    EVENT_SEND_REPORT_POLICY_START_SEND_VALUE: "1",
    EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE: "6",
    DOWNLOAD_FILE_FIRST_CACHE: "umeng_sdk_update_firstCacheLevel",
    DOWNLOAD_FILE_SECOND_CACHE: "umeng_sdk_update_secondCacheLevel",
    SDK_UPDATE_SERVER_ADDRESS: "http://s.cnzz.com/sdk/quickapp",
    SDK_UPDATE_LOCAL_STORAGE_PATH: "internal://files/umengsdk/"
  };
let oaidCache = null,
  androididCache = null,
  idfaCache = null,
  uniqueidCache = null,
  deviceInfoCache = null;
const DeviceUtil = {
    getBaseInfo() {
      return new Promise(t => {
        if (deviceInfoCache) return void t(deviceInfoCache);
        _system2.default.getInfo({
          success(e) {
            deviceInfoCache = e, t(e);
          },
          fail() {
            t(null);
          }
        });
      });
    },
    getNetworkInfo(t) {
      _system3.default.getType({
        success(e) {
          t(e);
        }
      });
    },
    getAndroidId() {
      return new Promise(t => {
        if (androididCache) return void t(androididCache.userId);
        _system2.default.getUserId({
          success(e) {
            androididCache = e, t(e.userId);
          },
          fail() {
            t("");
          }
        });
      });
    },
    getAdvertisingId() {
      return new Promise(t => {
        if (idfaCache) return void t(idfaCache.advertisingId);
        _system2.default.getAdvertisingId({
          success(e) {
            idfaCache = e, t(e.advertisingId);
          },
          fail() {
            t("");
          }
        });
      });
    },
    getOAID() {
      return console.log("call getOAID"), new Promise(t => {
        if (null !== oaidCache) return void t(oaidCache.oaid);
        "function" != typeof _system2.default.getOAID || !1 === _system2.default.allowTrackOAID ? t("") : _system2.default.getOAID({
          success(e) {
            oaidCache = e, t(e.oaid);
          },
          fail() {
            t("");
          }
        });
      });
    },
    getUniqueId() {
      return new Promise(t => {
        uniqueidCache ? t(uniqueidCache) : buildUniqueId(t);
      });
    },
    getPageName() {
      try {
        const t = _system4.default.getState();
        return t.name;
      } catch (t) {}
    },
    getSystemBaseInfo(t, e) {
      if (deviceInfoCache) return void (t && t(deviceInfoCache));
      _system2.default.getInfo({
        success(e) {
          deviceInfoCache = e, t && t(e);
        },
        fail(t, n) {
          e && e(t, n);
        }
      });
    }
  },
  Log = {
    d(t) {},
    i(t) {
      try {
        userDebug && console.info(t);
      } catch (t) {}
    },
    e(t) {},
    w(t) {},
    v(t) {}
  };
var commonjsGlobal = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
  MD5 = createCommonjsModule(function (t) {
    !function (e) {
      function n(t, e) {
        var n = (65535 & t) + (65535 & e);
        return (t >> 16) + (e >> 16) + (n >> 16) << 16 | 65535 & n;
      }
      function o(t, e) {
        return t << e | t >>> 32 - e;
      }
      function i(t, e, i, r, s, c) {
        return n(o(n(n(e, t), n(r, c)), s), i);
      }
      function r(t, e, n, o, r, s, c) {
        return i(e & n | ~e & o, t, e, r, s, c);
      }
      function s(t, e, n, o, r, s, c) {
        return i(e & o | n & ~o, t, e, r, s, c);
      }
      function c(t, e, n, o, r, s, c) {
        return i(e ^ n ^ o, t, e, r, s, c);
      }
      function a(t, e, n, o, r, s, c) {
        return i(n ^ (e | ~o), t, e, r, s, c);
      }
      function u(t, e) {
        t[e >> 5] |= 128 << e % 32, t[14 + (e + 64 >>> 9 << 4)] = e;
        var o,
          i,
          u,
          f,
          l,
          _ = 1732584193,
          E = -271733879,
          g = -1732584194,
          d = 271733878;
        for (o = 0; o < t.length; o += 16) i = _, u = E, f = g, l = d, E = a(E = a(E = a(E = a(E = c(E = c(E = c(E = c(E = s(E = s(E = s(E = s(E = r(E = r(E = r(E = r(E, g = r(g, d = r(d, _ = r(_, E, g, d, t[o], 7, -680876936), E, g, t[o + 1], 12, -389564586), _, E, t[o + 2], 17, 606105819), d, _, t[o + 3], 22, -1044525330), g = r(g, d = r(d, _ = r(_, E, g, d, t[o + 4], 7, -176418897), E, g, t[o + 5], 12, 1200080426), _, E, t[o + 6], 17, -1473231341), d, _, t[o + 7], 22, -45705983), g = r(g, d = r(d, _ = r(_, E, g, d, t[o + 8], 7, 1770035416), E, g, t[o + 9], 12, -1958414417), _, E, t[o + 10], 17, -42063), d, _, t[o + 11], 22, -1990404162), g = r(g, d = r(d, _ = r(_, E, g, d, t[o + 12], 7, 1804603682), E, g, t[o + 13], 12, -40341101), _, E, t[o + 14], 17, -1502002290), d, _, t[o + 15], 22, 1236535329), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 1], 5, -165796510), E, g, t[o + 6], 9, -1069501632), _, E, t[o + 11], 14, 643717713), d, _, t[o], 20, -373897302), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 5], 5, -701558691), E, g, t[o + 10], 9, 38016083), _, E, t[o + 15], 14, -660478335), d, _, t[o + 4], 20, -405537848), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 9], 5, 568446438), E, g, t[o + 14], 9, -1019803690), _, E, t[o + 3], 14, -187363961), d, _, t[o + 8], 20, 1163531501), g = s(g, d = s(d, _ = s(_, E, g, d, t[o + 13], 5, -1444681467), E, g, t[o + 2], 9, -51403784), _, E, t[o + 7], 14, 1735328473), d, _, t[o + 12], 20, -1926607734), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 5], 4, -378558), E, g, t[o + 8], 11, -2022574463), _, E, t[o + 11], 16, 1839030562), d, _, t[o + 14], 23, -35309556), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 1], 4, -1530992060), E, g, t[o + 4], 11, 1272893353), _, E, t[o + 7], 16, -155497632), d, _, t[o + 10], 23, -1094730640), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 13], 4, 681279174), E, g, t[o], 11, -358537222), _, E, t[o + 3], 16, -722521979), d, _, t[o + 6], 23, 76029189), g = c(g, d = c(d, _ = c(_, E, g, d, t[o + 9], 4, -640364487), E, g, t[o + 12], 11, -421815835), _, E, t[o + 15], 16, 530742520), d, _, t[o + 2], 23, -995338651), g = a(g, d = a(d, _ = a(_, E, g, d, t[o], 6, -198630844), E, g, t[o + 7], 10, 1126891415), _, E, t[o + 14], 15, -1416354905), d, _, t[o + 5], 21, -57434055), g = a(g, d = a(d, _ = a(_, E, g, d, t[o + 12], 6, 1700485571), E, g, t[o + 3], 10, -1894986606), _, E, t[o + 10], 15, -1051523), d, _, t[o + 1], 21, -2054922799), g = a(g, d = a(d, _ = a(_, E, g, d, t[o + 8], 6, 1873313359), E, g, t[o + 15], 10, -30611744), _, E, t[o + 6], 15, -1560198380), d, _, t[o + 13], 21, 1309151649), g = a(g, d = a(d, _ = a(_, E, g, d, t[o + 4], 6, -145523070), E, g, t[o + 11], 10, -1120210379), _, E, t[o + 2], 15, 718787259), d, _, t[o + 9], 21, -343485551), _ = n(_, i), E = n(E, u), g = n(g, f), d = n(d, l);
        return [_, E, g, d];
      }
      function f(t) {
        var e,
          n = "",
          o = 32 * t.length;
        for (e = 0; e < o; e += 8) n += String.fromCharCode(t[e >> 5] >>> e % 32 & 255);
        return n;
      }
      function l(t) {
        var e,
          n = [];
        for (n[(t.length >> 2) - 1] = void 0, e = 0; e < n.length; e += 1) n[e] = 0;
        var o = 8 * t.length;
        for (e = 0; e < o; e += 8) n[e >> 5] |= (255 & t.charCodeAt(e / 8)) << e % 32;
        return n;
      }
      function _(t) {
        return f(u(l(t), 8 * t.length));
      }
      function E(t, e) {
        var n,
          o,
          i = l(t),
          r = [],
          s = [];
        for (r[15] = s[15] = void 0, i.length > 16 && (i = u(i, 8 * t.length)), n = 0; n < 16; n += 1) r[n] = 909522486 ^ i[n], s[n] = 1549556828 ^ i[n];
        return o = u(r.concat(l(e)), 512 + 8 * e.length), f(u(s.concat(o), 640));
      }
      function g(t) {
        var e,
          n,
          o = "";
        for (n = 0; n < t.length; n += 1) e = t.charCodeAt(n), o += "0123456789abcdef".charAt(e >>> 4 & 15) + "0123456789abcdef".charAt(15 & e);
        return o;
      }
      function d(t) {
        return unescape(encodeURIComponent(t));
      }
      function S(t) {
        return _(d(t));
      }
      function h(t) {
        return g(S(t));
      }
      function p(t, e) {
        return E(d(t), d(e));
      }
      function U(t, e) {
        return g(p(t, e));
      }
      function N(t, e, n) {
        return e ? n ? p(e, t) : U(e, t) : n ? S(t) : h(t);
      }
      t.exports ? t.exports = N : e.md5 = N;
    }(commonjsGlobal);
  }),
  Base64_1 = createCommonjsModule(function (module, exports) {
    !function (global, factory) {
      module.exports = function (global) {
        var _Base64 = global.Base64,
          version = "2.4.8",
          buffer;
        if (module.exports) try {
          buffer = eval("require('buffer').Buffer");
        } catch (t) {
          buffer = void 0;
        }
        var b64chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
          b64tab = function (t) {
            for (var e = {}, n = 0, o = t.length; n < o; n++) e[t.charAt(n)] = n;
            return e;
          }(b64chars),
          fromCharCode = String.fromCharCode,
          cb_utob = function (t) {
            if (t.length < 2) return (e = t.charCodeAt(0)) < 128 ? t : e < 2048 ? fromCharCode(192 | e >>> 6) + fromCharCode(128 | 63 & e) : fromCharCode(224 | e >>> 12 & 15) + fromCharCode(128 | e >>> 6 & 63) + fromCharCode(128 | 63 & e);
            var e = 65536 + 1024 * (t.charCodeAt(0) - 55296) + (t.charCodeAt(1) - 56320);
            return fromCharCode(240 | e >>> 18 & 7) + fromCharCode(128 | e >>> 12 & 63) + fromCharCode(128 | e >>> 6 & 63) + fromCharCode(128 | 63 & e);
          },
          re_utob = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,
          utob = function (t) {
            return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g, cb_utob);
          },
          cb_encode = function (t) {
            var e = [0, 2, 1][t.length % 3],
              n = t.charCodeAt(0) << 16 | (t.length > 1 ? t.charCodeAt(1) : 0) << 8 | (t.length > 2 ? t.charCodeAt(2) : 0);
            return [b64chars.charAt(n >>> 18), b64chars.charAt(n >>> 12 & 63), e >= 2 ? "=" : b64chars.charAt(n >>> 6 & 63), e >= 1 ? "=" : b64chars.charAt(63 & n)].join("");
          },
          btoa = global.btoa ? function (t) {
            return global.btoa(t);
          } : function (t) {
            return t.replace(/[\s\S]{1,3}/g, cb_encode);
          },
          _encode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (t) {
            return (t.constructor === buffer.constructor ? t : buffer.from(t)).toString("base64");
          } : function (t) {
            return (t.constructor === buffer.constructor ? t : new buffer(t)).toString("base64");
          } : function (t) {
            return btoa(utob(t));
          },
          encode = function (t, e) {
            return e ? _encode(String(t)).replace(/[+\/]/g, function (t) {
              return "+" == t ? "-" : "_";
            }).replace(/=/g, "") : _encode(String(t));
          },
          encodeURI = function (t) {
            return encode(t, !0);
          },
          re_btou = new RegExp(["[À-ß][-¿]", "[à-ï][-¿]{2}", "[ð-÷][-¿]{3}"].join("|"), "g"),
          cb_btou = function (t) {
            switch (t.length) {
              case 4:
                var e = ((7 & t.charCodeAt(0)) << 18 | (63 & t.charCodeAt(1)) << 12 | (63 & t.charCodeAt(2)) << 6 | 63 & t.charCodeAt(3)) - 65536;
                return fromCharCode(55296 + (e >>> 10)) + fromCharCode(56320 + (1023 & e));
              case 3:
                return fromCharCode((15 & t.charCodeAt(0)) << 12 | (63 & t.charCodeAt(1)) << 6 | 63 & t.charCodeAt(2));
              default:
                return fromCharCode((31 & t.charCodeAt(0)) << 6 | 63 & t.charCodeAt(1));
            }
          },
          btou = function (t) {
            return t.replace(re_btou, cb_btou);
          },
          cb_decode = function (t) {
            var e = t.length,
              n = e % 4,
              o = (e > 0 ? b64tab[t.charAt(0)] << 18 : 0) | (e > 1 ? b64tab[t.charAt(1)] << 12 : 0) | (e > 2 ? b64tab[t.charAt(2)] << 6 : 0) | (e > 3 ? b64tab[t.charAt(3)] : 0),
              i = [fromCharCode(o >>> 16), fromCharCode(o >>> 8 & 255), fromCharCode(255 & o)];
            return i.length -= [0, 0, 2, 1][n], i.join("");
          },
          atob = global.atob ? function (t) {
            return global.atob(t);
          } : function (t) {
            return t.replace(/[\s\S]{1,4}/g, cb_decode);
          },
          _decode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (t) {
            return (t.constructor === buffer.constructor ? t : buffer.from(t, "base64")).toString();
          } : function (t) {
            return (t.constructor === buffer.constructor ? t : new buffer(t, "base64")).toString();
          } : function (t) {
            return btou(atob(t));
          },
          decode = function (t) {
            return _decode(String(t).replace(/[-_]/g, function (t) {
              return "-" == t ? "+" : "/";
            }).replace(/[^A-Za-z0-9\+\/]/g, ""));
          },
          noConflict = function () {
            var t = global.Base64;
            return global.Base64 = _Base64, t;
          };
        if (global.Base64 = {
          VERSION: "2.4.8",
          atob: atob,
          btoa: btoa,
          fromBase64: decode,
          toBase64: encode,
          utob: utob,
          encode: encode,
          encodeURI: encodeURI,
          btou: btou,
          decode: decode,
          noConflict: noConflict,
          __buffer__: buffer
        }, "function" == typeof Object.defineProperty) {
          var noEnum = function (t) {
            return {
              value: t,
              enumerable: !1,
              writable: !0,
              configurable: !0
            };
          };
          global.Base64.extendString = function () {
            Object.defineProperty(String.prototype, "fromBase64", noEnum(function () {
              return decode(this);
            })), Object.defineProperty(String.prototype, "toBase64", noEnum(function (t) {
              return encode(this, t);
            })), Object.defineProperty(String.prototype, "toBase64URI", noEnum(function () {
              return encode(this, !0);
            }));
          };
        }
        return global.Meteor && (Base64 = global.Base64), module.exports && (module.exports.Base64 = global.Base64), {
          Base64: global.Base64
        };
      }(global);
    }("undefined" != typeof self ? self : "undefined" != typeof window ? window : commonjsGlobal);
  }),
  Base64_2 = Base64_1.Base64,
  UmengUtils = {
    MD5: MD5$1,
    encode: encode,
    decode: decode,
    checkEmptyArgument: checkEmptyArgument,
    checkId: checkId,
    stringToArray: stringToArray,
    toStr: toStr,
    toObject: toObject,
    checkAttrOrString: checkAttrOrString,
    isNotANumber: isNotANumber,
    checkMD5: checkMD5
  };
const $JSON_UMENG_SESSIONS$ = "json_umeng_sessions",
  $JSON_UMENG_HALF_SESSIONS$ = "json_umeng_half_session",
  $JSON_UMENG_CURRENT_SESSION$ = "json_umeng_current_session",
  $JSON_UMENG_PAGE_END_TIME$ = "json_umeng_page_end_time",
  Session = function () {
    function t() {
      return {
        getCurrentSessionId() {
          return f;
        },
        getCurrentSession() {
          return a;
        },
        getSessions() {
          return l;
        },
        init(t) {
          this.appkey = t, o();
        },
        endSession() {
          a && (c = Date.now(), a.end_time = c, StorageUtil.putData($JSON_UMENG_CURRENT_SESSION$, UmengUtils.toStr(a)), StorageUtil.putData($JSON_UMENG_PAGE_END_TIME$, c));
        },
        clearSessions() {
          StorageUtil.deleteData($JSON_UMENG_SESSIONS$), l.splice(0, l.length), l = [];
        },
        setOnSessionListener(t) {
          this.sessionListener = t;
        },
        getHalfSessions() {
          return _;
        },
        clearHalfSession() {
          StorageUtil.deleteData($JSON_UMENG_HALF_SESSIONS$), _.splice(0, _.length), _ = [];
        }
      };
    }
    function e(t, e) {
      const n = Date.now();
      DeviceUtil.getUniqueId().then(t => {
        const o = UmengUtils.MD5(`${n}:::${Session.getInstance().appkey}:::${t}`);
        e(o);
      });
    }
    function n(t) {
      const e = {};
      return e.id = t, e.start_time = Date.now(), e;
    }
    function o() {
      const t = Date.now();
      a ? c && t - c > constants.SESSION_INTERVAL && (i(c), r(a)) : StorageUtil.getData($JSON_UMENG_CURRENT_SESSION$, e => {
        e && (a = UmengUtils.toObject(e)) ? StorageUtil.getData($JSON_UMENG_PAGE_END_TIME$, e => {
          e && t - e > constants.SESSION_INTERVAL ? (i(e), r(a)) : f = a.id;
        }) : r(null);
      });
    }
    function i(t) {
      try {
        a.end_time = parseInt(t, 10);
      } catch (e) {
        a.end_time = t;
      }
      const e = t - a.start_time;
      a.duration = e;
    }
    function r(t) {
      const o = t ? t.id : "",
        i = Session.getInstance().sessionListener(o);
      e(o, e => {
        a = n(e);
        StorageUtil.getData($JSON_UMENG_SESSIONS$, n => {
          l = UmengUtils.stringToArray(n);
          t ? i.pages(n => {
            n && n.length > 0 && (t.pages = n, t.$page_num = n.length);
            l.push(t);
            StorageUtil.putData($JSON_UMENG_SESSIONS$, UmengUtils.toStr(l));
            s(i, e);
          }) : s(i, e);
        });
        StorageUtil.putData($JSON_UMENG_CURRENT_SESSION$, UmengUtils.toStr(a));
        f = e;
      });
    }
    function s(t, e) {
      StorageUtil.getData($JSON_UMENG_HALF_SESSIONS$, n => {
        _ = UmengUtils.stringToArray(n);
        a && (_.push(JSON.parse(JSON.stringify(a))), StorageUtil.putData($JSON_UMENG_HALF_SESSIONS$, UmengUtils.toStr(_)), t.generateSessionAfterHandler(e));
      });
    }
    let c,
      a,
      u = null,
      f = "",
      l = [],
      _ = [];
    return {
      getInstance() {
        return u || (u = t()), u;
      }
    };
  }(),
  $JSON_UMENG_HEADER$ = "json_umeng_header",
  $UMENG_KEY_IMPRINT$ = "umeng_key_imprint",
  MOBILE_NETWORK_2G = "2g",
  MOBILE_NETWORK_3G = "3g",
  MOBILE_NETWORK_4G = "4g",
  MOBILE_NETWORK_NONE = "none",
  BLANK_SPACE = " ",
  UMENG_ADVERTISTING_ID = "idfa",
  UMENG_ANDROID_ID = "android_id",
  UMENG_OAID = "oaid",
  Header = function () {
    function t() {
      return {
        init(t) {
          this.appkey = t, this.appInfo = _system5.default.getInfo(), e(t => {
            this.header = t;
            StorageUtil.putData($JSON_UMENG_HEADER$, UmengUtils.toStr(t));
          });
        },
        getHeader(t) {
          switch (t) {
            case constants.REQUEST_TYPE_SESSION_HALF:
              this.header.st = "1", !0 === s && delete this.header.atm;
              break;
            case constants.REQUEST_TYPE_SESSION_CLOSE:
            case constants.REQUEST_TYPE_EVENT:
              delete this.header.st, delete this.header.atm;
          }
          return this.header;
        },
        addHeaderAttr(t, e) {
          this.header && (this.header[t] = e);
        },
        getHeaderAttr(t) {
          return this.header && {}.hasOwnProperty.call(this.header, t) ? this.header[t] : null;
        },
        getPackageName() {
          try {
            return this.appInfo.packageName;
          } catch (t) {}
          return "";
        },
        setFirstSendFlag() {
          s = !0;
        }
      };
    }
    function e(t) {
      DeviceUtil.getBaseInfo().then(e => {
        DeviceUtil.getUniqueId().then(r => {
          DeviceUtil.getNetworkInfo(s => {
            let {
              type: type
            } = s;
            type === MOBILE_NETWORK_NONE && (type = "unknown");
            const c = i(e, r, type);
            StorageUtil.getData($UMENG_KEY_IMPRINT$, e => {
              0 !== e.length && (c.imprint = e);
              StorageUtil.getData(constants.APP_FIRST_OPEN_FLAG, e => {
                const i = "true" === e;
                let r = new Date();
                i && (r = new Date(), c.atm = "1");
                console.log(r);
                StorageUtil.getData(constants.MOBILE_ADVERTISING_ID, e => {
                  if (e) {
                    const t = n(e);
                    if (t) {
                      const e = o(UMENG_ADVERTISTING_ID, t);
                      c.id_tracking = e;
                    }
                  }
                  StorageUtil.getData(constants.MOBILE_ANDROID_ID, e => {
                    if (e) {
                      const t = n(e);
                      if (t) if (c.id_tracking && c.id_tracking.snapshots) c.id_tracking.snapshots[UMENG_ANDROID_ID] = t;else {
                        const e = o(UMENG_ANDROID_ID, t);
                        c.id_tracking = e;
                      }
                    }
                    StorageUtil.getData(constants.MOBILE_OAID, e => {
                      if (e) {
                        const t = n(e);
                        if (t) if (c.id_tracking && c.id_tracking.snapshots) c.id_tracking.snapshots[UMENG_OAID] = t;else {
                          const e = o(UMENG_OAID, t);
                          c.id_tracking = e;
                        }
                      }
                      t(c);
                    });
                  });
                });
              });
            });
          });
        });
      });
    }
    function n(t) {
      if (t) {
        const e = {
          identity: t,
          version: 1,
          ts: Date.now()
        };
        return e;
      }
    }
    function o(t, e) {
      const n = {
        snapshots: {}
      };
      return n.snapshots[t] = e, n;
    }
    function i(t, e, n) {
      let o = null;
      if (t) {
        const n = t.screenWidth,
          i = t.screenHeight,
          s = n > i ? `${n}*${i}` : `${i}*${n}`,
          {
            appInfo: appInfo
          } = r,
          {
            model: model,
            brand: brand
          } = t,
          c = brand.toLowerCase();
        o = {
          app_version: appInfo.versionName,
          version_code: appInfo.versionCode,
          app_source_extra: appInfo.source.extra,
          device_type: "Phone",
          package_name: appInfo.packageName,
          sdk_type: "Android",
          os: "Android",
          sdk_version: constants.SDK_VERSION,
          appkey: r.appkey,
          device_model: model.toLowerCase().indexOf(c) > -1 ? model : c + BLANK_SPACE + model,
          device_brand: brand,
          channel: c,
          device_manufacturer: t.manufacturer,
          device_manuid: model.toLowerCase().indexOf(c) > -1 ? model : c + BLANK_SPACE + model,
          device_name: t.product.toLowerCase().indexOf(c) > -1 ? t.product : c + BLANK_SPACE + t.product,
          os_version: t.osVersionName,
          resolution: s,
          language: t.language,
          display_name: t.name,
          idmd5: UmengUtils.MD5(e),
          platform: "quickapp",
          pro_ver: "1"
        };
      } else o = {
        app_version: r.appInfo.versionName,
        version_code: r.appInfo.versionCode,
        device_type: "Phone",
        package_name: r.appInfo.packageName,
        sdk_type: "Android",
        os: "Android",
        sdk_version: constants.SDK_VERSION,
        appkey: r.appkey,
        idmd5: UmengUtils.MD5(e),
        platform: "quickapp",
        pro_ver: "1"
      };
      switch (n) {
        case MOBILE_NETWORK_4G:
          o.access_subtype = "LTE", o.access = "2G/3G";
          break;
        case MOBILE_NETWORK_3G:
          o.access_subtype = "CDMA", o.access = "2G/3G";
          break;
        case MOBILE_NETWORK_2G:
          o.access_subtype = "GRPS", o.access = "2G/3G";
          break;
        default:
          o.access = n, delete o.access_subtype;
      }
      return o;
    }
    let r = null,
      s = !1;
    return {
      getInstance() {
        return r || (r = t()), r;
      }
    };
  }();
Looper.prototype = {
  prepare(t) {
    this.queueObject = t, this.isRunning = !1, this.isForceStop = !1;
  },
  loop() {
    if (!this.isForceStop && this.queueObject && !this.isRunning) for (this.isRunning = !0; this.isRunning;) {
      if (!this.queueObject.isCanPop()) {
        this.isRunning = !1;
        break;
      }
      try {
        this.queueObject.dispatchMessage();
      } catch (t) {}
    }
  },
  wait() {
    this.isRunning = !1;
  },
  forceStop() {
    this.isForceStop = !0;
  },
  cancelForceStop() {
    this.isForceStop = !1, this.loop();
  }
};
const RequestQueue = function () {
    function t(t) {
      return !!t && (f.unshift(t), u.loop(), !0);
    }
    function e() {
      if (f.length > 0) return f.pop();
      const t = l.length;
      return t > 0 ? (1 === t && RequestHelper.getInstance().clearNoSendDatas(), l.pop()) : null;
    }
    function n(t, e) {
      const n = setTimeout(() => {
          o(t);
        }, 3e4),
        i = {
          key: t,
          timeOutFun: n,
          isExe: !1
        };
      g.push(i), e(t => {
        o(t);
      });
    }
    function o(t) {
      for (let e = g.length - 1; e >= 0; e--) {
        const n = g[e];
        if (n.key === t) {
          if (!n.isExe) {
            n.isExe = !0;
            const t = n.timeOutFun;
            t && clearTimeout(t), i(), g.splice(e, 1);
          }
          break;
        }
      }
    }
    function i() {
      (E -= 1) <= _ && u.loop();
    }
    function r(t) {
      const e = g.length,
        n = t.md5Key;
      for (let t = e - 1; t >= 0; t--) {
        const e = g[t];
        if (e.key === n) return i(), !0;
      }
      return !1;
    }
    function s() {
      RequestHelper.getInstance().onNoSendDatasListener(t => {
        if (!t || 0 === t.length) return;
        for (const e in t) if ({}.hasOwnProperty.call(t, e)) {
          const n = {
            md5Key: t[e],
            type: "second"
          };
          l.push(n);
        }
        u.loop();
      });
    }
    function c() {
      return s(), {
        handleMessage(e, n) {
          e && "second" === e.type && i(), e && e.data && (e.executeFunction = n, t(e));
        },
        dispatchMessage() {
          if (E > _) return void u.wait();
          E += 1;
          const t = e();
          r(t) || (t.data ? n(t.md5Key, t.executeFunction) : RequestHelper.getInstance().send(t), this.isCanPop() || u.wait());
        },
        isCanPop() {
          return f.length > 0 || l.length > 0;
        }
      };
    }
    let a, u;
    const f = [],
      l = [],
      _ = 3;
    let E = 1;
    const g = [];
    return {
      getInstance() {
        return a || (a = c(), (u = new Looper()).prepare(a)), a;
      }
    };
  }(),
  StoreQueue = function () {
    function t(t) {
      if (!t) return !1;
      const e = {
        key: t,
        type: _
      };
      return u.unshift(e), a.loop(), !0;
    }
    function e() {
      if (u.length > 0) return u.pop();
      const t = f.length;
      if (t > 0) {
        const e = f.pop();
        return 0 === t && n(), e;
      }
      return n(), null;
    }
    function n() {
      g || (g = !0, StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, t => {
        g = !1;
        if (!t) return;
        const e = UmengUtils.stringToArray(t);
        const n = t => e => {
          e && '""' !== e || (e = {
            key: t,
            type: E
          }, f.push(e));
          f.length > 0 && a.loop();
        };
        for (const t in e) if ({}.hasOwnProperty.call(e, t)) {
          const o = e[t];
          StorageUtil.getData(o, n(o));
        }
      }, () => {
        g = !1;
      }));
    }
    function o(t) {
      StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, e => {
        e = e ? UmengUtils.toObject(e) : [];
        e.push(t);
        StorageUtil.putData(constants.KEY_NO_SEND_REQUEST_KEYS, UmengUtils.toStr(e), () => {
          r(t);
        }, () => {
          r(t);
        });
      }, () => {
        r(t);
      });
    }
    function i(t) {
      StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, e => {
        if (!e) return void r(t);
        e = UmengUtils.stringToArray(e);
        for (const n in e) if ({}.hasOwnProperty.call(e, n)) {
          const o = e[n];
          if (o === t) {
            e.splice(n, 1);
            break;
          }
        }
        StorageUtil.putData(constants.KEY_NO_SEND_REQUEST_KEYS, UmengUtils.toStr(e), () => {
          r(t);
        }, () => {
          r(t);
        });
      }, () => {
        r(t);
      });
    }
    function r() {
      (d -= 1) <= l && a.loop();
    }
    function s() {
      return n(), {
        handleMessage(e) {
          e ? t(e) : n();
        },
        dispatchMessage() {
          if (d > l) return void a.wait();
          d += 1;
          const t = e();
          if (!t || null === t) return void r();
          const {
            key: key
          } = t;
          t.type === _ ? o(key) : i(key), this.isCanPop() || a.wait();
        },
        isCanPop() {
          return u.length > 0 || f.length > 0;
        }
      };
    }
    let c, a;
    const u = [],
      f = [],
      l = 1,
      _ = "write",
      E = "delete";
    let g = !1,
      d = 1;
    return {
      getInstance() {
        return c || (c = s(), (a = new Looper()).prepare(c)), c;
      }
    };
  }(),
  $UMENG_KEY_IMPRINT$$1 = "umeng_key_imprint";
let noSendRequestKeys = [];
const RequestHelper = function () {
    function t() {
      const t = [].concat(Session.getInstance().getSessions());
      if (t && 0 !== t.length) return Session.getInstance().clearSessions(), t;
    }
    function e() {
      const t = [].concat(Session.getInstance().getHalfSessions());
      if (t && 0 !== t.length) return Session.getInstance().clearHalfSession(), t;
    }
    function n(t) {
      StorageUtil.deleteData(t, t => {
        t && StoreQueue.getInstance().handleMessage(null);
      });
    }
    function o(t, e, o, r) {
      if (!t || '""' === t) return void (o && o(e));
      const s = constants.RELEASE_URL;
      _system6.default.fetch({
        url: s,
        method: "POST",
        data: UmengUtils.encode(t),
        header: {
          "Content-Type": "quickapp/json",
          "Msg-Type": "quickapp/json"
        },
        success(t) {
          if (200 === t.code) {
            Log.i("*** umeng_sdk *** request send success"), n(e), r && r(e);
            try {
              const e = UmengUtils.toObject(t.data);
              i(e.imprint);
            } catch (t) {}
          } else 413 === t.code && (Log.i("*** umeng_sdk *** request is to large!"), n(e), r && r(e));
        },
        fail: function (t, e) {
          Log.i("*** umeng_sdk *** request error, please check your permission! ");
        },
        complete() {
          o && o(e);
        }
      });
    }
    function i(t) {
      try {
        if (t) {
          StorageUtil.putData($UMENG_KEY_IMPRINT$$1, t), Header.getInstance().addHeaderAttr("imprint", t);
          const e = UmengUtils.toObject(UmengUtils.decode(t)),
            n = e.report_policy;
          if (n && UmengUtils.isNotANumber(n)) {
            if (StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, n), n === constants.EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE) {
              let t = e.report_interval;
              t && UmengUtils.isNotANumber(t) ? (t <= constants.EVENT_SEND_MIN_INTERVAL ? t = constants.EVENT_SEND_MIN_INTERVAL : t > constants.EVENT_SEND_MAX_INTERVAL && (t = constants.EVENT_SEND_MAX_INTERVAL), StorageUtil.putData(constants.EVENT_SEND_REPORT_INTERVAL_TIME, t)) : StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
            }
          } else StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
        }
      } catch (t) {}
    }
    function r(t, e) {
      const n = UmengUtils.toStr(e);
      let o = null;
      switch (t) {
        case constants.REQUEST_TYPE_SESSION_HALF:
          o = constants.KEY_HALF_SESSION_PREFIX;
          break;
        case constants.REQUEST_TYPE_SESSION_CLOSE:
          o = constants.KEY_CLOSE_SESSION_PREFIX;
          break;
        case constants.REQUEST_TYPE_EVENT:
          o = constants.KEY_EVENT_PREFIX;
      }
      const i = o + UmengUtils.MD5(n);
      return StorageUtil.putData(i, n), StoreQueue.getInstance().handleMessage(i), 0 === noSendRequestKeys.length && StorageUtil.getData(constants.KEY_NO_SEND_REQUEST_KEYS, t => {
        if (!t) return;
        const e = UmengUtils.stringToArray(t);
        0 === noSendRequestKeys.length && (noSendRequestKeys = e, a && a(noSendRequestKeys));
      }), i;
    }
    function s() {
      return {
        paramsIsValid(t) {
          return -1 !== [constants.REQUEST_TYPE_SESSION_HALF, constants.REQUEST_TYPE_SESSION_CLOSE, constants.REQUEST_TYPE_EVENT].indexOf(t);
        },
        buildSendContent(n, o) {
          if (Header.getInstance().getHeader(n)) {
            const i = {
              header: Header.getInstance().getHeader(n),
              analytics: null
            };
            switch (n) {
              case constants.REQUEST_TYPE_SESSION_HALF:
                {
                  const t = e();
                  if (!t) break;
                  i.analytics = {
                    sessions: t
                  };
                  break;
                }
              case constants.REQUEST_TYPE_SESSION_CLOSE:
                {
                  const e = t();
                  if (!e) break;
                  i.analytics = {
                    sessions: e
                  };
                  break;
                }
              case constants.REQUEST_TYPE_EVENT:
                o && o.length > 0 && (i.analytics = {
                  ekv: o
                });
            }
            let s = "";
            return i.analytics && (s = r(n, i)), {
              data: i,
              md5Key: s
            };
          }
        },
        send(t, e) {
          const n = t.md5Key;
          n && ("second" === t.type ? StorageUtil.getData(n, n => {
            t.data = UmengUtils.toObject(n);
            t.data || e && e();
            RequestQueue.getInstance().handleMessage(t, n => {
              o(UmengUtils.toStr(t.data), t.md5Key, n, e);
            });
          }) : RequestQueue.getInstance().handleMessage(t, n => {
            o(UmengUtils.toStr(t.data), t.md5Key, n, e);
          }));
        },
        getNoSendRequestKeys() {
          return noSendRequestKeys;
        },
        onNoSendDatasListener(t) {
          a = t;
        },
        clearNoSendDatas() {
          noSendRequestKeys.splice(0, noSendRequestKeys.length), noSendRequestKeys = [];
        }
      };
    }
    let c, a;
    return {
      getInstance() {
        return c || (c = s()), c;
      }
    };
  }(),
  EventStoreQueue = function () {
    function t(t) {
      if (t) {
        if (!Session.getInstance().getCurrentSessionId()) return void U.unshift(t);
        p.unshift(t), p.length >= _ && g.loop();
      }
    }
    function e() {
      return p.length < _ ? null : p.splice(0, _);
    }
    function n() {
      h && h.length > 0 && s(t => {
        for (const e in h) if ({}.hasOwnProperty.call(h, e)) try {
          h[e](t);
        } catch (t) {}
      }), (d -= 1) < 1 && (d = 1), d <= E && g.loop();
    }
    function o(t, e) {
      StorageUtil.putData(u, e, () => {
        StorageUtil.putData(f, UmengUtils.toStr(t), () => {
          n();
        }, () => {
          n();
        });
      }, () => {
        n();
      });
    }
    function i(t, e) {
      t && (h[t] = e);
    }
    function r(t) {
      t && delete h[t];
    }
    function s(t) {
      StorageUtil.getData(f, e => {
        StorageUtil.deleteData(f, () => {
          const n = c(UmengUtils.stringToArray(e), p);
          p.splice(0, p.length);
          t(n);
          g.cancelForceStop();
        });
      }, () => {
        t([]);
        g.cancelForceStop();
      });
    }
    function c(t, e) {
      const n = Session.getInstance().getCurrentSessionId();
      let o,
        i = -1;
      for (const e in t) if ({}.hasOwnProperty.call(t, e)) {
        const r = t[e];
        if (o = r[n]) {
          i = e;
          break;
        }
      }
      return -1 === i && (o = []), (o = o.concat(e)) && 0 !== o.length ? (-1 === i ? t.push({
        [n]: o
      }) : t[i][n] = o, t) : t;
    }
    function a() {
      return {
        saveEkvData(e) {
          t(e), Log.d(`[saveEkvData] data is ${UmengUtils.toStr(e)}`);
        },
        readEkvDatas(t) {
          t && (g.forceStop(), d <= E ? s(e => {
            t(e);
            g.cancelForceStop();
          }) : i("readEkvDatas", e => {
            t(e);
            r("readEkvDatas");
            g.cancelForceStop();
          }));
        },
        handlerNoSessionEkvDatas() {
          if (U && U.length > 0) {
            Log.d(`no sessionId event is ${JSON.stringify(U)}`);
            for (const t in U) ({}).hasOwnProperty.call(U, t) && this.saveEkvData(U[t]);
            U.splice(0, U.length);
          }
        },
        quitHandler() {
          0 !== p.length && (g.forceStop(), d <= E ? StorageUtil.getData(f, t => {
            const e = c(UmengUtils.stringToArray(t), p);
            StorageUtil.putData(f, UmengUtils.toStr(e));
            p.splice(0, p.length);
            g.cancelForceStop();
          }, () => {
            g.cancelForceStop();
          }) : i("quitHandler", t => {
            const e = UmengUtils.toStr(c(t, p));
            StorageUtil.putData(f, e);
            p.splice(0, p.length);
            r("quitHandler");
            g.cancelForceStop();
          }));
        },
        dispatchMessage() {
          if (d > E) return void g.wait();
          d += 1;
          const t = e();
          if (!t || 0 === t.length) return void n();
          StorageUtil.getData(u, e => {
            e || (e = 0);
            e >= l + t.length ? n() : StorageUtil.getData(f, n => {
              const i = c(UmengUtils.stringToArray(n), t);
              o(i, Number(e) + Number(t.length));
            }, () => {
              n();
            });
          }, () => {
            n();
          });
        },
        isCanPop() {
          return p.length >= _;
        }
      };
    }
    const u = "umeng_ekv_count_key",
      f = "umeng_key_ekvs",
      l = 1e4,
      _ = 5,
      E = 1;
    let g,
      d = 1,
      S = null;
    const h = {},
      p = [],
      U = [];
    return {
      getInstance() {
        return S || (S = new a(), (g = new Looper()).prepare(S)), S;
      }
    };
  }(),
  EventController = function () {
    function t(t, e) {
      const n = {
        id: t,
        ts: Date.now()
      };
      switch (typeof e) {
        case "string":
          n[t] = e;
          break;
        case "object":
          for (const t in e) ({}).hasOwnProperty.call(e, t) && (n[t] = e[t]);
      }
      return n;
    }
    function e() {
      StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY, t => {
        t === constants.EVENT_SEND_REPORT_POLICY_INTERVAL_VALUE && StorageUtil.getData(constants.EVENT_SEND_REPORT_INTERVAL_TIME, t => {
          StorageUtil.getData(constants.EVENT_LAST_SEND_TIME, e => {
            if (t) {
              const n = Date.now();
              e && n - e > 1e3 * t && Request.sendAll();
            } else StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
          });
        });
      });
    }
    function n() {
      return {
        addEvent(n, o) {
          const i = t(n, o);
          EventStoreQueue.getInstance().saveEkvData(i), e();
        },
        handlerNoSessionEkvDatas() {
          EventStoreQueue.getInstance().handlerNoSessionEkvDatas();
        },
        quitHandler() {
          EventStoreQueue.getInstance().quitHandler();
        },
        setSendTime() {
          StorageUtil.putData(constants.EVENT_LAST_SEND_TIME, Date.now());
        }
      };
    }
    let o;
    return {
      getInstance() {
        return o || (o = n()), o;
      }
    };
  }();
let time = 0;
var Request = {
  send: send,
  sendAll: sendAll
};
const KEY_PRE_PAGE = "umeng_page_";
PageController.prototype = {
  addCurrentPage(t) {
    this._currentPage = {
      ts: Date.now(),
      page_name: DeviceUtil.getPageName()
    }, this.pageObject = t;
  },
  savePage(t, e) {
    if (t && e && this._currentPage.page_name && e === this.pageObject) {
      const e = Date.now() - this._currentPage.ts;
      this._currentPage.duration = Math.abs(e), this._pagelist = this._pagelist.concat(this._currentPage), this._currentPage = {}, this.pageObject = {}, this.saveStroragePages(t);
    }
  },
  saveStroragePages(t) {
    t && this._pagelist.length > 0 && this.updateStorage(KEY_PRE_PAGE + t, this._pagelist);
  },
  getPages(t, e) {
    StorageUtil.getData(KEY_PRE_PAGE + t, n => {
      const o = UmengUtils.stringToArray(n).concat(this._pagelist);
      this.clear(t);
      e && e(o);
    }, () => {
      e && e(null);
    });
  },
  updateStorage(t, e) {
    e && 0 !== e.length && StorageUtil.getData(t, n => {
      const o = UmengUtils.stringToArray(n).concat(e);
      StorageUtil.putData(t, UmengUtils.toStr(o), () => {
        this._pagelist = [];
      });
    });
  },
  clear(t) {
    StorageUtil.deleteData(KEY_PRE_PAGE + t), this._pagelist = [];
  }
};
let inited = !1;
UmengAnalysisLib.prototype = {
  init(t) {
    if (Log.i(`*** umeng_sdk *** sdk version is: ${constants.SDK_VERSION}`), !inited) {
      try {
        this.appkey = t.$data.umeng_appkey;
      } catch (t) {}
      if (!this.appkey) return inited = !1, void console.error("please set umeng_appkey : [manifest.json --\x3e config:{data:{umeng_appkey: xxx}}]");
      inited = !0, Header.getInstance().init(this.appkey);
      const e = this;
      if (Session.getInstance().setOnSessionListener(t => ({
        pages(n) {
          e.pageController.getPages(t, n);
        },
        generateSessionAfterHandler(t) {
          EventController.getInstance().handlerNoSessionEkvDatas(), sendDatas();
        }
      })), StorageUtil.getData(constants.APP_FIRST_OPEN_FLAG, t => {
        0 === t.length && StorageUtil.putData(constants.APP_FIRST_OPEN_FLAG, "true");
      }), StorageUtil.getData(constants.EVENT_SEND_REPORT_POLICY, t => {
        t || StorageUtil.putData(constants.EVENT_SEND_REPORT_POLICY, constants.EVENT_SEND_REPORT_POLICY_START_SEND_VALUE);
      }), StorageUtil.getData(constants.EVENT_LAST_SEND_TIME, t => {
        t || EventController.getInstance().setSendTime();
      }), t) try {
        Object.defineProperty(t, "_status", {
          set(t) {
            "destroy" === t && Request.sendAll();
          }
        });
      } catch (t) {}
    }
  },
  resume(t) {
    isInit() && t && (Log.i(`*** umeng_sdk *** page name: ${DeviceUtil.getPageName()}`), this.pageController.addCurrentPage(t), Session.getInstance().init(this.appkey));
  },
  pause(t) {
    isInit() && t && (this.pageController.savePage(Session.getInstance().getCurrentSessionId(), t), Session.getInstance().endSession(), EventController.getInstance().quitHandler());
  },
  trackEvent(t, e) {
    if (isInit()) return UmengUtils.checkId(t) ? e && !UmengUtils.checkAttrOrString(e) ? (console.error("error-----please check trackEvent attr. attr should be 'String' or 'Object'(not include 'Array')"), !1) : (Log.i(`*** umeng_sdk *** event id: ${UmengUtils.toStr(t)}${e ? ` || event attr: ${UmengUtils.toStr(e)}` : ""}`), EventController.getInstance().addEvent(t, e), !0) : (console.error("error-----please check trackEvent id. id should be 'String' and not null"), !1);
  }
};
const FileUtils = {
    getFile(t, e, n) {
      _system7.default.readText({
        uri: t,
        success(t) {
          e && e(t.text);
        },
        fail(t, e) {
          n && n(t, e);
        }
      });
    },
    moveFile(t, e, n, o) {
      _system7.default.move({
        srcUri: t,
        dstUri: e,
        success(t) {
          n && n(t);
        },
        fail(t, e) {
          o && o(t, e);
        }
      });
    },
    deleteFile(t, e, n) {
      _system7.default.delete({
        uri: t,
        success(t) {
          e && e(t);
        },
        fail(t, e) {
          n && n(t, e);
        }
      });
    }
  },
  modules = {
    "@system.app": $app_require$("@app-module/system.app"),
    "@system.storage": $app_require$("@app-module/system.storage"),
    "@system.fetch": $app_require$("@app-module/system.fetch"),
    "@system.network": $app_require$("@app-module/system.network"),
    "@system.device": $app_require$("@app-module/system.device"),
    "@system.router": $app_require$("@app-module/system.router"),
    "@system.file": $app_require$("@app-module/system.file")
  },
  callQueue = [],
  umeng_stat_global = Object.getPrototypeOf(global) || global;
SdkUpdater.prototype = {
  init(t, e) {
    this.installApi(t, null);
    try {
      DeviceUtil.getSystemBaseInfo(t => {
        1e3 === t.platformVersionCode ? e(0) : StorageUtil.getData(constants.DOWNLOAD_FILE_FIRST_CACHE, t => {
          t ? this.getSdkFileContent(t, (t, n, o) => {
            t ? e(1, n, o) : this.getSecondCacheFile(e);
          }) : this.getSecondCacheFile(e);
        });
      });
    } catch (t) {
      e(0);
    }
  },
  getSecondCacheFile(t) {
    StorageUtil.getData(constants.DOWNLOAD_FILE_SECOND_CACHE, e => {
      e ? this.getSdkFileContent(e, t) : t(0);
    });
  },
  getSdkFileContent(t, e) {
    try {
      const n = UmengUtils.toObject(t);
      Log.d(`current sdk:${n.version}${n.md5}${n.filePath}`), FileUtils.getFile(n.filePath, t => {
        UmengUtils.checkMD5(n.md5, t) ? e(1, t, n.version) : e(0);
      }, () => {
        e(0);
      });
    } catch (t) {
      e(0);
    }
    return !1;
  },
  downloadFile(t, e, n, o, i) {
    try {
      _system8.default.download({
        url: t,
        success(t) {
          Log.d(`handling success ${t.token}`), _system8.default.onDownloadComplete({
            token: t.token,
            success(t) {
              try {
                const r = t.uri,
                  s = r.split("/"),
                  c = s[s.length - 1];
                let a = constants.SDK_UPDATE_LOCAL_STORAGE_PATH;
                a = `${a + Date.now()}/${c}`, FileUtils.moveFile(t.uri, a, t => {
                  const r = {
                    version: e,
                    md5: n,
                    filePath: t,
                    stable: o
                  };
                  i(r);
                });
              } catch (t) {}
            },
            fail(t, e) {}
          });
        },
        fail() {}
      });
    } catch (t) {}
  },
  storageFileInfo(t) {
    try {
      FileUtils.getFile(t.filePath, e => {
        Log.d(`---------${JSON.stringify(t)}-----------${UmengUtils.MD5(e)}`);
        e && t.md5 && t.md5 === UmengUtils.MD5(e) ? (StorageUtil.getData(constants.DOWNLOAD_FILE_FIRST_CACHE, e => {
          StorageUtil.putData(constants.DOWNLOAD_FILE_FIRST_CACHE, t, () => {
            if (e) {
              const t = UmengUtils.toObject(e);
              !t.stable && t.filePath && FileUtils.deleteFile(t.filePath);
            }
          });
        }), t.stable ? StorageUtil.getData(constants.DOWNLOAD_FILE_SECOND_CACHE, e => {
          StorageUtil.putData(constants.DOWNLOAD_FILE_SECOND_CACHE, t, () => {
            if (e) {
              const t = UmengUtils.toObject(e);
              t.filePath && FileUtils.deleteFile(t.filePath);
            }
          });
        }) : StorageUtil.putData(constants.DOWNLOAD_FILE_FIRST_CACHE, t)) : FileUtils.deleteFile(t.filePath, () => {});
      });
    } catch (t) {
      Log.d(`error message: ${t.toString()}`);
    }
  },
  checkVersionNew(t, e, n, o, i, r) {
    const s = {
      version: t,
      platform: "quickapp",
      appVersion: n,
      appKey: e,
      seedVersion: o,
      systemBaseInfo: i
    };
    _system6.default.fetch({
      url: this.url,
      method: "POST",
      data: s,
      success(t) {
        if (200 === t.code) try {
          const e = UmengUtils.toObject(t.data);
          if (200 === e.code && e.data.update) {
            const t = e.data.info;
            t && r(t);
          }
        } catch (t) {}
      },
      fail(t, e) {},
      complete() {}
    });
  },
  createMethod(t, e, n) {
    try {
      t[e] = n ? function (...t) {
        return n[e](...t);
      } : function (...t) {
        callQueue.push([e, t]);
      };
    } catch (t) {}
  },
  installApi(t, e) {
    try {
      const n = ["resume", "pause", "trackEvent"];
      for (let o = 0, i = n.length; o < i; o++) this.createMethod(t, n[o], e);
      if (e) for (let t = 0, n = callQueue.length; t < n; t++) {
        const n = callQueue[t];
        e[n[0]](...n[1]);
      }
    } catch (t) {}
  },
  compileModule(t, e) {
    try {
      const t = new Function("module", "exports", "require", e),
        n = {
          exports: {}
        },
        o = function (t) {
          return t in modules ? modules[t] : __webpack_require__("./src/Common/libs/umeng sync recursive")(t);
        };
      return t(n, n.exports, o), n.exports;
    } catch (t) {}
  },
  loadModule(t, e) {
    try {
      let n;
      if (0 === t) n = UmengAnalysisLib;else try {
        n = this.compileModule(t, e);
      } catch (t) {
        n = UmengAnalysisLib;
      }
      return n;
    } catch (t) {}
    return null;
  }
};
const UmengAnalysis = {
  seed_version: "0.0.1",
  version: constants.SDK_VERSION,
  appKey: "",
  _impl: null,
  _inited: !1,
  init(t) {
    if (!this._inited) {
      this._inited = !0, umeng_stat_global.userDubug = !!t.$data.umeng_debug, this.appKey = t.$data.umeng_appkey;
      const e = new SdkUpdater();
      e.init(this, (n, o, i) => {
        const r = e.loadModule(n, o);
        if (r) {
          const n = new r();
          this._impl = n, n.init(t), e.installApi(this, n);
        }
        i || (i = this.version);
        DeviceUtil.getSystemBaseInfo(t => {
          if (1e3 === t.platformVersionCode) return;
          e.checkVersionNew(i, this.appKey, _system5.default.getInfo().versionName, this.seed_version, t, t => {
            t && e.downloadFile(t.fileUrl, t.version, t.fileMD5, t.stable, t => {
              e.storageFileInfo(t);
            });
          });
        });
      });
    }
  }
};
!function () {
  umeng_stat_global && (umeng_stat_global.$umeng_stat = UmengAnalysis, umeng_stat_global.Page = Page);
}();
var _default = exports["default"] = UmengAnalysis;

/***/ }),

/***/ "./node_modules/js-base64/base64.js":
/*!******************************************!*\
  !*** ./node_modules/js-base64/base64.js ***!
  \******************************************/
/***/ (function(module) {

//
// THIS FILE IS AUTOMATICALLY GENERATED! DO NOT EDIT BY HAND!
//
;
(function (global, factory) {
     true
        ? module.exports = factory()
        : 0;
}((typeof self !== 'undefined' ? self
    : typeof window !== 'undefined' ? window
        : typeof global !== 'undefined' ? global
            : this), function () {
    'use strict';
    /**
     *  base64.ts
     *
     *  Licensed under the BSD 3-Clause License.
     *    http://opensource.org/licenses/BSD-3-Clause
     *
     *  References:
     *    http://en.wikipedia.org/wiki/Base64
     *
     * @author Dan Kogai (https://github.com/dankogai)
     */
    var version = '3.7.2';
    /**
     * @deprecated use lowercase `version`.
     */
    var VERSION = version;
    var _hasatob = typeof atob === 'function';
    var _hasbtoa = typeof btoa === 'function';
    var _hasBuffer = typeof Buffer === 'function';
    var _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;
    var _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;
    var b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
    var b64chs = Array.prototype.slice.call(b64ch);
    var b64tab = (function (a) {
        var tab = {};
        a.forEach(function (c, i) { return tab[c] = i; });
        return tab;
    })(b64chs);
    var b64re = /^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;
    var _fromCC = String.fromCharCode.bind(String);
    var _U8Afrom = typeof Uint8Array.from === 'function'
        ? Uint8Array.from.bind(Uint8Array)
        : function (it, fn) {
            if (fn === void 0) { fn = function (x) { return x; }; }
            return new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));
        };
    var _mkUriSafe = function (src) { return src
        .replace(/=/g, '').replace(/[+\/]/g, function (m0) { return m0 == '+' ? '-' : '_'; }); };
    var _tidyB64 = function (s) { return s.replace(/[^A-Za-z0-9\+\/]/g, ''); };
    /**
     * polyfill version of `btoa`
     */
    var btoaPolyfill = function (bin) {
        // console.log('polyfilled');
        var u32, c0, c1, c2, asc = '';
        var pad = bin.length % 3;
        for (var i = 0; i < bin.length;) {
            if ((c0 = bin.charCodeAt(i++)) > 255 ||
                (c1 = bin.charCodeAt(i++)) > 255 ||
                (c2 = bin.charCodeAt(i++)) > 255)
                throw new TypeError('invalid character found');
            u32 = (c0 << 16) | (c1 << 8) | c2;
            asc += b64chs[u32 >> 18 & 63]
                + b64chs[u32 >> 12 & 63]
                + b64chs[u32 >> 6 & 63]
                + b64chs[u32 & 63];
        }
        return pad ? asc.slice(0, pad - 3) + "===".substring(pad) : asc;
    };
    /**
     * does what `window.btoa` of web browsers do.
     * @param {String} bin binary string
     * @returns {string} Base64-encoded string
     */
    var _btoa = _hasbtoa ? function (bin) { return btoa(bin); }
        : _hasBuffer ? function (bin) { return Buffer.from(bin, 'binary').toString('base64'); }
            : btoaPolyfill;
    var _fromUint8Array = _hasBuffer
        ? function (u8a) { return Buffer.from(u8a).toString('base64'); }
        : function (u8a) {
            // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326
            var maxargs = 0x1000;
            var strs = [];
            for (var i = 0, l = u8a.length; i < l; i += maxargs) {
                strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));
            }
            return _btoa(strs.join(''));
        };
    /**
     * converts a Uint8Array to a Base64 string.
     * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5
     * @returns {string} Base64 string
     */
    var fromUint8Array = function (u8a, urlsafe) {
        if (urlsafe === void 0) { urlsafe = false; }
        return urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);
    };
    // This trick is found broken https://github.com/dankogai/js-base64/issues/130
    // const utob = (src: string) => unescape(encodeURIComponent(src));
    // reverting good old fationed regexp
    var cb_utob = function (c) {
        if (c.length < 2) {
            var cc = c.charCodeAt(0);
            return cc < 0x80 ? c
                : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))
                    + _fromCC(0x80 | (cc & 0x3f)))
                    : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))
                        + _fromCC(0x80 | ((cc >>> 6) & 0x3f))
                        + _fromCC(0x80 | (cc & 0x3f)));
        }
        else {
            var cc = 0x10000
                + (c.charCodeAt(0) - 0xD800) * 0x400
                + (c.charCodeAt(1) - 0xDC00);
            return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))
                + _fromCC(0x80 | ((cc >>> 12) & 0x3f))
                + _fromCC(0x80 | ((cc >>> 6) & 0x3f))
                + _fromCC(0x80 | (cc & 0x3f)));
        }
    };
    var re_utob = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;
    /**
     * @deprecated should have been internal use only.
     * @param {string} src UTF-8 string
     * @returns {string} UTF-16 string
     */
    var utob = function (u) { return u.replace(re_utob, cb_utob); };
    //
    var _encode = _hasBuffer
        ? function (s) { return Buffer.from(s, 'utf8').toString('base64'); }
        : _TE
            ? function (s) { return _fromUint8Array(_TE.encode(s)); }
            : function (s) { return _btoa(utob(s)); };
    /**
     * converts a UTF-8-encoded string to a Base64 string.
     * @param {boolean} [urlsafe] if `true` make the result URL-safe
     * @returns {string} Base64 string
     */
    var encode = function (src, urlsafe) {
        if (urlsafe === void 0) { urlsafe = false; }
        return urlsafe
            ? _mkUriSafe(_encode(src))
            : _encode(src);
    };
    /**
     * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.
     * @returns {string} Base64 string
     */
    var encodeURI = function (src) { return encode(src, true); };
    // This trick is found broken https://github.com/dankogai/js-base64/issues/130
    // const btou = (src: string) => decodeURIComponent(escape(src));
    // reverting good old fationed regexp
    var re_btou = /[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g;
    var cb_btou = function (cccc) {
        switch (cccc.length) {
            case 4:
                var cp = ((0x07 & cccc.charCodeAt(0)) << 18)
                    | ((0x3f & cccc.charCodeAt(1)) << 12)
                    | ((0x3f & cccc.charCodeAt(2)) << 6)
                    | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;
                return (_fromCC((offset >>> 10) + 0xD800)
                    + _fromCC((offset & 0x3FF) + 0xDC00));
            case 3:
                return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)
                    | ((0x3f & cccc.charCodeAt(1)) << 6)
                    | (0x3f & cccc.charCodeAt(2)));
            default:
                return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)
                    | (0x3f & cccc.charCodeAt(1)));
        }
    };
    /**
     * @deprecated should have been internal use only.
     * @param {string} src UTF-16 string
     * @returns {string} UTF-8 string
     */
    var btou = function (b) { return b.replace(re_btou, cb_btou); };
    /**
     * polyfill version of `atob`
     */
    var atobPolyfill = function (asc) {
        // console.log('polyfilled');
        asc = asc.replace(/\s+/g, '');
        if (!b64re.test(asc))
            throw new TypeError('malformed base64.');
        asc += '=='.slice(2 - (asc.length & 3));
        var u24, bin = '', r1, r2;
        for (var i = 0; i < asc.length;) {
            u24 = b64tab[asc.charAt(i++)] << 18
                | b64tab[asc.charAt(i++)] << 12
                | (r1 = b64tab[asc.charAt(i++)]) << 6
                | (r2 = b64tab[asc.charAt(i++)]);
            bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)
                : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)
                    : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);
        }
        return bin;
    };
    /**
     * does what `window.atob` of web browsers do.
     * @param {String} asc Base64-encoded string
     * @returns {string} binary string
     */
    var _atob = _hasatob ? function (asc) { return atob(_tidyB64(asc)); }
        : _hasBuffer ? function (asc) { return Buffer.from(asc, 'base64').toString('binary'); }
            : atobPolyfill;
    //
    var _toUint8Array = _hasBuffer
        ? function (a) { return _U8Afrom(Buffer.from(a, 'base64')); }
        : function (a) { return _U8Afrom(_atob(a), function (c) { return c.charCodeAt(0); }); };
    /**
     * converts a Base64 string to a Uint8Array.
     */
    var toUint8Array = function (a) { return _toUint8Array(_unURI(a)); };
    //
    var _decode = _hasBuffer
        ? function (a) { return Buffer.from(a, 'base64').toString('utf8'); }
        : _TD
            ? function (a) { return _TD.decode(_toUint8Array(a)); }
            : function (a) { return btou(_atob(a)); };
    var _unURI = function (a) { return _tidyB64(a.replace(/[-_]/g, function (m0) { return m0 == '-' ? '+' : '/'; })); };
    /**
     * converts a Base64 string to a UTF-8 string.
     * @param {String} src Base64 string.  Both normal and URL-safe are supported
     * @returns {string} UTF-8 string
     */
    var decode = function (src) { return _decode(_unURI(src)); };
    /**
     * check if a value is a valid Base64 string
     * @param {String} src a value to check
      */
    var isValid = function (src) {
        if (typeof src !== 'string')
            return false;
        var s = src.replace(/\s+/g, '').replace(/={0,2}$/, '');
        return !/[^\s0-9a-zA-Z\+/]/.test(s) || !/[^\s0-9a-zA-Z\-_]/.test(s);
    };
    //
    var _noEnum = function (v) {
        return {
            value: v, enumerable: false, writable: true, configurable: true
        };
    };
    /**
     * extend String.prototype with relevant methods
     */
    var extendString = function () {
        var _add = function (name, body) { return Object.defineProperty(String.prototype, name, _noEnum(body)); };
        _add('fromBase64', function () { return decode(this); });
        _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });
        _add('toBase64URI', function () { return encode(this, true); });
        _add('toBase64URL', function () { return encode(this, true); });
        _add('toUint8Array', function () { return toUint8Array(this); });
    };
    /**
     * extend Uint8Array.prototype with relevant methods
     */
    var extendUint8Array = function () {
        var _add = function (name, body) { return Object.defineProperty(Uint8Array.prototype, name, _noEnum(body)); };
        _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });
        _add('toBase64URI', function () { return fromUint8Array(this, true); });
        _add('toBase64URL', function () { return fromUint8Array(this, true); });
    };
    /**
     * extend Builtin prototypes with relevant methods
     */
    var extendBuiltins = function () {
        extendString();
        extendUint8Array();
    };
    var gBase64 = {
        version: version,
        VERSION: VERSION,
        atob: _atob,
        atobPolyfill: atobPolyfill,
        btoa: _btoa,
        btoaPolyfill: btoaPolyfill,
        fromBase64: decode,
        toBase64: encode,
        encode: encode,
        encodeURI: encodeURI,
        encodeURL: encodeURI,
        utob: utob,
        btou: btou,
        decode: decode,
        isValid: isValid,
        fromUint8Array: fromUint8Array,
        toUint8Array: toUint8Array,
        extendString: extendString,
        extendUint8Array: extendUint8Array,
        extendBuiltins: extendBuiltins
    };
    //
    // export Base64 to the namespace
    //
    // ES5 is yet to have Object.assign() that may make transpilers unhappy.
    // gBase64.Base64 = Object.assign({}, gBase64);
    gBase64.Base64 = {};
    Object.keys(gBase64).forEach(function (k) { return gBase64.Base64[k] = gBase64[k]; });
    return gBase64;
}));


/***/ }),

/***/ "./node_modules/js-md5/src/md5.js":
/*!****************************************!*\
  !*** ./node_modules/js-md5/src/md5.js ***!
  \****************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
(function () {
  'use strict';

  var ERROR = 'input is invalid type';
  var WINDOW = typeof window === 'object';
  var root = WINDOW ? window : {};
  if (root.JS_MD5_NO_WINDOW) {
    WINDOW = false;
  }
  var WEB_WORKER = !WINDOW && typeof self === 'object';
  var NODE_JS = !root.JS_MD5_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;
  if (NODE_JS) {
    root = global;
  } else if (WEB_WORKER) {
    root = self;
  }
  var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && "object" === 'object' && module.exports;
  var AMD =  true && __webpack_require__.amdO;
  var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';
  var HEX_CHARS = '0123456789abcdef'.split('');
  var EXTRA = [128, 32768, 8388608, -2147483648];
  var SHIFT = [0, 8, 16, 24];
  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];
  var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');

  var blocks = [], buffer8;
  if (ARRAY_BUFFER) {
    var buffer = new ArrayBuffer(68);
    buffer8 = new Uint8Array(buffer);
    blocks = new Uint32Array(buffer);
  }

  if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {
    Array.isArray = function (obj) {
      return Object.prototype.toString.call(obj) === '[object Array]';
    };
  }

  if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {
    ArrayBuffer.isView = function (obj) {
      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;
    };
  }

  /**
   * @method hex
   * @memberof md5
   * @description Output hash as hex string
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {String} Hex string
   * @example
   * md5.hex('The quick brown fox jumps over the lazy dog');
   * // equal to
   * md5('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method digest
   * @memberof md5
   * @description Output hash as bytes array
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Array} Bytes array
   * @example
   * md5.digest('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method array
   * @memberof md5
   * @description Output hash as bytes array
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Array} Bytes array
   * @example
   * md5.array('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method arrayBuffer
   * @memberof md5
   * @description Output hash as ArrayBuffer
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {ArrayBuffer} ArrayBuffer
   * @example
   * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method buffer
   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.
   * @memberof md5
   * @description Output hash as ArrayBuffer
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {ArrayBuffer} ArrayBuffer
   * @example
   * md5.buffer('The quick brown fox jumps over the lazy dog');
   */
  /**
   * @method base64
   * @memberof md5
   * @description Output hash as base64 string
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {String} base64 string
   * @example
   * md5.base64('The quick brown fox jumps over the lazy dog');
   */
  var createOutputMethod = function (outputType) {
    return function (message) {
      return new Md5(true).update(message)[outputType]();
    };
  };

  /**
   * @method create
   * @memberof md5
   * @description Create Md5 object
   * @returns {Md5} Md5 object.
   * @example
   * var hash = md5.create();
   */
  /**
   * @method update
   * @memberof md5
   * @description Create and update Md5 object
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Md5} Md5 object.
   * @example
   * var hash = md5.update('The quick brown fox jumps over the lazy dog');
   * // equal to
   * var hash = md5.create();
   * hash.update('The quick brown fox jumps over the lazy dog');
   */
  var createMethod = function () {
    var method = createOutputMethod('hex');
    if (NODE_JS) {
      method = nodeWrap(method);
    }
    method.create = function () {
      return new Md5();
    };
    method.update = function (message) {
      return method.create().update(message);
    };
    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {
      var type = OUTPUT_TYPES[i];
      method[type] = createOutputMethod(type);
    }
    return method;
  };

  var nodeWrap = function (method) {
    var crypto = eval("require('crypto')");
    var Buffer = eval("require('buffer').Buffer");
    var nodeMethod = function (message) {
      if (typeof message === 'string') {
        return crypto.createHash('md5').update(message, 'utf8').digest('hex');
      } else {
        if (message === null || message === undefined) {
          throw ERROR;
        } else if (message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        }
      }
      if (Array.isArray(message) || ArrayBuffer.isView(message) ||
        message.constructor === Buffer) {
        return crypto.createHash('md5').update(new Buffer(message)).digest('hex');
      } else {
        return method(message);
      }
    };
    return nodeMethod;
  };

  /**
   * Md5 class
   * @class Md5
   * @description This is internal class.
   * @see {@link md5.create}
   */
  function Md5(sharedMemory) {
    if (sharedMemory) {
      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =
      blocks[4] = blocks[5] = blocks[6] = blocks[7] =
      blocks[8] = blocks[9] = blocks[10] = blocks[11] =
      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      this.blocks = blocks;
      this.buffer8 = buffer8;
    } else {
      if (ARRAY_BUFFER) {
        var buffer = new ArrayBuffer(68);
        this.buffer8 = new Uint8Array(buffer);
        this.blocks = new Uint32Array(buffer);
      } else {
        this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      }
    }
    this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;
    this.finalized = this.hashed = false;
    this.first = true;
  }

  /**
   * @method update
   * @memberof Md5
   * @instance
   * @description Update hash
   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
   * @returns {Md5} Md5 object.
   * @see {@link md5.update}
   */
  Md5.prototype.update = function (message) {
    if (this.finalized) {
      return;
    }

    var notString, type = typeof message;
    if (type !== 'string') {
      if (type === 'object') {
        if (message === null) {
          throw ERROR;
        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        } else if (!Array.isArray(message)) {
          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {
            throw ERROR;
          }
        }
      } else {
        throw ERROR;
      }
      notString = true;
    }
    var code, index = 0, i, length = message.length, blocks = this.blocks;
    var buffer8 = this.buffer8;

    while (index < length) {
      if (this.hashed) {
        this.hashed = false;
        blocks[0] = blocks[16];
        blocks[16] = blocks[1] = blocks[2] = blocks[3] =
        blocks[4] = blocks[5] = blocks[6] = blocks[7] =
        blocks[8] = blocks[9] = blocks[10] = blocks[11] =
        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      }

      if (notString) {
        if (ARRAY_BUFFER) {
          for (i = this.start; index < length && i < 64; ++index) {
            buffer8[i++] = message[index];
          }
        } else {
          for (i = this.start; index < length && i < 64; ++index) {
            blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];
          }
        }
      } else {
        if (ARRAY_BUFFER) {
          for (i = this.start; index < length && i < 64; ++index) {
            code = message.charCodeAt(index);
            if (code < 0x80) {
              buffer8[i++] = code;
            } else if (code < 0x800) {
              buffer8[i++] = 0xc0 | (code >> 6);
              buffer8[i++] = 0x80 | (code & 0x3f);
            } else if (code < 0xd800 || code >= 0xe000) {
              buffer8[i++] = 0xe0 | (code >> 12);
              buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);
              buffer8[i++] = 0x80 | (code & 0x3f);
            } else {
              code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));
              buffer8[i++] = 0xf0 | (code >> 18);
              buffer8[i++] = 0x80 | ((code >> 12) & 0x3f);
              buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);
              buffer8[i++] = 0x80 | (code & 0x3f);
            }
          }
        } else {
          for (i = this.start; index < length && i < 64; ++index) {
            code = message.charCodeAt(index);
            if (code < 0x80) {
              blocks[i >> 2] |= code << SHIFT[i++ & 3];
            } else if (code < 0x800) {
              blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
            } else if (code < 0xd800 || code >= 0xe000) {
              blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
            } else {
              code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));
              blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
              blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
            }
          }
        }
      }
      this.lastByteIndex = i;
      this.bytes += i - this.start;
      if (i >= 64) {
        this.start = i - 64;
        this.hash();
        this.hashed = true;
      } else {
        this.start = i;
      }
    }
    if (this.bytes > 4294967295) {
      this.hBytes += this.bytes / 4294967296 << 0;
      this.bytes = this.bytes % 4294967296;
    }
    return this;
  };

  Md5.prototype.finalize = function () {
    if (this.finalized) {
      return;
    }
    this.finalized = true;
    var blocks = this.blocks, i = this.lastByteIndex;
    blocks[i >> 2] |= EXTRA[i & 3];
    if (i >= 56) {
      if (!this.hashed) {
        this.hash();
      }
      blocks[0] = blocks[16];
      blocks[16] = blocks[1] = blocks[2] = blocks[3] =
      blocks[4] = blocks[5] = blocks[6] = blocks[7] =
      blocks[8] = blocks[9] = blocks[10] = blocks[11] =
      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
    }
    blocks[14] = this.bytes << 3;
    blocks[15] = this.hBytes << 3 | this.bytes >>> 29;
    this.hash();
  };

  Md5.prototype.hash = function () {
    var a, b, c, d, bc, da, blocks = this.blocks;

    if (this.first) {
      a = blocks[0] - 680876937;
      a = (a << 7 | a >>> 25) - 271733879 << 0;
      d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;
      d = (d << 12 | d >>> 20) + a << 0;
      c = (-271733879 ^ (d & (a ^ -271733879))) + blocks[2] - 1126478375;
      c = (c << 17 | c >>> 15) + d << 0;
      b = (a ^ (c & (d ^ a))) + blocks[3] - 1316259209;
      b = (b << 22 | b >>> 10) + c << 0;
    } else {
      a = this.h0;
      b = this.h1;
      c = this.h2;
      d = this.h3;
      a += (d ^ (b & (c ^ d))) + blocks[0] - 680876936;
      a = (a << 7 | a >>> 25) + b << 0;
      d += (c ^ (a & (b ^ c))) + blocks[1] - 389564586;
      d = (d << 12 | d >>> 20) + a << 0;
      c += (b ^ (d & (a ^ b))) + blocks[2] + 606105819;
      c = (c << 17 | c >>> 15) + d << 0;
      b += (a ^ (c & (d ^ a))) + blocks[3] - 1044525330;
      b = (b << 22 | b >>> 10) + c << 0;
    }

    a += (d ^ (b & (c ^ d))) + blocks[4] - 176418897;
    a = (a << 7 | a >>> 25) + b << 0;
    d += (c ^ (a & (b ^ c))) + blocks[5] + 1200080426;
    d = (d << 12 | d >>> 20) + a << 0;
    c += (b ^ (d & (a ^ b))) + blocks[6] - 1473231341;
    c = (c << 17 | c >>> 15) + d << 0;
    b += (a ^ (c & (d ^ a))) + blocks[7] - 45705983;
    b = (b << 22 | b >>> 10) + c << 0;
    a += (d ^ (b & (c ^ d))) + blocks[8] + 1770035416;
    a = (a << 7 | a >>> 25) + b << 0;
    d += (c ^ (a & (b ^ c))) + blocks[9] - 1958414417;
    d = (d << 12 | d >>> 20) + a << 0;
    c += (b ^ (d & (a ^ b))) + blocks[10] - 42063;
    c = (c << 17 | c >>> 15) + d << 0;
    b += (a ^ (c & (d ^ a))) + blocks[11] - 1990404162;
    b = (b << 22 | b >>> 10) + c << 0;
    a += (d ^ (b & (c ^ d))) + blocks[12] + 1804603682;
    a = (a << 7 | a >>> 25) + b << 0;
    d += (c ^ (a & (b ^ c))) + blocks[13] - 40341101;
    d = (d << 12 | d >>> 20) + a << 0;
    c += (b ^ (d & (a ^ b))) + blocks[14] - 1502002290;
    c = (c << 17 | c >>> 15) + d << 0;
    b += (a ^ (c & (d ^ a))) + blocks[15] + 1236535329;
    b = (b << 22 | b >>> 10) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[1] - 165796510;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[6] - 1069501632;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[11] + 643717713;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[0] - 373897302;
    b = (b << 20 | b >>> 12) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[5] - 701558691;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[10] + 38016083;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[15] - 660478335;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[4] - 405537848;
    b = (b << 20 | b >>> 12) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[9] + 568446438;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[14] - 1019803690;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[3] - 187363961;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[8] + 1163531501;
    b = (b << 20 | b >>> 12) + c << 0;
    a += (c ^ (d & (b ^ c))) + blocks[13] - 1444681467;
    a = (a << 5 | a >>> 27) + b << 0;
    d += (b ^ (c & (a ^ b))) + blocks[2] - 51403784;
    d = (d << 9 | d >>> 23) + a << 0;
    c += (a ^ (b & (d ^ a))) + blocks[7] + 1735328473;
    c = (c << 14 | c >>> 18) + d << 0;
    b += (d ^ (a & (c ^ d))) + blocks[12] - 1926607734;
    b = (b << 20 | b >>> 12) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[5] - 378558;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[8] - 2022574463;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[11] + 1839030562;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[14] - 35309556;
    b = (b << 23 | b >>> 9) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[1] - 1530992060;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[4] + 1272893353;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[7] - 155497632;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[10] - 1094730640;
    b = (b << 23 | b >>> 9) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[13] + 681279174;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[0] - 358537222;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[3] - 722521979;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[6] + 76029189;
    b = (b << 23 | b >>> 9) + c << 0;
    bc = b ^ c;
    a += (bc ^ d) + blocks[9] - 640364487;
    a = (a << 4 | a >>> 28) + b << 0;
    d += (bc ^ a) + blocks[12] - 421815835;
    d = (d << 11 | d >>> 21) + a << 0;
    da = d ^ a;
    c += (da ^ b) + blocks[15] + 530742520;
    c = (c << 16 | c >>> 16) + d << 0;
    b += (da ^ c) + blocks[2] - 995338651;
    b = (b << 23 | b >>> 9) + c << 0;
    a += (c ^ (b | ~d)) + blocks[0] - 198630844;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[7] + 1126891415;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[14] - 1416354905;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[5] - 57434055;
    b = (b << 21 | b >>> 11) + c << 0;
    a += (c ^ (b | ~d)) + blocks[12] + 1700485571;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[3] - 1894986606;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[10] - 1051523;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[1] - 2054922799;
    b = (b << 21 | b >>> 11) + c << 0;
    a += (c ^ (b | ~d)) + blocks[8] + 1873313359;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[15] - 30611744;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[6] - 1560198380;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[13] + 1309151649;
    b = (b << 21 | b >>> 11) + c << 0;
    a += (c ^ (b | ~d)) + blocks[4] - 145523070;
    a = (a << 6 | a >>> 26) + b << 0;
    d += (b ^ (a | ~c)) + blocks[11] - 1120210379;
    d = (d << 10 | d >>> 22) + a << 0;
    c += (a ^ (d | ~b)) + blocks[2] + 718787259;
    c = (c << 15 | c >>> 17) + d << 0;
    b += (d ^ (c | ~a)) + blocks[9] - 343485551;
    b = (b << 21 | b >>> 11) + c << 0;

    if (this.first) {
      this.h0 = a + 1732584193 << 0;
      this.h1 = b - 271733879 << 0;
      this.h2 = c - 1732584194 << 0;
      this.h3 = d + 271733878 << 0;
      this.first = false;
    } else {
      this.h0 = this.h0 + a << 0;
      this.h1 = this.h1 + b << 0;
      this.h2 = this.h2 + c << 0;
      this.h3 = this.h3 + d << 0;
    }
  };

  /**
   * @method hex
   * @memberof Md5
   * @instance
   * @description Output hash as hex string
   * @returns {String} Hex string
   * @see {@link md5.hex}
   * @example
   * hash.hex();
   */
  Md5.prototype.hex = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;

    return HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +
      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +
      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +
      HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +
      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +
      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +
      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +
      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +
      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +
      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +
      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +
      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +
      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +
      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +
      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +
      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F];
  };

  /**
   * @method toString
   * @memberof Md5
   * @instance
   * @description Output hash as hex string
   * @returns {String} Hex string
   * @see {@link md5.hex}
   * @example
   * hash.toString();
   */
  Md5.prototype.toString = Md5.prototype.hex;

  /**
   * @method digest
   * @memberof Md5
   * @instance
   * @description Output hash as bytes array
   * @returns {Array} Bytes array
   * @see {@link md5.digest}
   * @example
   * hash.digest();
   */
  Md5.prototype.digest = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;
    return [
      h0 & 0xFF, (h0 >> 8) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 24) & 0xFF,
      h1 & 0xFF, (h1 >> 8) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 24) & 0xFF,
      h2 & 0xFF, (h2 >> 8) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 24) & 0xFF,
      h3 & 0xFF, (h3 >> 8) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 24) & 0xFF
    ];
  };

  /**
   * @method array
   * @memberof Md5
   * @instance
   * @description Output hash as bytes array
   * @returns {Array} Bytes array
   * @see {@link md5.array}
   * @example
   * hash.array();
   */
  Md5.prototype.array = Md5.prototype.digest;

  /**
   * @method arrayBuffer
   * @memberof Md5
   * @instance
   * @description Output hash as ArrayBuffer
   * @returns {ArrayBuffer} ArrayBuffer
   * @see {@link md5.arrayBuffer}
   * @example
   * hash.arrayBuffer();
   */
  Md5.prototype.arrayBuffer = function () {
    this.finalize();

    var buffer = new ArrayBuffer(16);
    var blocks = new Uint32Array(buffer);
    blocks[0] = this.h0;
    blocks[1] = this.h1;
    blocks[2] = this.h2;
    blocks[3] = this.h3;
    return buffer;
  };

  /**
   * @method buffer
   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.
   * @memberof Md5
   * @instance
   * @description Output hash as ArrayBuffer
   * @returns {ArrayBuffer} ArrayBuffer
   * @see {@link md5.buffer}
   * @example
   * hash.buffer();
   */
  Md5.prototype.buffer = Md5.prototype.arrayBuffer;

  /**
   * @method base64
   * @memberof Md5
   * @instance
   * @description Output hash as base64 string
   * @returns {String} base64 string
   * @see {@link md5.base64}
   * @example
   * hash.base64();
   */
  Md5.prototype.base64 = function () {
    var v1, v2, v3, base64Str = '', bytes = this.array();
    for (var i = 0; i < 15;) {
      v1 = bytes[i++];
      v2 = bytes[i++];
      v3 = bytes[i++];
      base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +
        BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] +
        BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] +
        BASE64_ENCODE_CHAR[v3 & 63];
    }
    v1 = bytes[i];
    base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +
      BASE64_ENCODE_CHAR[(v1 << 4) & 63] +
      '==';
    return base64Str;
  };

  var exports = createMethod();

  if (COMMON_JS) {
    module.exports = exports;
  } else {
    /**
     * @method md5
     * @description Md5 hash function, export to global in browsers.
     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash
     * @returns {String} md5 hashes
     * @example
     * md5(''); // d41d8cd98f00b204e9800998ecf8427e
     * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6
     * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0
     *
     * // It also supports UTF-8 encoding
     * md5('中文'); // a7bac2239fcdcb3a067903d8077c4a07
     *
     * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`
     * md5([]); // d41d8cd98f00b204e9800998ecf8427e
     * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e
     */
    root.md5 = exports;
    if (AMD) {
      !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
        return exports;
      }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }
  }
})();


/***/ }),

/***/ "./node_modules/union-quick-app-ad/app.js":
/*!************************************************!*\
  !*** ./node_modules/union-quick-app-ad/app.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports, "__esModule", ({value:!0})),exports["default"]=void 0;var _system=_interopRequireDefault($app_require$("@app-module/system.device")),_system2=_interopRequireDefault($app_require$("@app-module/system.app")),_system3=_interopRequireDefault($app_require$("@app-module/system.network")),_system4=_interopRequireDefault($app_require$("@app-module/system.fetch")),_system5=_interopRequireDefault($app_require$("@app-module/system.package")),_system6=_interopRequireDefault($app_require$("@app-module/system.webview")),_system7=_interopRequireDefault($app_require$("@app-module/system.prompt")),_system8=_interopRequireDefault($app_require$("@app-module/system.router")),_system9=_interopRequireDefault($app_require$("@app-module/system.request")),_system10=_interopRequireDefault($app_require$("@app-module/system.storage")),_service=_interopRequireDefault($app_require$("@app-module/service.account")),_system11=_interopRequireDefault($app_require$("@app-module/system.sensor")),_system12=_interopRequireDefault($app_require$("@app-module/system.vibrator")),_system13=_interopRequireDefault($app_require$("@app-module/system.file")),_system14=_interopRequireDefault($app_require$("@app-module/system.image")),_package=__webpack_require__(/*! ./package.json */ "./node_modules/union-quick-app-ad/package.json");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m_global=Object.getPrototypeOf(global)||global,fileUrl="internal://files/unionad/".concat(_package.version,"/ad-render-quick.min.js");function execRemoteJs(e,t){var r=this;try{new Function(e)()}catch(e){t&&fetchRemoteJs.call(this).then(function(e){execRemoteJs(e,!1),initAdSdk.call(r)})}}function initAdSdk(e){try{m_global.$union_quick_app_sdk&&(m_global.$union_quick_app_sdk.api={device:_system.default,app:_system2.default,network:_system3.default,fetch:_system4.default,pkg:_system5.default,webview:_system6.default,prompt:_system7.default,router:_system8.default,request:_system9.default,storage:_system10.default,account:_service.default,file:_system13.default,sensor:_system11.default,image:_system14.default,vibrator:_system12.default},m_global.$union_quick_app_sdk.sdkVersion=_package.version,m_global.$union_quick_app_sdk.fileUrl=fileUrl,new m_global.$union_quick_app_sdk(this,e))}catch(e){}}function fetchRemoteJs(){return new Promise(function(t,r){_system4.default.fetch({url:"https://cpro.baidustatic.com/cpro/xcx/js/ad-render-quick.min.js",responseType:"text",method:"GET",success:function(e){_system13.default.writeText({uri:fileUrl,text:e.data,success:function(){},fail:function(e,t){}}),t(e.data)},fail:function(e,t){r()}})})}var UNION_AD_SDK=_createClass(function e(r,i){_classCallCheck(this,e),m_global&&m_global.$union_quick_app_sdk?initAdSdk.call(r,i):_system13.default.readText({uri:fileUrl,success:function(e){execRemoteJs.call(r,e.text,!0),initAdSdk.call(r,i)},fail:function(e,t){fetchRemoteJs.call(r).then(function(e){execRemoteJs.call(r,e,!1),initAdSdk.call(r,i)})}})}),_default=UNION_AD_SDK;exports["default"]=_default;

/***/ }),

/***/ "./node_modules/ylh-quick-app-ad-sdk/index.js":
/*!****************************************************!*\
  !*** ./node_modules/ylh-quick-app-ad-sdk/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ YLH_UNION_AD_SDK),
/* harmony export */   "isPlatformVersionCodeGreaterThen1100": () => (/* binding */ isPlatformVersionCodeGreaterThen1100)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/ylh-quick-app-ad-sdk/utils/index.js");
/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./package.json */ "./node_modules/ylh-quick-app-ad-sdk/package.json");
/* eslint-disable import/no-unresolved */
var app = $app_require$( '@app-module/system.app');;
var fetch = $app_require$( '@app-module/system.fetch');;
var file = $app_require$( '@app-module/system.file');;
var device = $app_require$( '@app-module/system.device');;
var network = $app_require$( '@app-module/system.network');;
var shortcut = $app_require$( '@app-module/system.shortcut');;
var battery = $app_require$( '@app-module/system.battery');;
var brightness = $app_require$( '@app-module/system.brightness');;
var webview = $app_require$( '@app-module/system.webview');;
var storage = $app_require$( '@app-module/system.storage');;
var pkg = $app_require$( '@app-module/system.package');;
var router = $app_require$( '@app-module/system.router');;
var prompt = $app_require$( '@app-module/system.prompt');;
var cipher = $app_require$( '@app-module/system.cipher');;
var volume = $app_require$( '@app-module/system.volume');;
var sensor = $app_require$( '@app-module/system.sensor');;
var vibrator = $app_require$( '@app-module/system.vibrator');;



const qaGlobal = Object.getPrototypeOf(global) || global;

const { version } = _package_json__WEBPACK_IMPORTED_MODULE_1__;

const REMOTE_JS_TYPE = {
  CORE: 'core',
  LIBS: 'libs',
};

const FIRST_CORE_VERSION = 1050;

const LIBS_VERSION = '1.0.0';
const FIRST_LIBS_VERSION = 1000;

const isSomeStubVersionScope = ({ entryVersion, localVersion }) => {
  const { length: localLen } = localVersion;
  const { length: entryLen } = entryVersion;
  return localVersion.slice(0, localLen - 2) === entryVersion.slice(0, entryLen - 2);
};

const getRemoteJSConfigInfo = ({
  type,
  firstPublishUrl,
  stubVersion,
  firstPublishPluginVersion,
  isUseRemoteJS,
  validateFn = (localJsUrl) => {
    if (isUseRemoteJS) {
      return !isUseRemoteJS;
    }
    if (!localJsUrl) {
      return false;
    }
    const [localStubVersion, localPluginVersion] = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getCoreVersionByUrl)(localJsUrl);
    const isSameSdkVersion = isSomeStubVersionScope({
      entryVersion: stubVersion,
      localVersion: localStubVersion,
    });
    return isSameSdkVersion && localPluginVersion >= firstPublishPluginVersion;
  },
}) => {
  const coreInfo = {
    // 存放本地 JS 文件的 uri 地址
    cacheUri: `internal://files/ylh-sdk-${type}/${stubVersion}`,
    // 本地 JS 不可用（没有或不符合 validateFn 条件）时，重新请求 JS 的远程地址
    remoteUrl: firstPublishUrl,
    validateFn,
  };
  return coreInfo;
};

const coreInfo = getRemoteJSConfigInfo({
  type: REMOTE_JS_TYPE.CORE,
  firstPublishUrl: `https://qzs.gdtimg.com/union/res/ylh-sdk-core-v1.5.1050.min.js?d=${Date.now()}`, // 线上
  stubVersion: version,
  firstPublishPluginVersion: FIRST_CORE_VERSION,
  isUseRemoteJS: false,
});

const libsInfo = getRemoteJSConfigInfo({
  type: REMOTE_JS_TYPE.LIBS,
  firstPublishUrl: `https://qzs.gdtimg.com/union/res/ylh-sdk-libs-v1.0.1000.min.js?d=${Date.now()}`, // 线上
  stubVersion: LIBS_VERSION,
  firstPublishPluginVersion: FIRST_LIBS_VERSION,
  isUseRemoteJS: false,
});

const system = {
  fetch,
  file,
  device,
  network,
  shortcut,
  battery,
  brightness,
  webview,
  storage,
  pkg,
  router,
  prompt,
  cipher,
  volume,
  sensor,
  vibrator,
  app,
  sdkVersion: version,
  BroadcastChannel,
};

// 为加快运行速度，缓存promise
const userPromiseCache = {};

const YLH_SDK_SUPPORT_MINI_PLATFORM_VER = 1100;

const isPlatformVersionCodeGreaterThen1100 = async () => {
  if (!userPromiseCache.platformPromise) {
    userPromiseCache.platformPromise = new Promise((resolve, reject) => {
      device.getInfo({
        success: (deviceInfoInfo) => {
          const { platformVersionCode } = deviceInfoInfo;
          if (platformVersionCode < YLH_SDK_SUPPORT_MINI_PLATFORM_VER) {
            reject(new Error(JSON.stringify({ platform: platformVersionCode })));
          } else {
            resolve(true);
          }
        },
        fail: () => {
          reject(new Error(JSON.stringify({ platform: '未知' })));
        },
      });
    });
  }
  return userPromiseCache.platformPromise;
};

/**
 * 加载远程 CDN JS 广告处理逻辑文件
 * @returns Promise
 */
const fetchRemoteJS = ({ cacheUri, remoteUrl }) => new Promise((resolve, reject) => {
  let pollCount = 0;
  const errMessage = `${remoteUrl} 获取失败`;
  const pollFetch = () => {
    fetch.fetch({
      url: remoteUrl,
      responseType: 'text',
      method: 'get',
      success: (res) => {
        const { code, data: jsCode } = res;
        if (code !== 200) {
          if (pollCount < 3) {
            pollCount += 1;
            // 重试之前等待1s钟
            setTimeout(() => {
              pollFetch();
            }, 1000);
          } else {
            reject(errMessage);
          }
        } else {
          resolve(jsCode);
          // 缓存最新 JS
          if (cacheUri) {
            file.writeText({
              uri: cacheUri,
              text: { jsCode, jsUrl: remoteUrl },
            });
          }
        }
      },
      fail: () => {
        // 当出现网络异常或者其他情况时，进行重试
        if (pollCount < 3) {
          pollCount += 1;
          // 重试之前等待1s钟
          setTimeout(() => {
            pollFetch();
          }, 1000);
        } else {
          reject(errMessage);
        }
      },
    });
  };
  pollFetch();
});

// 获取local JS，如果local JS不可用（没有或不符合validateFn条件）时，重新请求remoteUrl JS
const getLocalJS = async ({ cacheUri, remoteUrl, validateFn }) => {
  try {
    const res = await file.readText({
      uri: cacheUri,
    });
    const { data = {} } = res || {};
    const { jsCode, jsUrl } = JSON.parse(data.text || '{}');
    if (validateFn(jsUrl)) {
      return jsCode;
    }
  } catch (err) {
    console.log('getLocalJS-err', err);
  }

  return fetchRemoteJS({ cacheUri, remoteUrl });
};

// 执行local JS, 如果没有，则从remoteUrl处获取后再执行
const executeLocalJS = async (params) => {
  getLocalJS(params).then((localJS) => {
    // eslint-disable-next-line no-new, no-new-func
    const func = new Function('$YLHSDK', localJS);
    func(qaGlobal.$YLHSDK);
  }).catch((err) => {
    console.log('executeLocalJS出错', err, params);
  });
};

/**
 * 快应用SDK入口函数
 * @param {Object} $app 快应用 App 实例。注意$app和app的区别：$app-快应用实例，app-快应用文档提供的@system.app api。
 */
function YLH_UNION_AD_SDK($app, config = {}) {
  (0,_utils__WEBPACK_IMPORTED_MODULE_0__.classCallCheck)(this, YLH_UNION_AD_SDK);

  if (!config.appId) {
    console.error('必须传递appId，ylh_sdk才会正常运行');
    return;
  }
  (0,_utils__WEBPACK_IMPORTED_MODULE_0__.initYLHSDK)($app);

  isPlatformVersionCodeGreaterThen1100().then(() => {
    qaGlobal.$YLHSDK = {
      $app,
      config,
      system: {
        ...system,
        telecom: $app_require$('@app-module/system.telecom'), // telecom 必须 大于 1080 版本
        keyguard: $app_require$('@app-module/system.keyguard'), // keyguard 必须 大于 1090 版本
        downloadTask: $app_require$('@app-module/system.downloadtask'), // downloadTask 必须 大于 1100 版本
      },
      fetchRemoteJS,
      localCore: {
        localCoreUri: coreInfo.cacheUri,
        getCoreVersionByUrl: _utils__WEBPACK_IMPORTED_MODULE_0__.getCoreVersionByUrl,
      },
      localLibs: {
        localLibsUri: libsInfo.cacheUri,
      },
    };

    executeLocalJS(coreInfo);
    executeLocalJS(libsInfo);
  }).catch((err) => {
    const errObj = err?.message ? JSON.parse(err.message) : {};
    console.warn(`该机型的 minPlatformVersion 为${errObj.platform}, 小于${YLH_SDK_SUPPORT_MINI_PLATFORM_VER}, 
    ylh_sdk 不会运行也不会导致快应用异常`);
  });
}


/***/ }),

/***/ "./node_modules/ylh-quick-app-ad-sdk/utils/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/ylh-quick-app-ad-sdk/utils/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "classCallCheck": () => (/* binding */ classCallCheck),
/* harmony export */   "defineAdComponent": () => (/* binding */ defineAdComponent),
/* harmony export */   "defineAdScene": () => (/* binding */ defineAdScene),
/* harmony export */   "dispatchAdEvent": () => (/* binding */ dispatchAdEvent),
/* harmony export */   "getCoreVersionByUrl": () => (/* binding */ getCoreVersionByUrl),
/* harmony export */   "initYLHSDK": () => (/* binding */ initYLHSDK)
/* harmony export */ });
function dispatchAdEvent(eventName, params) {
  try {
    if (this.isAdDestroyed) return;
    if (this.lifetimes && this.lifetimes?.[eventName]) {
      this.lifetimes[eventName].call(this, params);
    } else if (this.events && this.events?.[eventName]) {
      this.events[eventName].call(this, params);
    }
  } catch (error) {
    console.warn('dispatchAdEvent error: ', eventName, error.message, params);
  }
}

function registerProps(componentName, adTimer) {
  if (this.$app) {
    const component = this.$app.$def?.ylh_sdk?.components?.[componentName];
    if (component) {
      Object.keys(component).forEach((prop) => {
        this[prop] = component[prop];
      });
      dispatchAdEvent.call(this, 'onInit', componentName);
      if (adTimer) {
        clearInterval(adTimer);
      }
    }
  }
}

function defineAdComponent(componentName) {
  try {
    if (this.adTimer) {
      clearInterval(this.adTimer);
    }
    if (this.$app?.$def?.ylh_sdk?.components) {
      registerProps.call(this, componentName, undefined);
    } else {
      let time = 0;
      const adTimer = setInterval(() => {
        if (time > 1000 * 5) {
          clearInterval(adTimer);
        }
        registerProps.call(this, componentName, adTimer);
        time += 10;
      }, 10);
    }
  } catch (error) {
    console.error(error.message);
    if (this.onYLHSDKError) {
      this.onYLHSDKError(error.message);
    }
  }
}

function defineAdScene(scene) {
  defineAdComponent.call(this, scene);
}

/**
 * 检查类函数是否通过 new 关键字正确调用
 * @param {Object} sdkInstance 实例对象
 * @param {function} sdkConstructor 构造函数
 */
function classCallCheck(sdkInstance, sdkConstructor) {
  if (!(sdkInstance instanceof sdkConstructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

// https://qzs.gdtimg.com/union/res/ylh-sdk-core-v1.3.1030.min.js?d=13333' 从url解析出['1.3', 1030]信息
function getCoreVersionByUrl(jsUrl = '') {
  const res = jsUrl.match(/ylh-sdk-(?:[a-z]+)-v(\d+\.\d+\.\d+)(?:@debug)?\.min\.js/);
  const str = res && res[1] ? res[1] : ''; // '1.3.1030.min/1.3.1030@debug.min'
  const [a, b, c] = str.split('.');
  return [`${a}.${b}.0`, Number(c.substr(0, 4))];
}

// 初始化时, 为onYlhReady添加链式调用方法
function initYLHSDK($app) {
  if ($app.$def?.ylh_sdk) {
    return;
  }
  // eslint-disable-next-line  no-param-reassign
  $app.$def.ylh_sdk = {
    // eslint-disable-next-line  consistent-return
    onYlhReady(callback) {
      const { onYlhReadyCallback = [] } = $app.$def.ylh_sdk;
      // console.log('app.$def.ylh_sdk', app.$def.ylh_sdk, onYlhReadyCallback);
      if (typeof callback !== 'function') {
        console.warn('onYlhReady: then回调必须传递一个方法');
      } else if ($app.$def.ylh_sdk.SDK_CORE_READY) {
        return callback();
      } else {
        // eslint-disable-next-line  no-param-reassign
        $app.$def.ylh_sdk.onYlhReadyCallback = [...onYlhReadyCallback, callback];
      }
    },
  };
}


/***/ }),

/***/ "./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader/lib/index.js?presets[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\preset-env,targets=node 8&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-transform-modules-commonjs&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-class-properties&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader/lib/index.js?presets[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\preset-env,targets=node 8&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-transform-modules-commonjs&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-class-properties&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function(module, exports, $app_require$){"use strict";

__webpack_require__(/*! ./Common/libs/umeng/umenganalysis.es.min */ "./src/Common/libs/umeng/umenganalysis.es.min.js");
var _app = _interopRequireDefault(__webpack_require__(/*! @topon/quick-app-sdk-hw/app.js */ "./node_modules/@topon/quick-app-sdk-hw/app.js"));
var _api = _interopRequireDefault(__webpack_require__(/*! @hw-agconnect/api */ "./node_modules/@hw-agconnect/api/dist/index.esm.js"));
__webpack_require__(/*! @hw-agconnect/instance */ "./node_modules/@hw-agconnect/instance/dist/index.esm.js");
__webpack_require__(/*! @hw-hmscore/analytics-sdk-quickapp */ "./node_modules/@hw-hmscore/analytics-sdk-quickapp/index.quickapp.js");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
module.exports = {
  onCreate() {
    console.info('Application onCreate');
    const hook2global = global.__proto__ || global;
    const $router = $app_require$('@app-module/system.router');
    const $utils = (__webpack_require__(/*! ./Common/helper/utils */ "./src/Common/helper/utils.js")["default"]);
    const $storage = $app_require$("@app-module/system.storage");
    const $cipher = $app_require$("@app-module/system.cipher");
    const $prompt = $app_require$("@app-module/system.prompt");
    const $webview = $app_require$("@app-module/system.webview");
    const $apis = (__webpack_require__(/*! ./Common/helper/apis */ "./src/Common/helper/apis/index.js")["default"]);
    const $ad = $app_require$("@app-module/service.ad");
    const $app = $app_require$("@app-module/system.app");
    const $device = $app_require$("@app-module/system.device");
    const $processData = (__webpack_require__(/*! ./Common/helper/processData */ "./src/Common/helper/processData.js")["default"]);
    hook2global.$router = $router;
    hook2global.$utils = $utils;
    hook2global.$storage = $storage;
    hook2global.$prompt = $prompt;
    hook2global.$apis = $apis;
    hook2global.$webview = $webview;
    hook2global.$ad = $ad;
    hook2global.$cipher = $cipher;
    hook2global.$app = $app;
    hook2global.$device = $device;
    hook2global.$processData = $processData;
    console.log("[app.ux] onCreate...");
    $umeng_stat.init(this);
    try {
      const instance = new _app.default({
        app: this,
        appId: 'a669f1dd02c4c4',
        appKey: 'a25e2743eecc2d23f66176b150a593e21'
      });
      this.$def.topon_sdk_instance = instance;
    } catch (error) {
      console.log('error', error);
    }
    this.initAnalytics();
  },
  initAnalytics() {
    const agConnectConfig = {
      "agcgw": {
        "backurl": "connect-drcn.hispace.hicloud.com",
        "url": "connect-drcn.dbankcloud.cn",
        "websocketbackurl": "connect-ws-drcn.hispace.dbankcloud.com",
        "websocketurl": "connect-ws-drcn.hispace.dbankcloud.cn"
      },
      "agcgw_all": {
        "CN": "connect-drcn.dbankcloud.cn",
        "CN_back": "connect-drcn.hispace.hicloud.com",
        "DE": "connect-dre.dbankcloud.cn",
        "DE_back": "connect-dre.hispace.hicloud.com",
        "RU": "connect-drru.hispace.dbankcloud.ru",
        "RU_back": "connect-drru.hispace.dbankcloud.cn",
        "SG": "connect-dra.dbankcloud.cn",
        "SG_back": "connect-dra.hispace.hicloud.com"
      },
      "websocketgw_all": {
        "CN": "connect-ws-drcn.hispace.dbankcloud.cn",
        "CN_back": "connect-ws-drcn.hispace.dbankcloud.com",
        "DE": "connect-ws-dre.hispace.dbankcloud.cn",
        "DE_back": "connect-ws-dre.hispace.dbankcloud.com",
        "RU": "connect-ws-drru.hispace.dbankcloud.ru",
        "RU_back": "connect-ws-drru.hispace.dbankcloud.cn",
        "SG": "connect-ws-dra.hispace.dbankcloud.cn",
        "SG_back": "connect-ws-dra.hispace.dbankcloud.com"
      },
      "client": {
        "cp_id": "30086000786232707",
        "product_id": "388421841222225217",
        "client_id": "1442725538346046400",
        "client_secret": "10917CC5B08733C2510790F6C9B8B3AC2BCE2D83460E5B1C5E0D6B416A0D699D",
        "project_id": "388421841222225217",
        "app_id": "111248051",
        "api_key": "DQEDACwAFzjum1pokg3KvijxBtp7WbqFpw5yeRBpk1kQVe0t4XiKNLGztYbT00secux1bTqvgI6Q30pkXOlqKz6jzUaic2Gmr6r0Mg==",
        "package_name": "com.haituo.setpplanet"
      },
      "oauth_client": {
        "client_id": "111248051",
        "client_type": 19
      },
      "app_info": {
        "app_id": "111248051",
        "package_name": "com.haituo.setpplanet"
      },
      "service": {
        "analytics": {
          "collector_url": "datacollector-drcn.dt.hicloud.com,datacollector-drcn.dt.dbankcloud.cn",
          "collector_url_ru": "datacollector-drru.dt.dbankcloud.ru,datacollector-drru.dt.hicloud.com",
          "collector_url_sg": "datacollector-dra.dt.hicloud.com,datacollector-dra.dt.dbankcloud.cn",
          "collector_url_de": "datacollector-dre.dt.hicloud.com,datacollector-dre.dt.dbankcloud.cn",
          "collector_url_cn": "datacollector-drcn.dt.hicloud.com,datacollector-drcn.dt.dbankcloud.cn",
          "resource_id": "p1",
          "channel_id": ""
        },
        "edukit": {
          "edu_url": "edukit.cloud.huawei.com.cn",
          "dh_url": "edukit.cloud.huawei.com.cn"
        },
        "search": {
          "url": "https://search-drcn.cloud.huawei.com"
        },
        "cloudstorage": {
          "storage_url_sg_back": "https://agc-storage-dra.cloud.huawei.asia",
          "storage_url_ru_back": "https://agc-storage-drru.cloud.huawei.ru",
          "storage_url_ru": "https://agc-storage-drru.cloud.huawei.ru",
          "storage_url_de_back": "https://agc-storage-dre.cloud.huawei.eu",
          "storage_url_de": "https://ops-dre.agcstorage.link",
          "storage_url": "https://agc-storage-drcn.platform.dbankcloud.cn",
          "storage_url_sg": "https://ops-dra.agcstorage.link",
          "storage_url_cn_back": "https://agc-storage-drcn.cloud.huawei.com.cn",
          "storage_url_cn": "https://agc-storage-drcn.platform.dbankcloud.cn"
        },
        "ml": {
          "mlservice_url": "ml-api-drcn.ai.dbankcloud.com,ml-api-drcn.ai.dbankcloud.cn"
        }
      },
      "region": "CN",
      "configuration_version": "3.0"
    };
    _api.default.instance().configInstance(agConnectConfig);
    let analytics = _api.default.analytics();
  },
  onHide() {
    this.instance.onHide();
  },
  onDestroy() {
    console.info('Application onDestroy');
    this.instance.onDestroy();
  },
  dataApp: {
    url1: "http://www.ihaituo.cn/xy/jb/bzzx.html",
    url2: "http://www.ihaituo.cn/xy/jb/yhxy.html",
    url3: "http://www.ihaituo.cn/xy/jb/yszc.html",
    countMax: 8,
    brand: 'HUAWEI',
    channel: 'jh',
    bannerAdUnitId: "z1v6jykvy9",
    nAbannerAdUnitId: "i8zsc3gcbg",
    nativeAdUnitId: "v5h5xsklp2",
    interstitialAdUnitId: "a7nvl7fm00",
    userData: {
      loginPhone: '',
      userId: '',
      balance: 0
    },
    actiParam: {
      channelValue: "",
      oaid: "",
      type: ""
    },
    transparentLayerHits: 0,
    conversionlicks: 0,
    clicksOnAdsNow: 0
  }
};
(exports.default || module.exports).manifest = __webpack_require__(/*! !!../node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./manifest.json */ "./node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./src/manifest.json")
}

/***/ }),

/***/ "./src/Common/helper/apis sync recursive \\.js":
/*!*******************************************!*\
  !*** ./src/Common/helper/apis/ sync \.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./example.js": "./src/Common/helper/apis/example.js",
	"./index.js": "./src/Common/helper/apis/index.js",
	"./task.js": "./src/Common/helper/apis/task.js",
	"./user.js": "./src/Common/helper/apis/user.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./src/Common/helper/apis sync recursive \\.js";

/***/ }),

/***/ "./src/Common/libs/umeng sync recursive":
/*!*************************************!*\
  !*** ./src/Common/libs/umeng/ sync ***!
  \*************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./src/Common/libs/umeng sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./src/manifest.json":
/*!*******************************************************************************************!*\
  !*** ./node_modules/fa-toolkit/lib/fa-compiler/fa-manifest-loader.js!./src/manifest.json ***!
  \*******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"package":"com.haituo.setpplanet","name":"计步星球","versionName":"1.1.1","versionCode":101,"icon":"/Common/img/logo.png","minPlatformVersion":1100,"features":[{"name":"system.storage"},{"name":"system.fetch"},{"name":"system.network"},{"name":"system.device"},{"name":"system.file"},{"name":"system.sensor"},{"name":"system.webview"},{"name":"system.request"},{"name":"system.package"},{"name":"service.account"},{"name":"service.ad"}],"config":{"data":{"umeng_appkey":"667b68fccac2a664de54f5ac"}},"router":{"entry":"Page_MainTab","pages":{"Page_MainTab":{"launchMode":"singleTask","component":"index"},"Page_Tixian":{"component":"index"},"Page_login":{"component":"index"},"Page_about":{"component":"index"},"feedback":{"component":"index"},"logOut":{"component":"index"},"permissions":{"component":"index"},"Page_setPay":{"component":"index"},"Page_cfd":{"component":"index"},"Page_cfd-taku":{"component":"index"},"ad/nativeAD":{"component":"index"},"TopOn/AdLanding":{"component":"index"},"pages/advertisingCampaigns":{"component":"index"},"pages/readAd":{"component":"index"}}},"display":{"pages":{"Page_MainTab":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0},"Page_cfd":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0,"titleBarBackgroundOpacity":0},"Page_cfd-taku":{"titleBar":false,"menu":false,"statusBarImmersive":true,"statusBarBackgroundOpacity":0,"titleBarBackgroundOpacity":0},"Page_Tixian":{"titleBar":true,"menu":true,"titleBarText":"收益"},"Page_login":{"titleBar":true,"menu":false,"titleBarText":"用户登录"},"TopOn/AdLanding":{"fullScreen":true,"titleBar":false,"statusBarImmersive":true,"menuBarData":{"menuBar":false}},"pages/advertisingCampaigns":{"titleBar":false},"pages/readAd":{"titleBar":false}}},"versionType":"debug"}');

/***/ }),

/***/ "./node_modules/union-quick-app-ad/package.json":
/*!******************************************************!*\
  !*** ./node_modules/union-quick-app-ad/package.json ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"union-quick-app-ad","version":"1.0.49","description":"百度联盟快应用广告sdk","main":"app.js","files":["components/*","app.js"],"keywords":["快应用","广告"],"author":"cm-fe","license":"ISC","dependencies":{},"devDependencies":{}}');

/***/ }),

/***/ "./node_modules/ylh-quick-app-ad-sdk/package.json":
/*!********************************************************!*\
  !*** ./node_modules/ylh-quick-app-ad-sdk/package.json ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"ylh-quick-app-ad-sdk","version":"1.5.0","description":"","main":"index.js","scripts":{"test":"eslint ./","cz":"git cz","prepare":"husky install"},"keywords":["快应用","广告","SDK"],"author":"zuoxingli4534@gmail.com","license":"ISC","devDependencies":{"@babel/cli":"^7.21.0","@babel/core":"^7.21.0","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-chaining":"^7.21.0","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","babel-loader":"^9.1.2","eslint":"^7.32.0 || ^8.2.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2","husky":"^8.0.3","less":"^4.1.3","less-loader":"^11.1.0"},"husky":{"hooks":{"pre-commit":"lint-staged"}}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	(() => {
/******/ 		__webpack_require__.amdO = {};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!********************!*\
  !*** ./src/app.ux ***!
  \********************/
var $app_script$ = __webpack_require__(/*! !!./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader?presets[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\preset-env,targets=node 8&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-transform-modules-commonjs&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-class-properties&plugins[]=d:\quickappWorkspace\com.haituo.setpplanet\node_modules\@babel\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux */ "./node_modules/fa-toolkit/lib/fa-compiler/fa-script-loader.js!./node_modules/fa-toolkit/lib/fa-compiler/fa-app-script-loader.js!./node_modules/babel-loader/lib/index.js?presets[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\preset-env,targets=node 8&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-transform-modules-commonjs&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-class-properties&plugins[]=d:\\quickappWorkspace\\com.haituo.setpplanet\\node_modules\\@babel\\plugin-proposal-object-rest-spread&comments=false!./node_modules/fa-toolkit/lib/fa-compiler/fa-fragment-loader.js?index=0&type=scripts!./src/app.ux")

$app_define$('@app-application/app', [], function($app_require$, $app_exports$, $app_module$){

        $app_script$($app_module$, $app_exports$, $app_require$)
        if ($app_exports$.__esModule && $app_exports$.default) {
            $app_module$.exports = $app_exports$.default;
        }
})
$app_bootstrap$('@app-application/app',{packagerName:'fa-toolkit', packagerVersion: '14.0.1-Stable.300'})
})();

/******/ })()
;   };
                        if (typeof window === "undefined") {
                            return createAppHandler();
                        }
                        else {
                            window.createAppHandler = createAppHandler
                        }
                    })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGRcXGFwcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNkQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUNkQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNUQTs7Ozs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ0xBOzs7Ozs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDN05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDdEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQy9KQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNyRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDdEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ2pKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNOQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDWEE7QUFDQTs7Ozs7Ozs7Ozs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDckZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ3JkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDNUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDL0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3pJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUMvR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNySUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDbmVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDOUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3BVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM1akJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDcEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUN6RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDM3FEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3JYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3ZoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN6dURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM5VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUMxcUJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDaEdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7QUN0TUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZCQTs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDUEE7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AaHctYWdjb25uZWN0L2FwaS9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGh3LWFnY29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AaHctYWdjb25uZWN0L2luc3RhbmNlL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AaHctYWdjb25uZWN0L2xvZy9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGh3LWFnY29ubmVjdC9uZXR3b3JrL2Rpc3QvaW5kZXgucXVpY2thcHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Body1hZ2Nvbm5lY3Qvc3RvcmFnZS9kaXN0L2luZGV4LnF1aWNrYXBwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AaHctYWdjb25uZWN0L3V0aWwvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Body1obXNjb3JlL2FuYWx5dGljcy1zZGstcXVpY2thcHAvaW5kZXgucXVpY2thcHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Body1obXNjb3JlL2htcy1qcy1iYXNlL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRvcG9uL3F1aWNrLWFwcC1zZGstaHcvYXBwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdG9wb24vcXVpY2stYXBwLXNkay1ody9idW5kbGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9lbnYvZGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0F4aW9zRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbnVsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZVByb3RvY29sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RvRm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3ZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vaGVscGVyL2FqYXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9oZWxwZXIvYXBpcy9leGFtcGxlLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vaGVscGVyL2FwaXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9oZWxwZXIvYXBpcy90YXNrLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vaGVscGVyL2FwaXMvdXNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2hlbHBlci9wcm9jZXNzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2hlbHBlci91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9KU0VuY3J5cHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvSlNFbmNyeXB0UlNBS2V5LmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL2xpYi9hc24xanMvYXNuMS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvYXNuMWpzL2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvYXNuMWpzL2hleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvYXNuMWpzL2ludDEwLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL2xpYi9qc2JuL2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvanNibi9qc2JuLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL2xpYi9qc2JuL3Bybmc0LmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL2xpYi9qc2JuL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvanNibi9yc2EuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL2pzZW5jcnlwdC9saWIvbGliL2pzYm4vdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xpYnMvanNlbmNyeXB0L2xpYi9saWIvanNyc2FzaWduL2FzbjEtMS4wLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21tb24vbGlicy9qc2VuY3J5cHQvbGliL2xpYi9qc3JzYXNpZ24veWFob28uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL3VtZW5nL3VtZW5nYW5hbHlzaXMuZXMubWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcy1iYXNlNjQvYmFzZTY0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcy1tZDUvc3JjL21kNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5pb24tcXVpY2stYXBwLWFkL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveWxoLXF1aWNrLWFwcC1hZC1zZGsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3lsaC1xdWljay1hcHAtYWQtc2RrL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy9zcmMvZDpcXHF1aWNrYXBwV29ya3NwYWNlXFxjb20uaGFpdHVvLnNldHBwbGFuZXRcXHNyY1xcYXBwLnV4Iiwid2VicGFjazovLy8uL3NyYy9Db21tb24vaGVscGVyL2FwaXMvIHN5bmMgXFwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9saWJzL3VtZW5nLyBzeW5jIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2FtZCBvcHRpb25zIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3NyYy9hcHAudXgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGU9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuc2VydmljZXNJZGVudGlmaWVyTWFwPW5ldyBNYXAsdGhpcy5yZWdpc3RlcmVkU2VydmljZT1uZXcgTWFwfXJldHVybiBlLnByb3RvdHlwZS5yZWdpc3RyeVNlcnZpY2U9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5uYW1lO3RoaXMucmVnaXN0ZXJlZFNlcnZpY2UuaGFzKHIpfHx0aGlzLnJlZ2lzdGVyZWRTZXJ2aWNlLnNldChyLGUpfSxlLnByb3RvdHlwZS51bnJlZ2lzdHJ5U2VydmljZT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmdldFNlcnZpY2U9ZnVuY3Rpb24oZSxyLHQpe3ZvaWQgMD09PXQmJih0PVwiW0RFRkFVTFRfQ0FURUdPUlldXCIpO3ZhciBpPXRoaXMuc2VydmljZXNJZGVudGlmaWVyTWFwLmdldCh0KTtpZihudWxsPT1pKWk9bmV3IE1hcCx0aGlzLnNlcnZpY2VzSWRlbnRpZmllck1hcC5zZXQodCxpKTtlbHNlIGlmKG51bGwhPShzPWkuZ2V0KGUpKSlyZXR1cm4gczt2YXIgbj10aGlzLnJlZ2lzdGVyZWRTZXJ2aWNlLmdldChlKTtpZihudWxsIT1uKXt2YXIgcz1uLnNlcnZpY2VGYWN0b3J5KHIpO3JldHVybiBpLnNldChlLHMpLHN9cmV0dXJuIG51bGx9LGV9KCkpO3ZhciByPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXt9cmV0dXJuIHIucHJvdG90eXBlLnJlZ2lzdGVyQXBpUHJvdmlkZXI9ZnVuY3Rpb24oZSxyLHQpeyh0aGlzW2VdPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiByKGUpfSxudWxsIT10KSYmZnVuY3Rpb24gZShyLHQpe2lmKCEodCBpbnN0YW5jZW9mIE9iamVjdCkpcmV0dXJuIHQ7c3dpdGNoKHQuY29uc3RydWN0b3Ipe2Nhc2UgQXJyYXk6cj1bXTticmVhaztjYXNlIE9iamVjdDp2b2lkIDA9PT1yJiYocj17fSk7YnJlYWs7Y2FzZSBEYXRlOnJldHVybiBuZXcgRGF0ZSh0LmdldFRpbWUoKSk7ZGVmYXVsdDpyZXR1cm4gdH1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYocltpXT1lKHJbaV0sdFtpXSkpO3JldHVybiByfSh0aGlzW2VdLHQpfSxyLnByb3RvdHlwZS5yZWdpc3RlckludGVybmFsU2VydmljZT1mdW5jdGlvbihyKXtlLnJlZ2lzdHJ5U2VydmljZShyKX0sci5wcm90b3R5cGUuZ2V0U2VydmljZT1mdW5jdGlvbihyLHQsaSl7cmV0dXJuIGUuZ2V0U2VydmljZShyLHQsaSl9LHJ9KCkpO2V4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwidmFyIHQ9XCJbREVGQVVMVF9DQVRFR09SWV1cIixuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmZhY3Rvcnk9dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuaW5zdGFuY2UmJih0aGlzLmluc3RhbmNlPXRoaXMuZmFjdG9yeSgpKSx0aGlzLmluc3RhbmNlfSx0fSgpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaW5zdGFuY2VNYXA9e30sdGhpcy5mYWN0b3J5PXR9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZih0JiZBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD49MSlyZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFt0WzBdXXx8KHRoaXMuaW5zdGFuY2VNYXBbdFswXV09dGhpcy5mYWN0b3J5KHQpKSx0aGlzLmluc3RhbmNlTWFwW3RbMF1dO3ZhciBuPW5ldyBBcnJheTtyZXR1cm4gblswXT1cIltERUZBVUxUX0NBVEVHT1JZXVwiLHRoaXMuZ2V0KG4pfSx0fSgpO2V4cG9ydHt0IGFzIERFRkFVTFRfQ0FURUdPUlksaSBhcyBJbnN0YW5jZU1hcCxuIGFzIFNpbmdsZXRvbn07XG4iLCJpbXBvcnQgdCBmcm9tXCJAaHctYWdjb25uZWN0L2FwaVwiO2ltcG9ydHtERUZBVUxUX0NBVEVHT1JZIGFzIGUsSW5zdGFuY2VNYXAgYXMgb31mcm9tXCJAaHctYWdjb25uZWN0L2NvcmVcIjtpbXBvcnR7TG9nZ2VyIGFzIG59ZnJvbVwiQGh3LWFnY29ubmVjdC9sb2dcIjtcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL3ZhciByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJih0W29dPWVbb10pfSkodCxlKX07dmFyIGkscyxjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobyxuLHIpe3ZhciBpPXRoaXMscz1vLmNvZGUrZS5DT0xPTitvLm1lc3NhZ2U7cmV0dXJuIHImJihzPXIrZS5EQVNIK3MpLG4mJihuLm1lc3NhZ2U/cz1zK2UuQ09NTUErbi5tZXNzYWdlOlwic3RyaW5nXCI9PXR5cGVvZiBuJiYocz1zK2UuQ09NTUErbikpLChpPXQuY2FsbCh0aGlzLHMpfHx0aGlzKS5fX3Byb3RvX189ZS5wcm90b3R5cGUsaS5jb2RlPW8uY29kZSxpLm1lc3NhZ2U9by5tZXNzYWdlLG4mJihuLm1lc3NhZ2U/aS5tZXNzYWdlPW8ubWVzc2FnZStlLkNPTU1BK24ubWVzc2FnZTpcInN0cmluZ1wiPT10eXBlb2YgbiYmKGkubWVzc2FnZT1vLm1lc3NhZ2UrZS5DT01NQStuKSksaS5tc2c9aS5tZXNzYWdlLGl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKGUpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gbygpe3RoaXMuY29uc3RydWN0b3I9dH1yKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooby5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG8pfShlLHQpLGUuQ09MT049XCI6IFwiLGUuQ09NTUE9XCIsIFwiLGUuREFTSD1cIi1cIixlfShFcnJvcikscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuQUdDX0lOTkVSX0VSUk9SPXtjb2RlOjFlNCxtZXNzYWdlOlwiYWdjIGlubmVyIGVycm9yXCJ9LHQuTkVUV09SS19SRVFVRVNUX0VSUk9SPXtjb2RlOjEwMDAxLG1lc3NhZ2U6XCJhZ2MgbmV0d29yayByZXF1ZXN0IGVycm9yXCJ9LHQuR0VUX0FBSURfRVJST1I9e2NvZGU6MTAwMDIsbWVzc2FnZTpcImFnYyBnZXQgYWFpZCBlcnJvclwifSx0LkFCVEVTVF9MT0FEX0VYUEVSSU1FTlRTX0VSUk9SPXtjb2RlOjEwMDAzLG1lc3NhZ2U6XCJhYnRlc3QgbG9hZCBleHBlcmltZW50cyBlcnJvclwifSx0LkFCVEVTVF9TQVZFX0VYUEVSSU1FTlRTX0VSUk9SPXtjb2RlOjEwMDA0LG1lc3NhZ2U6XCJhYnRlc3Qgc2F2ZSBleHBlcmltZW50cyBlcnJvclwifSx0LkFCVEVTVF9SRVBMQUNFX0VYUEVSSU1FTlRTX0VSUk9SPXtjb2RlOjEwMDA1LG1lc3NhZ2U6XCJhYnRlc3QgcmVwYWxjZSBleHBlcmltZW50cyBlcnJvclwifSx0LkZBSUxfVE9fR0VUX1NUT1JBR0VfU0VSVklDRT17Y29kZToxMDAwNixtZXNzYWdlOlwiZ2V0IGFnY1N0b3JhZ2Ugc2VydmljZSBmYWlsZWRcIn0sdC5GQUlMX1RPX0dFVF9ORVRXT1JLX1NFUlZJQ0U9e2NvZGU6MTAwMDcsbWVzc2FnZTpcImdldCBhZ2NOZXR3b3JrIHNlcnZpY2UgZmFpbGVkXCJ9LHQuUkVNT1ZFX1RPS0VOX0ZBSUxFRD17Y29kZToxMDAwOCxtZXNzYWdlOlwicmVtb3ZlIGNsaWVudCB0b2tlbiBmYWlsZFwifSx0LkdFVF9UT0tFTl9GQUlMRUQ9e2NvZGU6MTAwMDksbWVzc2FnZTpcImdldCBjbGllbnQgdG9rZW4gZmFpbGRcIn0sdC5BR0NfSU5JVF9FUlJPUj17Y29kZToxMDAxMCxtZXNzYWdlOlwiQUdDSW5zdGFuY2UgaW5pdCBlcnJvclwifSx0LkZBSUxfVE9fR0VUX0NSSURFTlRJQUxfU0VSVklDRT17Y29kZToxMDAxMSxtZXNzYWdlOlwiZ2V0IGFnY0NyZWRlbnRpYWwgc2VydmljZSBmYWlsZWRcIn0sdC5XRUJTT0NLRVRfTk9UX1NVUFBPUlQ9e2NvZGU6MTAwMTIsbWVzc2FnZTpcIndlYnNvY2tldCBpcyBub3Qgc3VwcG9ydFwifSx0LldFQlNPQ0tFVF9FUlJPUj17Y29kZToxMDAxMyxtZXNzYWdlOlwid2Vic29ja2V0IGVycm9yXCJ9LHR9KCksYT1uLmNyZWF0ZUxvZ2dlcihcImFnY29ubmVjdEluc3RhbmNlXCIpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbyl7dGhpcy5hcHBWZXJzaW9uPVwiXCIsdGhpcy5fY29uZmlnPW51bGwsdGhpcy5fY3VzdG9tQ3JlZGVudGlhbHNQcm92aWRlcj1udWxsLHRoaXMuX2N1c3RvbUF1dGhQcm92aWRlcj1udWxsLHRoaXMuY3J5cHRJbXBsPXZvaWQgMCx0aGlzLm9wdGlvbj1udWxsLHRoaXMucmVwb189dCx0aGlzLm5hbWVfPW98fGV9cmV0dXJuIHQucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lX30sdC5wcm90b3R5cGUuY29uZmlnSW5zdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbmZpZz10LHRoaXMucmVwbGFjZUFwcEluZm8oKSx0aGlzfSx0LnByb3RvdHlwZS5yZXBsYWNlQXBwSW5mbz1mdW5jdGlvbigpe3RoaXMuX2NvbmZpZyYmdGhpcy5fY29uZmlnLmFwcF9pbmZvJiZ0aGlzLl9jb25maWcuYXBwX2luZm8uYXBwX2lkJiZ0aGlzLl9jb25maWcuY2xpZW50JiYodGhpcy5fY29uZmlnLmNsaWVudC5hcHBfaWQ9dGhpcy5fY29uZmlnLmFwcF9pbmZvLmFwcF9pZCl9LHQucHJvdG90eXBlLmNvbmZpZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrQmVmb3JlU2V0S2V5KCksdGhpcy5fY29uZmlnfSx0LnByb3RvdHlwZS5zZXRBcGlLZXk9ZnVuY3Rpb24odCl7dGhpcy5jaGVja0JlZm9yZVNldEtleSgpLHRoaXMuX2NvbmZpZy5jbGllbnQuYXBpX2tleT10fSx0LnByb3RvdHlwZS5zZXRDbGllbnRTZWNyZXQ9ZnVuY3Rpb24odCl7dGhpcy5jaGVja0JlZm9yZVNldEtleSgpLHRoaXMuX2NvbmZpZy5jbGllbnQuY2xpZW50X3NlY3JldD10fSx0LnByb3RvdHlwZS5zZXRDbGllbnRJZD1mdW5jdGlvbih0KXt0aGlzLmNoZWNrQmVmb3JlU2V0S2V5KCksdGhpcy5fY29uZmlnLmNsaWVudC5jbGllbnRfaWQ9dH0sdC5wcm90b3R5cGUuZ2V0U2VydmljZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXBvXy5nZXRTZXJ2aWNlKHQsdGhpcyx0aGlzLm5hbWVfKX0sdC5wcm90b3R5cGUuc2V0Q3VzdG9tQ3JlZGVudGlhbHNQcm92aWRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdD90LmdldFRva2VuPzEhPXQuZ2V0VG9rZW4ubGVuZ3RoPyhhLmVycm9yKFwidGhlIGN1c3RvbUNyZWRlbnRpYWxzUHJvdmlkZXIgZ2V0VG9rZW4gbWV0aG9kIG11c3QgY29udGFpbiBzaW5nbGUgcGFyYW1ldGVy77yaZm9yY2VSZWZyZXNoLlwiKSwhMSk6KHRoaXMuX2N1c3RvbUNyZWRlbnRpYWxzUHJvdmlkZXI9dCwhMCk6KGEuZXJyb3IoXCJ0aGUgY3VzdG9tQ3JlZGVudGlhbHNQcm92aWRlciBtdXN0IGNvbnRhaW4gZ2V0VG9rZW4gbWV0aG9kLlwiKSwhMSk6KHRoaXMuX2N1c3RvbUNyZWRlbnRpYWxzUHJvdmlkZXI9dCwhMCl9LHQucHJvdG90eXBlLnNldEN1c3RvbUF1dGhQcm92aWRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdD90LmdldFRva2VuPzEhPXQuZ2V0VG9rZW4ubGVuZ3RoPyhhLmVycm9yKFwidGhlIGN1c3RvbUF1dGhQcm92aWRlciBnZXRUb2tlbiBtZXRob2QgbXVzdCBjb250YWluIHNpbmdsZSBwYXJhbWV0ZXLvvJpmb3JjZVJlZnJlc2guXCIpLCExKToodGhpcy5fY3VzdG9tQXV0aFByb3ZpZGVyPXQsITApOihhLmVycm9yKFwidGhlIGN1c3RvbUF1dGhQcm92aWRlciBtdXN0IGNvbnRhaW4gZ2V0VG9rZW4gbWV0aG9kLlwiKSwhMSk6KHRoaXMuX2N1c3RvbUF1dGhQcm92aWRlcj10LCEwKX0sdC5wcm90b3R5cGUuZ2V0Q3VzdG9tQ3JlZGVudGlhbHNQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXN0b21DcmVkZW50aWFsc1Byb3ZpZGVyfSx0LnByb3RvdHlwZS5nZXRDdXN0b21BdXRoUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VzdG9tQXV0aFByb3ZpZGVyfSx0LnByb3RvdHlwZS5zZXRDcnlwdEltcD1mdW5jdGlvbih0KXtyZXR1cm4gdD90LmRlY3J5cHQmJnQuZGVjcnlwdCBpbnN0YW5jZW9mIEZ1bmN0aW9uJiZ0LmVuY3J5cHQmJnQuZW5jcnlwdCBpbnN0YW5jZW9mIEZ1bmN0aW9uPyh0aGlzLmNyeXB0SW1wbD10LCEwKTooYS5lcnJvcihcInRoZSBjcnlwdCBpcyBub3QgZXhpc3QgbmVjZXNzYXJ5IG1ldGhvZHMuXCIpLCExKTooYS5lcnJvcihcInRoZSBjcnlwdCBpcyBub3QgYXZhaWxhYmxlLlwiKSwhMSl9LHQucHJvdG90eXBlLnNldEFwcFZlcnNpb249ZnVuY3Rpb24odCl7dGhpcy5hcHBWZXJzaW9uPXR9LHQucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbj10fSx0LnByb3RvdHlwZS5hZGRIdHRwVG9Vcmw9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiF0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9cImh0dHBzOi8vXCIrdDp0fSx0LnByb3RvdHlwZS5nZXRHd1VybD1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLm9wdGlvbj90aGlzLm9wdGlvbi5yb3V0ZVBvbGljeT09TnVtYmVyKDEpP3RoaXMuYWRkSHR0cFRvVXJsKHRoaXMuX2NvbmZpZy5hZ2Nnd19hbGwuQ04pOnRoaXMub3B0aW9uLnJvdXRlUG9saWN5PT1OdW1iZXIoMik/dGhpcy5hZGRIdHRwVG9VcmwodGhpcy5fY29uZmlnLmFnY2d3X2FsbC5ERSk6dGhpcy5vcHRpb24ucm91dGVQb2xpY3k9PU51bWJlcigzKT90aGlzLmFkZEh0dHBUb1VybCh0aGlzLl9jb25maWcuYWdjZ3dfYWxsLlJVKTp0aGlzLm9wdGlvbi5yb3V0ZVBvbGljeT09TnVtYmVyKDQpP3RoaXMuYWRkSHR0cFRvVXJsKHRoaXMuX2NvbmZpZy5hZ2Nnd19hbGwuU0cpOnRoaXMuYWRkSHR0cFRvVXJsKHRoaXMuX2NvbmZpZy5hZ2Nndy51cmwpOnRoaXMuYWRkSHR0cFRvVXJsKHRoaXMuX2NvbmZpZy5hZ2Nndy51cmwpfSx0LnByb3RvdHlwZS5nZXRHd0JhY2tVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5vcHRpb24/MT09dGhpcy5vcHRpb24ucm91dGVQb2xpY3k/dGhpcy5hZGRIdHRwVG9VcmwodGhpcy5fY29uZmlnLmFnY2d3X2FsbC5DTl9iYWNrKToyPT10aGlzLm9wdGlvbi5yb3V0ZVBvbGljeT90aGlzLmFkZEh0dHBUb1VybCh0aGlzLl9jb25maWcuYWdjZ3dfYWxsLkRFX2JhY2spOjM9PXRoaXMub3B0aW9uLnJvdXRlUG9saWN5P3RoaXMuYWRkSHR0cFRvVXJsKHRoaXMuX2NvbmZpZy5hZ2Nnd19hbGwuUlVfYmFjayk6ND09dGhpcy5vcHRpb24ucm91dGVQb2xpY3k/dGhpcy5hZGRIdHRwVG9VcmwodGhpcy5fY29uZmlnLmFnY2d3X2FsbC5TR19iYWNrKTp0aGlzLmFkZEh0dHBUb1VybCh0aGlzLl9jb25maWcuYWdjZ3cuYmFja3VybCk6dGhpcy5hZGRIdHRwVG9VcmwodGhpcy5fY29uZmlnLmFnY2d3LmJhY2t1cmwpfSx0LnByb3RvdHlwZS5nZXRBcHBWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwVmVyc2lvbn0sdC5wcm90b3R5cGUuZ2V0Q3J5cHRJbXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcnlwdEltcGx9LHQucHJvdG90eXBlLmNoZWNrQmVmb3JlU2V0S2V5PWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5fY29uZmlnKXRocm93IG5ldyBjKHAuQUdDX0lOSVRfRVJST1Ise21lc3NhZ2U6XCJBR0NJbnN0YW5jZSBub3QgY29uZmlndXJhdGVkLiBjYWxsIGFnY29ubmVjdC5pbnN0YW5jZSgpLmNvbmZpZ0luc3RhbmNlKCkgdG8gY29uZmlndXJlIHRoZSBhZ2Nvbm5lY3QuXCJ9LFwiaW5zdGFuY2VcIik7aWYoIXRoaXMuX2NvbmZpZy5hZ2Nnd3x8IXRoaXMuX2NvbmZpZy5jbGllbnQpdGhyb3cgbmV3IGMocC5BR0NfSU5JVF9FUlJPUix7bWVzc2FnZTpcIkFHQ0luc3RhbmNlIGNvbmZpZyBpcyBpbnZhbGlkLlwifSxcImluc3RhbmNlXCIpfSx0fSgpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy5jb2RlPXQsdGhpcy5tc2c9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvZGV9LHQucHJvdG90eXBlLnNldENvZGU9ZnVuY3Rpb24odCl7dGhpcy5jb2RlPXR9LHQucHJvdG90eXBlLmdldE1zZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1zZ30sdC5wcm90b3R5cGUuc2V0TXNnPWZ1bmN0aW9uKHQpe3RoaXMubXNnPXR9LHR9KCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnJldD1uZXcgdX1yZXR1cm4gdC5wcm90b3R5cGUuaXNTdWNjZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucmV0JiYwPT10aGlzLnJldC5nZXRDb2RlKCl9LHQucHJvdG90eXBlLmdldFJldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJldH0sdC5wcm90b3R5cGUuc2V0UmV0PWZ1bmN0aW9uKHQpe3RoaXMucmV0PXR9LHQucHJvdG90eXBlLmNvbnN0cnVjdFJlc3BvbnNlPWZ1bmN0aW9uKHQpe30sdH0oKSxsPW5ldyBvKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGcodCxlWzBdKX0pKTshZnVuY3Rpb24odCl7dFt0LlVOS05PV049MF09XCJVTktOT1dOXCIsdFt0LkNISU5BPTFdPVwiQ0hJTkFcIix0W3QuR0VSTUFOWT0yXT1cIkdFUk1BTllcIix0W3QuUlVTU0lBPTNdPVwiUlVTU0lBXCIsdFt0LlNJTkdBUE9SRT00XT1cIlNJTkdBUE9SRVwifShpfHwoaT17fSkpLHM9e0FHQ1JvdXRlUG9saWN5Oml9LHQucmVnaXN0ZXJBcGlQcm92aWRlcihcImluc3RhbmNlXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBsLmdldCh0KX0pLHMpO2V4cG9ydHtjIGFzIEFHQ0Vycm9yLHAgYXMgQUdDRXJyb3JDb2RlLGggYXMgQmFzZVJlc3BvbnNlLHUgYXMgQ29ubmVjdFJldH07XG4iLCJ2YXIgbyxyOyFmdW5jdGlvbihvKXtvW28uREVCVUc9MF09XCJERUJVR1wiLG9bby5WRVJCT1NFPTFdPVwiVkVSQk9TRVwiLG9bby5JTkZPPTJdPVwiSU5GT1wiLG9bby5XQVJOPTNdPVwiV0FSTlwiLG9bby5FUlJPUj00XT1cIkVSUk9SXCIsb1tvLlNJTEVOVD01XT1cIlNJTEVOVFwifShyfHwocj17fSkpO3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBvPXRoaXM7dGhpcy5tb2R1bGVOYW1lPVwiXCIsdGhpcy5sb2dMZXZlbD1yLlZFUkJPU0UsdGhpcy51c2VyTG9nUHJvdmlkZXI9bnVsbCx0aGlzLmxvZ1Byb3ZpZGVyPWZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBuPVtdLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baS0yXT1hcmd1bWVudHNbaV07aWYoISh0PG8ubG9nTGV2ZWwpKXt2YXIgZz1lLmNvbnNvbGVUeXBlW3RdO2lmKCFnKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgbG9nVHlwZTogXCIuY29uY2F0KHQpKTtjb25zb2xlW2ddKFwiW01vZHVsZTpcIi5jb25jYXQocixcIl0gW1wiKS5jb25jYXQoKG5ldyBEYXRlKS50b0lTT1N0cmluZygpLFwiXSB8IFwiKSxuLnRvU3RyaW5nKCkpfX19cmV0dXJuIGUuY3JlYXRlTG9nZ2VyPWZ1bmN0aW9uKG8pe2Zvcih2YXIgcj0wLHQ9ZS5sb2dJbnN0YW5jZUFycmF5O3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO2lmKG4ubW9kdWxlTmFtZT09bylyZXR1cm4gbn12YXIgaT1uZXcgZTtyZXR1cm4gaS5tb2R1bGVOYW1lPW8sZS5sb2dJbnN0YW5jZUFycmF5LnB1c2goaSksaX0sZS5wcm90b3R5cGUuc2V0TG9nUHJvdmlkZXI9ZnVuY3Rpb24obyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbyl0aHJvdyBuZXcgRXJyb3IoXCJsb2dQcm92aWRlciBtdXN0IGJlIHNldCBhcyBhIGZ1bmN0aW9uXCIpO3RoaXMubG9nUHJvdmlkZXI9b30sZS5wcm90b3R5cGUuc2V0VXNlckxvZ1Byb3ZpZGVyPWZ1bmN0aW9uKG8pe3RoaXMudXNlckxvZ1Byb3ZpZGVyPW99LGUucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7Zm9yKHZhciBvPVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKW9bZV09YXJndW1lbnRzW2VdO3RoaXMuZG9Mb2coci5ERUJVRyxvKX0sZS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciBvPVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKW9bZV09YXJndW1lbnRzW2VdO3RoaXMuZG9Mb2coci5WRVJCT1NFLG8pfSxlLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciBvPVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKW9bZV09YXJndW1lbnRzW2VdO3RoaXMuZG9Mb2coci5JTkZPLG8pfSxlLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7Zm9yKHZhciBvPVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKW9bZV09YXJndW1lbnRzW2VdO3RoaXMuZG9Mb2coci5XQVJOLG8pfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgbz1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylvW2VdPWFyZ3VtZW50c1tlXTt0aGlzLmRvTG9nKHIuRVJST1Isbyl9LGUucHJvdG90eXBlLmRvTG9nPWZ1bmN0aW9uKG8pe2Zvcih2YXIgcj1bXSxlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylyW2UtMV09YXJndW1lbnRzW2VdO3RoaXMudXNlckxvZ1Byb3ZpZGVyJiZ0aGlzLnVzZXJMb2dQcm92aWRlcih0aGlzLm1vZHVsZU5hbWUsbyxyKSx0aGlzLmxvZ1Byb3ZpZGVyKHRoaXMubW9kdWxlTmFtZSxvLHIpfSxlLmNvbnNvbGVUeXBlPSgobz17fSlbci5ERUJVR109XCJsb2dcIixvW3IuVkVSQk9TRV09XCJsb2dcIixvW3IuU0lMRU5UXT1cImxvZ1wiLG9bci5JTkZPXT1cImluZm9cIixvW3IuV0FSTl09XCJ3YXJuXCIsb1tyLkVSUk9SXT1cImVycm9yXCIsbyksZS5sb2dJbnN0YW5jZUFycmF5PVtdLGV9KCk7ZnVuY3Rpb24gdChvKXtmb3IodmFyIHI9MCx0PWUubG9nSW5zdGFuY2VBcnJheTtyPHQubGVuZ3RoO3IrKyl7dFtyXS5sb2dMZXZlbD1vfX1mdW5jdGlvbiBuKG8pe2Zvcih2YXIgcj1mdW5jdGlvbihyKXtvP3Iuc2V0VXNlckxvZ1Byb3ZpZGVyKChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ktMl09YXJndW1lbnRzW2ldO3Q8ci5sb2dMZXZlbHx8byhlLHQsbil9KSk6ci5zZXRVc2VyTG9nUHJvdmlkZXIobnVsbCl9LHQ9MCxuPWUubG9nSW5zdGFuY2VBcnJheTt0PG4ubGVuZ3RoO3QrKyl7cihuW3RdKX19ZXhwb3J0e3IgYXMgTG9nTGV2ZWwsZSBhcyBMb2dnZXIsdCBhcyBzZXRHbG9iYWxMb2dMZXZlbCxuIGFzIHNldEdsb2JhbFVzZXJMb2dIYW5kbGVyfTtcbiIsImltcG9ydCBlIGZyb21cIkBody1hZ2Nvbm5lY3QvYXBpXCI7aW1wb3J0e0xvZ2dlciBhcyB0fWZyb21cIkBody1hZ2Nvbm5lY3QvbG9nXCI7aW1wb3J0IG8gZnJvbVwiYXhpb3NcIjtpbXBvcnR7QUdDRXJyb3IgYXMgcyxBR0NFcnJvckNvZGUgYXMgYX1mcm9tXCJAaHctYWdjb25uZWN0L2luc3RhbmNlXCI7XG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi92YXIgcj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKX0pKGUsdCl9O2Z1bmN0aW9uIG4oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiBvKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihvLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbyl9ZnVuY3Rpb24gaShlLHQsbyxzKXtyZXR1cm4gbmV3KG98fChvPVByb21pc2UpKSgoZnVuY3Rpb24oYSxyKXtmdW5jdGlvbiBuKGUpe3RyeXt1KHMubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gaShlKXt0cnl7dShzLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiB1KGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG8/dDpuZXcgbygoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihuLGkpfXUoKHM9cy5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX1mdW5jdGlvbiB1KGUsdCl7dmFyIG8scyxhLHIsbj17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZhWzBdKXRocm93IGFbMV07cmV0dXJuIGFbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gcj17bmV4dDppKDApLHRocm93OmkoMSkscmV0dXJuOmkoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscjtmdW5jdGlvbiBpKHIpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYobyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO247KXRyeXtpZihvPTEscyYmKGE9MiZyWzBdP3MucmV0dXJuOnJbMF0/cy50aHJvd3x8KChhPXMucmV0dXJuKSYmYS5jYWxsKHMpLDApOnMubmV4dCkmJiEoYT1hLmNhbGwocyxyWzFdKSkuZG9uZSlyZXR1cm4gYTtzd2l0Y2gocz0wLGEmJihyPVsyJnJbMF0sYS52YWx1ZV0pLHJbMF0pe2Nhc2UgMDpjYXNlIDE6YT1yO2JyZWFrO2Nhc2UgNDpyZXR1cm4gbi5sYWJlbCsrLHt2YWx1ZTpyWzFdLGRvbmU6ITF9O2Nhc2UgNTpuLmxhYmVsKysscz1yWzFdLHI9WzBdO2NvbnRpbnVlO2Nhc2UgNzpyPW4ub3BzLnBvcCgpLG4udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoYT1uLnRyeXMsKGE9YS5sZW5ndGg+MCYmYVthLmxlbmd0aC0xXSl8fDYhPT1yWzBdJiYyIT09clswXSkpe249MDtjb250aW51ZX1pZigzPT09clswXSYmKCFhfHxyWzFdPmFbMF0mJnJbMV08YVszXSkpe24ubGFiZWw9clsxXTticmVha31pZig2PT09clswXSYmbi5sYWJlbDxhWzFdKXtuLmxhYmVsPWFbMV0sYT1yO2JyZWFrfWlmKGEmJm4ubGFiZWw8YVsyXSl7bi5sYWJlbD1hWzJdLG4ub3BzLnB1c2gocik7YnJlYWt9YVsyXSYmbi5vcHMucG9wKCksbi50cnlzLnBvcCgpO2NvbnRpbnVlfXI9dC5jYWxsKGUsbil9Y2F0Y2goZSl7cj1bNixlXSxzPTB9ZmluYWxseXtvPWE9MH1pZig1JnJbMF0pdGhyb3cgclsxXTtyZXR1cm57dmFsdWU6clswXT9yWzFdOnZvaWQgMCxkb25lOiEwfX0oW3IsaV0pfX19dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5nZXRQbGF0Zm9ybT1mdW5jdGlvbigpe3JldHVyblwiXCJ9LGUucHJvdG90eXBlLmdldFBsYXRmb3JtVmVyc2lvbj1mdW5jdGlvbigpe3JldHVyblwiXCJ9LGUucHJvdG90eXBlLmdldFBhY2thZ2VOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0sZS5wcm90b3R5cGUuZ2V0QXBwVmVyc2lvbj1mdW5jdGlvbigpe3JldHVyblwiXCJ9LGUucHJvdG90eXBlLmdldExhbmd1YWdlPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0sZS5wcm90b3R5cGUuZ2V0U2NyaXB0PWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0sZS5wcm90b3R5cGUuZ2V0Q291bnRyeT1mdW5jdGlvbigpe3JldHVyblwiXCJ9LGUucHJvdG90eXBlLmdldFN5c3RlbUluZm89ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcIlwiLHZlcnNpb246XCJcIn19LGUucHJvdG90eXBlLmdldEJyb3dzZXJzSW5mbz1mdW5jdGlvbigpe3JldHVybntuYW1lOlwiXCIsdmVyc2lvbjpcIlwifX0sZX0oKSxjPSRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uY29uZmlndXJhdGlvblwiKSxsPSRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uYXBwXCIpLHA9JGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5kZXZpY2VcIiksZj1cIlwiLGg9dC5jcmVhdGVMb2dnZXIoXCJRdWlja0FwcFwiKTtwLmdldEluZm8oe3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtmPVwiYW5kcm9pZFwiPT10Lm9zVHlwZT9cIkFuZHJvaWQgXCIrdC5vc1ZlcnNpb25OYW1lOnQub3NUeXBlK1wiIFwiK3Qub3NWZXJzaW9uTmFtZX0sZmFpbDpmdW5jdGlvbihlLHQpe2gud2FybihcIkZhaWxlZCB0byBvYnRhaW4gZGV2aWNlIGluZm9ybWF0aW9uLiBFcnJvciBjb2RlOlwiK3QrXCI7IEVycm9yIGluZm9ybWF0aW9uOiBcIitlKX19KTt2YXIgaz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmdldFBsYXRmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuXCJKUy1TREstUXVpY2tBcHBcIn0sdC5wcm90b3R5cGUuZ2V0UGxhdGZvcm1WZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGZ9LHQucHJvdG90eXBlLmdldFBhY2thZ2VOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGwuZ2V0SW5mbygpLnBhY2thZ2VOYW1lfSx0LnByb3RvdHlwZS5nZXRBcHBWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGwuZ2V0SW5mbygpLnZlcnNpb25OYW1lfSx0LnByb3RvdHlwZS5nZXRMYW5ndWFnZT1mdW5jdGlvbigpe3JldHVybiBjLmdldExvY2FsZSgpLmxhbmd1YWdlfSx0LnByb3RvdHlwZS5nZXRDb3VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuIGMuZ2V0TG9jYWxlKCkuY291bnRyeU9yUmVnaW9ufSx0fShkKSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHM9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBzLkNhbmNlbFRva2VuPXZvaWQgMCxvLmRlZmF1bHRzLnRpbWVvdXQ9N2U0LHMuQ2FuY2VsVG9rZW49by5DYW5jZWxUb2tlbixudWxsPT10JiZudWxsPT10fHwoby5kZWZhdWx0cy5hZGFwdGVyPXQpLHN9cmV0dXJuIG4odCxlKSx0LnByb3RvdHlwZS5nZXRBeGlvc0lucz1mdW5jdGlvbigpe3JldHVybiBvfSx0LnByb3RvdHlwZS5zZW5kUmVxdWVzdD1mdW5jdGlvbihlLHQscixuLGQpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxjO3JldHVybiB1KHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2hlY2tQYXJhbSh0KT8oaT17dXJsOnQsbWV0aG9kOmUsdHJhbnNmb3JtUmVzcG9uc2U6bnVsbD09ZD92b2lkIDA6ZC50cmFuc2Zvcm1SZXNwb25zZSxoZWFkZXJzOm4sdGltZW91dDpudWxsPT1kP3ZvaWQgMDpkLnRpbWVvdXQscmVzcG9uc2VUeXBlOm51bGw9PWQ/dm9pZCAwOmQucmVzcG9uc2VUeXBlLG9uVXBsb2FkUHJvZ3Jlc3M6bnVsbD09ZD92b2lkIDA6ZC5vblVwbG9hZFByb2dyZXNzLG9uRG93bmxvYWRQcm9ncmVzczpudWxsPT1kP3ZvaWQgMDpkLm9uRG93bmxvYWRQcm9ncmVzcyx2YWxpZGF0ZVN0YXR1czpudWxsPT1kP3ZvaWQgMDpkLnZhbGlkYXRlU3RhdHVzLGNhbmNlbFRva2VuOm51bGw9PWQ/dm9pZCAwOmQuY2FuY2VsVG9rZW59LFwiUFVUXCIhPWUmJlwiUE9TVFwiIT1lfHwoaS5kYXRhPXIpLFwiR0VUXCIhPWUmJlwiREVMRVRFXCIhPWV8fChpLnBhcmFtcz1yKSxkJiZkLnRocm93T3JpZ2luRXhjZXB0aW9uP1syLG8ucmVxdWVzdChpKV06WzQsby5yZXF1ZXN0KGkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHMoYS5ORVRXT1JLX1JFUVVFU1RfRVJST1IsZSxcIm5ldHdvcmtcIikpfSkpXSk6WzIsUHJvbWlzZS5yZWplY3QobmV3IHMoYS5ORVRXT1JLX1JFUVVFU1RfRVJST1Ise21lc3NhZ2U6XCJ1cmwgaXMgaWxsZWdhbFwifSxcIm5ldHdvcmtcIikpXTtjYXNlIDE6cmV0dXJuIGM9dS5zZW50KCksWzIsUHJvbWlzZS5yZXNvbHZlKGMpXX19KSl9KSl9LHR9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuQ2FuY2VsVG9rZW49dm9pZCAwfXJldHVybiBlLnByb3RvdHlwZS5wb3N0PWZ1bmN0aW9uKGUsdCxvLHMpe3JldHVybiB0aGlzLnNlbmRSZXF1ZXN0KFwiUE9TVFwiLGUsdCxvLHMpfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0LG8scyl7cmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QoXCJHRVRcIixlLHQsbyxzKX0sZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCxvLHMpe3JldHVybiB0aGlzLnNlbmRSZXF1ZXN0KFwiREVMRVRFXCIsZSx0LG8scyl9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQsbyxzKXtyZXR1cm4gdGhpcy5zZW5kUmVxdWVzdChcIlBVVFwiLGUsdCxvLHMpfSxlLnByb3RvdHlwZS5jaGVja1BhcmFtPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fGUubWF0Y2goL1xccy9nKXx8IWUubWF0Y2goL14oaHQpdHAocz8pXFw6XFwvXFwvWzAtOWEtekEtWl0oWy0uXFx3XSpbMC05YS16QS1aXSkqKDooMC05KSopKihcXC8/KShbYS16QS1aMC05XFwtXFwuXFw/XFwsXFwnXFwvXFxcXFxcKyZhbXA7JVxcJCNfXSopPy8pKX0sZX0oKSksZz0kYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmZldGNoXCIpO2Z1bmN0aW9uIFQoZSl7dmFyIG89dC5jcmVhdGVMb2dnZXIoXCJBR0NOZXR3b3JrU2VydmljZVwiKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscyl7dmFyIGE9bnVsbDtcIlBVVFwiIT1lLm1ldGhvZCYmXCJQT1NUXCIhPWUubWV0aG9kJiZcInB1dFwiIT1lLm1ldGhvZCYmXCJwb3N0XCIhPWUubWV0aG9kfHwoYT1lLmRhdGEpLFwiR0VUXCIhPWUubWV0aG9kJiZcIkRFTEVURVwiIT1lLm1ldGhvZCYmXCJnZXRcIiE9ZS5tZXRob2QmJlwiZGVsZXRlXCIhPWUubWV0aG9kfHwoYT1lLnBhcmFtcyksZy5mZXRjaCh7dXJsOmUudXJsLGRhdGE6YSxoZWFkZXI6ZS5oZWFkZXJzLHJlc3BvbnNlVHlwZTplLnJlc3BvbnNlVHlwZSxtZXRob2Q6ZS5tZXRob2Qsc3VjY2VzczpmdW5jdGlvbihvKXt2YXIgYT17ZGF0YTpvLmRhdGEsc3RhdHVzOm8uY29kZSxzdGF0dXNUZXh0Om8uc3RhdHVzVGV4dCxoZWFkZXJzOm8uaGVhZGVyc307aWYobnVsbCE9ZS52YWxpZGF0ZVN0YXR1cylpZighby5jb2RlfHxlLnZhbGlkYXRlU3RhdHVzKG8uY29kZSkpdChhKTtlbHNle3ZhciByPW5ldyBFcnJvcihcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrby5jb2RlKTtyLmNvZGU9by5jb2RlLHIucmVzcG9uc2U9YSxzKHIpfWVsc2UgdChhKX0sZmFpbDpmdW5jdGlvbihlLHQpe28ubG9nKFwicXVpY2sgYXBwIGZldGNoIGZhaWwgY29kZSA6IFwiK3QpO3ZhciBhPW5ldyBFcnJvcihcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgOiBcIit0K1wiIHN0YXR1c1RleHQgOiBcIitlLnN0YXR1c1RleHQpO2EuY29kZT10LGEucmVzcG9uc2U9e2RhdGE6ZS5kYXRhLHN0YXR1czp0LHN0YXR1c1RleHQ6ZS5zdGF0dXNUZXh0LGhlYWRlcnM6bnVsbH0scyhhKX19KX0pKX12YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcj10LmNyZWF0ZUxvZ2dlcihcIkFHQ1dlYlNvY2tldFNlcnZpY2VcIil9cmV0dXJuIGUucHJvdG90eXBlLmdldFJlYWR5U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQ/TnVtYmVyKHRoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUpOm51bGx9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSx0LG8pe3RyeXtpZih0aGlzLndlYnNvY2tldCl7aWYodGhpcy53ZWJzb2NrZXQuc2VuZChlKSx0KXJldHVybiB0KCl9ZWxzZSBpZihvKXJldHVybiBvKCl9Y2F0Y2goZSl7aWYodGhpcy5sb2dnZXIuZXJyb3IoZSksbylyZXR1cm4gbygpfX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSx0LG8scyl7dHJ5e2lmKHRoaXMud2Vic29ja2V0KXtpZih0aGlzLndlYnNvY2tldC5jbG9zZShlLHQpLG8pcmV0dXJuIG8oKX1lbHNlIGlmKHMpcmV0dXJuIHMoKX1jYXRjaChlKXtpZih0aGlzLmxvZ2dlci5lcnJvcihlKSxzKXJldHVybiBzKCl9fSxlLnByb3RvdHlwZS5vbk9wZW49ZnVuY3Rpb24oZSl7aWYoIXRoaXMud2Vic29ja2V0KXRocm93IG5ldyBzKGEuV0VCU09DS0VUX0VSUk9SLHttZXNzYWdlOlwid2ViU29ja2V0IGNvbm5lY3QgZmFpbFwifSxcIm5ldHdvcmtcIik7dGhpcy53ZWJzb2NrZXQub25vcGVuPWV9LGUucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXtpZighdGhpcy53ZWJzb2NrZXQpdGhyb3cgbmV3IHMoYS5XRUJTT0NLRVRfRVJST1Ise21lc3NhZ2U6XCJ3ZWJTb2NrZXQgY29ubmVjdCBmYWlsXCJ9LFwibmV0d29ya1wiKTt0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7ZSYmZSh0LmRhdGEpfX0sZS5wcm90b3R5cGUub25DbG9zZT1mdW5jdGlvbihlKXtpZighdGhpcy53ZWJzb2NrZXQpdGhyb3cgbmV3IHMoYS5XRUJTT0NLRVRfRVJST1Ise21lc3NhZ2U6XCJ3ZWJTb2NrZXQgY29ubmVjdCBmYWlsXCJ9LFwibmV0d29ya1wiKTt0aGlzLndlYnNvY2tldC5vbmNsb3NlPWZ1bmN0aW9uKHQpe2UmJmUodC5jb2RlLHQucmVhc29uLHQud2FzQ2xlYW4pfX0sZS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlKXtpZighdGhpcy53ZWJzb2NrZXQpdGhyb3cgbmV3IHMoYS5XRUJTT0NLRVRfRVJST1Ise21lc3NhZ2U6XCJ3ZWJTb2NrZXQgY29ubmVjdCBmYWlsXCJ9LFwibmV0d29ya1wiKTt0aGlzLndlYnNvY2tldC5vbmVycm9yPWZ1bmN0aW9uKHQpe2UmJmUodCl9fSxlfSgpLHY9JGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS53ZWJzb2NrZXRmYWN0b3J5XCIpLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4odCxlKSx0LnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGUsdCxvKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcywoZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMud2Vic29ja2V0JiYodGhpcy53ZWJzb2NrZXQuY2xvc2UoKSx0aGlzLndlYnNvY2tldD1udWxsKSx0aGlzLndlYnNvY2tldD12LmNyZWF0ZSh7dXJsOmUsaGVhZGVyOnQscHJvdG9jb2xzOm99KSx0aGlzLndlYnNvY2tldD9bMixQcm9taXNlLnJlc29sdmUoKV06WzIsUHJvbWlzZS5yZWplY3QobmV3IHMoYS5XRUJTT0NLRVRfRVJST1Ise21lc3NhZ2U6XCJ3ZWJTb2NrZXQgY3JlYXRlIGZhaWxlZFwifSxcIm5ldHdvcmtcIikpXX0pKX0pKX0sdC5wcm90b3R5cGUuZ2V0UmVhZHlTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvZ2dlci53YXJuKFwiZ2V0UmVhZHlTdGF0ZSBub3Qgc3VwcG9ydFwiKSxudWxsfSx0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUsdCxvKXt0aGlzLndlYnNvY2tldD90aGlzLndlYnNvY2tldC5zZW5kKHtkYXRhOmUsc3VjY2Vzczp0LGZhaWw6b30pOm8mJm8oKX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSx0LG8scyl7dGhpcy53ZWJzb2NrZXQ/dGhpcy53ZWJzb2NrZXQuY2xvc2Uoe2NvZGU6ZSxyZWFzb246dCxzdWNjZXNzOm8sZmFpbDpzfSk6cyYmcygpfSx0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLndlYnNvY2tldCl0aHJvdyBuZXcgcyhhLldFQlNPQ0tFVF9FUlJPUix7bWVzc2FnZTpcIndlYlNvY2tldCBjb25uZWN0IGZhaWxcIn0sXCJuZXR3b3JrXCIpO3RoaXMud2Vic29ja2V0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7ZSYmZSh0LmRhdGEpfX0sdH0oeSkscT0kYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmRvd25sb2FkdGFza1wiKSxSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VyPXQuY3JlYXRlTG9nZ2VyKFwiQUdDRmlsZVRyYW5zbG9hZFNlcnZpY2VcIiksdGhpcy50YXNrPXZvaWQgMH1yZXR1cm4gZS5wcm90b3R5cGUuZG93bmxvYWRXaXRoVGFzaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxzKXt0LnRhc2s9cS5kb3dubG9hZEZpbGUoe3VybDplLnVybCxoZWFkZXI6ZS5oZWFkZXIsZmlsZW5hbWU6ZS5maWxlbmFtZSx0aW1lb3V0OmUudGltZW91dCxzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBhPXtoZWFkZXI6dC5oZWFkZXIsZmlsZVBhdGg6dC5maWxlUGF0aCxzdGF0dXM6dC5zdGF0dXNDb2RlLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0fTtudWxsIT1lLnZhbGlkYXRlU3RhdHVzP2UudmFsaWRhdGVTdGF0dXModC5zdGF0dXNDb2RlKT9vKGEpOnMoe2NvZGU6dC5zdGF0dXNDb2RlLG1lc3NhZ2U6XCJkb3dubG9hZHRhc2sgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSBcIit0LnN0YXR1c0NvZGUscmVzcG9uc2U6e2hlYWRlcjp0LmhlYWRlcixmaWxlUGF0aDp0LmZpbGVQYXRoLHN0YXR1czp0LnN0YXR1c0NvZGUsc3RhdHVzVGV4dDp0LnN0YXR1c1RleHR9fSk6byhhKX0sZmFpbDpmdW5jdGlvbihlLHQpe3Moe2NvZGU6dCxtZXNzYWdlOmUuc3RhdHVzVGV4dCxyZXNwb25zZTp7aGVhZGVyOmUuaGVhZGVyLGZpbGVQYXRoOmUuZmlsZVBhdGgsc3RhdHVzOmUuc3RhdHVzQ29kZSxzdGF0dXNUZXh0OmUuc3RhdHVzVGV4dH19KX19KX0pKX0sZS5wcm90b3R5cGUub25Qcm9ncmVzc1VwZGF0ZT1mdW5jdGlvbihlKXtudWxsIT10aGlzLnRhc2s/dGhpcy50YXNrLm9uUHJvZ3Jlc3NVcGRhdGUoZSk6dGhpcy5sb2dnZXIuZXJyb3IoXCJwbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGNhbGxlZCBkb3dubG9hZFdpdGhUYXNrIGZ1bmN0aW9uXCIpfSxlLnByb3RvdHlwZS5vZmZQcm9ncmVzc1VwZGF0ZT1mdW5jdGlvbigpe251bGwhPXRoaXMudGFzaz90aGlzLnRhc2sub2ZmUHJvZ3Jlc3NVcGRhdGUoKTp0aGlzLmxvZ2dlci5lcnJvcihcInBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgY2FsbGVkIGRvd25sb2FkV2l0aFRhc2sgZnVuY3Rpb25cIil9LGUucHJvdG90eXBlLm9uSGVhZGVyc1JlY2VpdmVkPWZ1bmN0aW9uKGUpe251bGwhPXRoaXMudGFzaz90aGlzLnRhc2sub25IZWFkZXJzUmVjZWl2ZWQoZSk6dGhpcy5sb2dnZXIuZXJyb3IoXCJwbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGNhbGxlZCBkb3dubG9hZFdpdGhUYXNrIGZ1bmN0aW9uXCIpfSxlLnByb3RvdHlwZS5vZmZIZWFkZXJzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRhc2s/dGhpcy50YXNrLm9mZkhlYWRlcnNSZWNlaXZlZCgpOnRoaXMubG9nZ2VyLmVycm9yKFwicGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBjYWxsZWQgZG93bmxvYWRXaXRoVGFzayBmdW5jdGlvblwiKX0sZS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRhc2s/dGhpcy50YXNrLmFib3J0KCk6dGhpcy5sb2dnZXIuZXJyb3IoXCJwbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGNhbGxlZCBkb3dubG9hZFdpdGhUYXNrIGZ1bmN0aW9uXCIpfSxlfSgpLGI9JGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5yZXF1ZXN0XCIpLFA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXI9dC5jcmVhdGVMb2dnZXIoXCJBR0NGaWxlVHJhbnNsb2FkU2VydmljZVwiKX1yZXR1cm4gZS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLHMpe2IudXBsb2FkKHt1cmw6ZS51cmwsaGVhZGVyOmUuaGVhZGVyLG1ldGhvZDplLm1ldGhvZCxmaWxlczplLmZpbGVzLGRhdGE6ZS5kYXRhLHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7dmFyIHI9YS5kYXRhO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLmRhdGEpdHJ5e3I9SlNPTi5wYXJzZShhLmRhdGEpfWNhdGNoKGUpe3QubG9nZ2VyLmVycm9yKFwidXBsb2FkIHJlc3VsdCBjYW5ub3QgYmUgcGFyc2VkIHRvIEpTT05cIil9dmFyIG49e2RhdGE6cixzdGF0dXM6YS5jb2RlLHN0YXR1c1RleHQ6YS5zdGF0dXNUZXh0LGhlYWRlcnM6YS5oZWFkZXJzfTtudWxsIT1lLnZhbGlkYXRlU3RhdHVzP2UudmFsaWRhdGVTdGF0dXMoYS5jb2RlKT9vKG4pOnMoe2NvZGU6YS5jb2RlLG1lc3NhZ2U6XCJ1cGxvYWQgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSBcIithLmNvZGUscmVzcG9uc2U6e2RhdGE6cixzdGF0dXM6YS5jb2RlLHN0YXR1c1RleHQ6YS5zdGF0dXNUZXh0LGhlYWRlcnM6YS5oZWFkZXJzfX0pOm8obil9LGZhaWw6ZnVuY3Rpb24oZSx0KXtzKHtjb2RlOnQsbWVzc2FnZTplLnN0YXR1c1RleHQscmVzcG9uc2U6e2RhdGE6ZS5kYXRhLHN0YXR1czp0LHN0YXR1c1RleHQ6ZS5zdGF0dXNUZXh0LGhlYWRlcnM6ZS5oZWFkZXJzfX0pfX0pfSkpfSxlLnByb3RvdHlwZS5kb3dubG9hZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbyl7Yi5kb3dubG9hZCh7dXJsOmUudXJsLGhlYWRlcjplLmhlYWRlcixkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9uLGZpbGVuYW1lOmUuZmlsZW5hbWUsc3VjY2VzczpmdW5jdGlvbihzKXt2YXIgYT17dG9rZW46cy50b2tlbixzdGF0dXM6cy5jb2RlfTtudWxsIT1lLnZhbGlkYXRlU3RhdHVzP2UudmFsaWRhdGVTdGF0dXMocy5jb2RlKT90KGEpOm8oe2NvZGU6cy5jb2RlLG1lc3NhZ2U6XCJkb3dubG9hZCByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiK3MuY29kZSxyZXNwb25zZTp7ZGF0YTpzLnRva2VuLHN0YXR1czpzLmNvZGUsc3RhdHVzVGV4dDpzLnN0YXR1c1RleHR9fSk6dChhKX0sZmFpbDpmdW5jdGlvbihlLHQpe28oe2NvZGU6dCxtZXNzYWdlOmUuc3RhdHVzVGV4dCxyZXNwb25zZTp7ZGF0YTplLnRva2VuLHN0YXR1czp0LHN0YXR1c1RleHQ6ZS5zdGF0dXNUZXh0fX0pfX0pfSkpfSxlLnByb3RvdHlwZS5vbkRvd25sb2FkQ29tcGxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG8pe2Iub25Eb3dubG9hZENvbXBsZXRlKHt0b2tlbjplLnRva2VuLHN1Y2Nlc3M6ZnVuY3Rpb24ocyl7dmFyIGE9e3VyaTpzLnVyaSxzdGF0dXM6cy5jb2RlfTtudWxsIT1lLnZhbGlkYXRlU3RhdHVzP2UudmFsaWRhdGVTdGF0dXMocy5jb2RlKT90KGEpOm8oe2NvZGU6cy5jb2RlLG1lc3NhZ2U6XCJvbkRvd25sb2FkQ29tcGxldGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSBcIitzLmNvZGUscmVzcG9uc2U6e2RhdGE6cy51cmksc3RhdHVzOnMuY29kZSxzdGF0dXNUZXh0OnMuc3RhdHVzVGV4dH19KTp0KGEpfSxmYWlsOmZ1bmN0aW9uKGUsdCl7byh7Y29kZTp0LG1lc3NhZ2U6ZS5zdGF0dXNUZXh0LHJlc3BvbnNlOntkYXRhOmUudXJpLHN0YXR1czp0LHN0YXR1c1RleHQ6ZS5zdGF0dXNUZXh0fX0pfX0pfSkpfSxlfSgpLFM9JGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5yZXF1ZXN0dGFza1wiKSx4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VyPXQuY3JlYXRlTG9nZ2VyKFwiQUdDRmlsZVRyYW5zbG9hZFNlcnZpY2VcIiksdGhpcy50YXNrPXZvaWQgMH1yZXR1cm4gZS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxzKXt0LnRhc2s9Uy5yZXF1ZXN0KHt1cmw6ZS51cmwsZGF0YTplLmRhdGEsaGVhZGVyOmUuaGVhZGVyLG1ldGhvZDplLm1ldGhvZCxyZXNwb25zZVR5cGU6ZS5yZXNwb25zZVR5cGUsdGltZW91dDplLnRpbWVvdXQsc3VjY2VzczpmdW5jdGlvbih0KXt2YXIgYT10LmRhdGE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YSl0cnl7YT1KU09OLnBhcnNlKHQuZGF0YSl9Y2F0Y2goZSl7fXZhciByPXtkYXRhOmEsc3RhdHVzOnQuc3RhdHVzQ29kZSxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dCxoZWFkZXI6dC5oZWFkZXJ9O251bGwhPWUudmFsaWRhdGVTdGF0dXM/ZS52YWxpZGF0ZVN0YXR1cyh0LnN0YXR1c0NvZGUpP28ocik6cyh7Y29kZTp0LnN0YXR1c0NvZGUsbWVzc2FnZTpcInJlcXVlc3R0YXNrIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrdC5zdGF0dXNDb2RlLHJlc3BvbnNlOntkYXRhOmEsc3RhdHVzOnQuc3RhdHVzQ29kZSxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dCxoZWFkZXI6dC5oZWFkZXJ9fSk6byhyKX0sZmFpbDpmdW5jdGlvbihlLHQpe3Moe2NvZGU6dCxtZXNzYWdlOmUuc3RhdHVzVGV4dCxyZXNwb25zZTp7ZGF0YTplLmRhdGEsc3RhdHVzOnQsc3RhdHVzVGV4dDplLnN0YXR1c1RleHQsaGVhZGVyOmUuaGVhZGVyfX0pfX0pfSkpfSxlLnByb3RvdHlwZS5vblByb2dyZXNzVXBkYXRlPWZ1bmN0aW9uKGUpe251bGwhPXRoaXMudGFzaz90aGlzLnRhc2sub25Qcm9ncmVzc1VwZGF0ZShlKTp0aGlzLmxvZ2dlci5lcnJvcihcInBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgY2FsbGVkIHJlcXVlc3QgZnVuY3Rpb25cIil9LGUucHJvdG90eXBlLm9mZlByb2dyZXNzVXBkYXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50YXNrP3RoaXMudGFzay5vZmZQcm9ncmVzc1VwZGF0ZSgpOnRoaXMubG9nZ2VyLmVycm9yKFwicGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBjYWxsZWQgcmVxdWVzdCBmdW5jdGlvblwiKX0sZS5wcm90b3R5cGUub25IZWFkZXJzUmVjZWl2ZWQ9ZnVuY3Rpb24oZSl7bnVsbCE9dGhpcy50YXNrP3RoaXMudGFzay5vbkhlYWRlcnNSZWNlaXZlZChlKTp0aGlzLmxvZ2dlci5lcnJvcihcInBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgY2FsbGVkIHJlcXVlc3QgZnVuY3Rpb25cIil9LGUucHJvdG90eXBlLm9mZkhlYWRlcnNSZWNlaXZlZD1mdW5jdGlvbigpe251bGwhPXRoaXMudGFzaz90aGlzLnRhc2sub2ZmSGVhZGVyc1JlY2VpdmVkKCk6dGhpcy5sb2dnZXIuZXJyb3IoXCJwbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGNhbGxlZCByZXF1ZXN0IGZ1bmN0aW9uXCIpfSxlLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe251bGwhPXRoaXMudGFzaz90aGlzLnRhc2suYWJvcnQoKTp0aGlzLmxvZ2dlci5lcnJvcihcInBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgY2FsbGVkIHJlcXVlc3QgZnVuY3Rpb25cIil9LGV9KCksST0kYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnVwbG9hZHRhc2tcIiksRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcj10LmNyZWF0ZUxvZ2dlcihcIkFHQ0ZpbGVUcmFuc2xvYWRTZXJ2aWNlXCIpLHRoaXMudGFzaz12b2lkIDB9cmV0dXJuIGUucHJvdG90eXBlLnVwbG9hZFdpdGhUYXNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLHMpe3QudGFzaz1JLnVwbG9hZEZpbGUoe3VybDplLnVybCxtZXRob2Q6ZS5tZXRob2QsZmlsZXM6ZS5maWxlcyxkYXRhOmUuZGF0YSx0aW1lb3V0OmUudGltZW91dCxzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBhPXQuZGF0YTtpZihcInN0cmluZ1wiPT10eXBlb2YgdC5kYXRhKXRyeXthPUpTT04ucGFyc2UodC5kYXRhKX1jYXRjaChlKXt9dmFyIHI9e2RhdGE6YSxzdGF0dXM6dC5zdGF0dXNDb2RlLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0LGhlYWRlcnM6dC5oZWFkZXJzfTtudWxsIT1lLnZhbGlkYXRlU3RhdHVzP2UudmFsaWRhdGVTdGF0dXModC5zdGF0dXNDb2RlKT9vKHIpOnMoe2NvZGU6dC5zdGF0dXNDb2RlLG1lc3NhZ2U6XCJ1cGxvYWR0YXNrIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrdC5zdGF0dXNDb2RlLHJlc3BvbnNlOntkYXRhOmEsc3RhdHVzOnQuc3RhdHVzQ29kZSxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dCxoZWFkZXJzOnQuaGVhZGVyc319KTpvKHIpfSxmYWlsOmZ1bmN0aW9uKGUsdCl7cyh7Y29kZTp0LG1lc3NhZ2U6ZS5zdGF0dXNUZXh0LHJlc3BvbnNlOntkYXRhOmUuZGF0YSxzdGF0dXM6dCxzdGF0dXNUZXh0OmUuc3RhdHVzVGV4dCxoZWFkZXJzOmUuaGVhZGVyc319KX19KX0pKX0sZS5wcm90b3R5cGUub25Qcm9ncmVzc1VwZGF0ZT1mdW5jdGlvbihlKXtudWxsIT10aGlzLnRhc2s/dGhpcy50YXNrLm9uUHJvZ3Jlc3NVcGRhdGUoZSk6dGhpcy5sb2dnZXIuZXJyb3IoXCJwbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGNhbGxlZCB1cGxvYWRXaXRoVGFzayBmdW5jdGlvblwiKX0sZS5wcm90b3R5cGUub2ZmUHJvZ3Jlc3NVcGRhdGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRhc2s/dGhpcy50YXNrLm9mZlByb2dyZXNzVXBkYXRlKCk6dGhpcy5sb2dnZXIuZXJyb3IoXCJwbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGNhbGxlZCB1cGxvYWRXaXRoVGFzayBmdW5jdGlvblwiKX0sZS5wcm90b3R5cGUub25IZWFkZXJzUmVjZWl2ZWQ9ZnVuY3Rpb24oZSl7bnVsbCE9dGhpcy50YXNrP3RoaXMudGFzay5vbkhlYWRlcnNSZWNlaXZlZChlKTp0aGlzLmxvZ2dlci5lcnJvcihcInBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgY2FsbGVkIHVwbG9hZFdpdGhUYXNrIGZ1bmN0aW9uXCIpfSxlLnByb3RvdHlwZS5vZmZIZWFkZXJzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRhc2s/dGhpcy50YXNrLm9mZkhlYWRlcnNSZWNlaXZlZCgpOnRoaXMubG9nZ2VyLmVycm9yKFwicGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBjYWxsZWQgdXBsb2FkV2l0aFRhc2sgZnVuY3Rpb25cIil9LGUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50YXNrP3RoaXMudGFzay5hYm9ydCgpOnRoaXMubG9nZ2VyLmVycm9yKFwicGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBjYWxsZWQgdXBsb2FkV2l0aFRhc2sgZnVuY3Rpb25cIil9LGV9KCksQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnF1aWNrQXBwUmVxPXZvaWQgMCx0aGlzLnVwbG9hZFRhc2tJbnM9dm9pZCAwLHRoaXMuZG93bmxvYWRUYXNrSW5zPXZvaWQgMCx0aGlzLnJlcVRhc2s9dm9pZCAwfXJldHVybiBlLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVpY2tBcHBSZXF8fCh0aGlzLnF1aWNrQXBwUmVxPW5ldyBQKSx0aGlzLnF1aWNrQXBwUmVxLnVwbG9hZChlKX0sZS5wcm90b3R5cGUuZG93bmxvYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVpY2tBcHBSZXF8fCh0aGlzLnF1aWNrQXBwUmVxPW5ldyBQKSx0aGlzLnF1aWNrQXBwUmVxLmRvd25sb2FkKGUpfSxlLnByb3RvdHlwZS5vbkRvd25sb2FkQ29tcGxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVpY2tBcHBSZXF8fCh0aGlzLnF1aWNrQXBwUmVxPW5ldyBQKSx0aGlzLnF1aWNrQXBwUmVxLm9uRG93bmxvYWRDb21wbGV0ZShlKX0sZS5wcm90b3R5cGUuZG93bmxvYWRXaXRoVGFzaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kb3dubG9hZFRhc2tJbnN8fCh0aGlzLmRvd25sb2FkVGFza0lucz1uZXcgUiksdGhpcy5kb3dubG9hZFRhc2tJbnMuZG93bmxvYWRXaXRoVGFzayhlKX0sZS5wcm90b3R5cGUuZG93bmxvYWR0YXNrT25Qcm9ncmVzc1VwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmRvd25sb2FkVGFza0luc3x8KHRoaXMuZG93bmxvYWRUYXNrSW5zPW5ldyBSKSx0aGlzLmRvd25sb2FkVGFza0lucy5vblByb2dyZXNzVXBkYXRlKGUpfSxlLnByb3RvdHlwZS5kb3dubG9hZHRhc2tPbkhlYWRlcnNSZWNlaXZlZD1mdW5jdGlvbihlKXt0aGlzLmRvd25sb2FkVGFza0luc3x8KHRoaXMuZG93bmxvYWRUYXNrSW5zPW5ldyBSKSx0aGlzLmRvd25sb2FkVGFza0lucy5vbkhlYWRlcnNSZWNlaXZlZChlKX0sZS5wcm90b3R5cGUuZG93bmxvYWR0YXNrT2ZmUHJvZ3Jlc3NVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmRvd25sb2FkVGFza0luc3x8KHRoaXMuZG93bmxvYWRUYXNrSW5zPW5ldyBSKSx0aGlzLmRvd25sb2FkVGFza0lucy5vZmZQcm9ncmVzc1VwZGF0ZSgpfSxlLnByb3RvdHlwZS5kb3dubG9hZHRhc2tPZmZIZWFkZXJzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXt0aGlzLmRvd25sb2FkVGFza0luc3x8KHRoaXMuZG93bmxvYWRUYXNrSW5zPW5ldyBSKSx0aGlzLmRvd25sb2FkVGFza0lucy5vZmZIZWFkZXJzUmVjZWl2ZWQoKX0sZS5wcm90b3R5cGUuZG93bmxvYWR0YXNrQWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmRvd25sb2FkVGFza0luc3x8KHRoaXMuZG93bmxvYWRUYXNrSW5zPW5ldyBSKSx0aGlzLmRvd25sb2FkVGFza0lucy5hYm9ydCgpfSxlLnByb3RvdHlwZS51cGxvYWRXaXRoVGFzaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGxvYWRUYXNrSW5zfHwodGhpcy51cGxvYWRUYXNrSW5zPW5ldyBFKSx0aGlzLnVwbG9hZFRhc2tJbnMudXBsb2FkV2l0aFRhc2soZSl9LGUucHJvdG90eXBlLnVwbG9hZHRhc2tPblByb2dyZXNzVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMudXBsb2FkVGFza0luc3x8KHRoaXMudXBsb2FkVGFza0lucz1uZXcgRSksdGhpcy51cGxvYWRUYXNrSW5zLm9uUHJvZ3Jlc3NVcGRhdGUoZSl9LGUucHJvdG90eXBlLnVwbG9hZHRhc2tPbkhlYWRlcnNSZWNlaXZlZD1mdW5jdGlvbihlKXt0aGlzLnVwbG9hZFRhc2tJbnN8fCh0aGlzLnVwbG9hZFRhc2tJbnM9bmV3IEUpLHRoaXMudXBsb2FkVGFza0lucy5vbkhlYWRlcnNSZWNlaXZlZChlKX0sZS5wcm90b3R5cGUudXBsb2FkdGFza09mZlByb2dyZXNzVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGxvYWRUYXNrSW5zfHwodGhpcy51cGxvYWRUYXNrSW5zPW5ldyBFKSx0aGlzLnVwbG9hZFRhc2tJbnMub2ZmUHJvZ3Jlc3NVcGRhdGUoKX0sZS5wcm90b3R5cGUudXBsb2FkdGFza09mZkhlYWRlcnNSZWNlaXZlZD1mdW5jdGlvbigpe3RoaXMudXBsb2FkVGFza0luc3x8KHRoaXMudXBsb2FkVGFza0lucz1uZXcgRSksdGhpcy51cGxvYWRUYXNrSW5zLm9mZkhlYWRlcnNSZWNlaXZlZCgpfSxlLnByb3RvdHlwZS51cGxvYWR0YXNrQWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLnVwbG9hZFRhc2tJbnN8fCh0aGlzLnVwbG9hZFRhc2tJbnM9bmV3IEUpLHRoaXMudXBsb2FkVGFza0lucy5hYm9ydCgpfSxlLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlcVRhc2t8fCh0aGlzLnJlcVRhc2s9bmV3IHgpLHRoaXMucmVxVGFzay5yZXF1ZXN0KGUpfSxlLnByb3RvdHlwZS5yZXF1ZXN0T25Qcm9ncmVzc1VwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnJlcVRhc2t8fCh0aGlzLnJlcVRhc2s9bmV3IHgpLHRoaXMucmVxVGFzay5vblByb2dyZXNzVXBkYXRlKGUpfSxlLnByb3RvdHlwZS5yZXF1ZXN0T25IZWFkZXJzUmVjZWl2ZWQ9ZnVuY3Rpb24oZSl7dGhpcy5yZXFUYXNrfHwodGhpcy5yZXFUYXNrPW5ldyB4KSx0aGlzLnJlcVRhc2sub25IZWFkZXJzUmVjZWl2ZWQoZSl9LGUucHJvdG90eXBlLnJlcXVlc3RPZmZQcm9ncmVzc1VwZGF0ZT1mdW5jdGlvbigpe3RoaXMucmVxVGFza3x8KHRoaXMucmVxVGFzaz1uZXcgeCksdGhpcy5yZXFUYXNrLm9mZlByb2dyZXNzVXBkYXRlKCl9LGUucHJvdG90eXBlLnJlcXVlc3RPZmZIZWFkZXJzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXt0aGlzLnJlcVRhc2t8fCh0aGlzLnJlcVRhc2s9bmV3IHgpLHRoaXMucmVxVGFzay5vZmZIZWFkZXJzUmVjZWl2ZWQoKX0sZS5wcm90b3R5cGUucmVxdWVzdEFib3J0PWZ1bmN0aW9uKCl7dGhpcy5yZXFUYXNrfHwodGhpcy5yZXFUYXNrPW5ldyB4KSx0aGlzLnJlcVRhc2suYWJvcnQoKX0sZX0oKTt2YXIgTz1lO08ucmVnaXN0ZXJJbnRlcm5hbFNlcnZpY2Uoe25hbWU6XCJBR0NOZXR3b3JrU2VydmljZVwiLHNlcnZpY2VGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdyhUKX19KSxPLnJlZ2lzdGVySW50ZXJuYWxTZXJ2aWNlKHtuYW1lOlwiQUdDV2ViU29ja2V0U2VydmljZVwiLHNlcnZpY2VGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbX19KSxPLnJlZ2lzdGVySW50ZXJuYWxTZXJ2aWNlKHtuYW1lOlwiQUdDUGxhdGZvcm1JbmZvU2VydmljZVwiLHNlcnZpY2VGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcga319KSxPLnJlZ2lzdGVySW50ZXJuYWxTZXJ2aWNlKHtuYW1lOlwiQUdDRmlsZVRyYW5zbG9hZFNlcnZpY2VcIixzZXJ2aWNlRmFjdG9yeTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEN9fSk7XG4iLCJpbXBvcnQgdCBmcm9tXCJAaHctYWdjb25uZWN0L2FwaVwiO2ltcG9ydHtERUZBVUxUX0NBVEVHT1JZIGFzIGV9ZnJvbVwiQGh3LWFnY29ubmVjdC9jb3JlXCI7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZW5jcnlwdEltcGw9dm9pZCAwLHRoaXMuZW5jcnlwdEltcGw9dH1yZXR1cm4gdC5wcm90b3R5cGUuc2V0RW5jcnlwdEltcD1mdW5jdGlvbih0KXt0aGlzLmVuY3J5cHRJbXBsPXR9LHQucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXRoaXMuZW5jcnlwdEltcGwmJm51bGwhPXRoaXMuZW5jcnlwdEltcGwmJm51bGwhPXQmJm51bGwhPXQ/dGhpcy5lbmNyeXB0SW1wbC5kZWNyeXB0KHQpOnR9LHQucHJvdG90eXBlLmVuY3J5cHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXRoaXMuZW5jcnlwdEltcGwmJm51bGwhPXRoaXMuZW5jcnlwdEltcGwmJm51bGwhPXQmJm51bGwhPXQ/dGhpcy5lbmNyeXB0SW1wbC5lbmNyeXB0KHQpOnR9LHR9KCkscj0kYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnN0b3JhZ2VcIiksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmFnY0NyeXB0SW1wbD1uZXcgbn1yZXR1cm4gdC5nZXRJbnN0YW5jZT1mdW5jdGlvbihlLG4peyF0LnF1aWNrQXBwU3RvcmVNYXAuaGFzKGUpJiZ0LnF1aWNrQXBwU3RvcmVNYXAuZ2V0KGUpfHx0LnF1aWNrQXBwU3RvcmVNYXAuc2V0KGUsbmV3IHQpO3ZhciByPXQucXVpY2tBcHBTdG9yZU1hcC5nZXQoZSk7cmV0dXJuIHIuYWdjQ3J5cHRJbXBsLnNldEVuY3J5cHRJbXAobikscn0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGMpe3IuZ2V0KHtrZXk6dCxkZWZhdWx0Om51bGwsc3VjY2VzczpmdW5jdGlvbih0KXtuKHQmJlwiXCIhPXQ/ZS5hZ2NDcnlwdEltcGwuZGVjcnlwdCh0KTpudWxsKX0sZmFpbDpmdW5jdGlvbih0LGUpe2ModCl9fSl9KSl9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7ci5kZWxldGUoe2tleTp0LHN1Y2Nlc3M6ZnVuY3Rpb24odCl7ZSgpfSxmYWlsOmZ1bmN0aW9uKHQscil7MjAwPT1yP2UoKTpuKHQpfX0pfSkpfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYyxwKXtyLnNldCh7a2V5OnQsdmFsdWU6bi5hZ2NDcnlwdEltcGwuZW5jcnlwdChlKSxzdWNjZXNzOmZ1bmN0aW9uKHQpe2ModCl9LGZhaWw6ZnVuY3Rpb24odCxlKXtwKHQpfX0pfSkpfSx0LnF1aWNrQXBwU3RvcmVNYXA9bmV3IE1hcCx0fSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubmFtZT1lLHQmJih0aGlzLm5hbWU9dCl9cmV0dXJuIHQucHJvdG90eXBlLmdldFN0b3JhZ2VJbnN0YW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBjLmdldEluc3RhbmNlKHRoaXMubmFtZSxlKX0sdC5wcm90b3R5cGUuY3JlYXRlUGVyc2lzdGVudFN0b3JhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gYy5nZXRJbnN0YW5jZSh0aGlzLm5hbWUpfSx0LnByb3RvdHlwZS5jcmVhdGVUZW1wb3JhcnlTdG9yYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZ2V0SW5zdGFuY2UodGhpcy5uYW1lKX0sdC5wcm90b3R5cGUuY3JlYXRlTWVtb3J5U3RvcmFnZT1mdW5jdGlvbigpe3JldHVybiBjLmdldEluc3RhbmNlKHRoaXMubmFtZSl9LHR9KCk7dC5yZWdpc3RlckludGVybmFsU2VydmljZSh7bmFtZTpcIkFHQ1N0b3JhZ2VTZXJ2aWNlXCIsc2VydmljZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBwKHQubmFtZSgpKX19KTtcbiIsImltcG9ydCBlIGZyb21cIkBody1hZ2Nvbm5lY3QvYXBpXCI7aW1wb3J0e0RFRkFVTFRfQ0FURUdPUlkgYXMgdH1mcm9tXCJAaHctYWdjb25uZWN0L2NvcmVcIjtpbXBvcnR7QUdDRXJyb3IgYXMgbixBR0NFcnJvckNvZGUgYXMgcn1mcm9tXCJAaHctYWdjb25uZWN0L2luc3RhbmNlXCI7aW1wb3J0XCJAaHctYWdjb25uZWN0L3N0b3JhZ2VcIjtpbXBvcnR7TG9nZ2VyIGFzIG99ZnJvbVwiQGh3LWFnY29ubmVjdC9sb2dcIjtcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL2Z1bmN0aW9uIGkoZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYShlKXt0cnl7cyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dHJ5e3Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxjKX1zKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gYShlLHQpe3ZhciBuLHIsbyxpLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGk9e25leHQ6YygwKSx0aHJvdzpjKDEpLHJldHVybjpjKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihpW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGk7ZnVuY3Rpb24gYyhpKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKGkpe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihvPTImaVswXT9yLnJldHVybjppWzBdP3IudGhyb3d8fCgobz1yLnJldHVybikmJm8uY2FsbChyKSwwKTpyLm5leHQpJiYhKG89by5jYWxsKHIsaVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKHI9MCxvJiYoaT1bMiZpWzBdLG8udmFsdWVdKSxpWzBdKXtjYXNlIDA6Y2FzZSAxOm89aTticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6aVsxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9aVsxXSxpPVswXTtjb250aW51ZTtjYXNlIDc6aT1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09aVswXSYmMiE9PWlbMF0pKXthPTA7Y29udGludWV9aWYoMz09PWlbMF0mJighb3x8aVsxXT5vWzBdJiZpWzFdPG9bM10pKXthLmxhYmVsPWlbMV07YnJlYWt9aWYoNj09PWlbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89aTticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKGkpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1pPXQuY2FsbChlLGEpfWNhdGNoKGUpe2k9WzYsZV0scj0wfWZpbmFsbHl7bj1vPTB9aWYoNSZpWzBdKXRocm93IGlbMV07cmV0dXJue3ZhbHVlOmlbMF0/aVsxXTp2b2lkIDAsZG9uZTohMH19KFtpLGNdKX19fXZhciBjLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zdG9yYWdlSW1wbD12b2lkIDB9cmV0dXJuIGUucHJvdG90eXBlLmdldEFhaWQ9ZnVuY3Rpb24oYyl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLHMsbCx1LGY7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppPW8uY3JlYXRlTG9nZ2VyKFwiQ2xpZW50SW5mb1NlcnZpY2VcIiksYS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gYS50cnlzLnB1c2goWzEsNSwsNl0pLHM9XCJhZ2NBYWlkX1wiK2MubmFtZSgpK1wiOlwiK2MuY29uZmlnKCkuY2xpZW50LmNsaWVudF9pZCxjLm5hbWUoKT09PXQmJihzPVwiYWdjQWFpZDpcIitjLmNvbmZpZygpLmNsaWVudC5jbGllbnRfaWQpLG51bGw9PShsPWMuZ2V0U2VydmljZShcIkFHQ1N0b3JhZ2VTZXJ2aWNlXCIpKT8oaS5lcnJvcihcIkdldCBBR0Mgc3RvcmFnZSBTZXJ2aWNlIGZhaWxlZC5cIiksWzIsUHJvbWlzZS5yZWplY3QobmV3IG4oci5HRVRfQUFJRF9FUlJPUix7bWVzc2FnZTpcImdldCBBR0Mgc3RvcmFnZSBTZXJ2aWNlIGZhaWxlZFwifSxcInV0aWxcIikpXSk6KHRoaXMuc3RvcmFnZUltcGx8fCh0aGlzLnN0b3JhZ2VJbXBsPWwuZ2V0U3RvcmFnZUluc3RhbmNlKGUucGVyc2lzdGVuY2UpKSxbNCx0aGlzLnN0b3JhZ2VJbXBsLmdldChzKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZXJyb3IoXCJnZXQgYWFpZCBmYWlsZWRcIixlLm1lc3NhZ2UpLFByb21pc2UucmVqZWN0KG5ldyBuKHIuR0VUX0FBSURfRVJST1Ise21lc3NhZ2U6XCJnZXQgYWFpZCBmcm9tIHN0b3JhZ2UgZmFpbGVkXCJ9LFwidXRpbFwiKSl9KSldKTtjYXNlIDI6cmV0dXJuIG51bGwhPSh1PWEuc2VudCgpKSYmbnVsbCE9dSYmXCJcIiE9dT9bMyw0XToodT10aGlzLmdldFJhbmRvbVN0cmluZygpLFs0LHRoaXMuc3RvcmFnZUltcGwuc2V0KHMsdSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBpLmVycm9yKFwiZ2V0IGFhaWQgZmFpbGVkXCIsZS5tZXNzYWdlKSxQcm9taXNlLnJlamVjdChuZXcgbihyLkdFVF9BQUlEX0VSUk9SLHttZXNzYWdlOlwic2F2ZSBhYWlkIHRvIHN0b3JhZ2UgZmFpbGVkXCJ9LFwidXRpbFwiKSl9KSldKTtjYXNlIDM6YS5zZW50KCksYS5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMix1XTtjYXNlIDU6cmV0dXJuIGY9YS5zZW50KCksaS5lcnJvcihcImdldCBhYWlkIGZhaWxlZFwiLGYubWVzc2FnZSksWzIsUHJvbWlzZS5yZWplY3QobmV3IG4oci5HRVRfQUFJRF9FUlJPUixmLFwidXRpbFwiKSldO2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5nZXRSYW5kb21TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1cIjAxMjM0NTY3ODlhYmNkZWZcIix0PWUubGVuZ3RoO3JldHVyblwieHh4eHh4eHgteHh4eC14eHh4LXh4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgveC9nLChmdW5jdGlvbigpe3JldHVybiBlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCkpfSkpfSxlLnBlcnNpc3RlbmNlPTAsZS5JTlNUQU5DRT1uZXcgZSxlfSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmdldEVudmlyb25tZW50SW5zPWZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5zdGFuY2V9LGUucHJvdG90eXBlLmlzQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLnNlbGY9PT1zZWxmfSxlLnByb3RvdHlwZS5pc05vZGVKUz1mdW5jdGlvbigpe3RyeXtyZXR1cm5cIltvYmplY3QgcHJvY2Vzc11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2Vzcyl9Y2F0Y2goZSl7cmV0dXJuITF9fSxlLnByb3RvdHlwZS5pc1JlYWN0TmF0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3R9LGUucHJvdG90eXBlLmlzUXVpY2tBcHA9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGdsb2JhbCYmXCJmYXN0YXBwXCJpbiBnbG9iYWx9Y2F0Y2goZSl7cmV0dXJuITF9fSxlLmluc3RhbmNlPW5ldyBlLGV9KCksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5pbnN0YW5jZT10fHxlLmluc3RhbmNlKCl9cmV0dXJuIHQucHJvdG90eXBlLmdldEFhaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gcy5JTlNUQU5DRS5nZXRBYWlkKHRoaXMuaW5zdGFuY2UpfSx0LnByb3RvdHlwZS5nZXRFbnZpcm9ubWVudFV0aWw9ZnVuY3Rpb24oKXtyZXR1cm4gbC5nZXRFbnZpcm9ubWVudElucygpfSx0fSgpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIG51bGwhPWV9IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxmKHQpfHxmKG4pKXRoaXMubmV4dD1lLHRoaXMuZXJyb3I9dHx8bnVsbCx0aGlzLmNvbXBsZXRlPW58fG51bGw7ZWxzZXt2YXIgcj1lO3RoaXMubmV4dD1yLm5leHR8fG51bGwsdGhpcy5lcnJvcj1yLmVycm9yfHxudWxsLHRoaXMuY29tcGxldGU9ci5jb21wbGV0ZXx8bnVsbH19O2UuT2JzZXJ2ZXJJbXBsPXR9KGN8fChjPXt9KSksZS5yZWdpc3RlckludGVybmFsU2VydmljZSh7bmFtZTpcIkNsaWVudEluZm9TZXJ2aWNlXCIsc2VydmljZUZhY3Rvcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KGUpfX0pO2V4cG9ydHtsIGFzIEVudmlyb25tZW50VXRpbCxjIGFzIE9ic2VydmVyVXRpbH07XG4iLCJpbXBvcnR7REVGQVVMVF9DQVRFR09SWSBhcyBlLFNpbmdsZXRvbiBhcyB0fWZyb21cIkBody1hZ2Nvbm5lY3QvY29yZVwiO2ltcG9ydCBuIGZyb21cIkBody1hZ2Nvbm5lY3QvYXBpXCI7aW1wb3J0e2htc2pzYiBhcyBpfWZyb21cIkBody1obXNjb3JlL2htcy1qcy1iYXNlXCI7dmFyIHIgPSAkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnNob3J0Y3V0XCIpOzt2YXJ7ZmV0Y2g6b309ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2hcIik7O3ZhciBhID0gJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5hcHBcIik7O3ZhciBzID0gJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5kZXZpY2VcIik7O3ZhciBjID0gJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5zdG9yYWdlXCIpOztpbXBvcnR7QUdDRXJyb3IgYXMgdSxBR0NFcnJvckNvZGUgYXMgbH1mcm9tXCJAaHctYWdjb25uZWN0L2luc3RhbmNlXCI7aW1wb3J0XCJAaHctYWdjb25uZWN0L3N0b3JhZ2VcIjtpbXBvcnRcIkBody1hZ2Nvbm5lY3QvbmV0d29ya1wiO2ltcG9ydFwiQGh3LWFnY29ubmVjdC91dGlsXCI7XG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi92YXIgZD1mdW5jdGlvbihlLHQpe3JldHVybihkPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX07ZnVuY3Rpb24gcChlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9ZChlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX1mdW5jdGlvbiBoKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihyLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGMoZSl7ZS5kb25lP3IoZS52YWx1ZSk6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZS52YWx1ZSl9KSkudGhlbihhLHMpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX1mdW5jdGlvbiBmKGUsdCl7dmFyIG4saSxyLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZyWzBdKXRocm93IHJbMV07cmV0dXJuIHJbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKG8pe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihuPTEsaSYmKHI9MiZvWzBdP2kucmV0dXJuOm9bMF0/aS50aHJvd3x8KChyPWkucmV0dXJuKSYmci5jYWxsKGkpLDApOmkubmV4dCkmJiEocj1yLmNhbGwoaSxvWzFdKSkuZG9uZSlyZXR1cm4gcjtzd2l0Y2goaT0wLHImJihvPVsyJm9bMF0sci52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6cj1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssaT1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEocj1hLnRyeXMsKHI9ci5sZW5ndGg+MCYmcltyLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFyfHxvWzFdPnJbMF0mJm9bMV08clszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxyWzFdKXthLmxhYmVsPXJbMV0scj1vO2JyZWFrfWlmKHImJmEubGFiZWw8clsyXSl7YS5sYWJlbD1yWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9clsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2goZSl7bz1bNixlXSxpPTB9ZmluYWxseXtuPXI9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sc10pfX19dmFyIGcsRT1cImhlYWRlclwiLHY9XCJldmVudHNfY29tbW9uXCIsQz1cImV2ZW50c1wiLFQ9XCJldmVudFwiLFM9XCJkZWJ1Z01vZGVcIix5PVwicm91dGVQb2xpY3lcIixJPVwidGVybWluYWxOYW1lXCIsQT1cIkFwcC1JZFwiLG09XCJBcHAtVmVyXCIsUD1cIlNkay1OYW1lXCIsTj1cIkRldmljZS1UeXBlXCIsTz1cInNlcnZpY2V0YWdcIixSPVwiUGFja2FnZS1OYW1lXCIsTD1cIlJlcXVlc3QtSWRcIiwkPVwieC1oYXNkay1kZWJ1Z1wiLF89XCJ4LWhhc2RrLXRva2VuXCIsRD1cIngtaGFzZGstbG9nLXJlZ2lvblwiLFU9XCJ4LWhhc2RrLXJlc291cmNlaWRcIixNPVwieC1oYXNkay1wcm9kdWN0aWRcIixrPVwieC1oYXNkay1jbGllbnRpZFwiLHc9XCJfb3Blbm5lc3NfbG9nX3RhZ1wiLEg9XCJfb3Blbm5lc3NfY29uZmlnX3RhZ1wiLGI9XCIkU3RhcnRUeXBlXCIsVj1cIiRTdGFydFNjZW5lXCIsRj1cIiRQcmV2QWN0aXZpdHlOYW1lXCIsRz1cIiRQcmV2QWN0aXZpdHlJZFwiLFk9XCIkQ3VyQWN0aXZpdHlOYW1lXCIsQj1cIiRDdXJBY3Rpdml0eUlkXCIsVz1cIiRQcmVQYWdlSWRcIixLPVwiJEN1cnJQYWdlSWRcIix4PVwiJER1cmF0aW9uXCIsaj02NCxKPTEwMCxxPTEyOCxRPTI1NixYPTQwOTYsej0yMDQ4LFo9MTAwLGVlPTIwNDgwMCx0ZT01MCxuZT0yNSxpZT0vXlthLXpBLVpfJF1bQS1aYS16MC05X10qJC8scmU9L15bYS16QS1aXVtBLVphLXowLTlfXSokLyxvZT0vXlthLXpBLVpfJF1bQS1aYS16MC05X10qJC8sYWU9e3ZhbHVlOjVlMyxsYWJlbDpcIjVzXCJ9LHNlPXt2YWx1ZToxOGU2LGxhYmVsOlwiNWhcIn07IWZ1bmN0aW9uKGUpe2VbZS5CRUFDT049MV09XCJCRUFDT05cIixlW2UuQUpBWD0yXT1cIkFKQVhcIixlW2UuSU1HPTNdPVwiSU1HXCIsZVtlLldYUkVRVUVTVD00XT1cIldYUkVRVUVTVFwifShnfHwoZz17fSkpO3ZhciBjZSx1ZSxsZT0wLGRlPTEscGU9MixoZT0zLGZlPTUsZ2U9XCIwXCIsRWU9XCIxXCIsdmU9MSxDZT02MCxUZT0zMCxTZT0xZTM7IWZ1bmN0aW9uKGUpe2UuQUVTX0NCQ19ORVRXT1JLPVwiQUVTX0NCQ19ORVRXT1JLXCIsZS5BRVNfQ0JDX1NUT1JBR0U9XCJBRVNfQ0JDX1NUT1JBR0VcIn0oY2V8fChjZT17fSkpLGZ1bmN0aW9uKGUpe2UuQVBQX0lEPVwiYXBwSWRcIixlLlBLR19OQU1FPVwicGFja2FnZU5hbWVcIixlLkFOQUxZVElDU19VUkw9XCJhbmFseXRpY3NVcmxcIn0odWV8fCh1ZT17fSkpO3ZhciB5ZT1cIkhXX2hhX2V2ZW50U2Vzc2lvbk5hbWVcIixJZT1cIkhXX2hhX2FuYWx5dGljc0VuYWJsZWRcIixBZT1cIkhXX2hhX3Jlc3RyaWN0aW9uRW5hYmxlZFwiLG1lPVwiSFdfaGFfcmVzdHJpY3Rpb25TaGFyZWRcIixQZT1cIkhXX2hhX3NlcnZlck9haWRGbGFnXCIsTmU9XCJIV19oYV9pc0ZpcnN0UnVuXCIsT2U9e0NOOlwiSFdfaGFfcHViS2V5Q05cIixERTpcIkhXX2hhX3B1YktleURFXCIsUlU6XCJIV19oYV9wdWJLZXlSVVwiLFNHOlwiSFdfaGFfcHViS2V5U0dcIn0sUmU9e0NOOlwiSFdfaGFfd29ya0tleUNOXCIsREU6XCJIV19oYV93b3JrS2V5REVcIixSVTpcIkhXX2hhX3dvcmtLZXlSVVwiLFNHOlwiSFdfaGFfd29ya0tleVNHXCJ9LExlPXtDUkVBVEVQQVlNRU5USU5GTzpcIiRDcmVhdGVQYXltZW50SW5mb1wiLEFERFBST0RVQ1QyQ0FSVDpcIiRBZGRQcm9kdWN0MkNhcnRcIixBRERQUk9EVUNUMldJU0hMSVNUOlwiJEFkZFByb2R1Y3QyV2lzaExpc3RcIixTVEFSVEFQUDpcIiRTdGFydEFwcFwiLFNUQVJUQ0hFQ0tPVVQ6XCIkU3RhcnRDaGVja291dFwiLFZJRVdDQU1QQUlHTjpcIiRWaWV3Q2FtcGFpZ25cIixWSUVXQ0hFQ0tPVVRTVEVQOlwiJFZpZXdDaGVja291dFN0ZXBcIixXSU5WSVJUVUFMQ09JTjpcIiRXaW5WaXJ0dWFsQ29pblwiLENPTVBMRVRFUFVSQ0hBU0U6XCIkQ29tcGxldGVQdXJjaGFzZVwiLE9CVEFJTkxFQURTOlwiJE9idGFpbkxlYWRzXCIsSk9JTlVTRVJHUk9VUDpcIiRKb2luVXNlckdyb3VwXCIsQ09NUExFVEVMRVZFTDpcIiRDb21wbGV0ZUxldmVsXCIsU1RBUlRMRVZFTDpcIiRTdGFydExldmVsXCIsVVBHUkFERUxFVkVMOlwiJFVwZ3JhZGVMZXZlbFwiLFNJR05JTjpcIiRTaWduSW5cIixTSUdOT1VUOlwiJFNpZ25PdXRcIixTVUJNSVRTQ09SRTpcIiRTdWJtaXRTY29yZVwiLENSRUFURU9SREVSOlwiJENyZWF0ZU9yZGVyXCIsUkVGVU5ET1JERVI6XCIkUmVmdW5kT3JkZXJcIixERUxQUk9EVUNURlJPTUNBUlQ6XCIkRGVsUHJvZHVjdEZyb21DYXJ0XCIsU0VBUkNIOlwiJFNlYXJjaFwiLFZJRVdDT05URU5UOlwiJFZpZXdDb250ZW50XCIsVVBEQVRFQ0hFQ0tPVVRPUFRJT046XCIkVXBkYXRlQ2hlY2tvdXRPcHRpb25cIixTSEFSRUNPTlRFTlQ6XCIkU2hhcmVDb250ZW50XCIsUkVHSVNURVJBQ0NPVU5UOlwiJFJlZ2lzdGVyQWNjb3VudFwiLENPTlNVTUVWSVJUVUFMQ09JTjpcIiRDb25zdW1lVmlydHVhbENvaW5cIixTVEFSVFRVVE9SSUFMOlwiJFN0YXJ0VHV0b3JpYWxcIixDT01QTEVURVRVVE9SSUFMOlwiJENvbXBsZXRlVHV0b3JpYWxcIixPQlRBSU5BQ0hJRVZFTUVOVDpcIiRPYnRhaW5BY2hpZXZlbWVudFwiLFZJRVdQUk9EVUNUOlwiJFZpZXdQcm9kdWN0XCIsVklFV1BST0RVQ1RMSVNUOlwiJFZpZXdQcm9kdWN0TGlzdFwiLFZJRVdTRUFSQ0hSRVNVTFQ6XCIkVmlld1NlYXJjaFJlc3VsdFwiLFVQREFURU1FTUJFUlNISVBMRVZFTDpcIiRVcGRhdGVNZW1iZXJzaGlwTGV2ZWxcIixGSUxUUkFURVBST0RVQ1Q6XCIkRmlsdHJhdGVQcm9kdWN0XCIsVklFV0NBVEVHT1JZOlwiJFZpZXdDYXRlZ29yeVwiLFVQREFURU9SREVSOlwiJFVwZGF0ZU9yZGVyXCIsQ0FOQ0VMT1JERVI6XCIkQ2FuY2VsT3JkZXJcIixDT01QTEVURU9SREVSOlwiJENvbXBsZXRlT3JkZXJcIixDQU5DRUxDSEVDS09VVDpcIiRDYW5jZWxDaGVja291dFwiLE9CVEFJTlZPVUNIRVI6XCIkT2J0YWluVm91Y2hlclwiLENPTlRBQ1RDVVNUT01TRVJWSUNFOlwiJENvbnRhY3RDdXN0b21TZXJ2aWNlXCIsTk9WSUNFR1VJREVTVEFSVDpcIiROb3ZpY2VHdWlkZVN0YXJ0XCIsTk9WSUNFR1VJREVFTkQ6XCIkTm92aWNlR3VpZGVFbmRcIixTVEFSVEdBTUU6XCIkU3RhcnRHYW1lXCIsRU5ER0FNRTpcIiRFbmRHYW1lXCIsV0lOUFJPUFM6XCIkV2luUHJvcHNcIixFWENIQU5HRUdPT0RTOlwiJEV4Y2hhbmdlR29vZHNcIixWSUVXSE9VU0VMSVNUOlwiJFZpZXdIb3VzZUxpc3RcIixWSUVXSE9VU0VERVRBSUw6XCIkVmlld0hvdXNlRGV0YWlsXCIsSU5WSVRFOlwiJEludml0ZVwiLFJBVEU6XCIkUmF0ZVwiLENPTlNVTUVQUk9QUzpcIiRDb25zdW1lUHJvcHNcIixBRERGUklFTkQ6XCIkQWRkRnJpZW5kXCIsQUREQkxBQ0tMSVNUOlwiJEFkZEJsYWNrbGlzdFwiLFZJRVdGUklFTkRMSVNUOlwiJFZpZXdGcmllbmRMaXN0XCIsUVVJVFVTRVJHUk9VUDpcIiRRdWl0VXNlckdyb3VwXCIsQ1JFQVRFVVNFUkdST1VQOlwiJENyZWF0ZVVzZXJHcm91cFwiLERJU0JBTkRVU0VSR1JPVVA6XCIkRGlzYmFuZFVzZXJHcm91cFwiLFVQR1JBREVVU0VSR1JPVVA6XCIkVXBncmFkZVVzZXJHcm91cFwiLFZJRVdVU0VSR1JPVVA6XCIkVmlld1VzZXJHcm91cFwiLEpPSU5URUFNOlwiJEpvaW5UZWFtXCIsU0VORE1FU1NBR0U6XCIkU2VuZE1lc3NhZ2VcIixMRUFSTlNLSUxMOlwiJExlYXJuU2tpbGxcIixVU0VTS0lMTDpcIiRVc2VTa2lsbFwiLEdFVEVRVUlQTUVOVDpcIiRHZXRFcXVpcG1lbnRcIixMT1NFRVFVSVBNRU5UOlwiJExvc2VFcXVpcG1lbnRcIixFTkhBTkNFRVFVSVBNRU5UOlwiJEVuaGFuY2VFcXVpcG1lbnRcIixTV0lUQ0hDTEFTUzpcIiRTd2l0Y2hDbGFzc1wiLEFDQ0VQVFRBU0s6XCIkQWNjZXB0VGFza1wiLEZJTklTSFRBU0s6XCIkRmluaXNoVGFza1wiLEFUVEVOREFDVElWSVRZOlwiJEF0dGVuZEFjdGl2aXR5XCIsRklOSVNIQ1VUU0NFTkU6XCIkRmluaXNoQ3V0c2NlbmVcIixTS0lQQ1VUU0NFTkU6XCIkU2tpcEN1dHNjZW5lXCIsR0VUUEVUOlwiJEdldFBldFwiLExPU0VQRVQ6XCIkTG9zZVBldFwiLEVOSEFOQ0VQRVQ6XCIkRW5oYW5jZVBldFwiLEdFVE1PVU5UOlwiJEdldE1vdW50XCIsTE9TRU1PVU5UOlwiJExvc2VNb3VudFwiLEVOSEFOQ0VNT1VOVDpcIiRFbmhhbmNlTW91bnRcIixDUkVBVEVST0xFOlwiJENyZWF0ZVJvbGVcIixTSUdOSU5ST0xFOlwiJFNpZ25JblJvbGVcIixTSUdOT1VUUk9MRTpcIiRTaWduT3V0Um9sZVwiLFNUQVJUQkFUVExFOlwiJFN0YXJ0QmF0dGxlXCIsRU5EQkFUVExFOlwiJEVuZEJhdHRsZVwiLFNUQVJURFVOR0VPTjpcIiRTdGFydER1bmdlb25cIixGSU5JU0hEVU5HRU9OOlwiJEZpbmlzaER1bmdlb25cIixWSUVXUEFDS0FHRTpcIiRWaWV3UGFja2FnZVwiLFJFREVFTTpcIiRSZWRlZW1cIixNT0RJRllTRVRUSU5HOlwiJE1vZGlmeVNldHRpbmdcIixXQVRDSFZJREVPOlwiJFdhdGNoVmlkZW9cIixDTElDS01FU1NBR0U6XCIkQ2xpY2tNZXNzYWdlXCIsRFJBV0NBUkQ6XCIkRHJhd0NhcmRcIixWSUVXQ0FSRExJU1Q6XCIkVmlld0NhcmRMaXN0XCIsQklOREFDQ09VTlQ6XCIkQmluZEFjY291bnRcIixTVEFSVEVYRVJDSVNFOlwiJFN0YXJ0RXhlcmNpc2VcIixFTkRFWEVSQ0lTRTpcIiRFbmRFeGVyY2lzZVwiLFNUQVJUUExBWU1FRElBOlwiJFN0YXJ0UGxheU1lZGlhXCIsRU5EUExBWU1FRElBOlwiJEVuZFBsYXlNZWRpYVwiLFNUQVJURVhBTUlORTpcIiRTdGFydEV4YW1pbmVcIixFTkRFWEFNSU5FOlwiJEVuZEV4YW1pbmVcIixDSEVDS0lOOlwiJENoZWNrSW5cIixDT01QRU5TQVRJT046XCIkQ29tcGVuc2F0aW9uXCIsUE9TVDpcIiRQb3N0XCIsU0hBUkVBUFA6XCIkU2hhcmVBcHBcIixCSU5EREVWSUNFOlwiJEJpbmREZXZpY2VcIixVTkJJTkRERVZJQ0U6XCIkVW5CaW5kRGV2aWNlXCIsUkVTRVJWRU1BSU5URU5BTkNFOlwiJFJlc2VydmVNYWludGVuYW5jZVwiLERFVklDRU1JU1NJTkdSRVBPUlQ6XCIkRGV2aWNlTWlzc2luZ1JlcG9ydFwiLE1PRFVMQVJDTElDSzpcIiRNb2R1bGFyQ2xpY2tcIixQQUdFVklFVzpcIiRQYWdlVmlld1wiLFNUQVJUQk9PS0lORzpcIiRTdGFydEJvb2tpbmdcIixMRUFSTlRBUkdFVDpcIiRMZWFyblRhcmdldFwiLExBTkdVQUdFVEVTVDpcIiRMYW5ndWFnZVRlc3RcIixTVEFSVFRSQUlOSU5HOlwiJFN0YXJ0VHJhaW5pbmdcIixFTkRUUkFJTklORzpcIiRFbmRUcmFpbmluZ1wiLFJFR0lTVEVSQUNUSVZJVFk6XCIkUmVnaXN0ZXJBY3Rpdml0eVwiLEVYSVRBQ1RJVklUWTpcIiRFeGl0QWN0aXZpdHlcIixDT01QTEVURUFDVElWSVRZOlwiJENvbXBsZXRlQWN0aXZpdHlcIixGT0xMT1dDT05URU5UOlwiJEZvbGxvd0NvbnRlbnRcIixFTlRFUkFDQ09VTlRPUEVOSU5HOlwiJEVudGVyQWNjb3VudE9wZW5pbmdcIixTVUJNSVRBQ0NPVU5UT1BFTklORzpcIiRTdWJtaXRBY2NvdW50T3BlbmluZ1wiLEJBTkRDQVJEOlwiJEJhbmRDYXJkXCIsQkFOS1RSQU5TRkVSSU46XCIkQmFua1RyYW5zZmVySW5cIixCQU5LVFJBTlNGRVJPVVQ6XCIkQmFua1RyYW5zZmVyT3V0XCIsVklFV1NUT0NLREVUQUlMOlwiJFZpZXdTdG9ja0RldGFpbFwiLFRSQURFU1RPQ0tTOlwiJFRyYWRlU3RvY2tzXCIsVklFV0ZJTkFOQ0VQQUdFOlwiJFZpZXdGaW5hbmNlUGFnZVwiLFBVUkNIQVNFRklOQU5DRTpcIiRQdXJjaGFzZUZpbmFuY2VcIixSRURFTVBUSU9ORklOQU5DRTpcIiRSZWRlbXB0aW9uRmluYW5jZVwiLEZVTkRUUkFESU5HOlwiJEZ1bmRUcmFkaW5nXCIsRklYRURJTlZFU1RNRU5UOlwiJEZpeGVkaW52ZXN0bWVudFwiLEFQUExZTkVXOlwiJEFwcGx5TmV3XCIsVklFV0lORk9STUFUSU9OU0VDVElPTjpcIiRWaWV3SW5mb3JtYXRpb25TZWN0aW9uXCIsVklFV0lORk9STUFUSU9OOlwiJFZpZXdJbmZvcm1hdGlvblwiLERJU1BMQVlWT1VDSEVSOlwiJERpc3BsYXlWb3VjaGVyXCIsQk9PS0NPVVJTRTpcIiRCb29rQ291cnNlXCIsTEVBUk5DT1VSU0VTOlwiJExlYXJuQ291cnNlc1wiLFRSWU9VVDpcIiRUcnlvdXRcIixBTlNXRVI6XCIkQW5zd2VyXCIsVklFV0ZVTkRQQUdFOlwiJFZpZXdGdW5kUGFnZVwiLENMSUNLUFVSQ0hBU0U6XCIkQ2xpY2tQdXJjaGFzZVwiLEVOQUJMRU1FTUJFUjpcIiRFbmFibGVNZW1iZXJcIixDQU5DRUxNRU1CRVI6XCIkQ2FuY2VsTWVtYmVyXCIsQ09NTUVOVENPTlRFTlQ6XCIkQ29tbWVudENvbnRlbnRcIixMSUtFQ09OVEVOVDpcIiRMaWtlQ29udGVudFwiLERFTEVURVBST0RVQ1QyV0lTSExJU1Q6XCIkRGVsZXRlUHJvZHVjdDJXaXNoTGlzdFwiLEFEQ0xJQ0s6XCIkQWRDbGlja1wiLEFERElTUExBWTpcIiRBZERpc3BsYXlcIixWSVBTVUM6XCIkVmlwU3VjXCIsUkVHSVNURVJGQUlMRUQ6XCIkUmVnaXN0ZXJGYWlsZWRcIixWSVBDTElDSzpcIiRWaXBDbGlja1wiLFZJUEZBSUxFRDpcIiRWaXBGYWlsZWRcIixJTVBST1ZFSU5GT1JNQVRJT046XCIkSW1wcm92ZUluZm9ybWF0aW9uXCJ9LCRlPXtKT0lOQUJUQVNLOlwiJEpvaW5BQlRhc2tcIixGSVJTVF9PUEVOOlwiJEFwcEZpcnN0T3BlblwiLEVOVEVSX1NDUkVFTjpcIiRFbnRlclNjcmVlblwiLEVYSVRfU0NSRUVOOlwiJEV4aXRTY3JlZW5cIixBRERfUVVJQ0tfQVBQOlwiJEFkZFF1aWNrQXBwXCIsSEFfTk9USUZJQ0FUSU9OX0RJU1BMQVk6XCIkSEFfTk9USUZJQ0FUSU9OX0RJU1BMQVlcIixEaXNwbGF5Tm90aWZpY2F0aW9uOlwiJERpc3BsYXlOb3RpZmljYXRpb25cIixIQV9OT1RJRklDQVRJT05fQ0xJQ0s6XCIkSEFfTk9USUZJQ0FUSU9OX0NMSUNLXCIsQ2xpY2tOb3RpZmljYXRpb246XCIkQ2xpY2tOb3RpZmljYXRpb25cIixIQV9OT1RJRklDQVRJT05fQ0xFQVI6XCIkSEFfTk9USUZJQ0FUSU9OX0NMRUFSXCIsQ2xlYXJOb3RpZmljYXRpb246XCIkQ2xlYXJOb3RpZmljYXRpb25cIixIQV9BUFBfSU5TVEFMTDpcIiRIQV9BUFBfSU5TVEFMTFwiLEluc3RhbGxBcHA6XCIkSW5zdGFsbEFwcFwiLEhBX0FQUF9TVEFSVDpcIiRIQV9BUFBfU1RBUlRcIixMYXVuY2hBcHA6XCIkTGF1bmNoQXBwXCIsSEFfQVBQX1VQREFURTpcIiRIQV9BUFBfVVBEQVRFXCIsVXBkYXRlQXBwOlwiJFVwZGF0ZUFwcFwiLEhBX0ZJUlNUX09QRU46XCIkSEFfRklSU1RfT1BFTlwiLEFwcEZpcnN0T3BlbjpcIiRBcHBGaXJzdE9wZW5cIixIQV9TQ1JFRU5fRU5URVI6XCIkSEFfU0NSRUVOX0VOVEVSXCIsRW50ZXJTY3JlZW46XCIkRW50ZXJTY3JlZW5cIixIQV9TQ1JFRU5fRVhJVDpcIiRIQV9TQ1JFRU5fRVhJVFwiLEV4aXRTY3JlZW46XCIkRXhpdFNjcmVlblwiLEhBX0NMRUFSX0RBVEE6XCIkSEFfQ0xFQVJfREFUQVwiLENsZWFyRGF0YTpcIiRDbGVhckRhdGFcIixIQV9DTEVBUl9DQUNIRTpcIiRIQV9DTEVBUl9DQUNIRVwiLENsZWFyQ2FjaGU6XCIkQ2xlYXJDYWNoZVwiLEhBX0FQUF9VTklOU1RBTEw6XCIkSEFfQVBQX1VOSU5TVEFMTFwiLFVuaW5zdGFsbEFwcDpcIiRVbmluc3RhbGxBcHBcIixJbkFwcFB1cmNoYXNlOlwiJEluQXBwUHVyY2hhc2VcIixSZXF1ZXN0QWQ6XCIkUmVxdWVzdEFkXCIsRGlzcGxheUFkOlwiJERpc3BsYXlBZFwiLENsaWNrQWQ6XCIkQ2xpY2tBZFwiLFNUT1BfQU5BTFlUSUNTX0NPTExFQ1RJT046XCIkU3RvcEFuYWx5dGljc0NvbGxlY3Rpb25cIixBcHBFcnJvcjpcIiRBcHBFcnJvclwiLEFwcFB1c2hUb2tlbjpcIiRBcHBQdXNoVG9rZW5cIixDYW1wYWlnblB1c2hDbGljazpcIiRDYW1wYWlnblB1c2hDbGlja1wiLFNpZ25JbjpcIiRTaWduSW5cIixTaWduT3V0OlwiJFNpZ25PdXRcIixPYnRhaW5BZEF3YXJkOlwiJE9idGFpbkFkQXdhcmRcIn0sX2U9WyRlLlNpZ25JbiwkZS5TaWduT3V0LCRlLkpPSU5BQlRBU0tdLERlPXt9O0RlW0xlLldJTlZJUlRVQUxDT0lOXT17VklSVFVBTENVUlJOQU1FOlwiJFZpcnR1YWxDdXJyTmFtZVwiLExFVkVMOlwiJExldmVsXCIsRU5UUlk6XCIkRW50cnlcIn0sRGVbTGUuQ09OU1VNRVZJUlRVQUxDT0lOXT17VklSVFVBTENVUlJOQU1FOlwiJFZpcnR1YWxDdXJyTmFtZVwiLExFVkVMOlwiJExldmVsXCIsRU5UUlk6XCIkRW50cnlcIn0sRGVbTGUuQ09NUExFVEVQVVJDSEFTRV09e0xFVkVMOlwiJExldmVsXCIsRU5UUlk6XCIkRW50cnlcIixQVVJDSEFTRUVOVFJZOlwiJFB1cmNoYXNlRW50cnlcIn0sRGVbTGUuTk9WSUNFR1VJREVFTkRdPXtSRVNVTFQ6XCIkUmVzdWx0XCJ9LERlW0xlLkVOREdBTUVdPXtSRVNVTFQ6XCIkUmVzdWx0XCIsRFVSQVRJT046XCIkRHVyYXRpb25cIn0sRGVbTGUuV0lOUFJPUFNdPXtQUk9QUzpcIiRQcm9wc1wiLExFVkVMOlwiJExldmVsXCIsRU5UUlk6XCIkRW50cnlcIixRVUFOVElUWTpcIiRRdWFudGl0eVwifSxEZVtMZS5DT05TVU1FUFJPUFNdPXtQUk9QUzpcIiRQcm9wc1wiLExFVkVMOlwiJExldmVsXCIsRU5UUlk6XCIkRW50cnlcIixRVUFOVElUWTpcIiRRdWFudGl0eVwifSxEZVtMZS5BRERQUk9EVUNUMkNBUlRdPXtPUkRFUklEOlwiJE9yZGVySWRcIixCUkFORDpcIiRCcmFuZFwiLENBVEVHT1JZOlwiJENhdGVnb3J5XCIsU09VUkNFOlwiJFNvdXJjZVwiLE1FRElVTTpcIiRNZWRpdW1cIixQUk9NT1RJT05OQU1FOlwiJFByb21vdGlvbk5hbWVcIixDT05URU5UOlwiJENvbnRlbnRcIixLRVlXT1JEUzpcIiRLZXl3b3Jkc1wiLE1BVEVSSUFMTkFNRTpcIiRNYXRlcmlhbE5hbWVcIixNQVRFUklBTFNMT1Q6XCIkTWF0ZXJpYWxTbG90XCJ9O2Z1bmN0aW9uIFVlKGUpe3JldHVybiBudWxsPT1lfHxcIlwiPT09ZX1mdW5jdGlvbiBNZShlKXtyZXR1cm4hVWUoZSl9ZnVuY3Rpb24ga2UoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJiFVZShlKX1mdW5jdGlvbiB3ZShlLHQpe2lmKCFrZShlKSlyZXR1cm4gdCYmdCgpLCExO2Zvcih2YXIgbj0hMSxpPShlPWUucmVwbGFjZSgvLCQvZ2ksXCJcIikpLnNwbGl0KFwiLFwiKSxyPTA7cjxpLmxlbmd0aDtyKyspVWUoaVtyXSk/dCYmdChyKTowPT09ciYmKG49ITApO3JldHVybiBufXZhciBIZT1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKE1hdGgucG93KDIsMTIpLTEtMCsxKSkrMCx0PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooTWF0aC5wb3coMiwzMiktMS0wKzEpKSswLG49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihNYXRoLnBvdygyLDE2KS0xLTArMSkpKzAsaT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKE1hdGgucG93KDIsNiktMS0wKzEpKSswLHI9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihNYXRoLnBvdygyLDgpLTEtMCsxKSkrMCxvPSgwfE1hdGgucmFuZG9tKCkqKDE8PDMwKSkrKDB8TWF0aC5yYW5kb20oKSooMTw8MTgpKSooMTw8MzApO2Z1bmN0aW9uIGEoZSx0LG4pe249bnx8XCIwXCI7Zm9yKHZhciBpPXQtKGU9U3RyaW5nKGUpKS5sZW5ndGg7aT4wO2k+Pj49MSxuKz1uKTEmaSYmKGU9bitlKTtyZXR1cm4gZX1yZXR1cm5bYSh0LnRvU3RyaW5nKDE2KSw4KSxhKG4udG9TdHJpbmcoMTYpLDQpLGEoKDE2Mzg0fGUpLnRvU3RyaW5nKDE2KSw0KSxhKCgxMjh8aSkudG9TdHJpbmcoMTYpLDIpLGEoci50b1N0cmluZygxNiksMiksYShvLnRvU3RyaW5nKDE2KSwxMildLmpvaW4oXCJcIil9LGV9KCkpO2Z1bmN0aW9uIGJlKGUsdCxuKXtpZih2b2lkIDA9PT10JiYodD1bXSksdm9pZCAwPT09biYmKG49ITEpLFwib2JqZWN0XCIhPXR5cGVvZiBlKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgaT1bXSxyPTA7cjxlLmxlbmd0aDtyKyspLTE9PT10LmluZGV4T2YoZVtyXSkmJmkucHVzaChiZShlW3JdKSk7cmV0dXJuIGl9aWYobnVsbCE9ZSYmZS5jb25zdHJ1Y3RvciE9PVJlZ0V4cCl7dmFyIG89e307Zm9yKHZhciBhIGluIGUpKG58fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGVbYV0pJiYtMT09PXQuaW5kZXhPZihhKSYmKG9bYV09YmUoZVthXSkpO3JldHVybiBvfXJldHVybiBlfWZ1bmN0aW9uIFZlKGUsdCl7cmV0dXJuIG51bGwhPWUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfWZ1bmN0aW9uIEZlKGUsdCl7cmV0dXJuLTEhPT1lLmluZGV4T2YodCl9dmFyIEdlLFllLEJlLFdlPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnNlc3Npb25EdXJhdGlvbj0xOGU1LHRoaXMubWluU2Vzc2lvbkR1cmF0aW9uPTNlNCx0aGlzLmRlZmF1bHRFdmVudFBhcmFtcz17fSx0aGlzLmV4cGlyeVRpbWVJbmZpbml0eT0tMSx0aGlzLmtleUxpc3Q9W10sdGhpcy5kYXRhTGlzdD17fSx0aGlzLmluaXRDb21wbGV0ZWRBdD0wLHRoaXMuaW5pdFByb21pc2U9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxyO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuaW5pdFByb21pc2U/WzJdOls0LEl0LmhpTWlncmF0aW9uLm1pZ3JhdGUoKV07Y2FzZSAxOnJldHVybiBvLnNlbnQoKSxlPXRoaXMuaW5pdEtleU5hbWVMaXN0KCksdD10aGlzLFs0LHRoaXMuY2xlYXJJbnZhbGlkS2V5KGUpXTtjYXNlIDI6dC5rZXlMaXN0PW8uc2VudCgpLG49MCxvLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBuPHRoaXMua2V5TGlzdC5sZW5ndGg/KGk9dGhpcy5rZXlMaXN0W25dLFs0LEl0LmhpU3RvcmFnZS5nZXRTYXZlZE9iamVjdChpKV0pOlszLDZdO2Nhc2UgNDppZihyPW8uc2VudCgpfHx7fSwhdGhpcy5pc1ZhbGlkU3RvcmVkSXRlbShyKSlyZXR1cm5bMyw1XTstMSE9dGhpcy5pbml0Tm9SZWZyZXNoS2V5TGlzdCgpLmluZGV4T2YoaSk/dGhpcy5kYXRhTGlzdFtpXT1yOnRoaXMuc2F2ZUNsaWVudFZhbHVlKGksci52YWx1ZSksby5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gbisrLFszLDNdO2Nhc2UgNjpyZXR1cm4gdGhpcy5pbml0Q29tcGxldGVkQXQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksSXQuc2VuZFRhc2sucHJvY2Vzc0V2ZW50c1JlY2VpdmVkQWZ0ZXJMYXVuY2goKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5jbGVhckludmFsaWRLZXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDp0PTAsaS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdDxlLmxlbmd0aD8obj1lW3RdLFs0LEl0LmhpU3RvcmFnZS5pc0tleUV4aXN0KG4pXSk6WzMsNF07Y2FzZSAyOmkuc2VudCgpfHwoZS5zcGxpY2UodCwxKSx0LS0pLGkubGFiZWw9MztjYXNlIDM6cmV0dXJuIHQrKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzIsZV19fSkpfSkpfSxlLnByb3RvdHlwZS5oYW5kbGVTZXNzaW9uVmFsdWU9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBuPXRoaXMuZ2V0U2Vzc2lvblZhbHVlKCksaT1lP0hlLmNyZWF0ZSgpK1wiX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpOm58fEhlLmNyZWF0ZSgpK1wiX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLHI9SXQuc2VuZFRhc2suZ2V0Q3VyRm9jdXNTdGF0ZVNlc3Npb25EdXJhdGlvbighZSYmIVVlKG4pJiYhdCk7dGhpcy5zYXZlQ2xpZW50VmFsdWUoeWUsaSxyKSxuIT09aSYmKEl0LnNlbmRUYXNrLnVwTG9hZFNlcnZpY2UuaXNJbml0PSExKX0sZS5wcm90b3R5cGUuZ2V0U2Vzc2lvblZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2xpZW50VmFsdWUoeWUpfSxlLnByb3RvdHlwZS5zZXRTZXNzaW9uRHVyYXRpb249ZnVuY3Rpb24oZSl7TnVtYmVyLmlzSW50ZWdlcihlKSYmKHRoaXMuc2Vzc2lvbkR1cmF0aW9uPWUsdGhpcy5oYW5kbGVTZXNzaW9uVmFsdWUoKSl9LGUucHJvdG90eXBlLnNldEJhY2tncm91bmRTZXNzaW9uRHVyYXRpb249ZnVuY3Rpb24oZSl7TnVtYmVyLmlzSW50ZWdlcihlKSYmKHRoaXMubWluU2Vzc2lvbkR1cmF0aW9uPWUsdGhpcy5oYW5kbGVTZXNzaW9uVmFsdWUoKSl9LGUucHJvdG90eXBlLmdldENsaWVudEV4cGlyZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmlzVmFsaWRTdG9yZWRJdGVtKHRoaXMuZGF0YUxpc3RbZV0sKGZ1bmN0aW9uKCl7VWUodC5kYXRhTGlzdFtlXSl8fHQucmVtb3ZlQ2xpZW50VmFsdWUoZSl9KSk/dGhpcy5kYXRhTGlzdFtlXS5leHBpcnlUaW1lOjB9LGUucHJvdG90eXBlLmdldENsaWVudFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaXNWYWxpZFN0b3JlZEl0ZW0odGhpcy5kYXRhTGlzdFtlXSwoZnVuY3Rpb24oKXtVZSh0LmRhdGFMaXN0W2VdKXx8dC5yZW1vdmVDbGllbnRWYWx1ZShlKX0pKT90aGlzLmRhdGFMaXN0W2VdLnZhbHVlOlwiXCJ9LGUucHJvdG90eXBlLnJlbW92ZUNsaWVudFZhbHVlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLmRhdGFMaXN0W2VdLEl0LmhpU3RvcmFnZS5yZW1vdmVJdGVtKGUpO3ZhciB0PXRoaXMua2V5TGlzdC5pbmRleE9mKGUpOy0xIT09dCYmZGVsZXRlIHRoaXMua2V5TGlzdFt0XX0sZS5wcm90b3R5cGUuaXNLZXlFeGlzdD1mdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMuZ2V0Q2xpZW50VmFsdWUoZSl9LGUucHJvdG90eXBlLnNhdmVDbGllbnRWYWx1ZT1mdW5jdGlvbihlLHQsbil7dGhpcy5kYXRhTGlzdFtlXT17dmFsdWU6dCxleHBpcnlUaW1lOnRoaXMubWFrZUV4cGlyeVRpbWUobil9LEl0LmhpU3RvcmFnZS5zYXZlQ2xpZW50VmFsdWUoZSx0LG4pLC0xPT10aGlzLmtleUxpc3QuaW5kZXhPZihlKSYmdGhpcy5rZXlMaXN0LnB1c2goZSl9LGUucHJvdG90eXBlLmlzVmFsaWRTdG9yZWRJdGVtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PT1lfHxcIlwiPT09ZXx8dm9pZCAwPT09KG49XCJzdHJpbmdcIj09dHlwZW9mIGU/SlNPTi5wYXJzZShlKTplKXx8aXNOYU4obi5leHBpcnlUaW1lKXx8ITE9PT1WZShuLFwidmFsdWVcIik/KHQmJnQoKSwhMSk6IShuLmV4cGlyeVRpbWUhPT10aGlzLmV4cGlyeVRpbWVJbmZpbml0eSYmbi5leHBpcnlUaW1lPChuZXcgRGF0ZSkuZ2V0VGltZSgpKXx8KHQmJnQoKSwhMSk7dmFyIG59LGUucHJvdG90eXBlLm1ha2VFeHBpcnlUaW1lPWZ1bmN0aW9uKGUpe3ZhciB0PShuZXcgRGF0ZSkuZ2V0VGltZSgpKzMxNTM2ZTY7cmV0dXJuIGUmJiFpc05hTihlKSYmZT4wJiYodD0obmV3IERhdGUpLmdldFRpbWUoKStlKSx0fSxlLnByb3RvdHlwZS5pbml0S2V5TmFtZUxpc3Q9ZnVuY3Rpb24oKXtyZXR1cm5bXCJIV19oYV9jbGllbnRPYWlkRmxhZ1wiLFBlLFwiSFdfaGFfcHVzaFRva2VuRmxhZ1wiLFwiSFdfaGFfZ2V0Q29uZmlnVGltZVwiLE5lLFwiSFdfaGFfaXNUZXN0RGV2aWNlXCIsXCJIV19oYV9pc05ld1VzZXJcIix5ZSxcIkhXX2hhX2FwcFZlcnNpb25cIixcIkhXX2hhX3NhbHRFeHBpcmVcIixcIkhXX2hhX3d4QXBwSWRcIixPZS5DTixPZS5ERSxPZS5SVSxPZS5TRyxSZS5DTixSZS5ERSxSZS5SVSxSZS5TRyxcIkhXX2hhX2V2ZW50VXBsb2FkUG9saWN5XCIsXCJIV19oYV9kaXNhYmxlRXZlbnRzXCIsXCJIV19oYV9hcGlDaGFubmVsXCIsXCJIV19oYV9maXJzdE9wZW5UaW1lXCIsXCJIV19oYV9leGlzdFNob3J0Y3V0XCIsXCJIV19oYV9leGlzdFVzZXJJZFwiLEllLG1lLEFlXX0sZS5wcm90b3R5cGUuaW5pdE5vUmVmcmVzaEtleUxpc3Q9ZnVuY3Rpb24oKXtyZXR1cm5beWUsXCJIV19oYV9zYWx0RXhwaXJlXCIsT2UuQ04sT2UuREUsT2UuUlUsT2UuU0csUmUuQ04sUmUuREUsUmUuUlUsUmUuU0ddfSxlfSgpKSxLZT17Y29kZTpcIkNFLTAwMVwiLG1lc3NhZ2U6XCJDYW5ub3QgZmluZCBhZ2Nndy91cmwgZnJvbSBhZ2Nvbm5lY3Qtc2VydmljZS5qc29uLlwifSx4ZT17Y29kZTpcIlBFLTAwMlwiLG1lc3NhZ2U6XCJMZW5ndGggb2YgJDEgZXhjZWVkcyB0aGUgbGltaXQuIE1heCBMZW5ndGggaXMgJDIuXCJ9LGplPXtjb2RlOlwiUEUtMDAzXCIsbWVzc2FnZTpcIiQxIG1pc3NlZC5cIn0sSmU9e2NvZGU6XCJQRS0wMDRcIixtZXNzYWdlOlwiJDEgaXMgcmVzZXJ2ZWQuXCJ9LHFlPXtjb2RlOlwiUEUtMDA1XCIsbWVzc2FnZTpcIlRvbyBtYW55ICQxIHBhcmFtZXRlcnMuIE1heCBudW1iZXIgb2YgcGFyYW1ldGVycyBpcyAkMi5cIn0sUWU9e2NvZGU6XCJQRS0wMDZcIixtZXNzYWdlOlwiJDEgaXMgaW52YWxpZC5cIn0sWGU9e2NvZGU6XCJQRS0wMDdcIixtZXNzYWdlOlwiVGhlIHNpemUgZXhjZWVkcyB0aGUgbGltaXQsIHRoZSBtYXhpbXVtIHNpemUgaXMgJDEuXCJ9LHplPXtjb2RlOlwiSUUtMDA0XCIsbWVzc2FnZTpcIk1pc3NpbmcgYWdjb25uZWN0IHNkay5cIn0sWmU9e2NvZGU6XCJJRS0wMDZcIixtZXNzYWdlOlwiVGhlIEFuYWx5dGljcyBLaXQgaXMgZGlzYWJsZWQuXCJ9LGV0PXtjb2RlOlwiU0UtMDAxXCIsbWVzc2FnZTpcIkZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBBbmFseXRpY3MgS2l0LlwifSx0dD17Y29kZTpcIlNFLTAwMlwiLG1lc3NhZ2U6XCJGYWlsZWQgdG8gb2J0YWluIEFBSUQgZnJvbSBobXMgY29yZSBzZGsuXCJ9LG50PXtjb2RlOlwiU0UtMDAzXCIsbWVzc2FnZTpcIkZhaWxlZCB0byBvYnRhaW4gdG9rZW4gZnJvbSBhZ2Nvbm5lY3Qgc2RrLlwifSxpdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuY2hlY2tTdHJpbmc9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIFVlKG4pPyhJdC5oaUxvZy53YXJuKGUsamUuY29kZSxqZS5tZXNzYWdlLHskMTp0fSksITEpOiEoU3RyaW5nKG4pLmxlbmd0aD5pKXx8KEl0LmhpTG9nLndhcm4oZSx4ZS5jb2RlLHhlLm1lc3NhZ2UseyQxOnQsJDI6aX0pLCExKX0sZS5jaGVja1BhdHRlcm49ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuISFpLnRlc3Qobil8fChJdC5oaUxvZy53YXJuKGUsUWUuY29kZSxRZS5tZXNzYWdlLHskMTp0fSksITEpfSxlLmNoZWNrUmVzZXJ2ZT1mdW5jdGlvbihlLHQsbixpKXtmb3IodmFyIHIgaW4gaSlpZihuPT09aVtyXSlyZXR1cm4gSXQuaGlMb2cud2FybihlLEplLmNvZGUsSmUubWVzc2FnZSx7JDE6dH0pLCExO3JldHVybiEwfSxlLmNoZWNrTGVuZ3RoPWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiEobj5pKXx8KEl0LmhpTG9nLndhcm4oZSxxZS5jb2RlLHFlLm1lc3NhZ2UseyQxOnQsJDI6aX0pLCExKX0sZS5jaGVja1N3aXRjaElzT3Blbj1mdW5jdGlvbihlLHQpe3JldHVybiEhdHx8KEl0LmhpTG9nLndhcm4oZSxaZS5jb2RlLFplLm1lc3NhZ2UpLCExKX0sZS5jaGVja0V4Y2VlZE1heFNpemU9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIShuPmkpfHwoSXQuaGlMb2cud2FybihlLFhlLmNvZGUsWGUubWVzc2FnZSx7JDE6dH0pLCExKX0sZS5jaGVja0VtcHR5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hVWUobil8fChJdC5oaUxvZy53YXJuKGUsamUuY29kZSxqZS5tZXNzYWdlLHskMTp0fSksITEpfSxlfSgpLHJ0PVwiMS4wXCIsb3Q9XCJ3ZWJcIixhdD1cImhpYW5hbHl0aWNzXCIsc3Q9XCJBbmFseXRpY3NcIixjdD1cImFhaWRcIix1dD1cInRva2VuXCIsbHQ9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYXR0cmlidXRlc0NvbGxlY3RvcnM9W119cmV0dXJuIGUucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3RoaXMuYXR0cmlidXRlc0NvbGxlY3RvcnMucHVzaChlKX0sZS5wcm90b3R5cGUuY29sbGVjdEFsbD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG4saTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmU9e30sdD0wLG49dGhpcy5hdHRyaWJ1dGVzQ29sbGVjdG9ycyxyLmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0PG4ubGVuZ3RoP1s0LG5bdF0uZG9Db2xsZWN0KCldOlszLDRdO2Nhc2UgMjppPXIuc2VudCgpLE9iamVjdC5hc3NpZ24oZSxpKSxyLmxhYmVsPTM7Y2FzZSAzOnJldHVybiB0KyssWzMsMV07Y2FzZSA0OnJldHVyblsyLGVdfX0pKX0pKX0sZS5wcm90b3R5cGUuY29sbGVjdD1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXt9LG49e30sdGhpcy5hdHRyaWJ1dGVzQ29sbGVjdG9ycy5zb21lKChmdW5jdGlvbih0LGkpe3JldHVybiB0LmtleT09PWUmJihuPXQsITApfSkpLG4uZG9Db2xsZWN0P1s0LG4uZG9Db2xsZWN0KCldOlszLDJdO2Nhc2UgMTp0PWkuc2VudCgpLGkubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsdF19fSkpfSkpfSxlLnByb3RvdHlwZS5zeW5jQ29sbGVjdD1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXt9LChuPXRoaXMuYXR0cmlidXRlc0NvbGxlY3RvcnMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pKSkmJm4uZG9Db2xsZWN0P1s0LG4uZG9Db2xsZWN0KCldOlszLDJdO2Nhc2UgMTp0PWkuc2VudCgpLGkubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsdF19fSkpfSkpfSxlfSgpKSxkdD1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy50YWc9XCJBYWlkQ29sbGVjdG9yXCIsdGhpcy5rZXk9Y3QsdGhpcy5jYWNoZT1udWxsfXJldHVybiBlLnByb3RvdHlwZS5kb0NvbGxlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jYWNoZSYmdGhpcy5jYWNoZVt0aGlzLmtleV0/WzMsMl06KHRoaXMuY2FjaGU9dGhpcy5jYWNoZXx8e30sWzQsSXQuaGlBZ2NVdGlsLmdldEFhaWQodGhpcy50YWcpXSk7Y2FzZSAxOihlPXQuc2VudCgpKSYmKHRoaXMuY2FjaGVbdGhpcy5rZXldPWUpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsdGhpcy5jYWNoZV19fSkpfSkpfSxlLnByb3RvdHlwZS5nZXRBYWlkPWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kb0NvbGxlY3QoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMix0aGlzLmNhY2hlW2N0XXx8XCJcIl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZWZyZXNoQWFpZD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBkZWxldGUgdGhpcy5jYWNoZVtjdF0sWzQsSXQuaGlBZ2NVdGlsLmRlbGV0ZUFhaWQoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbNCx0aGlzLmRvQ29sbGVjdCgpXTtjYXNlIDI6cmV0dXJuKGU9dC5zZW50KCkpW2N0XSYmKHZ0LmFkZENvbmZpZyhcImFhaWRcIixlW2N0XSksdnQuc2V0SXNUZXN0RGV2aWNlKCksV2UucmVtb3ZlQ2xpZW50VmFsdWUoXCJIV19oYV9pc05ld1VzZXJcIikpLFsyXX19KSl9KSl9LGV9KCkpLHB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wYXJzZT1mdW5jdGlvbih0KXt2YXIgbixpLHIsbyxhLHMsYyx1LGwsZCxwLGg7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMKXJldHVybiBuZXcgVVJMKHQpO3ZhciBmPXtoYXNoOlwiXCIsaG9zdDpcIlwiLGhvc3RuYW1lOlwiXCIsaHJlZjpcIlwiLG9yaWdpbjpcIlwiLHBhc3N3b3JkOlwiXCIscGF0aG5hbWU6XCJcIixwb3J0OlwiXCIscHJvdG9jb2w6XCJcIixzZWFyY2g6XCJcIixzZWFyY2hQYXJhbXM6bmV3IE1hcCx1c2VybmFtZTpcIlwifSxnPXQubWF0Y2goL14oaHR0cDp8aHR0cHM6KVxcL1xcLyguK1s6XVteL10rW0BdKT8oW146L10rKShbOl1cXGQrKT8oW14jP10rKT8oWz9dKT8oW14jXSspPyhbI10uKyk/JC8pO3JldHVybiBudWxsPT1nfHwoZz1nLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIFVlKGUpP1wiXCI6ZX0pKSxmLmhhc2g9bnVsbCE9PShuPWUucGFyc2VIYXNoKGcpKSYmdm9pZCAwIT09bj9uOlwiXCIsZi5ob3N0PW51bGwhPT0oaT1lLnBhcnNlSG9zdChnKSkmJnZvaWQgMCE9PWk/aTpcIlwiLGYuaG9zdG5hbWU9bnVsbCE9PShyPWUucGFyc2VIb3N0TmFtZShnKSkmJnZvaWQgMCE9PXI/cjpcIlwiLGYuaHJlZj1udWxsIT09KG89ZS5wYXJzZUhyZWYoZykpJiZ2b2lkIDAhPT1vP286XCJcIixmLm9yaWdpbj1udWxsIT09KGE9ZS5wYXJzZU9yaWdpbihnKSkmJnZvaWQgMCE9PWE/YTpcIlwiLGYucGFzc3dvcmQ9bnVsbCE9PShzPWUucGFyc2VQYXNzd29yZChnKSkmJnZvaWQgMCE9PXM/czpcIlwiLGYucGF0aG5hbWU9bnVsbCE9PShjPWUucGFyc2VQYXRobmFtZShnKSkmJnZvaWQgMCE9PWM/YzpcIlwiLGYucG9ydD1udWxsIT09KHU9ZS5wYXJzZVBvcnQoZykpJiZ2b2lkIDAhPT11P3U6XCJcIixmLnByb3RvY29sPW51bGwhPT0obD1lLnBhcnNlUHJvdG9jb2woZykpJiZ2b2lkIDAhPT1sP2w6XCJcIixmLnNlYXJjaD1udWxsIT09KGQ9ZS5wYXJzZVNlYXJjaChnKSkmJnZvaWQgMCE9PWQ/ZDpcIlwiLGYuc2VhcmNoUGFyYW1zPW51bGwhPT0ocD1lLnBhcnNlU2VhcmNoUGFyYW1zKGcpKSYmdm9pZCAwIT09cD9wOm5ldyBNYXAsZi51c2VybmFtZT1udWxsIT09KGg9ZS5wYXJzZVVzZXJuYW1lKGcpKSYmdm9pZCAwIT09aD9oOlwiXCIpLGZ9LGUucGFyc2VIYXNoPWZ1bmN0aW9uKGUpe3JldHVybiBlWzhdfSxlLnBhcnNlSG9zdD1mdW5jdGlvbihlKXtyZXR1cm4gZVszXStlWzRdfSxlLnBhcnNlSG9zdE5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbM119LGUucGFyc2VIcmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSxlLnBhcnNlT3JpZ2luPWZ1bmN0aW9uKGUpe3JldHVybiBlWzFdK1wiLy9cIitlWzNdK2VbNF19LGUucGFyc2VQYXNzd29yZD1mdW5jdGlvbihlKXtyZXR1cm4gVWUoZVsyXSk/XCJcIjplWzJdLnJlcGxhY2UoXCJAXCIsXCJcIikuc3BsaXQoXCI6XCIpWzFdfSxlLnBhcnNlUGF0aG5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbNV19LGUucGFyc2VQb3J0PWZ1bmN0aW9uKGUpe3JldHVybiBVZShlWzRdKT9cIlwiOmVbNF0ucmVwbGFjZShcIjpcIixcIlwiKX0sZS5wYXJzZVByb3RvY29sPWZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSxlLnBhcnNlU2VhcmNoPWZ1bmN0aW9uKGUpe3JldHVybiBlWzZdK2VbN119LGUucGFyc2VTZWFyY2hQYXJhbXM9ZnVuY3Rpb24oZSl7aWYoVWUoZVs3XSkpcmV0dXJuIG5ldyBNYXA7dmFyIHQ9ZVs3XS5zcGxpdChcIiZcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIj1cIil9KSksbj1uZXcgTWFwO2Zvcih2YXIgaSBpbiB0KXt2YXIgcj10W2ldO24uc2V0KHJbMF0sZGVjb2RlVVJJQ29tcG9uZW50KHJbMV0pKX1yZXR1cm4gbn0sZS5wYXJzZVVzZXJuYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBVZShlWzJdKT9cIlwiOmVbMl0ucmVwbGFjZShcIkBcIixcIlwiKS5zcGxpdChcIjpcIilbMF19LGV9KCksaHQ9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0UGFnZUlkQnlVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUucHJvdG90eXBlLnJlbW92ZVBhcmFtVmFsdWVzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRQYXJhbXModC51cmxQYXJhbXMpLGk9dGhpcy5nZXRQYXJhbXModC5hbmNob3JQYXJhbXMpLHI9W10sbz1bXTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5yZW1vdmVQYXJhbXMsXCJwYXJhbXNcIikpe3ZhciBhPWUucmVtb3ZlUGFyYW1zLnBhcmFtcztmb3IodmFyIHMgaW4gYSkhMD09PWFbc10ucmVtb3ZlVmFsdWVzT25seT9cInNlYXJjaFwiPT09YVtzXS5wb3NpdGlvbj9uW3NdPVwiXCI6XCJhbmNob3JcIj09PWFbc10ucG9zaXRpb24/aVtzXT1cIlwiOlwiYm90aFwiPT09YVtzXS5wb3NpdGlvbiYmKG5bc109XCJcIixpW3NdPVwiXCIpOlwic2VhcmNoXCI9PT1hW3NdLnBvc2l0aW9uP3IucHVzaChzKTpcImFuY2hvclwiPT09YVtzXS5wb3NpdGlvbj9vLnB1c2gocyk6XCJib3RoXCI9PT1hW3NdLnBvc2l0aW9uJiYoci5wdXNoKHMpLG8ucHVzaChzKSl9aWYoVmUoZS5yZW1vdmVQYXJhbXMsXCJyZW1vdmVWYWx1ZXNPbmx5XCIpJiYhMD09PWUucmVtb3ZlUGFyYW1zLnJlbW92ZVZhbHVlc09ubHkpe2Zvcih2YXIgcyBpbiBuKS0xPT09ci5pbmRleE9mKHMpJiYobltzXT1cIlwiKTtmb3IodmFyIHMgaW4gaSktMT09PW8uaW5kZXhPZihzKSYmKGlbc109XCJcIil9cmV0dXJue3VybFBhcmFtczpuLGFuY2hvclBhcmFtczppfX0sZS5wcm90b3R5cGUuZ2VuZXJhdGVQYXJhbXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKG4rXCI9XCIrZVtuXSk7cmV0dXJuIHQuam9pbihcIiZcIil9LGUucHJvdG90eXBlLmdlbmVyYXRlUGFnZUlkPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUucHJvdG9jb2wmJih0Kz1lLnByb3RvY29sK1wiLy9cIiksZS5vcmlnaW4mJih0Kz1lLm9yaWdpbiksZS5wYXRoJiYodCs9ZS5wYXRoKSxlLnVybFBhcmFtcyYmKHQrPVwiP1wiK2UudXJsUGFyYW1zKSxlLmFuY2hvciYmKHQrPVwiI1wiK2UuYW5jaG9yLGUuYW5jaG9yUGFyYW1zJiYodCs9XCI/XCIrZS5hbmNob3JQYXJhbXMpKSx0fSxlLnByb3RvdHlwZS5tYXRjaFVybFBhdHRlcm5zPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC51cmxQYXR0ZXJucyxpPXQudXJsU2VwYXJhdG9ycyxyPWU7aT1cIltcIitpK1wiXVwiO3ZhciBvPW5ldyBSZWdFeHAoaSk7Zm9yKHZhciBhIGluIG4pe2Zvcih2YXIgcz1uW2FdLGM9cy5zcGxpdCgvXFx7XFx3K1xcfS9nKSx1PTAsbD0wLGQ9ITE7Oyl7dmFyIHA9ci5pbmRleE9mKGNbdV0sbCk7aWYoLTE9PT1wKXtkPSExO2JyZWFrfWlmKDA9PT11JiYwIT09cCl7ZD0hMTticmVha31pZihsPXArY1t1XS5sZW5ndGgsYy5sZW5ndGg+PXUmJmw+ci5sZW5ndGgpe2Q9ITA7YnJlYWt9dmFyIGg9cjtjLmxlbmd0aD51JiYoaD1jW3UrMV0pO3ZhciBmPXIuaW5kZXhPZihoLGwpO2lmKCEoZD1udWxsPT09ci5zdWJzdHIobCxmLWwpLm1hdGNoKG8pKSl7ZD0hMTticmVha31pZih1KzE+PWMubGVuZ3RoKXtkPSEwO2JyZWFrfXUrK31kJiYocj1zKX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuZ2V0VXJsSW5mb3M9ZnVuY3Rpb24oZSl7dmFyIHQ9cHQucGFyc2UoZSksbj17fTtuLnByb3RvY29sPXQucHJvdG9jb2wsbi5vcmlnaW49dC5ob3N0LG4ucGF0aD10LnBhdGhuYW1lLG4udXJsUGFyYW1zPVwiXCI9PT10LnNlYXJjaD9cIlwiOnQuc2VhcmNoLnNwbGl0KFwiP1wiKVsxXTt2YXIgaT1cIlwiPT09dC5oYXNoP1wiXCI6dC5oYXNoLnNwbGl0KFwiI1wiKVsxXTtyZXR1cm4gbi5hbmNob3I9XCJcIj09PWk/XCJcIjppLnNwbGl0KFwiP1wiKVswXSxuLmFuY2hvclBhcmFtcz1cIlwiPT09aT9cIlwiOmkuc3BsaXQoXCI/XCIpWzFdLG59LGUucHJvdG90eXBlLmdldFBhcmFtcz1mdW5jdGlvbihlKXt2YXIgdD17fTtpZihcIlwiPT09ZXx8bnVsbD09ZSlyZXR1cm4gdDt2YXIgbj1lLnNwbGl0KFwiJlwiKTtmb3IodmFyIGkgaW4gbil7dmFyIHI9e2tleTpuW2ldLnNwbGl0KFwiPVwiKVswXSx2YWx1ZTpuW2ldLnNwbGl0KFwiPVwiKVsxXX07dFtyLmtleV09ci52YWx1ZX1yZXR1cm4gdH0sZX0oKSk7IWZ1bmN0aW9uKGUpe2UuT0ZGPVwiT0ZGXCIsZS5JTkZPPVwiSU5GT1wiLGUuV0FSTj1cIldBUk5cIixlLkVSUk9SPVwiRVJST1JcIn0oR2V8fChHZT17fSkpLGZ1bmN0aW9uKGUpe2UuQ049XCJDTlwiLGUuREU9XCJERVwiLGUuUlU9XCJSVVwiLGUuU0c9XCJTR1wifShZZXx8KFllPXt9KSksZnVuY3Rpb24oZSl7ZS5JU0ZVTExMRVZFTD1cImlzX2Z1bGxfbGV2ZWxcIixlLklTTUVNQkVSPVwiaXNfbWVtYmVyXCIsZS5VU0VSTEVWRUw9XCJ1c2VyX2xldmVsXCJ9KEJlfHwoQmU9e30pKTt2YXIgZnQ9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudGFnPVwiVG9rZW5Db2xsZWN0b3JcIix0aGlzLmtleT11dCx0aGlzLmNhY2hlPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLmRvQ29sbGVjdD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNhY2hlPXRoaXMuY2FjaGV8fHt9LFs0LEl0LmhpQWdjVXRpbC5nZXRUb2tlbih0aGlzLnRhZyldO2Nhc2UgMTpyZXR1cm4oZT10LnNlbnQoKSkmJih0aGlzLmNhY2hlW3RoaXMua2V5XT1lKSxbMix0aGlzLmNhY2hlXX19KSl9KSl9LGUucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kb0NvbGxlY3QoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMix0aGlzLmNhY2hlW3V0XXx8XCJcIl19fSkpfSkpfSxlfSgpKSxndD1uZXcgZnVuY3Rpb24oKXt0aGlzLmRlYnVnTW9kZT0hMSx0aGlzLnRlcm1pbmFsTmFtZT1cIlwiLHRoaXMubG9nRGlzYWJsZWQ9ITEsdGhpcy5sb2dMZXZlbD1HZS5JTkZPLHRoaXMucm91dGVQb2xpY3k9bnVsbH0sRXQ9XCJDYW5ub3QgZmluZCB2YWxpZCAkMSBmcm9tIGFnY29ubmVjdC1zZXJ2aWNlLmpzb24uXCIsdnQ9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudGFnPVwiR2xvYmFsU2V0dGluZ1wiLHRoaXMuY2xpZW50Q29uZmlnPXt9LHRoaXMuc2VydmVyQ29uZmlnPXt9LHRoaXMuZXh0ZXJuYWxDb25maWc9e30sdGhpcy51c2VyUHJvZmlsZXM9e30sdGhpcy5wcmV2U2NyZWVuTmFtZT1cIlwiLHRoaXMuY3VycmVudFNjcmVlbk5hbWU9XCJcIix0aGlzLnJlcG9ydFR5cGU9LTEsdGhpcy5wYWdlRW50cnlUaW1lPTAsdGhpcy5sb2dMZXZlbD1HZS5JTkZPLHRoaXMudXJsQ2x1c3RlcmluZ09wdGlvbnM9e30sdGhpcy5jYW1wYWlnblB1c2hJbmZvPW51bGwsdGhpcy5pc0JhY2tncm91bmQ9ITEsdGhpcy5ldmVudFVwbG9hZFBvbGljeT17fX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVBbmFseXRpY3NVcmwoKSxbMl19KSl9KSl9LGUucHJvdG90eXBlLmluaXREZWJ1Z01vZGU9ZnVuY3Rpb24oZSx0KXt2dC5hZGRDb25maWcoUyxlKSxlJiZ0PygodD10LnRyaW0oKSkubGVuZ3RoPjMwJiYoSXQuaGlMb2cud2FybihzdCx4ZS5jb2RlLHhlLm1lc3NhZ2UseyQxOlwidGVybWluYWxOYW1lXCIsJDI6MzB9KSx0PXQuc3Vic3RyaW5nKDAsMzApKSx2dC5hZGRDb25maWcoSSx0KSk6dnQuYWRkQ29uZmlnKEksXCJcIil9LGUucHJvdG90eXBlLmluaXRMb2dMZXZlbD1mdW5jdGlvbihlLHQpe2U/dnQubG9nTGV2ZWw9R2UuT0ZGOkZlKE9iamVjdC5rZXlzKEdlKSx0LnRvVXBwZXJDYXNlKCkpP3Z0LmxvZ0xldmVsPXQudG9VcHBlckNhc2UoKTp2dC5sb2dMZXZlbD1HZS5JTkZPfSxlLnByb3RvdHlwZS5pbml0RGlzYWJsZUV2ZW50cz1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG4saTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LEl0LmhpQ2xpZW50LmlzT25saW5lKCldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCk/KGU9XCJcIixbNCx2dC5nZXRIYVNka1Rva2VuKCldKTpbMl07Y2FzZSAyOnJldHVybih0PXIuc2VudCgpKT8obj1JdC5oaUVuY3J5cHRTZW5kRGF0YS5nZW5lcmF0ZURpc2FibGVFdmVudHNIdHRwSGVhZGVyKHtzZGtUb2tlbjp0fSksKGk9e30pLm1ldGhvZD1cImdldFwiLGkudXJsPXZ0LmdldENvbmZpZyhcImFuYWx5dGljc1VybFwiKStcIi9hbmFseXRpY3MvYXBpL2V2ZW50cy9vbmxpbmVcIixJdC5oaUVuY3J5cHRTZW5kRGF0YS5nZXRPbmxpbmVBbmREaXNhYmxlRXZlbnRzKGUsbixpKS50aGVuKChmdW5jdGlvbihlKXtlLmRpc2FibGVfZXZ0cyYmV2Uuc2F2ZUNsaWVudFZhbHVlKFwiSFdfaGFfZGlzYWJsZUV2ZW50c1wiLGUuZGlzYWJsZV9ldnRzKX0pKSxbMl0pOlsyXX19KSl9KSl9LGUucHJvdG90eXBlLmluaXRTZXJ2ZXJPYWlkRmxhZz1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG4saTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiB2dC5nZXRSb3V0ZVBvbGljeSgpIT09WWUuREU/WzIsITBdOk1lKGU9V2UuZ2V0Q2xpZW50VmFsdWUoXCJIV19oYV9nZXRDb25maWdUaW1lXCIpKSYmRGF0ZS5ub3coKS1OdW1iZXIoZSk8PTg2NGU1Pyh0PVdlLmdldENsaWVudFZhbHVlKFBlKXx8XCJmYWxzZVwiLFsyLFByb21pc2UucmVzb2x2ZShcInRydWVcIj09PXQpXSk6KG49XCJcIixbNCx2dC5nZXRIYVNka1Rva2VuKCldKTtjYXNlIDE6cmV0dXJuKGk9ci5zZW50KCkpP1syLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3ZhciByPUl0LmhpRW5jcnlwdFNlbmREYXRhLmdlbmVyYXRlT2FpZEZsYWdIdHRwSGVhZGVyKHtzZGtUb2tlbjppfSksbz17bWV0aG9kOlwiZ2V0XCJ9O28udXJsPXZ0LmdldENvbmZpZyhcImFuYWx5dGljc1VybFwiKStcIi9hbmFseXRpY3MvYXBpL2NvbmZpZz9jb25maWdfa2V5PW9haWRfZmxhZ1wiLEl0LmhpRW5jcnlwdFNlbmREYXRhLmdldFNlcnZlck9haWRGbGFnKG4scixvKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbjtXZS5zYXZlQ2xpZW50VmFsdWUoXCJIV19oYV9nZXRDb25maWdUaW1lXCIsU3RyaW5nKERhdGUubm93KCkpKTt2YXIgaT1udWxsIT09KG49dC5jb25maWdMaXN0KSYmdm9pZCAwIT09bj9uOltdLHI9aVswXSYmXCJ0cnVlXCI9PT1pWzBdLmNvbmZpZ192YWx1ZTtXZS5zYXZlQ2xpZW50VmFsdWUoUGUsU3RyaW5nKHIpLDg2NGU1KSxlKHIpfSkpLmNhdGNoKChmdW5jdGlvbigpe1dlLnNhdmVDbGllbnRWYWx1ZShQZSxTdHJpbmcoITEpLDg2NGU1KSxlKCExKX0pKX0pKV06WzIsITFdfX0pKX0pKX0sZS5wcm90b3R5cGUuaW5pdFByZXZTY3JlZW49ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1JdC5zZW5kVGFzay5ldmVudE1vZGVscy5sZW5ndGgtMTt0Pj0wO3QtLSl7dmFyIG49SXQuc2VuZFRhc2suZXZlbnRNb2RlbHNbdF07aWYobi5ldmVudD09PSRlLkVYSVRfU0NSRUVOKXtlPW47YnJlYWt9fWUmJnRoaXMuc2V0Q3VycmVudFNjcmVlbihlLnByb3BlcnRpZXNbS10pfSxlLnByb3RvdHlwZS5nZXRBQUlEPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb25maWcoY3QpO3JldHVybiBlfHwoSXQuaGlMb2cuZXJyb3Ioc3QsdHQuY29kZSx0dC5tZXNzYWdlKSxcIlwiKX0sZS5wcm90b3R5cGUuZ2V0Q29uZmlncz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QuYXNzaWduKHt9LHRoaXMuc2VydmVyQ29uZmlnLHRoaXMuY2xpZW50Q29uZmlnLHRoaXMuZXh0ZXJuYWxDb25maWcpfSxlLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gbnVsbCE9PShuPW51bGwhPT0odD10aGlzLmV4dGVybmFsQ29uZmlnW2VdKSYmdm9pZCAwIT09dD90OnRoaXMuY2xpZW50Q29uZmlnW2VdKSYmdm9pZCAwIT09bj9uOnRoaXMuc2VydmVyQ29uZmlnW2VdfSxlLnByb3RvdHlwZS5hZGRDb25maWc9ZnVuY3Rpb24oZSx0KXt0aGlzLmV4dGVybmFsQ29uZmlnW2VdPXR9LGUucHJvdG90eXBlLnJlbW92ZUNvbmZpZz1mdW5jdGlvbihlKXtkZWxldGUgdGhpcy5leHRlcm5hbENvbmZpZ1tlXX0sZS5wcm90b3R5cGUucmVzb2x2ZVRlcm1pbmFsTmFtZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9XCJcIix0aGlzLmdldENvbmZpZyhTKT8wIT09KHQ9bnVsbCE9PShlPXRoaXMuZ2V0Q29uZmlnKEkpKSYmdm9pZCAwIT09ZT9lOlwiXCIpLmxlbmd0aD9bMywyXTpbNCxkdC5nZXRBYWlkKCldOlszLDJdO2Nhc2UgMToobj1pLnNlbnQoKSkmJih0PW4uc3Vic3RyaW5nKDAsOCkpLGkubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsdF19fSkpfSkpfSxlLnByb3RvdHlwZS5zZXRVc2VyUHJvZmlsZT1mdW5jdGlvbihlLHQpe2lmKGl0LmNoZWNrU3RyaW5nKHN0LFwidXNlciBuYW1lXCIsZSxRKSYmaXQuY2hlY2tQYXR0ZXJuKHN0LFwidXNlciBuYW1lXCIsZSxyZSkpaWYobnVsbCE9PXQpe2lmKGl0LmNoZWNrU3RyaW5nKHN0LFwidXNlciB2YWx1ZVwiLHQsUSkpaWYoVmUodGhpcy51c2VyUHJvZmlsZXMsZSkpdGhpcy51c2VyUHJvZmlsZXNbZV09dDtlbHNle3ZhciBuPU9iamVjdC5rZXlzKHRoaXMudXNlclByb2ZpbGVzKS5sZW5ndGgrMTtpdC5jaGVja0xlbmd0aChzdCxcIlVzZXIgUHJvZmlsZVwiLG4sbmUpJiYodGhpcy51c2VyUHJvZmlsZXNbZV09dCl9fWVsc2UgZGVsZXRlIHRoaXMudXNlclByb2ZpbGVzW2VdfSxlLnByb3RvdHlwZS5nZXRVc2VyUHJvZmlsZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4saSxyO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9e30sZT8oaT0obj1PYmplY3QpLmFzc2lnbixyPVt0XSxbNCxJdC5oaUNsaWVudFByb3BlcnR5LmdlbmVyYXRlVXNlckNvbW1vblByb3BlcnR5KCldKTpbMywyXTtjYXNlIDE6cmV0dXJuIHQ9aS5hcHBseShuLHIuY29uY2F0KFtvLnNlbnQoKV0pKSxbMywzXTtjYXNlIDI6dD1PYmplY3QuYXNzaWduKHQsdGhpcy51c2VyUHJvZmlsZXMpLG8ubGFiZWw9MztjYXNlIDM6cmV0dXJuWzIsdF19fSkpfSkpfSxlLnByb3RvdHlwZS5wYWdlU3RhcnQ9ZnVuY3Rpb24oZSl7aWYoaXQuY2hlY2tTdHJpbmcoc3QsXCJzY3JlZW5OYW1lXCIsZSxRKSl7dGhpcy5wYWdlRW50cnlUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciB0PXt9O3RbRl09aHQuZ2V0UGFnZUlkQnlVcmwodGhpcy5jdXJyZW50U2NyZWVuTmFtZSksdFtZXT1odC5nZXRQYWdlSWRCeVVybChlKSx0W0ddPXRbRl0sdFtCXT10W1ldLGUhPT10aGlzLmN1cnJlbnRTY3JlZW5OYW1lJiYodGhpcy5wcmV2U2NyZWVuTmFtZT10aGlzLmN1cnJlbnRTY3JlZW5OYW1lLHRoaXMuY3VycmVudFNjcmVlbk5hbWU9ZSk7QXQub25FdmVudCgkZS5FTlRFUl9TQ1JFRU4sdCx7aW1tZWRpYXRlbHk6ITEsaXNSZXNlcnZlZDohMH0pfX0sZS5wcm90b3R5cGUuc2V0UHJldlNjcmVlbk5hbWU9ZnVuY3Rpb24oZSl7dGhpcy5wcmV2U2NyZWVuTmFtZT1lfSxlLnByb3RvdHlwZS5zZXRDdXJyZW50U2NyZWVuPWZ1bmN0aW9uKGUpe3RoaXMuY3VycmVudFNjcmVlbk5hbWU9ZX0sZS5wcm90b3R5cGUuc2V0UGFnZUVudHJ5VGltZT1mdW5jdGlvbihlKXt0aGlzLnBhZ2VFbnRyeVRpbWU9ZX0sZS5wcm90b3R5cGUuZ2V0UGFnZUVudHJ5VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhZ2VFbnRyeVRpbWV9LGUucHJvdG90eXBlLnBhZ2VFbmQ9ZnVuY3Rpb24oZSl7aWYoaXQuY2hlY2tTdHJpbmcoc3QsXCJzY3JlZW5OYW1lXCIsZSxRKSYmdGhpcy5nZXRQYWdlRW50cnlUaW1lKCkpe3ZhciB0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuZ2V0UGFnZUVudHJ5VGltZSgpLG49e307blt4XT10LG5bWV09aHQuZ2V0UGFnZUlkQnlVcmwoZSksbltCXT1uW1ldO0F0Lm9uRXZlbnQoJGUuRVhJVF9TQ1JFRU4sbix7aW1tZWRpYXRlbHk6ITEsaXNSZXNlcnZlZDohMH0pfX0sZS5wcm90b3R5cGUuc2V0UmVwb3J0VHlwZT1mdW5jdGlvbihlKXt0aGlzLnJlcG9ydFR5cGU9ZX0sZS5wcm90b3R5cGUuZ2V0UmVwb3J0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcG9ydFR5cGV9LGUucHJvdG90eXBlLmdlbmVyYXRlQ2xpZW50S2V5PWZ1bmN0aW9uKGUpe3JldHVybihcIkhXX1wiK2UrXCJfXCIrdGhpcy5nZXRDb25maWcoXCJhcHBJZFwiKSkucmVwbGFjZSgvXFwuL2csXCJfXCIpfSxlLnByb3RvdHlwZS5jaGVja1JvdXRlUG9saWN5PWZ1bmN0aW9uKGUpe3ZhciB0PUl0LmhpQWdjVXRpbC5nZXRDb25maWcoKS5zZXJ2aWNlLmFuYWx5dGljcztpZighdnQuZ2V0Q29uZmlnKHkpKXJldHVybiBJdC5oaUxvZy53YXJuKHN0LFwiXCIsXCJJbnZhbGlkIHJvdXRlUG9saWN5IVwiKSwhMTtpZighd2UodC5jb2xsZWN0b3JfdXJsLChmdW5jdGlvbih0KXtudWxsPT10PyFlJiZJdC5oaUxvZy53YXJuKHN0LEtlLmNvZGUsXCJDYW5ub3QgZmluZCB2YWxpZCBzZXJ2aWNlL2FuYWx5dGljcy9jb2xsZWN0b3JfdXJsIGZyb20gYWdjb25uZWN0LXNlcnZpY2UuanNvbi5cIik6IWUmJkl0LmhpTG9nLndhcm4oc3QsS2UuY29kZSxcIkNhbm5vdCBmaW5kIHZhbGlkIHNlcnZpY2UvYW5hbHl0aWNzL2NvbGxlY3Rvcl91cmxbJDFdIGZyb20gYWdjb25uZWN0LXNlcnZpY2UuanNvbi5cIix7JDE6dH0pfSkpKXJldHVybiExO2lmKHZ0LmdldENvbmZpZyhcInJvdXRlUG9saWN5VXNlZFwiKSl7dmFyIG49T2JqZWN0LmtleXMoWWUpLGk9ZnVuY3Rpb24oaSl7dmFyIHI9XCJjb2xsZWN0b3JfdXJsX1wiK25baV0udG9Mb3dlckNhc2UoKTtpZighd2UodFtyXSwoZnVuY3Rpb24obil7bnVsbD09bj9lJiZudWxsIT10W3JdfHxJdC5oaUxvZy53YXJuKHN0LEtlLmNvZGUsXCJDYW5ub3QgZmluZCB2YWxpZCBzZXJ2aWNlL2FuYWx5dGljcy8kMSBmcm9tIGFnY29ubmVjdC1zZXJ2aWNlLmpzb24uXCIseyQxOnJ9KTplJiZudWxsIT10W3JdfHxJdC5oaUxvZy53YXJuKHN0LEtlLmNvZGUsXCJDYW5ub3QgZmluZCB2YWxpZCBzZXJ2aWNlL2FuYWx5dGljcy8kMVskMl0gZnJvbSBhZ2Nvbm5lY3Qtc2VydmljZS5qc29uLlwiLHskMTpyLCQyOm59KX0pKSlyZXR1cm57dmFsdWU6ITF9fTtmb3IodmFyIHIgaW4gbil7dmFyIG89aShyKTtpZihcIm9iamVjdFwiPT10eXBlb2YgbylyZXR1cm4gby52YWx1ZX19cmV0dXJuITB9LGUucHJvdG90eXBlLmdldEhhU2RrVG9rZW49ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzIsZnQuZ2V0VG9rZW4oKV19KSl9KSl9LGUucHJvdG90eXBlLnNldFJvdXRlUG9saWN5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJcIj09PShlPShlPW51bGwhPWU/ZTpcIlwiKS50b1VwcGVyQ2FzZSgpKT92dC5hZGRDb25maWcoeSxcIlVOS05PV05cIik6VmUoWWUsZSk/dnQuYWRkQ29uZmlnKHksZSk6dnQuYWRkQ29uZmlnKHksbnVsbCksdnQuYWRkQ29uZmlnKFwicm91dGVQb2xpY3lVc2VkXCIsXCJcIiE9PWUpLCEhdGhpcy5jaGVja1JvdXRlUG9saWN5KHQpfSxlLnByb3RvdHlwZS5nZXRSb3V0ZVBvbGljeT1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5nZXRDb25maWcoeSk7cmV0dXJuXCJVTktOT1dOXCI9PT10P251bGwhPT0oZT1JdC5oaUFnY1V0aWwuZ2V0Q29uZmlnKCkucmVnaW9uKSYmdm9pZCAwIT09ZT9lOlwiXCI6dH0sZS5wcm90b3R5cGUudXBkYXRlQW5hbHl0aWNzVXJsPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4saTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXRoaXMsWzQsbHQuc3luY0NvbGxlY3QoXCJzZXJ2ZXJDb25maWdcIildO2Nhc2UgMTpyZXR1cm4gdC5zZXJ2ZXJDb25maWc9ci5zZW50KCksbj10aGlzLnNlcnZlckNvbmZpZy5hbmFseXRpY3NVcmwsbnVsbD09KGk9dnQuZ2V0Q29uZmlnKHkpKT9uPVwiXCI6XCJVTktOT1dOXCIhPT1pJiYobj1udWxsIT09KGU9dGhpcy5zZXJ2ZXJDb25maWcuY29sbGVjdG9yVXJsc1tpLnRvVXBwZXJDYXNlKCldKSYmdm9pZCAwIT09ZT9lOlwiXCIpLHZ0LmFkZENvbmZpZyhcImFuYWx5dGljc1VybFwiLG4pLEl0LmhpU2VuZERhdGEuc2V0VXJsKG4pLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLmNoZWNrQWdjQ29uZmlnPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscixvLGE9SXQuaGlBZ2NVdGlsLmdldENvbmZpZygpO2tlKG51bGw9PT0odD1udWxsPT09KGU9bnVsbD09YT92b2lkIDA6YS5zZXJ2aWNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5hbmFseXRpY3MpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlc291cmNlX2lkKXx8SXQuaGlMb2cud2FybihzdCxcIlwiLEV0LHskMTpcInNlcnZpY2UvYW5hbHl0aWNzL3Jlc291cmNlX2lkXCJ9KSxrZShudWxsPT09KG49bnVsbD09YT92b2lkIDA6YS5jbGllbnQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnByb2R1Y3RfaWQpfHxJdC5oaUxvZy53YXJuKHN0LFwiXCIsRXQseyQxOlwiY2xpZW50L3Byb2R1Y3RfaWRcIn0pLGtlKG51bGw9PT0oaT1udWxsPT1hP3ZvaWQgMDphLmNsaWVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYXBwX2lkKXx8SXQuaGlMb2cud2FybihzdCxcIlwiLEV0LHskMTpcImNsaWVudC9hcHBfaWRcIn0pLGtlKG51bGw9PT0ocj1udWxsPT1hP3ZvaWQgMDphLmNsaWVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY2xpZW50X2lkKXx8SXQuaGlMb2cud2FybihzdCxcIlwiLEV0LHskMTpcImNsaWVudC9jbGllbnRfaWRcIn0pO3ZhciBzPW51bGw9PT0obz1udWxsPT1hP3ZvaWQgMDphLmNsaWVudCl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucGFja2FnZV9uYW1lO251bGw9PXN8fGtlKHMpfHxJdC5oaUxvZy53YXJuKHN0LFwiXCIsRXQseyQxOlwiY2xpZW50L3BhY2thZ2VfbmFtZVwifSk7dmFyIGM9bnVsbD09YT92b2lkIDA6YS5yZWdpb247cmV0dXJuIG51bGw9PWN8fGtlKGMpJiZZZVtjXXx8SXQuaGlMb2cud2FybihzdCxcIlwiLEV0LHskMTpcInJlZ2lvblwifSksdnQuc2V0Um91dGVQb2xpY3koZ3Qucm91dGVQb2xpY3ksITEpfSxlLnByb3RvdHlwZS5nZXROZXdVc2VyRmxhZz1mdW5jdGlvbigpe2lmKFwiZmFsc2VcIj09PVdlLmdldENsaWVudFZhbHVlKFwiSFdfaGFfaXNOZXdVc2VyXCIpKXJldHVybiAwO3ZhciBlPU51bWJlcihXZS5nZXRDbGllbnRWYWx1ZShcIkhXX2hhX2ZpcnN0T3BlblRpbWVcIikpLHQ9bmV3IERhdGUoZSkudG9EYXRlU3RyaW5nKCk9PT0obmV3IERhdGUpLnRvRGF0ZVN0cmluZygpO3JldHVybiB0fHxXZS5zYXZlQ2xpZW50VmFsdWUoXCJIV19oYV9pc05ld1VzZXJcIixcImZhbHNlXCIpLHQ/MTowfSxlLnByb3RvdHlwZS5zZXRJc1Rlc3REZXZpY2U9ZnVuY3Rpb24oKXt2YXIgZT12dC5nZXRDb25maWcoUyksdD1cInRydWVcIj09PVdlLmdldENsaWVudFZhbHVlKFwiSFdfaGFfaXNUZXN0RGV2aWNlXCIpfHxlP1widHJ1ZVwiOlwiZmFsc2VcIjtcInRydWVcIj09PXQmJldlLnNhdmVDbGllbnRWYWx1ZShcIkhXX2hhX2lzVGVzdERldmljZVwiLHQpfSxlLnByb3RvdHlwZS5pc1Rlc3REZXZpY2U9ZnVuY3Rpb24oKXtyZXR1cm5cInRydWVcIj09PVdlLmdldENsaWVudFZhbHVlKFwiSFdfaGFfaXNUZXN0RGV2aWNlXCIpPzE6MH0sZX0oKSksQ3Q9e09OX1NDSEVEVUxFRF9USU1FX1BPTElDWTo1LE9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1k6MzB9LFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMucmVwb3J0UG9saWN5RGVmYXVsdD1DdH1yZXR1cm4gZS5wcm90b3R5cGUuZXZlbnRVcGxvYWRQb2xpY3lMYXVuY2g9ZnVuY3Rpb24oKXtJdC5zZW5kVGFzay51cGxvYWREYXRhKCEwLCRlLkxhdW5jaEFwcCl9LGUucHJvdG90eXBlLmV2ZW50VXBsb2FkUG9saWN5VGhyZXNob2xkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFdmVudFVwbG9hZFBvbGljeSgpO2lmKGUuT05fQ0FDSEVfVEhSRVNIT0xEX1BPTElDWSl7aWYoZS5PTl9DQUNIRV9USFJFU0hPTERfUE9MSUNZPFRlKXJldHVybjtpZihlLk9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1k+U2UpcmV0dXJuO0l0LnNlbmRUYXNrLmV2ZW50TW9kZWxzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZlbnQhPT0kZS5TVE9QX0FOQUxZVElDU19DT0xMRUNUSU9OJiZlLnNlbmRTdGF0ZT09PWRlfHxlLnNlbmRTdGF0ZT09PWZlfSkpLmxlbmd0aD49ZS5PTl9DQUNIRV9USFJFU0hPTERfUE9MSUNZJiZJdC5zZW5kVGFzay51cGxvYWREYXRhKCExLFwiXCIpfX0sZS5wcm90b3R5cGUuZXZlbnRVcGxvYWRQb2xpY3lTY2hlZHVsZVRpbWU9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZ2V0RXZlbnRVcGxvYWRQb2xpY3koKTtpZih2dC5nZXRDb25maWcoUykpZT0xZTM7ZWxzZXtpZighdC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1kpcmV0dXJuO2lmKHQuT05fU0NIRURVTEVEX1RJTUVfUE9MSUNZPHZlKXJldHVybjtpZih0Lk9OX1NDSEVEVUxFRF9USU1FX1BPTElDWT5DZSlyZXR1cm47ZT0xZTMqdC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1l9SXQuc2VuZFRhc2suc2V0SGVhcnRiZWF0RnVuYyhlKX0sZS5wcm90b3R5cGUuZXZlbnRVcGxvYWRQb2xpY3lCYWNrZ3JvdW5kPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5sb2dVcGxvYWRQb2xpY3lMYXVuY2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEV2ZW50VXBsb2FkUG9saWN5KCk7SXQuaGlBdXRvUmVwb3J0LmlzTGF1bmNoVXBsb2FkKCkmJmUuT05fQVBQX0xBVU5DSF9QT0xJQ1kmJmUuT05fQVBQX0xBVU5DSF9QT0xJQ1k+MCYmSXQuc2VuZExvZ1Rhc2sudXBsb2FkRGF0YSgpfSxlLnByb3RvdHlwZS5sb2dVcGxvYWRQb2xpY3lUaHJlc2hvbGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEV2ZW50VXBsb2FkUG9saWN5KCk7aWYoZS5PTl9DQUNIRV9USFJFU0hPTERfUE9MSUNZKXtpZihlLk9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1k8VGUpcmV0dXJuO2lmKGUuT05fQ0FDSEVfVEhSRVNIT0xEX1BPTElDWT5TZSlyZXR1cm47SXQuc2VuZExvZ1Rhc2subG9nUmVjb3Jkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmRTdGF0ZT09PWRlfHxlLnNlbmRTdGF0ZT09PWZlfSkpLmxlbmd0aD49ZS5PTl9DQUNIRV9USFJFU0hPTERfUE9MSUNZJiZJdC5zZW5kTG9nVGFzay51cGxvYWREYXRhKCl9fSxlLnByb3RvdHlwZS5sb2dVcGxvYWRQb2xpY3lTY2hlZHVsZVRpbWU9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZ2V0RXZlbnRVcGxvYWRQb2xpY3koKTtpZih2dC5nZXRDb25maWcoUykpZT0xZTM7ZWxzZXtpZighdC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1kpcmV0dXJuO2lmKHQuT05fU0NIRURVTEVEX1RJTUVfUE9MSUNZPHZlKXJldHVybjtpZih0Lk9OX1NDSEVEVUxFRF9USU1FX1BPTElDWT5DZSlyZXR1cm47ZT0xZTMqdC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1l9SXQuc2VuZExvZ1Rhc2suc2V0SGVhcnRiZWF0RnVuYyhlKX0sZS5wcm90b3R5cGUubG9nVXBsb2FkUG9saWN5QmFja2dyb3VuZD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZ2V0VXBsb2FkTWF4Q291bnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEV2ZW50VXBsb2FkUG9saWN5KCk7cmV0dXJuLTE9PT1lLk9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1k/MzAwOk1hdGgubWluKDMwMCxlLk9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1kpfSxlLnByb3RvdHlwZS5nZXRFdmVudFVwbG9hZFBvbGljeT1mdW5jdGlvbigpe3ZhciBlPVdlLmdldENsaWVudFZhbHVlKFwiSFdfaGFfZXZlbnRVcGxvYWRQb2xpY3lcIik7cmV0dXJuIFVlKGUpJiYoZT10aGlzLnJlcG9ydFBvbGljeURlZmF1bHQsV2Uuc2F2ZUNsaWVudFZhbHVlKFwiSFdfaGFfZXZlbnRVcGxvYWRQb2xpY3lcIixlKSksZX0sZX0oKTtuZXcgVHQ7dmFyIFN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUucXVlcnlBbGxNb2RlbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyLHRoaXMuZ2VuZXJhdGVFdmVudE1vZGVscygpXX0pKX0pKX0sZS5wcm90b3R5cGUucXVlcnlNb2RlbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuWzIsdGhpcy5nZW5lcmF0ZUV2ZW50TW9kZWxzKHZvaWQgMCxlKV19KSl9KSl9LGUucHJvdG90eXBlLnNhdmVNb2RlbD1mdW5jdGlvbihlLHQpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixpO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49YmUodCxbXCJzZW5kU3RhdGVcIixcImNvbGxlY3Rpb25VcmxcIixcInJvdXRlUG9saWN5XCJdKSxpPUpTT04uc3RyaW5naWZ5KG4pLFs0LEl0LmhpREJTdG9yYWdlLnNhdmVDbGllbnRWYWx1ZShlLGksITApXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZU1vZGVsPWZ1bmN0aW9uKGUpe0l0LmhpREJTdG9yYWdlLnJlbW92ZUl0ZW0oZSwhMCl9LGUucHJvdG90eXBlLnJlbW92ZU1vZGVscz1mdW5jdGlvbihlKXtJdC5oaURCU3RvcmFnZS5yZW1vdmVJdGVtcyhlLCEwKX0sZS5wcm90b3R5cGUucmVtb3ZlQWxsTW9kZWxzPWZ1bmN0aW9uKCl7SXQuaGlEQlN0b3JhZ2UucmVtb3ZlQWxsSXRlbXMoITApfSxlLnByb3RvdHlwZS5nZW5lcmF0ZUV2ZW50TW9kZWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQsbixpLHIsbztyZXR1cm4gZih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LEl0LmhpREJTdG9yYWdlLmdldEFsbENsaWVudFZhbHVlKCEwKV07Y2FzZSAxOmZvcihlPWEuc2VudCgpLHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKWk9ZVtuXSxyPWksbnVsbCE9KG89SlNPTi5wYXJzZShyKSkuaWQmJnQucHVzaChvKTtyZXR1cm5bMix0XX19KSl9KSl9LGV9KCkseXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5nZXREYXRhYmFzZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuZ2V0QWxsQ2xpZW50VmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyLFByb21pc2UucmVzb2x2ZShbXCJcIl0pXX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0Q2xpZW50VmFsdWVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyLFByb21pc2UucmVzb2x2ZShbXCJcIl0pXX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0Q2xpZW50VmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzIsUHJvbWlzZS5yZXNvbHZlKFwiXCIpXX0pKX0pKX0sZS5wcm90b3R5cGUuaXNLZXlFeGlzdD1mdW5jdGlvbihlLHQpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMixQcm9taXNlLnJlc29sdmUoITEpXX0pKX0pKX0sZS5wcm90b3R5cGUuc2F2ZUNsaWVudFZhbHVlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSkpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pKX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlSXRlbXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSkpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVBbGxJdGVtcz1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSkpfSkpfSxlfSgpLEl0PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmhpQW5hbHl0aWNzPXt9LHRoaXMuaGlMb2c9e30sdGhpcy5oaUF1dG9SZXBvcnQ9e30sdGhpcy5oaUVuY3J5cHRTZW5kRGF0YT17fSx0aGlzLmhpU2VuZERhdGE9e30sdGhpcy5oaUNsaWVudD17fSx0aGlzLmhpQ2xpZW50UHJvcGVydHk9e30sdGhpcy5oaVN0b3JhZ2U9e30sdGhpcy5oaURCU3RvcmFnZT17fSx0aGlzLmhpRmlsZVN0b3JhZ2U9e30sdGhpcy5oaU1pZ3JhdGlvbj17fSx0aGlzLnNlbmRMb2dUYXNrPXt9LHRoaXMuc2VuZFRhc2s9e30sdGhpcy5zZW5kUG9saWN5PXt9LHRoaXMuaGlFbmNyeXB0PXt9LHRoaXMuaGlLZXlTdG9yZT17fSx0aGlzLmhpQWdjVXRpbD17fSx0aGlzLmhpRXZlbnRNb2RlbHNBZGFwdGVyPXt9LHRoaXMuc2V0U2VuZFBvbGljeShuZXcgVHQpLHRoaXMuc2V0SGlFdmVudE1vZGVsc0FkYXB0ZXIobmV3IFN0KSx0aGlzLnNldEhpREJTdG9yYWdlKG5ldyB5dCl9cmV0dXJuIGUucHJvdG90eXBlLnNldEhpQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe3RoaXMuaGlBbmFseXRpY3M9ZX0sZS5wcm90b3R5cGUuc2V0SGlMb2c9ZnVuY3Rpb24oZSl7dGhpcy5oaUxvZz1lfSxlLnByb3RvdHlwZS5zZXRIaUF1dG9SZXBvcnQ9ZnVuY3Rpb24oZSl7dGhpcy5oaUF1dG9SZXBvcnQ9ZX0sZS5wcm90b3R5cGUuc2V0SGlFbmNyeXB0U2VuZERhdGE9ZnVuY3Rpb24oZSl7dGhpcy5oaUVuY3J5cHRTZW5kRGF0YT1lLHRoaXMuc2V0SGlTZW5kRGF0YShlKX0sZS5wcm90b3R5cGUuc2V0SGlTZW5kRGF0YT1mdW5jdGlvbihlKXt0aGlzLmhpU2VuZERhdGE9ZX0sZS5wcm90b3R5cGUuc2V0SGlDbGllbnQ9ZnVuY3Rpb24oZSl7dGhpcy5oaUNsaWVudD1lfSxlLnByb3RvdHlwZS5zZXRIaUNsaWVudFByb3BlcnR5PWZ1bmN0aW9uKGUpe3RoaXMuaGlDbGllbnRQcm9wZXJ0eT1lfSxlLnByb3RvdHlwZS5zZXRIaVN0b3JhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5oaVN0b3JhZ2U9ZX0sZS5wcm90b3R5cGUuc2V0SGlEQlN0b3JhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5oaURCU3RvcmFnZT1lfSxlLnByb3RvdHlwZS5zZXRIaUZpbGVTdG9yYWdlPWZ1bmN0aW9uKGUpe3RoaXMuaGlGaWxlU3RvcmFnZT1lfSxlLnByb3RvdHlwZS5zZXRIaU1pZ3JhdGlvbj1mdW5jdGlvbihlKXt0aGlzLmhpTWlncmF0aW9uPWV9LGUucHJvdG90eXBlLnNldFNlbmRMb2dUYXNrPWZ1bmN0aW9uKGUpe3RoaXMuc2VuZExvZ1Rhc2s9ZX0sZS5wcm90b3R5cGUuc2V0U2VuZFRhc2s9ZnVuY3Rpb24oZSl7dGhpcy5zZW5kVGFzaz1lfSxlLnByb3RvdHlwZS5zZXRTZW5kUG9saWN5PWZ1bmN0aW9uKGUpe3RoaXMuc2VuZFBvbGljeT1lfSxlLnByb3RvdHlwZS5zZXRIaUVuY3J5cHQ9ZnVuY3Rpb24oZSl7dGhpcy5oaUVuY3J5cHQ9ZX0sZS5wcm90b3R5cGUuc2V0SGlLZXlTdG9yZT1mdW5jdGlvbihlKXt0aGlzLmhpS2V5U3RvcmU9ZX0sZS5wcm90b3R5cGUuc2V0SGlBZ2NVdGlsPWZ1bmN0aW9uKGUpe3RoaXMuaGlBZ2NVdGlsPWV9LGUucHJvdG90eXBlLnNldEhpRXZlbnRNb2RlbHNBZGFwdGVyPWZ1bmN0aW9uKGUpe3RoaXMuaGlFdmVudE1vZGVsc0FkYXB0ZXI9ZX0sZX0oKSksQXQ9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZXZlbnRzUmVjZWl2ZWQ9W10sdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLnJlcG9ydEZsYWc9ITB9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT1XZS5nZXRDbGllbnRWYWx1ZShJZSk7bnVsbD09ZXx8MD09PWUubGVuZ3RoP1dlLnNhdmVDbGllbnRWYWx1ZShJZSxTdHJpbmcodGhpcy5yZXBvcnRGbGFnKSk6dGhpcy5yZXBvcnRGbGFnPWU9PT1TdHJpbmcoITApfSxlLnByb3RvdHlwZS5zZXRBbmFseXRpY3NFbmFibGVkPWZ1bmN0aW9uKGUpe2lmKHRoaXMucmVwb3J0RmxhZyE9PWUmJih0aGlzLnJlcG9ydEZsYWc9ZSxXZS5zYXZlQ2xpZW50VmFsdWUoSWUsU3RyaW5nKGUpKSwhZSkpe3ZhciB0PVdlLmdldENsaWVudFZhbHVlKEFlKTtcInRydWVcIiE9PXQmJlwiZmFsc2VcIiE9PXR8fFdlLnNhdmVDbGllbnRWYWx1ZShBZSxTdHJpbmcoITApKTt2YXIgbj1XZS5nZXRDbGllbnRWYWx1ZShtZSk7XCJ0cnVlXCIhPT1uJiZcImZhbHNlXCIhPT1ufHxXZS5zYXZlQ2xpZW50VmFsdWUobWUsU3RyaW5nKCEwKSksSXQuaGlFdmVudE1vZGVsc0FkYXB0ZXIucmVtb3ZlQWxsTW9kZWxzKCksdGhpcy5vbkV2ZW50KCRlLlNUT1BfQU5BTFlUSUNTX0NPTExFQ1RJT04se30se2lzUmVzZXJ2ZWQ6ITAsZm9yY2VSZXBvcnQ6ITAsaW1tZWRpYXRlbHk6ITB9KX19LGUucHJvdG90eXBlLnNldFJlc3RyaWN0aW9uRW5hYmxlZD1mdW5jdGlvbihlKXtpZih0aGlzLnJlcG9ydEZsYWcmJihXZS5zYXZlQ2xpZW50VmFsdWUoQWUsU3RyaW5nKGUpKSxlKSl7dGhpcy5vbkV2ZW50KCRlLlNUT1BfQU5BTFlUSUNTX0NPTExFQ1RJT04se30se2lzUmVzZXJ2ZWQ6ITAsZm9yY2VSZXBvcnQ6ITAsaW1tZWRpYXRlbHk6ITB9KTt2YXIgdD1XZS5nZXRDbGllbnRWYWx1ZShtZSk7XCJ0cnVlXCIhPT10JiZcImZhbHNlXCIhPT10fHxXZS5zYXZlQ2xpZW50VmFsdWUobWUsU3RyaW5nKGUpKX19LGUucHJvdG90eXBlLmlzUmVzdHJpY3Rpb25FbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9V2UuZ2V0Q2xpZW50VmFsdWUoSWUpLHQ9V2UuZ2V0Q2xpZW50VmFsdWUoQWUpO3JldHVyblwiXCIhPT10P1widHJ1ZVwiPT09dDpcInRydWVcIiE9PWV9LGUucHJvdG90eXBlLnNldFJlc3RyaWN0aW9uU2hhcmVkPWZ1bmN0aW9uKGUpe3RoaXMucmVwb3J0RmxhZz92dC5nZXRSb3V0ZVBvbGljeSgpPT09WWUuQ04/dGhpcy5pc1Jlc3RyaWN0aW9uRW5hYmxlZCgpP0l0LmhpTG9nLndhcm4oc3QsXCJcIixcIkNhbm5vdCBzZXQgcmVzdHJpY3Rpb25fc2hhcmVkIGJlY2F1c2UgcmVzdHJpY3Rpb25fZW5hYmxlZCBpcyB0cnVlIVwiKTpXZS5zYXZlQ2xpZW50VmFsdWUobWUsU3RyaW5nKGUpKTpJdC5oaUxvZy53YXJuKHN0LFwiXCIsXCJDYW5ub3Qgc2V0IHJlc3RyaWN0aW9uX3NoYXJlZCBiZWNhdXNlIHJvdXRlUG9saWN5IGlzIG5vdCBDTiFcIik6SXQuaGlMb2cud2FybihzdCxcIlwiLFwiQ2Fubm90IHNldCByZXN0cmljdGlvbl9zaGFyZWQgYmVjYXVzZSBhbmFseXRpY3NfZW5hYmxlZCBpcyBmYWxzZSFcIil9LGUucHJvdG90eXBlLmlzUmVzdHJpY3Rpb25TaGFyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdnQuZ2V0Um91dGVQb2xpY3koKSE9PVllLkNOfHwoIXRoaXMucmVwb3J0RmxhZ3x8KHZ0LmdldFJvdXRlUG9saWN5KCkhPT1ZZS5DTnx8KCEhdGhpcy5pc1Jlc3RyaWN0aW9uRW5hYmxlZCgpfHxcInRydWVcIj09PVdlLmdldENsaWVudFZhbHVlKG1lKSkpKX0sZS5wcm90b3R5cGUuY2hlY2tFdmVudExlbmd0aD1mdW5jdGlvbihlKXtyZXR1cm4hIWl0LmNoZWNrU3RyaW5nKHN0LFwiZXZlbnRJZFwiLGUsUSl9LGUucHJvdG90eXBlLmNoZWNrSXNQcmVkaW5lRXZlbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSExLG49TGU7Zm9yKHZhciBpIGluIG4pe2lmKGU9PT1uW2ldKXt0PSEwO2JyZWFrfX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0RXZlbnRQYXJhbXM9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIG49e307Zm9yKHZhciBpIGluIHRoaXMucHV0RXZlbnRQYXJhbXMobix0LGUsITEpLHRoaXMucHV0RXZlbnRQYXJhbXMobixXZS5kZWZhdWx0RXZlbnRQYXJhbXMsZSwhMCksbiludWxsPT1uW2ldJiZkZWxldGUgbltpXTt2YXIgcj1PYmplY3Qua2V5cyhuKTtpZihyLmxlbmd0aD56KXtJdC5oaUxvZy53YXJuKHN0LHFlLmNvZGUscWUubWVzc2FnZSx7JDE6XCJFdmVudFwiLCQyOnp9KTtmb3IodmFyIG89ci5zbGljZSh6KSxhPTA7YTxvLmxlbmd0aDthKyspe2RlbGV0ZSBuW2k9b1thXV19fXJldHVybiBufSxlLnByb3RvdHlwZS5wdXRFdmVudFBhcmFtcz1mdW5jdGlvbihlLHQsbixpKXtpZihpJiZuKXJldHVybiBlO2Zvcih2YXIgciBpbiB0KWkmJlZlKGUscil8fGl0LmNoZWNrU3RyaW5nKHN0LFwicGFyYW1zIGtleVwiLHIsUSkmJihufHxpdC5jaGVja1BhdHRlcm4oc3QsXCJwYXJhbXMga2V5XCIscixvZSkpJiYoZVtyXT10W3JdKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuY2hlY2tFdmVudElzVmFsaWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXRoaXMuY2hlY2tFdmVudExlbmd0aChlKSYmKCEoIXQmJiFpdC5jaGVja1Jlc2VydmUoc3QsXCJldmVudElkXCIsZSwkZSkpJiYoISEodGhpcy5jaGVja0lzUHJlZGluZUV2ZW50cyhlKXx8dHx8aXQuY2hlY2tQYXR0ZXJuKHN0LFwiZXZlbnRJZFwiLGUsaWUpKSYmKCF0aGlzLmlzRGlzYWJsZUV2ZW50KGUpfHwoSXQuaGlMb2cuaW5mbyhcIlRoZSBldmVudCBpcyBkaXNhYmxlZDogXCIrZSksITEpKSkpfSxlLnByb3RvdHlwZS5wcm9jZXNzRXZlbnRzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzOzAhPT10aGlzLmV2ZW50c1JlY2VpdmVkLmxlbmd0aCYmKHRoaXMucmVwb3J0RmxhZz90aGlzLmV2ZW50c1JlY2VpdmVkLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZXZlbnRJZCxpPXQucGFyYW0scj10LmNvbmZpZztyLmlzUmVzZXJ2ZWQ9X2Uuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1ufSkpLGUub25FdmVudChuLGkscil9KSk6SXQuaGlMb2cud2FybihzdCxaZS5jb2RlLFplLm1lc3NhZ2UpLHRoaXMuZXZlbnRzUmVjZWl2ZWQubGVuZ3RoPTApfSxlLnByb3RvdHlwZS5vbkV2ZW50Q2FsbGJhY2s9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PXQmJih0PXt9KSx2b2lkIDA9PT1uJiYobj17fSksdGhpcy5pbml0aWFsaXplZD90aGlzLnJlcG9ydEZsYWc/dGhpcy5vbkV2ZW50KGUsdCxuKTpJdC5oaUxvZy53YXJuKHN0LFplLmNvZGUsWmUubWVzc2FnZSk6KHRoaXMuZXZlbnRzUmVjZWl2ZWQubGVuZ3RoPj0zMDAmJih0aGlzLmV2ZW50c1JlY2VpdmVkLmxlbmd0aD0wKSx0aGlzLmV2ZW50c1JlY2VpdmVkLnB1c2goe2V2ZW50SWQ6ZSxwYXJhbTp0LGNvbmZpZzpufSkpfSxlLnByb3RvdHlwZS5vbkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT10JiYodD17fSksdm9pZCAwPT09biYmKG49e30pO3ZhciBpPW4uaXNSZXNlcnZlZHx8ITEscj1uLmZvcmNlUmVwb3J0fHwhMTtpZih0aGlzLmNoZWNrRXZlbnRJc1ZhbGlkKGUsaSkmJihyfHxpdC5jaGVja1N3aXRjaElzT3BlbihzdCx0aGlzLnJlcG9ydEZsYWcpKSl7dmFyIG89dGhpcy5nZXRFdmVudFBhcmFtcyhpLHQpLGE9ZWUvMTAyNCtcIktCXCIscz1KU09OLnN0cmluZ2lmeShvKS5sZW5ndGg7aWYoaXQuY2hlY2tFeGNlZWRNYXhTaXplKHN0LGEscyxlZSkpe28uJFRhc2tJZD1cIlwiO3ZhciBjPXt9O2NbV109aHQuZ2V0UGFnZUlkQnlVcmwodnQucHJldlNjcmVlbk5hbWUpLGNbS109aHQuZ2V0UGFnZUlkQnlVcmwodnQuY3VycmVudFNjcmVlbk5hbWUpLHRoaXMucHV0RXZlbnRQYXJhbXMobyxjLGksITEpO3ZhciB1PW4uZXZlbnR0aW1lfHwobmV3IERhdGUpLmdldFRpbWUoKTtJdC5zZW5kVGFzay5vbkV2ZW50KGUsbyxcIm9wZXJcIix1LG4pfX19LGUucHJvdG90eXBlLmFkZERlZmF1bHRFdmVudFBhcmFtcz1mdW5jdGlvbihlKXtpZihudWxsIT1lKWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl7bnVsbD09KGk9ZVtuXSk/ZGVsZXRlIFdlLmRlZmF1bHRFdmVudFBhcmFtc1tuXTp0W25dPWl9Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl07aWYodGhpcy52YWxpZGF0ZURlZmF1bHRQYXJhbShuLGkpKXtpZighVmUoV2UuZGVmYXVsdEV2ZW50UGFyYW1zLG4pKXt2YXIgcj1PYmplY3Qua2V5cyhXZS5kZWZhdWx0RXZlbnRQYXJhbXMpLmxlbmd0aCsxO2lmKCFpdC5jaGVja0xlbmd0aChzdCxcImRlZmF1bHQgZXZlbnRcIixyLFopKWNvbnRpbnVlfVdlLmRlZmF1bHRFdmVudFBhcmFtc1tuXT1pfX19ZWxzZSBJdC5oaUxvZy53YXJuKHN0LFFlLmNvZGUsUWUubWVzc2FnZSx7JDE6XCJkZWZhdWx0IGV2ZW50IHBhcmFtc1wifSk7ZWxzZSBXZS5kZWZhdWx0RXZlbnRQYXJhbXM9e319LGUucHJvdG90eXBlLnZhbGlkYXRlRGVmYXVsdFBhcmFtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISFpdC5jaGVja1N0cmluZyhzdCxcImRlZmF1bHQgZXZlbnQgcGFyYW1zIGtleVwiLGUsUSkmJighIWl0LmNoZWNrUGF0dGVybihzdCxcImRlZmF1bHQgZXZlbnQgcGFyYW1zIGtleVwiLGUsb2UpJiYoIShcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5sZW5ndGg+USl8fChJdC5oaUxvZy53YXJuKHN0LHhlLmNvZGUseGUubWVzc2FnZSx7JDE6XCJkZWZhdWx0IGV2ZW50IHBhcmFtcyB2YWx1ZVwiLCQyOlF9KSwhMSkpKX0sZS5wcm90b3R5cGUuaXNEaXNhYmxlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9V2UuZ2V0Q2xpZW50VmFsdWUoXCJIV19oYV9kaXNhYmxlRXZlbnRzXCIpO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0IGluc3RhbmNlb2YgQXJyYXkmJi0xIT09dC5pbmRleE9mKGUpfSxlLnByb3RvdHlwZS53cml0ZUxvZz1mdW5jdGlvbihlLHQpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixpLHIsbyxhLHMsYyx1LGwsZDtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihwKXtyZXR1cm4gbnVsbD09ZXx8VWUodCk/KEl0LmhpTG9nLndhcm4oc3QsUWUuY29kZSxRZS5tZXNzYWdlLHskMTpudWxsPT1lP1wibG9nQ29uZmlnXCI6XCJjb250ZW50XCJ9KSxbMl0pOlwic3RyaW5nXCIhPXR5cGVvZiB0PyhJdC5oaUxvZy53YXJuKHN0LFFlLmNvZGUsUWUubWVzc2FnZSx7JDE6XCJjb250ZW50XCJ9KSxbMl0pOihuPWUucmVnaW9uLGk9ZS5wcm9qZWN0SWQscj1lLmdyb3VwSWQsbz1lLnN0cmVhbUlkLGE9ZS50YWdzLGl0LmNoZWNrU3RyaW5nKHN0LFwicmVnaW9uXCIsbixxKSYmaXQuY2hlY2tTdHJpbmcoc3QsXCJwcm9qZWN0SWRcIixpLHEpJiZpdC5jaGVja1N0cmluZyhzdCxcImdyb3VwSWRcIixyLHEpJiZpdC5jaGVja1N0cmluZyhzdCxcInN0cmVhbUlkXCIsbyxxKT8obnVsbCE9YSYmXCJvYmplY3RcIj09dHlwZW9mIGF8fChJdC5oaUxvZy53YXJuKHN0LFFlLmNvZGUsUWUubWVzc2FnZSx7JDE6XCJ0YWdzXCJ9KSxhPXt9KSxzPXt9LChjPU9iamVjdC5lbnRyaWVzKGF8fHt9KS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdO3JldHVybiEhaXQuY2hlY2tTdHJpbmcoc3QsXCJ0YWcga2V5XCIsdCxqKSYmKCEhaXQuY2hlY2tQYXR0ZXJuKHN0LFwidGFnIGtleVwiLHQscmUpJiYhIWl0LmNoZWNrU3RyaW5nKHN0LFwidGFnIHZhbHVlXCIsbixRKSl9KSkpLmxlbmd0aD50ZSYmSXQuaGlMb2cud2FybihzdCxxZS5jb2RlLHFlLm1lc3NhZ2UseyQxOlwidGFnc1wiLCQyOnRlfSksYy5zbGljZSgwLHRlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXTtzW3RdPW59KSksdC5sZW5ndGg+WCYmKEl0LmhpTG9nLndhcm4oc3QseGUuY29kZSx4ZS5tZXNzYWdlLHskMTpcImNvbnRlbnRcIiwkMjpYfSksdD10LnN1YnN0cmluZygwLFgpKSx1PXZ0LmdldENvbmZpZyh5KSxsPUl0LmhpQWdjVXRpbC5nZXRDb25maWcoKS5yZWdpb258fFwiXCIsZD17cmVnaW9uOm4scHJvamVjdElkOmksZ3JvdXBJZDpyLHN0cmVhbUlkOm8sdGFnczpzLGlkOkhlLmNyZWF0ZSgpLGNvbnRlbnQ6dCx0eXBlOlwibWFpbnRcIixldmVudHRpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29sbGVjdGlvblVybDp2dC5nZXRDb25maWcoXCJhbmFseXRpY3NVcmxcIikscm91dGVQb2xpY3k6XCJVTktOT1dOXCI9PT11P2w6dSxzZW5kU3RhdGU6bGV9LEl0LnNlbmRMb2dUYXNrLndyaXRlTG9nKGQpLFsyXSk6WzJdKX0pKX0pKX0sZS5wcm90b3R5cGUub25SZXBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuIEl0LnNlbmRUYXNrLnVwbG9hZERhdGEoITEsXCJcIiksSXQuc2VuZExvZ1Rhc2sudXBsb2FkRGF0YSgpLFsyXX0pKX0pKX0sZX0oKSksbXQ9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudXNlcklkPVwiXCIsdGhpcy5jbGllbnRJZD1cIlwifXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zZXRVc2VySWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pc1ZhbGlkVXNlcklkKGUpO3QmJldlLnNhdmVDbGllbnRWYWx1ZShcIkhXX2hhX2V4aXN0VXNlcklkXCIsbnVsbCE9ZT9FZTpnZSksKGU9dCYmbnVsbCE9ZT9TdHJpbmcoZSk6XCJcIikhPT10aGlzLnVzZXJJZCYmV2UuaGFuZGxlU2Vzc2lvblZhbHVlKCksdGhpcy51c2VySWQ9ZXx8XCJcIn0sZS5wcm90b3R5cGUuaXNWYWxpZFVzZXJJZD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZXx8KFwic3RyaW5nXCIhPXR5cGVvZiBlJiZcIm51bWJlclwiIT10eXBlb2YgZT8oSXQuaGlMb2cud2FybihzdCxcIlwiLFFlLm1lc3NhZ2UseyQxOlwidXNlcklkXCJ9KSwhMSk6ISFpdC5jaGVja1N0cmluZyhzdCxcInVzZXJJZFwiLGUsUSkpfSxlLnByb3RvdHlwZS5zZXRTZXNzaW9uRHVyYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGU8YWUudmFsdWUmJihJdC5oaUxvZy53YXJuKHN0LFhlLmNvZGUsXCJzZXNzaW9uIGR1cmF0aW9uIGxlc3MgdGhhbiBtaW5pbXVtICQxLlwiLHskMTphZS5sYWJlbH0pLGU9YWUudmFsdWUpLGU+c2UudmFsdWUmJihJdC5oaUxvZy53YXJuKHN0LFhlLmNvZGUsXCJzZXNzaW9uIGR1cmF0aW9uIGdyZWF0ZXIgdGhhbiBtYXhpbXVtICQxLlwiLHskMTpzZS5sYWJlbH0pLGU9c2UudmFsdWUpLFdlLnNldFNlc3Npb25EdXJhdGlvbihlKX0sZS5wcm90b3R5cGUuc2V0QmFja2dyb3VuZFNlc3Npb25EdXJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gZTxhZS52YWx1ZSYmKEl0LmhpTG9nLndhcm4oc3QsWGUuY29kZSxcIm1pbiBzZXNzaW9uIGR1cmF0aW9uIGxlc3MgdGhhbiBtaW5pbXVtICQxLlwiLHskMTphZS5sYWJlbH0pLGU9YWUudmFsdWUpLGU+c2UudmFsdWUmJihJdC5oaUxvZy53YXJuKHN0LFhlLmNvZGUsXCJtaW4gc2Vzc2lvbiBkdXJhdGlvbiBncmVhdGVyIHRoYW4gbWF4aW11bSAkMS5cIix7JDE6c2UubGFiZWx9KSxlPXNlLnZhbHVlKSxXZS5zZXRCYWNrZ3JvdW5kU2Vzc2lvbkR1cmF0aW9uKGUpfSxlLnByb3RvdHlwZS5nZXRVc2VySW5mbz1mdW5jdGlvbihlKXt2YXIgdD0odm9pZCAwPT09ZT97fTplKS5yb3V0ZVBvbGljeSxuPXZvaWQgMD09PXQ/XCJcIjp0O3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LGkscixvLGEscyxjLHUsbCxkLHA7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oaCl7c3dpdGNoKGgubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT12dC5nZXRBQUlEKCksWzQsSXQuaGlDbGllbnQuZ2V0U3lzdGVtT2FpZEZsYWcoKV07Y2FzZSAxOnJldHVybiB0PWguc2VudCgpLChyPXQpP1s0LEl0LmhpQ2xpZW50LmdldENsaWVudE9haWRGbGFnKCldOlszLDNdO2Nhc2UgMjpyPWguc2VudCgpLGgubGFiZWw9MztjYXNlIDM6cmV0dXJuIGk9ciwoYT10KT9bNCxJdC5oaUNsaWVudC5nZXRTZXJ2ZXJPYWlkRmxhZyhuKV06WzMsNV07Y2FzZSA0OmE9aC5zZW50KCksaC5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gcz17c3lzdGVtT2FpZEZsYWc6dCxjbGllbnRPYWlkRmxhZzppLHNlcnZlck9haWRGbGFnOm89YX0sdT17YWFpZDplLHVzZXJpZDp0aGlzLnVzZXJJZH0sWzQsSXQuaGlDbGllbnRQcm9wZXJ0eS5nZW5lcmF0ZVVzZXJDb21tb25Qcm9wZXJ0eShzKV07Y2FzZSA2OnJldHVybiB1LnByb3BlcnRpZXM9aC5zZW50KCksdS5ldmVudHNfZ2xvYmFsX3Byb3BlcnRpZXM9dnQudXNlclByb2ZpbGVzLGM9dSx0JiZpJiZvPyhsPWMsWzQsSXQuaGlDbGllbnQuZ2V0T2FpZCgpXSk6WzMsOV07Y2FzZSA3OnJldHVybiBsLm9haWQ9aC5zZW50KCksZD1jLFs0LEl0LmhpQ2xpZW50LmdldE9haWRTb3VyY2UoKV07Y2FzZSA4OnJldHVybiBkLm9haWRfc291cmNlPWguc2VudCgpLFszLDEwXTtjYXNlIDk6Yy5vYWlkPVwiXCIsYy5vYWlkX3NvdXJjZT1cIlwiLGgubGFiZWw9MTA7Y2FzZSAxMDpjYXNlIDExOnJldHVyblszLDE1XTtjYXNlIDEyOnJldHVybih2b2lkIDApLm9haWQ9aC5zZW50KCkscD1jLFs0LEl0LmhpQ2xpZW50LmdldE9haWRTb3VyY2UoKV07Y2FzZSAxMzpyZXR1cm4gcC5vYWlkX3NvdXJjZT1oLnNlbnQoKSxbMywxNV07Y2FzZSAxNDpjLm9haWQ9XCJcIixjLm9haWRfc291cmNlPVwiXCIsaC5sYWJlbD0xNTtjYXNlIDE1OnJldHVyblsyLGNdfX0pKX0pKX0sZX0oKSksUHQ9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYXV0b1JlcG9ydD17fSx0aGlzLmhpU3RvcmFnZT17fSx0aGlzLmhpQ2xpZW50PXt9fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5hdXRvUmVwb3J0PUl0LmhpQXV0b1JlcG9ydCx0aGlzLmhpU3RvcmFnZT1JdC5oaVN0b3JhZ2UsdGhpcy5oaUNsaWVudD1JdC5oaUNsaWVudH0sZS5wcm90b3R5cGUucmVwb3J0Rmlyc3RPcGVuRXZlbnQ9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciB0PXtldmVudHRpbWU6V2UuZ2V0Q2xpZW50VmFsdWUoXCJIV19oYV9maXJzdE9wZW5UaW1lXCIpfHxTdHJpbmcoKG5ldyBEYXRlKS5nZXRUaW1lKCkpLGltbWVkaWF0ZWx5OiExLGlzUmVzZXJ2ZWQ6ITB9LG49e30saT1lP1wiY2xlYXJDYWNoZWREYXRhXCI6SXQuaGlDbGllbnQuZ2V0U3RhcnRUeXBlKCk7bnVsbCE9aSYmKG5bYl09aSk7dmFyIHI9SXQuaGlDbGllbnQuZ2V0U3RhcnRTY2VuZSgpO251bGwhPXImJihuW1ZdPXIpLEF0Lm9uRXZlbnQoJGUuRklSU1RfT1BFTixuLHQpfSxlLnByb3RvdHlwZS5yZXBvcnRMYXVuY2hBcHBFdmVudD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHQ9e30sbj1lP1wiY2xlYXJDYWNoZWREYXRhXCI6SXQuaGlDbGllbnQuZ2V0U3RhcnRUeXBlKCk7bnVsbCE9biYmKHRbYl09bik7dmFyIGk9SXQuaGlDbGllbnQuZ2V0U3RhcnRTY2VuZSgpO251bGwhPWkmJih0W1ZdPWkpLEF0Lm9uRXZlbnQoJGUuTGF1bmNoQXBwLHQse2ltbWVkaWF0ZWx5OiExLGlzUmVzZXJ2ZWQ6ITB9KX0sZS5wcm90b3R5cGUucmVwb3J0UGFnZUVudHJ5RXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLnJlcG9ydFBhZ2VFbnRyeUV2ZW50QXN5bmMoKX0sZS5wcm90b3R5cGUucmVwb3J0UGFnZUVudHJ5RXZlbnRBc3luYz1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxyO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsSXQuaGlBbmFseXRpY3MuaW5pdFByb21pc2VdO2Nhc2UgMTpyZXR1cm4gby5zZW50KCksZT17fSx0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLHZ0LnNldFBhZ2VFbnRyeVRpbWUodCksbj12dC5jdXJyZW50U2NyZWVuTmFtZSxpPUl0LmhpQ2xpZW50LmdldEhyZWYoKSx2dC5zZXRQcmV2U2NyZWVuTmFtZSh2dC5jdXJyZW50U2NyZWVuTmFtZSksdnQuc2V0Q3VycmVudFNjcmVlbihpKSxlW0ZdPW4sZVtZXT1odC5nZXRQYWdlSWRCeVVybChpKSxlW0ddPWVbRl0sZVtCXT1lW1ldLHI9e2ltbWVkaWF0ZWx5OiExLGlzUmVzZXJ2ZWQ6ITB9LEF0Lm9uRXZlbnQoJGUuRU5URVJfU0NSRUVOLGUsciksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUucmVwb3J0UGFnZUV4aXRFdmVudD1mdW5jdGlvbigpe3ZhciBlPXZ0LmdldFBhZ2VFbnRyeVRpbWUoKTtpZihlKXt2YXIgdD17fSxuPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWU7dFtZXT1odC5nZXRQYWdlSWRCeVVybCh2dC5jdXJyZW50U2NyZWVuTmFtZSksdFtCXT10W1ldLHRbeF09bjtBdC5vbkV2ZW50KCRlLkVYSVRfU0NSRUVOLHQse2ltbWVkaWF0ZWx5OiEwLGlzUmVzZXJ2ZWQ6ITB9KX19LGUucHJvdG90eXBlLnJlcG9ydENhbXBhaWduUHVzaEluZm9FdmVudD1mdW5jdGlvbigpe3ZhciBlPXZ0LmNhbXBhaWduUHVzaEluZm87aWYoZSl7dmFyIHQ9e307dC4kQ2FtcGFpZ25QdXNoSW5mbz1KU09OLnN0cmluZ2lmeShlKSx0LiRKb2JJZD1lLmpvYklkLHQuJEFjdGl2aXR5SWQ9ZS5hY3Rpdml0eUlkO0F0Lm9uRXZlbnQoJGUuQ2FtcGFpZ25QdXNoQ2xpY2ssdCx7aW1tZWRpYXRlbHk6ITEsaXNSZXNlcnZlZDohMH0pfX0sZS5wcm90b3R5cGUuY29tcHV0ZUxvYWRUaW1lPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zdGF0ZUNoYW5nZWQ9ZnVuY3Rpb24oKXt9LGV9KCkpLE50PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmV2ZW50TGlzdGVuZXJzPVtdfXJldHVybiBlLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlKXt0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2goZSl9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOmU9MCx0PXRoaXMuZXZlbnRMaXN0ZW5lcnMsbi5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gZTx0Lmxlbmd0aD9bNCx0W2VdLmluaXQoKV06WzMsNF07Y2FzZSAyOm4uc2VudCgpLG4ubGFiZWw9MztjYXNlIDM6cmV0dXJuIGUrKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0pKX0sZX0oKSksT3Q9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihuKXtyZXR1cm4gZSYmZS5mb3JFYWNoKChmdW5jdGlvbihlKXtsdC5yZWdpc3RlcihlKX0pKSx0JiZ0LmZvckVhY2goKGZ1bmN0aW9uKGUpe050LmFkZExpc3RlbmVyKGUpfSkpLE50LmluaXQoKSxbMl19KSl9KSl9LGV9KCkpLFJ0PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmtleT1cInNlcnZlckNvbmZpZ1wiLHRoaXMuY2FjaGU9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuZG9Db2xsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQsbjtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihpKXtpZighdGhpcy5jYWNoZSl7Zm9yKG4gaW4gZT1JdC5oaUFnY1V0aWwuZ2V0Q29uZmlnKCksdD17fSxZZSl0W25dPXRoaXMuZ2V0VXJsKGUuc2VydmljZS5hbmFseXRpY3NbXCJjb2xsZWN0b3JfdXJsX1wiK24udG9Mb3dlckNhc2UoKV0pO3RoaXMuY2FjaGU9e3Byb2R1Y3RJZDplLmNsaWVudC5wcm9kdWN0X2lkLGFwcElkOmUuY2xpZW50LmFwcF9pZCxjbGllbnRJZDplLmNsaWVudC5jbGllbnRfaWQscGFja2FnZU5hbWU6ZS5jbGllbnQucGFja2FnZV9uYW1lfHxlLmNsaWVudC5hcHBfaWQscmVzb3VyY2VJZDplLnNlcnZpY2UuYW5hbHl0aWNzLnJlc291cmNlX2lkLGNvbGxlY3RvclVybHM6dCxhbmFseXRpY3NVcmw6dGhpcy5nZXRVcmwoZS5zZXJ2aWNlLmFuYWx5dGljcy5jb2xsZWN0b3JfdXJsKX19cmV0dXJuWzIsdGhpcy5jYWNoZV19KSl9KSl9LGUucHJvdG90eXBlLmdldFVybD1mdW5jdGlvbihlKXtpZihudWxsIT1lJiZcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm5cIlwiO3ZhciB0PShudWxsIT1lP2U6XCJcIikuc3BsaXQoXCIsXCIpWzBdO3JldHVybi9eaHR0cHM/OlxcL1xcLy8udGVzdCh0KXx8KHQ9XCJodHRwczovL1wiK3QpLFwiXCIhPT10JiZJdC5zZW5kVGFzay5pc1NlcnZlcldlYlYzKCkmJih0Kz1cIi93ZWJ2M1wiKSx0fSxlfSgpKSxMdD1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7UHQuaW5pdCgpLEF0LmluaXQoKX0sZS5wcm90b3R5cGUub25FdmVudD1mdW5jdGlvbigpe30sZX0oKSksJHQ9bmV3IGZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExLHRoaXMucmVtb3ZlUHJvdG9jb2w9ITAsdGhpcy5yZW1vdmVPcmlnaW49ITEsdGhpcy5yZW1vdmVBbGxQYXJhbXM9ITAsdGhpcy5yZW1vdmVQYXJhbXM9e3JlbW92ZVZhbHVlc09ubHk6ITAscGFyYW1zOnt9fSx0aGlzLnJlbW92ZUFuY2hvcj0hMCx0aGlzLnVybFBhdHRlcm5zPVtdLHRoaXMudXJsU2VwYXJhdG9ycz1cIjovLj89JiNcIn0sX3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHAodCxlKSx0LnByb3RvdHlwZS5yZXBvcnRJbml0RXZlbnRzPWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLnJlcG9ydEluaXRFdmVudHMuY2FsbCh0aGlzLHQpLHRoaXMucmVnaXN0ZXJLaXRTZGsoKX0sdC5wcm90b3R5cGUuc2V0Q29sbGVjdEFkc0lkRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluaXRQcm9taXNlXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFdlLnNhdmVDbGllbnRWYWx1ZShcIkhXX2hhX2NsaWVudE9haWRGbGFnXCIsU3RyaW5nKGUpKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5zZXRSb3V0ZVBvbGljeT1mdW5jdGlvbih0KXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxlLnByb3RvdHlwZS5zZXRSb3V0ZVBvbGljeS5jYWxsKHRoaXMsdCldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksdGhpcy5yZWZyZXNoS2l0U2RrKCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUucmVnaXN0ZXJLaXRTZGs9ZnVuY3Rpb24oKXt2YXIgZT17X3Jlc3RyaWN0aW9uX2VuYWJsZWQ6V2UuZ2V0Q2xpZW50VmFsdWUoQWUpLF9yZXN0cmljdGlvbl9zaGFyZWQ6V2UuZ2V0Q2xpZW50VmFsdWUobWUpLHJlZ2lvbjp2dC5nZXRSb3V0ZVBvbGljeSgpfSx0PXthZ2NVcmw6dnQuZ2V0Q29uZmlnKHVlLkFOQUxZVElDU19VUkwpLGFwcGlkOnZ0LmdldENvbmZpZyh1ZS5BUFBfSUQpLGFhaWQ6dnQuZ2V0QUFJRCgpLHBrZ05hbWU6dnQuZ2V0Q29uZmlnKHVlLlBLR19OQU1FKXx8XCJcIixwYXJhbXM6SlNPTi5zdHJpbmdpZnkoZSl9LG49e3VyaTpcImhpYW5hbHl0aWNzLmFuYWx5dGljc0V2dFNlcnZpY2VcIixyZXF1ZXN0SnNvbjpKU09OLnN0cmluZ2lmeSh0KSx0cmFuc2FjdElkOlwiMVwiLHNlcnZpY2VfYWN0aW9uOlwiXCIsYXBpX25hbWU6XCJoaWFuYWx5dGljcy5BUElcIixzdWJJZDp2dC5nZXRDb25maWcodWUuQVBQX0lEKSxhcGlfbGV2ZWw6MSxraXRfc2RrX3ZlcnNpb246MSxtaW5fYXBrX3ZlcnNpb246MX07aS5pbnZva2Uoe2FwaU5hbWU6XCJiZy5yZXF1ZXN0XCIsYXJnczpuLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7SXQuaGlMb2cuaW5mbyhcInJlZ2lzdGVyS2l0U2RrIHN1Y2Nlc3NcIil9LGZhaWw6ZnVuY3Rpb24oZSl7ZS5lcnJDb2RlLGUuZXJyTXNnLEl0LmhpTG9nLmluZm8oXCJyZWdpc3RlcktpdFNkayBmYWlsXCIpfX0pfSx0LnByb3RvdHlwZS5yZWZyZXNoS2l0U2RrPWZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInNldEtpdEVuYWJsZVwiLHBrZ19uYW1lOnZ0LmdldENvbmZpZyh1ZS5QS0dfTkFNRSl8fFwiXCIsXCIzcmRfYWFpZFwiOnZ0LmdldEFBSUQoKSxhcHBfaWQ6dnQuZ2V0Q29uZmlnKHVlLkFQUF9JRCksZW5hYmxlX2NvbGxlY3Q6V2UuZ2V0Q2xpZW50VmFsdWUoSWUpLF9yZXN0cmljdGlvbl9lbmFibGVkOldlLmdldENsaWVudFZhbHVlKEFlKSxfcmVzdHJpY3Rpb25fc2hhcmVkOldlLmdldENsaWVudFZhbHVlKG1lKSxfcmVnaW9uOnZ0LmdldFJvdXRlUG9saWN5KCl9LHQ9e3VyaTpcImhpYW5hbHl0aWNzLmFuYWx5dGljc0ludm9rZVNlcnZpY2VcIixyZXF1ZXN0SnNvbjpKU09OLnN0cmluZ2lmeShlKSx0cmFuc2FjdElkOlwiMVwiLHNlcnZpY2VfYWN0aW9uOlwiXCIsYXBpX25hbWU6XCJoaWFuYWx5dGljcy5BUElcIixzdWJJZDp2dC5nZXRDb25maWcodWUuQVBQX0lEKSxhcGlfbGV2ZWw6MSxraXRfc2RrX3ZlcnNpb246MSxtaW5fYXBrX3ZlcnNpb246MX07aS5pbnZva2Uoe2FwaU5hbWU6XCJiZy5yZXF1ZXN0XCIsYXJnczp0LHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7SXQuaGlMb2cuaW5mbyhcInJlZnJlc2hLaXRTZGsgc3VjY2Vzc1wiKX0sZmFpbDpmdW5jdGlvbihlKXtlLmVyckNvZGUsZS5lcnJNc2csSXQuaGlMb2cuaW5mbyhcInJlZnJlc2hLaXRTZGsgZmFpbFwiKX19KX0sdH0oZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49dGhpcztJdC5zZXRIaUFuYWx5dGljcyh0aGlzKSx0aGlzLnByZUNvbmZpZ1Byb21pc2U9dGhpcy5wcmVDb25maWcoZSx0KSx0aGlzLnByZVN0b3JhZ2VQcm9taXNlPVdlLmluaXQoKSx0aGlzLmluaXRQcm9taXNlPXRoaXMuaW5pdFNESyhlKSx0aGlzLmluaXRQcm9taXNlLnRoZW4oKGZ1bmN0aW9uKCl7SXQuaGlMb2cuaW5mbyhcImluaXQgc3VjY2Vzc1wiKSxuLmluaXREb25lKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe0l0LmhpTG9nLndhcm4oc3QsZXQuY29kZSxldC5tZXNzYWdlKX0pKX1yZXR1cm4gZS5wcm90b3R5cGUucHJlQ29uZmlnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsSXQuaGlBZ2NVdGlsLmluaXQoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSx2dC5pbml0RGVidWdNb2RlKGd0LmRlYnVnTW9kZSxndC50ZXJtaW5hbE5hbWUpLHZ0LmluaXRMb2dMZXZlbChndC5sb2dEaXNhYmxlZCxndC5sb2dMZXZlbCksdnQudXJsQ2x1c3RlcmluZ09wdGlvbnM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSgkdCkpLHZ0LmFkZENvbmZpZyhcImxhdW5jaEFwcFRpbWVcIiwobmV3IERhdGUpLmdldFRpbWUoKSksWzIsdnQuY2hlY2tBZ2NDb25maWcoKV19fSkpfSkpfSxlLnByb3RvdHlwZS5pbml0RG9uZT1mdW5jdGlvbigpe0F0LmluaXRpYWxpemVkPSEwLEF0LnByb2Nlc3NFdmVudHNSZWNlaXZlZCgpLEl0LnNlbmRQb2xpY3kuZXZlbnRVcGxvYWRQb2xpY3lTY2hlZHVsZVRpbWUoKSxJdC5zZW5kUG9saWN5LmxvZ1VwbG9hZFBvbGljeVNjaGVkdWxlVGltZSgpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7SXQuc2VuZFBvbGljeS5ldmVudFVwbG9hZFBvbGljeUxhdW5jaCgpLEl0LnNlbmRQb2xpY3kubG9nVXBsb2FkUG9saWN5TGF1bmNoKCl9KSw1MCksc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7SXQuc2VuZFBvbGljeS5ldmVudFVwbG9hZFBvbGljeVRocmVzaG9sZCgpLEl0LnNlbmRQb2xpY3kubG9nVXBsb2FkUG9saWN5VGhyZXNob2xkKCl9KSwxZTMpfSxlLnByb3RvdHlwZS5pbml0U0RLPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG47cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gSXQuaGlBdXRvUmVwb3J0LmluaXRBdXRvRXZlbnRzKCksWzQsdGhpcy5wcmVDb25maWdQcm9taXNlXTtjYXNlIDE6cmV0dXJuIGkuc2VudCgpP1s0LHRoaXMucHJlU3RvcmFnZVByb21pc2VdOlsyLFByb21pc2UucmVqZWN0KCldO2Nhc2UgMjpyZXR1cm4gaS5zZW50KCksV2UuaGFuZGxlU2Vzc2lvblZhbHVlKCksdnQuY2FtcGFpZ25QdXNoSW5mbz1JdC5oaUNsaWVudC5nZXRDYW1wYWlnblB1c2hJbmZvKCksWzQsT3QuaW5pdChbUnQsZHRdLFtMdF0pXTtjYXNlIDM6cmV0dXJuIGkuc2VudCgpLFs0LHZ0LmluaXQoKV07Y2FzZSA0OnJldHVybiBpLnNlbnQoKSxtdC5pbml0KCksWzQsSXQuc2VuZFRhc2suaW5pdCgpXTtjYXNlIDU6cmV0dXJuIGkuc2VudCgpLFs0LEl0LnNlbmRMb2dUYXNrLmluaXQoKV07Y2FzZSA2OnJldHVybiBpLnNlbnQoKSx2dC5pbml0UHJldlNjcmVlbigpLFs0LGx0LmNvbGxlY3QoY3QpXTtjYXNlIDc6cmV0dXJuKGU9aS5zZW50KCkpW2N0XSYmKHZ0LmFkZENvbmZpZyhcImFhaWRcIixlW2N0XSksdnQuc2V0SXNUZXN0RGV2aWNlKCkpLFVlKHQ9V2UuZ2V0Q2xpZW50VmFsdWUoTmUpKT8odD1cInRydWVcIixuPShuZXcgRGF0ZSkuZ2V0VGltZSgpLFdlLnNhdmVDbGllbnRWYWx1ZShcIkhXX2hhX2ZpcnN0T3BlblRpbWVcIixTdHJpbmcobikpLFdlLnNhdmVDbGllbnRWYWx1ZShOZSx0KSk6XCJ0cnVlXCI9PT10JiYodD1cImZhbHNlXCIsV2Uuc2F2ZUNsaWVudFZhbHVlKE5lLHQpKSx2dC5nZXROZXdVc2VyRmxhZygpLHRoaXMucmVwb3J0SW5pdEV2ZW50cyh0KSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZXBvcnRJbml0RXZlbnRzPWZ1bmN0aW9uKGUpe1widHJ1ZVwiPT09ZSYmUHQucmVwb3J0Rmlyc3RPcGVuRXZlbnQoKSxJdC5oaUF1dG9SZXBvcnQuaW5pdEV2ZW50VHJpZ2dlcnMoKX0sZS5wcm90b3R5cGUuZGVzdHJveVNESz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2V0QW5hbHl0aWNzRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluaXRQcm9taXNlXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLEF0LnNldEFuYWx5dGljc0VuYWJsZWQoZSksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0UmVzdHJpY3Rpb25FbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuaW5pdFByb21pc2VdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksQXQuc2V0UmVzdHJpY3Rpb25FbmFibGVkKGUpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLmlzUmVzdHJpY3Rpb25FbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbml0UHJvbWlzZV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMixBdC5pc1Jlc3RyaWN0aW9uRW5hYmxlZCgpXX19KSl9KSl9LGUucHJvdG90eXBlLnNldFJlc3RyaWN0aW9uU2hhcmVkPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuaW5pdFByb21pc2VdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksQXQuc2V0UmVzdHJpY3Rpb25TaGFyZWQoZSksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuaXNSZXN0cmljdGlvblNoYXJlZD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuaW5pdFByb21pc2VdO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzIsQXQuaXNSZXN0cmljdGlvblNoYXJlZCgpXX19KSl9KSl9LGUucHJvdG90eXBlLnNldFVzZXJJZD1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluaXRQcm9taXNlXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLEF0LnJlcG9ydEZsYWc/KG10LnNldFVzZXJJZChlKSxbMl0pOlsyXX19KSl9KSl9LGUucHJvdG90eXBlLnNldFVzZXJQcm9maWxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbml0UHJvbWlzZV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxBdC5yZXBvcnRGbGFnPyh2dC5zZXRVc2VyUHJvZmlsZShlLHQpLFsyXSk6WzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0VXNlclByb2ZpbGVzPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuaW5pdFByb21pc2VdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksQXQucmVwb3J0RmxhZz9bMix2dC5nZXRVc2VyUHJvZmlsZXMoZSldOlsyLHt9XX19KSl9KSl9LGUucHJvdG90eXBlLnBhZ2VTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluaXRQcm9taXNlXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLEF0LnJlcG9ydEZsYWc/KHZ0LnBhZ2VTdGFydChlKSxbMl0pOlsyXX19KSl9KSl9LGUucHJvdG90eXBlLnBhZ2VFbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbml0UHJvbWlzZV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxBdC5yZXBvcnRGbGFnPyh2dC5wYWdlRW5kKGUpLFsyXSk6WzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0U2Vzc2lvbkR1cmF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHJlQ29uZmlnUHJvbWlzZV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxBdC5yZXBvcnRGbGFnPyhOdW1iZXIuaXNJbnRlZ2VyKGUpJiZtdC5zZXRTZXNzaW9uRHVyYXRpb24oZSksWzJdKTpbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5vbkV2ZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbml0UHJvbWlzZV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxBdC5yZXBvcnRGbGFnPyhuPXtpc1Jlc2VydmVkOl9lLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pKX0sQXQub25FdmVudChlLHQsbiksWzJdKTooSXQuaGlMb2cud2FybihzdCxaZS5jb2RlLFplLm1lc3NhZ2UpLFsyXSl9fSkpfSkpfSxlLnByb3RvdHlwZS5zZXRBcHBWZXJzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHJlQ29uZmlnUHJvbWlzZV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxBdC5yZXBvcnRGbGFnP2l0LmNoZWNrU3RyaW5nKHN0LFwiYXBwIHZlcnNpb25cIixlLEopPyh2dC5hZGRDb25maWcoXCJhcHBWZXJzaW9uXCIsZSksWzJdKTpbMl06WzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0QUFJRD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuaW5pdFByb21pc2VdO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzIsdnQuZ2V0QUFJRCgpXX19KSl9KSl9LGUucHJvdG90eXBlLmFkZERlZmF1bHRFdmVudFBhcmFtcz1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluaXRQcm9taXNlXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLEF0LnJlcG9ydEZsYWc/KEF0LmFkZERlZmF1bHRFdmVudFBhcmFtcyhlKSxbMl0pOlsyXX19KSl9KSl9LGUucHJvdG90eXBlLndyaXRlTG9nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbml0UHJvbWlzZV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxBdC5yZXBvcnRGbGFnPyhBdC53cml0ZUxvZyhlLHQpLFsyXSk6KEl0LmhpTG9nLndhcm4oc3QsWmUuY29kZSxaZS5tZXNzYWdlKSxbMl0pfX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0Um91dGVQb2xpY3k9ZnVuY3Rpb24oZSl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluaXRQcm9taXNlXTtjYXNlIDE6cmV0dXJuIGkuc2VudCgpLHQ9dnQuZ2V0Um91dGVQb2xpY3koKSx2dC5zZXRSb3V0ZVBvbGljeShlKSxuPXZ0LmdldFJvdXRlUG9saWN5KCksdD09PW4/WzJdOihBdC5yZXBvcnRGbGFnfHxJdC5zZW5kVGFzay5jbGVhckRhdGEodCksWzQsdnQudXBkYXRlQW5hbHl0aWNzVXJsKCldKTtjYXNlIDI6cmV0dXJuIGkuc2VudCgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnNldFJlcG9ydFBvbGljaWVzPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHJlQ29uZmlnUHJvbWlzZV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSx0PXt9LFwibnVtYmVyXCIhPXR5cGVvZiBlLk9OX1NDSEVEVUxFRF9USU1FX1BPTElDWT90Lk9OX1NDSEVEVUxFRF9USU1FX1BPTElDWT1DdC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1k6ZS5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1k8dmU/dC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1k9dmU6ZS5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1k+Q2U/dC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1k9Q2U6dC5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1k9ZS5PTl9TQ0hFRFVMRURfVElNRV9QT0xJQ1ksXCJudW1iZXJcIiE9dHlwZW9mIGUuT05fQ0FDSEVfVEhSRVNIT0xEX1BPTElDWT90Lk9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1k9Q3QuT05fQ0FDSEVfVEhSRVNIT0xEX1BPTElDWTplLk9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1k8VGU/dC5PTl9DQUNIRV9USFJFU0hPTERfUE9MSUNZPVRlOmUuT05fQ0FDSEVfVEhSRVNIT0xEX1BPTElDWT5TZT90Lk9OX0NBQ0hFX1RIUkVTSE9MRF9QT0xJQ1k9U2U6dC5PTl9DQUNIRV9USFJFU0hPTERfUE9MSUNZPWUuT05fQ0FDSEVfVEhSRVNIT0xEX1BPTElDWSxXZS5zYXZlQ2xpZW50VmFsdWUoXCJIV19oYV9ldmVudFVwbG9hZFBvbGljeVwiLHQpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLm9uUmVwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5wcmVDb25maWdQcm9taXNlXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLFsyLEF0Lm9uUmVwb3J0KCldfX0pKX0pKX0sZX0oKSksRHQ9ZnVuY3Rpb24oZSx0LG4saSl7aSYmKGkuJDEmJihuPW4ucmVwbGFjZShcIiQxXCIsaS4kMSkpLGkuJDImJihuPW4ucmVwbGFjZShcIiQyXCIsaS4kMikpKTt2YXIgcj1bXTtyZXR1cm4gZSYmci5wdXNoKGUpLHQmJnIucHVzaCh0KSxuJiZyLnB1c2gobiksVXQrXCIgPT4gXCIrci5qb2luKFwifFwiKX0sVXQ9XCJPcGVubmVzc1NES1wiLE10PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oZSx0KXtpZihGZSh0aGlzLmdlbmVyYXRlTGV2ZWxzKHZ0LmxvZ0xldmVsKSxHZS5JTkZPKSl7dmFyIG49RHQobnVsbCxudWxsLGUsdCk7dGhpcy5wcmludEluZm8obil9fSxlLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKGUsdCxuLGkpe2lmKEZlKHRoaXMuZ2VuZXJhdGVMZXZlbHModnQubG9nTGV2ZWwpLEdlLldBUk4pKXt2YXIgcj1EdChlLHQsbixpKTt0aGlzLnByaW50V2FybihyKSxpJiZpLiRlcnJvciYmdGhpcy5wcmludEVycm9yKGkuJGVycm9yKX19LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUsdCxuLGkpe2lmKEZlKHRoaXMuZ2VuZXJhdGVMZXZlbHModnQubG9nTGV2ZWwpLEdlLkVSUk9SKSl7dmFyIHI9RHQoZSx0LG4saSk7dGhpcy5wcmludEVycm9yKHIpLGkmJmkuJGVycm9yJiZ0aGlzLnByaW50RXJyb3IoaS4kZXJyb3IpfX0sZS5wcm90b3R5cGUuZ2VuZXJhdGVMZXZlbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1HZS5JTkZPP1tHZS5JTkZPLEdlLldBUk4sR2UuRVJST1JdOmU9PT1HZS5XQVJOP1tHZS5XQVJOLEdlLkVSUk9SXTplPT09R2UuRVJST1I/W0dlLkVSUk9SXTpbXX0sZS5wcm90b3R5cGUucHJpbnRJbmZvPWZ1bmN0aW9uKGUpe2NvbnNvbGUuaW5mbyhlKX0sZS5wcm90b3R5cGUucHJpbnRXYXJuPWZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihlKX0sZS5wcm90b3R5cGUucHJpbnRFcnJvcj1mdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKGUpfSxlfSgpKSxrdD1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5pbml0QXV0b0V2ZW50cz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaW5pdEV2ZW50VHJpZ2dlcnM9ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlQ2hlY2tBZGRTaG9ydGN1dFN0YXRlKCksUHQucmVwb3J0TGF1bmNoQXBwRXZlbnQoKSxQdC5yZXBvcnRDYW1wYWlnblB1c2hJbmZvRXZlbnQoKX0sZS5wcm90b3R5cGUuc2NoZWR1bGVDaGVja0FkZFNob3J0Y3V0U3RhdGU9ZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmhhc0luc3RhbGxlZCl7Y2xlYXJJbnRlcnZhbCh0aGlzLnNjaGVkdWxlSWQpO3ZhciBlPXRoaXMuZ2V0U3RvcmFnZUV4aXN0U2hvcnRjdXQoKTtlP1wiMVwiPT09ZSYmdGhpcy5zdWJtaXRBZGRRdWlja0FwcEV2ZW50KCk6KHRoaXMuY2hlY2tTdGF0ZSgpLHRoaXMuc2NoZWR1bGVDaGVja1N0YXRlKCkpfX0sZS5wcm90b3R5cGUuc2NoZWR1bGVDaGVja1N0YXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmdldENoZWNrSW5mbygpLmlzQ2hlY2smJih0aGlzLnNjaGVkdWxlSWQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5jaGVja1N0YXRlKCl9KSwzZTUpKX0sZS5wcm90b3R5cGUuY2hlY2tTdGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldENoZWNrSW5mbygpLG49dC5pc0NoZWNrLGk9dC5jaGVja0NvdW50O24/KHIuaGFzSW5zdGFsbGVkKHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3QmJihXZS5zYXZlQ2xpZW50VmFsdWUoXCJIV19oYV9leGlzdFNob3J0Y3V0XCIsXCIxXCIpLGUuc3VibWl0QWRkUXVpY2tBcHBFdmVudCgpLGNsZWFySW50ZXJ2YWwoZS5zY2hlZHVsZUlkKSl9fSksdnQuYWRkQ29uZmlnKFwiY2hlY2tBZGRTaG9ydGN1dENvdW50XCIsaSsxKSk6Y2xlYXJJbnRlcnZhbCh0aGlzLnNjaGVkdWxlSWQpfSxlLnByb3RvdHlwZS5nZXRDaGVja0luZm89ZnVuY3Rpb24oKXt2YXIgZT12dC5nZXRDb25maWcoXCJjaGVja0FkZFNob3J0Y3V0Q291bnRcIil8fDA7cmV0dXJue2lzQ2hlY2s6ZTw0LGNoZWNrQ291bnQ6ZX19LGUucHJvdG90eXBlLnN1Ym1pdEFkZFF1aWNrQXBwRXZlbnQ9ZnVuY3Rpb24oKXtpZighSXQuc2VuZFRhc2suZXZlbnRNb2RlbHMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZlbnQ9PT0kZS5BRERfUVVJQ0tfQVBQfSkpKXtBdC5vbkV2ZW50KCRlLkFERF9RVUlDS19BUFAse30se2ltbWVkaWF0ZWx5OiExLGlzUmVzZXJ2ZWQ6ITB9KX19LGUucHJvdG90eXBlLnVwZGF0ZUFkZFNob3J0Y3V0U3RhdGU9ZnVuY3Rpb24oKXtXZS5zYXZlQ2xpZW50VmFsdWUoXCJIV19oYV9leGlzdFNob3J0Y3V0XCIsXCIyXCIpfSxlLnByb3RvdHlwZS5nZXRTdG9yYWdlRXhpc3RTaG9ydGN1dD1mdW5jdGlvbigpe3JldHVybiBXZS5nZXRDbGllbnRWYWx1ZShcIkhXX2hhX2V4aXN0U2hvcnRjdXRcIil9LGUucHJvdG90eXBlLmlzTGF1bmNoVXBsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGV9KCkpLHd0PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnVybD1cIlwifXJldHVybiBlLnByb3RvdHlwZS5vbkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixhKXt2YXIgcz0obnVsbD09bj92b2lkIDA6bi51cmwpfHxpLnVybDtvKHt1cmw6cyxtZXRob2Q6XCJQT1NUXCIsZGF0YTpKU09OLnN0cmluZ2lmeShlKSxzdWNjZXNzOmZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuY29kZXx8MjAwO3Q+PTIwMCYmdDwzMDA/cigpOmEoXCJyZXN1bHRDb2RlOiBcIit0KX0sZmFpbDpmdW5jdGlvbihlKXtyZXR1cm4gYShlKX0saGVhZGVyOnR9KX0pKX0sZS5wcm90b3R5cGUuc2V0VXJsPWZ1bmN0aW9uKGUpe3RoaXMudXJsPWV9LGV9KCkpO3ZhciBIdD1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5nZXRSZWZlcnJlcj1mdW5jdGlvbigpe3JldHVyblwiXCJ9LGUucHJvdG90eXBlLmdldEhyZWY9ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxlLnByb3RvdHlwZS5nZXRIb3N0PWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRpdGxlPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0sZS5wcm90b3R5cGUuZ2V0VUFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldFN0YXJ0VHlwZT1mdW5jdGlvbigpe3JldHVybigoYS5nZXRJbmZvKCl8fHt9KS5zb3VyY2V8fHt9KS5wYWNrYWdlTmFtZXx8XCJcIn0sZS5wcm90b3R5cGUuZ2V0U3RhcnRTY2VuZT1mdW5jdGlvbigpe3ZhciBlPShhLmdldEluZm8oKXx8e30pLnNvdXJjZXx8e30sdD1lLnR5cGV8fFwiXCI7cmV0dXJuXCJzaG9ydGN1dFwiPT09dD90K1wiLVwiKygoZS5leHRyYXx8e30pLnNjZW5lfHxcIlwiKTp0fSxlLnByb3RvdHlwZS5nZXRMaWJUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuXCJxdWlja0FwcFwifSxlLnByb3RvdHlwZS5nZXRPYWlkPWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMuZ2V0T0FJRClyZXR1cm4gZShcIlwiKTtzLmdldE9BSUQoe3N1Y2Nlc3M6ZnVuY3Rpb24odCl7ZSh0JiZ0Lm9haWR8fFwiXCIpfSxmYWlsOmZ1bmN0aW9uKGUsbil7SXQuaGlMb2cud2FybihVdCxcIlwiLFwiZ2V0T0FJRCBmYWlsLCBjb2RlOiBcIituK1wiLCBtZXNzYWdlOiBcIitlKSx0KGUpfX0pfSkpXX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0T2FpZFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMixQcm9taXNlLnJlc29sdmUoXCJvYWlkXCIpXX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0Q2xpZW50T2FpZEZsYWc9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxJdC5oaUFuYWx5dGljcy5wcmVTdG9yYWdlUHJvbWlzZV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMixcInRydWVcIj09PShXZS5nZXRDbGllbnRWYWx1ZShcIkhXX2hhX2NsaWVudE9haWRGbGFnXCIpfHxcInRydWVcIildfX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0U3lzdGVtT2FpZEZsYWc9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXMuYWxsb3dUcmFja09BSUQ/WzIsITFdOihlPSFzLmFsbG93VHJhY2tPQUlELFsyLFByb21pc2UucmVzb2x2ZShlKV0pfSkpfSkpfSxlLnByb3RvdHlwZS5nZXRTZXJ2ZXJPYWlkRmxhZz1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbixpLHIsYTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybls0LEl0LmhpQW5hbHl0aWNzLnByZVN0b3JhZ2VQcm9taXNlXTtjYXNlIDE6cmV0dXJuIHMuc2VudCgpLFs0LFJ0LmRvQ29sbGVjdCgpXTtjYXNlIDI6cmV0dXJuIHMuc2VudCgpLHQ9SXQuaGlBZ2NVdGlsLmdldENvbmZpZygpLG49dC5yZWdpb24sKGU9bnVsbCE9ZT9lOnZ0LmdldFJvdXRlUG9saWN5KCkpIT09WWUuREU/WzMsNV06TWUoaT1XZS5nZXRDbGllbnRWYWx1ZShcIkhXX2hhX2dldENvbmZpZ1RpbWVcIikpJiZEYXRlLm5vdygpLU51bWJlcihpKTw9ODY0ZTU/KHI9V2UuZ2V0Q2xpZW50VmFsdWUoUGUpfHxcImZhbHNlXCIsWzIsUHJvbWlzZS5yZXNvbHZlKFwidHJ1ZVwiPT09cildKTpbNCx2dC5nZXRIYVNka1Rva2VuKCldO2Nhc2UgMzpyZXR1cm4oYT1zLnNlbnQoKSk/WzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsaSl7dmFyIHIscyxjPVwiXCI7aWYobj09PVllLkRFJiYoYz0obnVsbCE9PShyPXQuc2VydmljZS5hbmFseXRpY3MuY29sbGVjdG9yX3VybCkmJnZvaWQgMCE9PXI/cjpcIlwiKS5zcGxpdChcIixcIilbMF0pLFVlKGMpJiYoYz0obnVsbCE9PShzPXQuc2VydmljZS5hbmFseXRpY3MuY29sbGVjdG9yX3VybF9kZSkmJnZvaWQgMCE9PXM/czpcIlwiKS5zcGxpdChcIixcIilbMF0pLFVlKGMpKWUoe29haWRGbGFnOiExfSk7ZWxzZXt2YXIgdT1cImh0dHBzOi8vXCIrYytcIi9hbmFseXRpY3MvYXBpL2NvbmZpZz9jb25maWdfa2V5PW9haWRfZmxhZ1wiLGw9e307bFtrXT12dC5nZXRDb25maWcoXCJjbGllbnRJZFwiKSxsW01dPXZ0LmdldENvbmZpZyhcInByb2R1Y3RJZFwiKSxsW1VdPXZ0LmdldENvbmZpZyhcInJlc291cmNlSWRcIiksbFtfXT1hLGxbQV09dnQuZ2V0Q29uZmlnKFwiYXBwSWRcIiksbyh7dXJsOnUsbWV0aG9kOlwiR0VUXCIsaGVhZGVyOmwsc3VjY2VzczpmdW5jdGlvbih0KXt2YXIgbj0hMSxpPXQmJnQuY29kZXx8MjAwO2lmKGk+PTIwMCYmaTwzMDApe3ZhciByPUpTT04ucGFyc2UodC5kYXRhKTtpZihcIjBcIj09PXIucmVzdWx0X2NvZGUpe1dlLnNhdmVDbGllbnRWYWx1ZShcIkhXX2hhX2dldENvbmZpZ1RpbWVcIixTdHJpbmcoRGF0ZS5ub3coKSkpO3ZhciBvPXIuY29uZmlnTGlzdHx8W107bj1vWzBdJiZcInRydWVcIj09PW9bMF0uY29uZmlnX3ZhbHVlfHwhMX19V2Uuc2F2ZUNsaWVudFZhbHVlKFBlLFN0cmluZyhuKSksZSh7b2FpZEZsYWc6bn0pfSxmYWlsOmZ1bmN0aW9uKCl7V2Uuc2F2ZUNsaWVudFZhbHVlKFBlLFwiZmFsc2VcIiksZSh7b2FpZEZsYWc6ITF9KX19KX19KSldOlsyLFByb21pc2UucmVzb2x2ZSghMSldO2Nhc2UgNDpyZXR1cm5bMixzLnNlbnQoKS5vYWlkRmxhZ107Y2FzZSA1OnJldHVyblsyLFByb21pc2UucmVzb2x2ZSghMCldfX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0Q2FtcGFpZ25QdXNoSW5mbz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5pc09ubGluZT1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMiwhMF19KSl9KSl9LGV9KCkpO3ZhciBidD1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5nZW5lcmF0ZVVzZXJDb21tb25Qcm9wZXJ0eT1mdW5jdGlvbihlKXt2YXIgdCxuLGkscixvLGM7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB1LGwsZCxwLGgsZyxFLHYsQyxULFMseSxJLEE7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUuc3lzdGVtT2FpZEZsYWcpfHx2b2lkIDA9PT10P1szLDFdOihsPXQsWzMsM10pO2Nhc2UgMTpyZXR1cm5bNCxJdC5oaUNsaWVudC5nZXRTeXN0ZW1PYWlkRmxhZygpXTtjYXNlIDI6bD1mLnNlbnQoKSxmLmxhYmVsPTM7Y2FzZSAzOnJldHVybiB1PWwsbnVsbD09PShuPW51bGw9PWU/dm9pZCAwOmUuY2xpZW50T2FpZEZsYWcpfHx2b2lkIDA9PT1uP1szLDRdOihwPW4sWzMsN10pO2Nhc2UgNDpyZXR1cm4oaD11KT9bNCxJdC5oaUNsaWVudC5nZXRDbGllbnRPYWlkRmxhZygpXTpbMyw2XTtjYXNlIDU6aD1mLnNlbnQoKSxmLmxhYmVsPTY7Y2FzZSA2OnA9aCxmLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBkPXAsbnVsbD09PShpPW51bGw9PWU/dm9pZCAwOmUuc2VydmVyT2FpZEZsYWcpfHx2b2lkIDA9PT1pP1szLDhdOihFPWksWzMsMTFdKTtjYXNlIDg6cmV0dXJuKHY9dSk/WzQsSXQuaGlDbGllbnQuZ2V0U2VydmVyT2FpZEZsYWcoKV06WzMsMTBdO2Nhc2UgOTp2PWYuc2VudCgpLGYubGFiZWw9MTA7Y2FzZSAxMDpFPXYsZi5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBnPUUsQz1kJiZnP1N0cmluZyh1KTpcIlwiLHRoaXMuaW1tdXRhYmxlUHJvcGVydGllcz9bMywxM106KFQ9YS5nZXRJbmZvKCksWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7cy5nZXRJbmZvKHtzdWNjZXNzOmZ1bmN0aW9uKHQpe2UodCl9LGZhaWw6ZnVuY3Rpb24oZSxuKXtJdC5oaUxvZy53YXJuKFV0LFwiXCIsXCJnZXRJbmZvIGZhaWwsIGNvZGU6IFwiK24rXCIsIG1lc3NhZ2U6IFwiK2UpLHQoZSl9fSl9KSldKTtjYXNlIDEyOlM9Zi5zZW50KCkseT1udWxsIT09KG89bnVsbCE9PShyPVMuY2hhcmFjdGVyaXN0aWNzKSYmdm9pZCAwIT09cj9yOlMuZGV2aWNlVHlwZSkmJnZvaWQgMCE9PW8/bzpcIlwiLHRoaXMuaW1tdXRhYmxlUHJvcGVydGllcz17X21vZGVsOlMubW9kZWwsX2xpYl92ZXI6XCI2LjEwLjAtMzAxXCIsX2xpYl9uYW1lOlwiaGlhbmFseXRpY3NcIixfbGliX3R5cGU6SXQuaGlDbGllbnQuZ2V0TGliVHlwZSgpLF9zeXNfbGFuZ3VhZ2U6Uy5sYW5ndWFnZSxfb3M6Uy5vc1R5cGUsX29zX3ZlcjpTLm9zVmVyc2lvbk5hbWUsX3NjcmVlbl9oZWlnaHQ6Uy5zY3JlZW5IZWlnaHQsX3NjcmVlbl93aWR0aDpTLnNjcmVlbldpZHRoLF9maXJzdF9vcGVuX3RpbWU6V2UuZ2V0Q2xpZW50VmFsdWUoXCJIV19oYV9maXJzdE9wZW5UaW1lXCIpLF9pc190ZXN0ZGV2aWNlOnZ0LmlzVGVzdERldmljZSgpLF9kZXZpY2VfY2F0ZWdvcnk6eS5zcGxpdChcIixcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiIT09ZT9cInF1aWNrQVBQLlwiK2U6ZX0pKS5qb2luKFwifFwiKSxfcGFja2FnZV9uYW1lOm51bGwhPT0oYz1JdC5oaUFnY1V0aWwuZ2V0Q29uZmlnKCkuY2xpZW50LnBhY2thZ2VfbmFtZSkmJnZvaWQgMCE9PWM/YzpULnBhY2thZ2VOYW1lfSxmLmxhYmVsPTEzO2Nhc2UgMTM6cmV0dXJuIEE9e19uZXdfdXNlcl9mbGFnOnZ0LmdldE5ld1VzZXJGbGFnKCksX3NpZ25lZDpOdW1iZXIoV2UuZ2V0Q2xpZW50VmFsdWUoXCJIV19oYV9leGlzdFVzZXJJZFwiKXx8Z2UpLF9yZXN0cmljdGlvbl9lbmFibGVkOlN0cmluZyhBdC5pc1Jlc3RyaWN0aW9uRW5hYmxlZCgpKX0sWzQsdnQucmVzb2x2ZVRlcm1pbmFsTmFtZSgpXTtjYXNlIDE0OnJldHVybiBBLl90ZXJtaW5hbF9uYW1lPWYuc2VudCgpLEEuX2FwcF92ZXI9dnQuZ2V0Q29uZmlnKFwiYXBwVmVyc2lvblwiKXx8XCIxLjAuMFwiLEEuX29haWRfdHJhY2tpbmdfZmxhZz1DLEk9QSx2dC5nZXRSb3V0ZVBvbGljeSgpPT09WWUuQ04mJihJLl9yZXN0cmljdGlvbl9zaGFyZWQ9U3RyaW5nKEF0LmlzUmVzdHJpY3Rpb25TaGFyZWQoKSkpLFsyLE9iamVjdC5hc3NpZ24oSSx0aGlzLmltbXV0YWJsZVByb3BlcnRpZXMpXX19KSl9KSl9LGV9KCkpO2Z1bmN0aW9uIFZ0KGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtjLmdldCh7a2V5OmUsc3VjY2VzczpmdW5jdGlvbihlKXt0KGUpfSxmYWlsOmZ1bmN0aW9uKHQsaSl7SXQuaGlMb2cud2FybihVdCxcIlwiLFwiZ2V0Q2xpZW50VmFsdWUgZmFpbCwga2V5OiBcIitlK1wiLCBjb2RlOiBcIitpK1wiLCBtZXNzYWdlOiBcIit0KSxuKG5ldyBFcnJvcihcImdldCBmcm9tIHN0b3JhZ2UgZmFpbGVkXCIpKX19KX0pKX1mdW5jdGlvbiBGdChlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXtjLnNldCh7a2V5OmUsdmFsdWU6dCxzdWNjZXNzOmZ1bmN0aW9uKCl7bigpfSxmYWlsOmZ1bmN0aW9uKHQsbil7SXQuaGlMb2cud2FybihVdCxcIlwiLFwic2F2ZUNsaWVudFZhbHVlIGZhaWwsIGtleTogXCIrZStcIiwgY29kZTogXCIrbitcIiwgbWVzc2FnZTogXCIrdCksaShuZXcgRXJyb3IoXCJzYXZlIHRvIHN0b3JhZ2UgZmFpbGVkXCIpKX19KX0pKX1mdW5jdGlvbiBHdChlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7Yy5kZWxldGUoe2tleTplLHN1Y2Nlc3M6ZnVuY3Rpb24oKXt0KCl9LGZhaWw6ZnVuY3Rpb24odCxpKXtJdC5oaUxvZy53YXJuKFV0LFwiXCIsXCJyZW1vdmVJdGVtIGZhaWwsIGtleTogXCIrZStcIiwgY29kZTogXCIraStcIiwgbWVzc2FnZTogXCIrdCksbihuZXcgRXJyb3IoXCJkZWxldGUgZnJvbSBzdG9yYWdlIGZhaWxlZFwiKSl9fSl9KSl9dmFyIFl0PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnNlc3Npb25EdXJhdGlvbj0xOGU1LHRoaXMuc2Vzc2lvblZhbHVlPVwiXCJ9cmV0dXJuIGUucHJvdG90eXBlLmdldENsaWVudFZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0U2F2ZWRPYmplY3QoZSldO2Nhc2UgMTpyZXR1cm4gdD1uLnNlbnQoKSwwPT09T2JqZWN0LmtleXModCkubGVuZ3RoP1syLFByb21pc2UucmVzb2x2ZShcIlwiKV06WzIsUHJvbWlzZS5yZXNvbHZlKHQudmFsdWUpXX19KSl9KSl9LGUucHJvdG90eXBlLmdldFNhdmVkT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuLGk9dGhpcztyZXR1cm4gZih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFZ0KGUpXTtjYXNlIDE6cmV0dXJuKHQ9ci5zZW50KCkpJiZXZS5pc1ZhbGlkU3RvcmVkSXRlbSh0LChmdW5jdGlvbigpe3JldHVybiBoKGksdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFZ0KGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpP1s0LEd0KGUpXTpbMywzXTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSkpP1wib2JqZWN0XCIhPXR5cGVvZihuPUpTT04ucGFyc2UodCkpP1syLFByb21pc2UucmVzb2x2ZSh7fSldOlsyLFByb21pc2UucmVzb2x2ZShuKV06WzIsUHJvbWlzZS5yZXNvbHZlKHt9KV19fSkpfSkpfSxlLnByb3RvdHlwZS5nZXRTYXZlZFN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuWzIsVnQoZSldfSkpfSkpfSxlLnByb3RvdHlwZS5pc0tleUV4aXN0PWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0Q2xpZW50VmFsdWUoZSldO2Nhc2UgMTpyZXR1cm4gdD1uLnNlbnQoKSxbMixQcm9taXNlLnJlc29sdmUoISF0KV19fSkpfSkpfSxlLnByb3RvdHlwZS5zYXZlQ2xpZW50VmFsdWU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBpPVdlLm1ha2VFeHBpcnlUaW1lKG4pLFs0LEZ0KGUsSlNPTi5zdHJpbmdpZnkoe3ZhbHVlOnQsZXhwaXJ5VGltZTppfSkpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24oZSl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRDbGllbnRWYWx1ZShlKV07Y2FzZSAxOnJldHVyblwiXCIhPT10LnNlbnQoKSYmR3QoZSksWzJdfX0pKX0pKX0sZX0oKSksQnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMudHlwZT1cIlwiLHRoaXMuZXZlbnQ9XCJcIix0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5ldmVudHRpbWU9MCx0aGlzLmV2ZW50X3Nlc3Npb25fbmFtZT1cIlwiLHRoaXMuZmlyc3Rfc2Vzc2lvbl9ldmVudD1cIlwiLHRoaXMuaWQ9XCJcIix0aGlzLnNlbmRTdGF0ZT1sZSx0aGlzLmNvbGxlY3Rpb25Vcmw9XCJcIix0aGlzLnJvdXRlUG9saWN5PVwiXCIsdGhpcy5pZD1udWxsIT1lP2U6SGUuY3JlYXRlKCl9cmV0dXJuIGUudG9NZW1vcnlFdmVudE1vZGVsPWZ1bmN0aW9uKGUpe3JldHVybiBiZShlLFtcInByb3BlcnRpZXNcIixcImV2ZW50dGltZVwiLFwiZXZlbnRfc2Vzc2lvbl9uYW1lXCIsXCJmaXJzdF9zZXNzaW9uX2V2ZW50XCJdKX0sZS50b1N0b3JhZ2VFdmVudE1vZGVsPWZ1bmN0aW9uKGUpe3JldHVybiBiZShlLFtcInNlbmRTdGF0ZVwiXSl9LGV9KCksV3Q9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaGVhZEFwcElkPVwiXCIsdGhpcy50aW1lc3RhbXA9MCx0aGlzLnNlcnZpY2VUYWc9SCx0aGlzLnNlcnZpY2VJZD1cImhtc2hpb3BlcnFydFwiLHRoaXMucmVxSUQ9XCJcIix0aGlzLnByb2R1Y3RJZD1cIlwifXJldHVybiBlLnByb3RvdHlwZS5zZXRIZWFkQXBwSWQ9ZnVuY3Rpb24oZSl7dGhpcy5oZWFkQXBwSWQ9ZX0sZS5wcm90b3R5cGUuc2V0VGltZXN0YW1wPWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPWV9LGUucHJvdG90eXBlLnNldFNlcnZpY2VUYWc9ZnVuY3Rpb24oZSl7dGhpcy5zZXJ2aWNlVGFnPWV9LGUucHJvdG90eXBlLnNldFNlcnZpY2VJZD1mdW5jdGlvbihlKXt0aGlzLnNlcnZpY2VJZD1lfSxlLnByb3RvdHlwZS5zZXRSZXFJRD1mdW5jdGlvbihlKXt0aGlzLnJlcUlEPWV9LGUucHJvdG90eXBlLnNldFByb2R1Y3RJZD1mdW5jdGlvbihlKXt0aGlzLnByb2R1Y3RJZD1lfSxlLnByb3RvdHlwZS5nZXRFdmVudEhlYWQ9ZnVuY3Rpb24oKXtyZXR1cm57cHJvdG9jb2xfdmVyc2lvbjpcIjFcIixzZXJ2aWNlaWQ6dGhpcy5zZXJ2aWNlSWQsYXBwaWQ6dGhpcy5oZWFkQXBwSWQsdGltZXN0YW1wOnRoaXMudGltZXN0YW1wLHNlcnZpY2V0YWc6dGhpcy5zZXJ2aWNlVGFnLHJlcXVlc3RpZDp0aGlzLnJlcUlELHByb2R1Y3RpZDp0aGlzLnByb2R1Y3RJZH19LGV9KCkpO3ZhciBLdCx4dCxqdD1ydCxKdD1vdCxxdD1hdCxRdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnNlc3Npb25GbGFnPVwiXCIsdGhpcy5ldmVudFVwbG9hZERhdGE9e30sdGhpcy5pc0luaXQ9ITF9cmV0dXJuIGUucHJvdG90eXBlLmdldEV2ZW50PWZ1bmN0aW9uKGUsdCxuLGkscil7dmFyIG8sYSxzLGM9bmV3IEJ0O2MucHJvcGVydGllcz10LGMuZXZlbnQ9ZSxjLmV2ZW50dGltZT1pLGMudHlwZT1uLGMuZmlyc3Rfc2Vzc2lvbl9ldmVudD1TdHJpbmcoIXRoaXMuaXNJbml0KSxjLmV2ZW50X3Nlc3Npb25fbmFtZT0oVWUocz1XZS5nZXRTZXNzaW9uVmFsdWUoKSkmJihXZS5oYW5kbGVTZXNzaW9uVmFsdWUoITAsITEpLHM9V2UuZ2V0U2Vzc2lvblZhbHVlKCkpLHMpLGMuc2VuZFN0YXRlPWRlLGMuY29sbGVjdGlvblVybD1udWxsIT09KG89ci51cmwpJiZ2b2lkIDAhPT1vP286dnQuZ2V0Q29uZmlnKFwiYW5hbHl0aWNzVXJsXCIpO3ZhciB1PW51bGwhPT0oYT1yLnJlZ2lvbikmJnZvaWQgMCE9PWE/YTp2dC5nZXRDb25maWcoeSksbD1JdC5oaUFnY1V0aWwuZ2V0Q29uZmlnKCkucmVnaW9ufHxcIlwiO2Mucm91dGVQb2xpY3k9XCJVTktOT1dOXCI9PT11P2w6dTt2YXIgZD1JdC5oaUFnY1V0aWwuZ2V0QUJUZXN0UHJvdmlkZXIoKTtpZihkKXt2YXIgcD1jLGg9e3RhZzpzdCx0eXBlOm4sc291cmNlOlR9O2Qub25FdmVudChlLHAsaCl9cmV0dXJuIHRoaXMuaXNJbml0fHwodGhpcy5pc0luaXQ9ITApLGN9LGUucHJvdG90eXBlLmdlbmVyYXRlSHR0cEhlYWRlcj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lP3t9OmUsbj10LnJlcUlkLGk9dm9pZCAwPT09bj9cIlwiOm4scj10LmxvZ1JlZ2lvbixvPXZvaWQgMD09PXI/XCJcIjpyLGE9dC5zZGtUb2tlbixzPXZvaWQgMD09PWE/XCJcIjphLGM9dC5zdXBwb3J0RGVidWdNb2RlLHU9dm9pZCAwPT09Y3x8YyxsPXt9O3JldHVybiBsW0FdPXZ0LmdldENvbmZpZyhcImFwcElkXCIpLGxbTV09dnQuZ2V0Q29uZmlnKFwicHJvZHVjdElkXCIpLGxbVV09dnQuZ2V0Q29uZmlnKFwicmVzb3VyY2VJZFwiKSxsW21dPWp0LGxbTl09SnQsbFtPXT1vP3c6SCxsW1JdPXZ0LmdldENvbmZpZyhcInBhY2thZ2VOYW1lXCIpLGxbTF09aSxsW1BdPXF0LGxba109dnQuZ2V0Q29uZmlnKFwiY2xpZW50SWRcIiksbyYmKGxbRF09ZW5jb2RlVVJJQ29tcG9uZW50KG8pKSx1JiYobFskXT1TdHJpbmcodnQuZ2V0Q29uZmlnKFMpKSksbFtfXT1zLGx9LGUucHJvdG90eXBlLmdlbmVyYXRlRXZlbnRVcGxvYWREYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLHIsbyxhO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6cmV0dXJuIFd0LnNldEhlYWRBcHBJZCh2dC5nZXRDb25maWcoXCJhcHBJZFwiKSksV3Quc2V0UHJvZHVjdElkKHZ0LmdldENvbmZpZyhcInByb2R1Y3RJZFwiKSksV3Quc2V0VGltZXN0YW1wKChuZXcgRGF0ZSkuZ2V0VGltZSgpKSxXdC5zZXRSZXFJRCh0KSxpPVd0LmdldEV2ZW50SGVhZCgpLChyPXt9KVtDXT1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGJlKGUsW1wiaWRcIixcInNlbmRTdGF0ZVwiLFwiY29sbGVjdGlvblVybFwiLFwicm91dGVQb2xpY3lcIl0pfSkpLG89bnVsbD09PShuPW51bGw9PWU/dm9pZCAwOmVbMF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJvdXRlUG9saWN5LFs0LG10LmdldFVzZXJJbmZvKHtyb3V0ZVBvbGljeTpvfSldO2Nhc2UgMTpyZXR1cm4gYT1zLnNlbnQoKSxyW3ZdPWEsdGhpcy5ldmVudFVwbG9hZERhdGFbRV09aSx0aGlzLmV2ZW50VXBsb2FkRGF0YVtUXT1yLFsyLHRoaXMuZXZlbnRVcGxvYWREYXRhXX19KSl9KSl9LGUucHJvdG90eXBlLmdlbmVyYXRlTG9nUGF5bG9hZD1mdW5jdGlvbihlLHQpe3ZhciBuPXtwcm90b2NvbF92ZXJzaW9uOlwiMVwiLHNlcnZpY2VpZDpcImhtc2hpbWFpbnRxcnRcIixhcHBpZDp2dC5nZXRDb25maWcoXCJhcHBJZFwiKSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCksc2VydmljZXRhZzp3LHJlcXVlc3RpZDp0LHByb2R1Y3RpZDp2dC5nZXRDb25maWcoXCJwcm9kdWN0SWRcIil9LGk9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQsbixyPWkuZmluZCgoZnVuY3Rpb24odCl7dmFyIG49dC5ldmVudHNfY29tbW9uO3JldHVybiBuLnByb2plY3RJZD09PWUucHJvamVjdElkJiZuLmdyb3VwSWQ9PT1lLmdyb3VwSWQmJm4uc3RyZWFtSWQ9PT1lLnN0cmVhbUlkfSkpO3I/KHIuZXZlbnRzX2NvbW1vbi50YWdzPWUudGFncyxyLmV2ZW50cy5wdXNoKHtldmVudHRpbWU6U3RyaW5nKGUuZXZlbnR0aW1lKSxldmVudDpcIiRXcml0ZUxvZ1wiLHByb3BlcnRpZXM6KHQ9e30sdFtHXT1odC5nZXRQYWdlSWRCeVVybCh2dC5wcmV2U2NyZWVuTmFtZSksdFtCXT1odC5nZXRQYWdlSWRCeVVybCh2dC5jdXJyZW50U2NyZWVuTmFtZSksdC4kQ29udGVudD1lLmNvbnRlbnQsdCl9KSk6aS5wdXNoKHtldmVudHNfY29tbW9uOntwcm9qZWN0SWQ6ZS5wcm9qZWN0SWQsZ3JvdXBJZDplLmdyb3VwSWQsc3RyZWFtSWQ6ZS5zdHJlYW1JZCx0YWdzOmUudGFnc30sZXZlbnRzOlt7ZXZlbnR0aW1lOlN0cmluZyhlLmV2ZW50dGltZSksZXZlbnQ6XCIkV3JpdGVMb2dcIixwcm9wZXJ0aWVzOihuPXt9LG5bR109aHQuZ2V0UGFnZUlkQnlVcmwodnQucHJldlNjcmVlbk5hbWUpLG5bQl09aHQuZ2V0UGFnZUlkQnlVcmwodnQuY3VycmVudFNjcmVlbk5hbWUpLG4uJENvbnRlbnQ9ZS5jb250ZW50LG4pfV19KX0pKSx7aGVhZGVyOm4sZXZlbnQ6aX19LGUucHJvdG90eXBlLmdldFVwbG9hZEV2ZW50TW9kZWxzPWZ1bmN0aW9uKGUsdCl7dmFyIG47bj1lPT09JGUuU1RPUF9BTkFMWVRJQ1NfQ09MTEVDVElPTj9JdC5zZW5kVGFzay5ldmVudE1vZGVscy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV2ZW50PT09JGUuU1RPUF9BTkFMWVRJQ1NfQ09MTEVDVElPTiYmZS5zZW5kU3RhdGU9PT1kZX0pKTplPT09JGUuTGF1bmNoQXBwP3Q/SXQuc2VuZFRhc2suZXZlbnRNb2RlbHMuZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgdD1lLnNlbmRTdGF0ZT09PWRlLG49ZS5zZW5kU3RhdGU9PT1mZTtyZXR1cm4tMSE9WyRlLkxhdW5jaEFwcCwkZS5GSVJTVF9PUEVOLCRlLkVOVEVSX1NDUkVFTiwkZS5FWElUX1NDUkVFTl0uaW5kZXhPZihlLmV2ZW50KSYmKHR8fG4pfSkpOkl0LnNlbmRUYXNrLmV2ZW50TW9kZWxzLmZpbHRlcigoZnVuY3Rpb24odCl7dmFyIG49dC5zZW5kU3RhdGU9PT1kZSxpPXQuc2VuZFN0YXRlPT09ZmUscj10LmV2ZW50IT09JGUuU1RPUF9BTkFMWVRJQ1NfQ09MTEVDVElPTjtyZXR1cm4gdC5ldmVudD09PWUmJihyJiZufHxpKX0pKTp0P0l0LnNlbmRUYXNrLmV2ZW50TW9kZWxzLmZpbHRlcigoZnVuY3Rpb24odCl7dmFyIG49dC5zZW5kU3RhdGU9PT1kZSxpPXQuc2VuZFN0YXRlPT09ZmUscj10LmV2ZW50IT09JGUuU1RPUF9BTkFMWVRJQ1NfQ09MTEVDVElPTjtyZXR1cm4gdC5ldmVudD09PWUmJihyJiZufHxpKX0pKTpJdC5zZW5kVGFzay5ldmVudE1vZGVscy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VuZFN0YXRlPT09ZGUsbj1lLnNlbmRTdGF0ZT09PWZlO3JldHVybiBlLmV2ZW50IT09JGUuU1RPUF9BTkFMWVRJQ1NfQ09MTEVDVElPTiYmdHx8bn0pKTt2YXIgaT12dC5nZXRDb25maWcoXCJhbmFseXRpY3NVcmxcIikscj1cIlwiLG89bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29sbGVjdGlvblVybCxuPXQhPT1pJiYoXCJcIj09PXJ8fHQ9PT1yKTtyZXR1cm4gbiYmXCJcIj09PXImJihyPWUuY29sbGVjdGlvblVybCksbn0pKTtyZXR1cm4gby5sZW5ndGg+MCYmKG49byksbj1uLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ9ITA7cmV0dXJuIEF0LmlzRGlzYWJsZUV2ZW50KGUuZXZlbnQpJiYodD0hMSxJdC5zZW5kVGFzay5ldmVudE1vZGVscz1JdC5zZW5kVGFzay5ldmVudE1vZGVscy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkIT09ZS5pZH0pKSxJdC5oaUV2ZW50TW9kZWxzQWRhcHRlci5yZW1vdmVNb2RlbChlLmlkKSksdH0pKX0sZS5wcm90b3R5cGUuZ2V0VXBsb2FkTG9nTW9kZWxzPWZ1bmN0aW9uKCl7dmFyIGU9SXQuc2VuZExvZ1Rhc2subG9nUmVjb3Jkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmRTdGF0ZT09PWRlfHxlLnNlbmRTdGF0ZT09PWZlfSkpLHQ9dnQuZ2V0Q29uZmlnKFwiYW5hbHl0aWNzVXJsXCIpLG49XCJcIixpPWUuZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgaT1lLmNvbGxlY3Rpb25VcmwhPT10JiYoXCJcIj09PW58fGUuY29sbGVjdGlvblVybD09PW4pO3JldHVybiBpJiZcIlwiPT09biYmKG49ZS5jb2xsZWN0aW9uVXJsKSxpfSkpO3JldHVybiBpLmxlbmd0aD4wJiYoZT1pKSxlfSxlfSgpLFh0PSExLHp0PW5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gcCh0LGUpLHQucHJvdG90eXBlLmRvRXZlbnRTZW5kRG9uZT1mdW5jdGlvbihlLHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5ldmVudD09PSRlLkFERF9RVUlDS19BUFAmJmt0LnVwZGF0ZUFkZFNob3J0Y3V0U3RhdGUoKX0pKX0sdH0oZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5ldmVudE1vZGVscz1bXSx0aGlzLnVwTG9hZFNlcnZpY2U9bmV3IFF0fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pKX0pKX0sZS5wcm90b3R5cGUudXBsb2FkRGF0YT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4saSxyLG8sYSxzLGMsdT10aGlzO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGwpe3N3aXRjaChsLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsSXQuaGlDbGllbnQuaXNPbmxpbmUoKV07Y2FzZSAxOnJldHVybiBsLnNlbnQoKSYmKEF0LnJlcG9ydEZsYWd8fGUmJnQ9PT0kZS5TVE9QX0FOQUxZVElDU19DT0xMRUNUSU9OKT8wPT09dGhpcy5ldmVudE1vZGVscy5sZW5ndGg/WzJdOls0LHRoaXMuZ2V0QWFpZEFuZEF1dGhJbmZvKCldOlsyXTtjYXNlIDI6cmV0dXJuIG49bC5zZW50KCksaT1uLmlzVmFsaWQsbi5hYWlkLHI9bi5hdXRoSW5mbyxpJiZyP1s0LHRoaXMuZ2VuZXJhdGVGaW5hbFVwbG9hZEluZm9zKGUsdCxyKV06WzJdO2Nhc2UgMzppZigwPT09KG89bC5zZW50KCkpLmxlbmd0aClyZXR1cm5bMl07Zm9yKGE9ZnVuY3Rpb24odCl7MD09PXQ/cy5zZW5kRXZlbnREYXRhKGUsb1t0XSk6c2V0VGltZW91dCgoZnVuY3Rpb24oKXt1LnNlbmRFdmVudERhdGEoZSxvW3RdKX0pLDIwMCp0KX0scz10aGlzLGM9MDtjPG8ubGVuZ3RoO2MrKylhKGMpO3JldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLnNlbmRFdmVudERhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dC5maW5hbFVwbG9hZEV2ZW50RGF0YSxyPXQudXBsb2FkRXZlbnREYXRhRXZlbnRNb2RlbHMsbz10LmlzT3RoZXJDb2xsZWN0aW9uVXJsLGE9dC5jb25maWcscz10LnVwbG9hZERhdGFIZWFkZXI7SXQuaGlTZW5kRGF0YS5vbkV2ZW50KGkscyxhKS50aGVuKChmdW5jdGlvbih0KXtJdC5oaUxvZy5pbmZvKFwicmVzdWx0Q29kZTogMjAwXCIpLG4uc2V0RXZlbnRNb2RlbHNTdGF0dXMocixoZSksbi5kb0V2ZW50U2VuZERvbmUocixlKSxuLmV2ZW50TW9kZWxzPW4uZXZlbnRNb2RlbHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZW5kU3RhdGUhPT1oZX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtuLnNldEV2ZW50TW9kZWxzU3RhdHVzKHIsZmUpLG4uZG9FdmVudFNlbmRGYWlsKHIsbyksKG98fHZ0LmdldENvbmZpZyhTKSkmJihuLmV2ZW50TW9kZWxzPW4uZXZlbnRNb2RlbHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZW5kU3RhdGUhPT1mZX0pKSl9KSl9LGUucHJvdG90eXBlLmNodW5rRXZlbnRNb2RlbHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49SXQuc2VuZFBvbGljeS5nZXRVcGxvYWRNYXhDb3VudCgpLGk9TWF0aC5jZWlsKGUubGVuZ3RoL24pLHI9MDtyPGk7cisrKXt2YXIgbz1lLnNsaWNlKHIqbiwocisxKSpuKTt0LnB1c2gobyl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdlbmVyYXRlRmluYWxVcGxvYWRJbmZvcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxyLG8sYSxzLGMsdSxsLGQscCxoLGcsRTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihmKXtzd2l0Y2goZi5sYWJlbCl7Y2FzZSAwOmlmKGk9W10sMD09PShyPXRoaXMudXBMb2FkU2VydmljZS5nZXRVcGxvYWRFdmVudE1vZGVscyh0LGUpKS5sZW5ndGgpcmV0dXJuWzIsaV07bz10aGlzLmJhY2t1cEV2ZW50TW9kZWxTdGF0dXMociksdGhpcy5zZXRFdmVudE1vZGVsc1N0YXR1cyhyLHBlKSxcIlwiLGE9dGhpcy51cExvYWRTZXJ2aWNlLmdlbmVyYXRlSHR0cEhlYWRlcih7cmVxSWQ6XCJcIixzZGtUb2tlbjpufSkscz10aGlzLmNodW5rRXZlbnRNb2RlbHMociksYz0wLGYubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGM8cy5sZW5ndGg/WzQsdGhpcy5nZXRVcGxvYWRFdmVudERhdGFFdmVudE1vZGVscyhzW2NdKV06WzMsNl07Y2FzZSAyOnJldHVybiB1PWYuc2VudCgpLHRoaXMucmV2ZXJ0RXZlbnRNb2RlbFN0YXR1cyh1LHNbY10sbyksbD11WzBdLGQ9dnQuZ2V0Q29uZmlnKFwiYW5hbHl0aWNzVXJsXCIpIT09bC5jb2xsZWN0aW9uVXJsLHA9e21vZGU6dnQuZ2V0UmVwb3J0VHlwZSgpLHVybDpsLmNvbGxlY3Rpb25VcmwsYXN5bmM6IWV9LGg9SGUuY3JlYXRlKCksWzQsdGhpcy51cExvYWRTZXJ2aWNlLmdlbmVyYXRlRXZlbnRVcGxvYWREYXRhKHUsaCldO2Nhc2UgMzpyZXR1cm4gZz1mLnNlbnQoKSx0aGlzLnVwbG9hZERhdGFBcHBlbmRFdmVudEhlYWRlcihnLGwpLFs0LHRoaXMuZ2VuZXJhdGVGaW5hbFVwbG9hZEV2ZW50RGF0YShnKV07Y2FzZSA0OmlmKFwic3RyaW5nXCI9PXR5cGVvZihFPWYuc2VudCgpKSYmVWUoRSkpcmV0dXJuWzMsNV07YVtMXT1oLGkucHVzaChiZSh7ZmluYWxVcGxvYWRFdmVudERhdGE6RSx1cGxvYWRFdmVudERhdGFFdmVudE1vZGVsczp1LGNvbmZpZzpwLGlzT3RoZXJDb2xsZWN0aW9uVXJsOmQsdXBsb2FkRGF0YUhlYWRlcjphfSkpLGYubGFiZWw9NTtjYXNlIDU6cmV0dXJuIGMrKyxbMywxXTtjYXNlIDY6cmV0dXJuWzIsaV19fSkpfSkpfSxlLnByb3RvdHlwZS5iYWNrdXBFdmVudE1vZGVsU3RhdHVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07dFtpLmlkXT1pLnNlbmRTdGF0ZX1yZXR1cm4gdH0sZS5wcm90b3R5cGUucmV2ZXJ0RXZlbnRNb2RlbFN0YXR1cz1mdW5jdGlvbihlLHQsbil7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClmb3IodmFyIGk9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTstMT09PWkuaW5kZXhPZihvLmlkKSYmdGhpcy5zZXRFdmVudE1vZGVsc1N0YXR1cyhbb10sbltvLmlkXSl9fSxlLnByb3RvdHlwZS5nZXRVcGxvYWRFdmVudERhdGFFdmVudE1vZGVscz1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuWzIsZV19KSl9KSl9LGUucHJvdG90eXBlLmdldEFhaWRBbmRBdXRoSW5mbz1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG47cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4oZT12dC5nZXRBQUlEKCkpP1szLDJdOls0LGx0LmNvbGxlY3QoY3QpXTtjYXNlIDE6aWYoISh0PWkuc2VudCgpKVtjdF0pcmV0dXJuWzIse2lzVmFsaWQ6ITF9XTt2dC5hZGRDb25maWcoXCJhYWlkXCIsdFtjdF0pLHZ0LnNldElzVGVzdERldmljZSgpLGU9dnQuZ2V0QUFJRCgpLGkubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsdnQuZ2V0SGFTZGtUb2tlbigpXTtjYXNlIDM6cmV0dXJuKG49aS5zZW50KCkpP1syLHthYWlkOmUsYXV0aEluZm86bixpc1ZhbGlkOiEwfV06WzIse2lzVmFsaWQ6ITF9XX19KSl9KSl9LGUucHJvdG90eXBlLnVwbG9hZERhdGFBcHBlbmRFdmVudEhlYWRlcj1mdW5jdGlvbihlLHQpe30sZS5wcm90b3R5cGUuZ2VuZXJhdGVGaW5hbFVwbG9hZEV2ZW50RGF0YT1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuWzIsZV19KSl9KSl9LGUucHJvdG90eXBlLmRvRXZlbnRTZW5kRG9uZT1mdW5jdGlvbihlLHQpe30sZS5wcm90b3R5cGUuZG9FdmVudFNlbmRGYWlsPWZ1bmN0aW9uKGUsdCl7fSxlLnByb3RvdHlwZS5kdG1Qcm9jZXNzQXNwZWN0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUub25FdmVudD1mdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvLGE9dGhpczt2b2lkIDA9PT1yJiYocj17fSksdD10fHx7fTt2YXIgcz1yLmltbWVkaWF0ZWx5fHwhMTtpZighdGhpcy5kdG1Qcm9jZXNzQXNwZWN0KGUsdCxyKSYmXCJcIiE9PShudWxsIT09KG89ci51cmwpJiZ2b2lkIDAhPT1vP286dnQuZ2V0Q29uZmlnKFwiYW5hbHl0aWNzVXJsXCIpKSl7dmFyIGM9dGhpcy51cExvYWRTZXJ2aWNlLmdldEV2ZW50KGUsdCxuLGkscik7dGhpcy5wdXNoRXZlbnRNb2RlbChjKTt2YXIgdT10aGlzLnNhdmVFdmVudE1vZGVsKGMpO3MmJnUudGhlbigoZnVuY3Rpb24oKXthLnVwbG9hZERhdGEocyxlKS50aGVuKChmdW5jdGlvbihlKXt9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe30pKX0pKX19LGUucHJvdG90eXBlLnNldEhlYXJ0YmVhdEZ1bmM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7WHR8fChYdD0hMCx0LnVwbG9hZERhdGEoITEsXCJcIikudGhlbigoZnVuY3Rpb24oZSl7WHQ9ITEsSXQuc2VuZFBvbGljeS5ldmVudFVwbG9hZFBvbGljeVNjaGVkdWxlVGltZSgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtYdD0hMSxJdC5zZW5kUG9saWN5LmV2ZW50VXBsb2FkUG9saWN5U2NoZWR1bGVUaW1lKCl9KSkpfSksZSl9LGUucHJvdG90eXBlLnNldEV2ZW50TW9kZWxzU3RhdHVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSk7dGhpcy5ldmVudE1vZGVscy5mb3JFYWNoKChmdW5jdGlvbihlKXstMSE9PWkuaW5kZXhPZihlLmlkKSYmKHZvaWQgMCE9PW4mJmUuc2VuZFN0YXRlIT09bnx8KGUuc2VuZFN0YXRlPXQpKX0pKX0sZS5wcm90b3R5cGUucHJvY2Vzc0V2ZW50c1JlY2VpdmVkQWZ0ZXJMYXVuY2g9ZnVuY3Rpb24oKXtcImZhbHNlXCI9PT1XZS5nZXRDbGllbnRWYWx1ZShJZSkmJih0aGlzLmV2ZW50TW9kZWxzLmxlbmd0aD0wLHRoaXMucmVtb3ZlQWxsRXZlbnRNb2RlbHMoKSl9LGUucHJvdG90eXBlLmNsZWFyRGF0YT1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUV2ZW50TW9kZWxzKGUpLHRoaXMuZXZlbnRNb2RlbHM9dGhpcy5ldmVudE1vZGVscy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT1lJiZ0LnJvdXRlUG9saWN5IT09ZX0pKX0sZS5wcm90b3R5cGUuZ2V0Q3VyRm9jdXNTdGF0ZVNlc3Npb25EdXJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdnQuaXNCYWNrZ3JvdW5kP1dlLm1pblNlc3Npb25EdXJhdGlvbjpXZS5zZXNzaW9uRHVyYXRpb259LGUucHJvdG90eXBlLnB1c2hFdmVudE1vZGVsPWZ1bmN0aW9uKGUpe3RoaXMuZXZlbnRNb2RlbHMucHVzaChlKX0sZS5wcm90b3R5cGUuc2F2ZUV2ZW50TW9kZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSxlLnByb3RvdHlwZS5yZW1vdmVFdmVudE1vZGVscz1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLnJlbW92ZUFsbEV2ZW50TW9kZWxzPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5pc1NlcnZlcldlYlYzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGUucHJvdG90eXBlLmlzU2VydmVyV2ViRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZX0oKSkpLFp0PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLm1pZ3JhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gSXQuaGlMb2cuaW5mbyhcInN0YXJ0IHF1aWNrYXBwIG1pZ3JhdGlvblwiKSxbNCx0aGlzLnVzaW5nT2JqZWN0U3RvcmFnZSgpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLFsyLFByb21pc2UucmVzb2x2ZSgpXX19KSl9KSl9LGUucHJvdG90eXBlLnVzaW5nT2JqZWN0U3RvcmFnZT1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxyLG87cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDplPXRoaXMuZ2V0S2V5TWFwcGluZ3MoKSx0PTAsbj1lLGEubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQ8bi5sZW5ndGg/KGk9blt0XSxbNCxJdC5oaVN0b3JhZ2UuZ2V0U2F2ZWRTdHJpbmcoaS5vbGRLZXkpXSk6WzMsNl07Y2FzZSAyOnJldHVybihyPWEuc2VudCgpKT8obz1pLm5ld0tleT09PU5lP1wiZmFsc2VcIjpyLFs0LEl0LmhpU3RvcmFnZS5zYXZlQ2xpZW50VmFsdWUoaS5uZXdLZXksbyxpLmR1cmF0aW9uKV0pOlszLDVdO2Nhc2UgMzpyZXR1cm4gYS5zZW50KCksWzQsSXQuaGlTdG9yYWdlLnJlbW92ZUl0ZW0oaS5vbGRLZXkpXTtjYXNlIDQ6YS5zZW50KCksYS5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gdCsrLFszLDFdO2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5nZXRLZXlNYXBwaW5ncz1mdW5jdGlvbigpe3ZhciBlPUl0LmhpQWdjVXRpbC5nZXRDb25maWcoKS5jbGllbnQuYXBwX2lkO3JldHVyblt7b2xkS2V5OlwiSFdfaGFfXCIrZSxuZXdLZXk6TmUsZHVyYXRpb246MzE1MzZlNn0se29sZEtleTpcIkhXX2hpZF9cIitlLG5ld0tleTp5ZSxkdXJhdGlvbjpXZS5zZXNzaW9uRHVyYXRpb259LHtvbGRLZXk6XCJIV19hbmFseXRpY3NfZW5hYmxlZFwiLG5ld0tleTpJZSxkdXJhdGlvbjozMTUzNmU2fSx7b2xkS2V5OlwiSFdfaGFfcmVzdHJpY3Rpb25fZW5hYmxlZFwiLG5ld0tleTpBZSxkdXJhdGlvbjozMTUzNmU2fV19LGV9KCkpLGVuPSExLHRuPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ1JlY29yZHM9W10sdGhpcy50aW1lcklkPTAsdGhpcy51cExvYWRTZXJ2aWNlPW5ldyBRdH1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KSl9LGUucHJvdG90eXBlLnVwbG9hZERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsdCxuLGk9dGhpcztyZXR1cm4gZih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LEl0LmhpQ2xpZW50LmlzT25saW5lKCldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCkmJkF0LnJlcG9ydEZsYWc/MD09PXRoaXMubG9nUmVjb3Jkcy5sZW5ndGg/WzJdOls0LHZ0LmdldEhhU2RrVG9rZW4oKV06WzJdO2Nhc2UgMjpyZXR1cm4oZT1yLnNlbnQoKSk/KHQ9e21vZGU6dnQuZ2V0UmVwb3J0VHlwZSgpLHVybDp2dC5nZXRDb25maWcoXCJhbmFseXRpY3NVcmxcIil9LG49e30sdGhpcy5sb2dSZWNvcmRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VuZFN0YXRlO2lmKHQ9PT1kZXx8dD09PWZlKXt2YXIgaT1lLnJlZ2lvbjtuW2ldPW5baV18fFtdLG5baV0ucHVzaChlKX19KSksT2JqZWN0LmVudHJpZXMobikuZm9yRWFjaCgoZnVuY3Rpb24obil7Zm9yKHZhciByPW5bMF0sbz1uWzFdLGE9aS5jaHVua0xvZ0RhdGFzKG8pLHM9ZnVuY3Rpb24obil7dmFyIG89YVtuXTtpZigwPT09by5sZW5ndGgpcmV0dXJue3ZhbHVlOnZvaWQgMH07dmFyIHM9SGUuY3JlYXRlKCksYz1pLnVwTG9hZFNlcnZpY2UuZ2VuZXJhdGVMb2dQYXlsb2FkKG8scyksdT1pLmdlbmVyYXRlRmluYWxVcGxvYWRMb2dEYXRhKGMpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB1JiZVZSh1KSlyZXR1cm57dmFsdWU6dm9pZCAwfTt2YXIgbD1pLnVwTG9hZFNlcnZpY2UuZ2VuZXJhdGVIdHRwSGVhZGVyKHtyZXFJZDpzLGxvZ1JlZ2lvbjpyLHN1cHBvcnREZWJ1Z01vZGU6ITEsc2RrVG9rZW46ZX0pO28uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VuZFN0YXRlPXBlfSkpLEl0LmhpU2VuZERhdGEub25FdmVudCh1LGwsdCkudGhlbigoZnVuY3Rpb24oKXtJdC5oaUxvZy5pbmZvKFwidXBsb2FkIGxvZyBzdWNjZXNzZnVsbHksIHJlc3VsdENvZGU6IDIwMFwiKSxvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmRTdGF0ZT1oZX0pKSxpLmRvTG9nU2VuZERvbmUobyksaS5sb2dSZWNvcmRzPWkubG9nUmVjb3Jkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmRTdGF0ZSE9PWhlfSkpfSksKGZ1bmN0aW9uKCl7by5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZW5kU3RhdGU9ZmV9KSksaS5kb0xvZ1NlbmRGYWlsKG8pfSkpfSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciB1PXMoYyk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHUpcmV0dXJuIHUudmFsdWV9fSkpLFsyXSk6WzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuY2h1bmtMb2dEYXRhcz1mdW5jdGlvbihlKXt2YXIgdD1JdC5zZW5kUG9saWN5LmdldFVwbG9hZE1heENvdW50KCk7cmV0dXJuW2Uuc2xpY2UoMCx0KV19LGUucHJvdG90eXBlLmdlbmVyYXRlRmluYWxVcGxvYWRMb2dEYXRhPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxlLnByb3RvdHlwZS5zZXRIZWFydGJlYXRGdW5jPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy50aW1lcklkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZW58fChlbj0hMCx0LnVwbG9hZERhdGEoKS50aGVuKChmdW5jdGlvbihlKXtlbj0hMSxJdC5zZW5kUG9saWN5LmxvZ1VwbG9hZFBvbGljeVNjaGVkdWxlVGltZSgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtlbj0hMSxJdC5zZW5kUG9saWN5LmxvZ1VwbG9hZFBvbGljeVNjaGVkdWxlVGltZSgpfSkpKX0pLGUpfSxlLnByb3RvdHlwZS53cml0ZUxvZz1mdW5jdGlvbihlKXtlLnNlbmRTdGF0ZT1kZSx0aGlzLmxvZ1JlY29yZHMucHVzaChlKSx0aGlzLnNhdmVMb2dNb2RlbChlKX0sZS5wcm90b3R5cGUuZG9Mb2dTZW5kRG9uZT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmRvTG9nU2VuZEZhaWw9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5zYXZlTG9nTW9kZWw9ZnVuY3Rpb24oZSl7fSxlfSgpKTshZnVuY3Rpb24oZSl7ZVtlLkRFQlVHPTBdPVwiREVCVUdcIixlW2UuVkVSQk9TRT0xXT1cIlZFUkJPU0VcIixlW2UuSU5GTz0yXT1cIklORk9cIixlW2UuV0FSTj0zXT1cIldBUk5cIixlW2UuRVJST1I9NF09XCJFUlJPUlwiLGVbZS5TSUxFTlQ9NV09XCJTSUxFTlRcIn0oeHR8fCh4dD17fSkpO3ZhciBubj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD10aGlzO3RoaXMubW9kdWxlTmFtZT1cIlwiLHRoaXMubG9nTGV2ZWw9eHQuVkVSQk9TRSx0aGlzLnVzZXJMb2dQcm92aWRlcj1udWxsLHRoaXMubG9nUHJvdmlkZXI9ZnVuY3Rpb24obixpKXtmb3IodmFyIHI9W10sbz0yO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvLTJdPWFyZ3VtZW50c1tvXTtpZighKGk8dC5sb2dMZXZlbCkpe3ZhciBhPWUuY29uc29sZVR5cGVbaV07aWYoIWEpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBsb2dUeXBlOiBcIi5jb25jYXQoaSkpO2NvbnNvbGVbYV0oXCJbTW9kdWxlOlwiLmNvbmNhdChuLFwiXSBbXCIpLmNvbmNhdCgobmV3IERhdGUpLnRvSVNPU3RyaW5nKCksXCJdIHwgXCIpLHIudG9TdHJpbmcoKSl9fX1yZXR1cm4gZS5jcmVhdGVMb2dnZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPTAsaT1lLmxvZ0luc3RhbmNlQXJyYXk7bjxpLmxlbmd0aDtuKyspe3ZhciByPWlbbl07aWYoci5tb2R1bGVOYW1lPT10KXJldHVybiByfXZhciBvPW5ldyBlO3JldHVybiBvLm1vZHVsZU5hbWU9dCxlLmxvZ0luc3RhbmNlQXJyYXkucHVzaChvKSxvfSxlLnByb3RvdHlwZS5zZXRMb2dQcm92aWRlcj1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImxvZ1Byb3ZpZGVyIG11c3QgYmUgc2V0IGFzIGEgZnVuY3Rpb25cIik7dGhpcy5sb2dQcm92aWRlcj1lfSxlLnByb3RvdHlwZS5zZXRVc2VyTG9nUHJvdmlkZXI9ZnVuY3Rpb24oZSl7dGhpcy51c2VyTG9nUHJvdmlkZXI9ZX0sZS5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dGhpcy5kb0xvZyh4dC5ERUJVRyxlKX0sZS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3RoaXMuZG9Mb2coeHQuVkVSQk9TRSxlKX0sZS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt0aGlzLmRvTG9nKHh0LklORk8sZSl9LGUucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dGhpcy5kb0xvZyh4dC5XQVJOLGUpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt0aGlzLmRvTG9nKHh0LkVSUk9SLGUpfSxlLnByb3RvdHlwZS5kb0xvZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt0aGlzLnVzZXJMb2dQcm92aWRlciYmdGhpcy51c2VyTG9nUHJvdmlkZXIodGhpcy5tb2R1bGVOYW1lLGUsdCksdGhpcy5sb2dQcm92aWRlcih0aGlzLm1vZHVsZU5hbWUsZSx0KX0sZS5jb25zb2xlVHlwZT0oKEt0PXt9KVt4dC5ERUJVR109XCJsb2dcIixLdFt4dC5WRVJCT1NFXT1cImxvZ1wiLEt0W3h0LlNJTEVOVF09XCJsb2dcIixLdFt4dC5JTkZPXT1cImluZm9cIixLdFt4dC5XQVJOXT1cIndhcm5cIixLdFt4dC5FUlJPUl09XCJlcnJvclwiLEt0KSxlLmxvZ0luc3RhbmNlQXJyYXk9W10sZX0oKSxybj1mdW5jdGlvbihlLHQpe3JldHVybihybj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9KShlLHQpfTtcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL2Z1bmN0aW9uIG9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihyLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP3IoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfWZ1bmN0aW9uIGFuKGUsdCl7dmFyIG4saSxyLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZyWzBdKXRocm93IHJbMV07cmV0dXJuIHJbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKG8pe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihuPTEsaSYmKHI9MiZvWzBdP2kucmV0dXJuOm9bMF0/aS50aHJvd3x8KChyPWkucmV0dXJuKSYmci5jYWxsKGkpLDApOmkubmV4dCkmJiEocj1yLmNhbGwoaSxvWzFdKSkuZG9uZSlyZXR1cm4gcjtzd2l0Y2goaT0wLHImJihvPVsyJm9bMF0sci52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6cj1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssaT1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoKHI9KHI9YS50cnlzKS5sZW5ndGg+MCYmcltyLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFyfHxvWzFdPnJbMF0mJm9bMV08clszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxyWzFdKXthLmxhYmVsPXJbMV0scj1vO2JyZWFrfWlmKHImJmEubGFiZWw8clsyXSl7YS5sYWJlbD1yWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9clsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2goZSl7bz1bNixlXSxpPTB9ZmluYWxseXtuPXI9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sc10pfX19dmFyIHNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVFdPX01JTlVURVNfRUFSTFk9MTJlNCx0aGlzLk9ORV9IT1VSPTM2ZTUsdGhpcy5leHBpcmF0aW9uPTAsdGhpcy50b2tlblN0cmluZz1cIlwiLHRoaXMuaXNzdWVkQXQ9XCIwXCIsdGhpcy5ub3RCZWZvcmU9XCIwXCIsdGhpcy5sYXN0UmVmcmVzaFRpbWU9MH1yZXR1cm4gZS5wcm90b3R5cGUuY29uc3RydWN0RnJvbUpzb249ZnVuY3Rpb24oZSl7dGhpcy5leHBpcmF0aW9uPWUuZXhwaXJhdGlvbix0aGlzLmlzc3VlZEF0PWUuaXNzdWVkQXQsdGhpcy50b2tlblN0cmluZz1lLnRva2VuU3RyaW5nLHRoaXMubm90QmVmb3JlPWUubm90QmVmb3JlLHRoaXMubGFzdFJlZnJlc2hUaW1lPWUubGFzdFJlZnJlc2hUaW1lfSxlLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKCl7dmFyIGU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdD10aGlzLmxhc3RSZWZyZXNoVGltZSsxZTMqdGhpcy5leHBpcmF0aW9uLXRoaXMuVFdPX01JTlVURVNfRUFSTFk7cmV0dXJuIG51bGwhPXRoaXMudG9rZW5TdHJpbmcmJmU8PXR9LGUucHJvdG90eXBlLmFsbG93UmVmcmVzaD1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMubGFzdFJlZnJlc2hUaW1lPnRoaXMuT05FX0hPVVJ9LGV9KCksY249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5SRVFVRVNUX1VSTD1cIi9hZ2MvYXBpZ3cvb2F1dGgyL3YxL3Rva2VuXCIsbi51c2VKd3Q9MCxufXJldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cm4oZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KHQsZSksdC5wcm90b3R5cGUuZ2V0Qm9keT1mdW5jdGlvbigpe3JldHVybntncmFudF90eXBlOlwiY2xpZW50X2NyZWRlbnRpYWxzXCIsY2xpZW50X2lkOnRoaXMuZ2V0SGVhZGVyQ2xpZW50SWQoKSxjbGllbnRfc2VjcmV0OnRoaXMuZ2V0Q2xpZW50U2VjcmV0KCksdXNlSnd0OnRoaXMuZ2V0VXNlSnd0KCl9fSx0LnByb3RvdHlwZS5nZXRVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBZ2Nnd1VybCgpK3RoaXMuUkVRVUVTVF9VUkx9LHQucHJvdG90eXBlLnNldFVzZUp3dD1mdW5jdGlvbihlKXt0aGlzLnVzZUp3dD1lfSx0LnByb3RvdHlwZS5nZXRVc2VKd3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51c2VKd3R9LHR9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnNka1BsYXRmb3JtPVwiXCIsdGhpcy5zZGtQbGF0Zm9ybVZlcnNpb249XCJcIix0aGlzLnNka1R5cGU9XCJKU1wiLHRoaXMucGFja2FnZU5hbWU9XCJcIix0aGlzLmFwcFZlcnNpb249XCJcIix0aGlzLmhlYWRlclByb2R1Y3RJZD1cIlwiLHRoaXMuaGVhZGVyQXBwSWQ9XCJcIix0aGlzLmhlYWRlckNsaWVudElkPVwiXCIsdGhpcy5jbGllbnRTZWNyZXQ9XCJcIix0aGlzLmFnY2d3VXJsPVwiXCIsdGhpcy5hZ2Nnd0JhY2tVcmw9XCJcIix0aGlzLmFnY0NvbmZpZz1udWxsLHRoaXMuaW5zdGFuY2U9bnVsbCx0aGlzLnNka1NlcnZpY2VOYW1lPVwiYWdjb25uZWN0LWNyZWRlbnRpYWxcIix0aGlzLnNka1ZlcnNpb249XCIxLjUuMFwiLHRoaXMuc2V0QUdDSW5zdGFuY2UoZSl9cmV0dXJuIGUucHJvdG90eXBlLnNldEFHQ0luc3RhbmNlPWZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyB1KGwuQUdDX0lOTkVSX0VSUk9SLHttZXNzYWdlOlwic2V0IEFHQ0luc3RhbmNlIHVzaW5nIG51bGwgb3IgdW5kZWZpbmVkIG9iamVjdFwifSxcIkNyZWRlbnRpYWxzU2VydmljZVwiKTt0aGlzLmluc3RhbmNlPWUsdGhpcy5hZ2NDb25maWc9bnVsbH0sZS5wcm90b3R5cGUuZ2V0SGVhZGVyQ2xpZW50SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0Q29uZmlnKCk/dGhpcy5oZWFkZXJDbGllbnRJZDpcIlwifSxlLnByb3RvdHlwZS5nZXRDbGllbnRTZWNyZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0Q29uZmlnKCk/dGhpcy5jbGllbnRTZWNyZXQ6XCJcIn0sZS5wcm90b3R5cGUuZ2V0QWdjZ3dVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0Q29uZmlnKCk/dGhpcy5hZ2Nnd1VybDpcIlwifSxlLnByb3RvdHlwZS5nZXRIZWFkZXI9ZnVuY3Rpb24oKXtpZighdGhpcy5pbml0Q29uZmlnKCkpcmV0dXJuXCJcIjt2YXIgZT10aGlzLmluc3RhbmNlLmdldFNlcnZpY2UoXCJBR0NQbGF0Zm9ybUluZm9TZXJ2aWNlXCIpO3JldHVybiBlJiYodGhpcy5zZGtQbGF0Zm9ybT1lLmdldFBsYXRmb3JtKCksdGhpcy5zZGtQbGF0Zm9ybVZlcnNpb249ZS5nZXRQbGF0Zm9ybVZlcnNpb24oKSx0aGlzLnBhY2thZ2VOYW1lPWUuZ2V0UGFja2FnZU5hbWUoKSx0aGlzLmFwcFZlcnNpb249ZS5nZXRBcHBWZXJzaW9uKCkpLHtzZGtWZXJzaW9uOnRoaXMuc2RrVmVyc2lvbixzZGtQbGF0Zm9ybTp0aGlzLnNka1BsYXRmb3JtLHNka1NlcnZpY2VOYW1lOnRoaXMuc2RrU2VydmljZU5hbWUsc2RrUGxhdGZvcm1WZXJzaW9uOnRoaXMuc2RrUGxhdGZvcm1WZXJzaW9uLHNka1R5cGU6dGhpcy5zZGtUeXBlLHBhY2thZ2VOYW1lOnRoaXMucGFja2FnZU5hbWUsYXBwVmVyc2lvbjp0aGlzLmFwcFZlcnNpb24sYXBwX2lkOnRoaXMuaGVhZGVyQXBwSWQsY2xpZW50X2lkOnRoaXMuaGVhZGVyQ2xpZW50SWQscHJvZHVjdElkOnRoaXMuaGVhZGVyUHJvZHVjdElkLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIn19LGUucHJvdG90eXBlLmluaXRDb25maWc9ZnVuY3Rpb24oKXtpZighdGhpcy5pbnN0YW5jZSl0aHJvdyBuZXcgdShsLkFHQ19JTk5FUl9FUlJPUix7bWVzc2FnZTpcInNldCBBR0NJbnN0YW5jZSB1c2luZyBudWxsIG9yIHVuZGVmaW5lZCBvYmplY3RcIn0sXCJDcmVkZW50aWFsc1NlcnZpY2VcIik7cmV0dXJuIG51bGw9PXRoaXMuYWdjQ29uZmlnJiYodGhpcy5hZ2NDb25maWc9dGhpcy5pbnN0YW5jZS5jb25maWcoKSx0aGlzLmhlYWRlclByb2R1Y3RJZD10aGlzLmFnY0NvbmZpZy5jbGllbnQucHJvZHVjdF9pZCx0aGlzLmhlYWRlckNsaWVudElkPXRoaXMuYWdjQ29uZmlnLmNsaWVudC5jbGllbnRfaWQsdGhpcy5oZWFkZXJBcHBJZD10aGlzLmFnY0NvbmZpZy5jbGllbnQuYXBwX2lkLHRoaXMuY2xpZW50U2VjcmV0PXRoaXMuYWdjQ29uZmlnLmNsaWVudC5jbGllbnRfc2VjcmV0LHRoaXMuYWdjZ3dVcmw9dGhpcy5pbnN0YW5jZS5nZXRHd1VybCgpLHRoaXMuYWdjZ3dCYWNrVXJsPXRoaXMuaW5zdGFuY2UuZ2V0R3dCYWNrVXJsKCkpLCEwfSxlfSgpKSx1bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gZS5pbnN0YW5jZXx8KGUuaW5zdGFuY2U9bmV3IGUpLGUuaW5zdGFuY2V9LGUucHJvdG90eXBlLmdldFN0b3JhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRTZXJ2aWNlKFwiQUdDU3RvcmFnZVNlcnZpY2VcIik7aWYobnVsbCE9dClyZXR1cm4gdC5nZXRTdG9yYWdlSW5zdGFuY2UoMCxlLmdldENyeXB0SW1wKCkpO2xuLmVycm9yKFwiR2V0IEFHQyBzdG9yYWdlIFNlcnZpY2UgZmFpbGVkLlwiKX0sZX0oKSxsbj1ubi5jcmVhdGVMb2dnZXIoXCJDcmVkZW50aWFsc1NlcnZpY2VcIiksZG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMuaW5zdGFuY2U9ZXx8bi5pbnN0YW5jZSgpfXJldHVybiB0LnByb3RvdHlwZS5yZW1vdmVUb2tlbj1mdW5jdGlvbigpe2lmKHRoaXMuaW5zdGFuY2UuZ2V0Q3VzdG9tQ3JlZGVudGlhbHNQcm92aWRlcigpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgZT10aGlzLmdldENyZWRlbnRpYWxTdG9yZUtleSgpLHQ9dW4uZ2V0SW5zdGFuY2UoKS5nZXRTdG9yYWdlKHRoaXMuaW5zdGFuY2UpO3JldHVybiB0P3QucmVtb3ZlKGUpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHU/UHJvbWlzZS5yZWplY3QoZSk6UHJvbWlzZS5yZWplY3QobmV3IHUobC5SRU1PVkVfVE9LRU5fRkFJTEVELGUsXCJDcmVkZW50aWFsc1NlcnZpY2VcIikpfSkpOlByb21pc2UucmVqZWN0KG5ldyB1KGwuRkFJTF9UT19HRVRfU1RPUkFHRV9TRVJWSUNFLG51bGwsXCJDcmVkZW50aWFsc1NlcnZpY2VcIikpfSx0LnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbihlKXtyZXR1cm4gb24odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4saSxyLG8sYT10aGlzO3JldHVybiBhbih0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmluc3RhbmNlLmdldEN1c3RvbUNyZWRlbnRpYWxzUHJvdmlkZXIoKT8odD1uZXcgc24sWzQsdGhpcy5pbnN0YW5jZS5nZXRDdXN0b21DcmVkZW50aWFsc1Byb3ZpZGVyKCkuZ2V0VG9rZW4oISFlKV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4obj1zLnNlbnQoKSkmJm4udG9rZW5TdHJpbmcmJm4uZXhwaXJhdGlvbj9pc05hTihOdW1iZXIobi5leHBpcmF0aW9uKSl8fE51bWJlcihuLmV4cGlyYXRpb24pPD0wPyhsbi5lcnJvcihcInRoZSBjdXN0b21DcmVkZW50aWFsc1Byb3ZpZGVyIGdldFRva2VuIG11c3QgcmV0dXJuIHZhbGlkIGV4cGlyYXRpb24uXCIpLFsyLFByb21pc2UucmVqZWN0KG5ldyB1KGwuR0VUX1RPS0VOX0ZBSUxFRCx7bWVzc2FnZTpcInRoZSBjdXN0b21DcmVkZW50aWFsc1Byb3ZpZGVyIGdldFRva2VuIG11c3QgcmV0dXJuIHZhbGlkIGV4cGlyYXRpb25cIn0sXCJDcmVkZW50aWFsc1NlcnZpY2VcIikpXSk6KHQudG9rZW5TdHJpbmc9bi50b2tlblN0cmluZyx0LmV4cGlyYXRpb249bi5leHBpcmF0aW9uLHQubGFzdFJlZnJlc2hUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLFsyLFByb21pc2UucmVzb2x2ZSh0KV0pOihsbi5lcnJvcihcInRoZSBjdXN0b21DcmVkZW50aWFsc1Byb3ZpZGVyIGdldFRva2VuIG1ldGhvZCBtdXN0IGNvbnRhaW4gcmV0dXJuIHZhbHVlOiB0b2tlblN0cmluZywgZXhwaXJhdGlvbi5cIiksWzIsUHJvbWlzZS5yZWplY3QobmV3IHUobC5HRVRfVE9LRU5fRkFJTEVELHttZXNzYWdlOlwidGhlIGN1c3RvbUNyZWRlbnRpYWxzUHJvdmlkZXIgZ2V0VG9rZW4gbWV0aG9kIG11c3QgY29udGFpbiByZXR1cm4gdmFsdWU6IHRva2VuU3RyaW5nLCBleHBpcmF0aW9uXCJ9LFwiQ3JlZGVudGlhbHNTZXJ2aWNlXCIpKV0pO2Nhc2UgMjpyZXR1cm4gaT10aGlzLmdldENyZWRlbnRpYWxTdG9yZUtleSgpLChyPXVuLmdldEluc3RhbmNlKCkuZ2V0U3RvcmFnZSh0aGlzLmluc3RhbmNlKSk/KG89bmV3IHNuLFsyLHIuZ2V0KGkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBvbihhLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4sYTtyZXR1cm4gYW4odGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD9vLmNvbnN0cnVjdEZyb21Kc29uKEpTT04ucGFyc2UodCkpOm89bnVsbCxvJiZvLmlzVmFsaWQoKT9lJiZvLmFsbG93UmVmcmVzaCgpP1s0LHRoaXMucmVxdWVzdFRva2VuKCldOlszLDNdOlszLDRdO2Nhc2UgMTpyZXR1cm4gbj1zLnNlbnQoKSxbNCxyLnNldChpLEpTT04uc3RyaW5naWZ5KG4pKV07Y2FzZSAyOnJldHVybiBzLnNlbnQoKSxbMixQcm9taXNlLnJlc29sdmUobildO2Nhc2UgMzpyZXR1cm5bMixQcm9taXNlLnJlc29sdmUobyldO2Nhc2UgNDpyZXR1cm5bNCx0aGlzLnJlcXVlc3RUb2tlbigpXTtjYXNlIDU6cmV0dXJuIGE9cy5zZW50KCksWzQsci5zZXQoaSxKU09OLnN0cmluZ2lmeShhKSldO2Nhc2UgNjpyZXR1cm4gcy5zZW50KCksWzIsUHJvbWlzZS5yZXNvbHZlKGEpXX19KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdT9Qcm9taXNlLnJlamVjdChlKTpQcm9taXNlLnJlamVjdChuZXcgdShsLkdFVF9UT0tFTl9GQUlMRUQsZSxcIkNyZWRlbnRpYWxzU2VydmljZVwiKSl9KSldKTpbMixQcm9taXNlLnJlamVjdChuZXcgdShsLkZBSUxfVE9fR0VUX1NUT1JBR0VfU0VSVklDRSxudWxsLFwiQ3JlZGVudGlhbHNTZXJ2aWNlXCIpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5nZXRDcmVkZW50aWFsU3RvcmVLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnN0YW5jZS5uYW1lKCk9PT1lP1wiYWdjQ2xpZW50VG9rZW46XCIrdGhpcy5pbnN0YW5jZS5jb25maWcoKS5jbGllbnQuY2xpZW50X2lkOlwiYWdjQ2xpZW50VG9rZW5fXCIrdGhpcy5pbnN0YW5jZS5uYW1lKCkrXCI6XCIrdGhpcy5pbnN0YW5jZS5jb25maWcoKS5jbGllbnQuY2xpZW50X2lkfSx0LnByb3RvdHlwZS5yZXF1ZXN0VG9rZW49ZnVuY3Rpb24oKXtyZXR1cm4gb24odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIGFuKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybihlPXRoaXMuaW5zdGFuY2UuZ2V0U2VydmljZShcIkFHQ05ldHdvcmtTZXJ2aWNlXCIpKT8oKHQ9bmV3IGNuKHRoaXMuaW5zdGFuY2UpKS5zZXRVc2VKd3QoMSksWzIsZS5wb3N0KHQuZ2V0VXJsKCksdC5nZXRCb2R5KCksdC5nZXRIZWFkZXIoKSkudGhlbigoZnVuY3Rpb24oZSl7aWYoZS5kYXRhLnJldCYmMCE9ZS5kYXRhLnJldC5jb2RlKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgdSh7Y29kZTplLmRhdGEucmV0LmNvZGUsbWVzc2FnZTplLmRhdGEucmV0Lm1zZ30sbnVsbCxcIkNyZWRlbnRpYWxzU2VydmljZVwiKSk7dmFyIHQ9bmV3IHNuO3JldHVybiB0LnRva2VuU3RyaW5nPWUuZGF0YS5hY2Nlc3NfdG9rZW4sdC5leHBpcmF0aW9uPWUuZGF0YS5leHBpcmVzX2luLHQubGFzdFJlZnJlc2hUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLFByb21pc2UucmVzb2x2ZSh0KX0pKV0pOlsyLFByb21pc2UucmVqZWN0KG5ldyB1KGwuRkFJTF9UT19HRVRfTkVUV09SS19TRVJWSUNFLG51bGwsXCJDcmVkZW50aWFsc1NlcnZpY2VcIikpXX0pKX0pKX0sdH0oKTtuLnJlZ2lzdGVySW50ZXJuYWxTZXJ2aWNlKHtuYW1lOlwiQ3JlZGVudGlhbHNTZXJ2aWNlXCIsc2VydmljZUZhY3Rvcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBkbihlKX19KTt2YXIgcG49bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KSl9LGUucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybiBuLmluc3RhbmNlKCkuY29uZmlnKCl9LGUucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOmlmKCEodD1uLmluc3RhbmNlKCkuZ2V0U2VydmljZShcIkNyZWRlbnRpYWxzU2VydmljZVwiKSkpcmV0dXJuWzMsNV07aS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gaS50cnlzLnB1c2goWzEsMywsNF0pLFs0LHQuZ2V0VG9rZW4oKV07Y2FzZSAyOnJldHVyblsyLGkuc2VudCgpLnRva2VuU3RyaW5nXTtjYXNlIDM6cmV0dXJuIGkuc2VudCgpLEl0LmhpTG9nLmVycm9yKGUsbnQuY29kZSxudC5tZXNzYWdlKSxbMixcIlwiXTtjYXNlIDQ6cmV0dXJuWzMsNl07Y2FzZSA1OnJldHVybiBJdC5oaUxvZy53YXJuKGUsemUuY29kZSx6ZS5tZXNzYWdlKSxbMixcIlwiXTtjYXNlIDY6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0QWFpZD1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBudWxsIT0odD1uLmluc3RhbmNlKCkuZ2V0U2VydmljZShcIkNsaWVudEluZm9TZXJ2aWNlXCIpKT9bMix0LmdldEFhaWQoKV06KEl0LmhpTG9nLndhcm4oZSx6ZS5jb2RlLHplLm1lc3NhZ2UpLFsyLFwiXCJdKX1jYXRjaCh0KXtyZXR1cm4gSXQuaGlMb2cuZXJyb3IoZSx0dC5jb2RlLHR0Lm1lc3NhZ2UpLFsyLFwiXCJdfXJldHVyblsyXX0pKX0pKX0sZS5wcm90b3R5cGUuZGVsZXRlQWFpZD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KSl9LGUucHJvdG90eXBlLmdldFB1c2hUb2tlbj1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMixcIlwiXX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0T2FpZD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMixcIlwiXX0pKX0pKX0sZS5wcm90b3R5cGUuZ2V0T2FpZEZsYWc9ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzIsITBdfSkpfSkpfSxlLnByb3RvdHlwZS5nZXRBQlRlc3RQcm92aWRlcj1mdW5jdGlvbigpe3ZhciBlPW4uaW5zdGFuY2UoKS5nZXRTZXJ2aWNlKFwiQUJUZXN0U2VydmljZVwiKTtpZihudWxsIT09ZSlyZXR1cm4gZS5nZXRBQnRlc3RJbnN0YW5jZShcIlJFTU9URV9DT05GSUdcIik/ZTpudWxsfSxlfSgpKTtJdC5zZXRIaUxvZyhNdCksSXQuc2V0SGlTZW5kRGF0YSh3dCksSXQuc2V0U2VuZExvZ1Rhc2sodG4pLEl0LnNldFNlbmRUYXNrKHp0KSxJdC5zZXRIaUF1dG9SZXBvcnQoa3QpLEl0LnNldEhpU3RvcmFnZShZdCksSXQuc2V0SGlDbGllbnRQcm9wZXJ0eShidCksSXQuc2V0SGlDbGllbnQoSHQpLEl0LnNldEhpTWlncmF0aW9uKFp0KSxJdC5zZXRIaUFnY1V0aWwocG4pO3ZhciBobj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLm9uRXZlbnRDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3ZhciBuPXtldmVudHRpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksaXNDYWxsQmFjazohMH07QXQub25FdmVudENhbGxiYWNrKGUsdCxuKX0sZX0oKSxmbj1uZXcgdCgoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IF90fSkpLGduPW5ldyB0KChmdW5jdGlvbigpe3JldHVybiBuZXcgaG59KSksRW49e0luaXRTZXR0aW5nczpndCxSb3V0ZVBvbGljeTpZZSxMb2dMZXZlbDpHZSxVc2VyUHJvZmlsZVR5cGU6QmUsRXZlbnROYW1lOkxlLFBhcmFtTmFtZTp7U1RPUkVOQU1FOlwiJFN0b3JlTmFtZVwiLEJSQU5EOlwiJEJyYW5kXCIsQ0FURUdPUlk6XCIkQ2F0ZWdvcnlcIixQUk9EVUNUSUQ6XCIkUHJvZHVjdElkXCIsUFJPRFVDVE5BTUU6XCIkUHJvZHVjdE5hbWVcIixQUk9EVUNURkVBVFVSRTpcIiRQcm9kdWN0RmVhdHVyZVwiLFBSSUNFOlwiJFByaWNlXCIsUVVBTlRJVFk6XCIkUXVhbnRpdHlcIixSRVZFTlVFOlwiJFJldmVudWVcIixDVVJSTkFNRTpcIiRDdXJyTmFtZVwiLFBMQUNFSUQ6XCIkUGxhY2VJZFwiLERFU1RJTkFUSU9OOlwiJERlc3RpbmF0aW9uXCIsRU5EREFURTpcIiRFbmREYXRlXCIsQk9PS0lOR0RBWVM6XCIkQm9va2luZ0RheXNcIixQQVNTRU5HRVJTTlVNQkVSOlwiJFBhc3NlbmdlcnNOdW1iZXJcIixCT09LSU5HUk9PTVM6XCIkQm9va2luZ1Jvb21zXCIsT1JJR0lOQVRJTkdQTEFDRTpcIiRPcmlnaW5hdGluZ1BsYWNlXCIsQkVHSU5EQVRFOlwiJEJlZ2luRGF0ZVwiLFRSQU5TQUNUSU9OSUQ6XCIkVHJhbnNhY3Rpb25JZFwiLENMQVNTOlwiJENsYXNzXCIsQ0xJQ0tJRDpcIiRDbGlja0lkXCIsUFJPTU9USU9OTkFNRTpcIiRQcm9tb3Rpb25OYW1lXCIsQ09OVEVOVDpcIiRDb250ZW50XCIsRVhURU5EUEFSQU06XCIkRXh0ZW5kUGFyYW1cIixNQVRFUklBTE5BTUU6XCIkTWF0ZXJpYWxOYW1lXCIsTUFURVJJQUxTTE9UOlwiJE1hdGVyaWFsU2xvdFwiLE1FRElVTTpcIiRNZWRpdW1cIixTT1VSQ0U6XCIkU291cmNlXCIsS0VZV09SRFM6XCIkS2V5d29yZHNcIixPUFRJT046XCIkT3B0aW9uXCIsU1RFUDpcIiRTdGVwXCIsVklSVFVBTENVUlJOQU1FOlwiJFZpcnR1YWxDdXJyTmFtZVwiLFZPVUNIRVI6XCIkVm91Y2hlclwiLFBMQUNFOlwiJFBsYWNlXCIsU0hJUFBJTkc6XCIkU2hpcHBpbmdcIixUQVhGRUU6XCIkVGF4RmVlXCIsVVNFUkdST1VQSUQ6XCIkVXNlckdyb3VwSWRcIixMRVZFTE5BTUU6XCIkTGV2ZWxOYW1lXCIsUkVTVUxUOlwiJFJlc3VsdFwiLFJPTEVOQU1FOlwiJFJvbGVOYW1lXCIsTEVWRUxJRDpcIiRMZXZlbElkXCIsQ0hBTk5FTDpcIiRDaGFubmVsXCIsU0NPUkU6XCIkU2NvcmVcIixTRUFSQ0hLRVlXT1JEUzpcIiRTZWFyY2hLZXl3b3Jkc1wiLENPTlRFTlRUWVBFOlwiJENvbnRlbnRUeXBlXCIsQUNISUVWRU1FTlRJRDpcIiRBY2hpZXZlbWVudElkXCIsRkxJR0hUTk86XCIkRmxpZ2h0Tm9cIixQT1NJVElPTklEOlwiJFBvc2l0aW9uSWRcIixQUk9EVUNUTElTVDpcIiRQcm9kdWN0TGlzdFwiLEFDT1VOVFRZUEU6XCIkQWNvdW50VHlwZVwiLEVWVFJFU1VMVDpcIiRFdnRSZXN1bHRcIixQUkVWTEVWRUw6XCIkUHJldkxldmVsXCIsQ1VSUlZMRVZFTDpcIiRDdXJydkxldmVsXCIsVk9VQ0hFUlM6XCIkVm91Y2hlcnNcIixNQVRFUklBTFNMT1RUWVBFOlwiJE1hdGVyaWFsU2xvdFR5cGVcIixMSVNUSUQ6XCIkTGlzdElkXCIsRklMVEVSUzpcIiRGaWx0ZXJzXCIsU09SVFM6XCIkU29ydHNcIixPUkRFUklEOlwiJE9yZGVySWRcIixQQVlUWVBFOlwiJFBheVR5cGVcIixSRUFTT046XCIkUmVhc29uXCIsRVhQSVJFREFURTpcIiRFeHBpcmVEYXRlXCIsVk9VQ0hFUlRZUEU6XCIkVm91Y2hlclR5cGVcIixTRVJWSUNFVFlQRTpcIiRTZXJ2aWNlVHlwZVwiLERFVEFJTFM6XCIkRGV0YWlsc1wiLENPTU1FTlRUWVBFOlwiJENvbW1lbnRUeXBlXCIsUkVHSVNUTUVUSE9EOlwiJFJlZ2lzdE1ldGhvZFwiLEZFQVRVUkU6XCIkRmVhdHVyZVwiLFJPT01TOlwiJFJvb21zXCIsU0FMRVBSSUNFOlwiJFNhbGVQcmljZVwiLFJFTlRGRUU6XCIkUmVudEZlZVwiLFJFTlRUWVBFOlwiJFJlbnRUeXBlXCIsQUNUSVZJVFlOQU1FOlwiJEFjdGl2aXR5TmFtZVwiLEFDVElWSVRZVFlQRTpcIiRBY3Rpdml0eVR5cGVcIixBTU9VTlQ6XCIkQW1vdW50XCIsQkFMQU5DRTpcIiRCYWxhbmNlXCIsQkFUVExFTkFNRTpcIiRCYXR0bGVOYW1lXCIsQkFUVExFVFlQRTpcIiRCYXR0bGVUeXBlXCIsQ0FSRExJU1Q6XCIkQ2FyZExpc3RcIixDTEFTU0xJTUlUOlwiJENsYXNzTGltaXRcIixDT01CQVQ6XCIkQ29tYmF0XCIsQ1VUU0NFTkVOQU1FOlwiJEN1dHNjZW5lTmFtZVwiLERBTUFHRTpcIiREYW1hZ2VcIixESUZGSUNVTFRZOlwiJERpZmZpY3VsdHlcIixESVNDT1VOVDpcIiREaXNjb3VudFwiLERVTkdFT05OQU1FOlwiJER1bmdlb25OYW1lXCIsRFVSQVRJT046XCIkRHVyYXRpb25cIixFTkhBTkNFVFlQRTpcIiRFbmhhbmNlVHlwZVwiLEVRVUlQTUVOVElEOlwiJEVxdWlwbWVudElkXCIsRVFVSVBNRU5UTEVWRUw6XCIkRXF1aXBtZW50TGV2ZWxcIixFUVVJUE1FTlROQU1FOlwiJEVxdWlwbWVudE5hbWVcIixGSVJTVENSRUFURTpcIiRGaXJzdENyZWF0ZVwiLEZJUlNUUEFZOlwiJEZpcnN0UGF5XCIsRklSU1RTSUdOSU46XCIkRmlyc3RTaWduSW5cIixGUklFTkROVU1CRVI6XCIkRnJpZW5kTnVtYmVyXCIsR0lGVE5BTUU6XCIkR2lmdE5hbWVcIixHSUZUVFlQRTpcIiRHaWZ0VHlwZVwiLElOVklURVI6XCIkSW52aXRlclwiLElTRlJFRTpcIiRJc0ZyZWVcIixJU1RPUExFVkVMOlwiJElzVG9wTGV2ZWxcIixJVEVNTElTVDpcIiRJdGVtTGlzdFwiLExFRlRQVUxMU0ZPUkdVQVJBTlRFRTpcIiRMZWZ0UHVsbHNGb3JHdWFyYW50ZWVcIixMRVZFTEJFRk9SRTpcIiRMZXZlbEJlZm9yZVwiLExFVkVMTElNSVQ6XCIkTGV2ZWxMaW1pdFwiLE1FTUJFUlM6XCIkTWVtYmVyc1wiLE1FU1NBR0VUSVRMRTpcIiRNZXNzYWdlVGl0bGVcIixNRVNTQUdFVFlQRTpcIiRNZXNzYWdlVHlwZVwiLE1PVU5UREVGQVVMVE5BTUU6XCIkTW91bnREZWZhdWx0TmFtZVwiLE1PVU5USUQ6XCIkTW91bnRJZFwiLE1PVU5UTEVWRUw6XCIkTW91bnRMZXZlbFwiLE1WUDpcIiRNVlBcIixORVdDTEFTUzpcIiROZXdDbGFzc1wiLE5FV1ZBTFVFOlwiJE5ld1ZhbHVlXCIsTlVNQkVST0ZDQVJEUzpcIiROdW1iZXJPZkNhcmRzXCIsTlVNQkVST0ZEUkFXSU5HOlwiJE51bWJlck9mRHJhd2luZ1wiLE9MRENMQVNTOlwiJE9sZENsYXNzXCIsT0xEVkFMVUU6XCIkT2xkVmFsdWVcIixPUEVSQVRJT046XCIkT3BlcmF0aW9uXCIsUEFDS0FHRVRZUEU6XCIkUGFja2FnZVR5cGVcIixQQVJUSUNJUEFOVFM6XCIkUGFydGljaXBhbnRzXCIsUEVUREVGQVVMVE5BTUU6XCIkUGV0RGVmYXVsdE5hbWVcIixQRVRJRDpcIiRQZXRJZFwiLFBFVExFVkVMOlwiJFBldExldmVsXCIsUVVBTElUWTpcIiRRdWFsaXR5XCIsUkFOS0lORzpcIiRSYW5raW5nXCIsUkVXQVJEOlwiJFJld2FyZFwiLFJPTEVDTEFTUzpcIiRSb2xlQ2xhc3NcIixST0xFQ09NQkFUOlwiJFJvbGVDb21iYXRcIixST0xFR0VOREVSOlwiJFJvbGVHZW5kZXJcIixTRVJWRVI6XCIkU2VydmVyXCIsU0tJTExMRVZFTDpcIiRTa2lsbExldmVsXCIsU0tJTExMRVZFTEJFRk9SRTpcIiRTa2lsbExldmVsQmVmb3JlXCIsU0tJTExOQU1FOlwiJFNraWxsTmFtZVwiLFRBU0tOQU1FOlwiJFRhc2tOYW1lXCIsVEFTS1RZUEU6XCIkVGFza1R5cGVcIixUT1RBTEFGVEVSQ0hBTkdFOlwiJFRvdGFsQWZ0ZXJDaGFuZ2VcIixUWVBFOlwiJFR5cGVcIixVU0VSR1JPVVBMRVZFTDpcIiRVc2VyR3JvdXBMZXZlbFwiLFVTRVJHUk9VUE5BTUU6XCIkVXNlckdyb3VwTmFtZVwiLFZJREVPTkFNRTpcIiRWaWRlb05hbWVcIixWSURFT1RZUEU6XCIkVmlkZW9UeXBlXCIsVklQTEVWRUw6XCIkVklQTGV2ZWxcIixXSU5SRUFTT046XCIkV2luUmVhc29uXCIsVklQVFlQRTpcIiRWSVBUeXBlXCIsVklQU1RBVFVTOlwiJFZJUFN0YXR1c1wiLFZJUEVYUElSRURBVEU6XCIkVklQRXhwaXJlRGF0ZVwiLEVOVEVSOlwiJEVudGVyXCIsU1RBUlREQVRFOlwiJFN0YXJ0RGF0ZVwiLEVGRkVDVElWRVRJTUU6XCIkRWZmZWN0aXZlVGltZVwiLE5BTUU6XCIkTmFtZVwiLE1PREU6XCIkTW9kZVwiLFNVQkpFQ1Q6XCIkU3ViamVjdFwiLEFDQ1VSQUNZOlwiJEFjY3VyYWN5XCIsQ09OVEVOVExFTkdUSDpcIiRDb250ZW50TGVuZ3RoXCIsUkVNQVJLOlwiJFJlbWFya1wiLERBWVM6XCIkRGF5c1wiLFBPU1RJRDpcIiRQb3N0SWRcIixFTlRSWTpcIiRFbnRyeVwiLElORk9STUFUSU9OVFlQRTpcIiRJbmZvcm1hdGlvblR5cGVcIixJTkZPUk1BVElPTjpcIiRJbmZvcm1hdGlvblwiLFRBU0tJRDpcIiRUYXNrSWRcIixMRVZFTDpcIiRMZXZlbFwiLENPTlRFTlROQU1FOlwiJENvbnRlbnROYW1lXCIsUEFHRU5BTUU6XCIkUGFnZU5hbWVcIixQUk9QUzpcIiRQcm9wc1wiLFBVUkNIQVNFRU5UUlk6XCIkUHVyY2hhc2VFbnRyeVwiLEFSUklWQUxEQVRFOlwiJEFycml2YWxEYXRlXCIsQklORERVUkFUSU9OOlwiJEJpbmREdXJhdGlvblwiLEJVWUVSVFlQRTpcIiRCdXllclR5cGVcIixDT05GSUdVUkFUSU9OOlwiJENvbmZpZ3VyYXRpb25cIixERUFMRVJOQU1FOlwiJERlYWxlck5hbWVcIixERVZJQ0VUWVBFOlwiJERldmljZVR5cGVcIixERVZJQ0VOQU1FOlwiJERldmljZU5hbWVcIixFTkVSR1k6XCIkRW5lcmd5XCIsSVNMT0FOOlwiJElzTG9hblwiLExPQU5DSEFOTkVMOlwiJExvYW5DaGFubmVsXCIsTE9BTlBST0RVQ1ROQU1FOlwiJExvYW5Qcm9kdWN0TmFtZVwiLE1PREVMOlwiJE1vZGVsXCIsT0NDVVJSRUREQVRFOlwiJE9jY3VycmVkRGF0ZVwiLFJFUEFZTUVOVE1FVEhPRDpcIiRSZXBheW1lbnRNZXRob2RcIixTRUFUOlwiJFNlYXRcIixTRVJJRVM6XCIkU2VyaWVzXCIsQUNUSU9OOlwiJEFjdGlvblwiLFBBR0U6XCIkUGFnZVwiLElOREVYOlwiJEluZGV4XCIsTU9EVUxFOlwiJE1vZHVsZVwiLFNPVVJDRVBBR0VOQU1FOlwiJFNvdXJjZVBhZ2VOYW1lXCIsQ0lUWTpcIiRDaXR5XCIsRlJPTUNJVFk6XCIkRnJvbUNpdHlcIixUT0NJVFk6XCIkVG9DaXR5XCIsREVQQVJUVVJFREFURTpcIiREZXBhcnR1cmVEYXRlXCIsUkVUVVJOREFURTpcIiRSZXR1cm5EYXRlXCIsVFJJUFRZUEU6XCIkVHJpcFR5cGVcIixTRUFSQ0hIT1RFTDpcIiRTZWFyY2hIb3RlbFwiLFNQRUNJQUxUSUNLRVQ6XCIkU3BlY2lhbFRpY2tldFwiLEhBU0JBQlk6XCIkSGFzQmFieVwiLEhBU0NISUxEUkVOOlwiJEhhc0NoaWxkcmVuXCIsQ09VTlRSWTpcIiRDb3VudHJ5XCIsU1RBUjpcIiRTdGFyXCIsQ0hFQ0tJTkRBVEU6XCIkQ2hlY2tpbkRhdGVcIixDSEVDS09VVERBVEU6XCIkQ2hlY2tvdXREYXRlXCIsQUxEVUxUQ09VTlQ6XCIkQWxkdWx0Q291bnRcIixCQUJZQ09VTlQ6XCIkQmFieUNvdW50XCIsQ0hJTERSRU5DT1VOVDpcIiRDaGlsZHJlbkNvdW50XCIsRlJPTTpcIiRGcm9tXCIsQ0FSTU9ERTpcIiRDYXJNb2RlXCIsQ0FSVElNRTpcIiRDYXJUaW1lXCIsRkxJR0hUSUQ6XCIkRmxpZ2h0SURcIixTRUFSQ0hSRVNVTFQ6XCIkU2VhcmNoUmVzdWx0XCIsUFJPRFVDVDpcIiRQcm9kdWN0XCIsREVQQVJUVVJFVElNRTpcIiREZXBhcnR1cmVUaW1lXCIsQVJSSVZFVElNRTpcIiRBcnJpdmVUaW1lXCIsREVQQVJUVVJFQUlSUE9SVDpcIiREZXBhcnR1cmVBaXJwb3J0XCIsQVJSSVZFRUFJUlBPUlQ6XCIkQXJyaXZlZUFpcnBvcnRcIixBSVJMSU5FOlwiJEFpcmxpbmVcIixGTElHSFRUWVBFOlwiJEZsaWdodFR5cGVcIixESVJFQ1RGTElHSFQ6XCIkRGlyZWN0RmxpZ2h0XCIsVFJBSU5UWVBFOlwiJFRyYWluVHlwZVwiLEZST01TVEFUSU9OOlwiJEZyb21TdGF0aW9uXCIsQkVEVFlQRTpcIiRCZWRUeXBlXCIsQlJFQUtGQVNUOlwiJEJyZWFrZmFzdFwiLEFSUklWRURBVEU6XCIkQXJyaXZlRGF0ZVwiLFRSQUlOSUQ6XCIkVHJhaW5JRFwiLEhPVEVMSUQ6XCIkSG90ZWxJRFwiLEhPVEVMTkFNRTpcIiRIb3RlbE5hbWVcIixUUklQVEFHOlwiJFRyaXBUYWdcIixIT1RFTFRZUEU6XCIkSG90ZWxUeXBlXCIsQ0FCSU46XCIkQ2FiaW5cIixST09NVFlQRTpcIiRSb29tVHlwZVwiLENBUlRZUEU6XCIkQ2FyVHlwZVwiLFNVUFBMSUVSOlwiJFN1cHBsaWVyXCIsU1RVREVOVENPVU5UOlwiJFN0dWRlbnRDb3VudFwiLFJPT01DT1VOVDpcIiRSb29tQ291bnRcIixQRVJTT05DT1VOVDpcIiRQZXJzb25Db3VudFwiLFZPVUNIRVJJRDpcIiRWb3VjaGVySURcIixWT1VDSEVSTkFNRTpcIiRWb3VjaGVyTmFtZVwiLFZPVUNIRVJQUklDRTpcIiRWb3VjaGVyUHJpY2VcIixVU0VSVFlQRTpcIiRVc2VyVHlwZVwiLFRBUkdFVDpcIiRUYXJnZXRcIixJU0NPTVBFTEVURUQ6XCIkSXNDb21wZWxldGVkXCIsVVNFUkxFVkVMOlwiJFVzZXJMZXZlbFwiLFRJTUU6XCIkVGltZVwiLERJU1RBTkNFOlwiJERpc3RhbmNlXCIsQ0FMT1JJRUNPTlNVTUVEOlwiJENhbG9yaWVDb25zdW1lZFwiLFBST0dSRVNTOlwiJFByb2dyZXNzXCIsU09VUkNFUEFHRTpcIiRTb3VyY2VQYWdlXCIsTVVMVElQTEVBQ0NPVU5UUzpcIiRNdWx0aXBsZUFjY291bnRzXCIsQUNDT1VOVFRZUEU6XCIkQWNjb3VudFR5cGVcIixGQUlMVVJFUkVBU09OOlwiJEZhaWx1cmVSZWFzb25cIixBVVRIT1JJVFk6XCIkQXV0aG9yaXR5XCIsQ0FSRFRZUEU6XCIkQ2FyZFR5cGVcIixJU1NVRUJBTks6XCIkSXNzdWVCYW5rXCIsVFJBTlNGT1JNQU1PVU5UOlwiJFRyYW5zZm9ybUFtb3VudFwiLEJBTktOQU1FOlwiJEJhbmtOYW1lXCIsQU5LX05BTUU6XCJiYW5rX25hbWVcIixTT1VSQ0VNT0RVTEU6XCIkU291cmNlTW9kdWxlXCIsU1RPQ0tDT0RFOlwiJFN0b2NrY29kZVwiLFNUT0NLTkFNRTpcIiRTdG9ja25hbWVcIixNQVJLRVRDT0RFOlwiJE1hcmtldENvZGVcIixNQVJLRVROQU1FOlwiJE1hcmtldE5hbWVcIixWSUVXVFlQRTpcIiRWaWV3VHlwZVwiLFRSRU5EQ1lDTEU6XCIkVHJlbmRDeWNsZVwiLFRSQU5TQUNUSU9OVFlQRTpcIiRUcmFuc2FjdGlvblR5cGVcIixDVVJSRU5DWTpcIiRDdXJyZW5jeVwiLE1PTkVZOlwiJE1vbmV5XCIsRklOQU5DRUlEOlwiJEZpbmFuY2VJZFwiLEZJTkFOQ0VOQU1FOlwiJEZpbmFuY2VOYW1lXCIsRklOQU5DRVRZUEU6XCIkRmluYW5jZVR5cGVcIixGSU5BTkNFUkFURTpcIiRGaW5hbmNlUmF0ZVwiLEZJTkFOQ0VUSU1FTElNSVQ6XCIkRmluYW5jZVRpbWVMaW1pdFwiLEZJTkFOQ0VBTU9VTlRNSU46XCIkRmluYW5jZUFtb3VudE1pblwiLEZJTkFOQ0VSSVNLTEVWOlwiJEZpbmFuY2VSaXNrTGV2XCIsUFVSQ0hBU0VBTU9VTlQ6XCIkUHVyY2hhc2VBbW91bnRcIixIQU5ETElOR0ZFRVM6XCIkSGFuZGxpbmdGZWVzXCIsUkVERU1QVElPTkFNT1VOVDpcIiRSZWRlbXB0aW9uQW1vdW50XCIsUkVUVVJOQU1PVU5UOlwiJFJldHVybkFtb3VudFwiLEZVTkRDT0RFOlwiJEZ1bmRDb2RlXCIsRlVORFRZUEU6XCIkRnVuZFR5cGVcIixGVU5ETkFNRTpcIiRGdW5kTmFtZVwiLEZVTkRSSVNLTEVWOlwiJEZ1bmRSaXNrTGV2XCIsQ0hBUkdFUkFURTpcIiRDaGFyZ2VSYXRlXCIsUEFZTUVOVE1FVEhPRDpcIiRQYXltZW50TWV0aG9kXCIsRklYRURDWUNMRTpcIiRGaXhlZEN5Y2xlXCIsRU5UUkFOQ0U6XCIkRW50cmFuY2VcIixDT0RFOlwiJGNvZGVcIixORVdTVE9QSUM6XCIkTmV3c1RvcGljXCIsSU5GT1JNQVRJT05TT1VSQ0U6XCIkSW5mb3JtYXRpb25Tb3VyY2VcIixDT01NRU5UU05VTUJFUjpcIiRDb21tZW50c051bWJlclwiLEZPUldBUkRJTkdOVU1CRVI6XCIkZm9yd2FyZGluZ051bWJlclwiLExJS0VTOlwiJExpa2VzXCIsVElUTEU6XCIkVGl0bGVcIixTRUFSQ0hUWVBFOlwiJFNlYXJjaFR5cGVcIixTT1VSQ0VMT0NBVElPTjpcIiRTb3VyY2VMb2NhdGlvblwiLExPQ0FUSU9OOlwiJExvY2F0aW9uXCIsSUQ6XCIkSWRcIixQTEFZTU9ERTpcIiRQbGF5TW9kZVwiLExJU1RTOlwiJExpc3RzXCIsQURMT0NBVElPTjpcIiRBZGxvY2F0aW9uXCIsQURDQVRFR09SWTpcIiRBZENhdGVnb3J5XCIsQURUSEVNRTpcIiRBZFRoZW1lXCIsQlVUVE9OTkFNRTpcIiRCdXR0b25OYW1lXCIsVVNFUklEOlwiJFVzZXJJRFwiLFBBR0VDQVRFR09SWTpcIiRQYWdlQ2F0ZWdvcnlcIixSQVRJTkc6XCIkUmF0aW5nXCIsUEVSRk9STUFOQ0U6XCIkUGVyZm9ybWFuY2VcIixUUkFESU5HUlVMRVM6XCIkVHJhZGluZ1J1bGVzXCIsUE9SVEZPTElPOlwiJFBvcnRmb2xpb1wiLElOVkVTVE1FTlRNQU5BR0VSOlwiJEludmVzdG1lbnRNYW5hZ2VyXCIsRlVORFNJWkU6XCIkRnVuZFNpemVcIixWSVBNT05FWTpcIiRWaXBNb25leVwiLFZJUExPQ0FUSU9OOlwiJFZpcExvY2F0aW9uXCIsVklQRkFJTEVEOlwiJFZpcEZhaWxlZFwiLFNFQ1RJT046XCIkU2VjdGlvblwifX07bi5yZWdpc3RlckFwaVByb3ZpZGVyKFwiYW5hbHl0aWNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZuLmdldCgpfSksRW4pLGZ1bmN0aW9uKGUpe2UucmVnaXN0ZXJBcGlQcm92aWRlcihcImhtc2NvcmVfYW5hbHl0aWNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGduLmdldCgpfSkpfShuKTtcbiIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuaG1zPXQoKTplLmhtcz10KCl9KHRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIHIobil7aWYodFtuXSlyZXR1cm4gdFtuXS5leHBvcnRzO3ZhciBpPXRbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW25dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLHIpLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIHIubT1lLHIuYz10LHIuZD1mdW5jdGlvbihlLHQsbil7ci5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Om59KX0sci5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LHIudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9cihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHIucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIGkgaW4gZSlyLmQobixpLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsaSkpO3JldHVybiBufSxyLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHIuZCh0LFwiYVwiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPVwiXCIscihyLnM9MjYpfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuZCh0LFwiYVwiLChmdW5jdGlvbigpe3JldHVybiB5fSkpO3ZhciBuLGksbyxhLHMsdT1yKDMpLGM9ci5uKHUpLGY9cig0KSxsPXIubihmKSxwPXIoNyk7ZnVuY3Rpb24gaCgpeyhuPXAuYS5nZXQoXCJobXNjb3JlRnJhbWV3b3JrXCIsXCJITVNMb2dnZXJcIikpJiYoaT1uLmRlYnVnLG89bi5pbmZvLGE9bi53YXJuLHM9bi5lcnJvcil9ZnVuY3Rpb24gZChlLHQscixuKXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShpPjQ/aS00OjApLGE9NDthPGk7YSsrKW9bYS00XT1hcmd1bWVudHNbYV07XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lLmFwcGx5KHZvaWQgMCxbcixuXS5jb25jYXQobykpOnQuYXBwbHkodm9pZCAwLFtcIltcIi5jb25jYXQocixcIl0gXCIpLmNvbmNhdChufHxcIlwiKV0uY29uY2F0KG8pKX12YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtjKCkodGhpcyxlKX1yZXR1cm4gbCgpKGUsbnVsbCxbe2tleTpcImRlYnVnXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtufHxoKCk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocj4yP3ItMjowKSxhPTI7YTxyO2ErKylvW2EtMl09YXJndW1lbnRzW2FdO2QuYXBwbHkodm9pZCAwLFtpLGNvbnNvbGUuZGVidWd8fGNvbnNvbGUubG9nLGUsdF0uY29uY2F0KG8pKX19LHtrZXk6XCJpbmZvXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtufHxoKCk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkocj4yP3ItMjowKSxhPTI7YTxyO2ErKylpW2EtMl09YXJndW1lbnRzW2FdO2QuYXBwbHkodm9pZCAwLFtvLGNvbnNvbGUuaW5mbyxlLHRdLmNvbmNhdChpKSl9fSx7a2V5Olwid2FyblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7bnx8aCgpO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHI+Mj9yLTI6MCksbz0yO288cjtvKyspaVtvLTJdPWFyZ3VtZW50c1tvXTtkLmFwcGx5KHZvaWQgMCxbYSxjb25zb2xlLndhcm4sZSx0XS5jb25jYXQoaSkpfX0se2tleTpcImVycm9yXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtufHxoKCk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkocj4yP3ItMjowKSxvPTI7bzxyO28rKylpW28tMl09YXJndW1lbnRzW29dO2QuYXBwbHkodm9pZCAwLFtzLGNvbnNvbGUuZXJyb3IsZSx0XS5jb25jYXQoaSkpfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kKHQsXCJqXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSksci5kKHQsXCJrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksci5kKHQsXCJpXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksci5kKHQsXCJlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksci5kKHQsXCJjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksci5kKHQsXCJkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksci5kKHQsXCJnXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksci5kKHQsXCJmXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksci5kKHQsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksci5kKHQsXCJoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksci5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSk7dmFyIG49XCJITVMtSlMtQkFTRVwiLGk9XCJ3ZWV4SnNiQ2FsbGJhY2tcIixvPVwicm5Kc2JDYWxsYmFja1wiLGE9XCJjb20uaHVhd2VpLmhtcy5hZGFwdGVyXCIscz1cIkpzYkludGVybmFsQWJpbGl0eVwiLHU9MTAwMSxjPTEwMDIsZj0xMDA1LGw9MSxwPTAsaD0xfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuLGk9cigwKSxvPXIoMSksYT0wO3QuYT17dW5pcXVlSWQ6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIjtyZXR1cm5cIlwiLmNvbmNhdChlKS5jb25jYXQoYSsrLFwiX1wiKS5jb25jYXQoKG5ldyBEYXRlKS5nZXRUaW1lKCksXCJfXCIpLmNvbmNhdChNYXRoLnJhbmRvbSgpKX0sZ2V0SlNDb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIG58fCh0aGlzLmlzV2VleCgpP249d2VleC5yZXF1aXJlTW9kdWxlKFwiSlNDb3JlXCIpOnRoaXMuaXNSTigpP2kuYS5kZWJ1ZyhvLmosXCJ0aGlzIGlzIFJOXCIpOm49dGhpcy5pc0hhcm1vbnkoKT9Nb2R1bGVHcm91cC5nZXRHcm91cChcIkFjZU1vZHVsZUdyb3VwL0htc0JyaWRnZVwiKTp0aGlzLmlzUWlja0FwcCgpP2UucmVxdWlyZUFQSShcInNlcnZpY2UuanNiXCIpOndpbmRvdy5KU0NvcmUsbil9LHNldEpTQ29yZTpmdW5jdGlvbihlKXtuPWV9LGlzV2ViVmlldzpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIFdpbmRvdyYmd2luZG93IGluc3RhbmNlb2YgV2luZG93fSxpc1dlZXg6ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2VleH0saXNSTjpmdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBHTE9CQUx9LGlzQ29yZG92YTpmdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5jb3Jkb3ZhJiYhdGhpcy5pc0NhcGFjaXRvcigpfSxpc0NhcGFjaXRvcjpmdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5DYXBhY2l0b3ImJnZvaWQgMCE9PXdpbmRvdy5DYXBhY2l0b3IuUGx1Z2lucy5KU0JDYXBhY2l0b3JQbHVnaW59LGlzSGFybW9ueTpmdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBNb2R1bGVHcm91cH0saXNPSE9TOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXMmJlwib2hvcy5iYXNlXCI9PT0obnVsbD09PShlPWdsb2JhbFRoaXMuaG1zY29yZUZyYW1ld29yayl8fHZvaWQgMD09PWU/dm9pZCAwOmUueHBzZkpzVHJpZ2dlcil9LGlzU3VwcG9ydFBBRjpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXMmJihcInBhZi5iYXNlXCI9PT0obnVsbD09PShlPWdsb2JhbFRoaXMucGFmRnJhbWV3b3JrKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS54cHNmSnNUcmlnZ2VyKXx8XCJwYWYuYmluZGluZ1wiPT09KG51bGw9PT0odD1nbG9iYWxUaGlzLnBhZkZyYW1ld29yayl8fHZvaWQgMD09PXQ/dm9pZCAwOnQueHBzZkpzVHJpZ2dlcikpfSxpc0hhcm1vbnlXZWJ2aWV3OmZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmISEod2luZG93LmpzYkhhcm1vbnlXZWJ2aWV3JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuanNiSGFybW9ueVdlYnZpZXcuY2FsbCl9LGlzUWlja0FwcDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnF1aWNrYXBwfSxnZXRQb3NpdGlvbkluZm9CeUlkOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLHI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIubGVmdCt0LnNjcm9sbExlZnQsaT1yLnRvcCt0LnNjcm9sbFRvcDtyZXR1cm57bGVmdDpuLHRvcDppLHdpZHRoOnIucmlnaHQtbixoZWlnaHQ6ci5ib3R0b20taX19fX0pLmNhbGwodGhpcyxyKDE4KSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQmJnIoZS5wcm90b3R5cGUsdCksbiYmcihlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlLnRvRGVidWdTdHJpbmcsbi5wcm90b3R5cGUudG9EZWJ1Z1N0cmluZ0ludGVybmFsO3ZhciBpPXtGaWVsZFR5cGU6e0lOVkFMSUQ6LTEsRE9VQkxFOjEsRkxPQVQ6MixJTlQ2NDozLFVJTlQ2NDo0LElOVDMyOjUsRklYRUQ2NDo2LEZJWEVEMzI6NyxCT09MOjgsU1RSSU5HOjksR1JPVVA6MTAsTUVTU0FHRToxMSxCWVRFUzoxMixVSU5UMzI6MTMsRU5VTToxNCxTRklYRUQzMjoxNSxTRklYRUQ2NDoxNixTSU5UMzI6MTcsU0lOVDY0OjE4LEZIQVNINjQ6MzAsVkhBU0g2NDozMX0sV2lyZVR5cGU6e0lOVkFMSUQ6LTEsVkFSSU5UOjAsRklYRUQ2NDoxLERFTElNSVRFRDoyLFNUQVJUX0dST1VQOjMsRU5EX0dST1VQOjQsRklYRUQzMjo1fSxGaWVsZFR5cGVUb1dpcmVUeXBlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuRmllbGRUeXBlLHI9aS5XaXJlVHlwZTtzd2l0Y2goZSl7Y2FzZSB0LklOVDMyOmNhc2UgdC5JTlQ2NDpjYXNlIHQuVUlOVDMyOmNhc2UgdC5VSU5UNjQ6Y2FzZSB0LlNJTlQzMjpjYXNlIHQuU0lOVDY0OmNhc2UgdC5CT09MOmNhc2UgdC5FTlVNOmNhc2UgdC5WSEFTSDY0OnJldHVybiByLlZBUklOVDtjYXNlIHQuRE9VQkxFOmNhc2UgdC5GSVhFRDY0OmNhc2UgdC5TRklYRUQ2NDpjYXNlIHQuRkhBU0g2NDpyZXR1cm4gci5GSVhFRDY0O2Nhc2UgdC5TVFJJTkc6Y2FzZSB0Lk1FU1NBR0U6Y2FzZSB0LkJZVEVTOnJldHVybiByLkRFTElNSVRFRDtjYXNlIHQuRkxPQVQ6Y2FzZSB0LkZJWEVEMzI6Y2FzZSB0LlNGSVhFRDMyOnJldHVybiByLkZJWEVEMzI7Y2FzZSB0LklOVkFMSUQ6Y2FzZSB0LkdST1VQOmRlZmF1bHQ6cmV0dXJuIHIuSU5WQUxJRH19LElOVkFMSURfRklFTERfTlVNQkVSOi0xLEZMT0FUMzJfRVBTOjE0MDEyOTg0NjQzMjQ4MTdlLTYwLEZMT0FUMzJfTUlOOjExNzU0OTQzNTA4MjIyODc1ZS01NCxGTE9BVDMyX01BWDozNDAyODIzNDY2Mzg1Mjg4NmUyMixGTE9BVDY0X0VQUzo1ZS0zMjQsRkxPQVQ2NF9NSU46MjIyNTA3Mzg1ODUwNzIwMTRlLTMyNCxGTE9BVDY0X01BWDoxNzk3NjkzMTM0ODYyMzE1N2UyOTIsVFdPX1RPXzIwOjEwNDg1NzYsVFdPX1RPXzIzOjgzODg2MDgsVFdPX1RPXzMxOjIxNDc0ODM2NDgsVFdPX1RPXzMyOjQyOTQ5NjcyOTYsVFdPX1RPXzUyOjQ1MDM1OTk2MjczNzA0OTYsVFdPX1RPXzYzOjB4ODAwMDAwMDAwMDAwMDAwMCxUV09fVE9fNjQ6MHgxMDAwMDAwMDAwMDAwMDAwMCxaRVJPX0hBU0g6XCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIn19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3IuZCh0LFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBuLGk9cigzKSxvPXIubihpKSxhPXIoNCkscz1yLm4oYSksdT1yKDEpLGM9cigwKTtuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAhPT1lP2U6dm9pZCAwO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28oKSh0aGlzLGUpfXJldHVybiBzKCkoZSxudWxsLFt7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe1wic3RyaW5nXCI9PXR5cGVvZiBlP1wic3RyaW5nXCI9PXR5cGVvZiB0PyhuW2VdfHwobltlXT17fSksbltlXVt0XT1yKTpjLmEuZXJyb3IodS5qLFwiSEdsb2JhbFZhcmlhYmxlTWFuYWdlci5zZXQga2V5IGlzIG5vdCBzdHJpbmcuXCIpOmMuYS5lcnJvcih1LmosXCJIR2xvYmFsVmFyaWFibGVNYW5hZ2VyLnNldCBtb2R1bGVOYW1lIGlzIG5vdCBzdHJpbmcuXCIpfX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBuW2VdP25bZV1bdF06dm9pZCAwO2MuYS5lcnJvcih1LmosXCJIR2xvYmFsVmFyaWFibGVNYW5hZ2VyLmdldCBrZXkgaXMgbm90IHN0cmluZy5cIil9ZWxzZSBjLmEuZXJyb3IodS5qLFwiSEdsb2JhbFZhcmlhYmxlTWFuYWdlci5nZXQgbW9kdWxlTmFtZSBpcyBub3Qgc3RyaW5nLlwiKX19XSksZX0oKX0pLmNhbGwodGhpcyxyKDE4KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ci5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIG49cig1KSxpPXIoMTMpLG89e30sYT1cIltwdG90b2J1ZiB1dGlsc10gXCI7by5zcGxpdDY0TG93PTAsby5zcGxpdDY0SGlnaD0wLG8uc3BsaXRVaW50NjQ9ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCJcIi5jb25jYXQoYSxcIiBcIikuY29uY2F0KFwidXRpbHNcIixcIiBzcGxpdFVpbnQ2NFwiKSk7dmFyIHQ9ZT4+PjAscj1NYXRoLmZsb29yKChlLXQpL24uYS5UV09fVE9fMzIpPj4+MDtvLnNwbGl0NjRMb3c9dCxvLnNwbGl0NjRIaWdoPXJ9LG8uc3BsaXRJbnQ2ND1mdW5jdGlvbihlKXt2YXIgdD1lPDAscj0oZT1NYXRoLmFicyhlKSk+Pj4wLGk9TWF0aC5mbG9vcigoZS1yKS9uLmEuVFdPX1RPXzMyKTtpPj4+PTAsdCYmKGk9fmk+Pj4wLHI9fnI+Pj4wLChyKz0xKT40Mjk0OTY3Mjk1JiYocj0wLCsraT40Mjk0OTY3Mjk1JiYoaT0wKSkpLG8uc3BsaXQ2NExvdz1yLG8uc3BsaXQ2NEhpZ2g9aX0sby5zcGxpdFppZ3phZzY0PWZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKFwiXCIuY29uY2F0KGEsXCIgXCIpLmNvbmNhdChcInV0aWxzXCIsXCIgc3BsaXRaaWd6YWc2NFwiKSk7dmFyIHQ9ZTwwO2U9MipNYXRoLmFicyhlKSxvLnNwbGl0VWludDY0KGUpO3ZhciByPW8uc3BsaXQ2NExvdyxuPW8uc3BsaXQ2NEhpZ2g7dCYmKDA9PXI/MD09bj8ocj00Mjk0OTY3Mjk1LG49NDI5NDk2NzI5NSk6KG4tLSxyPTQyOTQ5NjcyOTUpOnItLSksby5zcGxpdDY0TG93PXIsby5zcGxpdDY0SGlnaD1ufSxvLnNwbGl0RmxvYXQzMj1mdW5jdGlvbihlKXt2YXIgdCxyLGk9ZTwwPzE6MDtpZigwIT09KGU9aT8tZTplKSl7aWYoaXNOYU4oZSkpcmV0dXJuIG8uc3BsaXQ2NEhpZ2g9MCx2b2lkKG8uc3BsaXQ2NExvdz0yMTQ3NDgzNjQ3KTtpZihlPm4uYS5GTE9BVDMyX01BWClyZXR1cm4gby5zcGxpdDY0SGlnaD0wLHZvaWQoby5zcGxpdDY0TG93PShpPDwzMXwyMTM5MDk1MDQwKT4+PjApO2lmKGU8bi5hLkZMT0FUMzJfTUlOKXJldHVybiByPU1hdGgucm91bmQoZS9NYXRoLnBvdygyLC0xNDkpKSxvLnNwbGl0NjRIaWdoPTAsdm9pZChvLnNwbGl0NjRMb3c9KGk8PDMxfHIpPj4+MCk7dD1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxyPWUqTWF0aC5wb3coMiwtdCksKHI9TWF0aC5yb3VuZChyKm4uYS5UV09fVE9fMjMpKT49MTY3NzcyMTYmJisrdCxyJj04Mzg4NjA3LG8uc3BsaXQ2NEhpZ2g9MCxvLnNwbGl0NjRMb3c9KGk8PDMxfHQrMTI3PDwyM3xyKT4+PjB9ZWxzZSAxL2U+MD8oby5zcGxpdDY0SGlnaD0wLG8uc3BsaXQ2NExvdz0wKTooby5zcGxpdDY0SGlnaD0wLG8uc3BsaXQ2NExvdz0yMTQ3NDgzNjQ4KX0sby5zcGxpdEZsb2F0NjQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTwwPzE6MDtpZigwIT09KGU9dD8tZTplKSl7aWYoaXNOYU4oZSkpcmV0dXJuIG8uc3BsaXQ2NEhpZ2g9MjE0NzQ4MzY0Nyx2b2lkKG8uc3BsaXQ2NExvdz00Mjk0OTY3Mjk1KTtpZihlPm4uYS5GTE9BVDY0X01BWClyZXR1cm4gby5zcGxpdDY0SGlnaD0odDw8MzF8MjE0NjQzNTA3Mik+Pj4wLHZvaWQoby5zcGxpdDY0TG93PTApO2lmKGU8bi5hLkZMT0FUNjRfTUlOKXt2YXIgcj0ocz1lL01hdGgucG93KDIsLTEwNzQpKS9uLmEuVFdPX1RPXzMyO3JldHVybiBvLnNwbGl0NjRIaWdoPSh0PDwzMXxyKT4+PjAsdm9pZChvLnNwbGl0NjRMb3c9cz4+PjApfXZhciBpPWUsYT0wO2lmKGk+PTIpZm9yKDtpPj0yJiZhPDEwMjM7KWErKyxpLz0yO2Vsc2UgZm9yKDtpPDEmJmE+LTEwMjI7KWkqPTIsYS0tO3I9KHM9ZSpNYXRoLnBvdygyLC1hKSkqbi5hLlRXT19UT18yMCYxMDQ4NTc1O3ZhciBzLHU9cypuLmEuVFdPX1RPXzUyPj4+MDtvLnNwbGl0NjRIaWdoPSh0PDwzMXxhKzEwMjM8PDIwfHIpPj4+MCxvLnNwbGl0NjRMb3c9dX1lbHNlIDEvZT4wPyhvLnNwbGl0NjRIaWdoPTAsby5zcGxpdDY0TG93PTApOihvLnNwbGl0NjRIaWdoPTIxNDc0ODM2NDgsby5zcGxpdDY0TG93PTApfSxvLmpvaW5VaW50NjQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCpuLmEuVFdPX1RPXzMyKyhlPj4+MCl9LG8uam9pbkludDY0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9MjE0NzQ4MzY0OCZ0O3ImJih0PX50Pj4+MCwwPT0oZT0xK35lPj4+MCkmJih0PXQrMT4+PjApKTt2YXIgbj1vLmpvaW5VaW50NjQoZSx0KTtyZXR1cm4gcj8tbjpufSxvLmpvaW5GbG9hdDMyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MiooZT4+MzEpKzEsbj1lPj4+MjMmMjU1LGk9ODM4ODYwNyZlO3JldHVybiAyNTU9PW4/aT9OYU46ciooMS8wKTowPT1uP3IqTWF0aC5wb3coMiwtMTQ5KSppOnIqTWF0aC5wb3coMixuLTE1MCkqKGkrTWF0aC5wb3coMiwyMykpfSxvLmpvaW5GbG9hdDY0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9MioodD4+MzEpKzEsaT10Pj4+MjAmMjA0NyxvPW4uYS5UV09fVE9fMzIqKDEwNDg1NzUmdCkrZTtyZXR1cm4gMjA0Nz09aT9vP05hTjpyKigxLzApOjA9PWk/cipNYXRoLnBvdygyLC0xMDc0KSpvOnIqTWF0aC5wb3coMixpLTEwNzUpKihvK24uYS5UV09fVE9fNTIpfSxvLkRJR0lUUz1bXCIwXCIsXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCIsXCI1XCIsXCI2XCIsXCI3XCIsXCI4XCIsXCI5XCIsXCJhXCIsXCJiXCIsXCJjXCIsXCJkXCIsXCJlXCIsXCJmXCJdLG8uWkVST19DSEFSX0NPREVfPTQ4LG8uQV9DSEFSX0NPREVfPTk3LG8uam9pblNpZ25lZERlY2ltYWxTdHJpbmc9ZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChhLFwiIFwiKS5jb25jYXQoXCJ1dGlsc1wiLFwiIGpvaW5TaWduZWREZWNpbWFsU3RyaW5nXCIpKTt2YXIgcj0yMTQ3NDgzNjQ4JnQ7ciYmKHQ9fnQrKDA9PShlPTErfmU+Pj4wKT8xOjApPj4+MCk7dmFyIG49by5qb2luVW5zaWduZWREZWNpbWFsU3RyaW5nKGUsdCk7cmV0dXJuIHI/XCItXCIrbjpufSxvLmJ5dGVTb3VyY2VUb1VpbnQ4QXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uc3RydWN0b3I9PT1VaW50OEFycmF5P3Q6dC5jb25zdHJ1Y3Rvcj09PUFycmF5QnVmZmVyPyh0PXQsbmV3IFVpbnQ4QXJyYXkodCkpOnZvaWQgMCE9PWUmJnQuY29uc3RydWN0b3I9PT1lP25ldyBVaW50OEFycmF5KHQpOnQuY29uc3RydWN0b3I9PT1BcnJheT8odD10LG5ldyBVaW50OEFycmF5KHQpKTp0LmNvbnN0cnVjdG9yPT09U3RyaW5nPyh0PXQsT2JqZWN0KGkuYikodCkpOm5ldyBVaW50OEFycmF5KDApfX0pLmNhbGwodGhpcyxyKDM1KS5CdWZmZXIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyksaT1yKDIyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pKGUsdCxcImdldFwiKTtyZXR1cm4gbihlLHIpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZS5leHBvcnRzPXI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxyKHQpfWUuZXhwb3J0cz1yLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzkpKCk7ZS5leHBvcnRzPW47dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT1ufWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lPW46RnVuY3Rpb24oXCJyXCIsXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKG4pfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHQpe3JldHVybiBlLmV4cG9ydHM9cj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHMscih0KX1lLmV4cG9ydHM9cixlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLmQodCxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxyLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxyLmQodCxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgbj1udWxsLGk9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLG89e30sYT0wLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGgscj0zKnQvNDtyJTM/cj1NYXRoLmZsb29yKHIpOnUoZVt0LTFdKSYmKHUoZVt0LTJdKT9yLT0yOnItPTEpO3ZhciBuPW5ldyBVaW50OEFycmF5KHIpLGk9MDtyZXR1cm4gYyhlLChmdW5jdGlvbihlKXtuW2krK109ZX0pKSxpIT09cj9uLnN1YmFycmF5KDAsaSk6bn0sdT1mdW5jdGlvbihlKXtyZXR1cm4tMSE9XCI9LlwiLmluZGV4T2YoZSl9LGM9ZnVuY3Rpb24oZSx0KXtmKCk7dmFyIHI9MDtmdW5jdGlvbiBpKHQpe2Zvcig7cjxlLmxlbmd0aDspe3ZhciBpPWUuY2hhckF0KHIrKyksbz1uW2ldO2lmKG51bGwhPW8pcmV0dXJuIG87aWYoIS9eW1xcc1xceGEwXSokLy50ZXN0KGkpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6IFwiK2kpfXJldHVybiB0fWZvcig7Oyl7dmFyIG89aSgtMSksYT1pKDApLHM9aSg2NCksdT1pKDY0KTtpZig2ND09PXUmJi0xPT09bylyZXR1cm47aWYodChvPDwyfGE+PjQpLDY0IT1zKWlmKHQoYTw8NCYyNDB8cz4+MiksNjQhPXUpdChzPDw2JjE5Mnx1KX19LGY9ZnVuY3Rpb24oKXtpZighbil7bj17fTtmb3IodmFyIGU9aS5zcGxpdChcIlwiKSx0PVtcIisvPVwiLFwiKy9cIixcIi1fPVwiLFwiLV8uXCIsXCItX1wiXSxyPTA7cjw1O3IrKyl7dmFyIGE9ZS5jb25jYXQodFtyXS5zcGxpdChcIlwiKSk7b1tyXT1hO2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgdT1hW3NdO3ZvaWQgMD09PW5bdV0mJihuW3VdPXMpfX19fSxsPWZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoPD04MTkyKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZSk7Zm9yKHZhciB0PVwiXCIscj0wO3I8ZS5sZW5ndGg7cis9ODE5Mil7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSxyLHIrODE5Mik7dCs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG4pfXJldHVybiB0fSxwPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9YSksZigpO2Zvcih2YXIgcj1vW3RdLG49bmV3IEFycmF5KE1hdGguZmxvb3IoZS5sZW5ndGgvMykpLGk9cls2NF18fFwiXCIscz0wLHU9MDtzPGUubGVuZ3RoLTI7cys9Myl7dmFyIGM9ZVtzXSxsPWVbcysxXSxwPWVbcysyXSxoPXJbYz4+Ml0sZD1yWygzJmMpPDw0fGw+PjRdLHk9clsoMTUmbCk8PDJ8cD4+Nl0sZz1yWzYzJnBdO25bdSsrXT1cIlwiK2grZCt5K2d9dmFyIHY9MCxiPWk7c3dpdGNoKGUubGVuZ3RoLXMpe2Nhc2UgMjpiPXJbKDE1Jih2PWVbcysxXSkpPDwyXXx8aTtjYXNlIDE6dmFyIHc9ZVtzXSxtPXJbdz4+Ml0sXz1yWygzJncpPDw0fHY+PjRdO25bdV09XCJcIittK18rYitpfXJldHVybiBuLmpvaW4oXCJcIil9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHQmJm4oZSx0KX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMikuZGVmYXVsdCxpPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHQmJihcIm9iamVjdFwiPT09bih0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkpcmV0dXJuIHQ7aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGkoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUsdCxyLG4saSxvLGEpe3RyeXt2YXIgcz1lW29dKGEpLHU9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfXMuZG9uZT90KHUpOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKG4saSl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe3ZhciBhPWUuYXBwbHkodCxuKTtmdW5jdGlvbiBzKGUpe3IoYSxpLG8scyx1LFwibmV4dFwiLGUpfWZ1bmN0aW9uIHUoZSl7cihhLGksbyxzLHUsXCJ0aHJvd1wiLGUpfXModm9pZCAwKX0pKX19LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzQpLGk9cigyMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1pKGUsdCxcInNldFwiKTtyZXR1cm4gbihlLG8scikscn0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lW1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIG4oZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PXJ8fFwiU2V0XCI9PT1yP0FycmF5LmZyb20oZSk6XCJBcmd1bWVudHNcIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP24oZSx0KTp2b2lkIDB9fSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBcIityK1wiIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNyksaT1yKDIwKSxvPXIoMjEpLGE9cigyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfHxpKGUpfHxvKGUpfHxhKCl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjkpLGk9cigyMCksbz1yKDIxKSxhPXIoMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihlKXx8aShlKXx8byhlKXx8YSgpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1KU09OLnBhcnNlKCd7XCJhXCI6XCI2LjguMC0zMDBcIn0nKX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDQwKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBuKGUpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHQsbil7cmV0dXJuIGUuZXhwb3J0cz1yPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHIodCxuKX1lLmV4cG9ydHM9cixlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZ2V0P3QuZ2V0LmNhbGwoZSk6dC52YWx1ZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYodC5zZXQpdC5zZXQuY2FsbChlLHIpO2Vsc2V7aWYoIXQud3JpdGFibGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGRcIik7dC52YWx1ZT1yfX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbnZhciBuPXIoMzYpLGk9cigzNyksbz1yKDM4KTtmdW5jdGlvbiBhKCl7cmV0dXJuIHUuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gcyhlLHQpe2lmKGEoKTx0KXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGhcIik7cmV0dXJuIHUuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT1uZXcgVWludDhBcnJheSh0KSkuX19wcm90b19fPXUucHJvdG90eXBlOihudWxsPT09ZSYmKGU9bmV3IHUodCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gdShlLHQscil7aWYoISh1LlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiB1KSlyZXR1cm4gbmV3IHUoZSx0LHIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gbCh0aGlzLGUpfXJldHVybiBjKHRoaXMsZSx0LHIpfWZ1bmN0aW9uIGMoZSx0LHIsbil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24oZSx0LHIsbil7aWYodC5ieXRlTGVuZ3RoLHI8MHx8dC5ieXRlTGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzXCIpO2lmKHQuYnl0ZUxlbmd0aDxyKyhufHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHNcIik7dD12b2lkIDA9PT1yJiZ2b2lkIDA9PT1uP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PW4/bmV3IFVpbnQ4QXJyYXkodCxyKTpuZXcgVWludDhBcnJheSh0LHIsbik7dS5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPXQpLl9fcHJvdG9fXz11LnByb3RvdHlwZTplPXAoZSx0KTtyZXR1cm4gZX0oZSx0LHIsbik6XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSx0LHIpe1wic3RyaW5nXCI9PXR5cGVvZiByJiZcIlwiIT09cnx8KHI9XCJ1dGY4XCIpO2lmKCF1LmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgbj0wfGQodCxyKSxpPShlPXMoZSxuKSkud3JpdGUodCxyKTtpIT09biYmKGU9ZS5zbGljZSgwLGkpKTtyZXR1cm4gZX0oZSx0LHIpOmZ1bmN0aW9uKGUsdCl7aWYodS5pc0J1ZmZlcih0KSl7dmFyIHI9MHxoKHQubGVuZ3RoKTtyZXR1cm4gMD09PShlPXMoZSxyKSkubGVuZ3RofHx0LmNvcHkoZSwwLDAsciksZX1pZih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fFwibGVuZ3RoXCJpbiB0KXJldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0Lmxlbmd0aHx8KG49dC5sZW5ndGgpIT1uP3MoZSwwKTpwKGUsdCk7aWYoXCJCdWZmZXJcIj09PXQudHlwZSYmbyh0LmRhdGEpKXJldHVybiBwKGUsdC5kYXRhKX12YXIgbjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LlwiKX0oZSx0KX1mdW5jdGlvbiBmKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKTtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gbChlLHQpe2lmKGYodCksZT1zKGUsdDwwPzA6MHxoKHQpKSwhdS5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgcj0wO3I8dDsrK3IpZVtyXT0wO3JldHVybiBlfWZ1bmN0aW9uIHAoZSx0KXt2YXIgcj10Lmxlbmd0aDwwPzA6MHxoKHQubGVuZ3RoKTtlPXMoZSxyKTtmb3IodmFyIG49MDtuPHI7bis9MSllW25dPTI1NSZ0W25dO3JldHVybiBlfWZ1bmN0aW9uIGgoZSl7aWYoZT49YSgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2EoKS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8ZX1mdW5jdGlvbiBkKGUsdCl7aWYodS5pc0J1ZmZlcihlKSlyZXR1cm4gZS5sZW5ndGg7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDtcInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9XCJcIitlKTt2YXIgcj1lLmxlbmd0aDtpZigwPT09cilyZXR1cm4gMDtmb3IodmFyIG49ITE7Oylzd2l0Y2godCl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gcjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlIHZvaWQgMDpyZXR1cm4gQihlKS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqcjtjYXNlXCJoZXhcIjpyZXR1cm4gcj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIFUoZSkubGVuZ3RoO2RlZmF1bHQ6aWYobilyZXR1cm4gQihlKS5sZW5ndGg7dD0oXCJcIit0KS50b0xvd2VyQ2FzZSgpLG49ITB9fWZ1bmN0aW9uIHkoZSx0LHIpe3ZhciBuPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVyblwiXCI7aWYoKHZvaWQgMD09PXJ8fHI+dGhpcy5sZW5ndGgpJiYocj10aGlzLmxlbmd0aCkscjw9MClyZXR1cm5cIlwiO2lmKChyPj4+PTApPD0odD4+Pj0wKSlyZXR1cm5cIlwiO2ZvcihlfHwoZT1cInV0ZjhcIik7Oylzd2l0Y2goZSl7Y2FzZVwiaGV4XCI6cmV0dXJuIGsodGhpcyx0LHIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBUKHRoaXMsdCxyKTtjYXNlXCJhc2NpaVwiOnJldHVybiBPKHRoaXMsdCxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gUih0aGlzLHQscik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIEEodGhpcyx0LHIpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBQKHRoaXMsdCxyKTtkZWZhdWx0OmlmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2UpO2U9KGUrXCJcIikudG9Mb3dlckNhc2UoKSxuPSEwfX1mdW5jdGlvbiBnKGUsdCxyKXt2YXIgbj1lW3RdO2VbdF09ZVtyXSxlW3JdPW59ZnVuY3Rpb24gdihlLHQscixuLGkpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4tMTtpZihcInN0cmluZ1wiPT10eXBlb2Ygcj8obj1yLHI9MCk6cj4yMTQ3NDgzNjQ3P3I9MjE0NzQ4MzY0NzpyPC0yMTQ3NDgzNjQ4JiYocj0tMjE0NzQ4MzY0OCkscj0rcixpc05hTihyKSYmKHI9aT8wOmUubGVuZ3RoLTEpLHI8MCYmKHI9ZS5sZW5ndGgrcikscj49ZS5sZW5ndGgpe2lmKGkpcmV0dXJuLTE7cj1lLmxlbmd0aC0xfWVsc2UgaWYocjwwKXtpZighaSlyZXR1cm4tMTtyPTB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXUuZnJvbSh0LG4pKSx1LmlzQnVmZmVyKHQpKXJldHVybiAwPT09dC5sZW5ndGg/LTE6YihlLHQscixuLGkpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0Jj0yNTUsdS5UWVBFRF9BUlJBWV9TVVBQT1JUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP2k/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxyKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxyKTpiKGUsW3RdLHIsbixpKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIGIoZSx0LHIsbixpKXt2YXIgbyxhPTEscz1lLmxlbmd0aCx1PXQubGVuZ3RoO2lmKHZvaWQgMCE9PW4mJihcInVjczJcIj09PShuPVN0cmluZyhuKS50b0xvd2VyQ2FzZSgpKXx8XCJ1Y3MtMlwiPT09bnx8XCJ1dGYxNmxlXCI9PT1ufHxcInV0Zi0xNmxlXCI9PT1uKSl7aWYoZS5sZW5ndGg8Mnx8dC5sZW5ndGg8MilyZXR1cm4tMTthPTIscy89Mix1Lz0yLHIvPTJ9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiAxPT09YT9lW3RdOmUucmVhZFVJbnQxNkJFKHQqYSl9aWYoaSl7dmFyIGY9LTE7Zm9yKG89cjtvPHM7bysrKWlmKGMoZSxvKT09PWModCwtMT09PWY/MDpvLWYpKXtpZigtMT09PWYmJihmPW8pLG8tZisxPT09dSlyZXR1cm4gZiphfWVsc2UtMSE9PWYmJihvLT1vLWYpLGY9LTF9ZWxzZSBmb3Iocit1PnMmJihyPXMtdSksbz1yO28+PTA7by0tKXtmb3IodmFyIGw9ITAscD0wO3A8dTtwKyspaWYoYyhlLG8rcCkhPT1jKHQscCkpe2w9ITE7YnJlYWt9aWYobClyZXR1cm4gb31yZXR1cm4tMX1mdW5jdGlvbiB3KGUsdCxyLG4pe3I9TnVtYmVyKHIpfHwwO3ZhciBpPWUubGVuZ3RoLXI7bj8obj1OdW1iZXIobikpPmkmJihuPWkpOm49aTt2YXIgbz10Lmxlbmd0aDtpZihvJTIhPTApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZ1wiKTtuPm8vMiYmKG49by8yKTtmb3IodmFyIGE9MDthPG47KythKXt2YXIgcz1wYXJzZUludCh0LnN1YnN0cigyKmEsMiksMTYpO2lmKGlzTmFOKHMpKXJldHVybiBhO2VbcithXT1zfXJldHVybiBhfWZ1bmN0aW9uIG0oZSx0LHIsbil7cmV0dXJuIFYoQih0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiBfKGUsdCxyLG4pe3JldHVybiBWKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQocikpO3JldHVybiB0fSh0KSxlLHIsbil9ZnVuY3Rpb24gRShlLHQscixuKXtyZXR1cm4gXyhlLHQscixuKX1mdW5jdGlvbiBJKGUsdCxyLG4pe3JldHVybiBWKFUodCksZSxyLG4pfWZ1bmN0aW9uIFMoZSx0LHIsbil7cmV0dXJuIFYoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixpLG89W10sYT0wO2E8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrYSlyPWUuY2hhckNvZGVBdChhKSxuPXI+PjgsaT1yJTI1NixvLnB1c2goaSksby5wdXNoKG4pO3JldHVybiBvfSh0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiBBKGUsdCxyKXtyZXR1cm4gMD09PXQmJnI9PT1lLmxlbmd0aD9uLmZyb21CeXRlQXJyYXkoZSk6bi5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxyKSl9ZnVuY3Rpb24gVChlLHQscil7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IodmFyIG49W10saT10O2k8cjspe3ZhciBvLGEscyx1LGM9ZVtpXSxmPW51bGwsbD1jPjIzOT80OmM+MjIzPzM6Yz4xOTE/MjoxO2lmKGkrbDw9cilzd2l0Y2gobCl7Y2FzZSAxOmM8MTI4JiYoZj1jKTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihvPWVbaSsxXSkpJiYodT0oMzEmYyk8PDZ8NjMmbyk+MTI3JiYoZj11KTticmVhaztjYXNlIDM6bz1lW2krMV0sYT1lW2krMl0sMTI4PT0oMTkyJm8pJiYxMjg9PSgxOTImYSkmJih1PSgxNSZjKTw8MTJ8KDYzJm8pPDw2fDYzJmEpPjIwNDcmJih1PDU1Mjk2fHx1PjU3MzQzKSYmKGY9dSk7YnJlYWs7Y2FzZSA0Om89ZVtpKzFdLGE9ZVtpKzJdLHM9ZVtpKzNdLDEyOD09KDE5MiZvKSYmMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImcykmJih1PSgxNSZjKTw8MTh8KDYzJm8pPDwxMnwoNjMmYSk8PDZ8NjMmcyk+NjU1MzUmJnU8MTExNDExMiYmKGY9dSl9bnVsbD09PWY/KGY9NjU1MzMsbD0xKTpmPjY1NTM1JiYoZi09NjU1MzYsbi5wdXNoKGY+Pj4xMCYxMDIzfDU1Mjk2KSxmPTU2MzIwfDEwMjMmZiksbi5wdXNoKGYpLGkrPWx9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PTQwOTYpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpO3ZhciByPVwiXCIsbj0wO2Zvcig7bjx0OylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKG4sbis9NDA5NikpO3JldHVybiByfShuKX10LkJ1ZmZlcj11LHQuU2xvd0J1ZmZlcj1mdW5jdGlvbihlKXsrZSE9ZSYmKGU9MCk7cmV0dXJuIHUuYWxsb2MoK2UpfSx0LklOU1BFQ1RfTUFYX0JZVEVTPTUwLHUuVFlQRURfQVJSQVlfU1VQUE9SVD12b2lkIDAhPT1lLlRZUEVEX0FSUkFZX1NVUFBPUlQ/ZS5UWVBFRF9BUlJBWV9TVVBQT1JUOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW5ldyBVaW50OEFycmF5KDEpO3JldHVybiBlLl9fcHJvdG9fXz17X19wcm90b19fOlVpbnQ4QXJyYXkucHJvdG90eXBlLGZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19LDQyPT09ZS5mb28oKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zdWJhcnJheSYmMD09PWUuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSx0LmtNYXhMZW5ndGg9YSgpLHUucG9vbFNpemU9ODE5Mix1Ll9hdWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fXz11LnByb3RvdHlwZSxlfSx1LmZyb209ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBjKG51bGwsZSx0LHIpfSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQmJih1LnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsdS5fX3Byb3RvX189VWludDhBcnJheSxcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuc3BlY2llcyYmdVtTeW1ib2wuc3BlY2llc109PT11JiZPYmplY3QuZGVmaW5lUHJvcGVydHkodSxTeW1ib2wuc3BlY2llcyx7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITB9KSksdS5hbGxvYz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBmKHQpLHQ8PTA/cyhlLHQpOnZvaWQgMCE9PXI/XCJzdHJpbmdcIj09dHlwZW9mIG4/cyhlLHQpLmZpbGwocixuKTpzKGUsdCkuZmlsbChyKTpzKGUsdCl9KG51bGwsZSx0LHIpfSx1LmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe3JldHVybiBsKG51bGwsZSl9LHUuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe3JldHVybiBsKG51bGwsZSl9LHUuaXNCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIShudWxsPT1lfHwhZS5faXNCdWZmZXIpfSx1LmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtpZighdS5pc0J1ZmZlcihlKXx8IXUuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnNcIik7aWYoZT09PXQpcmV0dXJuIDA7Zm9yKHZhciByPWUubGVuZ3RoLG49dC5sZW5ndGgsaT0wLG89TWF0aC5taW4ocixuKTtpPG87KytpKWlmKGVbaV0hPT10W2ldKXtyPWVbaV0sbj10W2ldO2JyZWFrfXJldHVybiByPG4/LTE6bjxyPzE6MH0sdS5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sdS5jb25jYXQ9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHUuYWxsb2MoMCk7dmFyIHI7aWYodm9pZCAwPT09dClmb3IodD0wLHI9MDtyPGUubGVuZ3RoOysrcil0Kz1lW3JdLmxlbmd0aDt2YXIgbj11LmFsbG9jVW5zYWZlKHQpLGk9MDtmb3Iocj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgYT1lW3JdO2lmKCF1LmlzQnVmZmVyKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2EuY29weShuLGkpLGkrPWEubGVuZ3RofXJldHVybiBufSx1LmJ5dGVMZW5ndGg9ZCx1LnByb3RvdHlwZS5faXNCdWZmZXI9ITAsdS5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKHZhciB0PTA7dDxlO3QrPTIpZyh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHNcIik7Zm9yKHZhciB0PTA7dDxlO3QrPTQpZyh0aGlzLHQsdCszKSxnKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz04KWcodGhpcyx0LHQrNyksZyh0aGlzLHQrMSx0KzYpLGcodGhpcyx0KzIsdCs1KSxnKHRoaXMsdCszLHQrNCk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PWU/XCJcIjowPT09YXJndW1lbnRzLmxlbmd0aD9UKHRoaXMsMCxlKTp5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCF1LmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO3JldHVybiB0aGlzPT09ZXx8MD09PXUuY29tcGFyZSh0aGlzLGUpfSx1LnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9XCJcIixyPXQuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJihlPXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLHIpLm1hdGNoKC8uezJ9L2cpLmpvaW4oXCIgXCIpLHRoaXMubGVuZ3RoPnImJihlKz1cIiAuLi4gXCIpKSxcIjxCdWZmZXIgXCIrZStcIj5cIn0sdS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQscixuLGkpe2lmKCF1LmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PXImJihyPWU/ZS5sZW5ndGg6MCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09aSYmKGk9dGhpcy5sZW5ndGgpLHQ8MHx8cj5lLmxlbmd0aHx8bjwwfHxpPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKG4+PWkmJnQ+PXIpcmV0dXJuIDA7aWYobj49aSlyZXR1cm4tMTtpZih0Pj1yKXJldHVybiAxO2lmKHRoaXM9PT1lKXJldHVybiAwO2Zvcih2YXIgbz0oaT4+Pj0wKS0obj4+Pj0wKSxhPShyPj4+PTApLSh0Pj4+PTApLHM9TWF0aC5taW4obyxhKSxjPXRoaXMuc2xpY2UobixpKSxmPWUuc2xpY2UodCxyKSxsPTA7bDxzOysrbClpZihjW2xdIT09ZltsXSl7bz1jW2xdLGE9ZltsXTticmVha31yZXR1cm4gbzxhPy0xOmE8bz8xOjB9LHUucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQscil9LHUucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2KHRoaXMsZSx0LHIsITApfSx1LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHYodGhpcyxlLHQsciwhMSl9LHUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHZvaWQgMD09PXQpbj1cInV0ZjhcIixyPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PXImJlwic3RyaW5nXCI9PXR5cGVvZiB0KW49dCxyPXRoaXMubGVuZ3RoLHQ9MDtlbHNle2lmKCFpc0Zpbml0ZSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTt0fD0wLGlzRmluaXRlKHIpPyhyfD0wLHZvaWQgMD09PW4mJihuPVwidXRmOFwiKSk6KG49cixyPXZvaWQgMCl9dmFyIGk9dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09cnx8cj5pKSYmKHI9aSksZS5sZW5ndGg+MCYmKHI8MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO258fChuPVwidXRmOFwiKTtmb3IodmFyIG89ITE7Oylzd2l0Y2gobil7Y2FzZVwiaGV4XCI6cmV0dXJuIHcodGhpcyxlLHQscik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIG0odGhpcyxlLHQscik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gXyh0aGlzLGUsdCxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gRSh0aGlzLGUsdCxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gSSh0aGlzLGUsdCxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gUyh0aGlzLGUsdCxyKTtkZWZhdWx0OmlmKG8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK24pO249KFwiXCIrbikudG9Mb3dlckNhc2UoKSxvPSEwfX0sdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O2Z1bmN0aW9uIE8oZSx0LHIpe3ZhciBuPVwiXCI7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IodmFyIGk9dDtpPHI7KytpKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JmVbaV0pO3JldHVybiBufWZ1bmN0aW9uIFIoZSx0LHIpe3ZhciBuPVwiXCI7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IodmFyIGk9dDtpPHI7KytpKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gayhlLHQscil7dmFyIG49ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKSwoIXJ8fHI8MHx8cj5uKSYmKHI9bik7Zm9yKHZhciBpPVwiXCIsbz10O288cjsrK28paSs9RihlW29dKTtyZXR1cm4gaX1mdW5jdGlvbiBQKGUsdCxyKXtmb3IodmFyIG49ZS5zbGljZSh0LHIpLGk9XCJcIixvPTA7bzxuLmxlbmd0aDtvKz0yKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUobltvXSsyNTYqbltvKzFdKTtyZXR1cm4gaX1mdW5jdGlvbiBOKGUsdCxyKXtpZihlJTEhPTB8fGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZihlK3Q+cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24geChlLHQscixuLGksbyl7aWYoIXUuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodD5pfHx0PG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYocituPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIGooZSx0LHIsbil7dDwwJiYodD02NTUzNSt0KzEpO2Zvcih2YXIgaT0wLG89TWF0aC5taW4oZS5sZW5ndGgtciwyKTtpPG87KytpKWVbcitpXT0odCYyNTU8PDgqKG4/aToxLWkpKT4+PjgqKG4/aToxLWkpfWZ1bmN0aW9uIEMoZSx0LHIsbil7dDwwJiYodD00Mjk0OTY3Mjk1K3QrMSk7Zm9yKHZhciBpPTAsbz1NYXRoLm1pbihlLmxlbmd0aC1yLDQpO2k8bzsrK2kpZVtyK2ldPXQ+Pj44KihuP2k6My1pKSYyNTV9ZnVuY3Rpb24gTShlLHQscixuLGksbyl7aWYocituPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBIKGUsdCxyLG4sbyl7cmV0dXJuIG98fE0oZSwwLHIsNCksaS53cml0ZShlLHQscixuLDIzLDQpLHIrNH1mdW5jdGlvbiBMKGUsdCxyLG4sbyl7cmV0dXJuIG98fE0oZSwwLHIsOCksaS53cml0ZShlLHQscixuLDUyLDgpLHIrOH11LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5sZW5ndGg7aWYoKGU9fn5lKTwwPyhlKz1uKTwwJiYoZT0wKTplPm4mJihlPW4pLCh0PXZvaWQgMD09PXQ/bjp+fnQpPDA/KHQrPW4pPDAmJih0PTApOnQ+biYmKHQ9biksdDxlJiYodD1lKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQpKHI9dGhpcy5zdWJhcnJheShlLHQpKS5fX3Byb3RvX189dS5wcm90b3R5cGU7ZWxzZXt2YXIgaT10LWU7cj1uZXcgdShpLHZvaWQgMCk7Zm9yKHZhciBvPTA7bzxpOysrbylyW29dPXRoaXNbbytlXX1yZXR1cm4gcn0sdS5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbihlLHQscil7ZXw9MCx0fD0wLHJ8fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1tlXSxpPTEsbz0wOysrbzx0JiYoaSo9MjU2KTspbis9dGhpc1tlK29dKmk7cmV0dXJuIG59LHUucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LHIpe2V8PTAsdHw9MCxyfHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPXRoaXNbZSstLXRdLGk9MTt0PjAmJihpKj0yNTYpOyluKz10aGlzW2UrLS10XSppO3JldHVybiBufSx1LnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDEsdGhpcy5sZW5ndGgpLHRoaXNbZV19LHUucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LHUucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXTw8OHx0aGlzW2UrMV19LHUucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksKHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbZSszXX0sdS5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSx1LnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oZSx0LHIpe2V8PTAsdHw9MCxyfHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPXRoaXNbZV0saT0xLG89MDsrK288dCYmKGkqPTI1Nik7KW4rPXRoaXNbZStvXSppO3JldHVybiBuPj0oaSo9MTI4KSYmKG4tPU1hdGgucG93KDIsOCp0KSksbn0sdS5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKGUsdCxyKXtlfD0wLHR8PTAscnx8TihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10LGk9MSxvPXRoaXNbZSstLW5dO24+MCYmKGkqPTI1Nik7KW8rPXRoaXNbZSstLW5dKmk7cmV0dXJuIG8+PShpKj0xMjgpJiYoby09TWF0aC5wb3coMiw4KnQpKSxvfSx1LnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LHUucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7dHx8TihlLDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbZV18dGhpc1tlKzFdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSx1LnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3R8fE4oZSwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0sdS5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0sdS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDI0fHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXX0sdS5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLGkucmVhZCh0aGlzLGUsITAsMjMsNCl9LHUucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSxpLnJlYWQodGhpcyxlLCExLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDgsdGhpcy5sZW5ndGgpLGkucmVhZCh0aGlzLGUsITAsNTIsOCl9LHUucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsOCx0aGlzLmxlbmd0aCksaS5yZWFkKHRoaXMsZSwhMSw1Miw4KX0sdS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oZSx0LHIsbil7KGU9K2UsdHw9MCxyfD0wLG4pfHx4KHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIGk9MSxvPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytvPHImJihpKj0yNTYpOyl0aGlzW3Qrb109ZS9pJjI1NTtyZXR1cm4gdCtyfSx1LnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQscixuKXsoZT0rZSx0fD0wLHJ8PTAsbil8fHgodGhpcyxlLHQscixNYXRoLnBvdygyLDgqciktMSwwKTt2YXIgaT1yLTEsbz0xO2Zvcih0aGlzW3QraV09MjU1JmU7LS1pPj0wJiYobyo9MjU2KTspdGhpc1t0K2ldPWUvbyYyNTU7cmV0dXJuIHQrcn0sdS5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHx4KHRoaXMsZSx0LDEsMjU1LDApLHUuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksdGhpc1t0XT0yNTUmZSx0KzF9LHUucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8eCh0aGlzLGUsdCwyLDY1NTM1LDApLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOmoodGhpcyxlLHQsITApLHQrMn0sdS5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHx4KHRoaXMsZSx0LDIsNjU1MzUsMCksdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6aih0aGlzLGUsdCwhMSksdCsyfSx1LnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fHgodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0KzNdPWU+Pj4yNCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCsxXT1lPj4+OCx0aGlzW3RdPTI1NSZlKTpDKHRoaXMsZSx0LCEwKSx0KzR9LHUucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8eCh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOkModGhpcyxlLHQsITEpLHQrNH0sdS5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHR8PTAsIW4pe3ZhciBpPU1hdGgucG93KDIsOCpyLTEpO3godGhpcyxlLHQscixpLTEsLWkpfXZhciBvPTAsYT0xLHM9MDtmb3IodGhpc1t0XT0yNTUmZTsrK288ciYmKGEqPTI1Nik7KWU8MCYmMD09PXMmJjAhPT10aGlzW3Qrby0xXSYmKHM9MSksdGhpc1t0K29dPShlL2E+PjApLXMmMjU1O3JldHVybiB0K3J9LHUucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24oZSx0LHIsbil7aWYoZT0rZSx0fD0wLCFuKXt2YXIgaT1NYXRoLnBvdygyLDgqci0xKTt4KHRoaXMsZSx0LHIsaS0xLC1pKX12YXIgbz1yLTEsYT0xLHM9MDtmb3IodGhpc1t0K29dPTI1NSZlOy0tbz49MCYmKGEqPTI1Nik7KWU8MCYmMD09PXMmJjAhPT10aGlzW3QrbysxXSYmKHM9MSksdGhpc1t0K29dPShlL2E+PjApLXMmMjU1O3JldHVybiB0K3J9LHUucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHx4KHRoaXMsZSx0LDEsMTI3LC0xMjgpLHUuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksZTwwJiYoZT0yNTUrZSsxKSx0aGlzW3RdPTI1NSZlLHQrMX0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fHgodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOmoodGhpcyxlLHQsITApLHQrMn0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fHgodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOmoodGhpcyxlLHQsITEpLHQrMn0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fHgodGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzNdPWU+Pj4yNCk6Qyh0aGlzLGUsdCwhMCksdCs0fSx1LnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8eCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTpDKHRoaXMsZSx0LCExKSx0KzR9LHUucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEgodGhpcyxlLHQsITAscil9LHUucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEgodGhpcyxlLHQsITEscil9LHUucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBMKHRoaXMsZSx0LCEwLHIpfSx1LnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTCh0aGlzLGUsdCwhMSxyKX0sdS5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQscixuKXtpZihyfHwocj0wKSxufHwwPT09bnx8KG49dGhpcy5sZW5ndGgpLHQ+PWUubGVuZ3RoJiYodD1lLmxlbmd0aCksdHx8KHQ9MCksbj4wJiZuPHImJihuPXIpLG49PT1yKXJldHVybiAwO2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYocjwwfHxyPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7bj50aGlzLmxlbmd0aCYmKG49dGhpcy5sZW5ndGgpLGUubGVuZ3RoLXQ8bi1yJiYobj1lLmxlbmd0aC10K3IpO3ZhciBpLG89bi1yO2lmKHRoaXM9PT1lJiZyPHQmJnQ8bilmb3IoaT1vLTE7aT49MDstLWkpZVtpK3RdPXRoaXNbaStyXTtlbHNlIGlmKG88MWUzfHwhdS5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihpPTA7aTxvOysraSllW2krdF09dGhpc1tpK3JdO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KHIscitvKSx0KTtyZXR1cm4gb30sdS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQscixuKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KG49dCx0PTAscj10aGlzLmxlbmd0aCk6XCJzdHJpbmdcIj09dHlwZW9mIHImJihuPXIscj10aGlzLmxlbmd0aCksMT09PWUubGVuZ3RoKXt2YXIgaT1lLmNoYXJDb2RlQXQoMCk7aTwyNTYmJihlPWkpfWlmKHZvaWQgMCE9PW4mJlwic3RyaW5nXCIhPXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuJiYhdS5pc0VuY29kaW5nKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIituKX1lbHNlXCJudW1iZXJcIj09dHlwZW9mIGUmJihlJj0yNTUpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5sZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihyPD10KXJldHVybiB0aGlzO3ZhciBvO2lmKHQ+Pj49MCxyPXZvaWQgMD09PXI/dGhpcy5sZW5ndGg6cj4+PjAsZXx8KGU9MCksXCJudW1iZXJcIj09dHlwZW9mIGUpZm9yKG89dDtvPHI7KytvKXRoaXNbb109ZTtlbHNle3ZhciBhPXUuaXNCdWZmZXIoZSk/ZTpCKG5ldyB1KGUsbikudG9TdHJpbmcoKSkscz1hLmxlbmd0aDtmb3Iobz0wO288ci10Oysrbyl0aGlzW28rdF09YVtvJXNdfXJldHVybiB0aGlzfTt2YXIgRD0vW14rXFwvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gRihlKXtyZXR1cm4gZTwxNj9cIjBcIitlLnRvU3RyaW5nKDE2KTplLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBCKGUsdCl7dmFyIHI7dD10fHwxLzA7Zm9yKHZhciBuPWUubGVuZ3RoLGk9bnVsbCxvPVtdLGE9MDthPG47KythKXtpZigocj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZyPDU3MzQ0KXtpZighaSl7aWYocj41NjMxOSl7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKGErMT09PW4peyh0LT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pPXI7Y29udGludWV9aWYocjw1NjMyMCl7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpLGk9cjtjb250aW51ZX1yPTY1NTM2KyhpLTU1Mjk2PDwxMHxyLTU2MzIwKX1lbHNlIGkmJih0LT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtpZihpPW51bGwscjwxMjgpe2lmKCh0LT0xKTwwKWJyZWFrO28ucHVzaChyKX1lbHNlIGlmKHI8MjA0OCl7aWYoKHQtPTIpPDApYnJlYWs7by5wdXNoKHI+PjZ8MTkyLDYzJnJ8MTI4KX1lbHNlIGlmKHI8NjU1MzYpe2lmKCh0LT0zKTwwKWJyZWFrO28ucHVzaChyPj4xMnwyMjQscj4+NiY2M3wxMjgsNjMmcnwxMjgpfWVsc2V7aWYoIShyPDExMTQxMTIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKTtpZigodC09NCk8MClicmVhaztvLnB1c2gocj4+MTh8MjQwLHI+PjEyJjYzfDEyOCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9fXJldHVybiBvfWZ1bmN0aW9uIFUoZSl7cmV0dXJuIG4udG9CeXRlQXJyYXkoZnVuY3Rpb24oZSl7aWYoKGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9KGUpLnJlcGxhY2UoRCxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO2UubGVuZ3RoJTQhPTA7KWUrPVwiPVwiO3JldHVybiBlfShlKSl9ZnVuY3Rpb24gVihlLHQscixuKXtmb3IodmFyIGk9MDtpPG4mJiEoaStyPj10Lmxlbmd0aHx8aT49ZS5sZW5ndGgpOysraSl0W2krcl09ZVtpXTtyZXR1cm4gaX19KS5jYWxsKHRoaXMscigxOCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0PWMoZSkscj10WzBdLG49dFsxXTtyZXR1cm4gMyoocituKS80LW59LHQudG9CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQscixuPWMoZSksYT1uWzBdLHM9blsxXSx1PW5ldyBvKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMyoodCtyKS80LXJ9KDAsYSxzKSksZj0wLGw9cz4wP2EtNDphO2ZvcihyPTA7cjxsO3IrPTQpdD1pW2UuY2hhckNvZGVBdChyKV08PDE4fGlbZS5jaGFyQ29kZUF0KHIrMSldPDwxMnxpW2UuY2hhckNvZGVBdChyKzIpXTw8NnxpW2UuY2hhckNvZGVBdChyKzMpXSx1W2YrK109dD4+MTYmMjU1LHVbZisrXT10Pj44JjI1NSx1W2YrK109MjU1JnQ7Mj09PXMmJih0PWlbZS5jaGFyQ29kZUF0KHIpXTw8MnxpW2UuY2hhckNvZGVBdChyKzEpXT4+NCx1W2YrK109MjU1JnQpOzE9PT1zJiYodD1pW2UuY2hhckNvZGVBdChyKV08PDEwfGlbZS5jaGFyQ29kZUF0KHIrMSldPDw0fGlbZS5jaGFyQ29kZUF0KHIrMildPj4yLHVbZisrXT10Pj44JjI1NSx1W2YrK109MjU1JnQpO3JldHVybiB1fSx0LmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZS5sZW5ndGgsaT1yJTMsbz1bXSxhPTAscz1yLWk7YTxzO2ErPTE2MzgzKW8ucHVzaChmKGUsYSxhKzE2MzgzPnM/czphKzE2MzgzKSk7MT09PWk/KHQ9ZVtyLTFdLG8ucHVzaChuW3Q+PjJdK25bdDw8NCY2M10rXCI9PVwiKSk6Mj09PWkmJih0PShlW3ItMl08PDgpK2Vbci0xXSxvLnB1c2goblt0Pj4xMF0rblt0Pj40JjYzXStuW3Q8PDImNjNdK1wiPVwiKSk7cmV0dXJuIG8uam9pbihcIlwiKX07Zm9yKHZhciBuPVtdLGk9W10sbz1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGE9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIscz0wLHU9YS5sZW5ndGg7czx1OysrcyluW3NdPWFbc10saVthLmNoYXJDb2RlQXQocyldPXM7ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmxlbmd0aDtpZih0JTQ+MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciByPWUuaW5kZXhPZihcIj1cIik7cmV0dXJuLTE9PT1yJiYocj10KSxbcixyPT09dD8wOjQtciU0XX1mdW5jdGlvbiBmKGUsdCxyKXtmb3IodmFyIGksbyxhPVtdLHM9dDtzPHI7cys9MylpPShlW3NdPDwxNiYxNjcxMTY4MCkrKGVbcysxXTw8OCY2NTI4MCkrKDI1NSZlW3MrMl0pLGEucHVzaChuWyhvPWkpPj4xOCY2M10rbltvPj4xMiY2M10rbltvPj42JjYzXStuWzYzJm9dKTtyZXR1cm4gYS5qb2luKFwiXCIpfWlbXCItXCIuY2hhckNvZGVBdCgwKV09NjIsaVtcIl9cIi5jaGFyQ29kZUF0KDApXT02M30sZnVuY3Rpb24oZSx0KXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG50LnJlYWQ9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbyxhLHM9OCppLW4tMSx1PSgxPDxzKS0xLGM9dT4+MSxmPS03LGw9cj9pLTE6MCxwPXI/LTE6MSxoPWVbdCtsXTtmb3IobCs9cCxvPWgmKDE8PC1mKS0xLGg+Pj0tZixmKz1zO2Y+MDtvPTI1NipvK2VbdCtsXSxsKz1wLGYtPTgpO2ZvcihhPW8mKDE8PC1mKS0xLG8+Pj0tZixmKz1uO2Y+MDthPTI1NiphK2VbdCtsXSxsKz1wLGYtPTgpO2lmKDA9PT1vKW89MS1jO2Vsc2V7aWYobz09PXUpcmV0dXJuIGE/TmFOOjEvMCooaD8tMToxKTthKz1NYXRoLnBvdygyLG4pLG8tPWN9cmV0dXJuKGg/LTE6MSkqYSpNYXRoLnBvdygyLG8tbil9LHQud3JpdGU9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe3ZhciBhLHMsdSxjPTgqby1pLTEsZj0oMTw8YyktMSxsPWY+PjEscD0yMz09PWk/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGg9bj8wOm8tMSxkPW4/MTotMSx5PXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8ocz1pc05hTih0KT8xOjAsYT1mKTooYT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0Kih1PU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLHUqPTIpLCh0Kz1hK2w+PTE/cC91OnAqTWF0aC5wb3coMiwxLWwpKSp1Pj0yJiYoYSsrLHUvPTIpLGErbD49Zj8ocz0wLGE9Zik6YStsPj0xPyhzPSh0KnUtMSkqTWF0aC5wb3coMixpKSxhKz1sKToocz10Kk1hdGgucG93KDIsbC0xKSpNYXRoLnBvdygyLGkpLGE9MCkpO2k+PTg7ZVtyK2hdPTI1NSZzLGgrPWQscy89MjU2LGktPTgpO2ZvcihhPWE8PGl8cyxjKz1pO2M+MDtlW3IraF09MjU1JmEsaCs9ZCxhLz0yNTYsYy09OCk7ZVtyK2gtZF18PTEyOCp5fX0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1yLmNhbGwoZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMikuZGVmYXVsdDtmdW5jdGlvbiBpKCl7XCJ1c2Ugc3RyaWN0XCI7LyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL2UuZXhwb3J0cz1pPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0czt2YXIgdD17fSxyPU9iamVjdC5wcm90b3R5cGUsbz1yLmhhc093blByb3BlcnR5LGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxzPWEuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHU9YS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLGM9YS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gZihlLHQscil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtmKHt9LFwiXCIpfWNhdGNoKGUpe2Y9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXJ9fWZ1bmN0aW9uIGwoZSx0LHIsbil7dmFyIGk9dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBkP3Q6ZCxvPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLGE9bmV3IFQobnx8W10pO3JldHVybiBvLl9pbnZva2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVwic3VzcGVuZGVkU3RhcnRcIjtyZXR1cm4gZnVuY3Rpb24oaSxvKXtpZihcImV4ZWN1dGluZ1wiPT09bil0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKFwiY29tcGxldGVkXCI9PT1uKXtpZihcInRocm93XCI9PT1pKXRocm93IG87cmV0dXJuIFIoKX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1vOzspe3ZhciBhPXIuZGVsZWdhdGU7aWYoYSl7dmFyIHM9SShhLHIpO2lmKHMpe2lmKHM9PT1oKWNvbnRpbnVlO3JldHVybiBzfX1pZihcIm5leHRcIj09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09ci5tZXRob2Qpe2lmKFwic3VzcGVuZGVkU3RhcnRcIj09PW4pdGhyb3cgbj1cImNvbXBsZXRlZFwiLHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO249XCJleGVjdXRpbmdcIjt2YXIgdT1wKGUsdCxyKTtpZihcIm5vcm1hbFwiPT09dS50eXBlKXtpZihuPXIuZG9uZT9cImNvbXBsZXRlZFwiOlwic3VzcGVuZGVkWWllbGRcIix1LmFyZz09PWgpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX1cInRocm93XCI9PT11LnR5cGUmJihuPVwiY29tcGxldGVkXCIsci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPXUuYXJnKX19fShlLHIsYSksb31mdW5jdGlvbiBwKGUsdCxyKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6ZS5jYWxsKHQscil9fWNhdGNoKGUpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6ZX19fXQud3JhcD1sO3ZhciBoPXt9O2Z1bmN0aW9uIGQoKXt9ZnVuY3Rpb24geSgpe31mdW5jdGlvbiBnKCl7fXZhciB2PXt9O2YodixzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZix3PWImJmIoYihPKFtdKSkpO3cmJnchPT1yJiZvLmNhbGwodyxzKSYmKHY9dyk7dmFyIG09Zy5wcm90b3R5cGU9ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2KTtmdW5jdGlvbiBfKGUpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZihlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBFKGUsdCl7dmFyIHI7dGhpcy5faW52b2tlPWZ1bmN0aW9uKGksYSl7ZnVuY3Rpb24gcygpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24ocixzKXshZnVuY3Rpb24gcihpLGEscyx1KXt2YXIgYz1wKGVbaV0sZSxhKTtpZihcInRocm93XCIhPT1jLnR5cGUpe3ZhciBmPWMuYXJnLGw9Zi52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09bihsKSYmby5jYWxsKGwsXCJfX2F3YWl0XCIpP3QucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe3IoXCJuZXh0XCIsZSxzLHUpfSksKGZ1bmN0aW9uKGUpe3IoXCJ0aHJvd1wiLGUscyx1KX0pKTp0LnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24oZSl7Zi52YWx1ZT1lLHMoZil9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoXCJ0aHJvd1wiLGUscyx1KX0pKX11KGMuYXJnKX0oaSxhLHIscyl9KSl9cmV0dXJuIHI9cj9yLnRoZW4ocyxzKTpzKCl9fWZ1bmN0aW9uIEkoZSx0KXt2YXIgcj1lLml0ZXJhdG9yW3QubWV0aG9kXTtpZih2b2lkIDA9PT1yKXtpZih0LmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09dC5tZXRob2Qpe2lmKGUuaXRlcmF0b3IucmV0dXJuJiYodC5tZXRob2Q9XCJyZXR1cm5cIix0LmFyZz12b2lkIDAsSShlLHQpLFwidGhyb3dcIj09PXQubWV0aG9kKSlyZXR1cm4gaDt0Lm1ldGhvZD1cInRocm93XCIsdC5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIil9cmV0dXJuIGh9dmFyIG49cChyLGUuaXRlcmF0b3IsdC5hcmcpO2lmKFwidGhyb3dcIj09PW4udHlwZSlyZXR1cm4gdC5tZXRob2Q9XCJ0aHJvd1wiLHQuYXJnPW4uYXJnLHQuZGVsZWdhdGU9bnVsbCxoO3ZhciBpPW4uYXJnO3JldHVybiBpP2kuZG9uZT8odFtlLnJlc3VsdE5hbWVdPWkudmFsdWUsdC5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09dC5tZXRob2QmJih0Lm1ldGhvZD1cIm5leHRcIix0LmFyZz12b2lkIDApLHQuZGVsZWdhdGU9bnVsbCxoKTppOih0Lm1ldGhvZD1cInRocm93XCIsdC5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLHQuZGVsZWdhdGU9bnVsbCxoKX1mdW5jdGlvbiBTKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIEEoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9XCJub3JtYWxcIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gVChlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSxlLmZvckVhY2goUyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBPKGUpe2lmKGUpe3ZhciB0PWVbc107aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgcj0tMSxuPWZ1bmN0aW9uIHQoKXtmb3IoOysrcjxlLmxlbmd0aDspaWYoby5jYWxsKGUscikpcmV0dXJuIHQudmFsdWU9ZVtyXSx0LmRvbmU9ITEsdDtyZXR1cm4gdC52YWx1ZT12b2lkIDAsdC5kb25lPSEwLHR9O3JldHVybiBuLm5leHQ9bn19cmV0dXJue25leHQ6Un19ZnVuY3Rpb24gUigpe3JldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19cmV0dXJuIHkucHJvdG90eXBlPWcsZihtLFwiY29uc3RydWN0b3JcIixnKSxmKGcsXCJjb25zdHJ1Y3RvclwiLHkpLHkuZGlzcGxheU5hbWU9ZihnLGMsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSx0LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09eXx8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxnKTooZS5fX3Byb3RvX189ZyxmKGUsYyxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG0pLGV9LHQuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LF8oRS5wcm90b3R5cGUpLGYoRS5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx0LkFzeW5jSXRlcmF0b3I9RSx0LmFzeW5jPWZ1bmN0aW9uKGUscixuLGksbyl7dm9pZCAwPT09byYmKG89UHJvbWlzZSk7dmFyIGE9bmV3IEUobChlLHIsbixpKSxvKTtyZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxfKG0pLGYobSxjLFwiR2VuZXJhdG9yXCIpLGYobSxzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGYobSxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0pKSx0LmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiByKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciBuPXQucG9wKCk7aWYobiBpbiBlKXJldHVybiByLnZhbHVlPW4sci5kb25lPSExLHJ9cmV0dXJuIHIuZG9uZT0hMCxyfX0sdC52YWx1ZXM9TyxULnByb3RvdHlwZT17Y29uc3RydWN0b3I6VCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD12b2lkIDAsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz12b2lkIDAsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goQSksIWUpZm9yKHZhciB0IGluIHRoaXMpXCJ0XCI9PT10LmNoYXJBdCgwKSYmby5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPXZvaWQgMCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciB0PXRoaXM7ZnVuY3Rpb24gcihyLG4pe3JldHVybiBhLnR5cGU9XCJ0aHJvd1wiLGEuYXJnPWUsdC5uZXh0PXIsbiYmKHQubWV0aG9kPVwibmV4dFwiLHQuYXJnPXZvaWQgMCksISFufWZvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBpPXRoaXMudHJ5RW50cmllc1tuXSxhPWkuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWkudHJ5TG9jKXJldHVybiByKFwiZW5kXCIpO2lmKGkudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPW8uY2FsbChpLFwiY2F0Y2hMb2NcIiksdT1vLmNhbGwoaSxcImZpbmFsbHlMb2NcIik7aWYocyYmdSl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIHIoaS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gcihpLmZpbmFsbHlMb2MpfWVsc2UgaWYocyl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIHIoaS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8aS5maW5hbGx5TG9jKXJldHVybiByKGkuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tyXTtpZihuLnRyeUxvYzw9dGhpcy5wcmV2JiZvLmNhbGwobixcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxuLmZpbmFsbHlMb2Mpe3ZhciBpPW47YnJlYWt9fWkmJihcImJyZWFrXCI9PT1lfHxcImNvbnRpbnVlXCI9PT1lKSYmaS50cnlMb2M8PXQmJnQ8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxoKTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKFwidGhyb3dcIj09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm5cImJyZWFrXCI9PT1lLnR5cGV8fFwiY29udGludWVcIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6XCJyZXR1cm5cIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCksaH0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxBKHIpLGh9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci50cnlMb2M9PT1lKXt2YXIgbj1yLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09bi50eXBlKXt2YXIgaT1uLmFyZztBKHIpfXJldHVybiBpfX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpPKGUpLHJlc3VsdE5hbWU6dCxuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz12b2lkIDApLGh9fSx0fWUuZXhwb3J0cz1pLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KSxyLmQodCxcImhtc2pzYlwiLChmdW5jdGlvbigpe3JldHVybiB6ZX0pKSxyLmQodCxcImNhbGxiYWNrTWFwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFllfSkpLHIuZCh0LFwiZXZlbnRNYXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWGV9KSksci5kKHQsXCJobXNiYXNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksci5kKHQsXCJIRXJyb3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSxyLmQodCxcIkhIZWFkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVn0pKSxyLmQodCxcIkhQYXJjZWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV9KSksci5kKHQsXCJIQmFzZUFkYXB0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxyLmQodCxcIkhKU0JBZGFwdGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZlfSkpLHIuZCh0LFwiSE9iamVjdFwiLChmdW5jdGlvbigpe3JldHVybiBMZX0pKSxyLmQodCxcIkhVbmtub3duT2JqZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJlfSkpLHIuZCh0LFwiSFNlcnZpY2VNYW5hZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJlfSkpLHIuZCh0LFwiSFNlcnZpY2VSZWdpc3RyeVwiLChmdW5jdGlvbigpe3JldHVybiBvZX0pKSxyLmQodCxcIkhTZXJ2aWNlUmVnaXN0cnlJbmZvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGllfSkpLHIuZCh0LFwiSUNsYXNzRmFjdG9yeVwiLChmdW5jdGlvbigpe3JldHVybiBjZX0pKSxyLmQodCxcIkhWaWV3SG9sZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVlfSkpLHIuZCh0LFwiSVhQU0ZTb2x1dGlvblwiLChmdW5jdGlvbigpe3JldHVybiBkZX0pKSxyLmQodCxcIlhQU0ZTZXJ2aWNlSW5mb1wiLChmdW5jdGlvbigpe3JldHVybiB5ZX0pKSxyLmQodCxcIk1haW5FbnRyeVwiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSxyLmQodCxcIktpdFJlZ2lzdGVyQ2VudGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZlfSkpLHIuZCh0LFwiSnNTZXJ2aWNlSW5mb1wiLChmdW5jdGlvbigpe3JldHVybiB3ZX0pKSxyLmQodCxcIkNwcFNlcnZpY2VJbmZvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF9lfSkpLHIuZCh0LFwiSEFwcEluZm9NYW5hZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEllfSkpLHIuZCh0LFwiSFByZWZlcmVuY2VzTWFuYWdlclwiLChmdW5jdGlvbigpe3JldHVybiBQZX0pKSxyLmQodCxcIkhQYWdlU3RhcnRlclwiLChmdW5jdGlvbigpe3JldHVybiBqZX0pKSxyLmQodCxcIkhQYWdlSW5mb1wiLChmdW5jdGlvbigpe3JldHVybiBUZX0pKSxyLmQodCxcIkhDb21tb25NZXNzZW5nZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQWV9KSksci5kKHQsXCJIR2xvYmFsVmFyaWFibGVNYW5hZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE0uYX0pKSxyLmQodCxcIkhMb2dnZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbC5hfSkpLHIuZCh0LFwiSFRyYWNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHhlfSkpLHIuZCh0LFwiRXJyb3JDb2RlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksci5kKHQsXCJCYXNlQ29kZVwiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHIuZCh0LFwiUmVzb2x1dGlvblJlc3VsdFwiLChmdW5jdGlvbigpe3JldHVybiB5fSkpLHIuZCh0LFwiQXZhaWxhYmxlQ29kZVwiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLHIuZCh0LFwiSlNCQ29tcGF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVlfSkpLHIuZCh0LFwiUGFnZUluZm9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gT2V9KSk7dmFyIG49e307ci5yKG4pLHIuZChuLFwiTWVzc2FnZVwiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLHIuZChuLFwiQmluYXJ5UmVhZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksci5kKG4sXCJCaW5hcnlXcml0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZWV9KSk7dmFyIGk9cigyMyksbz1yLm4oaSksYT1yKDYpLHM9ci5uKGEpLHU9cigyKSxjPXIoMjQpLGY9ci5uKGMpLGw9cigwKSxwPXIoMSksaD17QVJHVU1FTlRTX0lOVkFMSUQ6OTA3MTM1ZTMsSU5URVJOQUxfRVJST1I6OTA3MTM1MDAxLE5BTUlOR19JTlZBTElEOjkwNzEzNTAwMixDTElFTlRfQVBJX0lOVkFMSUQ6OTA3MTM1MDAzLEVYRUNVVEVfVElNRU9VVDo5MDcxMzUwMDQsTk9UX0lOX1NFUlZJQ0U6OTA3MTM1MDA1LFNFU1NJT05fSU5WQUxJRDo5MDcxMzUwMDYsREVOWV9ORVRXT1JLOjkwNzEzNTAwNyxHRVRfU0NPUEVfRVJST1I6OTA3MTM1NzAwLFNDT1BFX0xJU1RfRU1QVFk6OTA3MTM1NzAxLENFUlRfRklOR0VSUFJJTlRfRU1QVFk6OTA3MTM1NzAyLFBFUk1JU1NJT05fTElTVF9FTVBUWTo5MDcxMzU3MDMsR0VUX1NDT1BFX05FVFdPUktfRVJST1I6OTA3MTM1NzA0LEFVVEhfSU5GT19OT1RfRVhJU1Q6OTA3MTM1NzA1LENFUlRfRklOR0VSUFJJTlRfRVJST1I6OTA3MTM1NzA2LFBFUk1JU1NJT05fTk9UX0VYSVNUOjkwNzEzNTcwNyxQRVJNSVNTSU9OX05PVF9BVVRIT1JJWkVEOjkwNzEzNTcwOCxQRVJNSVNTSU9OX0VYUElSRUQ6OTA3MTM1NzA5LFNDT1BFX0lMTEVHQUxfUEFSQU1FVEVSOjkwNzEzNTcxMCxTQ09QRV9JTlRFUk5BTF9FUlJPUjo5MDcxMzU3MTEsU1VCQVBQX0NIRUNLRVJfTk9UX0VYSVNUOjkwNzEzNTcyMCxTVUJBUFBfQVVUSF9FUlJPUjo5MDcxMzU3MjEsS0lUX05PVF9FWElTVDo5MDcxMzU5MDAsQVBJX01PRFVMRV9OT1RfRVhJU1Q6MWUzLEFQSV9DTElFTlRfU0VTU0lPTl9FWFBJUkVEOjEwMDEsQ0FMTF9VTkFTU0lHTkVEX0FQSV9FUlJPUjoxMDAyLEhNU19DT1JFX05PVF9SRUFEWToxMjAxLFBBUkFNRVRFUl9JTlZBTElEOjEyMTAsQ0FMTEVSX1NFU1NJT05fSU5WQUxJRDoxMjExLEtJVF9ORUVEX1VQREFURToxMjEyLEtJVF9CUkVBS0VSOjEyMTMsTUVNT1JZX09WRVJfTElNSVQ6MTIxNSxOT1RfUkVHSVNURVJfQVBJOjEyMTYsQVVUSF9GQUlMRUQ6MTIxNyxSVU5USU1FX09USEVSOjEyNjAsTk9UX0ZPVU5EX1NUVUI6MTMwMyxTRVNTSU9OX0FVVEhfRkFJTEVEOjEzMDQsQVBJX0xFVkVMX05PVF9TVVBQT1JUOjkwNzE4MDAwMSxBUElfTEVWRUxfTk9UX0VYSVNUOjkwNzE4MDAwMixJTlRFUkZBQ0VfVVBEQVRFX0ZBSUxFRDo5MDcxODAwMDMsQURBUFRFUl9VTklOSVRJQUxJWkVEOjkwNzE4MDAwNCxBREFQVEVSX0RJU0NPTk5FQ1Q6OTA3MTgwMDA1LEFEQVBURVJfQ09OTkVDVF9GQUlMRUQ6OTA3MTgwMDA2LEFEQVBURVJfQ09OTkVDVF9USU1FT1VUOjkwNzE4MDAwNyxHRVRfQVBQSURfRkFJTEVEOjkwNzE4MDAwOCxHRVRfU0VSVklDRUlORk9fRkFJTEVEOjkwNzE4MDAwOSxHRVRfQlVORExFSU5GT19GQUlMRUQ6OTA3MTgwMDEwLEdFVF9CVU5ETEVOQU1FX0ZBSUxFRDo5MDcxODAwMTEsR0VUX0FQUF9GSU5HRVJfUFJJTlRfRVJST1I6OTA3MTgwMDEyLENBTExfU0VSVklDRV9GQUlMRUQ6OTA3MTgwMDEzLE5PVF9GT1VORF9TRVJWSUNFOjkwNzE4MDAxNCxJSURfTk9UX0VYUE9SVEVEOjkwNzE4MDAxNixCVU5ETEVOQU1FX05PVF9NQVRDSDo5MDcxODAwMTcsU0VSVklDRV9QUk9DRVNTX0RJRUQ6OTA3MTgwMDIwLFJFTU9URV9PQkpFQ1RfUkVMRUFTSU5HOjkwNzE4MDAyMSxSRU1PVEVfT0JKRUNUX05PVF9FWElTVDo5MDcxODAwMjIsSU5WT0tFX1VOSU1QTEVNRU5URURfTUVUSE9EOjkwNzE4MDAyMyxNRVRIT0RfTk9UX0VYSVNUOjkwNzE4MDAyNCxOT1RfU1VQUE9SVEVEX1BMQVRGT1JNOjkwNzE4MDAyNX0sZD17UkVUVVJOX1BBUkFNX05VTEw6LTEsUEFSQU1fRVJST1I6LTIsU1VDQ0VTUzowLFNFUlZJQ0VfS0lMTEVEOjEsU0VSVklDRV9DT05ORUNUX0xPU1Q6Mn0seT17SU5URVJOQUxfRVJST1I6OH0sZz17Q0FOQ0VMRUQ6MTMsQVBQX0lTX0JBQ0tHUk9VTkRfT1JfTE9DS0VEOjI4LEhNU19JU19TUE9PRjoyOSxVU0VSX0FMUkVBRFlfS05PV1NfU0VSVklDRV9VTkFWQUlMQUJMRTozMCxDVVJSRU5UX1NIT1dJTkdfU0VSVklDRV9VTkFWQUlMQUJMRTozMX0sdj1yKDMpLGI9ci5uKHYpLHc9cig0KSxtPXIubih3KSxfPXIoMTQpLEU9ci5uKF8pLEk9cigxNSksUz1yLm4oSSksQT1yKDEwKSxUPXIubihBKSxPPXIoOSksUj1yLm4oTyksaz1yKDE3KSxQPXIubihrKSxOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe2IoKSh0aGlzLGUpLHRoaXMuY29kZT10LHRoaXMubWVzc2FnZT1yfXJldHVybiBtKCkoZSxbe2tleTpcInNldERhdGFcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmRhdGE9ZX19LHtrZXk6XCJzZXRTb2x1dGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc29sdXRpb249ZX19XSksZX0oKSx4PXIoMjUpO2Z1bmN0aW9uIGooZSx0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LHtobXNDbGFzc05hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBlfX0saG1zVmVyc2lvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHguYX19fSk7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC5oYXNJbnN0YW5jZSx7dmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jb25zdHJ1Y3RvcjtyOyl7aWYoci5obXNDbGFzc05hbWU9PT10Lmhtc0NsYXNzTmFtZSlyZXR1cm4gci5obXNWZXJzaW9uPT09dC5obXNWZXJzaW9uO3I9T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpfXJldHVybiExfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxTeW1ib2wudG9TdHJpbmdUYWcse2dldDpmdW5jdGlvbigpe3JldHVybiBlfX0pfWNhdGNoKGUpe2wuYS5lcnJvcihwLmosXCJUaGUgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQgcmV3cml0aW5nIHRoZSBpbnN0YW5jZW9mIG1ldGhvZC5cIil9fX1mdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07aihuLGVbbl0pfX12YXIgTT1yKDcpO2Z1bmN0aW9uIEgoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIEwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/SChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MoKShlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6SChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBEKGUpe3ZhciB0PWUuYXBpTmFtZSxyPWUuYXJncyxuPWUuc3VjY2VzcyxpPWUuZmFpbCxvPWUuY29tcGxldGU7cmV0dXJuIHplLmludm9rZSh7YXBpTmFtZTp0LGFyZ3M6cixzdWNjZXNzOm4sZmFpbDppLGNvbXBsZXRlOm99KX1mdW5jdGlvbiBGKGUsdCl7dmFyIHI9dC5zdWNjZXNzLG49dC5mYWlsLGk9dC5jb21wbGV0ZTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXJldHVybiBlO2UudGhlbigoZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSkpLmNhdGNoKChmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4uYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9KSkuZmluYWxseSgoZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZpLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSkpfXZhciBCPXtzZXRTUHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5LHI9ZS52YWx1ZSxuPWUuc3BuYW1lO3JldHVybiBEKEwoTCh7fSxlKSx7fSx7YXJnczp7a2V5OnQsdmFsdWU6cixzcG5hbWU6bn0sYXBpTmFtZTpcInNwLnNldFNQdmFsdWVcIn0pKX0sZ2V0U1B2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmtleSxyPWUuc3BuYW1lO3JldHVybiBEKEwoTCh7fSxlKSx7fSx7YXJnczp7a2V5OnQsc3BuYW1lOnJ9LGFwaU5hbWU6XCJzcC5nZXRTUHZhbHVlXCJ9KSl9LHJlbW92ZVNQdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkscj1lLnNwbmFtZTtyZXR1cm4gRChMKEwoe30sZSkse30se2FyZ3M6e2tleTp0LHNwbmFtZTpyfSxhcGlOYW1lOlwic3AucmVtb3ZlU1B2YWx1ZVwifSkpfSxnZXRNZXRhZGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLmtleSxyPWUucGFja2FnZW5hbWU7cmV0dXJuIEQoTChMKHt9LGUpLHt9LHthcmdzOntrZXk6dCxwYWNrYWdlbmFtZTpyfSxhcGlOYW1lOlwibWV0YWRhdGEuZ2V0dmFsdWVcIn0pKX0sZ2V0UGFja2FnZU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUuYS5pc09IT1MoKT9GKEllLmdldFBhY2thZ2VOYW1lKCksZSk6RChMKEwoe30sZSkse30se2FwaU5hbWU6XCJwYWNrYWdlLm5hbWVcIn0pKX0sZ2V0QXBwSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHUuYS5pc09IT1MoKT9GKEllLmdldEFwcElkKCksZSk6RChMKEwoe30sZSkse30se2FwaU5hbWU6XCJiYXNlLmdldGFwcGlkXCJ9KSl9LGdldEFhSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEQoTChMKHt9LGUpLHt9LHthcGlOYW1lOlwiYmFzZS5nZXRhYWlkXCJ9KSl9LGdldFVpZDpmdW5jdGlvbihlKXtyZXR1cm4gRChMKEwoe30sZSkse30se2FwaU5hbWU6XCJiYXNlLmdldFVpZFwifSkpfSxnZXRBcHBWZXJzaW9uOmZ1bmN0aW9uKGUpe3JldHVybiBEKEwoTCh7fSxlKSx7fSx7YXBpTmFtZTpcImJhc2UuZ2V0QXBwVmVyc2lvblwifSkpfSxnZXRBZ2NDb25maWc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXk7cmV0dXJuIEQoTChMKHt9LGUpLHt9LHthcmdzOntrZXk6dH0sYXBpTmFtZTpcImJhc2UuZ2V0QWdjQ29uZmlnXCJ9KSl9LHJlcG9ydEVudHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PWUudXJpLHI9ZS5raXRTZGtWZXJzaW9uO3JldHVybiBEKEwoTCh7fSxlKSx7fSx7YXJnczp7dXJpOnQsa2l0U2RrVmVyc2lvbjpyfSxhcGlOYW1lOlwiYW5hbHl0aWNzLnJlcG9ydEVudHJ5XCJ9KSl9LHJlcG9ydEV4aXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51cmkscj1lLnRyYW5zYWN0SWQsbj1lLnN0YXR1c0NvZGUsaT1lLmVycm9yQ29kZSxvPWUua2l0U2RrVmVyc2lvbk5hbWU7cmV0dXJuIEQoTChMKHt9LGUpLHt9LHthcmdzOnt1cmk6dCx0cmFuc2FjdElkOnIsc3RhdHVzQ29kZTpuLGVycm9yQ29kZTppLGtpdFNka1ZlcnNpb25OYW1lOm99LGFwaU5hbWU6XCJhbmFseXRpY3MucmVwb3J0RXhpdFwifSkpfSxlbmNyeXB0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuZW5jcnlwdFdvcmQ7cmV0dXJuIEQoTChMKHt9LGUpLHt9LHthcmdzOntlbmNyeXB0V29yZDp0fSxhcGlOYW1lOlwic2VjdXJpdHkuZW5jcnlwdGVyXCJ9KSl9LGRlY3J5cHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbmNyeXB0V29yZDtyZXR1cm4gRChMKEwoe30sZSkse30se2FyZ3M6e2VuY3J5cHRXb3JkOnR9LGFwaU5hbWU6XCJzZWN1cml0eS5kZWNyeXB0ZXJcIn0pKX0sY29uZmlnOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3ViSWQ7cmV0dXJuIEQoTChMKHt9LGUpLHt9LHthcmdzOntzdWJJZDp0fSxhcGlOYW1lOlwiY29uZmlnLmF1dGhcIn0pKX0saXNKc2JLaXRBdmFpbGFibGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5taW5fYXBpX2xldmVsO3JldHVybiBEKEwoTCh7fSxlKSx7fSx7YXJnczp7bWluX2FwaV9sZXZlbDp0fSxhcGlOYW1lOlwidXBkYXRlLmF2YWlsYWJpbGl0eVwifSkpfSx1cGdyYWRlOmZ1bmN0aW9uKGUpe3JldHVybiBEKEwoTCh7fSxlKSx7fSx7YXBpTmFtZTpcInVwZGF0ZS51cGdyYWRlXCJ9KSl9LHJlbG9hZDpmdW5jdGlvbihlKXtyZXR1cm4gRChMKEwoe30sZSkse30se2FwaU5hbWU6XCJ1cGRhdGUucmVsb2FkXCJ9KSl9fSxVPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpfXJldHVybiBtKCkoZSxbe2tleTpcImhHZXRDbGFzc09iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQscil7dGhyb3cgbmV3IEVycm9yKFwiVGhlIGhHZXRDbGFzc09iamVjdCBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkIG9uIHRoZSBcIi5jb25jYXQoZS50eXBlLFwiIGFkYXB0ZXIuXCIpKX19LHtrZXk6XCJ0cmFuc2FjdFwiLHZhbHVlOmZ1bmN0aW9uKHQscixuKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdHJhbnNhY3QgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiB0aGUgXCIuY29uY2F0KGUudHlwZSxcIiBhZGFwdGVyLlwiKSl9fSx7a2V5OlwibmV3U3R1YlwiLHZhbHVlOmZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcIlRoZSBuZXdTdHViIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgb24gdGhlIFwiLmNvbmNhdChlLnR5cGUsXCIgYWRhcHRlci5cIikpfX1dKSxlfSgpO3MoKShVLFwidHlwZVwiLFwiXCIpO3ZhciBWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxO2IoKSh0aGlzLGUpLHRoaXMucHJvdG9sVmVyc2lvbj10LHRoaXMuYXBwaWQ9dm9pZCAwLHRoaXMucGFja2FnZU5hbWU9dm9pZCAwLHRoaXMudHJhbnNhY3RJZD12b2lkIDAsdGhpcy5zdGF0dXM9dm9pZCAwLHRoaXMuY2FsbGluZ1VpZD12b2lkIDAsdGhpcy5zdWJBcHBJZD12b2lkIDB9cmV0dXJuIG0oKShlLFt7a2V5OlwicmVhZE1lc3NhZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2UubmV4dEZpZWxkKCkmJigxZTQ9PT1lLmdldEZpZWxkTnVtYmVyKCkmJmUucmVhZE1lc3NhZ2UodGhpcywoZnVuY3Rpb24oZSxyKXtmb3IoO3IubmV4dEZpZWxkKCkmJiFyLmlzRW5kR3JvdXAoKTspe3N3aXRjaChyLmdldEZpZWxkTnVtYmVyKCkpe2Nhc2UgMTp0LnByb3RvbFZlcnNpb249ci5yZWFkSW50MzIoKTticmVhaztjYXNlIDI6dC5hcHBpZD1yLnJlYWRTdHJpbmcoKTticmVhaztjYXNlIDM6dC5wYWNrYWdlTmFtZT1yLnJlYWRTdHJpbmcoKTticmVhaztjYXNlIDQ6dC50cmFuc2FjdElkPXIucmVhZFN0cmluZygpO2JyZWFrO2Nhc2UgNTp0LnN0YXR1cz1yLnJlYWRJbnQzMigpO2JyZWFrO2Nhc2UgNjp0LmNhbGxpbmdVaWQ9ci5yZWFkU3RyaW5nKCk7YnJlYWs7Y2FzZSA3OnQuc3ViQXBwSWQ9ci5yZWFkU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBGaWVsZCgpfX19KSkpfX0se2tleTpcIndyaXRlTWVzc2FnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS53cml0ZU1lc3NhZ2UoMWU0LHRoaXMsKGZ1bmN0aW9uKGUscil7ci53cml0ZUludDMyKDEsdC5wcm90b2xWZXJzaW9uKSxyLndyaXRlU3RyaW5nKDIsdC5hcHBpZCksci53cml0ZVN0cmluZygzLHQucGFja2FnZU5hbWUpLHIud3JpdGVTdHJpbmcoNCx0LnRyYW5zYWN0SWQpLHIud3JpdGVJbnQzMig1LHQuc3RhdHVzKSxyLndyaXRlU3RyaW5nKDYsdC5jYWxsaW5nVWlkKSxyLndyaXRlU3RyaW5nKDcsdC5zdWJBcHBJZCl9KSl9fV0pLGV9KCksVz1yKDEyKSxKPXIubihXKSxHPXIoMTMpLFk9ZnVuY3Rpb24oKXt9O1kuR0VORVJBVEVfVE9fT0JKRUNUPSEwLFkuR0VORVJBVEVfRlJPTV9PQkpFQ1Q9ITEsWS5HRU5FUkFURV9UT19TVFJJTkc9ITAsWS5BU1NVTUVfTE9DQUxfQVJSQVlTPSExLFkuU0VSSUFMSVpFX0VNUFRZX1RSQUlMSU5HX0ZJRUxEUz0hMCxZLlNVUFBPUlRTX1VJTlQ4QVJSQVlfPVwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXksWS5wcm90b3R5cGUuYXJyYXksWS5wcm90b3R5cGUud3JhcHBlcnNfLFkucHJvdG90eXBlLmV4dGVuc2lvbk9iamVjdF8sWS5wcm90b3R5cGUucGl2b3RfLFkucHJvdG90eXBlLm1lc3NhZ2VJZF8sWS5wcm90b3R5cGUuY29udmVydGVkUHJpbWl0aXZlRmllbGRzXyxZLnByb3RvdHlwZS5yZXBlYXRlZEZpZWxkcztZLnByb3RvdHlwZS5hcnJheUluZGV4T2Zmc2V0XyxZLmhpZGRlbkVTNlByb3BlcnR5Xz1mdW5jdGlvbigpe3JldHVybiBtKCkoKGZ1bmN0aW9uIGUoKXtiKCkodGhpcyxlKX0pKX0oKSxZLkVNUFRZX0xJU1RfU0VOVElORUxfPVtdLFkuYnl0ZXNBc1U4PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfHxlIGluc3RhbmNlb2YgVWludDhBcnJheT9lOlwic3RyaW5nXCI9PXR5cGVvZiBlP09iamVjdChHLmIpKGUpOm51bGx9LFkuZ2V0RmllbGRQcm90bzM9WS5nZXRGaWVsZFdpdGhEZWZhdWx0LFkuR0VORVJBVEVfVE9fU1RSSU5HLFkubWVzc2FnZVNldEV4dGVuc2lvbnM9e30sWS5tZXNzYWdlU2V0RXh0ZW5zaW9uc0JpbmFyeT17fTt2YXIgWD1yKDUpLHE9cig4KSxLPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmJ5dGVzXz1udWxsLHRoaXMuc3RhcnRfPTAsdGhpcy5lbmRfPTAsdGhpcy5jdXJzb3JfPTAsdGhpcy5lcnJvcl89ITEsZSYmdGhpcy5zZXRCbG9jayhlLHQscil9O0suaW5zdGFuY2VDYWNoZV89W107dmFyIHo9XCJbcHRvdG9idWYgZGVjb2Rlcl0gXCI7Sy5hbGxvYz1mdW5jdGlvbihlLHQscil7aWYoSy5pbnN0YW5jZUNhY2hlXy5sZW5ndGgpe3ZhciBuPUsuaW5zdGFuY2VDYWNoZV8ucG9wKCk7cmV0dXJuIGUmJm4uc2V0QmxvY2soZSx0LHIpLG59cmV0dXJuIG5ldyBLKGUsdCxyKX0sSy5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUubG9nKFwiXCIuY29uY2F0KHosXCIgXCIpLmNvbmNhdChcIkJpbmFyeURlY29kZXJcIixcIiBnZXRCdWZmZXJcIikpLHRoaXMuYnl0ZXNffSxLLnByb3RvdHlwZS5zZXRCbG9jaz1mdW5jdGlvbihlLHQscil7dGhpcy5ieXRlc189cS5hLmJ5dGVTb3VyY2VUb1VpbnQ4QXJyYXkoZSksdGhpcy5zdGFydF89dm9pZCAwIT09dD90OjAsdGhpcy5lbmRfPXZvaWQgMCE9PXI/dGhpcy5zdGFydF8rcjp0aGlzLmJ5dGVzXy5sZW5ndGgsdGhpcy5jdXJzb3JfPXRoaXMuc3RhcnRffSxLLnByb3RvdHlwZS5nZXRFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRffSxLLnByb3RvdHlwZS5zZXRFbmQ9ZnVuY3Rpb24oZSl7dGhpcy5lbmRfPWV9LEsucHJvdG90eXBlLmdldEN1cnNvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnNvcl99LEsucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbihlKXt0aGlzLmN1cnNvcl89ZX0sSy5wcm90b3R5cGUuYWR2YW5jZT1mdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcIlwiLmNvbmNhdCh6LFwiIFwiKS5jb25jYXQoXCJCaW5hcnlEZWNvZGVyXCIsXCIgYWR2YW5jZVwiKSksdGhpcy5jdXJzb3JfKz1lfSxLLnByb3RvdHlwZS5hdEVuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnNvcl89PXRoaXMuZW5kX30sSy5wcm90b3R5cGUuZ2V0RXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcnJvcl98fHRoaXMuY3Vyc29yXzwwfHx0aGlzLmN1cnNvcl8+dGhpcy5lbmRffSxLLnByb3RvdHlwZS5yZWFkU3BsaXRWYXJpbnQ2ND1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTI4LHI9MCxuPTAsaT0wO2k8NCYmdD49MTI4O2krKylyfD0oMTI3Jih0PXRoaXMuYnl0ZXNfW3RoaXMuY3Vyc29yXysrXSkpPDw3Kmk7aWYodD49MTI4JiYocnw9KDEyNyYodD10aGlzLmJ5dGVzX1t0aGlzLmN1cnNvcl8rK10pKTw8Mjgsbnw9KDEyNyZ0KT4+NCksdD49MTI4KWZvcihpPTA7aTw1JiZ0Pj0xMjg7aSsrKW58PSgxMjcmKHQ9dGhpcy5ieXRlc19bdGhpcy5jdXJzb3JfKytdKSk8PDcqaSszO2lmKHQ8MTI4KXJldHVybiBlKHI+Pj4wLG4+Pj4wKTt0aGlzLmVycm9yXz0hMH0sSy5wcm90b3R5cGUuc2tpcFZhcmludD1mdW5jdGlvbigpe2Zvcihjb25zb2xlLmxvZyhcIlwiLmNvbmNhdCh6LFwiIFwiKS5jb25jYXQoXCJCaW5hcnlEZWNvZGVyXCIsXCIgc2tpcFZhcmludFwiKSk7MTI4JnRoaXMuYnl0ZXNfW3RoaXMuY3Vyc29yX107KXRoaXMuY3Vyc29yXysrO3RoaXMuY3Vyc29yXysrfSxLLnByb3RvdHlwZS5yZWFkVW5zaWduZWRWYXJpbnQzMj1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5ieXRlc18scj0xMjcmKGU9dFt0aGlzLmN1cnNvcl8rMF0pO3JldHVybiBlPDEyOD8odGhpcy5jdXJzb3JfKz0xLHIpOihyfD0oMTI3JihlPXRbdGhpcy5jdXJzb3JfKzFdKSk8PDcsZTwxMjg/KHRoaXMuY3Vyc29yXys9MixyKToocnw9KDEyNyYoZT10W3RoaXMuY3Vyc29yXysyXSkpPDwxNCxlPDEyOD8odGhpcy5jdXJzb3JfKz0zLHIpOihyfD0oMTI3JihlPXRbdGhpcy5jdXJzb3JfKzNdKSk8PDIxLGU8MTI4Pyh0aGlzLmN1cnNvcl8rPTQscik6KHJ8PSgxNSYoZT10W3RoaXMuY3Vyc29yXys0XSkpPDwyOCxlPDEyOD8odGhpcy5jdXJzb3JfKz01LHI+Pj4wKToodGhpcy5jdXJzb3JfKz01LHRbdGhpcy5jdXJzb3JfKytdPj0xMjgmJnRbdGhpcy5jdXJzb3JfKytdPj0xMjgmJnRbdGhpcy5jdXJzb3JfKytdPj0xMjgmJnRbdGhpcy5jdXJzb3JfKytdPj0xMjgmJnRbdGhpcy5jdXJzb3JfKytdLHIpKSkpKX0sSy5wcm90b3R5cGUucmVhZFNpZ25lZFZhcmludDMyPUsucHJvdG90eXBlLnJlYWRVbnNpZ25lZFZhcmludDMyLEsucHJvdG90eXBlLnJlYWRTaWduZWRWYXJpbnQ2ND1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRTcGxpdFZhcmludDY0KHEuYS5qb2luSW50NjQpfSxLLnByb3RvdHlwZS5yZWFkVWludDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ieXRlc19bdGhpcy5jdXJzb3JfKzBdLHQ9dGhpcy5ieXRlc19bdGhpcy5jdXJzb3JfKzFdLHI9dGhpcy5ieXRlc19bdGhpcy5jdXJzb3JfKzJdLG49dGhpcy5ieXRlc19bdGhpcy5jdXJzb3JfKzNdO3JldHVybiB0aGlzLmN1cnNvcl8rPTQsKGU8PDB8dDw8OHxyPDwxNnxuPDwyNCk+Pj4wfSxLLnByb3RvdHlwZS5yZWFkRmxvYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRVaW50MzIoKTtyZXR1cm4gcS5hLmpvaW5GbG9hdDMyKGUsMCl9LEsucHJvdG90eXBlLnJlYWREb3VibGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRVaW50MzIoKSx0PXRoaXMucmVhZFVpbnQzMigpO3JldHVybiBxLmEuam9pbkZsb2F0NjQoZSx0KX0sSy5wcm90b3R5cGUucmVhZEJvb2w9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS5sb2coXCJcIi5jb25jYXQoeixcIiBcIikuY29uY2F0KFwiQmluYXJ5RGVjb2RlclwiLFwiIHJlYWRCb29sXCIpKSwhIXRoaXMuYnl0ZXNfW3RoaXMuY3Vyc29yXysrXX0sSy5wcm90b3R5cGUucmVhZFN0cmluZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5ieXRlc18scj10aGlzLmN1cnNvcl8sbj1yK2UsaT1bXSxvPVwiXCI7cjxuOyl7dmFyIGE9dFtyKytdO2lmKGE8MTI4KWkucHVzaChhKTtlbHNle2lmKGE8MTkyKWNvbnRpbnVlO2lmKGE8MjI0KXt2YXIgcz10W3IrK107aS5wdXNoKCgzMSZhKTw8Nnw2MyZzKX1lbHNlIGlmKGE8MjQwKXtzPXRbcisrXTt2YXIgdT10W3IrK107aS5wdXNoKCgxNSZhKTw8MTJ8KDYzJnMpPDw2fDYzJnUpfWVsc2UgaWYoYTwyNDgpe3ZhciBjPSg3JmEpPDwxOHwoNjMmKHM9dFtyKytdKSk8PDEyfCg2MyYodT10W3IrK10pKTw8Nnw2MyZ0W3IrK10sZj01NjMyMCsoMTAyMyYoYy09NjU1MzYpKSxsPTU1Mjk2KyhjPj4xMCYxMDIzKTtpLnB1c2gobCxmKX19aS5sZW5ndGg+PTgxOTImJihvKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaSksaS5sZW5ndGg9MCl9cmV0dXJuIG8rPU9iamVjdChHLmEpKGkpLHRoaXMuY3Vyc29yXz1yLG99LEsucHJvdG90eXBlLnJlYWRCeXRlcz1mdW5jdGlvbihlKXtpZihjb25zb2xlLmxvZyhcIlwiLmNvbmNhdCh6LFwiIFwiKS5jb25jYXQoXCJCaW5hcnlEZWNvZGVyXCIsXCIgcmVhZEJ5dGVzXCIpKSxlPDB8fHRoaXMuY3Vyc29yXytlPnRoaXMuYnl0ZXNfLmxlbmd0aClyZXR1cm4gdGhpcy5lcnJvcl89ITAsbmV3IFVpbnQ4QXJyYXkoMCk7dmFyIHQ9dGhpcy5ieXRlc18uc3ViYXJyYXkodGhpcy5jdXJzb3JfLHRoaXMuY3Vyc29yXytlKTtyZXR1cm4gdGhpcy5jdXJzb3JfKz1lLHR9O3ZhciBaPVwiW3B0b3RvYnVmIHJlYWRlcl0gXCIsUT1mdW5jdGlvbihlLHQscil7dGhpcy5kZWNvZGVyXz1LLmFsbG9jKGUsdCxyKSx0aGlzLmZpZWxkQ3Vyc29yXz10aGlzLmRlY29kZXJfLmdldEN1cnNvcigpLHRoaXMubmV4dEZpZWxkXz1YLmEuSU5WQUxJRF9GSUVMRF9OVU1CRVIsdGhpcy5uZXh0V2lyZVR5cGVfPVguYS5XaXJlVHlwZS5JTlZBTElELHRoaXMuZXJyb3JfPSExLHRoaXMucmVhZENhbGxiYWNrc189bnVsbH07US5pbnN0YW5jZUNhY2hlXz1bXSxRLnByb3RvdHlwZS5hbGxvYz1RLmFsbG9jLFEucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChaLFwiIFwiKS5jb25jYXQoXCJCaW5hcnlSZWFkZXJcIixcIiBnZXRCdWZmZXJcIikpLHRoaXMuZGVjb2Rlcl8uZ2V0QnVmZmVyKCl9LFEucHJvdG90eXBlLmdldEZpZWxkTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dEZpZWxkX30sUS5wcm90b3R5cGUuaXNFbmRHcm91cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5leHRXaXJlVHlwZV89PVguYS5XaXJlVHlwZS5FTkRfR1JPVVB9LFEucHJvdG90eXBlLmdldEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JffHx0aGlzLmRlY29kZXJfLmdldEVycm9yKCl9LFEucHJvdG90eXBlLm5leHRGaWVsZD1mdW5jdGlvbigpe2lmKHRoaXMuZGVjb2Rlcl8uYXRFbmQoKSlyZXR1cm4hMTtpZih0aGlzLmdldEVycm9yKCkpcmV0dXJuITE7dGhpcy5maWVsZEN1cnNvcl89dGhpcy5kZWNvZGVyXy5nZXRDdXJzb3IoKTt2YXIgZT10aGlzLmRlY29kZXJfLnJlYWRVbnNpZ25lZFZhcmludDMyKCksdD1lPj4+MyxyPTcmZTtyZXR1cm4gciE9WC5hLldpcmVUeXBlLlZBUklOVCYmciE9WC5hLldpcmVUeXBlLkZJWEVEMzImJnIhPVguYS5XaXJlVHlwZS5GSVhFRDY0JiZyIT1YLmEuV2lyZVR5cGUuREVMSU1JVEVEJiZyIT1YLmEuV2lyZVR5cGUuU1RBUlRfR1JPVVAmJnIhPVguYS5XaXJlVHlwZS5FTkRfR1JPVVA/KHRoaXMuZXJyb3JfPSEwLCExKToodGhpcy5uZXh0RmllbGRfPXQsdGhpcy5uZXh0V2lyZVR5cGVfPXIsITApfSxRLnByb3RvdHlwZS5za2lwVmFyaW50RmllbGQ9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChaLFwiIFwiKS5jb25jYXQoXCJCaW5hcnlSZWFkZXJcIixcIiBza2lwVmFyaW50RmllbGRcIikpLHRoaXMubmV4dFdpcmVUeXBlXz09WC5hLldpcmVUeXBlLlZBUklOVD90aGlzLmRlY29kZXJfLnNraXBWYXJpbnQoKTp0aGlzLnNraXBGaWVsZCgpfSxRLnByb3RvdHlwZS5za2lwRGVsaW1pdGVkRmllbGQ9ZnVuY3Rpb24oKXtpZihjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChaLFwiIFwiKS5jb25jYXQoXCJCaW5hcnlSZWFkZXJcIixcIiBza2lwRGVsaW1pdGVkRmllbGRcIikpLHRoaXMubmV4dFdpcmVUeXBlXz09WC5hLldpcmVUeXBlLkRFTElNSVRFRCl7dmFyIGU9dGhpcy5kZWNvZGVyXy5yZWFkVW5zaWduZWRWYXJpbnQzMigpO3RoaXMuZGVjb2Rlcl8uYWR2YW5jZShlKX1lbHNlIHRoaXMuc2tpcEZpZWxkKCl9LFEucHJvdG90eXBlLnNraXBGaXhlZDMyRmllbGQ9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChaLFwiIFwiKS5jb25jYXQoXCJCaW5hcnlSZWFkZXJcIixcIiBza2lwRml4ZWQzMkZpZWxkXCIpKSx0aGlzLm5leHRXaXJlVHlwZV89PVguYS5XaXJlVHlwZS5GSVhFRDMyP3RoaXMuZGVjb2Rlcl8uYWR2YW5jZSg0KTp0aGlzLnNraXBGaWVsZCgpfSxRLnByb3RvdHlwZS5za2lwRml4ZWQ2NEZpZWxkPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJcIi5jb25jYXQoWixcIiBcIikuY29uY2F0KFwiQmluYXJ5UmVhZGVyXCIsXCIgc2tpcEZpeGVkNjRGaWVsZFwiKSksdGhpcy5uZXh0V2lyZVR5cGVfPT1YLmEuV2lyZVR5cGUuRklYRUQ2ND90aGlzLmRlY29kZXJfLmFkdmFuY2UoOCk6dGhpcy5za2lwRmllbGQoKX0sUS5wcm90b3R5cGUuc2tpcEdyb3VwPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJcIi5jb25jYXQoWixcIiBcIikuY29uY2F0KFwiQmluYXJ5UmVhZGVyXCIsXCIgc2tpcEdyb3VwXCIpKTtmb3IodmFyIGU9dGhpcy5uZXh0RmllbGRfOzspe2lmKCF0aGlzLm5leHRGaWVsZCgpKXJldHVybiB2b2lkKHRoaXMuZXJyb3JfPSEwKTtpZih0aGlzLm5leHRXaXJlVHlwZV89PVguYS5XaXJlVHlwZS5FTkRfR1JPVVApcmV0dXJuIHRoaXMubmV4dEZpZWxkXyE9ZT92b2lkKHRoaXMuZXJyb3JfPSEwKTp2b2lkIDA7dGhpcy5za2lwRmllbGQoKX19LFEucHJvdG90eXBlLnNraXBGaWVsZD1mdW5jdGlvbigpe3N3aXRjaChjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChaLFwiIFwiKS5jb25jYXQoXCJCaW5hcnlSZWFkZXJcIixcIiBza2lwRmllbGRcIikpLHRoaXMubmV4dFdpcmVUeXBlXyl7Y2FzZSBYLmEuV2lyZVR5cGUuVkFSSU5UOnRoaXMuc2tpcFZhcmludEZpZWxkKCk7YnJlYWs7Y2FzZSBYLmEuV2lyZVR5cGUuRklYRUQ2NDp0aGlzLnNraXBGaXhlZDY0RmllbGQoKTticmVhaztjYXNlIFguYS5XaXJlVHlwZS5ERUxJTUlURUQ6dGhpcy5za2lwRGVsaW1pdGVkRmllbGQoKTticmVhaztjYXNlIFguYS5XaXJlVHlwZS5GSVhFRDMyOnRoaXMuc2tpcEZpeGVkMzJGaWVsZCgpO2JyZWFrO2Nhc2UgWC5hLldpcmVUeXBlLlNUQVJUX0dST1VQOnRoaXMuc2tpcEdyb3VwKCl9fSxRLnByb3RvdHlwZS5yZWFkTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZGVjb2Rlcl8uZ2V0RW5kKCksbj10aGlzLmRlY29kZXJfLnJlYWRVbnNpZ25lZFZhcmludDMyKCksaT10aGlzLmRlY29kZXJfLmdldEN1cnNvcigpK247dGhpcy5kZWNvZGVyXy5zZXRFbmQoaSksdChlLHRoaXMpLHRoaXMuZGVjb2Rlcl8uc2V0Q3Vyc29yKGkpLHRoaXMuZGVjb2Rlcl8uc2V0RW5kKHIpfSxRLnByb3RvdHlwZS5yZWFkSW50MzI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWNvZGVyXy5yZWFkU2lnbmVkVmFyaW50MzIoKX0sUS5wcm90b3R5cGUucmVhZEludDY0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVjb2Rlcl8ucmVhZFNpZ25lZFZhcmludDY0KCl9LFEucHJvdG90eXBlLnJlYWRGbG9hdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlY29kZXJfLnJlYWRGbG9hdCgpfSxRLnByb3RvdHlwZS5yZWFkRG91YmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVjb2Rlcl8ucmVhZERvdWJsZSgpfSxRLnByb3RvdHlwZS5yZWFkQm9vbD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5kZWNvZGVyXy5yZWFkVW5zaWduZWRWYXJpbnQzMigpfSxRLnByb3RvdHlwZS5yZWFkU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kZWNvZGVyXy5yZWFkVW5zaWduZWRWYXJpbnQzMigpO3JldHVybiB0aGlzLmRlY29kZXJfLnJlYWRTdHJpbmcoZSl9LFEucHJvdG90eXBlLnJlYWRCeXRlcz1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiXCIuY29uY2F0KFosXCIgXCIpLmNvbmNhdChcIkJpbmFyeVJlYWRlclwiLFwiIHJlYWRCeXRlc1wiKSk7dmFyIGU9dGhpcy5kZWNvZGVyXy5yZWFkVW5zaWduZWRWYXJpbnQzMigpO3JldHVybiB0aGlzLmRlY29kZXJfLnJlYWRCeXRlcyhlKX07dmFyICQ9ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlcl89W119OyQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlcl8ubGVuZ3RofSwkLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ1ZmZlcl87cmV0dXJuIHRoaXMuYnVmZmVyXz1bXSxlfSwkLnByb3RvdHlwZS53cml0ZVNwbGl0VmFyaW50NjQ9ZnVuY3Rpb24oZSx0KXtmb3IoO3Q+MHx8ZT4xMjc7KXRoaXMuYnVmZmVyXy5wdXNoKDEyNyZlfDEyOCksZT0oZT4+Pjd8dDw8MjUpPj4+MCx0Pj4+PTc7dGhpcy5idWZmZXJfLnB1c2goZSl9LCQucHJvdG90eXBlLndyaXRlVW5zaWduZWRWYXJpbnQzMj1mdW5jdGlvbihlKXtmb3IoO2U+MTI3Oyl0aGlzLmJ1ZmZlcl8ucHVzaCgxMjcmZXwxMjgpLGU+Pj49Nzt0aGlzLmJ1ZmZlcl8ucHVzaChlKX0sJC5wcm90b3R5cGUud3JpdGVTaWduZWRWYXJpbnQzMj1mdW5jdGlvbihlKXtpZihlPj0wKXRoaXMud3JpdGVVbnNpZ25lZFZhcmludDMyKGUpO2Vsc2V7Zm9yKHZhciB0PTA7dDw5O3QrKyl0aGlzLmJ1ZmZlcl8ucHVzaCgxMjcmZXwxMjgpLGU+Pj03O3RoaXMuYnVmZmVyXy5wdXNoKDEpfX0sJC5wcm90b3R5cGUud3JpdGVTaWduZWRWYXJpbnQ2ND1mdW5jdGlvbihlKXtxLmEuc3BsaXRJbnQ2NChlKSx0aGlzLndyaXRlU3BsaXRWYXJpbnQ2NChxLmEuc3BsaXQ2NExvdyxxLmEuc3BsaXQ2NEhpZ2gpfSwkLnByb3RvdHlwZS53cml0ZVVpbnQzMj1mdW5jdGlvbihlKXt0aGlzLmJ1ZmZlcl8ucHVzaChlPj4+MCYyNTUpLHRoaXMuYnVmZmVyXy5wdXNoKGU+Pj44JjI1NSksdGhpcy5idWZmZXJfLnB1c2goZT4+PjE2JjI1NSksdGhpcy5idWZmZXJfLnB1c2goZT4+PjI0JjI1NSl9LCQucHJvdG90eXBlLndyaXRlRmxvYXQ9ZnVuY3Rpb24oZSl7cS5hLnNwbGl0RmxvYXQzMihlKSx0aGlzLndyaXRlVWludDMyKHEuYS5zcGxpdDY0TG93KX0sJC5wcm90b3R5cGUud3JpdGVEb3VibGU9ZnVuY3Rpb24oZSl7cS5hLnNwbGl0RmxvYXQ2NChlKSx0aGlzLndyaXRlVWludDMyKHEuYS5zcGxpdDY0TG93KSx0aGlzLndyaXRlVWludDMyKHEuYS5zcGxpdDY0SGlnaCl9LCQucHJvdG90eXBlLndyaXRlQm9vbD1mdW5jdGlvbihlKXt0aGlzLmJ1ZmZlcl8ucHVzaChlPzE6MCl9LCQucHJvdG90eXBlLndyaXRlU3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmJ1ZmZlcl8ubGVuZ3RoLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZS5jaGFyQ29kZUF0KHIpO2lmKG48MTI4KXRoaXMuYnVmZmVyXy5wdXNoKG4pO2Vsc2UgaWYobjwyMDQ4KXRoaXMuYnVmZmVyXy5wdXNoKG4+PjZ8MTkyKSx0aGlzLmJ1ZmZlcl8ucHVzaCg2MyZufDEyOCk7ZWxzZSBpZihuPDY1NTM2KWlmKG4+PTU1Mjk2JiZuPD01NjMxOSYmcisxPGUubGVuZ3RoKXt2YXIgaT1lLmNoYXJDb2RlQXQocisxKTtpPj01NjMyMCYmaTw9NTczNDMmJihuPTEwMjQqKG4tNTUyOTYpK2ktNTYzMjArNjU1MzYsdGhpcy5idWZmZXJfLnB1c2gobj4+MTh8MjQwKSx0aGlzLmJ1ZmZlcl8ucHVzaChuPj4xMiY2M3wxMjgpLHRoaXMuYnVmZmVyXy5wdXNoKG4+PjYmNjN8MTI4KSx0aGlzLmJ1ZmZlcl8ucHVzaCg2MyZufDEyOCkscisrKX1lbHNlIHRoaXMuYnVmZmVyXy5wdXNoKG4+PjEyfDIyNCksdGhpcy5idWZmZXJfLnB1c2gobj4+NiY2M3wxMjgpLHRoaXMuYnVmZmVyXy5wdXNoKDYzJm58MTI4KX1yZXR1cm4gdGhpcy5idWZmZXJfLmxlbmd0aC10fTt2YXIgZWU9ZnVuY3Rpb24oKXt0aGlzLmJsb2Nrc189W10sdGhpcy50b3RhbExlbmd0aF89MCx0aGlzLmVuY29kZXJfPW5ldyAkLHRoaXMuYm9va21hcmtzXz1bXX07ZWUucHJvdG90eXBlLmFwcGVuZFVpbnQ4QXJyYXlfPWZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKFwiXCIuY29uY2F0KFwiW3B0b3RvYnVmIHdyaXRlcl0gXCIsXCIgXCIpLmNvbmNhdChcIkJpbmFyeVdyaXRlclwiLFwiIGFwcGVuZFVpbnQ4QXJyYXlfXCIpKTt2YXIgdD10aGlzLmVuY29kZXJfLmVuZCgpO3RoaXMuYmxvY2tzXy5wdXNoKHQpLHRoaXMuYmxvY2tzXy5wdXNoKGUpLHRoaXMudG90YWxMZW5ndGhfKz10Lmxlbmd0aCtlLmxlbmd0aH0sZWUucHJvdG90eXBlLmJlZ2luRGVsaW1pdGVkXz1mdW5jdGlvbihlKXt0aGlzLndyaXRlRmllbGRIZWFkZXJfKGUsWC5hLldpcmVUeXBlLkRFTElNSVRFRCk7dmFyIHQ9dGhpcy5lbmNvZGVyXy5lbmQoKTtyZXR1cm4gdGhpcy5ibG9ja3NfLnB1c2godCksdGhpcy50b3RhbExlbmd0aF8rPXQubGVuZ3RoLHQucHVzaCh0aGlzLnRvdGFsTGVuZ3RoXyksdH0sZWUucHJvdG90eXBlLmVuZERlbGltaXRlZF89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUucG9wKCkscj10aGlzLnRvdGFsTGVuZ3RoXyt0aGlzLmVuY29kZXJfLmxlbmd0aCgpLXQ7cj4xMjc7KWUucHVzaCgxMjcmcnwxMjgpLHI+Pj49Nyx0aGlzLnRvdGFsTGVuZ3RoXysrO2UucHVzaChyKSx0aGlzLnRvdGFsTGVuZ3RoXysrfSxlZS5wcm90b3R5cGUuZ2V0UmVzdWx0QnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KHRoaXMudG90YWxMZW5ndGhfK3RoaXMuZW5jb2Rlcl8ubGVuZ3RoKCkpLHQ9dGhpcy5ibG9ja3NfLHI9dC5sZW5ndGgsbj0wLGk9MDtpPHI7aSsrKXt2YXIgbz10W2ldO2Uuc2V0KG8sbiksbis9by5sZW5ndGh9dmFyIGE9dGhpcy5lbmNvZGVyXy5lbmQoKTtyZXR1cm4gZS5zZXQoYSxuKSxuKz1hLmxlbmd0aCx0aGlzLmJsb2Nrc189W2VdLGV9LGVlLnByb3RvdHlwZS5nZXRSZXN1bHRCYXNlNjRTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChHLmMpKHRoaXMuZ2V0UmVzdWx0QnVmZmVyKCksZSl9LGVlLnByb3RvdHlwZS53cml0ZUZpZWxkSGVhZGVyXz1mdW5jdGlvbihlLHQpe3ZhciByPTgqZSt0O3RoaXMuZW5jb2Rlcl8ud3JpdGVVbnNpZ25lZFZhcmludDMyKHIpfSxlZS5wcm90b3R5cGUud3JpdGVTaWduZWRWYXJpbnQzMl89ZnVuY3Rpb24oZSx0KXtudWxsIT10JiYodGhpcy53cml0ZUZpZWxkSGVhZGVyXyhlLFguYS5XaXJlVHlwZS5WQVJJTlQpLHRoaXMuZW5jb2Rlcl8ud3JpdGVTaWduZWRWYXJpbnQzMih0KSl9LGVlLnByb3RvdHlwZS53cml0ZVNpZ25lZFZhcmludDY0Xz1mdW5jdGlvbihlLHQpe251bGwhPXQmJih0aGlzLndyaXRlRmllbGRIZWFkZXJfKGUsWC5hLldpcmVUeXBlLlZBUklOVCksdGhpcy5lbmNvZGVyXy53cml0ZVNpZ25lZFZhcmludDY0KHQpKX0sZWUucHJvdG90eXBlLndyaXRlSW50MzI9ZnVuY3Rpb24oZSx0KXtudWxsIT10JiZ0aGlzLndyaXRlU2lnbmVkVmFyaW50MzJfKGUsdCl9LGVlLnByb3RvdHlwZS53cml0ZUludDY0PWZ1bmN0aW9uKGUsdCl7bnVsbCE9dCYmdGhpcy53cml0ZVNpZ25lZFZhcmludDY0XyhlLHQpfSxlZS5wcm90b3R5cGUud3JpdGVGbG9hdD1mdW5jdGlvbihlLHQpe251bGwhPXQmJih0aGlzLndyaXRlRmllbGRIZWFkZXJfKGUsWC5hLldpcmVUeXBlLkZJWEVEMzIpLHRoaXMuZW5jb2Rlcl8ud3JpdGVGbG9hdCh0KSl9LGVlLnByb3RvdHlwZS53cml0ZURvdWJsZT1mdW5jdGlvbihlLHQpe251bGwhPXQmJih0aGlzLndyaXRlRmllbGRIZWFkZXJfKGUsWC5hLldpcmVUeXBlLkZJWEVENjQpLHRoaXMuZW5jb2Rlcl8ud3JpdGVEb3VibGUodCkpfSxlZS5wcm90b3R5cGUud3JpdGVCb29sPWZ1bmN0aW9uKGUsdCl7bnVsbCE9dCYmKHRoaXMud3JpdGVGaWVsZEhlYWRlcl8oZSxYLmEuV2lyZVR5cGUuVkFSSU5UKSx0aGlzLmVuY29kZXJfLndyaXRlQm9vbCh0KSl9LGVlLnByb3RvdHlwZS53cml0ZVN0cmluZz1mdW5jdGlvbihlLHQpe2lmKG51bGwhPXQpe3ZhciByPXRoaXMuYmVnaW5EZWxpbWl0ZWRfKGUpO3RoaXMuZW5jb2Rlcl8ud3JpdGVTdHJpbmcodCksdGhpcy5lbmREZWxpbWl0ZWRfKHIpfX0sZWUucHJvdG90eXBlLndyaXRlQnl0ZXM9ZnVuY3Rpb24oZSx0KXtpZihjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChcIltwdG90b2J1ZiB3cml0ZXJdIFwiLFwiIFwiKS5jb25jYXQoXCJCaW5hcnlXcml0ZXJcIixcIiB3cml0ZUJ5dGVzXCIpKSxudWxsIT10KXt2YXIgcj1xLmEuYnl0ZVNvdXJjZVRvVWludDhBcnJheSh0KTt0aGlzLndyaXRlRmllbGRIZWFkZXJfKGUsWC5hLldpcmVUeXBlLkRFTElNSVRFRCksdGhpcy5lbmNvZGVyXy53cml0ZVVuc2lnbmVkVmFyaW50MzIoci5sZW5ndGgpLHRoaXMuYXBwZW5kVWludDhBcnJheV8ocil9fSxlZS5wcm90b3R5cGUud3JpdGVNZXNzYWdlPWZ1bmN0aW9uKGUsdCxyKXtpZihudWxsIT10KXt2YXIgbj10aGlzLmJlZ2luRGVsaW1pdGVkXyhlKTtyKHQsdGhpcyksdGhpcy5lbmREZWxpbWl0ZWRfKG4pfX0sZWUucHJvdG90eXBlLndyaXRlUmVwZWF0ZWRJbnQzMj1mdW5jdGlvbihlLHQpe2lmKG51bGwhPXQpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspdGhpcy53cml0ZVNpZ25lZFZhcmludDMyXyhlLHRbcl0pfSxlZS5wcm90b3R5cGUud3JpdGVSZXBlYXRlZEludDY0PWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9dClmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLndyaXRlU2lnbmVkVmFyaW50NjRfKGUsdFtyXSl9LGVlLnByb3RvdHlwZS53cml0ZVJlcGVhdGVkRmxvYXQ9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT10KWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMud3JpdGVGbG9hdChlLHRbcl0pfSxlZS5wcm90b3R5cGUud3JpdGVSZXBlYXRlZERvdWJsZT1mdW5jdGlvbihlLHQpe2lmKG51bGwhPXQpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspdGhpcy53cml0ZURvdWJsZShlLHRbcl0pfSxlZS5wcm90b3R5cGUud3JpdGVSZXBlYXRlZEJvb2w9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT10KWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMud3JpdGVCb29sKGUsdFtyXSl9LGVlLnByb3RvdHlwZS53cml0ZVJlcGVhdGVkU3RyaW5nPWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9dClmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLndyaXRlU3RyaW5nKGUsdFtyXSl9O3ZhciB0ZT1uLHJlPW0oKSgoZnVuY3Rpb24gZSh0KXtiKCkodGhpcyxlKSx0aGlzLm1JZD10fSkpLG5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpLHRoaXMubUFkYXB0ZXI9dm9pZCAwLHRoaXMubVdyaXRlcj1uZXcgdGUuQmluYXJ5V3JpdGVyLHRoaXMubVdyaXRlSE9iamVjdElkcz1bXSx0aGlzLm1Xcml0ZUhPYmplY3RzPVtdLHRoaXMubVdyaXRlSE9iamVjdEluZGV4PTB9cmV0dXJuIG0oKShlLFt7a2V5OlwiZ2V0SE9iamVjdHNOdW1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Xcml0ZUhPYmplY3RJZHMubGVuZ3RofX0se2tleTpcImdldEhPYmplY3RJZHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Xcml0ZUhPYmplY3RJZHN9fSx7a2V5Olwic2V0SE9iamVjdElkc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubVdyaXRlSE9iamVjdElkcz1lfX0se2tleTpcInRvQmFzZTY0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tV3JpdGVyLmdldFJlc3VsdEJhc2U2NFN0cmluZygpfX0se2tleTpcImZyb21CYXNlNjRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10ZS5NZXNzYWdlLmJ5dGVzQXNVOChlKTtyZXR1cm4gdGhpcy5tUmVhZGVyPW5ldyB0ZS5CaW5hcnlSZWFkZXIodCwwLHQubGVuZ3RoKSx0aGlzfX0se2tleTpcImdldFdyaXRlckJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKX19LHtrZXk6XCJzZXRXcml0ZXJCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1Xcml0ZXI9bmV3IHRlLkJpbmFyeVdyaXRlcjt2YXIgdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gdGhpcy5tV3JpdGVyLmFwcGVuZFVpbnQ4QXJyYXlfKHQpLHRoaXN9fSx7a2V5OlwiZ2V0UmVhZGVyQnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tUmVhZGVyLmdldEJ1ZmZlcigpfX0se2tleTpcInNldFJlYWRlckJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUpO3JldHVybiB0aGlzLm1SZWFkZXI9bmV3IHRlLkJpbmFyeVJlYWRlcih0LDAsdC5sZW5ndGgpLHRoaXN9fSx7a2V5OlwibmV4dEZpZWxkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tUmVhZGVyLm5leHRGaWVsZCgpfX0se2tleTpcInNraXBGaWVsZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tUmVhZGVyLnNraXBGaWVsZCgpfX0se2tleTpcImlzRW5kR3JvdXBcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1SZWFkZXIuaXNFbmRHcm91cCgpfX0se2tleTpcImdldEZpZWxkTnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tUmVhZGVyLmdldEZpZWxkTnVtYmVyKCl9fSx7a2V5OlwicmVhZEhlYWRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IFY7cmV0dXJuIGUucmVhZE1lc3NhZ2UodGhpcy5tUmVhZGVyKSxlfX0se2tleTpcInJlYWRIUGFyY2VsYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5tUmVhZGVyLnJlYWRNZXNzYWdlKHRoaXMsKGZ1bmN0aW9uKG4saSl7dmFyIG89bmV3IGU7by5tUmVhZGVyPWksby5tQWRhcHRlcj1yLm1BZGFwdGVyLHQobyl9KSl9fSx7a2V5OlwicmVhZFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVJlYWRlci5yZWFkU3RyaW5nKCl9fSx7a2V5OlwicmVhZEJ5dGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tUmVhZGVyLnJlYWRCeXRlcygpfX0se2tleTpcInJlYWRCb29sXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tUmVhZGVyLnJlYWRCb29sKCl9fSx7a2V5OlwicmVhZEludFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVJlYWRlci5yZWFkSW50MzIoKX19LHtrZXk6XCJyZWFkSW50NjRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubVJlYWRlci5yZWFkSW50NjQoKTtyZXR1cm4oZT5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUnx8ZTxOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikmJmwuYS53YXJuKHAuaixcInJlYWRJbnQ2NDogbG9uZ1ZhbHVlKFwiLmNvbmNhdChlLCcpIG5vdCB3aXRoaW4gdGhlIHNhZmUgcmFuZ2UsIGl0IHdpbGwgYmUgZGlzdG9ydGVkLiAgICAgICAgIFlvdSBhcmUgYWR2aXNlZCB0byB1c2UgXCJzdHJpbmdcIiBpbnN0ZWFkLicpKSxlfX0se2tleTpcInJlYWRGbG9hdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVJlYWRlci5yZWFkRmxvYXQoKX19LHtrZXk6XCJyZWFkRG91YmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tUmVhZGVyLnJlYWREb3VibGUoKX19LHtrZXk6XCJyZWFkSE9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IExlO3JldHVybiBlLm1JZD10aGlzLm1SZWFkZXIucmVhZFN0cmluZygpLGUubUFkYXB0ZXI9dGhpcy5tQWRhcHRlcixlfX0se2tleTpcInJlYWRIVW5rbm93bk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tUmVhZGVyLnJlYWRTdHJpbmcoKTtyZXR1cm4gbmV3IHJlKGUpfX0se2tleTpcIndyaXRlSGVhZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IFY7XCJmdW5jdGlvblwiPT10eXBlb2YgZS53cml0ZU1lc3NhZ2U/ZS53cml0ZU1lc3NhZ2UodGhpcy5tV3JpdGVyKToobC5hLndhcm4ocC5qLFwid3JpdGVIZWFkZXI6IHBhcmFtcyBpcyBub3QgSEhlYWRlciwgd3JpdGUgZGVmYXVsdCBISGVhZGVyLlwiKSwobmV3IFYpLndyaXRlTWVzc2FnZSh0aGlzLm1Xcml0ZXIpKX19LHtrZXk6XCJ3cml0ZUFueVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtpZihBcnJheS5pc0FycmF5KHQpKXRoaXMud3JpdGVSZXBlYXRBbnkoZSx0LHIpO2Vsc2Ugc3dpdGNoKHIpe2Nhc2VcImJvb2xlYW5cIjp0aGlzLndyaXRlQm9vbChlLHQpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOnRoaXMud3JpdGVTdHJpbmcoZSx0KTticmVhaztjYXNlXCJpbnRcIjp0aGlzLndyaXRlSW50KGUsdCk7YnJlYWs7Y2FzZVwibG9uZ1wiOnRoaXMud3JpdGVJbnQ2NChlLHQpO2JyZWFrO2Nhc2VcImZsb2F0XCI6dGhpcy53cml0ZUZsb2F0KGUsdCk7YnJlYWs7Y2FzZVwiZG91YmxlXCI6dGhpcy53cml0ZURvdWJsZShlLHQpO2JyZWFrO2Nhc2VcImhwYXJjZWxhYmxlXCI6dGhpcy53cml0ZUhQYXJjZWxhYmxlKGUsdCk7YnJlYWs7Y2FzZVwiaG9iamVjdFwiOnRoaXMud3JpdGVIT2JqZWN0KGUsdCk7YnJlYWs7Y2FzZVwiaHVua25vd25vYmplY3RcIjp0aGlzLndyaXRlSFVua25vd25PYmplY3QoZSx0KTticmVhaztjYXNlXCJieXRlc1wiOnRoaXMud3JpdGVCeXRlcyhlLHQpO2JyZWFrO2RlZmF1bHQ6bC5hLndhcm4ocC5qLFwid3JpdGVBbnk6IGlzIG5vdCBzdXBwb3J0ZWQgdHlwZTogXCIuY29uY2F0KHIpKX19fSx7a2V5Olwid3JpdGVCb29sXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLm1Xcml0ZXIud3JpdGVCb29sKGUsdCl9fSx7a2V5Olwid3JpdGVGbG9hdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5tV3JpdGVyLndyaXRlRmxvYXQoZSx0aGlzLmFueVR5cGVUb051bWJlcih0LCEwKSl9fSx7a2V5Olwid3JpdGVEb3VibGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubVdyaXRlci53cml0ZURvdWJsZShlLHRoaXMuYW55VHlwZVRvTnVtYmVyKHQsITApKX19LHtrZXk6XCJ3cml0ZUludFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5tV3JpdGVyLndyaXRlSW50MzIoZSx0aGlzLmFueVR5cGVUb051bWJlcih0KSl9fSx7a2V5Olwid3JpdGVJbnQ2NFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5hbnlUeXBlVG9OdW1iZXIodCk7aXNOYU4ocik/bC5hLndhcm4ocC5qLFwid3JpdGVJbnQ2NDogbG9uZ1ZhbHVlKFwiLmNvbmNhdChKKCkodCksXCIpIG5vdCBpcyBudW1iZXJcIikpOihyPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfHxyPE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKSYmbC5hLndhcm4ocC5qLFwid3JpdGVJbnQ2NDogbG9uZ1ZhbHVlKFwiLmNvbmNhdCh0LCcpIG5vdCB3aXRoaW4gdGhlIHNhZmUgcmFuZ2UsIGl0IHdpbGwgYmUgZGlzdG9ydGVkLiAgICAgICAgIFlvdSBhcmUgYWR2aXNlZCB0byB1c2UgXCJzdHJpbmdcIiBpbnN0ZWFkLicpKSx0aGlzLm1Xcml0ZXIud3JpdGVJbnQ2NChlLHIpfX0se2tleTpcIndyaXRlU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLm1Xcml0ZXIud3JpdGVTdHJpbmcoZSx0aGlzLmFueVR5cGVUb1N0cmluZyh0KSl9fSx7a2V5Olwid3JpdGVCeXRlc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/dGhpcy5tV3JpdGVyLndyaXRlQnl0ZXMoZSx0KTp0IGluc3RhbmNlb2YgSW50OEFycmF5JiZ0aGlzLm1Xcml0ZXIud3JpdGVCeXRlcyhlLG5ldyBVaW50OEFycmF5KHQpKX19LHtrZXk6XCJ3cml0ZVJlcGVhdEFueVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtpZihBcnJheS5pc0FycmF5KHQpKXN3aXRjaChyKXtjYXNlXCJib29sZWFuXCI6dGhpcy53cml0ZVJlcGVhdEJvb2woZSx0KTticmVhaztjYXNlXCJzdHJpbmdcIjp0aGlzLndyaXRlUmVwZWF0U3RyaW5nKGUsdCk7YnJlYWs7Y2FzZVwiaW50XCI6dGhpcy53cml0ZVJlcGVhdEludDMyKGUsdCk7YnJlYWs7Y2FzZVwibG9uZ1wiOnRoaXMud3JpdGVSZXBlYXRJbnQ2NChlLHQpO2JyZWFrO2Nhc2VcImZsb2F0XCI6dGhpcy53cml0ZVJlcGVhdEZsb2F0KGUsdCk7YnJlYWs7Y2FzZVwiZG91YmxlXCI6dGhpcy53cml0ZVJlcGVhdERvdWJsZShlLHQpO2JyZWFrO2Nhc2VcImhwYXJjZWxhYmxlXCI6dGhpcy53cml0ZVJlcGVhdEhQYXJjZWxhYmxlKGUsdCk7YnJlYWs7ZGVmYXVsdDpsLmEud2FybihwLmosXCJ3cml0ZVJlcGVhdEFueTogaXMgbm90IHN1cHBvcnRlZCB0eXBlOiBcIi5jb25jYXQocikpfWVsc2UgbC5hLmRlYnVnKHAuaixcIndyaXRlUmVwZWF0QW55OiByZXBlYXRlZFZhbHVlIGlzIG5vdCBhcnJheSEgaXMgXCIuY29uY2F0KHQpKX19LHtrZXk6XCJ3cml0ZVJlcGVhdEJvb2xcIix2YWx1ZTpmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/dGhpcy5tV3JpdGVyLndyaXRlUmVwZWF0ZWRCb29sKGUsdCk6bC5hLndhcm4ocC5qLFwid3JpdGVSZXBlYXRCb29sOiBza2lwISBCZWNhdXNlIHJlcGVhdGVkVmFsdWUgaXMgbm90IGFycmF5ISBpcyBcIi5jb25jYXQodCkpfX0se2tleTpcIndyaXRlUmVwZWF0RmxvYXRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/dGhpcy5tV3JpdGVyLndyaXRlUmVwZWF0ZWRGbG9hdChlLHQpOmwuYS53YXJuKHAuaixcIndyaXRlUmVwZWF0RmxvYXQ6IHNraXAhIEJlY2F1c2UgcmVwZWF0ZWRWYWx1ZSBpcyBub3QgYXJyYXkhIGlzIFwiLmNvbmNhdCh0KSl9fSx7a2V5Olwid3JpdGVSZXBlYXREb3VibGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/dGhpcy5tV3JpdGVyLndyaXRlUmVwZWF0ZWREb3VibGUoZSx0KTpsLmEud2FybihwLmosXCJ3cml0ZVJlcGVhdERvdWJsZTogc2tpcCEgQmVjYXVzZSByZXBlYXRlZFZhbHVlIGlzIG5vdCBhcnJheSEgaXMgXCIuY29uY2F0KHQpKX19LHtrZXk6XCJ3cml0ZVJlcGVhdEludDMyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtBcnJheS5pc0FycmF5KHQpP3RoaXMubVdyaXRlci53cml0ZVJlcGVhdGVkSW50MzIoZSx0KTpsLmEud2FybihwLmosXCJ3cml0ZVJlcGVhdEludDMyOiBza2lwISBCZWNhdXNlIHJlcGVhdGVkVmFsdWUgaXMgbm90IGFycmF5ISBpcyBcIi5jb25jYXQodCkpfX0se2tleTpcIndyaXRlUmVwZWF0SW50NjRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdOyhuPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfHxuPE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKSYmbC5hLndhcm4ocC5qLFwid3JpdGVSZXBlYXRJbnQ2NDogcmVwZWF0ZWRWYWx1ZVtcIi5jb25jYXQocixcIl0oXCIpLmNvbmNhdChuLCcpIG5vdCB3aXRoaW4gdGhlIHNhZmUgcmFuZ2UsICAgICAgICAgICBpdCB3aWxsIGJlIGRpc3RvcnRlZC4gWW91IGFyZSBhZHZpc2VkIHRvIHVzZSBcInN0cmluZ1wiIGluc3RlYWQuJykpfXRoaXMubVdyaXRlci53cml0ZVJlcGVhdGVkSW50NjQoZSx0KX1lbHNlIGwuYS53YXJuKHAuaixcIndyaXRlUmVwZWF0SW50NjQ6IHNraXAhIEJlY2F1c2UgcmVwZWF0ZWRWYWx1ZSBpcyBub3QgYXJyYXkhIGlzIFwiLmNvbmNhdCh0KSl9fSx7a2V5Olwid3JpdGVSZXBlYXRTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/dGhpcy5tV3JpdGVyLndyaXRlUmVwZWF0ZWRTdHJpbmcoZSx0KTpsLmEud2FybihwLmosXCJ3cml0ZVJlcGVhdFN0cmluZzogc2tpcCEgQmVjYXVzZSByZXBlYXRlZFZhbHVlIGlzIG5vdCBhcnJheSEgaXMgXCIuY29uY2F0KHQpKX19LHtrZXk6XCJ3cml0ZUhQYXJjZWxhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQud3JpdGVUb1BhcmNlbD90aGlzLm1Xcml0ZXIud3JpdGVNZXNzYWdlKGUsdGhpcywoZnVuY3Rpb24oKXt0LndyaXRlVG9QYXJjZWwocil9KSk6bC5hLmRlYnVnKHAuaixcIndyaXRlSFBhcmNlbGFibGUgcGFyYW1zIHBhcmNlbGFibGUgZXJyb3JcIil9fSx7a2V5Olwid3JpdGVSZXBlYXRIUGFyY2VsYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTt0aGlzLndyaXRlSFBhcmNlbGFibGUoZSxuKX1lbHNlIGwuYS53YXJuKHAuaixcIndyaXRlUmVwZWF0SFBhcmNlbGFibGU6IHNraXAhIEJlY2F1c2UgcmVwZWF0ZWRWYWx1ZSBpcyBub3QgYXJyYXkhIGlzIFwiLmNvbmNhdCh0KSl9fSx7a2V5Olwid3JpdGVIT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2b2lkIDAhPT10P3QubUlkPyh0aGlzLndyaXRlU3RyaW5nKGUsdC5tSWQpLHRoaXMubVdyaXRlSE9iamVjdHNbdGhpcy5tV3JpdGVIT2JqZWN0SW5kZXhdPXQsdGhpcy5tV3JpdGVIT2JqZWN0SWRzW3RoaXMubVdyaXRlSE9iamVjdEluZGV4KytdPXQubUlkKTpsLmEud2FybihwLmosXCJ3cml0ZUhPYmplY3Q6IHNraXAhIEJlY2F1c2UgaE9iamVjdCBpcyBub3QgSE9iamVjdCEgTm8gbUlkISBcIik6bC5hLndhcm4ocC5qLFwid3JpdGVIT2JqZWN0OiBza2lwISBCZWNhdXNlIGhPYmplY3QgaXMgdW5kZWZpbmVkIVwiKX19LHtrZXk6XCJ3cml0ZUhVbmtub3duT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2b2lkIDAhPT10P3RoaXMud3JpdGVTdHJpbmcoZSx0Lm1JZCk6bC5hLndhcm4ocC5qLFwid3JpdGVIVW5rbm93bk9iamVjdDogc2tpcCEgQmVjYXVzZSBoVW5rbm93bk9iamVjdCBpcyB1bmRlZmluZWQhXCIpfX0se2tleTpcImFueVR5cGVUb051bWJlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKEooKShlKSl7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGU7Y2FzZVwiYm9vbGVhblwiOnJldHVybiBlPzE6MDtjYXNlXCJzdHJpbmdcIjpjYXNlXCJiaWdpbnRcIjpyZXR1cm4gdD9wYXJzZUZsb2F0KGUpOnBhcnNlSW50KGUpO2RlZmF1bHQ6cmV0dXJuIE5hTn19fSx7a2V5OlwiYW55VHlwZVRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKEooKShlKSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGU7Y2FzZVwib2JqZWN0XCI6cmV0dXJuXCJbT2JqZWN0XVwiO2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuXCJbRnVuY3Rpb25dXCI7Y2FzZVwic3ltYm9sXCI6cmV0dXJuXCJbU3ltYm9sXVwiO2Nhc2VcInVuZGVmaW5lZFwiOnJldHVyblwiXCI7ZGVmYXVsdDpyZXR1cm5cIlwiLmNvbmNhdChlKX19fV0pLGV9KCksaWU9bSgpKChmdW5jdGlvbiBlKHQscixuLGksbyl7YigpKHRoaXMsZSksdGhpcy5tU0lkPXQsdGhpcy5tUHJvZ0lkPXIsdGhpcy5tUGF0aD1uLHRoaXMubVRyaWdnZXI9aSx0aGlzLm1Qcm9jPW8sdGhpcy5tQXBpTGV2ZWw9dm9pZCAwfSkpLG9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpLHRoaXMubVByb2dJbmZvcz1uZXcgTWFwfXJldHVybiBtKCkoZSxbe2tleTpcImluaXRQb2xpY3lcIix2YWx1ZTpmdW5jdGlvbigpe2wuYS5kZWJ1ZyhwLmosXCJpbml0IHBvbGljeVwiKX19LHtrZXk6XCJhZGRQcm9nSW5mb3NcIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGkpe3ZhciBvPW5ldyBpZShlLHQscixuLGkpO3RoaXMubVByb2dJbmZvcy5zZXQodCxvKX19LHtrZXk6XCJmaW5kSW5mb0J5UHJvZ0lkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubVByb2dJbmZvcy5nZXQoZSl9fSx7a2V5OlwiZmluZEluZm9cIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5maW5kSW5mb0J5UHJvZ0lkKGUpO2lmKG4pcmV0dXJuIG47dmFyIGk9dm9pZCAwLG89TS5hLmdldChcInBhZkZyYW1ld29ya1wiLFwieHBzZkpzUGFmUmVnaXN0cnlDZW50ZXJcIik7aWYodm9pZCAwIT09byYmXCJmdW5jdGlvblwiPT10eXBlb2Ygby5maW5kU2VydmljZUluZm8pe3ZhciBhPW8uZmluZFNlcnZpY2VJbmZvKGUpO3ZvaWQgMCE9PWEmJihpPSEwPT09YS5pc1N1cHBvcnRCaW5kaW5nP00uYS5nZXQoXCJwYWZGcmFtZXdvcmtcIixcImJpbmRpbmdKc1RyaWdnZXJcIik6TS5hLmdldChcInBhZkZyYW1ld29ya1wiLFwieHBzZkpzVHJpZ2dlclwiKSl9bC5hLmRlYnVnKHAuaixcInBhZlRyaWdnZXIgPSBcIi5jb25jYXQoaSkpO3ZhciBzPU0uYS5nZXQoXCJobXNjb3JlRnJhbWV3b3JrXCIsXCJ4cHNmSnNUcmlnZ2VyXCIpO2wuYS5kZWJ1ZyhwLmosXCJkZWZhdWx0VHJpZ2dlciA9IFwiLmNvbmNhdChzKSk7dmFyIHU9bmV3IGllO3JldHVybiB1Lm1TSWQ9dCx1Lm1Qcm9nSWQ9ZSx1Lm1BcGlMZXZlbD1yLHUubVRyaWdnZXI9aXx8c3x8XCJqc2JcIix1fX1dKSxlfSgpO2Z1bmN0aW9uIGFlKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBzZShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9hZShPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MoKShlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6YWUoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9cygpKG9lLFwiZGVmYXVsdFRyaWdnZXJcIixNLmEuZ2V0KFwiaG1zY29yZUZyYW1ld29ya1wiLFwieHBzZkpzVHJpZ2dlclwiKXx8XCJqc2JcIik7dmFyIHVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpfXJldHVybiBtKCkoZSxudWxsLFt7a2V5OlwiY3JlYXRlVmlld1wiLHZhbHVlOmZ1bmN0aW9uKHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7aWYodClpZihcInN0cmluZ1wiPT10eXBlb2YgdClpZihyKXtpZihcInN0cmluZ1wiPT10eXBlb2Ygci5tSWQpcj1yLm1JZDtlbHNlIGlmKFwic3RyaW5nXCIhPXR5cGVvZiByKXJldHVybiB2b2lkIG8oe2VyckNvZGU6LTIsZXJyTXNnOlwib2JqSWQgaXMgbm90IHN0cmluZyBvciBIT2JqZWN0XCJ9KTt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtpZihhKXt2YXIgcz1zZShzZSh7fSxlLmluaXRhbFByb3BzT2YoYSkpLHt9LHtvYmpJZDpyLGNvbnRhaW5lcklkOnR9KTtsLmEuZGVidWcocC5qLFwidmlldyBwcm9wczpcIixzKSx6ZS5jcmVhdGVWaWV3KHthcGlOYW1lOlwiY3JlYXRlVmlld1wiLGFyZ3M6cyxjb250YWluZXJJZDp0LHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IExlO3QubUlkPWUuZGF0YS5pZCx0Lm1BZGFwdGVyPW4saSh0KX0sZmFpbDpvfSl9ZWxzZSBvKHtlcnJDb2RlOi0yLGVyck1zZzpcIkNhbm5vdCBmaW5kIHZpZXcgd2l0aCBpZCAnXCIuY29uY2F0KHQsXCInXCIpfSl9ZWxzZSBvKHtlcnJDb2RlOi0yLGVyck1zZzpcIm9iaklkIGlzIG51bGxcIn0pO2Vsc2Ugbyh7ZXJyQ29kZTotMixlcnJNc2c6XCJjb250YWluZXJJZCBpcyBub3Qgc3RyaW5nXCJ9KTtlbHNlIG8oe2VyckNvZGU6LTIsZXJyTXNnOlwiY29udGFpbmVySWQgaXMgbnVsbFwifSl9KSl9fSx7a2V5OlwiaW5pdGFsUHJvcHNPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpO3JldHVybnt4OnQueCx5OnQueSx3aWR0aDpwYXJzZUludChyLmdldFByb3BlcnR5VmFsdWUoXCJ3aWR0aFwiKSwxMCksaGVpZ2h0OnBhcnNlSW50KHIuZ2V0UHJvcGVydHlWYWx1ZShcImhlaWdodFwiKSwxMCl9fX1dKSxlfSgpLGNlPW0oKSgoZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpfSkpO2NlLmFzSW50ZXJmYWNlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgY2UuUHJveHkoZSl9LGNlLlByb3h5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtiKCkodGhpcyxlKSx0aGlzLm1SZW1vdGVPYmo9dH1yZXR1cm4gbSgpKGUsW3trZXk6XCJjcmVhdGVJbnN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IFY7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXt2YXIgaT1uZXcgbmU7aS53cml0ZUhlYWRlcihyKSxpLndyaXRlU3RyaW5nKDEsZSksdC5tUmVtb3RlT2JqLm1BZGFwdGVyLnRyYW5zYWN0KHQubVJlbW90ZU9iaiwxLGkpLnRoZW4oKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWUucmVhZEhlYWRlcigpO2UubmV4dEZpZWxkKCkmJiFlLmlzRW5kR3JvdXAoKTspe3N3aXRjaChlLmdldEZpZWxkTnVtYmVyKCkpe2Nhc2UgMTp0PWUucmVhZEhPYmplY3QoKTticmVhaztkZWZhdWx0OmUuc2tpcEZpZWxkKCl9fW4odCxyKX0pKX0pKX19XSksZX0oKSxjZS5JSURfSUNsYXNzRmFjdG9yeT1cIklJRF9JQ2xhc3NGYWN0b3J5XCI7dmFyIGZlPXIoMTYpLGxlPXIubihmZSkscGU9cigxMSksaGU9ci5uKHBlKSxkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtiKCkodGhpcyxlKSx0aGlzLmhlYWRlcj1udWxsLHRoaXMuc3RhcnREZWZhdWx0U29sdXRpb249bnVsbH1yZXR1cm4gbSgpKGUsW3trZXk6XCJvblRyYW5zYWN0XCIsdmFsdWU6ZnVuY3Rpb24odCxyLG4pe3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGEpe3RyeXtzd2l0Y2godCl7Y2FzZSBlLkNPREVfU1RBUlRfREVGQVVMVF9TT0xVVElPTjp2YXIgcz0wO2ZvcihpLmhlYWRlcj1yLnJlYWRIZWFkZXIoKTtyLm5leHRGaWVsZCgpJiYhci5pc0VuZEdyb3VwKCk7KXtzd2l0Y2goci5nZXRGaWVsZE51bWJlcigpKXtjYXNlIDE6cz1yLnJlYWRJbnQoKTticmVhaztkZWZhdWx0OnIuc2tpcEZpZWxkKCl9fXJldHVybiB2b2lkIGkuY2FsbE1ldGhvZChpLnN0YXJ0RGVmYXVsdFNvbHV0aW9uLFwiaW50XCIsbixvLHMpO2RlZmF1bHQ6dmFyIHU9XCJJWFBTRlNvbHV0aW9uIEFwaUxldmVsIGlzIG5vdCBtYXRjaCB3aXRoIHRoZSBzZXJ2aWNlJ3M6IFwiK1widGhlcmUgaXMgbm8gZnVuY3Rpb24gZm9yIGNvZGUgPSBcIi5jb25jYXQodCk7cmV0dXJuIGwuYS5lcnJvcihcIkhNU0NvcmUgSElETF9Kc1wiLHUpLHZvaWQgYShuZXcgTihoLkFQSV9MRVZFTF9OT1RfU1VQUE9SVCx1KSl9fWNhdGNoKGUpe2wuYS5lcnJvcihcIkhNU0NvcmUgSElETF9Kc1wiLFwiSVhQU0ZTb2x1dGlvbiBvblRyYW5zYWN0IGNvZGUgPSBcIi5jb25jYXQodCxcIiwgXCIpLmNvbmNhdChlLm1lc3NhZ2UpKSxhKGUpfX0pKX19LHtrZXk6XCJkb0NhbGxCYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7ciYmKGUud3JpdGVIZWFkZXIoKSxlLndyaXRlQW55KDEscixuKSksdChlKX19LHtrZXk6XCJjYWxsTWV0aG9kXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcztpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KG8+ND9vLTQ6MCkscz00O3M8bztzKyspYVtzLTRdPWFyZ3VtZW50c1tzXTt2YXIgdT1lLmFwcGx5KHZvaWQgMCxhKTt1IGluc3RhbmNlb2YgUHJvbWlzZT91LnRoZW4oKGZ1bmN0aW9uKGUpe2wuYS5kZWJ1ZyhcIkhNU0NvcmUgSElETF9Kc1wiLFwiY2FsbE1ldGhvZCByZXR1cm4gUHJvbWlzZS4gYXN5blJlc2x1dCA9IFwiLmNvbmNhdChlKSksaS5kb0NhbGxCYWNrKHIsbixlLHQpfSkpOnRoaXMuZG9DYWxsQmFjayhyLG4sdSx0KX1lbHNlIGwuYS5kZWJ1ZyhcIkhNU0NvcmUgSElETF9Kc1wiLFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uIGNhbGxiYWNrID0gXCIuY29uY2F0KG4pKTtlbHNlIGwuYS5kZWJ1ZyhcIkhNU0NvcmUgSElETF9Kc1wiLFwibWV0aG9kIGlzIG5vdCBhIGZ1bmN0aW9uLiBtZXRob2QgPSBcIi5jb25jYXQoZSkpfX1dLFt7a2V5OlwiYXNJbnRlcmZhY2VcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUuUHJveHkodCl9fV0pLGV9KCk7cygpKGRlLFwiQVBJX0xFTFZFTFwiLDEpLHMoKShkZSxcIkNPREVfU1RBUlRfREVGQVVMVF9TT0xVVElPTlwiLDEpLHMoKShkZSxcIlByb3h5XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2IoKSh0aGlzLGUpLHRoaXMubVJlbW90ZU9iaj10fXZhciB0O3JldHVybiBtKCkoZSxbe2tleTpcInN0YXJ0RGVmYXVsdFNvbHV0aW9uXCIsdmFsdWU6KHQ9bGUoKShoZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHIsbixpLG8sYTtyZXR1cm4gaGUuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5wcmV2PTAsbC5hLmRlYnVnKFwiSE1TQ29yZSBISURMX0pzXCIsXCJJWFBTRlNvbHV0aW9uIFByb3h5IHN0YXJ0RGVmYXVsdFNvbHV0aW9uLlwiKSxyPW5ldyBuZSxlLm5leHQ9NSx0aGlzLm1SZW1vdGVPYmoubUFkYXB0ZXIuY3JlYXRlSGVhZGVyKHRoaXMubVJlbW90ZU9iaik7Y2FzZSA1OnJldHVybiBuPWUuc2VudCxyLndyaXRlSGVhZGVyKG4pLHIud3JpdGVJbnQoMSx0KSxlLm5leHQ9MTAsdGhpcy5tUmVtb3RlT2JqLm1BZGFwdGVyLnRyYW5zYWN0KHRoaXMubVJlbW90ZU9iaixkZS5DT0RFX1NUQVJUX0RFRkFVTFRfU09MVVRJT04scik7Y2FzZSAxMDppPWUuc2VudCxsLmEuZGVidWcoXCJITVNDb3JlIEhJRExfSnNcIixcIklYUFNGU29sdXRpb24gUHJveHkgc3RhcnREZWZhdWx0U29sdXRpb24gcmVzdWx0IGNvbWluZy4uLlwiKSxpLnJlYWRIZWFkZXIoKSxvPTA7Y2FzZSAxNDppZighaS5uZXh0RmllbGQoKSl7ZS5uZXh0PTI3O2JyZWFrfWlmKCFpLmlzRW5kR3JvdXAoKSl7ZS5uZXh0PTE3O2JyZWFrfXJldHVybiBlLmFicnVwdChcImJyZWFrXCIsMjcpO2Nhc2UgMTc6YT1pLmdldEZpZWxkTnVtYmVyKCksZS50MD1hLGUubmV4dD0xPT09ZS50MD8yMToyMzticmVhaztjYXNlIDIxOnJldHVybiBvPWkucmVhZEludCgpLGUuYWJydXB0KFwiYnJlYWtcIiwyNSk7Y2FzZSAyMzpyZXR1cm4gaS5za2lwRmllbGQoKSxlLmFicnVwdChcImJyZWFrXCIsMjUpO2Nhc2UgMjU6ZS5uZXh0PTE0O2JyZWFrO2Nhc2UgMjc6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsbyk7Y2FzZSAzMDp0aHJvdyBlLnByZXY9MzAsZS50MT1lLmNhdGNoKDApLGwuYS5lcnJvcihcIkhNU0NvcmUgSElETF9Kc1wiLFwiSVhQU0ZTb2x1dGlvbiBQcm94eSBzdGFydERlZmF1bHRTb2x1dGlvbiwgXCIuY29uY2F0KGUudDEubWVzc2FnZSkpLGUudDE7Y2FzZSAzNDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbMCwzMF1dKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksZX0oKSk7dmFyIHllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpLHMoKSh0aGlzLFwibUlpZFBlcm1pc3Npb25zXCIsbmV3IE1hcCkscygpKHRoaXMsXCJtQXBpUGVybWlzc2lvbnNcIixuZXcgTWFwKSxzKCkodGhpcyxcIm1EaXNhYmxlQXV0aE9ianNcIixuZXcgU2V0KSxzKCkodGhpcyxcIm1Jc0lpZEV4cG9ydFwiLG5ldyBNYXApfXJldHVybiBtKCkoZSxbe2tleTpcInJlZ2lzdGVyUGVybWlzc2lvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5tSWlkUGVybWlzc2lvbnMuc2V0KGUsdCl9fSx7a2V5OlwicmVnaXN0ZXJBcGlQZXJtaXNzaW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3RoaXMubUFwaVBlcm1pc3Npb25zLmhhcyhlKT9udWxsPT09KG49dGhpcy5tQXBpUGVybWlzc2lvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bnx8bi5zZXQodCxyKTp0aGlzLm1BcGlQZXJtaXNzaW9ucy5zZXQoZSxuZXcgTWFwKFtbdCxyXV0pKX19LHtrZXk6XCJkaXNhYmxlQXV0aFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubURpc2FibGVBdXRoT2Jqcy5hZGQoZSl9fSx7a2V5OlwicmVnaXN0ZXJJc1NlcnZpY2VJaWRFeHBvcnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubUlzSWlkRXhwb3J0LnNldChlLHQpfX0se2tleTpcImdldFBlcm1pc3Npb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tSWlkUGVybWlzc2lvbnMuZ2V0KGUpfX0se2tleTpcImdldEFwaVBlcm1pc3Npb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubUFwaVBlcm1pc3Npb25zLmdldChlKX19LHtrZXk6XCJpc0F1dGhEaXNhYmxlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1EaXNhYmxlQXV0aE9ianMuaGFzKGUpfX0se2tleTpcImdldElzU2VydmljZUlpZEV4cG9ydFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1Jc0lpZEV4cG9ydC5nZXQoZSl9fV0pLGV9KCk7cygpKHllLFwiSlNfU0VSVklDRV9UWVBFXCIsMSkscygpKHllLFwiQ1BQX1NFUlZJQ0VfVFlQRVwiLDIpO3ZhciBnZT1tKCkoKGZ1bmN0aW9uIGUoKXtiKCkodGhpcyxlKX0pKSx2ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtiKCkodGhpcyxlKX1yZXR1cm4gbSgpKGUsbnVsbCxbe2tleTpcInJlZ2lzdGVyU2VydmljZUluZm9cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1NLmEuZ2V0KFwiaG1zY29yZUZyYW1ld29ya1wiLFwicmVnaXN0ZXJDZW50ZXJcIik7ZS5pbml0UGVybWlzc2lvbnM/ZS5pbml0UGVybWlzc2lvbnMoKTpsLmEuZGVidWcocC5qLFwiUmVnaXN0ZXJlZCBzZXJ2aWNlIGluaXRQZXJtaXNzaW9ucyB1bmRlZmluZWRcIiksZS5pbml0SXNTZXJ2aWNlSWlkRXhwb3J0P2UuaW5pdElzU2VydmljZUlpZEV4cG9ydCgpOmwuYS5kZWJ1ZyhwLmosXCJSZWdpc3RlcmVkIHNlcnZpY2UgaW5pdElzU2VydmljZUlpZEV4cG9ydCB1bmRlZmluZWRcIiksdC5yZWdpc3RlclNlcnZpY2VJbmZvKGUpfX1dKSxlfSgpO2Z1bmN0aW9uIGJlKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj1UKCkoZSk7aWYodCl7dmFyIGk9VCgpKHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBTKCkodGhpcyxyKX19dmFyIHdlPWZ1bmN0aW9uKGUpe0UoKShyLGUpO3ZhciB0PWJlKHIpO2Z1bmN0aW9uIHIoKXtyZXR1cm4gYigpKHRoaXMsciksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG0oKShyLFt7a2V5OlwiZ2V0VHlwZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHllLkpTX1NFUlZJQ0VfVFlQRX19XSkscn0oeWUpO2Z1bmN0aW9uIG1lKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj1UKCkoZSk7aWYodCl7dmFyIGk9VCgpKHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBTKCkodGhpcyxyKX19dmFyIF9lPWZ1bmN0aW9uKGUpe0UoKShyLGUpO3ZhciB0PW1lKHIpO2Z1bmN0aW9uIHIoKXtyZXR1cm4gYigpKHRoaXMsciksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG0oKShyLFt7a2V5OlwiZ2V0VHlwZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHllLkNQUF9TRVJWSUNFX1RZUEV9fV0pLHJ9KHllKTtmdW5jdGlvbiBFZSgpe2lmKHUuYS5pc09IT1MoKSl7dmFyIGU9TS5hLmdldChcImhtc2NvcmVGcmFtZXdvcmtcIixcInhwc2ZKc1RyaWdnZXJcIik7cmV0dXJuIEJlLm1TdXBwcm90QWRhcHRlcnNbZV18fEJlLmluaXQoKSxCZS5tU3VwcHJvdEFkYXB0ZXJzW2VdKCkuZ2V0QXBwSW5mb01hbmFnZXIoKX19Qyh7SEVycm9yOk4sSEhlYWRlcjpWLEhCYXNlQWRhcHRlcjpVLEhKU0JBZGFwdGVyOkZlLEhPYmplY3Q6TGUsSFVua25vd25PYmplY3Q6cmUsSFBhcmNlbDpuZSxIU2VydmljZVJlZ2lzdHJ5Om9lLEhTZXJ2aWNlUmVnaXN0cnlJbmZvOmllLEhWaWV3SG9sZGVyOnVlLElYUFNGU29sdXRpb246ZGUsSUNsYXNzRmFjdG9yeTpjZX0pO3ZhciBJZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtiKCkodGhpcyxlKX1yZXR1cm4gbSgpKGUsbnVsbCxbe2tleTpcImdldEFwcElkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1FZSgpO3JldHVybiBlP2UuZ2V0QXBwSWQoKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtCLmdldEFwcElkKCkudGhlbigoZnVuY3Rpb24ocil7dmFyIG49ci5lcnJDb2RlLGk9ci5lcnJNc2csbz1yLmRhdGE7MD09PW4/ZShvKTp0KG5ldyBOKG4saSkpfSkpLmNhdGNoKHQpfSkpfX0se2tleTpcImdldFByb2plY3RJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9RWUoKTtyZXR1cm4gZT9lLmdldFByb2plY3RJZCgpOm5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3QobmV3IE4oaC5OT1RfU1VQUE9SVEVEX1BMQVRGT1JNLFwiVGhlIEhBcHBJbmZvTWFuYWdlci5nZXRQcm9qZWN0SWQgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXCIpKX0pKX19LHtrZXk6XCJnZXRQYWNrYWdlTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9RWUoKTtyZXR1cm4gZT9lLmdldFBhY2thZ2VOYW1lKCk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7Qi5nZXRQYWNrYWdlTmFtZSgpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBuPXIuZXJyQ29kZSxpPXIuZXJyTXNnLG89ci5kYXRhOzA9PT1uP2Uobyk6dChuZXcgTihuLGkpKX0pKS5jYXRjaCh0KX0pKX19XSksZX0oKTtmdW5jdGlvbiBTZSgpe2lmKHUuYS5pc09IT1MoKSl7dmFyIGU9TS5hLmdldChcImhtc2NvcmVGcmFtZXdvcmtcIixcInhwc2ZKc1RyaWdnZXJcIik7cmV0dXJuIEJlLm1TdXBwcm90QWRhcHRlcnNbZV18fEJlLmluaXQoKSxCZS5tU3VwcHJvdEFkYXB0ZXJzW2VdKCkuZ2V0Q29tbW9uTWVzc2VuZ2VyKCl9cmV0dXJuIG5ldyBVfXZhciBBZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtiKCkodGhpcyxlKX1yZXR1cm4gbSgpKGUsbnVsbCxbe2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt1LmEuaXNPSE9TKCk/U2UoKS5vbihlLHQpOmwuYS5kZWJ1ZyhwLmosXCJUaGUgSENvbW1vbk1lc3NlbmdlciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IHBsYXRmb3JtLlwiKX19LHtrZXk6XCJvZmZcIix2YWx1ZTpmdW5jdGlvbihlKXt1LmEuaXNPSE9TKCk/U2UoKS5vZmYoZSk6bC5hLmRlYnVnKHAuaixcIlRoZSBIQ29tbW9uTWVzc2VuZ2VyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXCIpfX1dKSxlfSgpLFRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpLHMoKSh0aGlzLFwicGFja2FnZU5hbWVcIix2b2lkIDApLHMoKSh0aGlzLFwicGFnZU5hbWVcIix2b2lkIDApLHMoKSh0aGlzLFwiYWN0aW9uXCIsdm9pZCAwKSxzKCkodGhpcyxcImV4dHJhXCIsdm9pZCAwKX12YXIgdDtyZXR1cm4gbSgpKGUsW3trZXk6XCJ3cml0ZVRvUGFyY2VsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dHJ5e2Uud3JpdGVTdHJpbmcoMSx0aGlzLnBhY2thZ2VOYW1lKSxlLndyaXRlU3RyaW5nKDIsdGhpcy5wYWdlTmFtZSksZS53cml0ZVN0cmluZygzLHRoaXMuYWN0aW9uKSxlLndyaXRlU3RyaW5nKDQsdGhpcy5leHRyYSl9Y2F0Y2goZSl7dGhyb3cgbC5hLmVycm9yKFwiSE1TQ29yZSBISURMX0pzXCIsXCJIUGFnZUluZm8gd3JpdGVUb1BhcmNlbCBcIi5jb25jYXQoZS5tZXNzYWdlKSksZX19fSx7a2V5OlwicmVnaXN0ZXJIT2JqZWN0XCIsdmFsdWU6KHQ9bGUoKShoZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIGhlLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6bC5hLmRlYnVnKFwiSE1TQ29yZSBISURMX0pzXCIsXCJyZWdpc3RlckhPYmplY3QgXCIuY29uY2F0KHQpKTtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dLFt7a2V5OlwiY3JlYXRvckZyb21IUGFyY2VsXCIsdmFsdWU6ZnVuY3Rpb24odCl7dHJ5e3ZhciByPW5ldyBlLG49XCJcIixpPVwiXCIsbz1cIlwiLGE9XCJcIjtyZXR1cm4gdC5yZWFkSFBhcmNlbGFibGUoKGZ1bmN0aW9uKGUpe2Zvcig7ZS5uZXh0RmllbGQoKSYmIWUuaXNFbmRHcm91cCgpOyl7c3dpdGNoKGUuZ2V0RmllbGROdW1iZXIoKSl7Y2FzZSAxOm49ZS5yZWFkU3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmk9ZS5yZWFkU3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm89ZS5yZWFkU3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmE9ZS5yZWFkU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBGaWVsZCgpfX19KSksci5wYWNrYWdlTmFtZT1uLHIucGFnZU5hbWU9aSxyLmFjdGlvbj1vLHIuZXh0cmE9YSxyfWNhdGNoKGUpe3Rocm93IGwuYS5lcnJvcihcIkhNU0NvcmUgSElETF9Kc1wiLFwiSFBhZ2VJbmZvIGNyZWF0b3JGcm9tSFBhcmNlbCBcIi5jb25jYXQoZS5tZXNzYWdlKSksZX19fV0pLGV9KCksT2U9VGU7ZnVuY3Rpb24gUmUoZSx0LHIpeyFmdW5jdGlvbihlLHQpe2lmKHQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgaW5pdGlhbGl6ZSB0aGUgc2FtZSBwcml2YXRlIGVsZW1lbnRzIHR3aWNlIG9uIGFuIG9iamVjdFwiKX0oZSx0KSx0LnNldChlLHIpfXZhciBrZT1uZXcgV2Vha01hcCxQZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7YigpKHRoaXMsZSksUmUodGhpcyxrZSx7d3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSk7dmFyIHI9ZnVuY3Rpb24oKXtpZih1LmEuaXNPSE9TKCkpe3ZhciBlPU0uYS5nZXQoXCJobXNjb3JlRnJhbWV3b3JrXCIsXCJ4cHNmSnNUcmlnZ2VyXCIpO3JldHVybiBCZS5tU3VwcHJvdEFkYXB0ZXJzW2VdfHxCZS5pbml0KCksQmUubVN1cHByb3RBZGFwdGVyc1tlXSgpLmdldFByZWZlcmVuY2VzTWFuYWdlcigpfX0oKTtpZihyKVAoKSh0aGlzLGtlLG5ldyByKHQpKTtlbHNle2wuYS5kZWJ1ZyhwLmosXCJUaGUgSFByZWZlcmVuY2VzTWFuYWdlciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IHBsYXRmb3JtLlwiKTt2YXIgbj1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXtsLmEuZGVidWcocC5qLFwiVGhlIEhQcmVmZXJlbmNlc01hbmFnZXIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBwbGF0Zm9ybS5cIil9KSl9O1AoKSh0aGlzLGtlLHtnZXQ6bixzZXQ6bixoYXM6bixkZWxldGU6bixjbGVhcjpuLHN5bmNocm9uaXplOm59KX19cmV0dXJuIG0oKShlLFt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUigpKHRoaXMsa2UpLmdldChlLHQpfX0se2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFIoKSh0aGlzLGtlKS5zZXQoZSx0KX19LHtrZXk6XCJoYXNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gUigpKHRoaXMsa2UpLmhhcyhlKX19LHtrZXk6XCJkZWxldGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gUigpKHRoaXMsa2UpLmRlbGV0ZShlKX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFIoKSh0aGlzLGtlKS5jbGVhcigpfX0se2tleTpcInN5bmNocm9uaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUigpKHRoaXMsa2UpLnN5bmNocm9uaXplKCl9fV0pLGV9KCk7ZnVuY3Rpb24gTmUoKXtyZXR1cm4gTS5hLmdldChcInBhZkZyYW1ld29ya1wiLFwicGFmVHJhY2VcIil9dmFyIHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpfXJldHVybiBtKCkoZSxudWxsLFt7a2V5OlwidHJhY2VCZWdpblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9TmUoKTtpZihyKXJldHVybiByLnRyYWNlQmVnaW4oZSx0KX19LHtrZXk6XCJ0cmFjZUVycm9yXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1OZSgpO3ImJnIudHJhY2VFcnJvcihlLHQpfX0se2tleTpcInRyYWNlRW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1OZSgpO3ImJnIudHJhY2VFbmQoZSx0KX19XSksZX0oKSxqZT17bVN1cHByb3RBZGFwdGVyczpbXSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWdpc3RlckFkYXB0ZXIoXCJvaG9zLmJhc2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTS5hLmdldChcImhtc2NvcmVGcmFtZXdvcmtcIixcImFiaWxpdHlNYW5hZ2VyXCIpfSkpfSxyZWdpc3RlckFkYXB0ZXI6ZnVuY3Rpb24oZSx0KXt0aGlzLm1TdXBwcm90QWRhcHRlcnNbZV09dH0sc3RhcnQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIGwuYS5kZWJ1ZyhwLmosXCJzdGFydEFiaWxpdHlGb3JSZXN1bHQgZW50ZXJcIiksdGhpcy5pbml0KCksbC5hLmRlYnVnKHAuaixcInN0YXJ0QWJpbGl0eUZvclJlc3VsdCBlbmRcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7dS5hLmlzT0hPUygpP24ubVN1cHByb3RBZGFwdGVyc1tcIm9ob3MuYmFzZVwiXSgpLnN0YXJ0QWJpbGl0eUZvclJlc3VsdChlLHQscikudGhlbihpLG8pOihsLmEuZGVidWcocC5qLFwiSEFiaWxpdHlNYW5hZ2VyIGlzIG5vdCBmaW5kIGFkYXB0ZXJcIiksbygpKX0pKX19O2Z1bmN0aW9uIENlKGUsdCxyKXshZnVuY3Rpb24oZSx0KXtpZih0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGluaXRpYWxpemUgdGhlIHNhbWUgcHJpdmF0ZSBlbGVtZW50cyB0d2ljZSBvbiBhbiBvYmplY3RcIil9KGUsdCksdC5zZXQoZSxyKX1DKHtIQXBwSW5mb01hbmFnZXI6SWUsSENvbW1vbk1lc3NlbmdlcjpBZSxIR2xvYmFsVmFyaWFibGVNYW5hZ2VyOk0uYSxITG9nZ2VyOmwuYSxIUGFnZUluZm86VGUsSFByZWZlcmVuY2VzTWFuYWdlcjpQZSxIVHJhY2U6eGV9KTt2YXIgTWU9bmV3IFdlYWtNYXAsSGU9bmV3IFdlYWtNYXAsTGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7YigpKHRoaXMsZSkscygpKHRoaXMsXCJtSWRcIix1LmEudW5pcXVlSWQoXCJob2JqZWN0XCIpKSxzKCkodGhpcyxcIm1BZGFwdGVyXCIsdm9pZCAwKSxzKCkodGhpcyxcIm1SZW1vdGVTdHViXCIsdm9pZCAwKSxDZSh0aGlzLE1lLHt3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSxDZSh0aGlzLEhlLHt3cml0YWJsZTohMCx2YWx1ZTp7fX0pfXJldHVybiBtKCkoZSxbe2tleTpcIm9uVHJhbnNhY3RcIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt0aHJvdyBuZXcgTihoLklOVk9LRV9VTklNUExFTUVOVEVEX01FVEhPRCxcIlRoZSBvblRyYW5zYWN0IG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgb24gdGhlIEhPYmplY3QuXCIpfX0se2tleTpcImJpbmRSZW1vdGVPYmplY3RcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMudW5iaW5kUmVtb3RlT2JqZWN0KCksdGhpcy5tSWQ9ZSxQKCkodGhpcyxNZSx6ZS5vbihlLChmdW5jdGlvbihlKXt2YXIgcj1lO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXRyeXtyPUpTT04ucGFyc2Uocil9Y2F0Y2goZSl7bC5hLndhcm4ocC5qLFwicmVzdWx0RGF0YSBpcyBub3QgSlNPTiBzdHJpbmcuIFwiLmNvbmNhdChyKSl9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIudmFsdWUmJnZvaWQgMD09PXIudHJhbnNmZXJEYXRhKXRyeXtyPUpTT04ucGFyc2Uoci52YWx1ZSl9Y2F0Y2goZSl7bC5hLndhcm4ocC5qLFwicmVzdWx0RGF0YS52YWx1ZSBpcyBub3QgSlNPTiBzdHJpbmcuIFwiLmNvbmNhdChyLnZhbHVlKSl9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdChyfHx7fSl9KSxSKCkodGhpcyxIZSkpKX19LHtrZXk6XCJ1bmJpbmRSZW1vdGVPYmplY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubUlkJiZSKCkodGhpcyxNZSkmJih6ZS5vZmYodGhpcy5tSWQsUigpKHRoaXMsTWUpLFIoKSh0aGlzLEhlKSksUCgpKHRoaXMsTWUsdm9pZCAwKSl9fSx7a2V5OlwicmVsZWFzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7bC5hLmRlYnVnKHAuaixcIkhPYmplY3QgcmVsZWFzZVwiKSx0aGlzLnVuYmluZFJlbW90ZU9iamVjdCgpfX1dKSxlfSgpO2Z1bmN0aW9uIERlKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj1UKCkoZSk7aWYodCl7dmFyIGk9VCgpKHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBTKCkodGhpcyxyKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KExlLnByb3RvdHlwZSxcInJlZkNvdW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWZDb3VudHx8MH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlZkNvdW50PWUsMD09PWUmJnRoaXMucmVsZWFzZSgpfX0pO3ZhciBGZT1mdW5jdGlvbihlKXtFKCkocixlKTt2YXIgdD1EZShyKTtmdW5jdGlvbiByKCl7cmV0dXJuIGIoKSh0aGlzLHIpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBtKCkocixbe2tleTpcImhHZXRDbGFzc09iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7emUuaW52b2tlKHthcGlOYW1lOlwic2VydmljZS5oR2V0Q2xhc3NPYmplY3RcIixhcmdzOntzSWQ6ZS5tU0lkLGlJZDp0LHBhdGg6ZS5tUGF0aCxhcGlMZXZlbDplLm1BcGlMZXZlbH0sc3VjY2VzczpmdW5jdGlvbihlKXt2YXIgdD1uZXcgTGU7dC5tSWQ9ZS5kYXRhLmlkLHQubUFkYXB0ZXI9cixuKHQpfSxmYWlsOml9KX0pKX19LHtrZXk6XCJ0cmFuc2FjdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSl7emUuaW52b2tlKHthcGlOYW1lOlwic2VydmljZS50cmFuc2FjdFwiLGFyZ3M6e3N0dWJJZDplLm1JZCxjb2RlOnQsdHJhbnNmZXJEYXRhOnIudG9CYXNlNjQoKSxleHRyYXM6ci5tV3JpdGVIT2JqZWN0SWRzfSxzdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKFwiSElETF9KU0Igbm8gdmFsdWUgcmV0dXJuZWQuXCIhPT1lLmRhdGEpe3ZhciB0PShuZXcgbmUpLmZyb21CYXNlNjQoZS5kYXRhKTt0Lm1BZGFwdGVyPW4saSh0KX1lbHNlIGkoXCJzdWNjZXNzLiBubyB2YWx1ZSByZXR1cmVuZWQuXCIpfX0pfSkpfX0se2tleTpcIm5ld1N0dWJcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3plLmludm9rZSh7YXBpTmFtZTpcInNlcnZpY2UubmV3U3R1YlwiLGFyZ3M6e21vZGU6MX0sc3VjY2VzczpmdW5jdGlvbihyKXtlLmJpbmRSZW1vdGVPYmplY3Qoci5kYXRhLChmdW5jdGlvbih0KXt2YXIgcj10LmNvZGUsbj10LnRyYW5zZmVyRGF0YSxpPShuZXcgbmUpLmZyb21CYXNlNjQobik7ZS5vblRyYW5zYWN0KHIsaSxuZXcgbmUsMCl9KSksdChlKX19KX0pKX19XSkscn0oVSk7RmUudHlwZT1cImpzYlwiO3ZhciBCZT17bVJlZ2lzdHJ5OnZvaWQgMCxtU3VwcHJvdEFkYXB0ZXJzOltdLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZ2lzdGVyQWRhcHRlcihGZS50eXBlLChmdW5jdGlvbigpe3JldHVybiBuZXcgRmV9KSksdGhpcy5yZWdpc3RlckFkYXB0ZXIoXCJvaG9zLmJhc2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTS5hLmdldChcImhtc2NvcmVGcmFtZXdvcmtcIixcInhwc2ZKc0FkYXB0ZXJcIil9KSksdGhpcy5yZWdpc3RlckFkYXB0ZXIoXCJwYWYuYmFzZVwiLChmdW5jdGlvbigpe3JldHVybiBNLmEuZ2V0KFwicGFmRnJhbWV3b3JrXCIsXCJ4cHNmSnNQYWZBZGFwdGVyXCIpfSkpLHRoaXMucmVnaXN0ZXJBZGFwdGVyKFwicGFmLmJpbmRpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTS5hLmdldChcInBhZkZyYW1ld29ya1wiLFwiYmluZGluZ0pzUGFmQWRhcHRlclwiKX0pKX0scmVnaXN0ZXJBZGFwdGVyOmZ1bmN0aW9uKGUsdCl7dGhpcy5tU3VwcHJvdEFkYXB0ZXJzW2VdPXR9LGhDcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihlKXtmb3IodmFyIHQscj1lLmFwaUxldmVsLG49dm9pZCAwPT09cj8xOnIsaT1lLnByb2dJZCxvPWUuaUlkLGE9ZS5zdWNjZXNzLHM9ZS5mYWlsZWQsYz1hcmd1bWVudHMubGVuZ3RoLGY9bmV3IEFycmF5KGM+MT9jLTE6MCksaD0xO2g8YztoKyspZltoLTFdPWFyZ3VtZW50c1toXTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmZi5sZW5ndGg+MCYmKGk9ZSxvPWZbMF0sYT1mWzFdLHM9ZlsyXSksdm9pZCAwPT09dGhpcy5tUmVnaXN0cnkmJihsLmEuZGVidWcocC5qLFwibVJlZ2lzdHJ5IGlzIG51bGwuXCIpLHRoaXMubVJlZ2lzdHJ5PW5ldyBvZSx0aGlzLm1SZWdpc3RyeS5pbml0UG9saWN5KCksdGhpcy5pbml0KCkpLHUuYS5pc09IT1MoKXx8dS5hLmlzU3VwcG9ydFBBRigpKXt2YXIgZD10aGlzLm1SZWdpc3RyeS5maW5kSW5mbyhpLFwiXCIsbik7dD10aGlzLm1TdXBwcm90QWRhcHRlcnNbZC5tVHJpZ2dlcl0oKS5oR2V0Q2xhc3NPYmplY3QoZCxvKX1lbHNle3ZhciB5PXRoaXMubVJlZ2lzdHJ5LmZpbmRJbmZvQnlQcm9nSWQoaSk7eS5tQXBpTGV2ZWw9bix0PXRoaXMubVN1cHByb3RBZGFwdGVyc1t5Lm1UcmlnZ2VyXSgpLmhHZXRDbGFzc09iamVjdCh5LGNlLklJRF9JQ2xhc3NGYWN0b3J5KS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gY2UuYXNJbnRlcmZhY2UoZSkuY3JlYXRlSW5zdGFuY2Uobyl9KSl9cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2Ygcz92b2lkIHQudGhlbihhKS5jYXRjaChzKTp0fSxoR2V0Q2xhc3NPYmplY3Q6ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXRoaXMubVJlZ2lzdHJ5JiYodGhpcy5tUmVnaXN0cnk9bmV3IG9lLHRoaXMubVJlZ2lzdHJ5LmluaXRQb2xpY3koKSk7dmFyIG49dGhpcy5tUmVnaXN0cnkuZmluZEluZm9CeVByb2dJZChlKTtsLmEuZGVidWcocC5qLFwiaEdldENsYXNzT2JqZWN0IGluZm8gPSBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKSx0aGlzLm1TdXBwcm90QWRhcHRlcnNbbi5tVHJpZ2dlcl0oKS5oR2V0Q2xhc3NPYmplY3Qobix0KS50aGVuKChmdW5jdGlvbihlKXtsLmEuZGVidWcocC5qLFwiSFNlcnZpY2VNYW5hZ2VyIGhHZXRDbGFzc09iamVjdCByZXN1bHQgXCIuY29uY2F0KGUubUlkKSkscihlKX0pKX19LFVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IoKSh0aGlzLGUpLHRoaXMuaGVhZGVyPW51bGwsdGhpcy5zZW5kUmVxdWVzdD1udWxsfXJldHVybiBtKCkoZSxbe2tleTpcIm9uVHJhbnNhY3RcIix2YWx1ZTpmdW5jdGlvbih0LHIsbil7dmFyIGk9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8sYSl7dHJ5e3N3aXRjaCh0KXtjYXNlIGUuQ09ERV9TRU5EX1JFUVVFU1Q6dmFyIHM9XCJcIjtmb3IoaS5oZWFkZXI9ci5yZWFkSGVhZGVyKCk7ci5uZXh0RmllbGQoKSYmIXIuaXNFbmRHcm91cCgpOyl7c3dpdGNoKHIuZ2V0RmllbGROdW1iZXIoKSl7Y2FzZSAxOnM9ci5yZWFkU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBGaWVsZCgpfX1yZXR1cm4gdm9pZCBpLmNhbGxNZXRob2QoaS5zZW5kUmVxdWVzdCxcInN0cmluZ1wiLG4sbyxzKTtkZWZhdWx0OnJldHVybiBhKG5ldyBOKSx2b2lkIGwuYS5kZWJ1ZyhcIkhNU0NvcmUgSElETF9Kc1wiLFwidGhlcmUgaXMgbm8gZnVuY3Rpb24gaW4gSlNCQ29tcGF0IGZvciBjb2RlID0gXCIuY29uY2F0KHQpKX19Y2F0Y2goZSl7bC5hLmVycm9yKFwiSE1TQ29yZSBISURMX0pzXCIsXCJKU0JDb21wYXQgb25UcmFuc2FjdCBjb2RlID0gXCIuY29uY2F0KHQsXCIsIFwiKS5jb25jYXQoZS5tZXNzYWdlKSksYShlKX19KSl9fSx7a2V5OlwiZG9DYWxsQmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ImJihlLndyaXRlSGVhZGVyKCksZS53cml0ZUFueSgxLHIsbikpLHQoZSl9fSx7a2V5OlwiY2FsbE1ldGhvZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXM7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSlpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXtmb3IodmFyIG89YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShvPjQ/by00OjApLHM9NDtzPG87cysrKWFbcy00XT1hcmd1bWVudHNbc107dmFyIHU9ZS5hcHBseSh2b2lkIDAsYSk7dSBpbnN0YW5jZW9mIFByb21pc2U/dS50aGVuKChmdW5jdGlvbihlKXtsLmEuZGVidWcoXCJITVNDb3JlIEhJRExfSnNcIixcImNhbGxNZXRob2QgcmV0dXJuIFByb21pc2UuIGFzeW5SZXNsdXQgPSBcIi5jb25jYXQoZSkpLGkuZG9DYWxsQmFjayhyLG4sZSx0KX0pKTp0aGlzLmRvQ2FsbEJhY2socixuLHUsdCl9ZWxzZSBsLmEuZGVidWcoXCJITVNDb3JlIEhJRExfSnNcIixcImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLiBjYWxsYmFjayA9IFwiLmNvbmNhdChuKSk7ZWxzZSBsLmEuZGVidWcoXCJITVNDb3JlIEhJRExfSnNcIixcIm1ldGhvZCBpcyBub3QgYSBmdW5jdGlvbi4gbWV0aG9kID0gXCIuY29uY2F0KGUpKX19XSxbe2tleTpcImFzSW50ZXJmYWNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlLlByb3h5KHQpfX1dKSxlfSgpO3MoKShVZSxcIkFQSV9MRUxWRUxcIiwxKSxzKCkoVWUsXCJDT0RFX1NFTkRfUkVRVUVTVFwiLDEpLHMoKShVZSxcIlByb3h5XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2IoKSh0aGlzLGUpLHRoaXMubVJlbW90ZU9iaj10fXZhciB0O3JldHVybiBtKCkoZSxbe2tleTpcInNlbmRSZXF1ZXN0XCIsdmFsdWU6KHQ9bGUoKShoZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHIsbixpLG8sYTtyZXR1cm4gaGUuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5wcmV2PTAsbC5hLmRlYnVnKFwiSE1TQ29yZSBISURMX0pzXCIsXCJKU0JDb21wYXQgUHJveHkgc2VuZFJlcXVlc3QuXCIpLHI9bmV3IG5lLGUubmV4dD01LHRoaXMubVJlbW90ZU9iai5tQWRhcHRlci5jcmVhdGVIZWFkZXIoKTtjYXNlIDU6cmV0dXJuIG49ZS5zZW50LHIud3JpdGVIZWFkZXIobiksci53cml0ZVN0cmluZygxLHQpLGUubmV4dD0xMCx0aGlzLm1SZW1vdGVPYmoubUFkYXB0ZXIudHJhbnNhY3QodGhpcy5tUmVtb3RlT2JqLFVlLkNPREVfU0VORF9SRVFVRVNULHIpO2Nhc2UgMTA6aT1lLnNlbnQsbC5hLmRlYnVnKFwiSE1TQ29yZSBISURMX0pzXCIsXCJKU0JDb21wYXQgUHJveHkgc2VuZFJlcXVlc3QgcmVzdWx0IGNvbWluZy4uLlwiKSxpLnJlYWRIZWFkZXIoKSxvPVwiXCI7Y2FzZSAxNDppZighaS5uZXh0RmllbGQoKSl7ZS5uZXh0PTI3O2JyZWFrfWlmKCFpLmlzRW5kR3JvdXAoKSl7ZS5uZXh0PTE3O2JyZWFrfXJldHVybiBlLmFicnVwdChcImJyZWFrXCIsMjcpO2Nhc2UgMTc6YT1pLmdldEZpZWxkTnVtYmVyKCksZS50MD1hLGUubmV4dD0xPT09ZS50MD8yMToyMzticmVhaztjYXNlIDIxOnJldHVybiBvPWkucmVhZFN0cmluZygpLGUuYWJydXB0KFwiYnJlYWtcIiwyNSk7Y2FzZSAyMzpyZXR1cm4gaS5za2lwRmllbGQoKSxlLmFicnVwdChcImJyZWFrXCIsMjUpO2Nhc2UgMjU6ZS5uZXh0PTE0O2JyZWFrO2Nhc2UgMjc6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsbyk7Y2FzZSAzMDplLnByZXY9MzAsZS50MT1lLmNhdGNoKDApLGwuYS5lcnJvcihcIkhNU0NvcmUgSElETF9Kc1wiLFwiSlNCQ29tcGF0IFByb3h5IHNlbmRSZXF1ZXN0LCBcIi5jb25jYXQoZS50MS5tZXNzYWdlKSk7Y2FzZSAzMzpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIix2b2lkIDApO2Nhc2UgMzQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzAsMzBdXSl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLGV9KCkpO3ZhciBWZT1mdW5jdGlvbihlLHQpe3JldHVybiBsLmEuZGVidWcocC5qLFwiYXBpTmFtZTogXCIuY29uY2F0KGUsXCIsIGFyZ3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixuKXtpZihcImZnLnJlcXVlc3RcIj09PWV8fFwiYmcucmVxdWVzdFwiPT09ZSlpZihcInN0cmluZ1wiPT10eXBlb2YobnVsbD09dD92b2lkIDA6dC51cmkpKXt2YXIgaT10LnVyaS5zcGxpdChcIi5cIiksbz1mKCkoaSksYT1vWzBdLHM9by5zbGljZSgxKTtCZS5oQ3JlYXRlSW5zdGFuY2Uoe3Byb2dJZDphLGlJZDpzLmpvaW4oXCIuXCIpLGFwaUxldmVsOihudWxsPT10P3ZvaWQgMDp0LmFwaV9sZXZlbCl8fDF9KS50aGVuKChmdW5jdGlvbihlKXt2YXIgaT1KU09OLnN0cmluZ2lmeSh0KTtVZS5hc0ludGVyZmFjZShlKS5zZW5kUmVxdWVzdChpKS50aGVuKChmdW5jdGlvbihlKXtyKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmNvZGUscj1lLm1lc3NhZ2U7bih7ZXJyQ29kZTp0LGVyck1zZzpyfSl9KSl9KSkuY2F0Y2gobil9ZWxzZSBuKHtlcnJDb2RlOmguUEFSQU1FVEVSX0lOVkFMSUQsZXJyTXNnOidcImFyZ3MudXJpXCIgaXMgcmVxdWlyZWQuJ30pO2Vsc2Ugbih7ZXJyQ29kZTpoLlBBUkFNRVRFUl9JTlZBTElELGVyck1zZzonSW52b2tlIG9ubHkgXCJiZy5yZXF1ZXN0XCIgYW5kIFwiZmcucmVxdWVzdFwiIGFyZSBzdXBwb3J0ZWQuJ30pfSkpfTtmdW5jdGlvbiBXZShlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9dmFyIEplLEdlLFllPXt9LFhlPXt9O2Z1bmN0aW9uIHFlKGUsdCxyKXt2YXIgbj17aWQ6dS5hLnVuaXF1ZUlkKFwiY2JfXCIpLHN1Y2Nlc3M6ZSxmYWlsOnQsY29tcGxldGU6cn07cmV0dXJuIFllW24uaWRdPW4sbi5pZH1mdW5jdGlvbiBLZShlKXt2YXIgdDt0cnl7XCJzdHJpbmdcIj09dHlwZW9mIGU/dD1KU09OLnBhcnNlKGUpOihsLmEuaW5mbyhwLmosXCJyZXN1bHQgaXMgbm90IHN0cmluZ1wiLGUpLHQ9ZSl9Y2F0Y2gocil7dD17ZXJyQ29kZTotMSxlcnJNc2c6XCJjYWxsYmFjayByZXN1bHQgcGFyc2luZyBlcnJvclwifSxsLmEuZXJyb3IocC5qLFwianNvbiBwYXJzZSBmYWlsZWQsIFwiLmNvbmNhdChlKSl9cmV0dXJuIHR9dmFyIHplPXtpbml0QXBwSWQ6ZnVuY3Rpb24oZSl7TS5hLnNldChcImhtc2NvcmVGcmFtZXdvcmtcIixcImhtc1N1YklkXCIsZSksbC5hLmluZm8oXCJpbml0QXBwSWQoKSwgYXBwSWQ6XCIuY29uY2F0KGUpKX0saW52b2tlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmFwaU5hbWUsbj1lLmFyZ3MsaT1lLnN1Y2Nlc3Msbz1lLmZhaWwsYT1lLmNvbXBsZXRlO2lmKGwuYS5pbmZvKHAuaixcImludm9rZSBzdGFydCwgYXBpTmFtZTogXCIuY29uY2F0KHIpKSxyKXt2YXIgYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9XZShPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MoKShlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6V2UoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9KHtzdWJJZDpNLmEuZ2V0KFwiaG1zY29yZUZyYW1ld29ya1wiLFwiaG1zU3ViSWRcIil9LG4pLGY9SlNPTi5zdHJpbmdpZnkoYyk7WmUoKTt2YXIgaD17fTtoLmFwaU5hbWU9cixoLmFyZ3M9Yzt2YXIgZD17fTtpZihkLmJ1bmRsZU5hbWU9cC5lLGQuYWJpbGl0eU5hbWU9cC5jLCEoaSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaXx8byYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb3x8YSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYSkpe2lmKHUuYS5pc0hhcm1vbnlXZWJ2aWV3KCkpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXttZXRob2Q6cixkYXRhOmN9O3RyeXtlKEtlKHdpbmRvdy5pbnZva2UuY2FsbChKU09OLnN0cmluZ2lmeShuKSkpKX1jYXRjaChlKXtsLmEuZXJyb3IocC5qLFwiSGFybW9ueSB3ZWJ2aWV3IGludm9rZVwiLGUpLHQoZSl9fSkpO2lmKHUuYS5pc09IT1MoKSlyZXR1cm4gVmUocixjKTtpZih1LmEuaXNIYXJtb255KCkpcmV0dXJuIGQubWVzc2FnZUNvZGU9cC5nLGQuZGF0YT1oLGQuYWJpbGl0eVR5cGU9cC5iLGQuc3luY09wdGlvbj1wLmgsZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe2UudGhlbigoZnVuY3Rpb24oZSl7dChLZShlKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoS2UoZSkpfSkpfSkpfShGZWF0dXJlQWJpbGl0eS5jYWxsQWJpbGl0eShkKSk7aWYodS5hLmlzQ29yZG92YSgpKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj17bWV0aG9kOnIsZGF0YTpjfTt3aW5kb3cuY29yZG92YS5leGVjKChmdW5jdGlvbih0KXtlKEtlKHQpKX0pLChmdW5jdGlvbihlKXt0KEtlKGUpKX0pLFwiSlNDb3JlXCIsXCJpbnZva2VcIixuKX0pKTtpZih1LmEuaXNDYXBhY2l0b3IoKSl7dmFyIHk9e21ldGhvZDpyLGRhdGE6Y307cmV0dXJuIHdpbmRvdy5DYXBhY2l0b3IuUGx1Z2lucy5KU0JDYXBhY2l0b3JQbHVnaW4uaW52b2tlKHkpfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7ZShLZSh1LmEuZ2V0SlNDb3JlKCkuaW52b2tlKHIsZikpKX0pKX12YXIgZz1xZShpLG8sYSk7aWYobC5hLmluZm8ocC5qLFwiaW52b2tlIEFzeW5jLCBjYWxsYmFja0lkOlwiLmNvbmNhdChnKSksdS5hLmlzSGFybW9ueVdlYnZpZXcoKSl7dmFyIHY9e21ldGhvZDpyLGRhdGE6YyxjYWxsYmFjazpnfTt0cnl7d2luZG93Lmludm9rZUFzeW5jLmNhbGwoSlNPTi5zdHJpbmdpZnkodikpfWNhdGNoKGUpe2wuYS5lcnJvcihwLmosXCJIYXJtb255IHdlYnZpZXcgaW52b2tlQXN5bmNcIixlKSx0aGlzLmNhbGxiYWNrKGcsZSl9fWVsc2UgaWYodS5hLmlzT0hPUygpKVZlKHIsYykudGhlbigoZnVuY3Rpb24oZSl7emUuY2FsbGJhY2soZyxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bC5hLmVycm9yKHAuaixcIm9ob3MgYWRhcHRlciBpbnZva2VBc3luYyBmYWlsZWQgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksemUuY2FsbGJhY2soZyxlKX0pKTtlbHNlIGlmKHUuYS5pc0hhcm1vbnkoKSloLmNhbGxiYWNrSWQ9ZyxkLm1lc3NhZ2VDb2RlPXAuZCxkLmRhdGE9aCxkLmFiaWxpdHlUeXBlPXAuYixkLnN5bmNPcHRpb249cC5hLEZlYXR1cmVBYmlsaXR5LmNhbGxBYmlsaXR5KGQpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PUtlKGUpO1wiY2FsbGJhY2sgcmVzdWx0IHBhcnNpbmcgZXJyb3JcIiE9PXQuZXJyTXNnJiZ6ZS5jYWxsYmFjayhnLHQuZGF0YSl9KSwoZnVuY3Rpb24oZSl7bC5hLmVycm9yKHAuaixcImNhbGwgYWJpbGl0eSBmYWlsZWQgXCIuY29uY2F0KGUpKX0pKTtlbHNlIGlmKHUuYS5pc1FpY2tBcHAoKSl1LmEuZ2V0SlNDb3JlKCkuaW52b2tlQXN5bmMoe2FwaU5hbWU6cixhcmdzOmYsY2FsbGJhY2tJZDpnLGNhbGxiYWNrOnRoaXMuY2FsbGJhY2t9KTtlbHNlIGlmKHUuYS5pc0NvcmRvdmEoKSl7dmFyIGI9e21ldGhvZDpyLGRhdGE6Y307d2luZG93LmNvcmRvdmEuZXhlYygoZnVuY3Rpb24oZSl7dC5jYWxsYmFjayhnLGUpfSksKGZ1bmN0aW9uKGUpe3QuY2FsbGJhY2soZyxlKX0pLFwiSlNDb3JlXCIsXCJpbnZva2VBc3luY1wiLGIpfWVsc2UgaWYodS5hLmlzQ2FwYWNpdG9yKCkpe3ZhciB3PXttZXRob2Q6cixkYXRhOmN9O3dpbmRvdy5DYXBhY2l0b3IuUGx1Z2lucy5KU0JDYXBhY2l0b3JQbHVnaW4uaW52b2tlQXN5bmModykudGhlbigoZnVuY3Rpb24oZSl7emUuY2FsbGJhY2soZyxlLnZhbHVlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bC5hLmVycm9yKHAuaixcImNhcGFjaXRvciBhZGFwdGVyIGludm9rZUFzeW5jIGZhaWxlZFwiLGUpfSkpfWVsc2UgdS5hLmdldEpTQ29yZSgpLmludm9rZUFzeW5jKHIsZixnKX19LGNhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYobC5hLmluZm8ocC5qLFwiY2FsbGJhY2sgc3RhcnQsIGNiSWQ6IFwiLmNvbmNhdChlKSksdCl7dmFyIHI9WWVbZV07aWYocil7IWZ1bmN0aW9uKGUpe2RlbGV0ZSBZZVtlLmlkXX0ocik7dmFyIG49S2UodCk7aWYoXCJjYWxsYmFjayByZXN1bHQgcGFyc2luZyBlcnJvclwiPT09bi5lcnJNc2cmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZmFpbClyZXR1cm4gdm9pZCByLmZhaWwobik7dmFyIGk9e2VyckNvZGU6bi5lcnJDb2RlLGVyck1zZzpuLmVyck1zZ3x8XCJcIixkYXRhOm4uZGF0YSxleHRyYXM6bi5leHRyYXN9OzA9PT1uLmVyckNvZGU/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHIuc3VjY2VzcyYmci5zdWNjZXNzKGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY29tcGxldGUmJnIuY29tcGxldGUoaSkpOihcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmZhaWwmJnIuZmFpbChpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmNvbXBsZXRlJiZyLmNvbXBsZXRlKGkpKX19ZWxzZSBsLmEuZXJyb3IocC5qLFwiY2FsbGJhY2sgcGFyYW1zIGlzIG51bGxcIil9LG9uOmZ1bmN0aW9uKGUsdCxyKXtpZihsLmEuaW5mbyhwLmosXCJvbiBzdGFydCwgZXZlbnROYW1lOiBcIi5jb25jYXQoZSkpLHImJnUuYS5pc0hhcm1vbnkoKSlyZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXtpZDp1LmEudW5pcXVlSWQoXCJlY2JfXCIpLGV2ZW50TmFtZTplLGNhbGxiYWNrOnR9O3JldHVybiByW24uaWRdPW4sbi5pZH0oZSx0LHIpO2lmKCF1LmEuaXNXZWV4KCkpe2lmKHUuYS5pc1JOKCkpcmV0dXJuIEdlLmFkZExpc3RlbmVyKGUsKGZ1bmN0aW9uKGUpe3ZhciByO3RyeXtyPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7cmV0dXJufXQocil9KSk7aWYodS5hLmlzQ2FwYWNpdG9yKCkpcmV0dXJuIHdpbmRvdy5DYXBhY2l0b3IuUGx1Z2lucy5KU0JDYXBhY2l0b3JQbHVnaW4uYWRkTGlzdGVuZXIoZSwoZnVuY3Rpb24oZSl7dChlKX0pKTt1LmEuaXNDb3Jkb3ZhKCkmJjA9PT1PYmplY3Qua2V5cyhYZSkubGVuZ3RoJiZ3aW5kb3cuY29yZG92YS5leGVjKHplLmNvcmRvdmFIYW5kbGVyLHplLmNvcmRvdmFIYW5kbGVyLFwiSlNDb3JlXCIsXCJhZGRFdmVudExpc3RlbmVyXCIse2V2ZW50TmFtZTplfSk7dmFyIG49dS5hLnVuaXF1ZUlkKFwic3Vic2NyaWJlRXZlbnRfXCIpO2wuYS5pbmZvKHAuaixcIm9uIGJyb3dzZXIsIG9mZktleTogXCIuY29uY2F0KG4pKTt2YXIgaT1YZVtcImV2ZW50X1wiK2VdO3JldHVybiBpfHwoaT17fSxYZVtcImV2ZW50X1wiK2VdPWkpLGlbbl09dCxufXdlZXgucmVxdWlyZU1vZHVsZShcImdsb2JhbEV2ZW50XCIpLmFkZEV2ZW50TGlzdGVuZXIoZSx0KX0sb2ZmOmZ1bmN0aW9uKGUsdCxyKXtpZihsLmEuaW5mbyhwLmosXCJvZmYgc3RhcnQsIGV2ZW50TmFtZTogXCIuY29uY2F0KGUsXCIsIG9mZktleTogXCIpLmNvbmNhdCh0KSksciYmdS5hLmlzSGFybW9ueSgpKWRlbGV0ZSByW3RdO2Vsc2UgaWYodS5hLmlzV2VleCgpKXt3ZWV4LnJlcXVpcmVNb2R1bGUoXCJnbG9iYWxFdmVudFwiKS5yZW1vdmVFdmVudExpc3RlbmVyKGUpfWVsc2UgaWYodS5hLmlzUk4oKXx8dS5hLmlzQ2FwYWNpdG9yKCkpdCYmdC5yZW1vdmUoKTtlbHNle3ZhciBuPVhlW1wiZXZlbnRfXCIrZV07aWYobilpZihcInN0cmluZ1wiPT10eXBlb2YgdClkZWxldGUgblt0XTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciBpPU9iamVjdC5rZXlzKG4pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV09PT10fSkpO2kmJmkubGVuZ3RoJiZkZWxldGUgbltpWzBdXX19fSxwdWJsaXNoSGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciByO2wuYS5pbmZvKHAuaixcInB1Ymxpc2hIYW5kbGVyIHN0YXJ0LCBldmVudE5hbWU6IFwiLmNvbmNhdChlKSk7dHJ5e3I9SlNPTi5wYXJzZSh0KX1jYXRjaChlKXtsLmEuZXJyb3IocC5qLFwicHVzaEV2ZW50IGRhdGEgcGFyc2luZyBlcnJvclwiKSxyPXR9dmFyIG49WGVbXCJldmVudF9cIitlXTtuJiZPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQocil9KSl9LGNvcmRvdmFIYW5kbGVyOmZ1bmN0aW9uKGUpe2UmJnplLnB1Ymxpc2hIYW5kbGVyKGUuZXZlbnQsZS5kYXRhKX0sY3JlYXRlVmlldzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5hcGlOYW1lLG49ZS5hcmdzLGk9ZS5jb250YWluZXJJZCxhPWUuc3VjY2VzcyxzPWUuZmFpbCxjPWUuY29tcGxldGUsZj12b2lkIDAhPT1uP0pTT04uc3RyaW5naWZ5KG4pOlwiXCIsbD1xZShhLHMsYyk7aWYodS5hLmlzQ29yZG92YSgpKXdpbmRvdy5jb3Jkb3ZhLmV4ZWMoKGZ1bmN0aW9uKGUpe3QuY2FsbGJhY2sobCxlKX0pLChmdW5jdGlvbihlKXt0LmNhbGxiYWNrKGwsZSl9KSxcIkpTQ29yZVZpZXdcIixcImNyZWF0ZVZpZXdcIixuKTtlbHNlIGlmKHUuYS5pc1dlYlZpZXcoKSl7dmFyIHAsaD11LmEuZ2V0UG9zaXRpb25JbmZvQnlJZChpKTsocD11LmEuZ2V0SlNDb3JlKCkpLmNyZWF0ZVZpZXcuYXBwbHkocCxbcixmLGwsaV0uY29uY2F0KG8oKShoKSkpfWVsc2UgdS5hLmdldEpTQ29yZSgpLmNyZWF0ZVZpZXcocixmLGwsaSl9LHNjcm9sbFZpZXdUb1k6ZnVuY3Rpb24oZSx0KXt1LmEuaXNXZWJWaWV3KCkmJnUuYS5nZXRKU0NvcmUoKS5zY3JvbGxWaWV3VG9ZKGUsdCl9LGluaXQ6ZnVuY3Rpb24oZSl7aWYobC5hLmluZm8ocC5qLFwiaW5pdCBzdGFydFwiKSx1LmEuaXNSTigpKXt2YXIgdD1lLk5hdGl2ZU1vZHVsZXM7dS5hLnNldEpTQ29yZSh0LkpTQ29yZSksR2U9ZS5EZXZpY2VFdmVudEVtaXR0ZXIsWmUoKSx0aGlzLnV0aWxzPXQuTW9kdWxlVXRpbHN9ZWxzZSBpZih1LmEuaXNIYXJtb255KCkpe3ZhciByPXt9O3IuYnVuZGxlTmFtZT1wLmUsci5hYmlsaXR5TmFtZT1wLmMsci5tZXNzYWdlQ29kZT1wLmYsci5hYmlsaXR5VHlwZT1wLmIsci5zeW5jT3B0aW9uPXAuYSxGZWF0dXJlQWJpbGl0eS5zdWJzY3JpYmVBYmlsaXR5RXZlbnQociwoZnVuY3Rpb24odCl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm4gdm9pZCBsLmEuZXJyb3IocC5qLFwic3Vic2NyaWJlIGV2ZW50IHJlc3VsdCBwYXJzZSBlcnJvcjogXCIuY29uY2F0KHQpKX12YXIgbj1yLmRhdGEuZXZlbnROYW1lO09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPWVbdF07bj09PWkuZXZlbnROYW1lJiZpLmNhbGxiYWNrKHIuZGF0YS5ldmVudFJlc3VsdCl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBsLmEuZXJyb3IocC5qLFwic3Vic2NyaWJlIGV2ZW50IGZhaWxcIixlKX0pKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtsLmEuaW5mbyhwLmosXCJkZXN0cm95IHN0YXJ0XCIpLHUuYS5pc1JOKCk/SmUmJkplLnJlbW92ZSgpOnUuYS5pc0NvcmRvdmEoKSYmd2luZG93LmNvcmRvdmEuZXhlYyh6ZS5jb3Jkb3ZhSGFuZGxlcix6ZS5jb3Jkb3ZhSGFuZGxlcixcIkpTQ29yZVwiLFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiKX19O2Z1bmN0aW9uIFplKCl7dS5hLmlzV2ViVmlldygpfHx1LmEuaXNIYXJtb255V2VidmlldygpP3dpbmRvdy5KU0JyaWRnZT16ZTp1LmEuaXNXZWV4KCk/emUub24ocC5rLChmdW5jdGlvbihlKXt2YXIgdD1lLmlkLHI9ZS52YWx1ZTt6ZS5jYWxsYmFjayh0LHIpfSkpOnUuYS5pc1JOKCk/R2UmJihKZSYmSmUucmVtb3ZlKCksSmU9emUub24ocC5pLChmdW5jdGlvbihlKXt2YXIgdD1lLmlkLHI9ZS52YWx1ZTt6ZS5jYWxsYmFjayh0LHIpfSkpKTp1LmEuaXNRaWNrQXBwKCkmJih1LmEuZ2V0SlNDb3JlKCkub25FdmVudENhbGxCYWNrPXplLnB1Ymxpc2hIYW5kbGVyKX1pZihaZSgpLHUuYS5pc0hhcm1vbnlXZWJ2aWV3KCkmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQuaHJlZil7dmFyIFFlPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuaHJlZjtsLmEuaW5mbyhwLmosXCJzY3JpcHQgaHJlZjogXCIuY29uY2F0KGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuaHJlZikpO3ZhciAkZT1RZS5tYXRjaCgvWz8mXWFwcGlkPShbXiY9XSspL2kpOyRlJiYkZVsxXSYmemUuaW5pdEFwcElkKCRlWzFdKX19XSl9KSk7IiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXZvaWQgMDt2YXIgZT12KHJlcXVpcmUoXCJ1bmlvbi1xdWljay1hcHAtYWQvYXBwLmpzXCIpKSx0PXYoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5kZXZpY2VcIikpLG49digkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnBhY2thZ2VcIikpLG89digkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLm5ldHdvcmtcIikpLHI9digkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmFwcFwiKSksbD12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSksaT12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zZXJ2aWNlLmFkXCIpKSx1PXYoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5mZXRjaFwiKSksYT12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmlsZVwiKSksYz12KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ucm91dGVyXCIpKSxzPXYoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5wcm9tcHRcIikpLGQ9dihyZXF1aXJlKFwianMtbWQ1XCIpKSxmPXYocmVxdWlyZShcImpzLWJhc2U2NFwiKSkscD12KHJlcXVpcmUoXCIuL2J1bmRsZVwiKSk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24geShlKXtyZXR1cm4geT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSx5KGUpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihvPW8uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLG8pfXJldHVybiBufWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybih0PWsodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxrKG8ua2V5KSxvKX19ZnVuY3Rpb24gayhlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXkoZSl8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgbz1uLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9eShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXkodCk/dDp0K1wiXCJ9dmFyICQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCl8fGdsb2JhbCxPPVwiaW50ZXJuYWw6Ly9maWxlcy90b3BvbmFkL1wiLmNvbmNhdChcIlwiLmNvbmNhdChcIjQuMi4xMVwiKSxcIi9jb3JlLXJlbmRlci5qc1wiKSx4PVwibG9jYWxcIixqPVwiaHR0cDovLzE5Mi4xNjguODYuMTEzOjcwMDFcIjtmdW5jdGlvbiB3KGUpe3RyeXtuZXcgRnVuY3Rpb24oZSkoKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwibG9hZCBzZGsgZXJyb3JcIixlKX19ZnVuY3Rpb24gUCgpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXt1LmRlZmF1bHQuZmV0Y2goe3VybDpcIlwiLmNvbmNhdChqLFwiL2NvcmUvcmVuZGVyL2NvcmUtcmVuZGVyLmpzXCIpLHJlc3BvbnNlVHlwZTpcInRleHRcIixtZXRob2Q6XCJHRVRcIixzdWNjZXNzOmZ1bmN0aW9uKHQpe2EuZGVmYXVsdC53cml0ZVRleHQoe3VyaTpPLHRleHQ6dC5kYXRhLHN1Y2Nlc3M6ZnVuY3Rpb24oKXt9LGZhaWw6ZnVuY3Rpb24oZSx0KXt9fSksZSh0LmRhdGEpfSxmYWlsOmZ1bmN0aW9uKGUsbil7dCgpfX0pfSkpfWZ1bmN0aW9uIF8oYSl7dHJ5e3ZhciBwOyQuJHRvcG9uX3NkayYmKCQuJHRvcG9uX3Nkay5hcGk9e2RldmljZTp0LmRlZmF1bHQscGtnOm4uZGVmYXVsdCxuZXR3b3JrOm8uZGVmYXVsdCxhcHA6ci5kZWZhdWx0LHN0b3JhZ2U6bC5kZWZhdWx0LGFkOmkuZGVmYXVsdCwkZmV0Y2g6dS5kZWZhdWx0LHJvdXRlcjpjLmRlZmF1bHQscHJvbXB0OnMuZGVmYXVsdCxtZDU6ZC5kZWZhdWx0LGpzQmFzZTY0OmYuZGVmYXVsdH0pLG5ldyAkLiR0b3Bvbl9zZGsodGhpcyxhKSxuZXcgZS5kZWZhdWx0KHRoaXMpO3ZhciB2PShudWxsPT1hfHxudWxsPT09KHA9YS5jb25maWcpfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLnlsaEFwcElkKXx8XCJcIjtpZih2KXRyeXtuZXcoMCxyZXF1aXJlKFwieWxoLXF1aWNrLWFwcC1hZC1zZGtcIikuZGVmYXVsdCkodGhpcyx7YXBwSWQ6dn0pfWNhdGNoKGUpe319Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImluaXQgc2RrIGVycm9yXCIsZSl9fXZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpO3ZhciBuPXQuYXBwLG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2IoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmgoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LHQpO3RoaXMuJGN0eD1uLGRlbGV0ZSBvLmFwcCwkJiYkLiR0b3Bvbl9zZGs/Xy5jYWxsKG4sbyk6XCJsb2NhbFwiPT09eD8ody5jYWxsKG4scC5kZWZhdWx0LCExKSxfLmNhbGwobixvKSk6YS5kZWZhdWx0LnJlYWRUZXh0KHt1cmk6TyxzdWNjZXNzOmZ1bmN0aW9uKGUpe3cuY2FsbChuLGUudGV4dCksXy5jYWxsKG4sbyl9LGZhaWw6ZnVuY3Rpb24oZSx0KXtQLmNhbGwobikudGhlbigoZnVuY3Rpb24oZSl7dy5jYWxsKG4sZSwhMSksXy5jYWxsKG4sbyl9KSl9fSl9dmFyIHQsbixvO3JldHVybiB0PWUsKG49W3trZXk6XCJzZXRDaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLiRjdHgpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudG9wb25fc2RrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zZXRDaGFubmVsLmNhbGwodGhpcy4kY3R4LGUpfX0se2tleTpcInNldFN1YkNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuJGN0eCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC50b3Bvbl9zZGspfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNldFN1YkNoYW5uZWwuY2FsbCh0aGlzLiRjdHgsZSl9fSx7a2V5Olwic2V0Q3VzdG9tUGFyYW1cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuJGN0eCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC50b3Bvbl9zZGspfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNldEN1c3RvbVBhcmFtLmNhbGwodGhpcy4kY3R4LGUpfX0se2tleTpcInNldFBsYWNlbWVudEN1c3RvbVBhcmFtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLiRjdHgpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudG9wb25fc2RrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zZXRQbGFjZW1lbnRDdXN0b21QYXJhbS5jYWxsKHRoaXMuJGN0eCxlKX19LHtrZXk6XCJvblNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLiRjdHgpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS4kZGVmKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUudG9wb25fc2RrKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZXZlbnQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5kZWVwbGluayl8fHZvaWQgMD09PWV8fGUucHVibGlzaChcImFwcC1vbi1zaG93XCIpLG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLiRjdHgpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudG9wb25fc2RrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vblNob3cuY2FsbCh0aGlzLiRjdHgpfX0se2tleTpcIm9uSGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGN0eCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5ldmVudCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmRlZXBsaW5rKXx8dm9pZCAwPT09ZXx8ZS5wdWJsaXNoKFwiYXBwLW9uLWhpZGVcIiksbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuJGN0eCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC50b3Bvbl9zZGspfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm9uSGlkZS5jYWxsKHRoaXMuJGN0eCl9fSx7a2V5Olwib25EZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGN0eCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm9uRGVzdHJveS5jYWxsKHRoaXMuJGN0eCl9fV0pJiZtKHQucHJvdG90eXBlLG4pLG8mJm0odCxvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KCk7ZXhwb3J0cy5kZWZhdWx0PWc7IiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdm9pZCAwO1xudmFyIF9kZWZhdWx0ID0gXCIhZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIGk9T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYobj1uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBlKGUpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tpXT9hcmd1bWVudHNbaV06e307aSUyP3QoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtjKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp0KE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGkoKXtpPWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3ZhciB0LGU9e30sbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLGkpe3RbZV09aS52YWx1ZX0sbz1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxkPW8uaXRlcmF0b3J8fFxcXCJAQGl0ZXJhdG9yXFxcIixzPW8uYXN5bmNJdGVyYXRvcnx8XFxcIkBAYXN5bmNJdGVyYXRvclxcXCIsbD1vLnRvU3RyaW5nVGFnfHxcXFwiQEB0b1N0cmluZ1RhZ1xcXCI7ZnVuY3Rpb24gYyh0LGUsaSl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtjKHt9LFxcXCJcXFwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFtlXT1pfX1mdW5jdGlvbiB1KHQsZSxpLG4pe3ZhciByPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgXz9lOl8sbz1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxkPW5ldyBEKG58fFtdKTtyZXR1cm4gYShvLFxcXCJfaW52b2tlXFxcIix7dmFsdWU6VCh0LGksZCl9KSxvfWZ1bmN0aW9uIGgodCxlLGkpe3RyeXtyZXR1cm57dHlwZTpcXFwibm9ybWFsXFxcIixhcmc6dC5jYWxsKGUsaSl9fWNhdGNoKHQpe3JldHVybnt0eXBlOlxcXCJ0aHJvd1xcXCIsYXJnOnR9fX1lLndyYXA9dTt2YXIgcD1cXFwic3VzcGVuZGVkU3RhcnRcXFwiLGY9XFxcImV4ZWN1dGluZ1xcXCIsdj1cXFwiY29tcGxldGVkXFxcIixtPXt9O2Z1bmN0aW9uIF8oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiB5KCl7fXZhciBJPXt9O2MoSSxkLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZixrPWImJmIoYihMKFtdKSkpO2smJmshPT1uJiZyLmNhbGwoayxkKSYmKEk9ayk7dmFyIHc9eS5wcm90b3R5cGU9Xy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShJKTtmdW5jdGlvbiB4KHQpe1tcXFwibmV4dFxcXCIsXFxcInRocm93XFxcIixcXFwicmV0dXJuXFxcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBTKHQsZSl7ZnVuY3Rpb24gaShuLGEsbyxkKXt2YXIgcz1oKHRbbl0sdCxhKTtpZihcXFwidGhyb3dcXFwiIT09cy50eXBlKXt2YXIgbD1zLmFyZyxjPWwudmFsdWU7cmV0dXJuIGMmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYyYmci5jYWxsKGMsXFxcIl9fYXdhaXRcXFwiKT9lLnJlc29sdmUoYy5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtpKFxcXCJuZXh0XFxcIix0LG8sZCl9KSwoZnVuY3Rpb24odCl7aShcXFwidGhyb3dcXFwiLHQsbyxkKX0pKTplLnJlc29sdmUoYykudGhlbigoZnVuY3Rpb24odCl7bC52YWx1ZT10LG8obCl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGkoXFxcInRocm93XFxcIix0LG8sZCl9KSl9ZChzLmFyZyl9dmFyIG47YSh0aGlzLFxcXCJfaW52b2tlXFxcIix7dmFsdWU6ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG4pe2kodCxyLGUsbil9KSl9cmV0dXJuIG49bj9uLnRoZW4oYSxhKTphKCl9fSl9ZnVuY3Rpb24gVChlLGksbil7dmFyIHI9cDtyZXR1cm4gZnVuY3Rpb24oYSxvKXtpZihyPT09Zil0aHJvdyBFcnJvcihcXFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1xcXCIpO2lmKHI9PT12KXtpZihcXFwidGhyb3dcXFwiPT09YSl0aHJvdyBvO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihuLm1ldGhvZD1hLG4uYXJnPW87Oyl7dmFyIGQ9bi5kZWxlZ2F0ZTtpZihkKXt2YXIgcz1BKGQsbik7aWYocyl7aWYocz09PW0pY29udGludWU7cmV0dXJuIHN9fWlmKFxcXCJuZXh0XFxcIj09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoXFxcInRocm93XFxcIj09PW4ubWV0aG9kKXtpZihyPT09cCl0aHJvdyByPXYsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZVxcXCJyZXR1cm5cXFwiPT09bi5tZXRob2QmJm4uYWJydXB0KFxcXCJyZXR1cm5cXFwiLG4uYXJnKTtyPWY7dmFyIGw9aChlLGksbik7aWYoXFxcIm5vcm1hbFxcXCI9PT1sLnR5cGUpe2lmKHI9bi5kb25lP3Y6XFxcInN1c3BlbmRlZFlpZWxkXFxcIixsLmFyZz09PW0pY29udGludWU7cmV0dXJue3ZhbHVlOmwuYXJnLGRvbmU6bi5kb25lfX1cXFwidGhyb3dcXFwiPT09bC50eXBlJiYocj12LG4ubWV0aG9kPVxcXCJ0aHJvd1xcXCIsbi5hcmc9bC5hcmcpfX19ZnVuY3Rpb24gQShlLGkpe3ZhciBuPWkubWV0aG9kLHI9ZS5pdGVyYXRvcltuXTtpZihyPT09dClyZXR1cm4gaS5kZWxlZ2F0ZT1udWxsLFxcXCJ0aHJvd1xcXCI9PT1uJiZlLml0ZXJhdG9yLnJldHVybiYmKGkubWV0aG9kPVxcXCJyZXR1cm5cXFwiLGkuYXJnPXQsQShlLGkpLFxcXCJ0aHJvd1xcXCI9PT1pLm1ldGhvZCl8fFxcXCJyZXR1cm5cXFwiIT09biYmKGkubWV0aG9kPVxcXCJ0aHJvd1xcXCIsaS5hcmc9bmV3IFR5cGVFcnJvcihcXFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXFxcIituK1xcXCInIG1ldGhvZFxcXCIpKSxtO3ZhciBhPWgocixlLml0ZXJhdG9yLGkuYXJnKTtpZihcXFwidGhyb3dcXFwiPT09YS50eXBlKXJldHVybiBpLm1ldGhvZD1cXFwidGhyb3dcXFwiLGkuYXJnPWEuYXJnLGkuZGVsZWdhdGU9bnVsbCxtO3ZhciBvPWEuYXJnO3JldHVybiBvP28uZG9uZT8oaVtlLnJlc3VsdE5hbWVdPW8udmFsdWUsaS5uZXh0PWUubmV4dExvYyxcXFwicmV0dXJuXFxcIiE9PWkubWV0aG9kJiYoaS5tZXRob2Q9XFxcIm5leHRcXFwiLGkuYXJnPXQpLGkuZGVsZWdhdGU9bnVsbCxtKTpvOihpLm1ldGhvZD1cXFwidGhyb3dcXFwiLGkuYXJnPW5ldyBUeXBlRXJyb3IoXFxcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XFxcIiksaS5kZWxlZ2F0ZT1udWxsLG0pfWZ1bmN0aW9uIEUodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gQyh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cXFwibm9ybWFsXFxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gRCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XFxcInJvb3RcXFwifV0sdC5mb3JFYWNoKEUsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gTChlKXtpZihlfHxcXFwiXFxcIj09PWUpe3ZhciBpPWVbZF07aWYoaSlyZXR1cm4gaS5jYWxsKGUpO2lmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG49LTEsYT1mdW5jdGlvbiBpKCl7Zm9yKDsrK248ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG4pKXJldHVybiBpLnZhbHVlPWVbbl0saS5kb25lPSExLGk7cmV0dXJuIGkudmFsdWU9dCxpLmRvbmU9ITAsaX07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKHR5cGVvZiBlK1xcXCIgaXMgbm90IGl0ZXJhYmxlXFxcIil9cmV0dXJuIGcucHJvdG90eXBlPXksYSh3LFxcXCJjb25zdHJ1Y3RvclxcXCIse3ZhbHVlOnksY29uZmlndXJhYmxlOiEwfSksYSh5LFxcXCJjb25zdHJ1Y3RvclxcXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKHksbCxcXFwiR2VuZXJhdG9yRnVuY3Rpb25cXFwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWd8fFxcXCJHZW5lcmF0b3JGdW5jdGlvblxcXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LHkpOih0Ll9fcHJvdG9fXz15LGModCxsLFxcXCJHZW5lcmF0b3JGdW5jdGlvblxcXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLHR9LGUuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LHgoUy5wcm90b3R5cGUpLGMoUy5wcm90b3R5cGUscywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9UyxlLmFzeW5jPWZ1bmN0aW9uKHQsaSxuLHIsYSl7dm9pZCAwPT09YSYmKGE9UHJvbWlzZSk7dmFyIG89bmV3IFModSh0LGksbixyKSxhKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKGkpP286by5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOm8ubmV4dCgpfSkpfSx4KHcpLGModyxsLFxcXCJHZW5lcmF0b3JcXFwiKSxjKHcsZCwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxjKHcsXFxcInRvU3RyaW5nXFxcIiwoZnVuY3Rpb24oKXtyZXR1cm5cXFwiW29iamVjdCBHZW5lcmF0b3JdXFxcIn0pKSxlLmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLGk9W107Zm9yKHZhciBuIGluIGUpaS5wdXNoKG4pO3JldHVybiBpLnJldmVyc2UoKSxmdW5jdGlvbiB0KCl7Zm9yKDtpLmxlbmd0aDspe3ZhciBuPWkucG9wKCk7aWYobiBpbiBlKXJldHVybiB0LnZhbHVlPW4sdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sZS52YWx1ZXM9TCxELnByb3RvdHlwZT17Y29uc3RydWN0b3I6RCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XFxcIm5leHRcXFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goQyksIWUpZm9yKHZhciBpIGluIHRoaXMpXFxcInRcXFwiPT09aS5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLGkpJiYhaXNOYU4oK2kuc2xpY2UoMSkpJiYodGhpc1tpXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcXFwidGhyb3dcXFwiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBpPXRoaXM7ZnVuY3Rpb24gbihuLHIpe3JldHVybiBkLnR5cGU9XFxcInRocm93XFxcIixkLmFyZz1lLGkubmV4dD1uLHImJihpLm1ldGhvZD1cXFwibmV4dFxcXCIsaS5hcmc9dCksISFyfWZvcih2YXIgYT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7YT49MDstLWEpe3ZhciBvPXRoaXMudHJ5RW50cmllc1thXSxkPW8uY29tcGxldGlvbjtpZihcXFwicm9vdFxcXCI9PT1vLnRyeUxvYylyZXR1cm4gbihcXFwiZW5kXFxcIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIHM9ci5jYWxsKG8sXFxcImNhdGNoTG9jXFxcIiksbD1yLmNhbGwobyxcXFwiZmluYWxseUxvY1xcXCIpO2lmKHMmJmwpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBuKG8uY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIG4oby5maW5hbGx5TG9jKX1lbHNlIGlmKHMpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBuKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIWwpdGhyb3cgRXJyb3IoXFxcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XFxcIik7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gbihvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbaV07aWYobi50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG4sXFxcImZpbmFsbHlMb2NcXFwiKSYmdGhpcy5wcmV2PG4uZmluYWxseUxvYyl7dmFyIGE9bjticmVha319YSYmKFxcXCJicmVha1xcXCI9PT10fHxcXFwiY29udGludWVcXFwiPT09dCkmJmEudHJ5TG9jPD1lJiZlPD1hLmZpbmFsbHlMb2MmJihhPW51bGwpO3ZhciBvPWE/YS5jb21wbGV0aW9uOnt9O3JldHVybiBvLnR5cGU9dCxvLmFyZz1lLGE/KHRoaXMubWV0aG9kPVxcXCJuZXh0XFxcIix0aGlzLm5leHQ9YS5maW5hbGx5TG9jLG0pOnRoaXMuY29tcGxldGUobyl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXFxcInRocm93XFxcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cXFwiYnJlYWtcXFwiPT09dC50eXBlfHxcXFwiY29udGludWVcXFwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcXFwicmV0dXJuXFxcIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVxcXCJyZXR1cm5cXFwiLHRoaXMubmV4dD1cXFwiZW5kXFxcIik6XFxcIm5vcm1hbFxcXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksbX0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBpPXRoaXMudHJ5RW50cmllc1tlXTtpZihpLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKGkuY29tcGxldGlvbixpLmFmdGVyTG9jKSxDKGkpLG19fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgaT10aGlzLnRyeUVudHJpZXNbZV07aWYoaS50cnlMb2M9PT10KXt2YXIgbj1pLmNvbXBsZXRpb247aWYoXFxcInRocm93XFxcIj09PW4udHlwZSl7dmFyIHI9bi5hcmc7QyhpKX1yZXR1cm4gcn19dGhyb3cgRXJyb3IoXFxcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFxcXCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsaSxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6TChlKSxyZXN1bHROYW1lOmksbmV4dExvYzpufSxcXFwibmV4dFxcXCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLG19fSxlfWZ1bmN0aW9uIG4odCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIHR8fCF0KXJldHVybiB0O3ZhciBpPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwodCxlfHxcXFwiZGVmYXVsdFxcXCIpO2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgbilyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlxcXCIpfXJldHVybihcXFwic3RyaW5nXFxcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXFxcInN0cmluZ1xcXCIpO3JldHVyblxcXCJzeW1ib2xcXFwiPT10eXBlb2YgZT9lOmUrXFxcIlxcXCJ9ZnVuY3Rpb24gcih0KXtyZXR1cm4gcj1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgU3ltYm9sJiZcXFwic3ltYm9sXFxcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cXFwic3ltYm9sXFxcIjp0eXBlb2YgdH0scih0KX1mdW5jdGlvbiBhKHQsZSxpLG4scixhLG8pe3RyeXt2YXIgZD10W2FdKG8pLHM9ZC52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBpKHQpfWQuZG9uZT9lKHMpOlByb21pc2UucmVzb2x2ZShzKS50aGVuKG4scil9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLGk9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgbz10LmFwcGx5KGUsaSk7ZnVuY3Rpb24gZCh0KXthKG8sbixyLGQscyxcXFwibmV4dFxcXCIsdCl9ZnVuY3Rpb24gcyh0KXthKG8sbixyLGQscyxcXFwidGhyb3dcXFwiLHQpfWQodm9pZCAwKX0pKX19ZnVuY3Rpb24gZCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIHModCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHI9ZVtpXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4oci5rZXkpLHIpfX1mdW5jdGlvbiBsKHQsZSxpKXtyZXR1cm4gZSYmcyh0LnByb3RvdHlwZSxlKSxpJiZzKHQsaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXFxcInByb3RvdHlwZVxcXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBjKHQsZSxpKXtyZXR1cm4oZT1uKGUpKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09aSx0fWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKX0odCk9PT1lfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHUodCxcXFwiU3RyaW5nXFxcIil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gdSh0LFxcXCJOdW1iZXJcXFwiKX1mdW5jdGlvbiBmKHQpe3JldHVybiB1KHQsXFxcIk9iamVjdFxcXCIpfWZ1bmN0aW9uIHYodCl7Zm9yKHZhciBlIGluIHQpaWYoe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG0odCxlKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KSxuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpO2lmKGkubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKz0xKXt2YXIgYT1pW3JdO2lmKHRbYV0hPT1lW2FdKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIF8odCl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0KXRyeXt2YXIgZT1KU09OLnBhcnNlKHQpO3JldHVybiEoXFxcIm9iamVjdFxcXCIhPT1yKGUpfHwhZSl9Y2F0Y2godCl7cmV0dXJuITF9fXZhciBnPXtWSVZPOjU0LE9QUE86NTUsQkFJRFU6NTYsSFVBV0VJOjYwLFhJQU9NSTo2MSxIVUFXRUlfQUdEX1BSTzo2MixIT05PUjo2MyxZTEg6NjQsQURYOjY2fSx5PXtWSVZPOjU0LE9QUE86NTUsWUxIOjY0fTtmdW5jdGlvbiBJKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPWUuc2VwYXJhdG9yfHxcXFwiLVxcXCIsbj1lLnNwbGl0fHwvKD89W0EtWl0pLztyZXR1cm4gdC5zcGxpdChuKS5qb2luKGkpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcXFwiXFxcIixlPVxcXCJoYlxcXCI9PT10P3k6ZyxpPU9iamVjdC52YWx1ZXMoZSl8fFtdO3JldHVybiBpfXZhciBrPVtcXFwiY29udGFpbmVyU3R5bGVcXFwiLFxcXCJpbWdTdHlsZVxcXCIsXFxcInRpdGxlU3R5bGVcXFwiLFxcXCJidXR0b25TdHlsZVxcXCIsXFxcImRlc2NTdHlsZVxcXCJdLHc9e2c6ZnVuY3Rpb24oKXtpZihcXFwib2JqZWN0XFxcIj09KFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZ2xvYmFsVGhpcz9cXFwidW5kZWZpbmVkXFxcIjpyKGdsb2JhbFRoaXMpKSlyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbihcXFwicmV0dXJuIHRoaXNcXFwiKSgpfWNhdGNoKHQpe2lmKFxcXCJvYmplY3RcXFwiPT0oXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiB3aW5kb3c/XFxcInVuZGVmaW5lZFxcXCI6cih3aW5kb3cpKSlyZXR1cm4gd2luZG93fX0oKX0seD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yody5nKXx8dy5nO2Z1bmN0aW9uIFMoKXtyZXR1cm4geCYmeC4kdG9wb25fc2RrP3guJHRvcG9uX3Nkay5hcGk6bnVsbH1mdW5jdGlvbiBUKHQsZSl7dmFyIGk9W107Zm9yKHZhciBuIGluIGUpaS5wdXNoKG4rXFxcIj1cXFwiK2Vbbl0pO3ZhciByPWkuam9pbihcXFwiJlxcXCIpO3JldHVybiByP1xcXCJcXFwiLmNvbmNhdCh0LFxcXCI/XFxcIikuY29uY2F0KHIpOnR9ZnVuY3Rpb24gQSh0LGUpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUtdCkpK3R9ZnVuY3Rpb24gRSh0LGUpe2Zvcih2YXIgaT1lLmxlbmd0aCxuPVtdLHI9MDtyPGk7cisrKXt2YXIgYT1lW3JdLmtleSxvPWVbcl0udmFsdWUsZD1cXFwiXFxcIi5jb25jYXQoYSxcXFwiPVxcXCIpLmNvbmNhdChvKTtuLnB1c2goZCl9cmV0dXJuIEwodCtuLmpvaW4oXFxcIiZcXFwiKSl9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gUygpLmpzQmFzZTY0LkJhc2U2NC5lbmNvZGUodCl9ZnVuY3Rpb24gRCh0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvXFxcXC8vZyxcXFwiXFxcXFxcXFwvXFxcIil9ZnVuY3Rpb24gTCh0KXtyZXR1cm4oMCxTKCkubWQ1KSh0KS50b1N0cmluZygpfWZ1bmN0aW9uIE8odCxpKXt2YXIgbj1lKHt9LHQpO3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdJiZ0W2VdPT09aVtlXXx8KG5bZV09aVtlXSl9KSksbn1mdW5jdGlvbiBSKCl7dmFyIHQsZT0obnVsbD09PSh0PWdsb2JhbCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubmF2aWdhdG9yKXx8e30saT1lLnVzZXJBZ2VudHx8XFxcIlxcXCIsbj1lLnZlbmRvcnx8XFxcIlxcXCI7cmV0dXJuXFxcIlxcXCIuY29uY2F0KGksXFxcIiBcXFwiKS5jb25jYXQobikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBQKHQsZSxpKXt2YXIgbj10Lm53RmlybUlkc3x8W107cmV0dXJuKHQudW5pdElkc3x8W10pLmluY2x1ZGVzKDEqaSk/OTAwNjpuLmluY2x1ZGVzKDEqZSk/OTAwNzowfWZ1bmN0aW9uIFUodCxlKXtlfHwoZT10aGlzLiRhcHAmJnRoaXMuJGFwcC4kZGVmLm1hbmlmZXN0LmNvbmZpZyYmdGhpcy4kYXBwLiRkZWYubWFuaWZlc3QuY29uZmlnLmRlc2lnbldpZHRoKTt2YXIgaT1wKGUpP2UvNzUwOjEsbj17fTtmb3IodmFyIHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKWlmKHRbcl0mJmYodFtyXSkpbltyXT1VLmNhbGwodGhpcyx0W3JdKTtlbHNlIGlmKGgodFtyXSkmJnRbcl0uZW5kc1dpdGgoXFxcInB4XFxcIikpe3ZhciBhPXBhcnNlSW50KHRbcl0uc3BsaXQoXFxcInB4XFxcIilbMF0sMTApO3AoYSkmJihuW3JdPWEqaStcXFwicHhcXFwiKX1lbHNlIG5bcl09dFtyXTtyZXR1cm4gbn1mdW5jdGlvbiAkKHQsZSl7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxuPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpLHI9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7aWYoaSlmb3IodmFyIGEgaW4gcilrLmluY2x1ZGVzKGEpfHxkZWxldGUgclthXTtmdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIG49ZVtpXTtpZihmKG4pKWZvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJihmKG5bcl0pP28odFtpXVtyXSxuW3JdKTohdFtpXXx8dFtpXVtyXSYmdFtpXVtyXT09PW5bcl18fCh0W2ldW3JdPW5bcl0pKTtlbHNlIHRbaV0mJnRbaV09PT1ufHwodFtpXT1uKX19cmV0dXJuIG8obixyKSxudWxsIT1uJiZuLmltZ1Byb3BlcnRpZXNTdHlsZSYmbnVsbCE9biYmbi5pbWdTdHlsZSYmKG4uaW1nUHJvcGVydGllc1N0eWxlPU9iamVjdC5hc3NpZ24oe30sbi5pbWdQcm9wZXJ0aWVzU3R5bGUsbi5pbWdTdHlsZSksZGVsZXRlIG4uaW1nUHJvcGVydGllc1N0eWxlLnBvc2l0aW9uKSxufWZ1bmN0aW9uIE4odCxlLGkpe3ZhciBuLHIsYSxvPW51bGwhPT0obj1udWxsIT09KHI9bnVsbD09PShhPXRoaXMuJGFwcCl8fHZvaWQgMD09PWE/dm9pZCAwOmEuJGRlZikmJnZvaWQgMCE9PXI/cjp0aGlzLiRkZWYpJiZ2b2lkIDAhPT1uP246bnVsbDtvJiZudWxsIT1vJiZvLnRvcG9uX3NkayYmKG8udG9wb25fc2RrLmNhY2hlW3RdfHwoby50b3Bvbl9zZGsuY2FjaGVbdF09T2JqZWN0LmNyZWF0ZShudWxsKSksby50b3Bvbl9zZGsuY2FjaGVbdF1bZV09aSl9ZnVuY3Rpb24gaih0LGUpe3ZhciBpLG4scixhLG8sZD1udWxsIT09KGk9bnVsbCE9PShuPW51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLiRkZWYpJiZ2b2lkIDAhPT1uP246dGhpcy4kZGVmKSYmdm9pZCAwIT09aT9pOm51bGw7cmV0dXJuIGQmJm51bGwhPWQmJmQudG9wb25fc2RrJiZudWxsIT09KGE9bnVsbD09PShvPWQudG9wb25fc2RrKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uY2FjaGVbdF0pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvW2VdKSYmdm9pZCAwIT09YT9hOm51bGx9ZnVuY3Rpb24gRih0LGUpe3ZhciBpLG4scixhLG8sZD1udWxsIT09KGk9bnVsbD09dD92b2lkIDA6dC53aWR0aCkmJnZvaWQgMCE9PWk/aTowLHM9bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQuaGVpZ2h0KSYmdm9pZCAwIT09bj9uOjAsbD1udWxsIT09KHI9bnVsbD09ZT92b2lkIDA6ZS5zY3JlZW5XaWR0aCkmJnZvaWQgMCE9PXI/cjo3NTAsYz1udWxsIT09KGE9bnVsbD09ZT92b2lkIDA6ZS5zY3JlZW5IZWlnaHQpJiZ2b2lkIDAhPT1hP2E6MTQxNSx1PShudWxsPT09KG89dGhpcy4kYXBwKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uJGRlZil8fHZvaWQgMD09PW98fG51bGw9PT0obz1vLm1hbmlmZXN0KXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uY29uZmlnKXx8dm9pZCAwPT09bz92b2lkIDA6by5kZXNpZ25XaWR0aCl8fDc1MDtyZXR1cm4gZCpzLyh1Kih1KihjL2wpKSl9ZnVuY3Rpb24gQih0KXt2YXIgZT10aGlzO251bGwhPXRoaXMmJnRoaXMuJG5leHRUaWNrP3RoaXMuJG5leHRUaWNrKChmdW5jdGlvbigpe3JldHVybiB0LmNhbGwoZSl9KSk6dm9pZCAwIT09KFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgUHJvbWlzZT9cXFwidW5kZWZpbmVkXFxcIjpyKFByb21pc2UpKT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKHQpOnNldFRpbWVvdXQodCwwKX12YXIgVz1cXFwiVE9QT05fQURfQ0FDSEVcXFwiLHE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7ZCh0aGlzLHQpLHRoaXMuX3N0b3JhZ2U9e319dmFyIGUsbixyLGE7cmV0dXJuIGwodCxbe2tleTpcXFwiX2dldEtleVxcXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZighZSlyZXR1cm4gdDt2YXIgaT1JKHQse3NlcGFyYXRvcjpcXFwiX1xcXCJ9KTtyZXR1cm4gaT1cXFwiXFxcIi5jb25jYXQoVyxcXFwiX1xcXCIpLmNvbmNhdChpLnRvVXBwZXJDYXNlKCkpfX0se2tleTpcXFwiYmF0Y2hcXFwiLHZhbHVlOihhPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhPXRoaXMsbz1hcmd1bWVudHM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj0hKG8ubGVuZ3RoPjEmJnZvaWQgMCE9PW9bMV0pfHxvWzFdLHI9W10sT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ci5wdXNoKGEuc2V0SXRlbSh0LGVbdF0sbikpfSkpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UuYWxsKHIpKTtjYXNlIDQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSksZnVuY3Rpb24odCl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcInNldEl0ZW1cXFwiLHZhbHVlOihyPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcixhLG8sZCxzPWFyZ3VtZW50cztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiByPSEocy5sZW5ndGg+MiYmdm9pZCAwIT09c1syXSl8fHNbMl0sYT10aGlzLl9nZXRLZXkoZSxyKSxvPVMoKSxkPW8uc3RvcmFnZSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixkLnNldCh7a2V5OmEsdmFsdWU6bn0pKTtjYXNlIDQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0LGUpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlxcXCJnZXRJdGVtXFxcIix2YWx1ZToobj1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYSxvLGQscyxsLGM9YXJndW1lbnRzO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9IShjLmxlbmd0aD4xJiZ2b2lkIDAhPT1jWzFdKXx8Y1sxXSxhPXRoaXMuX2dldEtleShlLHIpLG89UygpLGQ9by5zdG9yYWdlLHQubmV4dD01LGQuZ2V0KHtrZXk6YX0pO2Nhc2UgNTpyZXR1cm4gcz10LnNlbnQsbD1udWxsIT09KG49bnVsbD09cz92b2lkIDA6cy5kYXRhKSYmdm9pZCAwIT09bj9uOlxcXCJcXFwiLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLF8obCk/SlNPTi5wYXJzZShsKTpsKTtjYXNlIDg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0KXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcXFwiZGVsZXRlXFxcIix2YWx1ZTooZT1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYT1hcmd1bWVudHM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpuPSEoYS5sZW5ndGg+MSYmdm9pZCAwIT09YVsxXSl8fGFbMV0scj10aGlzLl9nZXRLZXkoZSxuKSxTKCkuc3RvcmFnZS5kZWxldGUoe2tleTpyfSk7Y2FzZSA0OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcImNsZWFyXFxcIix2YWx1ZTpmdW5jdGlvbigpe1MoKS5zdG9yYWdlLmNsZWFyKCl9fV0pLHR9KCksTT1uZXcgcSxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2QodGhpcyx0KSx0aGlzLl9kZXZpY2U9e319dmFyIGUsbixyLGEscztyZXR1cm4gbCh0LFt7a2V5OlxcXCJnZXRJbmZvXFxcIix2YWx1ZToocz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxuPVMoKSxyPW4uZGV2aWNlLHQubmV4dD00LHIuZ2V0SW5mbygpO2Nhc2UgNDpyZXR1cm4gYT10LnNlbnQsbz1udWxsIT09KGU9bnVsbD09YT92b2lkIDA6YS5kYXRhKSYmdm9pZCAwIT09ZT9lOnt9LHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLG8pO2Nhc2UgOTp0LnByZXY9OSx0LnQwPXQuY2F0Y2goMCk7Y2FzZSAxMTpyZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse30pO2Nhc2UgMTI6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1swLDldXSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcImdldEFkdmVydGlzaW5nSWRcXFwiLHZhbHVlOihhPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAscj1TKCksYT1yLmRldmljZSx0Lm5leHQ9NCxhLmdldEFkdmVydGlzaW5nSWQoKTtjYXNlIDQ6cmV0dXJuIG89dC5zZW50LGQ9bnVsbCE9PShlPW51bGw9PW98fG51bGw9PT0obj1vLmRhdGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmFkdmVydGlzaW5nSWQpJiZ2b2lkIDAhPT1lP2U6XFxcIlxcXCIsdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsZCk7Y2FzZSA5OnQucHJldj05LHQudDA9dC5jYXRjaCgwKTtjYXNlIDExOnJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixcXFwiXFxcIik7Y2FzZSAxMjpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzAsOV1dKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcXFwiZ2V0T2FJZFxcXCIsdmFsdWU6KHI9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxyPVMoKSxhPXIuZGV2aWNlLHQubmV4dD00LGEuZ2V0T0FJRCgpO2Nhc2UgNDpyZXR1cm4gbz10LnNlbnQsZD1udWxsIT09KGU9bnVsbD09b3x8bnVsbD09PShuPW8uZGF0YSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ub2FpZCkmJnZvaWQgMCE9PWU/ZTpcXFwiXFxcIix0LmFicnVwdChcXFwicmV0dXJuXFxcIixkKTtjYXNlIDk6dC5wcmV2PTksdC50MD10LmNhdGNoKDApO2Nhc2UgMTE6cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFxcXCJcXFwiKTtjYXNlIDEyOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMCw5XV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlxcXCJnZXRVc2VySWRcXFwiLHZhbHVlOihuPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAscj1TKCksYT1yLmRldmljZSx0Lm5leHQ9NCxhLmdldFVzZXJJZCgpO2Nhc2UgNDpyZXR1cm4gbz10LnNlbnQsZD1udWxsIT09KGU9bnVsbD09b3x8bnVsbD09PShuPW8uZGF0YSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udXNlcklkKSYmdm9pZCAwIT09ZT9lOlxcXCJcXFwiLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGQpO2Nhc2UgOTp0LnByZXY9OSx0LnQwPXQuY2F0Y2goMCk7Y2FzZSAxMTpyZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsXFxcIlxcXCIpO2Nhc2UgMTI6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1swLDldXSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XFxcImdldERldmljZUlkc1xcXCIsdmFsdWU6KGU9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGcseSxJLGIsayx3O3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGU9XFxcIlxcXCIsbj1cXFwiXFxcIixyPVxcXCJcXFwiLGE9XFxcIlxcXCIsbz1TKCksZD1vLmRldmljZSx0LnByZXY9Mix0Lm5leHQ9NSxNLmdldEl0ZW0oXFxcIm5lZWREZXZpY2VcXFwiKTtjYXNlIDU6aWYoXFxcIjFcXFwiIT10LnNlbnQpe3QubmV4dD0xNzticmVha31yZXR1cm4gdC5uZXh0PTksZC5nZXRJZCh7dHlwZTpbXFxcImRldmljZVxcXCIsXFxcIm1hY1xcXCIsXFxcInVzZXJcXFwiXX0pO2Nhc2UgOTpwPXQuc2VudCxmPW51bGwhPT0ocz1udWxsPT1wP3ZvaWQgMDpwLmRhdGEpJiZ2b2lkIDAhPT1zP3M6e30sZT1udWxsIT09KGw9bnVsbD09Zj92b2lkIDA6Zi5hZHZlcnRpc2luZykmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIixuPW51bGwhPT0oYz1udWxsPT1mP3ZvaWQgMDpmLnVzZXIpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIscj1udWxsIT09KHU9bnVsbD09Zj92b2lkIDA6Zi5kZXZpY2UpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCIsYT1udWxsIT09KGg9bnVsbD09Zj92b2lkIDA6Zi5tYWMpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsdC5uZXh0PTMwO2JyZWFrO2Nhc2UgMTc6cmV0dXJuIHQubmV4dD0xOSxkLmdldFVzZXJJZCgpO2Nhc2UgMTk6cmV0dXJuIF89dC5zZW50LG49bnVsbCE9PSh2PW51bGw9PV98fG51bGw9PT0obT1fLmRhdGEpfHx2b2lkIDA9PT1tP3ZvaWQgMDptLnVzZXJJZCkmJnZvaWQgMCE9PXY/djpcXFwiXFxcIix0LnByZXY9MjEsdC5uZXh0PTI0LGQuZ2V0QWR2ZXJ0aXNpbmdJZCgpO2Nhc2UgMjQ6ST10LnNlbnQsZT1udWxsIT09KGc9bnVsbD09SXx8bnVsbD09PSh5PUkuZGF0YSl8fHZvaWQgMD09PXk/dm9pZCAwOnkuYWR2ZXJ0aXNpbmdJZCkmJnZvaWQgMCE9PWc/ZzpcXFwiXFxcIix0Lm5leHQ9MzA7YnJlYWs7Y2FzZSAyODp0LnByZXY9MjgsdC50MD10LmNhdGNoKDIxKTtjYXNlIDMwOnQubmV4dD0zOTticmVhaztjYXNlIDMyOnJldHVybiB0LnByZXY9MzIsdC50MT10LmNhdGNoKDIpLDIwMT09PXQudDEuY29kZSYmTS5zZXRJdGVtKFxcXCJuZWVkRGV2aWNlXFxcIixcXFwiMFxcXCIpLHQubmV4dD0zNyxkLmdldFVzZXJJZCgpO2Nhc2UgMzc6dz10LnNlbnQsbj1udWxsIT09KGI9bnVsbD09d3x8bnVsbD09PShrPXcuZGF0YSl8fHZvaWQgMD09PWs/dm9pZCAwOmsudXNlcklkKSYmdm9pZCAwIT09Yj9iOlxcXCJcXFwiO2Nhc2UgMzk6cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtkZXZpY2U6cixtYWM6YSx1c2VyOm4sYWR2ZXJ0aXNpbmc6ZX0pO2Nhc2UgNDA6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1syLDMyXSxbMjEsMjhdXSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksdH0oKSxIPW5ldyBWO2Z1bmN0aW9uIEcoKXtyZXR1cm4gWS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWSgpe3JldHVybihZPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQscyxsLGMsdTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiByPVxcXCJ1cElkXFxcIixhPVxcXCJcXFwiLHQubmV4dD00LE0uZ2V0SXRlbShyKTtjYXNlIDQ6aWYobz10LnNlbnQsW1xcXCJkNDFkOGNkOThmMDBiMjA0ZTk4MDA5OThlY2Y4NDI3ZVxcXCIsXFxcIjlmODljODRhNTU5ZjU3MzYzNmE0N2ZmOGRhZWQwZDMzXFxcIl0uaW5jbHVkZXMoYT1vKSYmKGE9XFxcIlxcXCIsTS5kZWxldGUocikpLCFhKXt0Lm5leHQ9OTticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsYSk7Y2FzZSA5OnJldHVybiB0Lm5leHQ9MTEsSC5nZXREZXZpY2VJZHMoKTtjYXNlIDExOnJldHVybiBkPXQuc2VudCx0Lm5leHQ9MTQsSC5nZXRPYUlkKCk7Y2FzZSAxNDppZih0LnQwPXQuc2VudCx0LnQwKXt0Lm5leHQ9MTc7YnJlYWt9dC50MD1cXFwiXFxcIjtjYXNlIDE3OmlmKHM9dC50MCxsPW51bGwhPT0oZT1udWxsPT1kP3ZvaWQgMDpkLmFkdmVydGlzaW5nKSYmdm9pZCAwIT09ZT9lOlxcXCJcXFwiLGM9bnVsbCE9PShuPW51bGw9PWQ/dm9pZCAwOmQudXNlcikmJnZvaWQgMCE9PW4/bjpcXFwiXFxcIiwhbCl7dC5uZXh0PTI0O2JyZWFrfWE9TChsKSx0Lm5leHQ9MzY7YnJlYWs7Y2FzZSAyNDppZighc3x8XFxcIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMFxcXCI9PT1zKXt0Lm5leHQ9Mjg7YnJlYWt9YT1MKHMpLHQubmV4dD0zNjticmVhaztjYXNlIDI4OmlmKCFjKXt0Lm5leHQ9MzI7YnJlYWt9YT1MKGMpLHQubmV4dD0zNjticmVhaztjYXNlIDMyOnJldHVybiB0Lm5leHQ9MzQsTS5nZXRJdGVtKFxcXCJhcHBJZFxcXCIpO2Nhc2UgMzQ6dT10LnNlbnQsYT1MKHUrRGF0ZS5ub3coKStBKDAsMWU4KSk7Y2FzZSAzNjpyZXR1cm4gdC5uZXh0PTM4LE0uc2V0SXRlbShyLGEpO2Nhc2UgMzg6cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGEpO2Nhc2UgMzk6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBLKCl7cmV0dXJuIHouYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHooKXtyZXR1cm4oej1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGE7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsRygpO2Nhc2UgMjpyZXR1cm4gZT10LnNlbnQsdC5uZXh0PTUsTS5nZXRJdGVtKFxcXCJhcHBJZFxcXCIpO2Nhc2UgNTpyZXR1cm4gbj10LnNlbnQsdC5uZXh0PTgsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDg6cmV0dXJuIHI9dC5zZW50LGE9TChlK24rciksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsYSk7Y2FzZSAxMTpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFgodCl7cmV0dXJuIFEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFEoKXtyZXR1cm4oUT1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0Lm5leHQ9MixHKCk7Y2FzZSAyOnJldHVybiBuPXQuc2VudCxyPURhdGUubm93KCksYT1MKG4rZStyKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixhKTtjYXNlIDY6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBKKCl7cmV0dXJuIFouYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFooKXtyZXR1cm4oWj1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsdjtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiByPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHQubmV4dD0zLEguZ2V0RGV2aWNlSWRzKCk7Y2FzZSAzOnJldHVybiBhPXQuc2VudCx0Lm5leHQ9NixHKCk7Y2FzZSA2OmZvcihvPXQuc2VudCxkPW51bGwhPT0oZT1udWxsPT1hP3ZvaWQgMDphLnVzZXIpJiZ2b2lkIDAhPT1lP2U6XFxcIlxcXCIscz1udWxsIT09KG49bnVsbD09YT92b2lkIDA6YS5hZHZlcnRpc2luZykmJnZvaWQgMCE9PW4/bjpcXFwiXFxcIixsPVtkLHMsbyxyXSxjPUEoMCwxZTQpLHU9bC5sZW5ndGgsaD1bXSxwPTA7cDx1O3ArKyloLnB1c2gobFtwXSk7cmV0dXJuIGgucHVzaChjKSxmPWguam9pbihcXFwiJlxcXCIpLHY9TChmKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIix2KTtjYXNlIDE4OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHR0PWUoe30sZyksZXQ9ZSh7fSx5KSxpdD17NTQ6XFxcInVuaXRfaWRcXFwiLDU1OlxcXCJ1bml0X2lkXFxcIiw1NjpcXFwicGxhY2VtZW50X2lkXFxcIiw2MDpcXFwiYWRfaWRcXFwiLDYxOlxcXCJ1bml0X2lkXFxcIiw2MjpcXFwiYWRfaWRcXFwiLDYzOlxcXCJ1bml0X2lkXFxcIiw2NDpcXFwidW5pdF9pZFxcXCJ9LG50PXtcXFwiMmdcXFwiOlxcXCIxXFxcIixcXFwiM2dcXFwiOlxcXCIzXFxcIixcXFwiNGdcXFwiOlxcXCIxM1xcXCIsXFxcIjVnXFxcIjpcXFwiMTVcXFwiLHdpZmk6XFxcIi0yXFxcIixub25lOlxcXCItMVxcXCJ9LHJ0PW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtkKHRoaXMsdCksdGhpcy5jb2RlPXs1NDp7bG9hZDpbMWUzLDEwMDEsMTAwMiwxMDAzLDEwMDQsMTAwNSwxMDA2LDEwMDcsMTAwOCwxMDA5LDExMDAsMTEwMiwxMTAzLDExMDQsMmUzLDllMyw5MDAxLDkwMDYsOTAwN10sbG9hZGluZzpbMTEwNV0sc2hvdzpbMTEwMSwxMTA2XX0sNTU6e2xvYWQ6WzFlMywxMDAxLDEwMDIsMTAwMywxMDA0LDEwMDUsMTAwNiwxMDA3LDEwMDgsMTAwOSwxMTAwLDExMDIsMTEwMywxMTA0LDExMDUsMmUzLDllMyw5MDAxLDkwMDYsOTAwN10sbG9hZGluZzpbOGUzXSxzaG93OlsxMTAxLDExMDZdfSw1Njp7bG9hZDpbXFxcImVycm9yXFxcIixcXFwiYWRFcnJvclxcXCIsOWUzLDkwMDEsOTAwNiw5MDA3XSxsb2FkaW5nOltdLHNob3c6W1xcXCJlcnJvclxcXCIsMTEwMV19LDYwOntsb2FkOlsxZTMsMTAwMSwxMDAyLDEwMDMsMTAwNCwxMDA1LDEwMDYsMTAwNywxMDA4LDEwMDksMTEwMCwxMTAyLDExMDMsMTEwNCwxMTA1LDJlMyw5ZTMsOTAwMSw5MDA2LDkwMDddLGxvYWRpbmc6WzhlM10sc2hvdzpbMTEwMSwxMTA2XX0sNjE6e2xvYWQ6WzFlMywxMDAxLDEwMDIsMTAwMywxMDA0LDEwMDUsMTAwNiwxMDA3LDEwMDgsMTAwOSwxMTAwLDExMDIsMTEwMywxMTA0LDExMDUsMmUzLDllMyw5MDAxLDkwMDYsOTAwN10sbG9hZGluZzpbOGUzXSxzaG93OlsxMTAxLDExMDZdfSw2Mjp7bG9hZDpbMWUzLDEwMDEsMTAwMiwxMDAzLDEwMDQsMTAwNSwxMDA2LDEwMDcsMTAwOCwxMDA5LDExMDAsMTEwMiwxMTAzLDExMDQsMTEwNSwyZTMsOWUzLDkwMDEsOTAwNiw5MDA3XSxsb2FkaW5nOls4ZTNdLHNob3c6WzExMDEsMTEwNl19LDYzOntsb2FkOlsxZTMsMTAwMSwxMDAyLDEwMDMsMTAwNF0sbG9hZGluZzpbXSxzaG93OltdfSw2NDp7bG9hZDpbMTAwMSwxMDA0LDExMDBdLGxvYWRpbmc6W10sc2hvdzpbXX0sNjY6e2xvYWQ6WzkwMDYsOTAwNyw5MDA4XSxsb2FkaW5nOltdLHNob3c6WzExMDFdfX19cmV0dXJuIGwodCxbe2tleTpcXFwiY29kZVRvRXZlbnRcXFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixyLGE9aXNOYU4oZSk/ZToxKmU7cmV0dXJuIG51bGwhPT0oaT10aGlzLmNvZGVbdF0pJiZ2b2lkIDAhPT1pJiZudWxsIT09KGk9aS5sb2FkKSYmdm9pZCAwIT09aSYmaS5pbmNsdWRlcyhhKT9cXFwibG9hZFxcXCI6bnVsbCE9PShuPXRoaXMuY29kZVt0XSkmJnZvaWQgMCE9PW4mJm51bGwhPT0obj1uLmxvYWRpbmcpJiZ2b2lkIDAhPT1uJiZuLmluY2x1ZGVzKGEpP1xcXCJsb2FkaW5nXFxcIjpudWxsIT09KHI9dGhpcy5jb2RlW3RdKSYmdm9pZCAwIT09ciYmbnVsbCE9PShyPXIuc2hvdykmJnZvaWQgMCE9PXImJnIuaW5jbHVkZXMoYSk/XFxcInNob3dcXFwiOlxcXCJ1bmtub3duXFxcIn19XSksdH0oKSksYXQ9ezEwMDEzMzoxMDAxLDEzNjAwMToxMDAxLDEzNjAwMjoxMDAxLDEzNjAwNDoxMDAxLDEwMjAwNjoxMDA0LDEwOTUwMjoxMTAwfSxvdD1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O3ZhciBkdD1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W10sdGhpcy5zaXplPTB9O3ZhciBzdD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZXx8dCE9dCYmZSE9ZX0sbHQ9c3Q7dmFyIGN0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQubGVuZ3RoO2ktLTspaWYobHQodFtpXVswXSxlKSlyZXR1cm4gaTtyZXR1cm4tMX0sdXQ9Y3QsaHQ9QXJyYXkucHJvdG90eXBlLnNwbGljZTt2YXIgcHQ9Y3Q7dmFyIGZ0PWN0O3ZhciB2dD1jdDt2YXIgbXQ9ZHQsX3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxpPXV0KGUsdCk7cmV0dXJuIShpPDApJiYoaT09ZS5sZW5ndGgtMT9lLnBvcCgpOmh0LmNhbGwoZSxpLDEpLC0tdGhpcy5zaXplLCEwKX0sZ3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxpPXB0KGUsdCk7cmV0dXJuIGk8MD92b2lkIDA6ZVtpXVsxXX0seXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ0KHRoaXMuX19kYXRhX18sdCk+LTF9LEl0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fX2RhdGFfXyxuPXZ0KGksdCk7cmV0dXJuIG48MD8oKyt0aGlzLnNpemUsaS5wdXNoKFt0LGVdKSk6aVtuXVsxXT1lLHRoaXN9O2Z1bmN0aW9uIGJ0KHQpe3ZhciBlPS0xLGk9bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPGk7KXt2YXIgbj10W2VdO3RoaXMuc2V0KG5bMF0sblsxXSl9fWJ0LnByb3RvdHlwZS5jbGVhcj1tdCxidC5wcm90b3R5cGUuZGVsZXRlPV90LGJ0LnByb3RvdHlwZS5nZXQ9Z3QsYnQucHJvdG90eXBlLmhhcz15dCxidC5wcm90b3R5cGUuc2V0PUl0O3ZhciBrdD1idCx3dD1rdDt2YXIgeHQ9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPW5ldyB3dCx0aGlzLnNpemU9MH07dmFyIFN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18saT1lLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplPWUuc2l6ZSxpfTt2YXIgVHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KHQpfTt2YXIgQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfSxFdD1cXFwib2JqZWN0XFxcIj09dHlwZW9mIG90JiZvdCYmb3QuT2JqZWN0PT09T2JqZWN0JiZvdCxDdD1FdCxEdD1cXFwib2JqZWN0XFxcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLEx0PUN0fHxEdHx8RnVuY3Rpb24oXFxcInJldHVybiB0aGlzXFxcIikoKSxPdD1MdC5TeW1ib2wsUnQ9T3QsUHQ9T2JqZWN0LnByb3RvdHlwZSxVdD1QdC5oYXNPd25Qcm9wZXJ0eSwkdD1QdC50b1N0cmluZyxOdD1SdD9SdC50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIGp0PWZ1bmN0aW9uKHQpe3ZhciBlPVV0LmNhbGwodCxOdCksaT10W050XTt0cnl7dFtOdF09dm9pZCAwO3ZhciBuPSEwfWNhdGNoKHQpe312YXIgcj0kdC5jYWxsKHQpO3JldHVybiBuJiYoZT90W050XT1pOmRlbGV0ZSB0W050XSkscn0sRnQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt2YXIgQnQ9anQsV3Q9ZnVuY3Rpb24odCl7cmV0dXJuIEZ0LmNhbGwodCl9LHF0PU90P090LnRvU3RyaW5nVGFnOnZvaWQgMDt2YXIgTXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD9cXFwiW29iamVjdCBVbmRlZmluZWRdXFxcIjpcXFwiW29iamVjdCBOdWxsXVxcXCI6cXQmJnF0IGluIE9iamVjdCh0KT9CdCh0KTpXdCh0KX07dmFyIFZ0PWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiBudWxsIT10JiYoXFxcIm9iamVjdFxcXCI9PWV8fFxcXCJmdW5jdGlvblxcXCI9PWUpfSxIdD1NdCxHdD1WdDt2YXIgWXQsS3Q9ZnVuY3Rpb24odCl7aWYoIUd0KHQpKXJldHVybiExO3ZhciBlPUh0KHQpO3JldHVyblxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCI9PWV8fFxcXCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVxcXCI9PWV8fFxcXCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXFxcIj09ZXx8XFxcIltvYmplY3QgUHJveHldXFxcIj09ZX0senQ9THRbXFxcIl9fY29yZS1qc19zaGFyZWRfX1xcXCJdLFh0PShZdD0vW14uXSskLy5leGVjKHp0JiZ6dC5rZXlzJiZ6dC5rZXlzLklFX1BST1RPfHxcXFwiXFxcIikpP1xcXCJTeW1ib2woc3JjKV8xLlxcXCIrWXQ6XFxcIlxcXCI7dmFyIFF0PWZ1bmN0aW9uKHQpe3JldHVybiEhWHQmJlh0IGluIHR9LEp0PUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZzt2YXIgWnQ9ZnVuY3Rpb24odCl7aWYobnVsbCE9dCl7dHJ5e3JldHVybiBKdC5jYWxsKHQpfWNhdGNoKHQpe310cnl7cmV0dXJuIHQrXFxcIlxcXCJ9Y2F0Y2godCl7fX1yZXR1cm5cXFwiXFxcIn0sdGU9S3QsZWU9UXQsaWU9VnQsbmU9WnQscmU9L15cXFxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXFxdJC8sYWU9RnVuY3Rpb24ucHJvdG90eXBlLG9lPU9iamVjdC5wcm90b3R5cGUsZGU9YWUudG9TdHJpbmcsc2U9b2UuaGFzT3duUHJvcGVydHksbGU9UmVnRXhwKFxcXCJeXFxcIitkZS5jYWxsKHNlKS5yZXBsYWNlKC9bXFxcXFxcXFxeJC4qKz8oKVtcXFxcXXt9fF0vZyxcXFwiXFxcXFxcXFwkJlxcXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFxcXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXFxcXFxcXF0pL2csXFxcIiQxLio/XFxcIikrXFxcIiRcXFwiKTt2YXIgY2U9ZnVuY3Rpb24odCl7cmV0dXJuISghaWUodCl8fGVlKHQpKSYmKHRlKHQpP2xlOnJlKS50ZXN0KG5lKHQpKX0sdWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX07dmFyIGhlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dWUodCxlKTtyZXR1cm4gY2UoaSk/aTp2b2lkIDB9LHBlPWhlKEx0LFxcXCJNYXBcXFwiKSxmZT1oZShPYmplY3QsXFxcImNyZWF0ZVxcXCIpLHZlPWZlO3ZhciBtZT1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189dmU/dmUobnVsbCk6e30sdGhpcy5zaXplPTB9O3ZhciBfZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmhhcyh0KSYmZGVsZXRlIHRoaXMuX19kYXRhX19bdF07cmV0dXJuIHRoaXMuc2l6ZS09ZT8xOjAsZX0sZ2U9ZmUseWU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgSWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztpZihnZSl7dmFyIGk9ZVt0XTtyZXR1cm5cXFwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1xcXCI9PT1pP3ZvaWQgMDppfXJldHVybiB5ZS5jYWxsKGUsdCk/ZVt0XTp2b2lkIDB9LGJlPWZlLGtlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIHdlPWZlO3ZhciB4ZT1tZSxTZT1fZSxUZT1JZSxBZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO3JldHVybiBiZT92b2lkIDAhPT1lW3RdOmtlLmNhbGwoZSx0KX0sRWU9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9fZGF0YV9fO3JldHVybiB0aGlzLnNpemUrPXRoaXMuaGFzKHQpPzA6MSxpW3RdPXdlJiZ2b2lkIDA9PT1lP1xcXCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXFxcIjplLHRoaXN9O2Z1bmN0aW9uIENlKHQpe3ZhciBlPS0xLGk9bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPGk7KXt2YXIgbj10W2VdO3RoaXMuc2V0KG5bMF0sblsxXSl9fUNlLnByb3RvdHlwZS5jbGVhcj14ZSxDZS5wcm90b3R5cGUuZGVsZXRlPVNlLENlLnByb3RvdHlwZS5nZXQ9VGUsQ2UucHJvdG90eXBlLmhhcz1BZSxDZS5wcm90b3R5cGUuc2V0PUVlO3ZhciBEZT1DZSxMZT1rdCxPZT1wZTt2YXIgUmU9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXFxcInN0cmluZ1xcXCI9PWV8fFxcXCJudW1iZXJcXFwiPT1lfHxcXFwic3ltYm9sXFxcIj09ZXx8XFxcImJvb2xlYW5cXFwiPT1lP1xcXCJfX3Byb3RvX19cXFwiIT09dDpudWxsPT09dH07dmFyIFBlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5fX2RhdGFfXztyZXR1cm4gUmUoZSk/aVtcXFwic3RyaW5nXFxcIj09dHlwZW9mIGU/XFxcInN0cmluZ1xcXCI6XFxcImhhc2hcXFwiXTppLm1hcH0sVWU9UGU7dmFyICRlPVBlO3ZhciBOZT1QZTt2YXIgamU9UGU7dmFyIEZlPWZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgRGUsbWFwOm5ldyhPZXx8TGUpLHN0cmluZzpuZXcgRGV9fSxCZT1mdW5jdGlvbih0KXt2YXIgZT1VZSh0aGlzLHQpLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfSxXZT1mdW5jdGlvbih0KXtyZXR1cm4gJGUodGhpcyx0KS5nZXQodCl9LHFlPWZ1bmN0aW9uKHQpe3JldHVybiBOZSh0aGlzLHQpLmhhcyh0KX0sTWU9ZnVuY3Rpb24odCxlKXt2YXIgaT1qZSh0aGlzLHQpLG49aS5zaXplO3JldHVybiBpLnNldCh0LGUpLHRoaXMuc2l6ZSs9aS5zaXplPT1uPzA6MSx0aGlzfTtmdW5jdGlvbiBWZSh0KXt2YXIgZT0tMSxpPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxpOyl7dmFyIG49dFtlXTt0aGlzLnNldChuWzBdLG5bMV0pfX1WZS5wcm90b3R5cGUuY2xlYXI9RmUsVmUucHJvdG90eXBlLmRlbGV0ZT1CZSxWZS5wcm90b3R5cGUuZ2V0PVdlLFZlLnByb3RvdHlwZS5oYXM9cWUsVmUucHJvdG90eXBlLnNldD1NZTt2YXIgSGU9a3QsR2U9cGUsWWU9VmU7dmFyIEtlPWt0LHplPXh0LFhlPVN0LFFlPVR0LEplPUF0LFplPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fX2RhdGFfXztpZihpIGluc3RhbmNlb2YgSGUpe3ZhciBuPWkuX19kYXRhX187aWYoIUdlfHxuLmxlbmd0aDwxOTkpcmV0dXJuIG4ucHVzaChbdCxlXSksdGhpcy5zaXplPSsraS5zaXplLHRoaXM7aT10aGlzLl9fZGF0YV9fPW5ldyBZZShuKX1yZXR1cm4gaS5zZXQodCxlKSx0aGlzLnNpemU9aS5zaXplLHRoaXN9O2Z1bmN0aW9uIHRpKHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IEtlKHQpO3RoaXMuc2l6ZT1lLnNpemV9dGkucHJvdG90eXBlLmNsZWFyPXplLHRpLnByb3RvdHlwZS5kZWxldGU9WGUsdGkucHJvdG90eXBlLmdldD1RZSx0aS5wcm90b3R5cGUuaGFzPUplLHRpLnByb3RvdHlwZS5zZXQ9WmU7dmFyIGVpPXRpO3ZhciBpaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK2k8biYmITEhPT1lKHRbaV0saSx0KTspO3JldHVybiB0fSxuaT1oZSxyaT1mdW5jdGlvbigpe3RyeXt2YXIgdD1uaShPYmplY3QsXFxcImRlZmluZVByb3BlcnR5XFxcIik7cmV0dXJuIHQoe30sXFxcIlxcXCIse30pLHR9Y2F0Y2godCl7fX0oKTt2YXIgYWk9ZnVuY3Rpb24odCxlLGkpe1xcXCJfX3Byb3RvX19cXFwiPT1lJiZyaT9yaSh0LGUse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmksd3JpdGFibGU6ITB9KTp0W2VdPWl9LG9pPWFpLGRpPXN0LHNpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGxpPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10W2VdO3NpLmNhbGwodCxlKSYmZGkobixpKSYmKHZvaWQgMCE9PWl8fGUgaW4gdCl8fG9pKHQsZSxpKX0sY2k9bGksdWk9YWk7dmFyIGhpPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciByPSFpO2l8fChpPXt9KTtmb3IodmFyIGE9LTEsbz1lLmxlbmd0aDsrK2E8bzspe3ZhciBkPWVbYV0scz1uP24oaVtkXSx0W2RdLGQsaSx0KTp2b2lkIDA7dm9pZCAwPT09cyYmKHM9dFtkXSkscj91aShpLGQscyk6Y2koaSxkLHMpfXJldHVybiBpfTt2YXIgcGk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9LTEsbj1BcnJheSh0KTsrK2k8dDspbltpXT1lKGkpO3JldHVybiBufTt2YXIgZmk9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgdH0sdmk9TXQsbWk9Zmk7dmFyIF9pPWZ1bmN0aW9uKHQpe3JldHVybiBtaSh0KSYmXFxcIltvYmplY3QgQXJndW1lbnRzXVxcXCI9PXZpKHQpfSxnaT1maSx5aT1PYmplY3QucHJvdG90eXBlLElpPXlpLmhhc093blByb3BlcnR5LGJpPXlpLnByb3BlcnR5SXNFbnVtZXJhYmxlLGtpPV9pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/X2k6ZnVuY3Rpb24odCl7cmV0dXJuIGdpKHQpJiZJaS5jYWxsKHQsXFxcImNhbGxlZVxcXCIpJiYhYmkuY2FsbCh0LFxcXCJjYWxsZWVcXFwiKX0sd2k9a2kseGk9QXJyYXkuaXNBcnJheSxTaT17fTt2YXIgVGk9ZnVuY3Rpb24oKXtyZXR1cm4hMX07IWZ1bmN0aW9uKHQsZSl7dmFyIGk9THQsbj1UaSxyPWUmJiFlLm5vZGVUeXBlJiZlLGE9ciYmdCYmIXQubm9kZVR5cGUmJnQsbz1hJiZhLmV4cG9ydHM9PT1yP2kuQnVmZmVyOnZvaWQgMCxkPShvP28uaXNCdWZmZXI6dm9pZCAwKXx8bjt0LmV4cG9ydHM9ZH0oe2dldCBleHBvcnRzKCl7cmV0dXJuIFNpfSxzZXQgZXhwb3J0cyh0KXtTaT10fX0sU2kpO3ZhciBBaT0vXig/OjB8WzEtOV1cXFxcZCopJC87dmFyIEVpPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dHlwZW9mIHQ7cmV0dXJuISEoZT1udWxsPT1lPzkwMDcxOTkyNTQ3NDA5OTE6ZSkmJihcXFwibnVtYmVyXFxcIj09aXx8XFxcInN5bWJvbFxcXCIhPWkmJkFpLnRlc3QodCkpJiZ0Pi0xJiZ0JTE9PTAmJnQ8ZX07dmFyIENpPWZ1bmN0aW9uKHQpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgdCYmdD4tMSYmdCUxPT0wJiZ0PD05MDA3MTk5MjU0NzQwOTkxfSxEaT1NdCxMaT1DaSxPaT1maSxSaT17fTtSaVtcXFwiW29iamVjdCBGbG9hdDMyQXJyYXldXFxcIl09UmlbXFxcIltvYmplY3QgRmxvYXQ2NEFycmF5XVxcXCJdPVJpW1xcXCJbb2JqZWN0IEludDhBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBJbnQxNkFycmF5XVxcXCJdPVJpW1xcXCJbb2JqZWN0IEludDMyQXJyYXldXFxcIl09UmlbXFxcIltvYmplY3QgVWludDhBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBVaW50MTZBcnJheV1cXFwiXT1SaVtcXFwiW29iamVjdCBVaW50MzJBcnJheV1cXFwiXT0hMCxSaVtcXFwiW29iamVjdCBBcmd1bWVudHNdXFxcIl09UmlbXFxcIltvYmplY3QgQXJyYXldXFxcIl09UmlbXFxcIltvYmplY3QgQXJyYXlCdWZmZXJdXFxcIl09UmlbXFxcIltvYmplY3QgQm9vbGVhbl1cXFwiXT1SaVtcXFwiW29iamVjdCBEYXRhVmlld11cXFwiXT1SaVtcXFwiW29iamVjdCBEYXRlXVxcXCJdPVJpW1xcXCJbb2JqZWN0IEVycm9yXVxcXCJdPVJpW1xcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCJdPVJpW1xcXCJbb2JqZWN0IE1hcF1cXFwiXT1SaVtcXFwiW29iamVjdCBOdW1iZXJdXFxcIl09UmlbXFxcIltvYmplY3QgT2JqZWN0XVxcXCJdPVJpW1xcXCJbb2JqZWN0IFJlZ0V4cF1cXFwiXT1SaVtcXFwiW29iamVjdCBTZXRdXFxcIl09UmlbXFxcIltvYmplY3QgU3RyaW5nXVxcXCJdPVJpW1xcXCJbb2JqZWN0IFdlYWtNYXBdXFxcIl09ITE7dmFyIFBpPWZ1bmN0aW9uKHQpe3JldHVybiBPaSh0KSYmTGkodC5sZW5ndGgpJiYhIVJpW0RpKHQpXX07dmFyIFVpPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChlKX19LCRpPXt9OyFmdW5jdGlvbih0LGUpe3ZhciBpPUV0LG49ZSYmIWUubm9kZVR5cGUmJmUscj1uJiZ0JiYhdC5ub2RlVHlwZSYmdCxhPXImJnIuZXhwb3J0cz09PW4mJmkucHJvY2VzcyxvPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PXImJnIucmVxdWlyZSYmci5yZXF1aXJlKFxcXCJ1dGlsXFxcIikudHlwZXM7cmV0dXJuIHR8fGEmJmEuYmluZGluZyYmYS5iaW5kaW5nKFxcXCJ1dGlsXFxcIil9Y2F0Y2godCl7fX0oKTt0LmV4cG9ydHM9b30oe2dldCBleHBvcnRzKCl7cmV0dXJuICRpfSxzZXQgZXhwb3J0cyh0KXskaT10fX0sJGkpO3ZhciBOaT1QaSxqaT1VaSxGaT0kaSYmJGkuaXNUeXBlZEFycmF5LEJpPUZpP2ppKEZpKTpOaSxXaT1waSxxaT13aSxNaT14aSxWaT1TaSxIaT1FaSxHaT1CaSxZaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBLaT1mdW5jdGlvbih0LGUpe3ZhciBpPU1pKHQpLG49IWkmJnFpKHQpLHI9IWkmJiFuJiZWaSh0KSxhPSFpJiYhbiYmIXImJkdpKHQpLG89aXx8bnx8cnx8YSxkPW8/V2kodC5sZW5ndGgsU3RyaW5nKTpbXSxzPWQubGVuZ3RoO2Zvcih2YXIgbCBpbiB0KSFlJiYhWWkuY2FsbCh0LGwpfHxvJiYoXFxcImxlbmd0aFxcXCI9PWx8fHImJihcXFwib2Zmc2V0XFxcIj09bHx8XFxcInBhcmVudFxcXCI9PWwpfHxhJiYoXFxcImJ1ZmZlclxcXCI9PWx8fFxcXCJieXRlTGVuZ3RoXFxcIj09bHx8XFxcImJ5dGVPZmZzZXRcXFwiPT1sKXx8SGkobCxzKSl8fGQucHVzaChsKTtyZXR1cm4gZH0semk9T2JqZWN0LnByb3RvdHlwZTt2YXIgWGk9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PShcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZSYmZS5wcm90b3R5cGV8fHppKX07dmFyIFFpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiB0KGUoaSkpfX0sSmk9UWkoT2JqZWN0LmtleXMsT2JqZWN0KSxaaT1YaSx0bj1KaSxlbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBubj1LdCxybj1DaTt2YXIgYW49ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJnJuKHQubGVuZ3RoKSYmIW5uKHQpfSxvbj1LaSxkbj1mdW5jdGlvbih0KXtpZighWmkodCkpcmV0dXJuIHRuKHQpO3ZhciBlPVtdO2Zvcih2YXIgaSBpbiBPYmplY3QodCkpZW4uY2FsbCh0LGkpJiZcXFwiY29uc3RydWN0b3JcXFwiIT1pJiZlLnB1c2goaSk7cmV0dXJuIGV9LHNuPWFuO3ZhciBsbj1mdW5jdGlvbih0KXtyZXR1cm4gc24odCk/b24odCk6ZG4odCl9LGNuPWhpLHVuPWxuO3ZhciBobj1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZjbihlLHVuKGUpLHQpfTt2YXIgcG49VnQsZm49WGksdm49ZnVuY3Rpb24odCl7dmFyIGU9W107aWYobnVsbCE9dClmb3IodmFyIGkgaW4gT2JqZWN0KHQpKWUucHVzaChpKTtyZXR1cm4gZX0sbW49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgX249S2ksZ249ZnVuY3Rpb24odCl7aWYoIXBuKHQpKXJldHVybiB2bih0KTt2YXIgZT1mbih0KSxpPVtdO2Zvcih2YXIgbiBpbiB0KShcXFwiY29uc3RydWN0b3JcXFwiIT1ufHwhZSYmbW4uY2FsbCh0LG4pKSYmaS5wdXNoKG4pO3JldHVybiBpfSx5bj1hbjt2YXIgSW49ZnVuY3Rpb24odCl7cmV0dXJuIHluKHQpP19uKHQsITApOmduKHQpfSxibj1oaSxrbj1Jbjt2YXIgd249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmYm4oZSxrbihlKSx0KX0seG49e307IWZ1bmN0aW9uKHQsZSl7dmFyIGk9THQsbj1lJiYhZS5ub2RlVHlwZSYmZSxyPW4mJnQmJiF0Lm5vZGVUeXBlJiZ0LGE9ciYmci5leHBvcnRzPT09bj9pLkJ1ZmZlcjp2b2lkIDAsbz1hP2EuYWxsb2NVbnNhZmU6dm9pZCAwO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHQuc2xpY2UoKTt2YXIgaT10Lmxlbmd0aCxuPW8/byhpKTpuZXcgdC5jb25zdHJ1Y3RvcihpKTtyZXR1cm4gdC5jb3B5KG4pLG59fSh7Z2V0IGV4cG9ydHMoKXtyZXR1cm4geG59LHNldCBleHBvcnRzKHQpe3huPXR9fSx4bik7dmFyIFNuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9LTEsbj10Lmxlbmd0aDtmb3IoZXx8KGU9QXJyYXkobikpOysraTxuOyllW2ldPXRbaV07cmV0dXJuIGV9O3ZhciBUbj1mdW5jdGlvbigpe3JldHVybltdfSxBbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aCxyPTAsYT1bXTsrK2k8bjspe3ZhciBvPXRbaV07ZShvLGksdCkmJihhW3IrK109byl9cmV0dXJuIGF9LEVuPVRuLENuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsRG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxMbj1Ebj9mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXToodD1PYmplY3QodCksQW4oRG4odCksKGZ1bmN0aW9uKGUpe3JldHVybiBDbi5jYWxsKHQsZSl9KSkpfTpFbixPbj1oaSxSbj1Mbjt2YXIgUG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gT24odCxSbih0KSxlKX07dmFyIFVuPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPS0xLG49ZS5sZW5ndGgscj10Lmxlbmd0aDsrK2k8bjspdFtyK2ldPWVbaV07cmV0dXJuIHR9LCRuPVFpKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpLE5uPVVuLGpuPSRuLEZuPUxuLEJuPVRuLFduPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdO3Q7KU5uKGUsRm4odCkpLHQ9am4odCk7cmV0dXJuIGV9OkJuLHFuPWhpLE1uPVduO3ZhciBWbj1mdW5jdGlvbih0LGUpe3JldHVybiBxbih0LE1uKHQpLGUpfSxIbj1VbixHbj14aTt2YXIgWW49ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUodCk7cmV0dXJuIEduKHQpP246SG4obixpKHQpKX0sS249WW4sem49TG4sWG49bG47dmFyIFFuPWZ1bmN0aW9uKHQpe3JldHVybiBLbih0LFhuLHpuKX0sSm49WW4sWm49V24sdHI9SW47dmFyIGVyPWZ1bmN0aW9uKHQpe3JldHVybiBKbih0LHRyLFpuKX0saXI9aGUoTHQsXFxcIkRhdGFWaWV3XFxcIiksbnI9cGUscnI9aGUoTHQsXFxcIlByb21pc2VcXFwiKSxhcj1oZShMdCxcXFwiU2V0XFxcIiksb3I9aGUoTHQsXFxcIldlYWtNYXBcXFwiKSxkcj1NdCxzcj1adCxscj1cXFwiW29iamVjdCBNYXBdXFxcIixjcj1cXFwiW29iamVjdCBQcm9taXNlXVxcXCIsdXI9XFxcIltvYmplY3QgU2V0XVxcXCIsaHI9XFxcIltvYmplY3QgV2Vha01hcF1cXFwiLHByPVxcXCJbb2JqZWN0IERhdGFWaWV3XVxcXCIsZnI9c3IoaXIpLHZyPXNyKG5yKSxtcj1zcihyciksX3I9c3IoYXIpLGdyPXNyKG9yKSx5cj1kcjsoaXImJnlyKG5ldyBpcihuZXcgQXJyYXlCdWZmZXIoMSkpKSE9cHJ8fG5yJiZ5cihuZXcgbnIpIT1scnx8cnImJnlyKHJyLnJlc29sdmUoKSkhPWNyfHxhciYmeXIobmV3IGFyKSE9dXJ8fG9yJiZ5cihuZXcgb3IpIT1ocikmJih5cj1mdW5jdGlvbih0KXt2YXIgZT1kcih0KSxpPVxcXCJbb2JqZWN0IE9iamVjdF1cXFwiPT1lP3QuY29uc3RydWN0b3I6dm9pZCAwLG49aT9zcihpKTpcXFwiXFxcIjtpZihuKXN3aXRjaChuKXtjYXNlIGZyOnJldHVybiBwcjtjYXNlIHZyOnJldHVybiBscjtjYXNlIG1yOnJldHVybiBjcjtjYXNlIF9yOnJldHVybiB1cjtjYXNlIGdyOnJldHVybiBocn1yZXR1cm4gZX0pO3ZhciBJcj15cixicj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBrcj1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxpPW5ldyB0LmNvbnN0cnVjdG9yKGUpO3JldHVybiBlJiZcXFwic3RyaW5nXFxcIj09dHlwZW9mIHRbMF0mJmJyLmNhbGwodCxcXFwiaW5kZXhcXFwiKSYmKGkuaW5kZXg9dC5pbmRleCxpLmlucHV0PXQuaW5wdXQpLGl9LHdyPUx0LlVpbnQ4QXJyYXk7dmFyIHhyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0LmNvbnN0cnVjdG9yKHQuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyB3cihlKS5zZXQobmV3IHdyKHQpKSxlfSxTcj14cjt2YXIgVHI9ZnVuY3Rpb24odCxlKXt2YXIgaT1lP1NyKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3IoaSx0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX0sQXI9L1xcXFx3KiQvO3ZhciBFcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LnNvdXJjZSxBci5leGVjKHQpKTtyZXR1cm4gZS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsZX0sQ3I9T3Q/T3QucHJvdG90eXBlOnZvaWQgMCxEcj1Dcj9Dci52YWx1ZU9mOnZvaWQgMDt2YXIgTHI9eHI7dmFyIE9yPXhyLFJyPVRyLFByPUVyLFVyPWZ1bmN0aW9uKHQpe3JldHVybiBEcj9PYmplY3QoRHIuY2FsbCh0KSk6e319LCRyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZT9Mcih0LmJ1ZmZlcik6dC5idWZmZXI7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGksdC5ieXRlT2Zmc2V0LHQubGVuZ3RoKX07dmFyIE5yPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmNvbnN0cnVjdG9yO3N3aXRjaChlKXtjYXNlXFxcIltvYmplY3QgQXJyYXlCdWZmZXJdXFxcIjpyZXR1cm4gT3IodCk7Y2FzZVxcXCJbb2JqZWN0IEJvb2xlYW5dXFxcIjpjYXNlXFxcIltvYmplY3QgRGF0ZV1cXFwiOnJldHVybiBuZXcgbigrdCk7Y2FzZVxcXCJbb2JqZWN0IERhdGFWaWV3XVxcXCI6cmV0dXJuIFJyKHQsaSk7Y2FzZVxcXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cXFwiOmNhc2VcXFwiW29iamVjdCBGbG9hdDY0QXJyYXldXFxcIjpjYXNlXFxcIltvYmplY3QgSW50OEFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IEludDE2QXJyYXldXFxcIjpjYXNlXFxcIltvYmplY3QgSW50MzJBcnJheV1cXFwiOmNhc2VcXFwiW29iamVjdCBVaW50OEFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IFVpbnQxNkFycmF5XVxcXCI6Y2FzZVxcXCJbb2JqZWN0IFVpbnQzMkFycmF5XVxcXCI6cmV0dXJuICRyKHQsaSk7Y2FzZVxcXCJbb2JqZWN0IE1hcF1cXFwiOmNhc2VcXFwiW29iamVjdCBTZXRdXFxcIjpyZXR1cm4gbmV3IG47Y2FzZVxcXCJbb2JqZWN0IE51bWJlcl1cXFwiOmNhc2VcXFwiW29iamVjdCBTdHJpbmddXFxcIjpyZXR1cm4gbmV3IG4odCk7Y2FzZVxcXCJbb2JqZWN0IFJlZ0V4cF1cXFwiOnJldHVybiBQcih0KTtjYXNlXFxcIltvYmplY3QgU3ltYm9sXVxcXCI6cmV0dXJuIFVyKHQpfX0sanI9VnQsRnI9T2JqZWN0LmNyZWF0ZSxCcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFqcihlKSlyZXR1cm57fTtpZihGcilyZXR1cm4gRnIoZSk7dC5wcm90b3R5cGU9ZTt2YXIgaT1uZXcgdDtyZXR1cm4gdC5wcm90b3R5cGU9dm9pZCAwLGl9fSgpLFdyPSRuLHFyPVhpO3ZhciBNcj1mdW5jdGlvbih0KXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgdC5jb25zdHJ1Y3Rvcnx8cXIodCk/e306QnIoV3IodCkpfSxWcj1JcixIcj1maTt2YXIgR3I9ZnVuY3Rpb24odCl7cmV0dXJuIEhyKHQpJiZcXFwiW29iamVjdCBNYXBdXFxcIj09VnIodCl9LFlyPVVpLEtyPSRpJiYkaS5pc01hcCx6cj1Lcj9ZcihLcik6R3IsWHI9SXIsUXI9Zmk7dmFyIEpyPWZ1bmN0aW9uKHQpe3JldHVybiBRcih0KSYmXFxcIltvYmplY3QgU2V0XVxcXCI9PVhyKHQpfSxacj1VaSx0YT0kaSYmJGkuaXNTZXQsZWE9dGE/WnIodGEpOkpyLGlhPWVpLG5hPWlpLHJhPWxpLGFhPWhuLG9hPXduLGRhPXhuLHNhPVNuLGxhPVBuLGNhPVZuLHVhPVFuLGhhPWVyLHBhPUlyLGZhPWtyLHZhPU5yLG1hPU1yLF9hPXhpLGdhPVNpLHlhPXpyLElhPVZ0LGJhPWVhLGthPWxuLHdhPUluLHhhPVxcXCJbb2JqZWN0IEFyZ3VtZW50c11cXFwiLFNhPVxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIsVGE9XFxcIltvYmplY3QgT2JqZWN0XVxcXCIsQWE9e307QWFbeGFdPUFhW1xcXCJbb2JqZWN0IEFycmF5XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEFycmF5QnVmZmVyXVxcXCJdPUFhW1xcXCJbb2JqZWN0IERhdGFWaWV3XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEJvb2xlYW5dXFxcIl09QWFbXFxcIltvYmplY3QgRGF0ZV1cXFwiXT1BYVtcXFwiW29iamVjdCBGbG9hdDMyQXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgRmxvYXQ2NEFycmF5XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEludDhBcnJheV1cXFwiXT1BYVtcXFwiW29iamVjdCBJbnQxNkFycmF5XVxcXCJdPUFhW1xcXCJbb2JqZWN0IEludDMyQXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgTWFwXVxcXCJdPUFhW1xcXCJbb2JqZWN0IE51bWJlcl1cXFwiXT1BYVtUYV09QWFbXFxcIltvYmplY3QgUmVnRXhwXVxcXCJdPUFhW1xcXCJbb2JqZWN0IFNldF1cXFwiXT1BYVtcXFwiW29iamVjdCBTdHJpbmddXFxcIl09QWFbXFxcIltvYmplY3QgU3ltYm9sXVxcXCJdPUFhW1xcXCJbb2JqZWN0IFVpbnQ4QXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgVWludDE2QXJyYXldXFxcIl09QWFbXFxcIltvYmplY3QgVWludDMyQXJyYXldXFxcIl09ITAsQWFbXFxcIltvYmplY3QgRXJyb3JdXFxcIl09QWFbU2FdPUFhW1xcXCJbb2JqZWN0IFdlYWtNYXBdXFxcIl09ITE7dmFyIEVhPWZ1bmN0aW9uIHQoZSxpLG4scixhLG8pe3ZhciBkLHM9MSZpLGw9MiZpLGM9NCZpO2lmKG4mJihkPWE/bihlLHIsYSxvKTpuKGUpKSx2b2lkIDAhPT1kKXJldHVybiBkO2lmKCFJYShlKSlyZXR1cm4gZTt2YXIgdT1fYShlKTtpZih1KXtpZihkPWZhKGUpLCFzKXJldHVybiBzYShlLGQpfWVsc2V7dmFyIGg9cGEoZSkscD1oPT1TYXx8XFxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXFxcIj09aDtpZihnYShlKSlyZXR1cm4gZGEoZSxzKTtpZihoPT1UYXx8aD09eGF8fHAmJiFhKXtpZihkPWx8fHA/e306bWEoZSksIXMpcmV0dXJuIGw/Y2EoZSxvYShkLGUpKTpsYShlLGFhKGQsZSkpfWVsc2V7aWYoIUFhW2hdKXJldHVybiBhP2U6e307ZD12YShlLGgscyl9fW98fChvPW5ldyBpYSk7dmFyIGY9by5nZXQoZSk7aWYoZilyZXR1cm4gZjtvLnNldChlLGQpLGJhKGUpP2UuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZC5hZGQodChyLGksbixyLGUsbykpfSkpOnlhKGUpJiZlLmZvckVhY2goKGZ1bmN0aW9uKHIsYSl7ZC5zZXQoYSx0KHIsaSxuLGEsZSxvKSl9KSk7dmFyIHY9dT92b2lkIDA6KGM/bD9oYTp1YTpsP3dhOmthKShlKTtyZXR1cm4gbmEodnx8ZSwoZnVuY3Rpb24ocixhKXt2JiYocj1lW2E9cl0pLHJhKGQsYSx0KHIsaSxuLGEsZSxvKSl9KSksZH0sQ2E9RWE7dmFyIERhPWZ1bmN0aW9uKHQpe3JldHVybiBDYSh0LDUpfSxMYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtkKHRoaXMsdCksdGhpcy5yZXFVZ051bT0xLHRoaXMucHJvZ3Jlc3M9MCx0aGlzLmlzRmlyc3Q9ITAsdGhpcy5zdGF0dXNMaXN0PVtdLHRoaXMuU1RBVFVTX1dBSVRJTkc9XFxcIndhaXRpbmdcXFwiLHRoaXMuU1RBVFVTX0xPQURJTkc9XFxcImxvYWRpbmdcXFwiLHRoaXMuU1RBVFVTX0NBQ0hJTkc9XFxcImNhY2hpbmdcXFwiLHRoaXMuU1RBVFVTX1RJTUVPVVQ9XFxcInRpbWVvdXRcXFwiLHRoaXMuU1RBVFVTX0VYUElSRUQ9XFxcImV4cGlyZWRcXFwiLHRoaXMuU1RBVFVTX0ZBSUxFRD1cXFwiZmFpbGVkXFxcIix0aGlzLlNUQVRVU19TSE9XRUQ9XFxcInNob3dlZFxcXCJ9cmV0dXJuIGwodCxbe2tleTpcXFwibG9hZFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3RoaXMucHJvZ3Jlc3M9MDt2YXIgbj1bXTtlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dmFyIHI9ZS51bml0X2lkLGE9e2luZGV4OmksaXRlbUlkOnIsdW5pdElkOnIsbndGaXJtSWQ6ZS5ud19maXJtX2lkLGVjcG06ZS5lY3BtLGVjcG1Tb3J0OmUuc19wdHkscmFuazplLnNwX3BzLHJhbmtTb3J0OjAsc3RhdHVzOnQuU1RBVFVTX1dBSVRJTkcsZXhwaXJhdGlvblRpbWU6MCxjb250ZXh0Ont9LHR5cGU6MCx1bml0OkRhKGUpfTtuLnB1c2goYSl9KSksKG51bGw9PW4/dm9pZCAwOm4ubGVuZ3RoKT4xJiZPYShuKSxuLnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5lY3BtU29ydC10LmVjcG1Tb3J0LG49ZS5yYW5rU29ydC10LnJhbmtTb3J0O3JldHVybiAwPT09aT9uOml9KSksbi5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3QuaW5kZXg9ZX0pKTt2YXIgcj1pLnJlcVVnTnVtLGE9dm9pZCAwPT09cj8xOnI7dGhpcy5yZXFVZ051bT1hLHRoaXMucHJvZ3Jlc3M9YS0xLHRoaXMuaXNGaXJzdD0hMCx0aGlzLmluaXRTdGF0dXNMaXN0KG4pfX0se2tleTpcXFwibWVyZ2VcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcztpZighKHQubGVuZ3RoPD0wKSl7dmFyIG49W107dC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LnVuaXRfaWQscj10Lm53X2Zpcm1faWQsYT10LmVjcG0sbz10LnNfcHR5LGQ9dC5ud19jYWNoZV90aW1lLHM9e2luZGV4OjAsaXRlbUlkOmUsdW5pdElkOmUsbndGaXJtSWQ6cixlY3BtOmEsZWNwbVNvcnQ6byxyYW5rOnQuc3BfcHMscmFua1NvcnQ6MCxzdGF0dXM6aS5TVEFUVVNfV0FJVElORyxleHBpcmF0aW9uVGltZTpEYXRlLm5vdygpK2QsY29udGV4dDp7fSx0eXBlOjY2PT1yPzI6MSx1bml0OkRhKHQpfTtuLnB1c2gocyl9KSksKGU9dGhpcy5zdGF0dXNMaXN0KS5wdXNoLmFwcGx5KGUsbiksdGhpcy5zdGF0dXNMaXN0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5lY3BtU29ydC10LmVjcG1Tb3J0LG49ZS50eXBlLXQudHlwZTtyZXR1cm4gMD09PWk/bjppfSkpLHRoaXMuc3RhdHVzTGlzdC5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3QuaW5kZXg9ZSxbMSwyXS5pbmNsdWRlcyh0LnR5cGUpJiZ0LmluZGV4PD1pLnByb2dyZXNzJiYodC5zdGF0dXM9aS5TVEFUVVNfTE9BRElORyksdC51bml0LmJpZFRrJiYodC51bml0LmJpZFRrLnNvcnRQcmlvcml0eT1lKzEpfSkpfX19LHtrZXk6XFxcInNjaGVkdWxlclxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxpPVt0aGlzLlNUQVRVU19XQUlUSU5HXSxuPVt0aGlzLlNUQVRVU19DQUNISU5HLHRoaXMuU1RBVFVTX1NIT1dFRF0scj1bdGhpcy5TVEFUVVNfTE9BRElORyx0aGlzLlNUQVRVU19DQUNISU5HXSxhPVt0aGlzLlNUQVRVU19MT0FESU5HLHRoaXMuU1RBVFVTX0NBQ0hJTkcsdGhpcy5TVEFUVVNfVElNRU9VVCx0aGlzLlNUQVRVU19TSE9XRURdLG89W10sZD1bXSxzPVtdLGw9W107aWYodGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUsYyl7YS5pbmNsdWRlcyhlLnN0YXR1cykmJm8ucHVzaChlLml0ZW1JZCksci5pbmNsdWRlcyhlLnN0YXR1cykmJmM8PXQucHJvZ3Jlc3MmJmQucHVzaChlLml0ZW1JZCksaS5pbmNsdWRlcyhlLnN0YXR1cykmJnMucHVzaChlLml0ZW1JZCksbi5pbmNsdWRlcyhlLnN0YXR1cykmJmwucHVzaChlLml0ZW1JZCl9KSksZSlyZXR1cm4gbztpZigoZC5sZW5ndGg8dGhpcy5yZXFVZ051bXx8dGhpcy5pc0ZpcnN0KSYmbC5sZW5ndGg8MSl7dmFyIGM9dGhpcy5yZXFVZ051bS1kLmxlbmd0aCx1PXMuc2xpY2UoMCxjKTt0aGlzLnN0YXR1c0xpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXt1LmluY2x1ZGVzKGUuaXRlbUlkKSYmKGUuc3RhdHVzPXQuU1RBVFVTX0xPQURJTkcsdC5wcm9ncmVzcz1pKX0pKSxvPW8uY29uY2F0KHUpLHRoaXMuaXNGaXJzdD0hMX1yZXR1cm4gb319LHtrZXk6XFxcInNlbGVjdGVyXFxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XFxcIlNUQVRVU19DQUNISU5HXFxcIixpPURhdGUubm93KCksbj17fTtyZXR1cm4gdGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHIsYSl7W3RbZV1dLmluY2x1ZGVzKHIuc3RhdHVzKSYmKDA9PT1yLmV4cGlyYXRpb25UaW1lfHxyLmV4cGlyYXRpb25UaW1lPmkpJiZ2KG4pJiYobj1yKX0pKSxufX0se2tleTpcXFwiaXRlbUlkU2VsZXRlclxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlbGVjdGVyKCk7cmV0dXJuIHQmJnQuaXRlbUlkP3QuaXRlbUlkOm51bGx9fSx7a2V5OlxcXCJpbmRleFNlbGV0ZXJcXFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWxlY3RlcigpO3JldHVybiB0JiZ0LmluZGV4P3QuaW5kZXg6bnVsbH19LHtrZXk6XFxcInNldExvYWRpbmdcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLnNldFN0YXR1cyh0LHRoaXMuU1RBVFVTX0xPQURJTkcsZSl9fSx7a2V5OlxcXCJzZXRDYWNoaW5nXFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307dGhpcy5zZXRTdGF0dXModCx0aGlzLlNUQVRVU19DQUNISU5HLGUsaSl9fSx7a2V5OlxcXCJzZXRUaW1lb3V0XFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5zZXRTdGF0dXModCx0aGlzLlNUQVRVU19USU1FT1VULGUpfX0se2tleTpcXFwic2V0RmFpbGVkXFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5zZXRTdGF0dXModCx0aGlzLlNUQVRVU19GQUlMRUQsZSl9fSx7a2V5OlxcXCJzZXRTaG93ZWRcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLnNldFN0YXR1cyh0LHRoaXMuU1RBVFVTX1NIT1dFRCxlKX19LHtrZXk6XFxcImdldEluZGV4XFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0wO3JldHVybiB0aGlzLnN0YXR1c0xpc3QuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aS5pdGVtSWQ9PT10JiYoZT1pLmluZGV4KX0pKSxlfX0se2tleTpcXFwiZ2V0U3RhdHVzTGlzdFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXNMaXN0fX0se2tleTpcXFwiaW5pdFN0YXR1c0xpc3RcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1bXSxuPURhdGUubm93KCk7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtlLnN0YXR1c0xpc3QuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aS5pdGVtSWQ9PT10Lml0ZW1JZCYmW2UuU1RBVFVTX0NBQ0hJTkddLmluY2x1ZGVzKGkuc3RhdHVzKSYmKDA9PT1pLmV4cGlyYXRpb25UaW1lfHxpLmV4cGlyYXRpb25UaW1lPm4pJiYodC5zdGF0dXM9ZS5TVEFUVVNfQ0FDSElORyx0LmNvbnRleHQ9aS5jb250ZXh0LHQuZXhwaXJhdGlvblRpbWU9aS5leHBpcmF0aW9uVGltZSl9KSksaS5wdXNoKHQpfSkpLHRoaXMuc3RhdHVzTGlzdD1pfX0se2tleTpcXFwic2V0U3RhdHVzXFxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30sYT1yLmV4cGlyYXRpb25UaW1lLG89dm9pZCAwPT09YT8wOmE7dGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHIpe3IuaXRlbUlkPT09dCYmKHIuc3RhdHVzPWUsZT09PWkuU1RBVFVTX0NBQ0hJTkcmJihyLmV4cGlyYXRpb25UaW1lPW8sci5jb250ZXh0PW4pKX0pKX19LHtrZXk6XFxcImlzRXhwaXJlZFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9MCxpPURhdGUubm93KCksbj10aGlzLnN0YXR1c0xpc3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5bdC5TVEFUVVNfTE9BRElORyx0LlNUQVRVU19USU1FT1VULHQuU1RBVFVTX0NBQ0hJTkcsdC5TVEFUVVNfU0hPV0VEXS5pbmNsdWRlcyhlLnN0YXR1cyl9KSk7cmV0dXJuIShuLmxlbmd0aDw9MCkmJihuLmZvckVhY2goKGZ1bmN0aW9uKG4scil7W3QuU1RBVFVTX0xPQURJTkcsdC5TVEFUVVNfVElNRU9VVCx0LlNUQVRVU19TSE9XRURdLmluY2x1ZGVzKG4uc3RhdHVzKT90LnNldFN0YXR1cyhuLml0ZW1JZCx0LlNUQVRVU19FWFBJUkVEKTowPT09bi5leHBpcmF0aW9uVGltZXx8bi5leHBpcmF0aW9uVGltZT5pP2UrKzp0LnNldFN0YXR1cyhuLml0ZW1JZCx0LlNUQVRVU19FWFBJUkVEKX0pKSxlPD0wKX19LHtrZXk6XFxcImlzRmFpbGVkXFxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuc3RhdHVzTGlzdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz09PXQuU1RBVFVTX0ZBSUxFRH0pKS5sZW5ndGg+PXRoaXMuc3RhdHVzTGlzdC5sZW5ndGh9fSx7a2V5OlxcXCJpc0V4aXN0XFxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdGhpcy5zdGF0dXNMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGkpe2kuaXRlbUlkPT09dCYmKGU9ITApfSkpLGV9fSx7a2V5OlxcXCJpc0xvYWRlZFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5zdGF0dXNMaXN0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09dC5TVEFUVVNfQ0FDSElOR30pKTtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS5sZW5ndGgpPjB9fV0pLHR9KCk7ZnVuY3Rpb24gT2EodCl7dmFyIGUsaT0oZT1cXFwiZWNwbVNvcnRcXFwiLHQucmVkdWNlKChmdW5jdGlvbih0LGkpe3JldHVybiB0W2lbZV1dPXRbaVtlXV18fFtdLHRbaVtlXV0ucHVzaChpKSx0fSkse30pKTtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1EYShpW2VdKTtpZighKG4ubGVuZ3RoPD0xfHxSYShuLFxcXCJyYW5rXFxcIikpKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT1bXTtmdW5jdGlvbiBpKHQpe2lmKHQubGVuZ3RoKWlmKDEhPT10Lmxlbmd0aClmb3IodmFyIG49dC5sZW5ndGgscj1mdW5jdGlvbigpe3ZhciByPUEoMSxQYSh0LFxcXCJyYW5rXFxcIikpLGE9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W1sxLHRbMF1bZV1dXSxuPXQubGVuZ3RoLHI9MTtyPG47cisrKXt2YXIgYT1pW2kubGVuZ3RoLTFdWzFdKzEsbz1hK3Rbcl1bZV0tMTtpLnB1c2goW2Esb10pfXJldHVybiBpfShEYSh0KSxcXFwicmFua1xcXCIpLG89YS5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPD1yJiZyPD10WzFdfSkpLGQ9e2luZGV4OnQuc3BsaWNlKG8sMSlbMF0uaW5kZXgscmFua1NvcnQ6bn07ZS5wdXNoKGQpLGkodCl9LGE9MDthPHQubGVuZ3RoO2ErKylyKCk7ZWxzZXt2YXIgbz17aW5kZXg6dFswXS5pbmRleCxyYW5rU29ydDoxfTtlLnB1c2gobyl9fXJldHVybiBpKHQpLGV9KG4pO3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLmluZGV4XS5yYW5rU29ydD1lLnJhbmtTb3J0fSkpfX0pKX12YXIgUmE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ldmVyeSgoZnVuY3Rpb24oaSl7cmV0dXJuIGlbZV09PT10WzBdW2VdfSkpfSxQYT1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdCtpW2VdfSksMCl9O2Z1bmN0aW9uIFVhKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPWUucmF3UmVzcG9uc2Usbj12b2lkIDAhPT1pJiZpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXtTKCkuJGZldGNoLmZldGNoKHt1cmw6dC51cmwsbWV0aG9kOnQubWV0aG9kLGhlYWRlcjp7XFxcIkNvbnRlbnQtVHlwZVxcXCI6XFxcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFxcXCJ9LGRhdGE6dC5kYXRhfSkudGhlbigoZnVuY3Rpb24odCl7aWYobillKHQuZGF0YSk7ZWxzZXt2YXIgaT10LmRhdGEscj1fKG51bGw9PWk/dm9pZCAwOmkuZGF0YSk/SlNPTi5wYXJzZShudWxsPT1pP3ZvaWQgMDppLmRhdGEpOmkuZGF0YTtlKHIpfX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aSh0KX0pKS5maW5hbGx5KChmdW5jdGlvbigpe2UoKX0pKX0pKX1mdW5jdGlvbiAkYSh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1lLnRpbWVvdXQsbj12b2lkIDA9PT1pPzJlNDppO3RyeXtyZXR1cm4gUHJvbWlzZS5yYWNlKFtVYSh0LGUpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZShuZXcgRXJyb3IoXFxcIue9kee7nOeKtuWGteS4jeWkquWlve+8jOWGjeWIt+aWsOS4gOasoe+8n1xcXCIpKX0pLG4pfSkpXSl9Y2F0Y2godCl7fX1Qcm9taXNlLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMudGhlbigoZnVuY3Rpb24oaSl7cmV0dXJuIGUucmVzb2x2ZSh0KCkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9KSwoZnVuY3Rpb24oaSl7cmV0dXJuIGUucmVzb2x2ZSh0KCkpLnRoZW4oKGZ1bmN0aW9uKCl7dGhyb3cgaX0pKX0pKX07dmFyIE5hPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiAkYSh7bWV0aG9kOlxcXCJwb3N0XFxcIix1cmw6dCxkYXRhOmV9LGkpfSxqYT1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gJGEoe21ldGhvZDpcXFwiZ2V0XFxcIix1cmw6VCh0LGUpfSxpKX0sRmE9XFxcImh0dHA6Ly9kYS5hbnl0aGlua3RlY2guY29tXFxcIixCYT1cXFwiNC4yLjExXFxcIixXYT17QVBJX0VSUk9SOlxcXCIxMDA0NjE2XFxcIixTVFJBVEVHWV9SRVFVRVNUX1RJTUU6XFxcIjEwMDQ2MzVcXFwiLExPQURfRkFJTEVEOlxcXCIxMDA0NjMwXFxcIixSRVFVRVNUX0ZBSUxFRDpcXFwiMTAwNDYzMVxcXCIsSVNfUkVBRFk6XFxcIjEwMDQ2MzJcXFwiLFNIT1dfRkFJTEVEOlxcXCIxMDA0NjMzXFxcIixDQU5fTk9UX0dFVF9ERVZJQ0VfSU5GTzpcXFwiMTAwNDY4MVxcXCIsSE9UX1NUQVJUX0lOVEVSVkFMX1RJTUU6XFxcIjEwMDQ2ODJcXFwiLFNUQVlfVElNRTpcXFwiMTAwNDY0NFxcXCIsQ0FMTEJBQ0tfRVJST1I6XFxcIjEwMDQ2ODNcXFwiLENMSUNLX1VSTF9GQUlMOlxcXCIxMDA0NjQ4XFxcIixERUVQTElOS19SRVNVTFQ6XFxcIjEwMDQ2NTBcXFwiLEJJRF9MT1NTOlxcXCIxMDA0NjU5XFxcIixCSURfV0lOOlxcXCIxMDA0NjY3XFxcIixCSURfTUVSR0VfVE9fV0Y6XFxcIjEwMDQ2NjhcXFwiLEFEWF9XRUJWSUVXX0FDVElPTjpcXFwiMTAwNDY3NVxcXCIsQURYX0lNUF9JTlZBTElEOlxcXCIxMTAwMDA0XFxcIixHRVRfQUQ6XFxcIjExMDAwMDFcXFwiLFZJVk9fQURfUFJJQ0U6XFxcIjExMDAwMDJcXFwiLEFEX0ZFRURCQUNLOlxcXCIxMDA0NjUyXFxcIixCQU5ORVJfSElERTpcXFwiMTEwMDAwM1xcXCJ9O2Z1bmN0aW9uIHFhKHQpe3JldHVybiBNYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTWEoKXtyZXR1cm4oTWE9byhpKCkubWFyaygoZnVuY3Rpb24gdChuKXt2YXIgcixhLG8sZCxzLGwsYyx1LGgscCxmLG0sXyxnLHksSSxiLGssdyx4LFQsQSxMLE8sUCxVLCQsTixqLEYsQixXLHEsVixZLHosUSxKLFosdHQsZXQsaXQscnQsYXQsb3QsZHQsc3QsbHQsY3QsdXQsaHQscHQsZnQsdnQsbXQsX3QsZ3QseXQsSXQsYnQsa3Qsd3Q7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihMPW51bGwhPT0ocj1udWxsPT09KGE9dGhpcy4kYXBwKXx8dm9pZCAwPT09YT92b2lkIDA6YS4kZGVmKSYmdm9pZCAwIT09cj9yOnRoaXMuJGRlZixPPShudWxsPT1MP3ZvaWQgMDpMLnRvcG9uX3Nkayl8fHt9LFA9Ty5hcHBLZXksVT1PLmFwcElkLCQ9Ty5zdG9yZSxOPU8uY2hhbm5lbElkLGo9dm9pZCAwPT09Tj9cXFwiXFxcIjpOLEY9Ty5zdWJDaGFubmVsSWQsQj12b2lkIDA9PT1GP1xcXCJcXFwiOkYsVz1SKCkscT1TKCksVj1xLmFwcCxZPXEubmV0d29yayx2KG51bGw9PSR8fG51bGw9PT0obz0kLmRldmljZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaW5mbykpe3QubmV4dD04O2JyZWFrfXQudDA9bnVsbD09JHx8bnVsbD09PShkPSQuZGV2aWNlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5pbmZvLHQubmV4dD0xNDticmVhaztjYXNlIDg6cmV0dXJuIHQubmV4dD0xMCxILmdldEluZm8oKTtjYXNlIDEwOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xMzticmVha310LnQxPXt9O2Nhc2UgMTM6dC50MD10LnQxO2Nhc2UgMTQ6cmV0dXJuIHo9dC50MCxRPVYuZ2V0SW5mbygpfHx7fSx0Lm5leHQ9MTgsWS5nZXRUeXBlKCk7Y2FzZSAxODppZih0LnQyPXQuc2VudCx0LnQyKXt0Lm5leHQ9MjE7YnJlYWt9dC50Mj17fTtjYXNlIDIxOmlmKEo9dC50Mix0LnQ0PW51bGw9PSR8fG51bGw9PT0ocz0kLmRldmljZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuaWRzLHQudDQpe3QubmV4dD0yNzticmVha31yZXR1cm4gdC5uZXh0PTI2LEguZ2V0RGV2aWNlSWRzKCk7Y2FzZSAyNjp0LnQ0PXQuc2VudDtjYXNlIDI3OmlmKHQudDM9dC50NCx0LnQzKXt0Lm5leHQ9MzA7YnJlYWt9dC50Mz17fTtjYXNlIDMwOmlmKFo9dC50Myx0LnQ2PW51bGw9PSR8fG51bGw9PT0obD0kLmRldmljZSl8fHZvaWQgMD09PWw/dm9pZCAwOmwub2FpZCx0LnQ2KXt0Lm5leHQ9MzY7YnJlYWt9cmV0dXJuIHQubmV4dD0zNSxILmdldE9hSWQoKTtjYXNlIDM1OnQudDY9dC5zZW50O2Nhc2UgMzY6aWYodC50NT10LnQ2LHQudDUpe3QubmV4dD0zOTticmVha310LnQ1PVxcXCJcXFwiO2Nhc2UgMzk6aWYodHQ9dC50NSxldD1XYVtuLmtleV0saXQ9XFxcIjEuMFxcXCIsdC50Nz1udWxsPT0kP3ZvaWQgMDokLnVwaWQsdC50Nyl7dC5uZXh0PTQ3O2JyZWFrfXJldHVybiB0Lm5leHQ9NDYsRygpO2Nhc2UgNDY6dC50Nz10LnNlbnQ7Y2FzZSA0NzpyZXR1cm4gcnQ9dC50Nyx0Lm5leHQ9NTAsSygpO2Nhc2UgNTA6cmV0dXJuIGF0PXQuc2VudCxvdD1udWxsIT09KGM9bnVsbD09UT92b2lkIDA6US5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PWM/YzpcXFwiXFxcIixkdD1udWxsIT09KHU9XFxcIlxcXCIrKG51bGw9PVE/dm9pZCAwOlEudmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09dT91OlxcXCJcXFwiLHN0PW51bGwhPT0oaD1cXFwiXFxcIisobnVsbD09UT92b2lkIDA6US52ZXJzaW9uTmFtZSkpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsbHQ9XFxcIlxcXCIuY29uY2F0KG51bGw9PXo/dm9pZCAwOnouc2NyZWVuV2lkdGgsXFxcIipcXFwiKS5jb25jYXQobnVsbD09ej92b2lkIDA6ei5zY3JlZW5IZWlnaHQpLGN0PW50W251bGw9PUp8fG51bGw9PT0ocD1KLmRhdGEpfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLnR5cGVdfHxcXFwiLTFcXFwiLHQubmV4dD01OCxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDU4OmlmKHQudDg9dC5zZW50LHQudDgpe3QubmV4dD02MTticmVha310LnQ4PTA7Y2FzZSA2MTpyZXR1cm4gdXQ9dC50OCx0Lm5leHQ9NjQsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDY0OmlmKHQudDk9dC5zZW50LHQudDkpe3QubmV4dD02NzticmVha310LnQ5PTA7Y2FzZSA2NzpyZXR1cm4gaHQ9dC50OSxwdD1NYXRoLmNlaWwoKGh0LXV0KzEpLzg2NGU1KSxmdD1cXFwiVE9QT05fQURfQ0FDSEVfQVBQX1xcXCIrVSx0Lm5leHQ9NzIsTS5nZXRJdGVtKGZ0LCExKTtjYXNlIDcyOmlmKHQudDEwPXQuc2VudCx0LnQxMCl7dC5uZXh0PTc1O2JyZWFrfXQudDEwPXt9O2Nhc2UgNzU6aWYodnQ9dC50MTAsbXQ9ZShlKHt9LG4pLHt9LHtrZXk6ZXQscHNpZDphdCx0aW1lc3RhbXA6U3RyaW5nKERhdGUubm93KCkpfSksX3Q9XFxcIlxcXCIsIW4udW5pdGlkKXt0Lm5leHQ9ODM7YnJlYWt9cmV0dXJuIHQubmV4dD04MSxYKG4udW5pdGlkKTtjYXNlIDgxOl90PXQuc2VudCxtdC5zZXNzaW9uaWQ9X3Q7Y2FzZSA4MzpyZXR1cm4gZ3Q9W210XSx5dD17YXBwX2lkOlUsc3lzdGVtOjEscGxhdGZvcm06MSxvc192bjpudWxsIT09KGY9XFxcIlxcXCIrKG51bGw9PXo/dm9pZCAwOnoub3NWZXJzaW9uTmFtZSkpJiZ2b2lkIDAhPT1mP2Y6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PShtPVxcXCJcXFwiKyhudWxsPT16P3ZvaWQgMDp6Lm9zVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09bT9tOlxcXCJcXFwiLHBhY2thZ2VfbmFtZTpvdCxhcHBfdm46c3QsYXBwX3ZjOmR0LGJyYW5kOm51bGwhPT0oXz1udWxsPT16P3ZvaWQgMDp6LmJyYW5kKSYmdm9pZCAwIT09Xz9fOlxcXCJcXFwiLG1vZGVsOm51bGwhPT0oZz1udWxsPT16P3ZvaWQgMDp6Lm1vZGVsKSYmdm9pZCAwIT09Zz9nOlxcXCJcXFwiLHBmX3ZuOm51bGwhPT0oeT1udWxsPT16P3ZvaWQgMDp6LnBsYXRmb3JtVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT15P3k6XFxcIlxcXCIscGZfdmM6bnVsbCE9PShJPVxcXCJcXFwiKyhudWxsPT16P3ZvaWQgMDp6LnBsYXRmb3JtVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09ST9JOlxcXCJcXFwiLHNjcmVlbjpsdCxuZXR3b3JrX3R5cGU6Y3QsbWNjOlxcXCIxXFxcIixtbmM6XFxcIjFcXFwiLGxhbmd1YWdlOm51bGwhPT0oYj1udWxsPT16P3ZvaWQgMDp6Lmxhbmd1YWdlKSYmdm9pZCAwIT09Yj9iOlxcXCJcXFwiLHRpbWV6b25lOlxcXCJcXFwiLHNka192ZXI6XFxcIlVBX1xcXCIuY29uY2F0KEJhKSxud192ZXI6XFxcIlxcXCIsZ3BfdmVyOlxcXCJcXFwiLHVhOld8fFxcXCJcXFwiLHVwaWQ6cnQsY2hhbm5lbDpqfHxcXFwiXFxcIixzdWJfY2hhbm5lbDpCfHxcXFwiXFxcIixvcmllbnQ6MSxvc19mdzo4LGRhdGE6Z3QsZmlyc3RfaW5pdF90aW1lOjEqdXQsZGF5c19mcm9tX2ZpcnN0X2luaXQ6MSpwdCxhYnRlc3RfaWQ6bnVsbCE9PShrPW51bGw9PXZ0fHxudWxsPT09KHc9dnQuZGF0YSl8fHZvaWQgMD09PXc/dm9pZCAwOncuYWJ0ZXN0X2lkKSYmdm9pZCAwIT09az9rOlxcXCJcXFwifSxJdD17YW5kcm9pZF9pZDpudWxsIT09KHg9bnVsbD09Wj92b2lkIDA6Wi51c2VyKSYmdm9pZCAwIT09eD94OlxcXCJcXFwiLG1hYzpudWxsIT09KFQ9bnVsbD09Wj92b2lkIDA6Wi5tYWMpJiZ2b2lkIDAhPT1UP1Q6XFxcIlxcXCIsaW1laTpcXFwiXFxcIixvYWlkOnR0LGdhaWQ6bnVsbCE9PShBPW51bGw9PVo/dm9pZCAwOlouYWR2ZXJ0aXNpbmcpJiZ2b2lkIDAhPT1BP0E6XFxcIlxcXCIsaXNfY25fc2RrOlxcXCIxXFxcIn0sYnQ9QyhEKHl0KSksa3Q9QyhEKEl0KSksd3Q9RShQLFt7a2V5OlxcXCJhcGlfdmVyXFxcIix2YWx1ZTppdH0se2tleTpcXFwicFxcXCIsdmFsdWU6YnR9LHtrZXk6XFxcInAyXFxcIix2YWx1ZTprdH1dKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIix7cDpidCxwMjprdCxhcGlfdmVyOml0LHNpZ246d3R9KTtjYXNlIDkxOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBWYSh0KXtyZXR1cm4gSGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEhhKCl7cmV0dXJuKEhhPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG47cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAsdC5uZXh0PTMscWEuY2FsbCh0aGlzLGUpO2Nhc2UgMzpyZXR1cm4gbj10LnNlbnQsdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsTmEoXFxcIlxcXCIuY29uY2F0KEZhLFxcXCIvdjIvZGFcXFwiKSxuKSk7Y2FzZSA3OnQucHJldj03LHQudDA9dC5jYXRjaCgwKTtjYXNlIDk6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDddXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gR2EodCl7cmV0dXJuIFlhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBZYSgpe3JldHVybihZYT1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYSxvLGQscyxsLGMsdSxoLHAsZixtLF8sZyx5LEksYixrLHcseCxULEEsRSxDLEQsTCxPLFAsVSwkLE4saixGLEIsVyxxLE0sVixZLHosWCxRLEosWix0dCxldCxpdCxydCxhdCxvdCxkdCxzdDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKHg9bnVsbCE9PShuPW51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLiRkZWYpJiZ2b2lkIDAhPT1uP246dGhpcy4kZGVmLFQ9KG51bGw9PXg/dm9pZCAwOngudG9wb25fc2RrKXx8e30sQT1ULmFwcElkLEU9VC5zdG9yZSxDPVQuY2hhbm5lbElkLEQ9dm9pZCAwPT09Qz9cXFwiXFxcIjpDLEw9VC5zdWJDaGFubmVsSWQsTz12b2lkIDA9PT1MP1xcXCJcXFwiOkwsUD1lLmtleSxVPWUubXNnLCQ9ZS5tc2cxLE49ZS5tc2cyLGo9ZS5tc2czLEY9UigpLEI9UygpLFc9Qi5hcHAscT1CLm5ldHdvcmssdihudWxsPT1FfHxudWxsPT09KGE9RS5kZXZpY2UpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmluZm8pKXt0Lm5leHQ9OTticmVha310LnQwPW51bGw9PUV8fG51bGw9PT0obz1FLmRldmljZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaW5mbyx0Lm5leHQ9MTU7YnJlYWs7Y2FzZSA5OnJldHVybiB0Lm5leHQ9MTEsSC5nZXRJbmZvKCk7Y2FzZSAxMTppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTQ7YnJlYWt9dC50MT17fTtjYXNlIDE0OnQudDA9dC50MTtjYXNlIDE1OnJldHVybiBNPXQudDAsVj1XLmdldEluZm8oKXx8e30sdC5uZXh0PTE5LHEuZ2V0VHlwZSgpO2Nhc2UgMTk6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIyO2JyZWFrfXQudDI9e307Y2FzZSAyMjppZihZPXQudDIsdC50ND1udWxsPT1FfHxudWxsPT09KGQ9RS5kZXZpY2UpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLmlkcyx0LnQ0KXt0Lm5leHQ9Mjg7YnJlYWt9cmV0dXJuIHQubmV4dD0yNyxILmdldERldmljZUlkcygpO2Nhc2UgMjc6dC50ND10LnNlbnQ7Y2FzZSAyODppZih0LnQzPXQudDQsdC50Myl7dC5uZXh0PTMxO2JyZWFrfXQudDM9e307Y2FzZSAzMTppZih6PXQudDMsdC50Nj1udWxsPT1FfHxudWxsPT09KHM9RS5kZXZpY2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm9haWQsdC50Nil7dC5uZXh0PTM3O2JyZWFrfXJldHVybiB0Lm5leHQ9MzYsSC5nZXRPYUlkKCk7Y2FzZSAzNjp0LnQ2PXQuc2VudDtjYXNlIDM3OmlmKHQudDU9dC50Nix0LnQ1KXt0Lm5leHQ9NDA7YnJlYWt9dC50NT1cXFwiXFxcIjtjYXNlIDQwOmlmKFg9dC50NSxRPVdhW1BdLHQudDc9bnVsbD09RT92b2lkIDA6RS51cGlkLHQudDcpe3QubmV4dD00NzticmVha31yZXR1cm4gdC5uZXh0PTQ2LEcoKTtjYXNlIDQ2OnQudDc9dC5zZW50O2Nhc2UgNDc6cmV0dXJuIEo9dC50Nyx0Lm5leHQ9NTAsSygpO2Nhc2UgNTA6cmV0dXJuIFo9dC5zZW50LHR0PW51bGwhPT0obD1udWxsPT1WP3ZvaWQgMDpWLnBhY2thZ2VOYW1lKSYmdm9pZCAwIT09bD9sOlxcXCJcXFwiLGV0PW51bGwhPT0oYz1cXFwiXFxcIisobnVsbD09Vj92b2lkIDA6Vi52ZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIsaXQ9bnVsbCE9PSh1PVxcXCJcXFwiKyhudWxsPT1WP3ZvaWQgMDpWLnZlcnNpb25OYW1lKSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixydD1cXFwiXFxcIi5jb25jYXQobnVsbD09TT92b2lkIDA6TS5zY3JlZW5XaWR0aCxcXFwiKlxcXCIpLmNvbmNhdChudWxsPT1NP3ZvaWQgMDpNLnNjcmVlbkhlaWdodCksYXQ9bnRbbnVsbD09WXx8bnVsbD09PShoPVkuZGF0YSl8fHZvaWQgMD09PWg/dm9pZCAwOmgudHlwZV18fFxcXCItMVxcXCIsb3Q9e2tleTpRLHBzaWQ6Wix0aW1lc3RhbXA6U3RyaW5nKERhdGUubm93KCkpLHVwaWQ6SixzZGtfdGltZTpEYXRlLm5vdygpLG1zZzpVLG1zZzE6JCxtc2cyOk4sbXNnMzpqfSxkdD17YXBwX2lkOkEsc3lzdGVtOjEscGxhdGZvcm06MSxvc192bjpudWxsIT09KHA9XFxcIlxcXCIrKG51bGw9PU0/dm9pZCAwOk0ub3NWZXJzaW9uTmFtZSkpJiZ2b2lkIDAhPT1wP3A6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PShmPVxcXCJcXFwiKyhudWxsPT1NP3ZvaWQgMDpNLm9zVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09Zj9mOlxcXCJcXFwiLHBhY2thZ2VfbmFtZTp0dCxhcHBfdm46aXQsYXBwX3ZjOmV0LGJyYW5kOm51bGwhPT0obT1udWxsPT1NP3ZvaWQgMDpNLmJyYW5kKSYmdm9pZCAwIT09bT9tOlxcXCJcXFwiLG1vZGVsOm51bGwhPT0oXz1udWxsPT1NP3ZvaWQgMDpNLm1vZGVsKSYmdm9pZCAwIT09Xz9fOlxcXCJcXFwiLHBmX3ZuOm51bGwhPT0oZz1udWxsPT1NP3ZvaWQgMDpNLnBsYXRmb3JtVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1nP2c6XFxcIlxcXCIscGZfdmM6bnVsbCE9PSh5PVxcXCJcXFwiKyhudWxsPT1NP3ZvaWQgMDpNLnBsYXRmb3JtVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09eT95OlxcXCJcXFwiLHNjcmVlbjpydCxuZXR3b3JrX3R5cGU6YXQsbWNjOlxcXCIxXFxcIixtbmM6XFxcIjFcXFwiLGxhbmd1YWdlOm51bGwhPT0oST1udWxsPT1NP3ZvaWQgMDpNLmxhbmd1YWdlKSYmdm9pZCAwIT09ST9JOlxcXCJcXFwiLHRpbWV6b25lOlxcXCJcXFwiLHNka192ZXI6XFxcIlVBX1xcXCIuY29uY2F0KEJhKSxud192ZXI6XFxcIlxcXCIsZ3BfdmVyOlxcXCJcXFwiLHVhOkZ8fFxcXCJcXFwiLHVwaWQ6SixjaGFubmVsOkR8fFxcXCJcXFwiLHN1Yl9jaGFubmVsOk98fFxcXCJcXFwiLG9yaWVudDoxLG9zX2Z3Ojh9LHN0PXthbmRyb2lkX2lkOm51bGwhPT0oYj1udWxsPT16P3ZvaWQgMDp6LnVzZXIpJiZ2b2lkIDAhPT1iP2I6XFxcIlxcXCIsbWFjOm51bGwhPT0oaz1udWxsPT16P3ZvaWQgMDp6Lm1hYykmJnZvaWQgMCE9PWs/azpcXFwiXFxcIixpbWVpOlxcXCJcXFwiLG9haWQ6WCxnYWlkOm51bGwhPT0odz1udWxsPT16P3ZvaWQgMDp6LmFkdmVydGlzaW5nKSYmdm9pZCAwIT09dz93OlxcXCJcXFwiLGlzX2NuX3NkazpcXFwiMVxcXCJ9LHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwUGFyYW1zOmR0LHAyUGFyYW1zOnN0LGRhdGE6b3R9KTtjYXNlIDYwOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBLYSh0LGUpe3ZhciBpLG4scj1udWxsIT09KGk9bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uJGRlZikmJnZvaWQgMCE9PWk/aTp0aGlzLiRkZWYsYT0oKG51bGw9PXI/dm9pZCAwOnIudG9wb25fc2RrKXx8e30pLmFwcEtleSxvPUMoRCh0KSksZD1DKEQoZSkpO3JldHVybntwOm8scDI6ZCxhcGlfdmVyOlxcXCIxLjBcXFwiLHNpZ246RShhLFt7a2V5OlxcXCJhcGlfdmVyXFxcIix2YWx1ZTpcXFwiMS4wXFxcIn0se2tleTpcXFwicFxcXCIsdmFsdWU6b30se2tleTpcXFwicDJcXFwiLHZhbHVlOmR9XSl9fWZ1bmN0aW9uIHphKHQpe3RyeXt2YXIgaSxuPShudWxsPT10aGlzfHxudWxsPT09KGk9dGhpcy4kZGVmKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkudG9wb25fc2RrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5kZXN0cm95UGFyYW1zKXx8e30scj1uLnBQYXJhbXMsYT1uLnAyUGFyYW1zLG89ZnVuY3Rpb24odCxpKXt2YXIgbj1XYVtpLmtleV07cmV0dXJuIGUoZShlKHt9LHQpLGkpLHt9LHtrZXk6bix0aW1lc3RhbXA6U3RyaW5nKERhdGUubm93KCkpfSl9KG4uZGF0YSx0KSxkPWUoZSh7fSxyKSx7fSx7ZGF0YTpbb119KSxzPUthLmNhbGwodGhpcyxkLGEpO3JldHVybiBOYShcXFwiXFxcIi5jb25jYXQoRmEsXFxcIi92Mi9kYVxcXCIpLHMpfWNhdGNoKHQpe319dmFyIFhhPVxcXCI0LjIuMTFcXFwiLFFhPVxcXCJodHRwOi8vYXBpLmFueXRoaW5rdGVjaC5jb21cXFwiO2Z1bmN0aW9uIEphKHQpe3JldHVybiBaYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWmEoKXtyZXR1cm4oWmE9byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsbSxfLGcseSxJLGIsayx3LHgsVCxBLEwsUCxVLCQsTixqLEYsQixXLHEsVixZLHosUSxKLFosdHQsZXQsaXQscnQsYXQsb3QsZHQsc3QsbHQsY3QsdXQsaHQscHQsZnQsdnQsbXQsX3QsZ3QseXQsSXQsYnQsa3Qsd3QseHQsU3QsVHQsQXQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihVPW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZiwkPShudWxsPT1VP3ZvaWQgMDpVLnRvcG9uX3Nkayl8fHt9LE49JC5hcHBLZXksaj0kLmFwcElkLEY9JC5jaGFubmVsSWQsQj12b2lkIDA9PT1GP1xcXCJcXFwiOkYsVz0kLnN1YkNoYW5uZWxJZCxxPXZvaWQgMD09PVc/XFxcIlxcXCI6VyxWPSQuY3VzdG9tUGFyYW0sWT12b2lkIDA9PT1WP3t9OlYsej0kLnBsYWNlbWVudEN1c3RvbVBhcmFtLFE9dm9pZCAwPT09ej97fTp6LEo9JC5zdG9yZSxaPWUucGxhY2VtZW50SWQsdHQ9TyhZLFEpLGV0PVIoKSxpdD1TKCkscnQ9aXQuYXBwLGF0PWl0Lm5ldHdvcmssb3Q9aXQuZGV2aWNlLHYobnVsbD09Snx8bnVsbD09PShhPUouZGV2aWNlKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pbmZvKSl7dC5uZXh0PTEwO2JyZWFrfXQudDA9bnVsbD09Snx8bnVsbD09PShvPUouZGV2aWNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmZvLHQubmV4dD0xNjticmVhaztjYXNlIDEwOnJldHVybiB0Lm5leHQ9MTIsSC5nZXRJbmZvKCk7Y2FzZSAxMjppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTU7YnJlYWt9dC50MT17fTtjYXNlIDE1OnQudDA9dC50MTtjYXNlIDE2OnJldHVybiBkdD10LnQwLHN0PXJ0LmdldEluZm8oKXx8e30sdC5uZXh0PTIwLGF0LmdldFR5cGUoKTtjYXNlIDIwOmlmKHQudDI9dC5zZW50LHQudDIpe3QubmV4dD0yMzticmVha310LnQyPXt9O2Nhc2UgMjM6aWYobHQ9dC50Mix0LnQ0PW51bGw9PUp8fG51bGw9PT0oZD1KLmRldmljZSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuaWRzLHQudDQpe3QubmV4dD0yOTticmVha31yZXR1cm4gdC5uZXh0PTI4LEguZ2V0RGV2aWNlSWRzKCk7Y2FzZSAyODp0LnQ0PXQuc2VudDtjYXNlIDI5OmlmKHQudDM9dC50NCx0LnQzKXt0Lm5leHQ9MzI7YnJlYWt9dC50Mz17fTtjYXNlIDMyOmlmKGN0PXQudDMsdC50Nj1udWxsPT1KfHxudWxsPT09KHM9Si5kZXZpY2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm9haWQsdC50Nil7dC5uZXh0PTM4O2JyZWFrfXJldHVybiB0Lm5leHQ9MzcsSC5nZXRPYUlkKCk7Y2FzZSAzNzp0LnQ2PXQuc2VudDtjYXNlIDM4OmlmKHQudDU9dC50Nix0LnQ1KXt0Lm5leHQ9NDE7YnJlYWt9dC50NT1cXFwiXFxcIjtjYXNlIDQxOmlmKHV0PXQudDUsaHQ9XFxcIlxcXCIuY29uY2F0KG51bGw9PWR0P3ZvaWQgMDpkdC5zY3JlZW5XaWR0aCxcXFwiKlxcXCIpLmNvbmNhdChudWxsPT1kdD92b2lkIDA6ZHQuc2NyZWVuSGVpZ2h0KSxwdD1udFtudWxsPT1sdHx8bnVsbD09PShsPWx0LmRhdGEpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLnR5cGVdfHxcXFwiLTFcXFwiLGZ0PVxcXCIxLjBcXFwiLHQudDc9bnVsbD09Sj92b2lkIDA6Si51cGlkLHQudDcpe3QubmV4dD01MDticmVha31yZXR1cm4gdC5uZXh0PTQ5LEcoKTtjYXNlIDQ5OnQudDc9dC5zZW50O2Nhc2UgNTA6cmV0dXJuIHZ0PXQudDcsdC5uZXh0PTUzLEsoKTtjYXNlIDUzOnJldHVybiBtdD10LnNlbnQsdC5uZXh0PTU2LFgoWik7Y2FzZSA1NjpyZXR1cm4gX3Q9dC5zZW50LHQubmV4dD01OSxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDU5OmlmKHQudDg9dC5zZW50LHQudDgpe3QubmV4dD02MjticmVha310LnQ4PTA7Y2FzZSA2MjpyZXR1cm4gZ3Q9dC50OCx0Lm5leHQ9NjUsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDY1OmlmKHQudDk9dC5zZW50LHQudDkpe3QubmV4dD02ODticmVha310LnQ5PTA7Y2FzZSA2ODpyZXR1cm4geXQ9dC50OSxJdD1NYXRoLmNlaWwoKHl0LWd0KzEpLzg2NGU1KSxidD1cXFwiVE9QT05fQURfQ0FDSEVfQVBQX1xcXCIraix0Lm5leHQ9NzMsTS5nZXRJdGVtKGJ0LCExKTtjYXNlIDczOmlmKHQudDEwPXQuc2VudCx0LnQxMCl7dC5uZXh0PTc2O2JyZWFrfXQudDEwPXt9O2Nhc2UgNzY6cmV0dXJuIGt0PXQudDEwLHd0PXtzeXN0ZW06MSxvc19mdzo4LG1jYzpcXFwiMVxcXCIsbW5jOlxcXCIxXFxcIix0aW1lem9uZTpcXFwiXFxcIixud192ZXI6XFxcIlxcXCIsb3JpZW50OjEsdWE6ZXR8fFxcXCJcXFwiLG9zX3ZuOm51bGwhPT0oYz1udWxsPT1kdD92b2lkIDA6ZHQub3NWZXJzaW9uTmFtZSkmJnZvaWQgMCE9PWM/YzpcXFwiXFxcIixvc192YzpudWxsIT09KHU9XFxcIlxcXCIrKG51bGw9PWR0P3ZvaWQgMDpkdC5vc1ZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixwYWNrYWdlX25hbWU6bnVsbCE9PShoPW51bGw9PXN0P3ZvaWQgMDpzdC5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PWg/aDpcXFwiXFxcIixhcHBfdm46bnVsbCE9PShwPW51bGw9PXN0P3ZvaWQgMDpzdC52ZXJzaW9uTmFtZSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixhcHBfdmM6bnVsbCE9PShmPVxcXCJcXFwiKyhudWxsPT1zdD92b2lkIDA6c3QudmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09Zj9mOlxcXCJcXFwiLGJyYW5kOm51bGwhPT0obT1udWxsPT1kdD92b2lkIDA6ZHQuYnJhbmQpJiZ2b2lkIDAhPT1tP206XFxcIlxcXCIsbW9kZWw6bnVsbCE9PShfPW51bGw9PWR0P3ZvaWQgMDpkdC5tb2RlbCkmJnZvaWQgMCE9PV8/XzpcXFwiXFxcIixwZl92bjpudWxsIT09KGc9bnVsbD09ZHQ/dm9pZCAwOmR0LnBsYXRmb3JtVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1nP2c6XFxcIlxcXCIscGZfdmM6bnVsbCE9PSh5PVxcXCJcXFwiKyhudWxsPT1kdD92b2lkIDA6ZHQucGxhdGZvcm1WZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT15P3k6XFxcIlxcXCIsbmV0d29ya190eXBlOnB0LHNjcmVlbjpodCx1cGlkOnZ0LGFwcF9pZDpqLHNka192ZXI6XFxcIlVBX1xcXCIuY29uY2F0KFhhKSxwbGF0Zm9ybToxLHBsX2lkOlosY2hhbm5lbDpCfHxcXFwiXFxcIixzdWJfY2hhbm5lbDpxfHxcXFwiXFxcIixjdXN0b206dHQscHNfaWQ6bXQsc2Vzc2lvbl9pZDpfdCxmaXJzdF9pbml0X3RpbWU6MSpndCxkYXlzX2Zyb21fZmlyc3RfaW5pdDpJdCxkZW55OlN0cmluZyhkdC5zY3JlZW5EZW5zaXR5KSxhcGlfdmVyOlxcXCIxLjBcXFwiLGhvc3Rfdm46bnVsbCE9PShJPW51bGw9PW90fHxudWxsPT09KGI9b3QuaG9zdCl8fHZvaWQgMD09PWI/dm9pZCAwOmIudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1JP0k6XFxcIlxcXCIsaG9zdF92YzpudWxsIT09KGs9XFxcIlxcXCIrKG51bGw9PW90fHxudWxsPT09KHc9b3QuaG9zdCl8fHZvaWQgMD09PXc/dm9pZCAwOncudmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09az9rOlxcXCJcXFwiLGFidGVzdF9pZDpudWxsIT09KHg9bnVsbD09a3R8fG51bGw9PT0oVD1rdC5kYXRhKXx8dm9pZCAwPT09VD92b2lkIDA6VC5hYnRlc3RfaWQpJiZ2b2lkIDAhPT14P3g6XFxcIlxcXCJ9LHh0PXthbmRyb2lkX2lkOm51bGwhPT0oQT1udWxsPT1jdD92b2lkIDA6Y3QudXNlcikmJnZvaWQgMCE9PUE/QTpcXFwiXFxcIixtYWM6bnVsbCE9PShMPW51bGw9PWN0P3ZvaWQgMDpjdC5tYWMpJiZ2b2lkIDAhPT1MP0w6XFxcIlxcXCIsaW1laTpcXFwiXFxcIixvYWlkOnV0LGdhaWQ6bnVsbCE9PShQPW51bGw9PWN0P3ZvaWQgMDpjdC5hZHZlcnRpc2luZykmJnZvaWQgMCE9PVA/UDpcXFwiXFxcIixpc19jbl9zZGs6XFxcIjFcXFwifSxTdD1DKEQod3QpKSxUdD1DKEQoeHQpKSxBdD1FKE4sW3trZXk6XFxcImFwaV92ZXJcXFwiLHZhbHVlOmZ0fSx7a2V5OlxcXCJwXFxcIix2YWx1ZTpTdH0se2tleTpcXFwicDJcXFwiLHZhbHVlOlR0fV0pLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwOlN0LHAyOlR0LGFwaV92ZXI6ZnQsc2lnbjpBdH0pO2Nhc2UgODQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHRvKHQpe3JldHVybiBlby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZW8oKXtyZXR1cm4gZW89byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwPWFyZ3VtZW50cztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBuPXAubGVuZ3RoPjEmJnZvaWQgMCE9PXBbMV0/cFsxXTp7fSxyPWUucGxhY2VtZW50SWQsdC5wcmV2PTIsYT1EYXRlLm5vdygpLHQubmV4dD02LEphLmNhbGwodGhpcyxlKTtjYXNlIDY6cmV0dXJuIG89dC5zZW50LHQubmV4dD05LE5hKFxcXCJcXFwiLmNvbmNhdChRYSxcXFwiL3YyL29wZW4vcGxhY2VtZW50XFxcIiksbyx7cmF3UmVzcG9uc2U6ITB9KTtjYXNlIDk6cmV0dXJuIGQ9dC5zZW50LHM9XyhudWxsPT1kP3ZvaWQgMDpkLmRhdGEpP0pTT04ucGFyc2UobnVsbD09ZD92b2lkIDA6ZC5kYXRhKToobnVsbD09ZD92b2lkIDA6ZC5kYXRhKXx8e30sbD1EYXRlLm5vdygpLGM9e2tleTpcXFwiU1RSQVRFR1lfUkVRVUVTVF9USU1FXFxcIixtc2c6XFxcInBsYWNlbWVudFxcXCIsdW5pdGlkOnIsbXNnMTpTdHJpbmcoYSksbXNnMjpTdHJpbmcobCksbXNnMzpTdHJpbmcobC1hKSxtc2c0Om51bGwhPW4mJm4uaXNQcmVsb2FkP1xcXCIxXFxcIjpcXFwiXFxcIn0sVmEuY2FsbCh0aGlzLGMpLHMuY29kZT4wJiYodT17a2V5OlxcXCJBUElfRVJST1JcXFwiLG1zZzpcXFwicGxhY2VtZW50XFxcIix1bml0aWQ6cixtc2cxOlN0cmluZyhzLmNvZGUpLG1zZzI6cy5tc2csbXNnMzpRYS5yZXBsYWNlKC9eaHR0cHM/OlxcXFwvXFxcXC8vLFxcXCJcXFwiKX0sVmEuY2FsbCh0aGlzLHUpKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixkKTtjYXNlIDE4OnJldHVybiB0LnByZXY9MTgsdC50MD10LmNhdGNoKDIpLGg9e2tleTpcXFwiQVBJX0VSUk9SXFxcIixtc2c6XFxcInBsYWNlbWVudFxcXCIsbXNnMTpcXFwidW5rbm93XFxcIixtc2cyOlxcXCJyZXF1ZXN0IGVycm9yXFxcIix1bml0aWQ6cixtc2czOlFhLnJlcGxhY2UoL15odHRwcz86XFxcXC9cXFxcLy8sXFxcIlxcXCIpfSxWYS5jYWxsKHRoaXMsaCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse30pO2Nhc2UgMjM6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1syLDE4XV0pfSkpKSxlby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGlvPVxcXCJodHRwOi8vdGsuYW55dGhpbmt0ZWNoLmNvbVxcXCIsbm89XFxcIjQuMi4xMVxcXCIscm89e0FEX0xPQUQ6MTAsQURfTE9BRF9GSUxMRUQ6MTIsQURfUkVRVUVTVDoxLEFEX1JFUVVFU1RfRklMTEVEOjIsQURfQklERElORzoxMSxBRF9TSE9XOjEzLEFEX0NMSUNLOjYsQURfSU1QUkVTU0lPTjo0LEFQUF9TVEFSVFVQOjIxfTtmdW5jdGlvbiBhbyh0KXtyZXR1cm4gb28uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG9vKCl7cmV0dXJuKG9vPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLG8sZCxzLGwsYyx1LGgscCxmLG0sXyxnLHksSSxiLGssdyx4LFQsQSxMLFAsVSwkLE4saixGLEIsVyxxLFYsWSx6LFEsSixaLHR0LGV0LGl0LHJ0LGF0LG90LGR0LHN0LGx0LGN0LHV0LGh0LHB0LGZ0LHZ0LG10LF90LGd0LHl0LEl0LGJ0LGt0LHd0LHh0LFN0LFR0LEF0LEV0LEN0LER0LEx0LE90LFJ0LFB0LFV0LCR0LE50LGp0LEZ0LEJ0LFd0LHF0LE10LFZ0LEh0LEd0LFl0LEt0LHp0LFh0LFF0LEp0LFp0LHRlLGVlLGllLG5lLHJlLGFlLG9lLGRlLHNlLGxlLGNlO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoJD1udWxsIT09KG49bnVsbD09PShyPXRoaXMuJGFwcCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuJGRlZikmJnZvaWQgMCE9PW4/bjp0aGlzLiRkZWYsTj0obnVsbD09JD92b2lkIDA6JC50b3Bvbl9zZGspfHx7fSxqPU4uYXBwS2V5LEY9Ti5hcHBJZCxCPU4uY2hhbm5lbElkLFc9dm9pZCAwPT09Qj9cXFwiXFxcIjpCLHE9Ti5zdWJDaGFubmVsSWQsVj12b2lkIDA9PT1xP1xcXCJcXFwiOnEsWT1OLmN1c3RvbVBhcmFtLHo9dm9pZCAwPT09WT97fTpZLFE9Ti5wbGFjZW1lbnRDdXN0b21QYXJhbSxKPXZvaWQgMD09PVE/e306USxaPU4uc3RvcmUsdHQ9ZS5wbGFjZW1lbnRJZCxldD1lLnJlcXVlc3RJZCxpdD1lLmxvZ1R5cGUscnQ9ZS50cmFmZmljR3JvdXBJZCxhdD1lLnNlZ21lbnRJZCxvdD1lLmFkU291cmNlSWQsZHQ9ZS5ud0Zpcm1JZCxzdD1lLmFzSWQsbHQ9ZS5mb3JtYXQsY3Q9ZS5lY3BtLHV0PWUuc1B0eSxodD1lLnBsYWNlbWVudExvYWRUaW1lLHB0PWUudW5pdEZpbGxlZFRpbWUsZnQ9ZS5yZXFVZ051bSx2dD1lLnBDLG10PWUuYmlkVGssX3Q9dm9pZCAwPT09bXQ/e306bXQsZ3Q9ZS53ZlR5cGUseXQ9ZS5wc0lkVmlydHVhbCxJdD12b2lkIDA9PT15dD9cXFwiXFxcIjp5dCxidD1PKHosSiksa3Q9UygpLHd0PWt0LmFwcCx4dD1rdC5uZXR3b3JrLFN0PWt0LmRldmljZSxUdD1SKCksdihudWxsPT1afHxudWxsPT09KGE9Wi5kZXZpY2UpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmluZm8pKXt0Lm5leHQ9MTA7YnJlYWt9dC50MD1udWxsPT1afHxudWxsPT09KG89Wi5kZXZpY2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmluZm8sdC5uZXh0PTE2O2JyZWFrO2Nhc2UgMTA6cmV0dXJuIHQubmV4dD0xMixILmdldEluZm8oKTtjYXNlIDEyOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xNTticmVha310LnQxPXt9O2Nhc2UgMTU6dC50MD10LnQxO2Nhc2UgMTY6cmV0dXJuIEF0PXQudDAsRXQ9d3QuZ2V0SW5mbygpfHx7fSx0Lm5leHQ9MjAseHQuZ2V0VHlwZSgpO2Nhc2UgMjA6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIzO2JyZWFrfXQudDI9e307Y2FzZSAyMzppZihDdD10LnQyLHQudDQ9bnVsbD09Wnx8bnVsbD09PShkPVouZGV2aWNlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5pZHMsdC50NCl7dC5uZXh0PTI5O2JyZWFrfXJldHVybiB0Lm5leHQ9MjgsSC5nZXREZXZpY2VJZHMoKTtjYXNlIDI4OnQudDQ9dC5zZW50O2Nhc2UgMjk6aWYodC50Mz10LnQ0LHQudDMpe3QubmV4dD0zMjticmVha310LnQzPXt9O2Nhc2UgMzI6aWYoRHQ9dC50Myx0LnQ2PW51bGw9PVp8fG51bGw9PT0ocz1aLmRldmljZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMub2FpZCx0LnQ2KXt0Lm5leHQ9Mzg7YnJlYWt9cmV0dXJuIHQubmV4dD0zNyxILmdldE9hSWQoKTtjYXNlIDM3OnQudDY9dC5zZW50O2Nhc2UgMzg6aWYodC50NT10LnQ2LHQudDUpe3QubmV4dD00MTticmVha310LnQ1PVxcXCJcXFwiO2Nhc2UgNDE6aWYoTHQ9dC50NSxPdD1cXFwiMS4wXFxcIix0LnQ3PW51bGw9PVo/dm9pZCAwOloudXBpZCx0LnQ3KXt0Lm5leHQ9NDg7YnJlYWt9cmV0dXJuIHQubmV4dD00NyxHKCk7Y2FzZSA0Nzp0LnQ3PXQuc2VudDtjYXNlIDQ4OnJldHVybiBSdD10LnQ3LHQubmV4dD01MSxLKCk7Y2FzZSA1MTpyZXR1cm4gUHQ9dC5zZW50LEl0JiYoUHQ9UHQrXFxcIi9cXFwiK0l0KSx0Lm5leHQ9NTUsWCh0dCk7Y2FzZSA1NTpyZXR1cm4gVXQ9dC5zZW50LHQubmV4dD01OCxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDU4OmlmKHQudDg9dC5zZW50LHQudDgpe3QubmV4dD02MTticmVha310LnQ4PTA7Y2FzZSA2MTpyZXR1cm4gJHQ9dC50OCx0Lm5leHQ9NjQsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDY0OmlmKHQudDk9dC5zZW50LHQudDkpe3QubmV4dD02NzticmVha310LnQ5PTA7Y2FzZSA2NzpyZXR1cm4gTnQ9dC50OSxqdD1NYXRoLmNlaWwoKE50LSR0KzEpLzg2NGU1KSxGdD1cXFwiXFxcIi5jb25jYXQobnVsbD09QXQ/dm9pZCAwOkF0LnNjcmVlbldpZHRoLFxcXCIqXFxcIikuY29uY2F0KG51bGw9PUF0P3ZvaWQgMDpBdC5zY3JlZW5IZWlnaHQpLEJ0PW50W251bGw9PUN0fHxudWxsPT09KGw9Q3QuZGF0YSl8fHZvaWQgMD09PWw/dm9pZCAwOmwudHlwZV18fFxcXCItMVxcXCIsV3Q9XFxcIlRPUE9OX0FEX0NBQ0hFX0FQUF9cXFwiK0YsdC5uZXh0PTc0LE0uZ2V0SXRlbShXdCwhMSk7Y2FzZSA3NDppZih0LnQxMD10LnNlbnQsdC50MTApe3QubmV4dD03NzticmVha310LnQxMD17fTtjYXNlIDc3OnJldHVybiBxdD10LnQxMCxNdD17YXBwX2lkOkYsc3lzdGVtOjEscGxhdGZvcm06MSxvc192bjpudWxsIT09KGM9bnVsbD09QXQ/dm9pZCAwOkF0Lm9zVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PSh1PVxcXCJcXFwiKyhudWxsPT1BdD92b2lkIDA6QXQub3NWZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCIscGFja2FnZV9uYW1lOm51bGwhPT0oaD1udWxsPT1FdD92b2lkIDA6RXQucGFja2FnZU5hbWUpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsYXBwX3ZuOm51bGwhPT0ocD1udWxsPT1FdD92b2lkIDA6RXQudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1wP3A6XFxcIlxcXCIsYXBwX3ZjOm51bGwhPT0oZj1cXFwiXFxcIisobnVsbD09RXQ/dm9pZCAwOkV0LnZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PWY/ZjpcXFwiXFxcIixicmFuZDpudWxsIT09KG09bnVsbD09QXQ/dm9pZCAwOkF0LmJyYW5kKSYmdm9pZCAwIT09bT9tOlxcXCJcXFwiLG1vZGVsOm51bGwhPT0oXz1udWxsPT1BdD92b2lkIDA6QXQubW9kZWwpJiZ2b2lkIDAhPT1fP186XFxcIlxcXCIscGZfdm46bnVsbCE9PShnPW51bGw9PUF0P3ZvaWQgMDpBdC5wbGF0Zm9ybVZlcnNpb25OYW1lKSYmdm9pZCAwIT09Zz9nOlxcXCJcXFwiLHBmX3ZjOm51bGwhPT0oeT1cXFwiXFxcIisobnVsbD09QXQ/dm9pZCAwOkF0LnBsYXRmb3JtVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09eT95OlxcXCJcXFwiLHNjcmVlbjpGdCxuZXR3b3JrX3R5cGU6QnQsbWNjOlxcXCIxXFxcIixtbmM6XFxcIjFcXFwiLGxhbmd1YWdlOm51bGwhPT0oST1udWxsPT1BdD92b2lkIDA6QXQubGFuZ3VhZ2UpJiZ2b2lkIDAhPT1JP0k6XFxcIlxcXCIsdGltZXpvbmU6XFxcIlxcXCIsc2RrX3ZlcjpcXFwiVUFfXFxcIi5jb25jYXQobm8pLGdwX3ZlcjpcXFwiXFxcIix1YTpUdHx8XFxcIlxcXCIsb3JpZW50OjEsdXBpZDpSdCxjaGFubmVsOlcsc3ViX2NoYW5uZWw6VixhbmRyb2lkX2lkOm51bGwhPT0oYj1udWxsPT1EdD92b2lkIDA6RHQudXNlcikmJnZvaWQgMCE9PWI/YjpcXFwiXFxcIixvYWlkOkx0LG1hYzpudWxsIT09KGs9bnVsbD09RHQ/dm9pZCAwOkR0Lm1hYykmJnZvaWQgMCE9PWs/azpcXFwiXFxcIixpbWVpOlxcXCJcXFwiLGlzX2NuX3NkazpcXFwiMVxcXCIsZ2FpZDpudWxsIT09KHc9bnVsbD09RHQ/dm9pZCAwOkR0LmFkdmVydGlzaW5nKSYmdm9pZCAwIT09dz93OlxcXCJcXFwiLGlkZmE6XFxcIlxcXCIsaWRmdjpcXFwiXFxcIixjdXN0b206YnQsb3NfZnc6OCxmaXJzdF9pbml0X3RpbWU6MSokdCxkYXlzX2Zyb21fZmlyc3RfaW5pdDpqdCxob3N0X3ZuOm51bGwhPT0oeD1udWxsPT1TdHx8bnVsbD09PShUPVN0Lmhvc3QpfHx2b2lkIDA9PT1UP3ZvaWQgMDpULnZlcnNpb25OYW1lKSYmdm9pZCAwIT09eD94OlxcXCJcXFwiLGhvc3RfdmM6bnVsbCE9PShBPVxcXCJcXFwiKyhudWxsPT1TdHx8bnVsbD09PShMPVN0Lmhvc3QpfHx2b2lkIDA9PT1MP3ZvaWQgMDpMLnZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PUE/QTpcXFwiXFxcIixhYnRlc3RfaWQ6bnVsbCE9PShQPW51bGw9PXF0fHxudWxsPT09KFU9cXQuZGF0YSl8fHZvaWQgMD09PVU/dm9pZCAwOlUuYWJ0ZXN0X2lkKSYmdm9pZCAwIT09UD9QOlxcXCJcXFwifSxWdD0obmV3IERhdGUpLmdldFRpbWUoKSwxPT09KEh0PXt0cmFmZmljX2dyb3VwX2lkOnJ0LHNka190aW1lOlZ0LHJlcV9pZDpldCxyZXFfcGFyOjEscmVxX3Bhcl9udW06ZnQscGxfaWQ6dHQsdHlwZTpyb1tpdF0sdW5pdF9pZDpvdCxud19maXJtX2lkOmR0LGdyb19pZDphdCxmb3JtYXQ6bHQscHNfaWQ6UHQsc2Vzc2lvbmlkOlV0LGFzaWQ6c3QsYmlkdHlwZTpbXFxcIjFcXFwiLFxcXCIyXFxcIl0uaW5jbHVkZXMoZ3QpPzE6MCxiaWRwcmljZTpjdCxzX3B0eTp1dCxwX2M6dnQsY2xfaW1wOjAsaXNsb2FkOlxcXCJcXFwifSkuYmlkdHlwZSYmKEd0PV90LmJpZElkLFl0PXZvaWQgMD09PUd0P1xcXCJcXFwiOkd0LEt0PV90LnRwQmlkSWQsenQ9dm9pZCAwPT09S3Q/XFxcIlxcXCI6S3QsWHQ9X3QuYmlkUmVxdWVzdFRpbWUsUXQ9X3QuYmlkUmVzcG9uc2VUaW1lLEp0PV90LmJpZEZpbGxlZFRpbWUsWnQ9X3QuYmlkUmVzdWx0LHRlPV90LmVycm9yTXNnLGVlPXZvaWQgMD09PXRlP1xcXCJcXFwiOnRlLGllPV90LnJsQmlkU3RhdHVzLG5lPV90LnNvcnRUeXBlLHJlPV90LnNvcnRQcmlvcml0eSxhZT17YmlkX2lkOll0LHRwX2JpZF9pZDp6dH0sb2U9e30sXFxcIkFEX0JJRERJTkdcXFwiPT09aXQmJihvZT17YmlkcmVxdWVzdHRpbWU6WHQsYmlkcmVzcG9uc2V0aW1lOlF0LGJpZF9maWxsZWR0aW1lOkp0LGJpZHJlc3BvbnNlbGlzdDpbe3NvcnRwcmlvcml0eTpyZSxzb3J0dHlwZTpuZSx1bml0X2lkOm90LGJpZHJlc3VsdDpadCxiaWRwcmljZTpjdCxlcnJvcm1zZzplZSx0cF9iaWRfaWQ6enQsbndfZmlybV9pZDpkdCxybF9iaWRfc3RhdHVzOmllLHNfcHR5OnV0fV19KSxIdD1PYmplY3QuYXNzaWduKHt9LEh0LGFlLG9lKSksXFxcIkFEX0xPQURfRklMTEVEXFxcIj09PWl0JiYoSHQubG9hZHRpbWU9aHQpLFxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCI9PT1pdCYmKEh0LmZpbGxlZHRpbWU9cHQpLGRlPVtIdF0sc2U9QyhEKE10KSksbGU9QyhEKGRlKSksY2U9RShqLFt7a2V5OlxcXCJhcGlfdmVyXFxcIix2YWx1ZTpPdH0se2tleTpcXFwiY29tbW9uXFxcIix2YWx1ZTpzZX0se2tleTpcXFwiZGF0YVxcXCIsdmFsdWU6bGV9XSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse2NvbW1vbjpzZSxkYXRhOmxlLGFwaV92ZXI6T3Qsc2lnbjpjZX0pO2Nhc2UgOTA6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHNvKHQpe3JldHVybiBsby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbG8oKXtyZXR1cm4obG89byhpKCkubWFyaygoZnVuY3Rpb24gdChuKXt2YXIgcixhLG8sZDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCx0Lm5leHQ9Myxhby5jYWxsKHRoaXMsbik7Y2FzZSAzOnJldHVybiByPXQuc2VudCx0Lm5leHQ9NixOYShcXFwiXFxcIi5jb25jYXQoaW8sXFxcIi92Mi90a1xcXCIpLHIpO2Nhc2UgNjooYT10LnNlbnQpLmNvZGU+MCYmKG89ZShlKHt9LG4pLHt9LHtrZXk6XFxcIkFQSV9FUlJPUlxcXCIsbXNnOlxcXCJ0a18yXFxcIixtc2cxOlN0cmluZyhhLmNvZGUpLG1zZzI6YS5tc2csbXNnMzppby5yZXBsYWNlKC9eaHR0cHM/OlxcXFwvXFxcXC8vLFxcXCJcXFwiKX0pLFZhLmNhbGwodGhpcyxvKSksdC5uZXh0PTE0O2JyZWFrO2Nhc2UgMTA6dC5wcmV2PTEwLHQudDA9dC5jYXRjaCgwKSxkPWUoZSh7fSxuKSx7fSx7a2V5OlxcXCJBUElfRVJST1JcXFwiLG1zZzpcXFwidGtfMlxcXCIsbXNnMTpcXFwidW5rbm93XFxcIixtc2cyOlxcXCJyZXF1ZXN0IGVycm9yXFxcIixtc2czOmlvLnJlcGxhY2UoL15odHRwcz86XFxcXC9cXFxcLy8sXFxcIlxcXCIpfSksVmEuY2FsbCh0aGlzLGQpO2Nhc2UgMTQ6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDEwXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjbz1cXFwiNC4yLjExXFxcIix1bz1cXFwiaHR0cDovL2FkeC1jbi5hbnl0aGlua3RlY2guY29tXFxcIixobz17QlJPV1NFUjoyLFdFQlZJRVc6M30scG89W1xcXCJ7X19WSURFT19USU1FX199XFxcIixcXFwie19fQkVHSU5fVElNRV9ffVxcXCIsXFxcIntfX0VORF9USU1FX199XFxcIixcXFwie19fUExBWV9GSVJTVF9GUkFNRV9ffVxcXCIsXFxcIntfX1BMQVlfTEFTVF9GUkFNRV9ffVxcXCIsXFxcIntfX1NDRU5FX199XFxcIixcXFwie19fVFlQRV9ffVxcXCIsXFxcIntfX0JFSEFWSU9SX199XFxcIixcXFwie19fU1RBVFVTX199XFxcIixcXFwie19fUkVRX1dJRFRIX199XFxcIixcXFwie19fUkVRX0hFSUdIVF9ffVxcXCIsXFxcIntfX1dJRFRIX199XFxcIixcXFwie19fSEVJR0hUX199XFxcIixcXFwie19fRE9XTl9YX199XFxcIixcXFwie19fRE9XTl9ZX199XFxcIixcXFwie19fVVBfWF9ffVxcXCIsXFxcIntfX1VQX1lfX31cXFwiLFxcXCJ7X19DTElDS19JRF9ffVxcXCIsXFxcIntfX1JFX0RPV05fWF9ffVxcXCIsXFxcIntfX1JFX0RPV05fWV9ffVxcXCIsXFxcIntfX1JFX1VQX1hfX31cXFwiLFxcXCJ7X19SRV9VUF9ZX199XFxcIixcXFwie19fVFNfX31cXFwiLFxcXCJ7X19UU19NU0VDX199XFxcIixcXFwie19fRU5EX1RTX199XFxcIixcXFwie19fRU5EX1RTX01TRUNfX31cXFwiLFxcXCJ7X19QTEFZX1NFQ19ffVxcXCIsXFxcIntfX1BMQVlfU0VDX199XFxcIixcXFwie19fUExBWV9NU0VDX199XFxcIixcXFwie19fRFBMSU5LX1RZUEVfX31cXFwiLFxcXCJ7QUJTT0xVVEVfQ09PUkR9XFxcIixcXFwie1JFTEFUSVZFX0NPT1JEfVxcXCJdO2Z1bmN0aW9uIGZvKHQpe3JldHVybiB2by5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdm8oKXtyZXR1cm4odm89byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsbSxfLGcseSxJLGIsayx3LHgsVCxBLEUsTCxPLFAsVSwkLE4saixGLEIsVyxxLE0sVixZLHosUSxKLFosdHQsZXQsaXQscnQsYXQsb3QsZHQsc3QsbHQsY3QsdXQsaHQscHQsZnQsdnQsbXQsX3QsZ3QseXQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZih4PW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZixUPShudWxsPT14P3ZvaWQgMDp4LnRvcG9uX3Nkayl8fHt9LEE9VC5hcHBJZCxFPVQuY2hhbm5lbElkLEw9dm9pZCAwPT09RT9cXFwiXFxcIjpFLE89VC5zdWJDaGFubmVsSWQsUD12b2lkIDA9PT1PP1xcXCJcXFwiOk8sVT1ULnN0b3JlLCQ9VC5pc1Rlc3QsTj12b2lkIDAhPT0kJiYkLGo9ZS5wbGFjZW1lbnRJZCxGPWUudW5pdElkLEI9ZS5yZXF1ZXN0SWQsVz1lLmFkeEV4dCxxPXZvaWQgMD09PVc/XFxcIlxcXCI6VyxNPWUuYWRXaWR0aCxWPXZvaWQgMD09PU0/MDpNLFk9ZS5hZEhlaWdodCx6PXZvaWQgMD09PVk/MDpZLFE9ZS5mb3JtYXQsSj12b2lkIDA9PT1RP1xcXCIwXFxcIjpRLFo9UigpLHR0PVMoKSxldD10dC5hcHAsaXQ9dHQubmV0d29yayx2KG51bGw9PVV8fG51bGw9PT0oYT1VLmRldmljZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaW5mbykpe3QubmV4dD05O2JyZWFrfXQudDA9bnVsbD09VXx8bnVsbD09PShvPVUuZGV2aWNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmZvLHQubmV4dD0xNTticmVhaztjYXNlIDk6cmV0dXJuIHQubmV4dD0xMSxILmdldEluZm8oKTtjYXNlIDExOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xNDticmVha310LnQxPXt9O2Nhc2UgMTQ6dC50MD10LnQxO2Nhc2UgMTU6cmV0dXJuIHJ0PXQudDAsYXQ9ZXQuZ2V0SW5mbygpfHx7fSx0Lm5leHQ9MTksaXQuZ2V0VHlwZSgpO2Nhc2UgMTk6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIyO2JyZWFrfXQudDI9e307Y2FzZSAyMjppZihvdD10LnQyLHQudDQ9bnVsbD09VXx8bnVsbD09PShkPVUuZGV2aWNlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5pZHMsdC50NCl7dC5uZXh0PTI4O2JyZWFrfXJldHVybiB0Lm5leHQ9MjcsSC5nZXREZXZpY2VJZHMoKTtjYXNlIDI3OnQudDQ9dC5zZW50O2Nhc2UgMjg6aWYodC50Mz10LnQ0LHQudDMpe3QubmV4dD0zMTticmVha310LnQzPXt9O2Nhc2UgMzE6aWYoZHQ9dC50Myx0LnQ2PW51bGw9PVV8fG51bGw9PT0ocz1VLmRldmljZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMub2FpZCx0LnQ2KXt0Lm5leHQ9Mzc7YnJlYWt9cmV0dXJuIHQubmV4dD0zNixILmdldE9hSWQoKTtjYXNlIDM2OnQudDY9dC5zZW50O2Nhc2UgMzc6aWYodC50NT10LnQ2LHQudDUpe3QubmV4dD00MDticmVha310LnQ1PVxcXCJcXFwiO2Nhc2UgNDA6aWYoc3Q9dC50NSxsdD1cXFwiXFxcIi5jb25jYXQobnVsbD09cnQ/dm9pZCAwOnJ0LnNjcmVlbldpZHRoLFxcXCIqXFxcIikuY29uY2F0KG51bGw9PXJ0P3ZvaWQgMDpydC5zY3JlZW5IZWlnaHQpLGN0PW50W251bGw9PW90fHxudWxsPT09KGw9b3QuZGF0YSl8fHZvaWQgMD09PWw/dm9pZCAwOmwudHlwZV18fFxcXCItMVxcXCIsdC50Nz1udWxsPT1VP3ZvaWQgMDpVLnVwaWQsdC50Nyl7dC5uZXh0PTQ4O2JyZWFrfXJldHVybiB0Lm5leHQ9NDcsRygpO2Nhc2UgNDc6dC50Nz10LnNlbnQ7Y2FzZSA0ODpyZXR1cm4gdXQ9dC50Nyx0Lm5leHQ9NTEsSygpO2Nhc2UgNTE6cmV0dXJuIGh0PXQuc2VudCx0Lm5leHQ9NTQsWChqKTtjYXNlIDU0OnJldHVybiBwdD10LnNlbnQsZnQ9e3N5c3RlbToxLHBsYXRmb3JtOjEsYnJhbmQ6bnVsbCE9PShjPW51bGw9PXJ0P3ZvaWQgMDpydC5icmFuZCkmJnZvaWQgMCE9PWM/YzpcXFwiXFxcIixtb2RlbDpudWxsIT09KHU9bnVsbD09cnQ/dm9pZCAwOnJ0Lm1vZGVsKSYmdm9pZCAwIT09dT91OlxcXCJcXFwiLG9zX3ZuOm51bGwhPT0oaD1udWxsPT1ydD92b2lkIDA6cnQub3NWZXJzaW9uTmFtZSkmJnZvaWQgMCE9PWg/aDpcXFwiXFxcIixvc192YzpudWxsIT09KHA9XFxcIlxcXCIrKG51bGw9PXJ0P3ZvaWQgMDpydC5vc1ZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixvc19mdzo4LHBmX3ZuOm51bGwhPT0oZj1udWxsPT1ydD92b2lkIDA6cnQucGxhdGZvcm1WZXJzaW9uTmFtZSkmJnZvaWQgMCE9PWY/ZjpcXFwiXFxcIixwZl92YzpudWxsIT09KG09XFxcIlxcXCIrKG51bGw9PXJ0P3ZvaWQgMDpydC5wbGF0Zm9ybVZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PW0/bTpcXFwiXFxcIixzZGtfdmVyOlxcXCJVQV9cXFwiLmNvbmNhdChjbyksYXBwX2lkOkEsYXBwX3ZuOm51bGwhPT0oXz1udWxsPT1hdD92b2lkIDA6YXQudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1fP186XFxcIlxcXCIsYXBwX3ZjOm51bGwhPT0oZz1cXFwiXFxcIisobnVsbD09YXQ/dm9pZCAwOmF0LnZlcnNpb25Db2RlKSkmJnZvaWQgMCE9PWc/ZzpcXFwiXFxcIixwYWNrYWdlX25hbWU6bnVsbCE9PSh5PW51bGw9PWF0P3ZvaWQgMDphdC5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PXk/eTpcXFwiXFxcIixwbF9pZDpqLG1jYzpcXFwiMVxcXCIsbW5jOlxcXCIxXFxcIixsYW5ndWFnZTpudWxsIT09KEk9bnVsbD09cnQ/dm9pZCAwOnJ0Lmxhbmd1YWdlKSYmdm9pZCAwIT09ST9JOlxcXCJcXFwiLHRpbWV6b25lOlxcXCJcXFwiLG53X3ZlcjpcXFwiXFxcIixvcmllbnQ6MSx1YTpafHxcXFwiXFxcIixuZXR3b3JrX3R5cGU6Y3Qsc2NyZWVuOmx0LHVwaWQ6dXQsY2hhbm5lbDpMfHxcXFwiXFxcIixzdWJfY2hhbm5lbDpQfHxcXFwiXFxcIixwc19pZDpodCxzZXNzaW9uX2lkOnB0LGRlbnk6U3RyaW5nKHJ0LnNjcmVlbkRlbnNpdHkpfSx2dD17YW5kcm9pZF9pZDpudWxsIT09KGI9bnVsbD09ZHQ/dm9pZCAwOmR0LnVzZXIpJiZ2b2lkIDAhPT1iP2I6XFxcIlxcXCIsbWFjOm51bGwhPT0oaz1udWxsPT1kdD92b2lkIDA6ZHQubWFjKSYmdm9pZCAwIT09az9rOlxcXCJcXFwiLGltZWk6XFxcIlxcXCIsb2FpZDpzdCxnYWlkOm51bGwhPT0odz1udWxsPT1kdD92b2lkIDA6ZHQuYWR2ZXJ0aXNpbmcpJiZ2b2lkIDAhPT13P3c6XFxcIlxcXCIsaXNfY25fc2RrOlxcXCIxXFxcIn0sbXQ9W3thZF93aWR0aDpWLGFkX2hlaWdodDp6LG53X2Zpcm1faWQ6NjYsdW5pdF9pZDpTdHJpbmcoRiksYWRfc291cmNlX2lkOlN0cmluZyhGKSxnZXRfb2ZmZXI6MixhZF9mb3JtYXQ6Sn1dLE4mJihtdFswXS50ZXN0PTEpLF90PUMoRChmdCkpLGd0PUMoRCh2dCkpLHl0PUMoRChtdCkpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwOl90LHAyOmd0LHJlcXVlc3RfaWQ6QixhZHhfZXh0OnEsaGJfbGlzdDp5dH0pO2Nhc2UgNjM6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG1vKHQsZSl7cmV0dXJuIF9vLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBfbygpe3JldHVybihfbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbil7dmFyIHI7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAsdC5uZXh0PTMsZm8uY2FsbCh0aGlzLGUpO2Nhc2UgMzpyZXR1cm4gcj10LnNlbnQsdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsTmEoXFxcIlxcXCIuY29uY2F0KHVvLFxcXCIvYmlkXFxcIikscix7dGltZW91dDpufSkpO2Nhc2UgNzp0LnByZXY9Nyx0LnQwPXQuY2F0Y2goMCk7Y2FzZSA5OnJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIix7Y29kZToxLG1zZzpcXFwi6K+35rGCQVBJ5byC5bi4XFxcIn0pO2Nhc2UgMTA6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDddXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZ28odCxlLGksbil7cmV0dXJuIHlvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB5bygpe3JldHVybih5bz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KG4scixhLG8pe3ZhciBkLHMsbCxjLHUsaCxwLGYsbSxfLGcseSxJLGIsayx3LHgsUyxULEEsRSxDLEQsTCxPLFIsUCxVLCQsTixqLEYsQixXLHEsTSxWO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGM9bi5wbGFjZW1lbnRJZCx1PW4uZXhjaFIsaD1hLmhiQmlkVGltZW91dCxwPWEucmVxdWVzdElkLGY9YS5zZWdtZW50SWQsbT1hLnRyYWZmaWNHcm91cElkLF89YS5hc0lkLGc9RGF0ZS5ub3coKSx0Lm5leHQ9NSxtby5jYWxsKHRoaXMsbixoKTtjYXNlIDU6aWYoeT10LnNlbnQsST1EYXRlLm5vdygpLGI9bnVsbCE9PShkPW51bGw9PXk/dm9pZCAwOnkuZGF0YSkmJnZvaWQgMCE9PWQ/ZDpbXSxrPWJbMF18fHt9LHc9dGhpcy5wbGFjZW1lbnRMb2FkU3RhcnQseD10aGlzLnBsYWNlbWVudExvYWRFbmQsUz10aGlzLmZvcm1hdCxUPXRoaXMucmVxVWdOdW0sQT10aGlzLmFwaURhdGEsRT1BLnRfZ19pZCxDPUEuZ3JvX2lkLEQ9QS5hc2lkLEw9QS5wX2MsTz12b2lkIDA9PT1MP3t9OkwsUj14LXcsUD1vLmdldFN0YXR1c0xpc3QoKSxVPVAubGVuZ3RoLDEsJD1QLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZWNwbVNvcnQ8ay5zX3B0eX0pKSxOPXtiaWRSZXF1ZXN0VGltZTpnLGJpZFJlc3BvbnNlVGltZTpJLGJpZEZpbGxlZFRpbWU6SS1nLGJpZFJlc3VsdDowLHJsQmlkU3RhdHVzOjAsc29ydFR5cGU6LTEsc29ydFByaW9yaXR5OiQ+LTE/JCsxOlUrMX0saj17cGxhY2VtZW50SWQ6YyxyZXF1ZXN0SWQ6cCxsb2dUeXBlOlxcXCJBRF9CSURESU5HXFxcIix0cmFmZmljR3JvdXBJZDpFLHNlZ21lbnRJZDpDLGFzSWQ6RCxhZFNvdXJjZUlkOnIudW5pdF9pZHx8MCxud0Zpcm1JZDpyLm53X2Zpcm1faWR8fDAsZWNwbTprLnByaWNlLHNQdHk6ay5zX3B0eXx8MCxmb3JtYXQ6UyxwbGFjZW1lbnRMb2FkVGltZTpSLHVuaXRGaWxsZWRUaW1lOkktZyxyZXFVZ051bTpULHBDOk8sd2ZUeXBlOlxcXCIxXFxcIn0sRj1lKGUoe30saikse30se2JpZFRrOk59KSxyLmJpZFRrPXtiaWRGaWxsZWRUaW1lOkktZ30sISh5LmNvZGU+MHx8KG51bGw9PXl8fG51bGw9PT0ocz15LmRhdGEpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmxlbmd0aCk8PTApKXt0Lm5leHQ9MjU7YnJlYWt9cmV0dXJuIEYuYmlkVGsuZXJyb3JNc2c9XFxcImJpZCBlcnJvciwgY29kZSA9IFxcXCIuY29uY2F0KHkuY29kZSxcXFwiLCBtc2cgPSBcXFwiKS5jb25jYXQoeS5tc2cpLHNvLmNhbGwodGhpcyxGKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixyKTtjYXNlIDI1OmlmKCEoMSE9PWsuaXNfc3VjY2Vzc3x8ay5lcnJfY29kZT4wKSl7dC5uZXh0PTI5O2JyZWFrfXJldHVybiBGLmJpZFRrLmVycm9yTXNnPVxcXCJiaWQgZXJyb3IsIGNvZGUgPSBcXFwiLmNvbmNhdChrLmVycl9jb2RlLFxcXCIsIG1zZyA9IFxcXCIpLmNvbmNhdChrLmVycl9tc2cpLHNvLmNhbGwodGhpcyxGKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixyKTtjYXNlIDI5OmlmKCEodihrKXx8dihrLm9mZmVyX2RhdGEpfHxrLm9mZmVyX2RhdGEuc2VhdGJpZCYmay5vZmZlcl9kYXRhLnNlYXRiaWQubGVuZ3RoPD0wKSl7dC5uZXh0PTMyO2JyZWFrfXJldHVybiBzby5jYWxsKHRoaXMsRiksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIscik7Y2FzZSAzMjppZihCPWsub2ZmZXJfZGF0YS5zZWF0YmlkWzBdLHIuYmlkVGsuYmlkSWQ9ay5iaWRfaWQsci5iaWRUay50cEJpZElkPWsudHBfYmlkX2lkLEYuYmlkVGsuYmlkSWQ9ay5iaWRfaWQsRi5iaWRUay50cEJpZElkPWsudHBfYmlkX2lkLEIudGsubHVybHx8KEIudGsubHVybD1bXSksQi50ay5udXJsfHwoQi50ay5udXJsPVtdKSxCLnRrLmJ1cmx8fChCLnRrLmJ1cmw9W10pLGsubHVybCYmQi50ay5sdXJsLnB1c2goay5sdXJsKSxrLm51cmwmJkIudGsubnVybC5wdXNoKGsubnVybCksay5idXJsJiZCLnRrLmJ1cmwucHVzaChrLmJ1cmwpLE9iamVjdC52YWx1ZXMoaG8pLmluY2x1ZGVzKChudWxsPT1CP3ZvaWQgMDpCLmxpbmtfdHlwZSl8fDApKXt0Lm5leHQ9NDY7YnJlYWt9cmV0dXJuIHNvLmNhbGwodGhpcyxGKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixyKTtjYXNlIDQ2OmlmKEYuYmlkVGsuYmlkUmVzdWx0PTEsRi5iaWRUay5ybEJpZFN0YXR1cz0yLFc9SW8uY2FsbCh0aGlzLGMpLHE9bnVsbCE9PShsPW51bGw9PVc/dm9pZCAwOlcuX2V4cGlyYXRpb25UaW1lKSYmdm9pZCAwIT09bD9sOjAsIXYoVykmJlcucHJpY2U+ay5wcmljZSYmcT5EYXRlLm5vdygpJiYoRi5iaWRUay5iaWRSZXN1bHQ9MCxGLmJpZFRrLnJsQmlkU3RhdHVzPTEsa28uY2FsbCh0aGlzLEIudGsubHVybCksTT17a2V5OlxcXCJCSURfTE9TU1xcXCIsdW5pdGlkOmMscmVxdWVzdGlkOnAsZ3JvdXBpZDpmLHRyYWZmaWNfZ3JvdXBfaWQ6bSxhc2lkOl8sbXNnOlxcXCI2NlxcXCIsbXNnMTpcXFwiXFxcIitrLnVuaXRfaWQsbXNnMjpcXFwiXFxcIitrLnByaWNlLG1zZzM6XFxcIlxcXCJ9LGs9VyxWYS5jYWxsKHRoaXMsTSkpLEYuYmlkVGsuYmlkUmVzdWx0JiYoRi5iaWRUay5zb3J0VHlwZT0wKSxzby5jYWxsKHRoaXMsRiksIShvLnNlbGVjdGVyKCkuZWNwbT5rLnByaWNlKSl7dC5uZXh0PTU5O2JyZWFrfXJldHVybiBrby5jYWxsKHRoaXMsQi50ay5sdXJsKSxWPXtrZXk6XFxcIkJJRF9MT1NTXFxcIix1bml0aWQ6YyxyZXF1ZXN0aWQ6cCxncm91cGlkOmYsdHJhZmZpY19ncm91cF9pZDptLGFzaWQ6Xyxtc2c6XFxcIjY2XFxcIixtc2cxOlxcXCJcXFwiK2sudW5pdF9pZCxtc2cyOlxcXCJcXFwiK2sucHJpY2UsbXNnMzpcXFwiXFxcIn0sVmEuY2FsbCh0aGlzLFYpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UucmVqZWN0KFxcXCJBRFggQklEX0xPU1NcXFwiKSk7Y2FzZSA1OTpyZXR1cm4gci5lY3BtPWsucHJpY2Usci5jeV9lY3BtPWsucHJpY2UqdSxyLnNfcHR5PWsuc19wdHksci5ud19jYWNoZV90aW1lPWsuZXhwaXJlLGsuYmlkVGs9ci5iaWRUayxrLl9leHBpcmF0aW9uVGltZT1EYXRlLm5vdygpK2suZXhwaXJlLGJvLmNhbGwodGhpcyxjLGspLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHIpO2Nhc2UgNjc6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIElvKHQpe3ZhciBlLGksbixyLGEsbz1udWxsIT09KGU9bnVsbCE9PShpPW51bGw9PT0obj10aGlzLiRhcHApfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLiRkZWYpJiZ2b2lkIDAhPT1pP2k6bnVsbD09dGhpcz92b2lkIDA6dGhpcy4kZGVmKSYmdm9pZCAwIT09ZT9lOm51bGw7cmV0dXJuIG8mJm51bGwhPW8mJm8udG9wb25fc2RrJiZudWxsIT09KHI9bnVsbD09PShhPW8udG9wb25fc2RrKXx8dm9pZCAwPT09YXx8bnVsbD09PShhPWEuY2FjaGUpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS5hZHhPZmZlcil8fHZvaWQgMD09PWE/dm9pZCAwOmFbdF0pJiZ2b2lkIDAhPT1yP3I6e319ZnVuY3Rpb24gYm8odCxlKXt2YXIgaSxuLHIsYT1udWxsIT09KGk9bnVsbCE9PShuPW51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLiRkZWYpJiZ2b2lkIDAhPT1uP246bnVsbD09dGhpcz92b2lkIDA6dGhpcy4kZGVmKSYmdm9pZCAwIT09aT9pOm51bGw7YSYmbnVsbCE9YSYmYS50b3Bvbl9zZGsmJihhLnRvcG9uX3Nkay5jYWNoZS5hZHhPZmZlcnx8KGEudG9wb25fc2RrLmNhY2hlLmFkeE9mZmVyPU9iamVjdC5jcmVhdGUobnVsbCkpLGEudG9wb25fc2RrLmNhY2hlLmFkeE9mZmVyW3RdPWUpfWZ1bmN0aW9uIGtvKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPW5ldyBSZWdFeHAocG8uam9pbihcXFwifFxcXCIpLFxcXCJnaVxcXCIpLG49W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5yZXBsYWNlKGksKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpO24ucHVzaChqYShcXFwiXFxcIi5jb25jYXQocikse30pKX0pKSxQcm9taXNlLmFsbChuKX1mdW5jdGlvbiB3byh0LGUpe3ZhciBpPWUuZ2V0U3RhdHVzTGlzdCgpfHxbXSxuPWkubGVuZ3RoLHI9aS5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVjcG1Tb3J0PHQuc19wdHl9KSk7cmV0dXJuIHI+LTE/cisxOm4rMX1mdW5jdGlvbiB4byh0LGksbixyLGEsbyl7dmFyIGQ9by5wbGFjZW1lbnRJZCxzPW8uZm9ybWF0LGw9dGhpcy5wbGFjZW1lbnRMb2FkU3RhcnQsYz10aGlzLnBsYWNlbWVudExvYWRFbmQsdT10aGlzLnJlcVVnTnVtLGg9dGhpcy5hcGlEYXRhLHA9aC50X2dfaWQsZj1oLmdyb19pZCx2PWguYXNpZCxtPWgucF9jLF89dm9pZCAwPT09bT97fTptLGc9Yy1sLHk9e2JpZFJlcXVlc3RUaW1lOm4sYmlkUmVzcG9uc2VUaW1lOmksYmlkRmlsbGVkVGltZTppLW4sYmlkUmVzdWx0OjAscmxCaWRTdGF0dXM6MCxzb3J0VHlwZTotMSxzb3J0UHJpb3JpdHk6cn07cmV0dXJuIGUoZSh7fSx7cGxhY2VtZW50SWQ6ZCxyZXF1ZXN0SWQ6YS5yZXF1ZXN0SWQsbG9nVHlwZTpcXFwiQURfQklERElOR1xcXCIsdHJhZmZpY0dyb3VwSWQ6cCxzZWdtZW50SWQ6Zixhc0lkOnYsYWRTb3VyY2VJZDp0LnVuaXRfaWR8fDAsbndGaXJtSWQ6dC5ud19maXJtX2lkfHwwLGVjcG06dC5wcmljZSxzUHR5OnQuc19wdHl8fDAsZm9ybWF0OnMscGxhY2VtZW50TG9hZFRpbWU6Zyx1bml0RmlsbGVkVGltZTppLW4scmVxVWdOdW06dSxwQzpfLHdmVHlwZTpcXFwiMlxcXCJ9KSx7fSx7YmlkVGs6eX0pfWZ1bmN0aW9uIFNvKHQsZSxpLG4scil7dmFyIGEsbz1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06bnVsbCxkPW4ucGxhY2VtZW50SWQscz1uLmV4Y2hSYXRlQzJ1LGw9bi5hY2NvdW50Q3VycmVuY3ksYz1lLnVuaXRfaWQsdT1kK1xcXCIvXFxcIitjLGg9ai5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLHUpLHA9bnVsbCE9PShhPW51bGw9PWg/dm9pZCAwOmguX2V4cGlyYXRpb25UaW1lKSYmdm9pZCAwIT09YT9hOjA7aWYoIXYoaCkmJmgub2ZmZXIuZWNwbT50LmVjcG0mJnA+RGF0ZS5ub3coKSl7dmFyIGY7aS5iaWRUay5iaWRSZXN1bHQ9MCxpLmJpZFRrLnJsQmlkU3RhdHVzPTEsbz1udWxsIT09KGY9bnVsbD09aD92b2lkIDA6aC5hZCkmJnZvaWQgMCE9PWY/ZjpudWxsO3ZhciBtPXQuYWRJZD97YWRpZDp0LmFkSWR9Ont9O0FvLmNhbGwodGhpcyx7Y29uZGl0aW9uOm4sc3RyYXRlZ3k6cix1bml0OmUsbm90aWZ5T3B0aW9uczptLG5vdGlmeUluc3RhbmNlOm99KTt2YXIgXz0odD1oLm9mZmVyKS5lY3BtLzEwMDtlLmVjcG09XypzLGUucHJpY2U9XypzLGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PWw/XypzOl8sZS5zX3B0eT1fKnN9cmV0dXJue29mZmVyOnQsYWRJbnN0YW5jZTpvfX1mdW5jdGlvbiBUbyh0LGUsaSxuLHIpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTpudWxsLG89ci5zZWxlY3RlcigpO2lmKG8mJm8uZWNwbT5lLmVjcG0pe3ZhciBkPXQuYWRJZD97YWRpZDp0LmFkSWR9Ont9O3JldHVybiBBby5jYWxsKHRoaXMse2NvbmRpdGlvbjppLHN0cmF0ZWd5Om4sdW5pdDplLG5vdGlmeU9wdGlvbnM6ZCxub3RpZnlJbnN0YW5jZTphfSksby51bml0fXJldHVybiBudWxsfWZ1bmN0aW9uIEFvKHQpe3ZhciBpPXQuY29uZGl0aW9uLG49dC5zdHJhdGVneSxyPXQudW5pdCxhPXQuZGFPcHRpb25zLG89dm9pZCAwPT09YT97fTphLGQ9dC5ub3RpZnlPcHRpb25zLHM9dm9pZCAwPT09ZD97fTpkLGw9dC5ub3RpZnlJbnN0YW5jZSxjPXZvaWQgMD09PWw/bnVsbDpsLHU9aS5wbGFjZW1lbnRJZCxoPW4ucmVxdWVzdElkLHA9bi5zZWdtZW50SWQsZj1uLnRyYWZmaWNHcm91cElkLHY9bi5hc0lkOzU1PT09ci5ud19maXJtX2lkJiZFby5jYWxsKHRoaXMscyxjKTt2YXIgbT1lKHtrZXk6XFxcIkJJRF9MT1NTXFxcIix1bml0aWQ6dSxyZXF1ZXN0aWQ6aCxncm91cGlkOnAsdHJhZmZpY19ncm91cF9pZDpmLGFzaWQ6dixtc2c6ci5ud19maXJtX2lkLG1zZzE6XFxcIlxcXCIrci51bml0X2lkLG1zZzI6XFxcIlxcXCIrci5lY3BtLG1zZzM6XFxcIlxcXCJ9LG8pO1ZhLmNhbGwodGhpcyxtKX1mdW5jdGlvbiBFbygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49UygpLHI9bi5hZCxhPWl8fHIsbz1lKHt3aW5QcmljZTowLGNvZGU6MSxjaGFubmVsOlxcXCJtb2JcXFwifSx0KTthLm5vdGlmeVJhbmtMb3NzKG8pfWZ1bmN0aW9uIENvKHQpe3ZhciBpPVMoKS5hZDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7aS5wcmVsb2FkQWQoZShlKHt9LHQpLHt9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe24odCl9LGZhaWw6ZnVuY3Rpb24odCxlKXtuKHQpfX0pKX0pKX1mdW5jdGlvbiBEbyh0KXt2YXIgZT1TKCkuYWQsaT1udWxsO3RyeXtpPWUuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHQpfWNhdGNoKHQpe31yZXR1cm4gaX1mdW5jdGlvbiBMbygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtpZigobnVsbD09dD92b2lkIDA6dC5sZW5ndGgpPD0xKXJldHVybiB0O3ZhciBlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpO3JldHVybiBlLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJpY2UtdC5wcmljZX0pKSxlfWZ1bmN0aW9uIE9vKHQsZSxpLG4pe3JldHVybiBSby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUm8oKXtyZXR1cm4oUm89byhpKCkubWFyaygoZnVuY3Rpb24gdChlLG4scixhKXt2YXIgbyxkLHMsbCxjLHUsaCxwLGYsdixtLF8sZyx5LEksYixrLHcseCxTLFQsQSxFLEMsRDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBjPWUudW5pdF9pZCx1PWUuY29udGVudCxoPUpTT04ucGFyc2UodSkscD1oLnVuaXRfaWQsZj1uLnBsYWNlbWVudElkLHY9bi5leGNoUmF0ZUMydSxtPW4uYWNjb3VudEN1cnJlbmN5LF89ZitcXFwiL1xcXCIrYyxnPXt9LHk9e2FkVW5pdElkOnAsZWNwbTohMCx0eXBlOlxcXCJuYXRpdmVcXFwiLGFkQ291bnQ6MX0sST1EYXRlLm5vdygpLHQubmV4dD0xMCxDby5jYWxsKHRoaXMseSk7Y2FzZSAxMDppZihiPXQuc2VudCxrPURhdGUubm93KCksZz1udWxsIT09KG89bnVsbD09Ynx8bnVsbD09PShkPWIuYWRMaXN0KXx8dm9pZCAwPT09ZD92b2lkIDA6ZFswXSkmJnZvaWQgMCE9PW8/bzp7fSx3PW51bGwhPT0ocz1udWxsPT09KGw9Zyl8fHZvaWQgMD09PWw/dm9pZCAwOmwuZWNwbSkmJnZvaWQgMCE9PXM/czowLHg9dy8xMDAsZS5lY3BtPXgqdixlLnByaWNlPXgqdixlLmN5X2VjcG09XFxcIlVTRFxcXCI9PT1tP3gqdjp4LGUuc19wdHk9eCp2LGUuYmlkVGs9e2JpZEZpbGxlZFRpbWU6ay1JfSxTPXdvLmNhbGwodGhpcyxlLGEpLChUPXhvLmNhbGwodGhpcyxlLGssSSxTLHIsbikpLmJpZFRrLmJpZFJlc3VsdD0xLFQuYmlkVGsucmxCaWRTdGF0dXM9MixBPVNvLmNhbGwodGhpcyxnLGUsVCxuLHIpLEU9QS5vZmZlcixnPUUsVC5iaWRUay5iaWRSZXN1bHQmJihULmJpZFRrLnNvcnRUeXBlPTApLGcuZWNwbXx8KFQuYmlkVGsuc29ydFR5cGU9LTEyLFQuYmlkVGsuZXJyb3JNc2c9XFxcIjAgYmlkIHByaWNlXFxcIiksc28uY2FsbCh0aGlzLFQpLGcuZWNwbSl7dC5uZXh0PTM0O2JyZWFrfXJldHVybiBDPXttc2cyOlxcXCIwXFxcIn0sRD17YWRpZDpnLmFkSWR9LEFvLmNhbGwodGhpcyx7Y29uZGl0aW9uOm4sc3RyYXRlZ3k6cix1bml0OmUsbm90aWZ5T3B0aW9uczpELGRhT3B0aW9uczpDfSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsUHJvbWlzZS5yZWplY3QoXFxcIm9mZmVyLmVjcG06IFxcXCIuY29uY2F0KGcuZWNwbSxcXFwi5LiN56ym5ZCIYmlk5Zy65pmv77yMcmVqZWN05o6JXFxcIikpKTtjYXNlIDM0OmlmKCFUby5jYWxsKHRoaXMsZyxlLG4scixhKSl7dC5uZXh0PTM3O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixQcm9taXNlLnJlamVjdChcXFwiSEIgQklEX0xPU1NcXFwiKSk7Y2FzZSAzNzpyZXR1cm4gTi5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLF8se2FkOm51bGwsb2ZmZXI6ZyxfZXhwaXJhdGlvblRpbWU6RGF0ZS5ub3coKStlLm53X2NhY2hlX3RpbWV9KSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixlKTtjYXNlIDM5OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBQbyh0LGUsaSxuKXt2YXIgcj10aGlzLGE9dC51bml0X2lkLG89dC5jb250ZW50LGQ9SlNPTi5wYXJzZShvKS51bml0X2lkLHM9ZS5wbGFjZW1lbnRJZCxsPWUuZXhjaFJhdGVDMnUsYz1lLmFjY291bnRDdXJyZW5jeSx1PXMrXFxcIi9cXFwiK2EsaD17ZWNwbTowfSxwPXthZFVuaXRJZDpkfSxmPURhdGUubm93KCksdj1Eby5jYWxsKHRoaXMscCk7cmV0dXJuIHY/KHYubG9hZCgpLG5ldyBQcm9taXNlKChmdW5jdGlvbihhLG8pe3Yub25Mb2FkKChmdW5jdGlvbigpe3ZhciBkLHM7aD12LmdldEVDUE0oKTt2YXIgcD1EYXRlLm5vdygpLG09KG51bGwhPT0oZD1udWxsPT09KHM9aCl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZWNwbSkmJnZvaWQgMCE9PWQ/ZDowKS8xMDA7dC5lY3BtPW0qbCx0LnByaWNlPW0qbCx0LmN5X2VjcG09XFxcIlVTRFxcXCI9PT1jP20qbDptLHQuc19wdHk9bSpsLHQuYmlkVGs9e2JpZEZpbGxlZFRpbWU6cC1mfTt2YXIgXz13by5jYWxsKHIsdCxuKSxnPXhvLmNhbGwocix0LHAsZixfLGksZSk7Zy5iaWRUay5iaWRSZXN1bHQ9MSxnLmJpZFRrLnJsQmlkU3RhdHVzPTI7dmFyIHk9U28uY2FsbChyLGgsdCxnLGUsaSx2KSxJPXkub2ZmZXIsYj15LmFkSW5zdGFuY2U7aWYoaD1JLHY9YixnLmJpZFRrLmJpZFJlc3VsdCYmKGcuYmlkVGsuc29ydFR5cGU9MCksaC5lY3BtfHwoZy5iaWRUay5zb3J0VHlwZT0tMTIsZy5iaWRUay5lcnJvck1zZz1cXFwiMCBiaWQgcHJpY2VcXFwiKSxzby5jYWxsKHIsZyksIWguZWNwbSl7cmV0dXJuIEFvLmNhbGwocix7Y29uZGl0aW9uOmUsc3RyYXRlZ3k6aSx1bml0OnQsZGFPcHRpb25zOnttc2cyOlxcXCIwXFxcIn0sbm90aWZ5SW5zdGFuY2U6dn0pLFByb21pc2UucmVqZWN0KFxcXCJvZmZlci5lY3BtOiBcXFwiLmNvbmNhdChoLmVjcG0sXFxcIuS4jeespuWQiGJpZOWcuuaZr++8jHJlamVjdOaOiVxcXCIpKX12YXIgaz1Uby5jYWxsKHIsaCx0LGUsaSxuLHYpO2smJm8oayksTi5jYWxsKHIsXFxcInVuaXRcXFwiLHUse2FkOnYsb2ZmZXI6aCxfZXhwaXJhdGlvblRpbWU6RGF0ZS5ub3coKSt0Lm53X2NhY2hlX3RpbWV9KSxhKHQpfSkpLHYub25FcnJvcigoZnVuY3Rpb24obil7dmFyIGE9RGF0ZS5ub3coKSxkPXhvLmNhbGwocix0LGEsZiwtMSxpLGUpO2QuYmlkVGsuYmlkUmVzdWx0PTAsZC5iaWRUay5ybEJpZFN0YXR1cz0wLGQuYmlkVGsuc29ydFR5cGU9LTEyLGQuYmlkVGsuZXJyb3JNc2c9XFxcIlxcXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSxzby5jYWxsKHIsZCksbyh7bXNnOlxcXCLmv4DlirHop4bpopEgYzJzIOWksei0pTogXFxcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpfSl9KSl9KSkpOnR9ZnVuY3Rpb24gVW8odCxlLGksbil7cmV0dXJuICRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiAkbygpe3JldHVybigkbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3ZhciBvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnLHksSSxiLGssdyx4LFMsVCxBLEUsQyxEO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGw9bnVsbD09PShvPXRoaXMuJGFwcCl8fHZvaWQgMD09PW98fG51bGw9PT0obz1vLiRkZWYpfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by50b3Bvbl9zZGspfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNoYW5uZWxJZCxjPWUudW5pdF9pZCx1PWUuY29udGVudCxoPWUubndfcmVxX251bSxwPUpTT04ucGFyc2UodSksZj1wLnVuaXRfaWQsdj1uLnBsYWNlbWVudElkLG09bi5leGNoUmF0ZUMydSxfPW4uYWNjb3VudEN1cnJlbmN5LGc9ditcXFwiL1xcXCIrYyx5PXt9LEk9e2FkVW5pdElkOmYsdHlwZTpcXFwibmF0aXZlXFxcIixhZENvdW50OmgmJmg8PTM/aDoxfSxsJiYoSS5jaGFubmVsPWwpLGI9RGF0ZS5ub3coKSx0Lm5leHQ9MTIsQ28uY2FsbCh0aGlzLEkpO2Nhc2UgMTI6aWYoaz10LnNlbnQsdz1EYXRlLm5vdygpLHg9ay5hZExpc3R8fFtdLFM9TG8oeCksKHk9U1swXXx8e30pLmVjcG09bnVsbCE9PShkPW51bGw9PT0ocz15KXx8dm9pZCAwPT09cz92b2lkIDA6cy5wcmljZSkmJnZvaWQgMCE9PWQ/ZDowLFQ9eS5lY3BtLzEwMCxlLmVjcG09VCptLGUucHJpY2U9VCptLGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PV8/VCptOlQsZS5zX3B0eT1UKm0sZS5iaWRUaz17YmlkRmlsbGVkVGltZTp3LWJ9LEE9d28uY2FsbCh0aGlzLGUsYSksKEU9eG8uY2FsbCh0aGlzLGUsdyxiLEEscixuKSkuYmlkVGsuYmlkUmVzdWx0PTEsRS5iaWRUay5ybEJpZFN0YXR1cz0yLEM9U28uY2FsbCh0aGlzLHksZSxFLG4sciksRD1DLm9mZmVyLHk9RCxFLmJpZFRrLmJpZFJlc3VsdCYmKEUuYmlkVGsuc29ydFR5cGU9MCksc28uY2FsbCh0aGlzLEUpLCFUby5jYWxsKHRoaXMseSxlLG4scixhKSl7dC5uZXh0PTM1O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixQcm9taXNlLnJlamVjdChcXFwiSEIgQklEX0xPU1NcXFwiKSk7Y2FzZSAzNTpyZXR1cm4gTi5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLGcse2FkOm51bGwsb2ZmZXI6eSxfZXhwaXJhdGlvblRpbWU6RGF0ZS5ub3coKStlLm53X2NhY2hlX3RpbWV9KSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixlKTtjYXNlIDM3OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBObyh0LGUsaSxuKXtyZXR1cm4gam8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGpvKCl7cmV0dXJuKGpvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsYSl7dmFyIG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGcseSxJLGIsayx3LHgsUyxULEEsRSxDO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGQ9bnVsbD09PShvPXRoaXMuJGFwcCl8fHZvaWQgMD09PW98fG51bGw9PT0obz1vLiRkZWYpfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by50b3Bvbl9zZGspfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNoYW5uZWxJZCxzPWUudW5pdF9pZCxsPWUuY29udGVudCxjPWUubndfcmVxX251bSx1PUpTT04ucGFyc2UobCksaD11LnVuaXRfaWQscD1uLnBsYWNlbWVudElkLGY9bi5leGNoUmF0ZUMydSx2PW4uYWNjb3VudEN1cnJlbmN5LG09cCtcXFwiL1xcXCIrcyxfPXt9LGc9e2FkVW5pdElkOmgsdHlwZTpcXFwicmV3YXJkZWRWaWRlb0FkXFxcIixhZENvdW50OmMmJmM8PTM/YzoxfSxkJiYoZy5jaGFubmVsPWQpLHk9RGF0ZS5ub3coKSx0Lm5leHQ9MTIsQ28uY2FsbCh0aGlzLGcpO2Nhc2UgMTI6aWYoST10LnNlbnQsYj1EYXRlLm5vdygpLCFJLmFkTGlzdCl7dC5uZXh0PTIwO2JyZWFrfWs9SS5hZExpc3R8fFtdLHc9TG8oayksXz13WzBdfHx7fSx0Lm5leHQ9MjU7YnJlYWs7Y2FzZSAyMDppZighSS5hZGlkKXt0Lm5leHQ9MjQ7YnJlYWt9Xz1JLHQubmV4dD0yNTticmVhaztjYXNlIDI0OnJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixQcm9taXNlLnJlamVjdChcXFwiYmlk5peg57uT5p6cXFxcIikpO2Nhc2UgMjU6aWYoXy5lY3BtPV8ucHJpY2V8fDAseD1fLmVjcG0vMTAwLGUuZWNwbT14KmYsZS5wcmljZT14KmYsZS5jeV9lY3BtPVxcXCJVU0RcXFwiPT09dj94KmY6eCxlLnNfcHR5PXgqZixlLmJpZFRrPXtiaWRGaWxsZWRUaW1lOmIteX0sUz13by5jYWxsKHRoaXMsZSxhKSwoVD14by5jYWxsKHRoaXMsZSxiLHksUyxyLG4pKS5iaWRUay5iaWRSZXN1bHQ9MSxULmJpZFRrLnJsQmlkU3RhdHVzPTIsQT1Tby5jYWxsKHRoaXMsXyxlLFQsbixyKSxFPUEub2ZmZXIsXz1FLFQuYmlkVGsuYmlkUmVzdWx0JiYoVC5iaWRUay5zb3J0VHlwZT0wKSxzby5jYWxsKHRoaXMsVCksIVRvLmNhbGwodGhpcyxfLGUsbixyLGEpKXt0Lm5leHQ9NDM7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UucmVqZWN0KFxcXCJIQiBCSURfTE9TU1xcXCIpKTtjYXNlIDQzOmlmKEM9RG8uY2FsbCh0aGlzLHttdWx0aXRvbjohMH0pKXt0Lm5leHQ9NDY7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGUpO2Nhc2UgNDY6cmV0dXJuIE4uY2FsbCh0aGlzLFxcXCJ1bml0XFxcIixtLHthZDpDLG9mZmVyOl8sX2V4cGlyYXRpb25UaW1lOkRhdGUubm93KCkrZS5ud19jYWNoZV90aW1lfSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsZSk7Y2FzZSA0ODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRm8odCl7dmFyIGksbixyPW51bGwhPT0oaT1udWxsPT09KG49dGhpcy4kYXBwKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kZGVmKSYmdm9pZCAwIT09aT9pOnRoaXMuJGRlZixhPShudWxsPT1yP3ZvaWQgMDpyLnlsaF9zZGspfHx7fTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbil7dihhKSYmaSh7Y29kZToyZTMsbXNnOlxcXCLmib7kuI3liLDkvJjph4/msYdTREtcXFwifSksYS5vbllsaFJlYWR5KChmdW5jdGlvbigpe3ZhciBuPWUoe30sdCk7YS5sb2FkRmVlZEFkKG4pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXthZExpc3Q6dHx8W119O3QuY29kZSYmdC5jb2RlPjAmJihlLmNvZGU9YXRbdC5jb2RlXXx8MmUzLGUubXNnPVxcXCJcXFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2UsXFxcIiByZWFsIGNvZGUgW1xcXCIpLmNvbmNhdCh0LmNvZGUsXFxcIl1cXFwiKSxlLmFkTGlzdD1bXSksaShlKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aSh7Y29kZToyZTMsbXNnOlxcXCJcXFwiLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2UpfSl9KSl9KSl9KSl9ZnVuY3Rpb24gQm8odCxlLGksbil7cmV0dXJuIFdvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBXbygpe3JldHVybihXbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3ZhciBvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnLHksSSxiLGssdyx4LFMsVCxBLEU7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbD1lLnVuaXRfaWQsYz1lLmNvbnRlbnQsdT1KU09OLnBhcnNlKGMpLGg9dS51bml0X2lkLHA9dS5hbGxvd19yZWNvbW1lbmQsZj1uLnBsYWNlbWVudElkLHY9bi5leGNoUmF0ZUMydSxtPW4uYWNjb3VudEN1cnJlbmN5LF89ZitcXFwiL1xcXCIrbCxnPXt9LHk9e2NvdW50OjEscGxhY2VtZW50SWQ6aCxyZWNvbW1lbmRhdGlvbjpcXFwiMVxcXCI9PT1wPzI6MX0sST1EYXRlLm5vdygpLHQubmV4dD0xMCxGby5jYWxsKHRoaXMseSk7Y2FzZSAxMDppZihiPXQuc2VudCxrPURhdGUubm93KCksZz1udWxsIT09KG89bnVsbD09Ynx8bnVsbD09PShkPWIuYWRMaXN0KXx8dm9pZCAwPT09ZD92b2lkIDA6ZFswXSkmJnZvaWQgMCE9PW8/bzp7fSx3PShudWxsPT09KHM9Zyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZ2V0RUNQTSgpKT4wP2cuZ2V0RUNQTSgpOjAsZy5lY3BtPXcseD13LzEwMCxlLmVjcG09eCp2LGUucHJpY2U9eCp2LGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PW0/eCp2OngsZS5zX3B0eT14KnYsZS5iaWRUaz17YmlkRmlsbGVkVGltZTprLUl9LFM9d28uY2FsbCh0aGlzLGUsYSksKFQ9eG8uY2FsbCh0aGlzLGUsayxJLFMscixuKSkuYmlkVGsuYmlkUmVzdWx0PTEsVC5iaWRUay5ybEJpZFN0YXR1cz0yLEE9U28uY2FsbCh0aGlzLGcsZSxULG4sciksRT1BLm9mZmVyLGc9RSxULmJpZFRrLmJpZFJlc3VsdCYmKFQuYmlkVGsuc29ydFR5cGU9MCksZy5lY3BtfHwoVC5iaWRUay5zb3J0VHlwZT0tMTIsVC5iaWRUay5lcnJvck1zZz1cXFwiMCBiaWQgcHJpY2VcXFwiKSxzby5jYWxsKHRoaXMsVCksZy5lY3BtKXt0Lm5leHQ9MzI7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFByb21pc2UucmVqZWN0KFxcXCJvZmZlci5lY3BtOiBcXFwiLmNvbmNhdChnLmVjcG0sXFxcIuS4jeespuWQiGJpZOWcuuaZr++8jHJlamVjdOaOiVxcXCIpKSk7Y2FzZSAzMjppZighVG8uY2FsbCh0aGlzLGcsZSxuLHIsYSkpe3QubmV4dD0zNTticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsUHJvbWlzZS5yZWplY3QoXFxcIkhCIEJJRF9MT1NTXFxcIikpO2Nhc2UgMzU6cmV0dXJuIE4uY2FsbCh0aGlzLFxcXCJ1bml0XFxcIixfLHthZDpudWxsLG9mZmVyOmcsX2V4cGlyYXRpb25UaW1lOkRhdGUubm93KCkrZS5ud19jYWNoZV90aW1lfSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsZSk7Y2FzZSAzNzpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcW8odCxlLGksbil7cmV0dXJuIE1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNbygpe3JldHVybihNbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUsbixyLGEpe3ZhciBvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnLHksSSxiPXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcz1udWxsIT09KG89bnVsbD09PShkPXRoaXMuJGFwcCl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuJGRlZikmJnZvaWQgMCE9PW8/bzp0aGlzLiRkZWYsbD1lLnVuaXRfaWQsYz1lLmNvbnRlbnQsdT1KU09OLnBhcnNlKGMpLGg9dS51bml0X2lkLHA9dS52aWRlb19tdXRlZCxmPW4ucGxhY2VtZW50SWQsdj1uLmV4Y2hSYXRlQzJ1LG09bi5hY2NvdW50Q3VycmVuY3ksXz1mK1xcXCIvXFxcIitsLGc9e2VjcG06MH0seT17cGxhY2VtZW50SWQ6aCxtdXRlZDpcXFwiMVxcXCI9PT1wfSxJPURhdGUubm93KCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7dHJ5e3ZhciBvPXMueWxoX3Nkay5jcmVhdGVSZXdhcmRWaWRlb0FkKHkpO28ub25Mb2FkKChmdW5jdGlvbigpe3ZhciBpLGQ7Zy5lY3BtPW8uZ2V0RUNQTSgpO3ZhciBzPURhdGUubm93KCksbD0obnVsbCE9PShpPW51bGw9PT0oZD1nKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5lY3BtKSYmdm9pZCAwIT09aT9pOjApLzEwMDtlLmVjcG09bCp2LGUucHJpY2U9bCp2LGUuY3lfZWNwbT1cXFwiVVNEXFxcIj09PW0/bCp2OmwsZS5zX3B0eT1sKnYsZS5iaWRUaz17YmlkRmlsbGVkVGltZTpzLUl9O3ZhciBjPXdvLmNhbGwoYixlLGEpLHU9eG8uY2FsbChiLGUscyxJLGMscixuKTt1LmJpZFRrLmJpZFJlc3VsdD0xLHUuYmlkVGsucmxCaWRTdGF0dXM9Mjt2YXIgaD1Tby5jYWxsKGIsZyxlLHUsbixyKS5vZmZlcjtyZXR1cm4gZz1oLHUuYmlkVGsuYmlkUmVzdWx0JiYodS5iaWRUay5zb3J0VHlwZT0wKSxnLmVjcG18fCh1LmJpZFRrLnNvcnRUeXBlPS0xMix1LmJpZFRrLmVycm9yTXNnPVxcXCIwIGJpZCBwcmljZVxcXCIpLHNvLmNhbGwoYix1KSxnLmVjcG0/VG8uY2FsbChiLGcsZSxuLHIsYSk/UHJvbWlzZS5yZWplY3QoXFxcIkhCIEJJRF9MT1NTXFxcIik6KE4uY2FsbChiLFxcXCJ1bml0XFxcIixfLHthZDpvLG9mZmVyOmcsX2V4cGlyYXRpb25UaW1lOkRhdGUubm93KCkrZS5ud19jYWNoZV90aW1lfSksdm9pZCB0KGUpKTpQcm9taXNlLnJlamVjdChcXFwib2ZmZXIuZWNwbTogXFxcIi5jb25jYXQoZy5lY3BtLFxcXCLkuI3nrKblkIhiaWTlnLrmma/vvIxyZWplY3TmjolcXFwiKSl9KSksby5vbkVycm9yKChmdW5jdGlvbih0KXtpZih0LmVycm9yQ29kZSl7dmFyIGE9RGF0ZS5ub3coKSxvPXhvLmNhbGwoYixlLGEsSSwtMSxyLG4pLGQ9YXRbdC5lcnJvckNvZGVdfHwyZTMscz1cXFwiXFxcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC5lcnJvck1zZyxcXFwiIHJlYWwgY29kZSBbXFxcIikuY29uY2F0KHQuZXJyb3JDb2RlLFxcXCJdXFxcIik7by5iaWRUay5iaWRSZXN1bHQ9MCxvLmJpZFRrLnJsQmlkU3RhdHVzPTAsby5iaWRUay5zb3J0VHlwZT0tMTIsby5iaWRUay5lcnJvck1zZz1zLHNvLmNhbGwoYixvKSxpKHtjb2RlOmQsbXNnOnN9KX19KSksby5sb2FkKCl9Y2F0Y2godCl7aSh7Y29kZToyZTMsbXNnOlxcXCLmv4DlirHop4bpopEgYzJzIOWksei0pTogXFxcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpfSl9fSkpKTtjYXNlIDEwOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBWbyh0LGUsaSxuKXtyZXR1cm4gSG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEhvKCl7cmV0dXJuKEhvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIsYSl7dmFyIG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGcseSxJLGIsaz10aGlzO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHM9bnVsbCE9PShvPW51bGw9PT0oZD10aGlzLiRhcHApfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLiRkZWYpJiZ2b2lkIDAhPT1vP286dGhpcy4kZGVmLGw9ZS51bml0X2lkLGM9ZS5jb250ZW50LHU9SlNPTi5wYXJzZShjKSxoPXUudW5pdF9pZCxwPW4ucGxhY2VtZW50SWQsZj1uLmV4Y2hSYXRlQzJ1LHY9bi5hY2NvdW50Q3VycmVuY3ksbT1uLnBsYWNlbWVudENvbmZpZyxfPSh2b2lkIDA9PT1tP3t9Om0pLmVudHJ5LGc9cCtcXFwiL1xcXCIrbCx5PXtlY3BtOjB9LEk9e3BsYWNlbWVudElkOmgsZW50cnk6dm9pZCAwPT09Xz9cXFwiXFxcIjpffSxiPURhdGUubm93KCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7dHJ5e3MueWxoX3Nkay5vbllsaFJlYWR5KChmdW5jdGlvbigpe3ZhciBvPXMueWxoX3Nkay5jcmVhdGVTcGxhc2hBZChJKTtvLm9uTG9hZCgoZnVuY3Rpb24oKXt2YXIgaSxkO3kuZWNwbT1vLmdldEVDUE0oKTt2YXIgcz1EYXRlLm5vdygpLGw9KG51bGwhPT0oaT1udWxsPT09KGQ9eSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuZWNwbSkmJnZvaWQgMCE9PWk/aTowKS8xMDA7ZS5lY3BtPWwqZixlLnByaWNlPWwqZixlLmN5X2VjcG09XFxcIlVTRFxcXCI9PT12P2wqZjpsLGUuc19wdHk9bCpmLGUuYmlkVGs9e2JpZEZpbGxlZFRpbWU6cy1ifTt2YXIgYz13by5jYWxsKGssZSxhKSx1PXhvLmNhbGwoayxlLHMsYixjLHIsbik7dS5iaWRUay5iaWRSZXN1bHQ9MSx1LmJpZFRrLnJsQmlkU3RhdHVzPTI7dmFyIGg9U28uY2FsbChrLHksZSx1LG4scikub2ZmZXI7cmV0dXJuIHk9aCx1LmJpZFRrLmJpZFJlc3VsdCYmKHUuYmlkVGsuc29ydFR5cGU9MCkseS5lY3BtfHwodS5iaWRUay5zb3J0VHlwZT0tMTIsdS5iaWRUay5lcnJvck1zZz1cXFwiMCBiaWQgcHJpY2VcXFwiKSxzby5jYWxsKGssdSkseS5lY3BtP1RvLmNhbGwoayx5LGUsbixyLGEpP1Byb21pc2UucmVqZWN0KFxcXCJIQiBCSURfTE9TU1xcXCIpOihOLmNhbGwoayxcXFwidW5pdFxcXCIsZyx7YWQ6byxvZmZlcjp5LF9leHBpcmF0aW9uVGltZTpEYXRlLm5vdygpK2UubndfY2FjaGVfdGltZX0pLHZvaWQgdChlKSk6UHJvbWlzZS5yZWplY3QoXFxcIm9mZmVyLmVjcG06IFxcXCIuY29uY2F0KHkuZWNwbSxcXFwi5LiN56ym5ZCIYmlk5Zy65pmv77yMcmVqZWN05o6JXFxcIikpfSkpLG8ub25FcnJvcigoZnVuY3Rpb24odCl7aWYodC5lcnJvckNvZGUpe3ZhciBhPURhdGUubm93KCksbz14by5jYWxsKGssZSxhLGIsLTEscixuKSxkPWF0W3QuZXJyb3JDb2RlXXx8MmUzLHM9XFxcIlxcXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuZXJyb3JNc2csXFxcIiByZWFsIGNvZGUgW1xcXCIpLmNvbmNhdCh0LmVycm9yQ29kZSxcXFwiXVxcXCIpO28uYmlkVGsuYmlkUmVzdWx0PTAsby5iaWRUay5ybEJpZFN0YXR1cz0wLG8uYmlkVGsuc29ydFR5cGU9LTEyLG8uYmlkVGsuZXJyb3JNc2c9cyxzby5jYWxsKGssbyksaSh7Y29kZTpkLG1zZzpzfSl9fSkpLG8ubG9hZCgpfSkpfWNhdGNoKHQpe2koe2NvZGU6MmUzLG1zZzpcXFwi5byA5bGP5bm/5ZGKIGMycyDlpLHotKU6IFxcXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKX0pfX0pKSk7Y2FzZSAxMTpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEdvPWMoYyhjKHt9LHR0Lk9QUE8se2JpZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgcj1lLmZvcm1hdCxhPXswOk9vLDE6UG99O3JldHVybiBhW3JdP2Fbcl0uY2FsbCh0aGlzLHQsZSxpLG4pOlByb21pc2UucmVqZWN0KFxcXCLkuI3mlK/mjIHor6Xlub/lkYrnsbvlnotcXFwiKX0sYnJhbmQ6XFxcIm9wcG9cXFwifSksdHQuVklWTyx7YmlkOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciByPWUuZm9ybWF0LGE9ezA6VW8sMTpOb307cmV0dXJuIGFbcl0/YVtyXS5jYWxsKHRoaXMsdCxlLGksbik6UHJvbWlzZS5yZWplY3QoXFxcIuS4jeaUr+aMgeivpeW5v+WRiuexu+Wei1xcXCIpfSxicmFuZDpcXFwidml2b1xcXCJ9KSx0dC5ZTEgse2JpZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgcj1lLmZvcm1hdCxhPXswOkJvLDE6cW8sNDpWb307cmV0dXJuIGFbcl0/YVtyXS5jYWxsKHRoaXMsdCxlLGksbik6UHJvbWlzZS5yZWplY3QoXFxcIuS4jeaUr+aMgeivpeW5v+WRiuexu+Wei1xcXCIpfSxicmFuZDpcXFwieWxoXFxcIn0pO2Z1bmN0aW9uIFlvKHQsZSl7dmFyIGk9UygpLmFkLmdldFByb3ZpZGVyKCkudG9Mb3dlckNhc2UoKTtyZXR1cm4hIUdvW3RdJiYoXFxcInlsaFxcXCI9PT1Hb1t0XS5icmFuZD8hKChudWxsPT1lP3ZvaWQgMDplLnBsYXRmb3JtVmVyc2lvbkNvZGUpPDExMDApOkdvW3RdLmJyYW5kPT09aSYmIShcXFwib3Bwb1xcXCI9PT1pJiYobnVsbD09ZT92b2lkIDA6ZS5wbGF0Zm9ybVZlcnNpb25Db2RlKTwxMTE5KSl9ZnVuY3Rpb24gS28odCl7cmV0dXJuIHpvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB6bygpe3JldHVybih6bz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsYSxvLGQscyxsLGMsdSxoLHAsZixtLF87cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihkPW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZixzPShudWxsPT1kP3ZvaWQgMDpkLnRvcG9uX3Nkayl8fHt9LHYobnVsbD09KGw9cy5zdG9yZSl8fG51bGw9PT0oYT1sLmRldmljZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaW5mbykpe3QubmV4dD02O2JyZWFrfXQudDA9bnVsbD09bHx8bnVsbD09PShvPWwuZGV2aWNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmZvLHQubmV4dD0xMjticmVhaztjYXNlIDY6cmV0dXJuIHQubmV4dD04LEguZ2V0SW5mbygpO2Nhc2UgODppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTE7YnJlYWt9dC50MT17fTtjYXNlIDExOnQudDA9dC50MTtjYXNlIDEyOmlmKGM9dC50MCx1PWUuaGJVbml0LGg9ZS5jb25kaXRpb24scD1lLnN0cmF0ZWd5LGY9ZS5zY2hlZHVsZXIsbT1bXSxfPXUsWW8uY2FsbCh0aGlzLF8ubndfZmlybV9pZCxjKSl7dC5uZXh0PTE4O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIik7Y2FzZSAxODppZihHb1tfLm53X2Zpcm1faWRdJiZtLnB1c2goR29bXy5ud19maXJtX2lkXS5iaWQuY2FsbCh0aGlzLF8saCxwLGYpKSxtLmxlbmd0aCl7dC5uZXh0PTIxO2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixbXSk7Y2FzZSAyMTpyZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsUHJvbWlzZS5hbGxTZXR0bGVkKG0pKTtjYXNlIDIyOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgWG8sUW8sSm8sWm8sdGQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ7aWYoIXRoaXMucGxhY2VtZW50SWQpdGhyb3cgbmV3IEVycm9yKFxcXCLor7fkvKDlhaXlub/lkYrkvY1JRFxcXCIpO3ZhciBlPVxcXCJcXFwiLmNvbmNhdCh0aGlzLiRwYWdlLm5hbWUsXFxcIi9cXFwiKS5jb25jYXQodGhpcy5wbGFjZW1lbnRJZCxcXFwiL1xcXCIpLmNvbmNhdChudWxsPT10aGlzfHxudWxsPT09KHQ9dGhpcy5fcGFnZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaWQpO2lmKGouY2FsbCh0aGlzLFxcXCJnbG9iYWxcXFwiLGUpKXt2YXIgaT1cXFwi5b2T5YmN6aG16Z2iOiBcXFwiLmNvbmNhdCh0aGlzLiRwYWdlLm5hbWUsXFxcIiDlt7LlrZjlnKjlub/lkYrkvY06IFxcXCIpLmNvbmNhdCh0aGlzLnBsYWNlbWVudElkLFxcXCLvvIzlkIzkuIDpobXpnaLkuK3or7fli7/kvb/nlKjnm7jlkIzlub/lkYrkvY1JRFxcXCIpO3Rocm93IG5ldyBFcnJvcihpKX1OLmNhbGwodGhpcyxcXFwiZ2xvYmFsXFxcIixlLHRoaXMucGxhY2VtZW50SWQpLHRoaXMuJHdhdGNoKFxcXCJ3ZlVuaXRJZHNOZWVkUmVuZGVyXFxcIixcXFwiY2hlY2tXZkNhY2hlXFxcIiksdGhpcy4kb24oXFxcInByb3h5VGtSZXBvcnRcXFwiLHRoaXMudGtSZXBvcnRXYXRjaGVyKSx0aGlzLiRvbihcXFwicHJveHlBZExvYWRcXFwiLHRoaXMuYWRMb2FkV2F0Y2hlciksdGhpcy4kb24oXFxcInByb3h5QWRTaG93XFxcIix0aGlzLmFkU2hvd1dhdGNoZXIpLHRoaXMuJG9uKFxcXCJwcm94eUFkQ2xpY2tcXFwiLHRoaXMuYWRDbGlja1dhdGNoZXIpLHRoaXMuJG9uKFxcXCJwcm94eUFkQ2xvc2VcXFwiLHRoaXMuYWRDbG9zZVdhdGNoZXIpLHRoaXMuJG9uKFxcXCJwcm94eUFkUmV3YXJkXFxcIix0aGlzLmFkUmV3YXJkV2F0Y2hlciksdGhpcy4kb24oXFxcInByb3h5QWRFcnJvclxcXCIsdGhpcy5hZEVycm9yV2F0Y2hlciksdGhpcy5oYW5kbGVBZEluaXQoKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPVxcXCJcXFwiLmNvbmNhdChudWxsPT09KHQ9dGhpcy4kcGFnZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubmFtZSxcXFwiL1xcXCIpLmNvbmNhdCh0aGlzLnBsYWNlbWVudElkLFxcXCIvXFxcIikuY29uY2F0KG51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLl9wYWdlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pZCk7Ti5jYWxsKHRoaXMsXFxcImdsb2JhbFxcXCIsaSxudWxsKTt0cnl7dGhpcy4kb2ZmKFxcXCJwcm94eVRrUmVwb3J0XFxcIix0aGlzLnRrUmVwb3J0V2F0Y2hlciksdGhpcy4kb2ZmKFxcXCJwcm94eUFkTG9hZFxcXCIsdGhpcy5hZExvYWRXYXRjaGVyKSx0aGlzLiRvZmYoXFxcInByb3h5QWRTaG93XFxcIix0aGlzLmFkU2hvd1dhdGNoZXIpLHRoaXMuJG9mZihcXFwicHJveHlBZENsaWNrXFxcIix0aGlzLmFkQ2xpY2tXYXRjaGVyKSx0aGlzLiRvZmYoXFxcInByb3h5QWRDbG9zZVxcXCIsdGhpcy5hZENsb3NlV2F0Y2hlciksdGhpcy4kb2ZmKFxcXCJwcm94eUFkUmV3YXJkXFxcIix0aGlzLmFkUmV3YXJkV2F0Y2hlciksdGhpcy4kb2ZmKFxcXCJwcm94eUFkRXJyb3JcXFwiLHRoaXMuYWRFcnJvcldhdGNoZXIpfWNhdGNoKHQpe319fSxoYW5kbGVBZEluaXQ6KEpvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKGU9XFxcImxvY2tMb2FkXFxcIix0aGlzLmxvY2subG9hZCE9PWUpe3QubmV4dD0zO2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIik7Y2FzZSAzOnJldHVybiB0aGlzLmxvY2subG9hZD1lLHRoaXMud2ZBZGFwdGVyPW51bGwsdGhpcy5hZHhCaWRkaW5nPSExLHRoaXMuaGl0VW5pdElkPW51bGwsdGhpcy53ZlNjaGVkdWxlcnx8KHRoaXMud2ZTY2hlZHVsZXI9bmV3IExhKSx0Lm5leHQ9MTAsdGhpcy5iZWZvcmVMb2FkKCk7Y2FzZSAxMDpyZXR1cm4gdC5uZXh0PTEyLHRoaXMuaGFuZGxlQ3JlYXRlQWQoKTtjYXNlIDEyOnRoaXMucmVwb3J0VGtEYXRhKFxcXCJBRF9MT0FEXFxcIiksdGhpcy53ZlNjaGVkdWxlci5sb2FkKHRoaXMudW5pdExpc3Qse3JlcVVnTnVtOnRoaXMucmVxVWdOdW19KSx0aGlzLndmVW5pdElkc05lZWRSZW5kZXI9dGhpcy53ZlNjaGVkdWxlci5zY2hlZHVsZXIoKSxbMCwxXS5pbmNsdWRlcyh0aGlzLmZvcm1hdCkmJnRoaXMuaW5pdEFkeCgpLFswLDEsNF0uaW5jbHVkZXModGhpcy5mb3JtYXQpJiZ0aGlzLmluaXRIYigpO2Nhc2UgMTc6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBKby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxpbml0QWR4OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXM7aWYobnVsbCE9PSh0PXRoaXMuYWR4TGlzdCkmJnZvaWQgMCE9PXQmJnQubGVuZ3RoKXt2YXIgbj10aGlzLmFkeExpc3RbMF0scj17cGxhY2VtZW50SWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0SWQ6dGhpcy5yZXF1ZXN0SWQsYWR4RXh0OnRoaXMuYXBpRGF0YS5hZHhfZXh0LGV4Y2hSOihudWxsPT09KGU9dGhpcy5hcGlEYXRhKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuY2FsbGJhY2spfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmV4Y2hfcil8fDEsdW5pdElkOm4udW5pdF9pZCxmb3JtYXQ6XFxcIlxcXCIrdGhpcy5mb3JtYXR9LGE9dGhpcy5hcGlEYXRhfHx7fSxvPWEudF9nX2lkLGQ9YS5ncm9faWQscz1hLmFzaWQsbD1hLmhiX2JpZF90aW1lb3V0LGM9dm9pZCAwPT09bD82ZTQ6bCx1PXtoYkJpZFRpbWVvdXQ6YyxyZXF1ZXN0SWQ6dGhpcy5yZXF1ZXN0SWQsc2VnbWVudElkOmQsdHJhZmZpY0dyb3VwSWQ6byxhc0lkOnN9O3RoaXMuYWR4QmlkZGluZz0hMDt2YXIgaD1QKHRoaXMubWVyZ2VDb25maWcuZmlsdGVyLHR0LkFEWCxuLnVuaXRfaWQpO2lmKGgpe3RoaXMuYWR4QmlkZGluZz0hMTt2YXIgcD1cXFwiMFxcXCI7OTAwNj09PWg/cD1cXFwiNVxcXCI6OTAwNz09PWgmJihwPVxcXCI5XFxcIik7dmFyIGY9e2tleTpcXFwiUkVRVUVTVF9GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmQsdHJhZmZpY19ncm91cF9pZDpvLGFzaWQ6cyxtc2c6U3RyaW5nKHR0LkFEWCksbXNnMTpTdHJpbmcobi51bml0X2lkKSxtc2cyOlxcXCJcXFwiLG1zZzM6cCxtc2c0OnAsbXNnNTpcXFwiQURY5bm/5ZGK5rqQ6KKr6L+H5rukXFxcIixtc2c4OlxcXCIwXFxcIn07VmEuY2FsbCh0aGlzLGYpfWVsc2UgdGhpcy5hZHhCaWRkaW5nVGltZUlkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5hZHhCaWRkaW5nPSExfSksYyksdGhpcy5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdBdHRlbXB0XFxcIix7dW5pdDpufSksZ28uY2FsbCh0aGlzLHIsbix1LHRoaXMud2ZTY2hlZHVsZXIpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKHQuZWNwbTw9MClyZXR1cm4gaS5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGYWlsXFxcIix7dW5pdDp0LGVycm9yOntjb2RlOjIyZTMsbXNnOlxcXCJcXFwifX0pLCFpLmhiQmlkZGluZyYmaS53ZlNjaGVkdWxlci5pc0ZhaWxlZCgpJiZpLmFkRXJyb3JXZkVtcHR5KFxcXCJBRFjml6DloavlhYVcXFwiKSxpLmFkeEJpZGRpbmc9ITEsdm9pZChpLmFkeEJpZGRpbmdUaW1lSWQmJmNsZWFyVGltZW91dChpLmFkeEJpZGRpbmdUaW1lSWQpKTtpLndmU2NoZWR1bGVyLm1lcmdlKFt0XSksaS53ZlVuaXRJZHNOZWVkUmVuZGVyPWkud2ZTY2hlZHVsZXIuc2NoZWR1bGVyKCksaS5hZHhCaWRkaW5nPSExLGkuYWR4QmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KGkuYWR4QmlkZGluZ1RpbWVJZCk7dmFyIGU9e2tleTpcXFwiQklEX01FUkdFX1RPX1dGXFxcIix1bml0aWQ6aS5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6aS5yZXF1ZXN0SWQsZ3JvdXBpZDpkLHRyYWZmaWNfZ3JvdXBfaWQ6byxhc2lkOnMsbXNnOlxcXCI2NlxcXCIsbXNnMTpcXFwiXFxcIit0LnVuaXRfaWQsbXNnMjpcXFwiXFxcIit0LmVjcG0sbXNnMzppLndmU2NoZWR1bGVyLmlzRmFpbGVkKCk/XFxcIjNcXFwiOmkud2ZTY2hlZHVsZXIuaXNMb2FkZWQoKT9cXFwiMlxcXCI6XFxcIjFcXFwiLG1zZzQ6XFxcIjJcXFwifTtWYS5jYWxsKGksZSksaS5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGaWxsZWRcXFwiLHt1bml0OnQsdW5pdEluZGV4Omkud2ZTY2hlZHVsZXIuZ2V0SW5kZXgodC51bml0X2lkKX0pfSkpfX0saW5pdEhiOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG4scj10aGlzO2lmKG51bGwhPT0odD10aGlzLmhiTGlzdCkmJnZvaWQgMCE9PXQmJnQubGVuZ3RoKXt0aGlzLmhiQmlkZGluZz0hMDt2YXIgYT10aGlzLmFwaURhdGF8fHt9LG89YS50X2dfaWQsZD1hLmdyb19pZCxzPWEuYXNpZCxsPWEuaGJfYmlkX3RpbWVvdXQsYz12b2lkIDA9PT1sPzZlNDpsLHU9e2hiQmlkVGltZW91dDpjLHJlcXVlc3RJZDp0aGlzLnJlcXVlc3RJZCxzZWdtZW50SWQ6ZCx0cmFmZmljR3JvdXBJZDpvLGFzSWQ6c30scD17Y29uZGl0aW9uOntwbGFjZW1lbnRJZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RJZDp0aGlzLnJlcXVlc3RJZCxmb3JtYXQ6XFxcIlxcXCIrdGhpcy5mb3JtYXQsZXhjaFJhdGVDMnU6KG51bGw9PT0oZT10aGlzLmFwaURhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmV4Y2hfcmF0ZV9jMnUpfHwxLGFjY291bnRDdXJyZW5jeTpudWxsIT09KGk9bnVsbD09PShuPXRoaXMuYXBpRGF0YSl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmNhbGxiYWNrKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hY2N0X2N5KSYmdm9pZCAwIT09aT9pOlxcXCJcXFwiLHBsYWNlbWVudENvbmZpZzp0aGlzLm1lcmdlQ29uZmlnfSxzdHJhdGVneTp1LHNjaGVkdWxlcjp0aGlzLndmU2NoZWR1bGVyfTt0aGlzLmhiQmlkZGluZ1RpbWVJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IuaGJCaWRkaW5nPSExfSksYyksdGhpcy5oYkxpc3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7cC5oYlVuaXQ9dCxyLmVtaXRXZlVuaXRFdmVudChcXFwiYWRVbml0QmlkZGluZ0F0dGVtcHRcXFwiLHt1bml0OnR9KTt2YXIgZT17fTtLby5jYWxsKHIscCkudGhlbigoZnVuY3Rpb24oaSl7dmFyIG49W107aWYoaS5tYXAoKGZ1bmN0aW9uKHQpe1xcXCJmdWxmaWxsZWRcXFwiPT09dC5zdGF0dXM/bi5wdXNoKHQudmFsdWUpOnQucmVhc29uJiYoZT17Y29kZToyMmUzLG1zZzpoKHQucmVhc29uKT90LnJlYXNvbjpKU09OLnN0cmluZ2lmeSh0LnJlYXNvbil9KX0pKSxuLmxlbmd0aDw9MClyZXR1cm4gci5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGYWlsXFxcIix7dW5pdDp0LGVycm9yOmV9KSwhci5hZHhCaWRkaW5nJiZyLndmU2NoZWR1bGVyLmlzRmFpbGVkKCkmJnIuYWRFcnJvcldmRW1wdHkoXFxcIkhC5peg5aGr5YWFXFxcIiksci5oYkJpZGRpbmc9ITEsdm9pZChyLmhiQmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KHIuaGJCaWRkaW5nVGltZUlkKSk7ci53ZlNjaGVkdWxlci5tZXJnZShuKSxyLndmVW5pdElkc05lZWRSZW5kZXI9ci53ZlNjaGVkdWxlci5zY2hlZHVsZXIoKSxyLmhiQmlkZGluZz0hMSxyLmhiQmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KHIuaGJCaWRkaW5nVGltZUlkKSxuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXtrZXk6XFxcIkJJRF9NRVJHRV9UT19XRlxcXCIsdW5pdGlkOnIucGxhY2VtZW50SWQscmVxdWVzdGlkOnIucmVxdWVzdElkLGdyb3VwaWQ6ZCx0cmFmZmljX2dyb3VwX2lkOm8sYXNpZDpzLG1zZzpcXFwiXFxcIit0Lm53X2Zpcm1faWQsbXNnMTpcXFwiXFxcIit0LnVuaXRfaWQsbXNnMjpcXFwiXFxcIit0LmVjcG0sbXNnMzpyLndmU2NoZWR1bGVyLmlzRmFpbGVkKCk/XFxcIjNcXFwiOnIud2ZTY2hlZHVsZXIuaXNMb2FkZWQoKT9cXFwiMlxcXCI6XFxcIjFcXFwiLG1zZzQ6XFxcIjJcXFwifTtWYS5jYWxsKHIsZSksci5lbWl0V2ZVbml0RXZlbnQoXFxcImFkVW5pdEJpZGRpbmdGaWxsZWRcXFwiLHt1bml0OnQsdW5pdEluZGV4OnIud2ZTY2hlZHVsZXIuZ2V0SW5kZXgodC51bml0X2lkKX0pfSkpfSkpLmNhdGNoKChmdW5jdGlvbigpeyFyLmFkeEJpZGRpbmcmJnIud2ZTY2hlZHVsZXIuaXNGYWlsZWQoKSYmci5hZEVycm9yV2ZFbXB0eShcXFwiSELml6DloavlhYVcXFwiKSxyLmhiQmlkZGluZz0hMSxyLmhiQmlkZGluZ1RpbWVJZCYmY2xlYXJUaW1lb3V0KHIuaGJCaWRkaW5nVGltZUlkKX0pKX0pKX19LGJlZm9yZUxvYWQ6KFFvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHI9dGhpcztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxlPURhdGUubm93KCksdGhpcy51bml0TG9hZFN0YXJ0PWUsdGhpcy5wbGFjZW1lbnRMb2FkU3RhcnQ9ZSx0LnQwPVN0cmluZyx0Lm5leHQ9NyxKKCk7Y2FzZSA3OnQudDE9dC5zZW50LHRoaXMucmVxdWVzdElkPSgwLHQudDApKHQudDEpLHRoaXMucmVxdWVzdElkQ291bnQrKyxuPTQ9PT10aGlzLmZvcm1hdD81ZTM6M2U1LHRoaXMudGltZXJJZCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5jaGVja1RpbWVvdXQoKX0pLHRoaXMubWVyZ2VDb25maWcudGltZW91dD4wP3RoaXMubWVyZ2VDb25maWcudGltZW91dDpuKSx0Lm5leHQ9MTc7YnJlYWs7Y2FzZSAxNTp0LnByZXY9MTUsdC50Mj10LmNhdGNoKDApO2Nhc2UgMTc6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDE1XV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiBRby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxjaGVja1RpbWVvdXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMud2ZTY2hlZHVsZXIpe3ZhciBlPXRoaXMud2ZTY2hlZHVsZXIuZ2V0U3RhdHVzTGlzdCgpLGk9W107ZS5mb3JFYWNoKChmdW5jdGlvbih0KXtbXFxcImxvYWRpbmdcXFwiLFxcXCJ0aW1lb3V0XFxcIl0uaW5jbHVkZXModC5zdGF0dXMpJiZpLnB1c2godCl9KSk7dmFyIG49dGhpcy5hcGlEYXRhfHx7fSxyPW4udF9nX2lkLGE9bi5ncm9faWQsbz1uLmFzaWQ7aS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT17a2V5OlxcXCJSRVFVRVNUX0ZBSUxFRFxcXCIsdW5pdGlkOnQucGxhY2VtZW50SWQscmVxdWVzdGlkOnQucmVxdWVzdElkLGdyb3VwaWQ6YSx0cmFmZmljX2dyb3VwX2lkOnIsYXNpZDpvLG1zZzpTdHJpbmcoZS5ud0Zpcm1JZCksbXNnMTpTdHJpbmcoZS51bml0SWQpLG1zZzI6U3RyaW5nKGUuaW5kZXgpLG1zZzM6XFxcIjFcXFwiLG1zZzQ6XFxcIjE5MDAyXFxcIixtc2c1OlxcXCJcXFwiLG1zZzg6XFxcIlxcXCJ9O1ZhLmNhbGwodCxpKX0pKTt0aGlzLmFkRXJyb3Ioe30se2RldGFpbDp7Y29kZTo5MDAyLG1zZzpcXFwiTG9hZCBUaW1lb3V0XFxcIn19KX19LGhhbmRsZUNyZWF0ZUFkOihYbz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsXyxnLHksSSxiLGssdyx4PXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pc0FwaVN1Y2Nlc3M9ITEsbz1cXFwiVE9QT05fQURfQ0FDSEVfUExBQ0VNRU5UX1xcXCIrdGhpcy5wbGFjZW1lbnRJZCx0Lm5leHQ9NCxNLmdldEl0ZW0obywhMSk7Y2FzZSA0OmlmKHQudDA9dC5zZW50LHQudDApe3QubmV4dD03O2JyZWFrfXQudDA9e307Y2FzZSA3OmlmKCF2KGQ9dC50MCkpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsdGhpcy5oYW5kbGVBcGlSZXF1ZXN0KCkpO2Nhc2UgMTA6aWYocz1udWxsIT09KGU9bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLiRkZWYpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRvcG9uX3NkaykmJnZvaWQgMCE9PWU/ZTp7fSxsPXMuY2hhbm5lbElkLGM9dm9pZCAwPT09bD9cXFwiXFxcIjpsLHU9cy5zdWJDaGFubmVsSWQsaD12b2lkIDA9PT11P1xcXCJcXFwiOnUscD1zLmN1c3RvbVBhcmFtLGY9dm9pZCAwPT09cD97fTpwLF89cy5wbGFjZW1lbnRDdXN0b21QYXJhbSxnPWMrXFxcIi9cXFwiK2gseT1PKGYsdm9pZCAwPT09Xz97fTpfKSxJPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGI9KG51bGw9PWR8fG51bGw9PT0ocj1kLmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnBzX2N0X21heCl8fDYwNDhlNSxrPShudWxsPT1kfHxudWxsPT09KGE9ZC5kYXRhKXx8dm9pZCAwPT09YT92b2lkIDA6YS5wc19jdF9vdXQpfHwwLCh3PShudWxsPT1kP3ZvaWQgMDpkLl9yZXF1ZXN0X3RpbWVzdGFtcCl8fDApPD0wJiYodz1kLl9wc19jdF90aW1lc3RhbXAtZC5kYXRhLnBzX2N0KSwhKGQuX3BzX2N0X3RpbWVzdGFtcD5JJiZkLl9jaGFubmVsPT09ZyYmbShkLl9jdXN0b21fcGFyYW0seSkpKXt0Lm5leHQ9MjI7YnJlYWt9dGhpcy5oYW5kbGVBcGlSZXNwb25zZShkKSx0Lm5leHQ9Mjg7YnJlYWs7Y2FzZSAyMjppZighKHcrYjxJKSl7dC5uZXh0PTI2O2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIix0aGlzLmhhbmRsZUFwaVJlcXVlc3QoKSk7Y2FzZSAyNjpyZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKXt4LmhhbmRsZUFwaVJlc3BvbnNlKGQpfSksayksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsdGhpcy5oYW5kbGVBcGlSZXF1ZXN0KCkpO2Nhc2UgMjg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBYby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxoYW5kbGVBcGlSZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIHQ9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZCxzLGwsYyx1LGgscCxmLG0sZyx5LEksYixrO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQucHJldj0wLGE9bnVsbCE9PShlPW51bGw9PT0obj10aGlzLiRhcHApfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi4kZGVmKXx8dm9pZCAwPT09bj92b2lkIDA6bi50b3Bvbl9zZGspJiZ2b2lkIDAhPT1lP2U6e30sbz1hLmNoYW5uZWxJZCxkPXZvaWQgMD09PW8/XFxcIlxcXCI6byxzPWEuc3ViQ2hhbm5lbElkLGw9dm9pZCAwPT09cz9cXFwiXFxcIjpzLGM9YS5jdXN0b21QYXJhbSx1PXZvaWQgMD09PWM/e306YyxoPWEucGxhY2VtZW50Q3VzdG9tUGFyYW0scD1PKHUsdm9pZCAwPT09aD97fTpoKSxmPXtwbGFjZW1lbnRJZDp0aGlzLnBsYWNlbWVudElkfSx0Lm5leHQ9Nix0by5jYWxsKHRoaXMsZik7Y2FzZSA2OmlmKG09dC5zZW50LGc9XyhudWxsPT1tP3ZvaWQgMDptLmRhdGEpP0pTT04ucGFyc2UobnVsbD09bT92b2lkIDA6bS5kYXRhKToobnVsbD09bT92b2lkIDA6bS5kYXRhKXx8e30sNjk5PT09bS5jb2RlJiYoZz17Y29kZTowLGRhdGE6e2FkX2RlbGl2ZXJ5X3N3OjAscHNfY3Q6ODY0ZTUscHNfY3Rfb3V0OjB9fSksISgobnVsbD09PShyPWcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNvZGUpPjB8fHYoZykpJiZnKXt0Lm5leHQ9MTU7YnJlYWt9aWYoIXRoaXMuaXNBcGlTdWNjZXNzKXt0Lm5leHQ9MTI7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiKTtjYXNlIDEyOnJldHVybiB5PXtkZXRhaWw6e2NvZGU6OTAwNCxtc2c6XFxcIuaOpeWPo+acjeWKoemUmeivr1xcXCJ9fSx0aGlzLmFkRXJyb3Ioe30seSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTU6ST0obmV3IERhdGUpLmdldFRpbWUoKSxiPWQrXFxcIi9cXFwiK2wsZy5fcHNfY3RfdGltZXN0YW1wPUkrZy5kYXRhLnBzX2N0LGcuX2NoYW5uZWw9YixnLl9jdXN0b21fcGFyYW09cCxnLl9yZXF1ZXN0X3RpbWVzdGFtcD1JLHRoaXMuaGFuZGxlQXBpUmVzcG9uc2UoZyksaz1cXFwiVE9QT05fQURfQ0FDSEVfUExBQ0VNRU5UX1xcXCIrdGhpcy5wbGFjZW1lbnRJZCxNLnNldEl0ZW0oayxnLCExKSx0Lm5leHQ9Mjg7YnJlYWs7Y2FzZSAyNjp0LnByZXY9MjYsdC50MD10LmNhdGNoKDApO2Nhc2UgMjg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1swLDI2XV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLGhhbmRsZUFwaVJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCF0aGlzLmlzQXBpU3VjY2Vzcyl7dGhpcy5pc0FwaVN1Y2Nlc3M9ITAsdGhpcy5hcGlEYXRhPXQuZGF0YTt2YXIgaT1mdW5jdGlvbih0KXtpZighdClyZXR1cm5bXTt2YXIgZT10LmRhdGEsaT1lLmFkeF9saXN0LG49dm9pZCAwPT09aT9bXTppLHI9ZS5oYl9saXN0LGE9dm9pZCAwPT09cj9bXTpyLG89ZS51Z19saXN0LGQ9dm9pZCAwPT09bz9bXTpvLHM9YigpLGw9YihcXFwiaGJcXFwiKSxjPWQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gcy5pbmNsdWRlcyh0Lm53X2Zpcm1faWQpfSkpfHxbXTtyZXR1cm57YWR4TGlzdDpuLGhiTGlzdDphLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGwuaW5jbHVkZXModC5ud19maXJtX2lkKX0pKXx8W10sdWdMaXN0OmN9fSh0KTtpZigxIT09KG51bGw9PT0oZT10aGlzLmFwaURhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmFkX2RlbGl2ZXJ5X3N3KSYmKGk9e30pLHRoaXMuYWR4TGlzdD1pLmFkeExpc3R8fFtdLHRoaXMuaGJMaXN0PWkuaGJMaXN0fHxbXSx0aGlzLnVuaXRMaXN0PWkudWdMaXN0fHxbXSx0aGlzLmFkeExpc3QubGVuZ3RofHx0aGlzLnVuaXRMaXN0Lmxlbmd0aHx8dGhpcy5oYkxpc3QubGVuZ3RoKXJldHVybiBpO3RoaXMuYWRFcnJvcldmRW1wdHkoKX19LGNoZWNrV2ZDYWNoZTpmdW5jdGlvbigpe2lmKHRoaXMud2ZTY2hlZHVsZXIpe3ZhciB0PXRoaXMud2ZTY2hlZHVsZXIuc2VsZWN0ZXIoKTtpZighdih0KSl7dmFyIGU9dC51bml0LGk9dGhpcy5yZXF1ZXN0SWQ7aWYodGhpcy5sb2NrLmFkTG9hZCE9PWkpe3RoaXMubG9jay5hZExvYWQ9aSx0aGlzLnRpbWVySWQmJmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO3RyeXt0aGlzLiRlbWl0KFxcXCJhZExvYWRcXFwiLHt9KX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFxcXCJlcnJvclxcXCIsdC5tZXNzYWdlKTt2YXIgbj17a2V5OlxcXCJDQUxMQkFDS19FUlJPUlxcXCIsdW5pdGlkOnRoaXMucGxhY2VtZW50SWQscmVxdWVzdGlkOnRoaXMucmVxdWVzdElkLG1zZzplLnVuaXRfaWQsbXNnMTpcXFwiMVxcXCIsbXNnMjpcXFwiYWRMb2Fk5Zue6LCD6ZSZ6K+vXFxcIixtc2czOnRoaXMuaGFuZGxlR2V0RXJyTXNnKHQubWVzc2FnZSl9O1ZhLmNhbGwodGhpcyxuKX10aGlzLnJlcG9ydFRrRGF0YShcXFwiQURfTE9BRF9GSUxMRURcXFwiLGUpfX19fSxsb2FkOmZ1bmN0aW9uKCl7dGhpcy53ZlNjaGVkdWxlci5pc0V4cGlyZWQoKSYmKHRoaXMubG9jay5sb2FkPVxcXCJcXFwiKSx0aGlzLndmVW5pdElkc05lZWRSZW5kZXI9dGhpcy53ZlNjaGVkdWxlci5zY2hlZHVsZXIoITApLHRoaXMuYWRFcnJvckxpc3Q9W10sdGhpcy5oYW5kbGVBZEluaXQoKX0saXNSZWFkeTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYXBpRGF0YXx8e30sZT10LnRfZ19pZCxpPXQuZ3JvX2lkLG49dC5hc2lkLHI9e2tleTpcXFwiSVNfUkVBRFlcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmksdHJhZmZpY19ncm91cF9pZDplLGFzaWQ6bn0sYT10aGlzLndmU2NoZWR1bGVyLnNlbGVjdGVyKCk7cmV0dXJuIHYoYSk/KGNvbnNvbGUuZXJyb3IoXFxcIndmQWRhcHRlckluc3RhbmNlIG5vdCBleGlzdFxcXCIpLHIubXNnPVxcXCIwXFxcIixyLm1zZzE9XFxcIjFcXFwiLHIubXNnMj1cXFwiXFxcIixyLm1zZzM9XFxcIlxcXCIsci5tc2c0PVxcXCJcXFwiLHIubXNnNT1cXFwiXFxcIixWYS5jYWxsKHRoaXMsciksITEpOihyLm1zZz1cXFwiMVxcXCIsci5tc2cxPVxcXCJcXFwiLHIubXNnMj1TdHJpbmcoYS5pbmRleCksci5tc2czPVN0cmluZyhhLnVuaXRJZCksci5tc2c0PVN0cmluZyhhLm53RmlybUlkKSxyLm1zZzU9XFxcIlxcXCIsVmEuY2FsbCh0aGlzLHIpLCEwKX0sZ2V0QWQ6ZnVuY3Rpb24oKXt2YXIgdDtpZighdGhpcy5pc1JlYWR5KCkpcmV0dXJuIHRoaXMud2ZBZGFwdGVyPW51bGwsbnVsbDtpZighdGhpcy53ZlNjaGVkdWxlcilyZXR1cm4gbnVsbDt0aGlzLndmQWRhcHRlcj10aGlzLndmU2NoZWR1bGVyLnNlbGVjdGVyKCk7dmFyIGk9dGhpcy53ZkFkYXB0ZXIsbj10aGlzLmdldFdmQWRhcHRlckluc3RhbmNlKGkuaXRlbUlkKTtpZih2KG4pKXJldHVybiBjb25zb2xlLmVycm9yKFxcXCJ3ZkFkYXB0ZXJJbnN0YW5jZSBub3QgZXhpc3RcXFwiKSx7fTt0aGlzLndmU2NoZWR1bGVyLnNldFNob3dlZChpLnVuaXRJZCksdGhpcy53ZlVuaXRJZHNOZWVkUmVuZGVyPXRoaXMud2ZTY2hlZHVsZXIuc2NoZWR1bGVyKCksdGhpcy5sb2NrLmxvYWQ9XFxcIlxcXCIsdGhpcy5oaXRVbml0SWQ9aS51bml0SWQ7dmFyIHI9e30sYT1udWxsO24uZ2V0QWQmJihyPW4uZ2V0QWQoKXx8e30pLG4uZ2V0SW5zdGFuY2UmJihhPW4uZ2V0SW5zdGFuY2UoKSk7dmFyIG89ZShlKHt9LGkuY29udGV4dC5lbWl0KSx7fSx7YWQ6cixpbnN0YW5jZTphfSk7aWYobnVsbCE9PSh0PXRoaXMuJGFwcCkmJnZvaWQgMCE9PXQmJm51bGwhPT0odD10LiRkZWYpJiZ2b2lkIDAhPT10JiZudWxsIT09KHQ9dC50b3Bvbl9zZGspJiZ2b2lkIDAhPT10JiZ0LmVuaGFuY2VkTG9nZ2luZ01vZGUpe3ZhciBkPXRoaXMuYXBpRGF0YXx8e30scz1kLnRfZ19pZCxsPWQuZ3JvX2lkLGM9ZC5hc2lkLHU9e2tleTpcXFwiR0VUX0FEXFxcIix1bml0aWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6dGhpcy5yZXF1ZXN0SWQsZ3JvdXBpZDpsLHRyYWZmaWNfZ3JvdXBfaWQ6cyxhc2lkOmMsbXNnOlN0cmluZygobnVsbD09bz92b2lkIDA6by5ud0Zpcm1JZCl8fDApLG1zZzE6U3RyaW5nKChudWxsPT1vP3ZvaWQgMDpvLnVuaXRJZCl8fDApLG1zZzI6U3RyaW5nKChudWxsPT1vP3ZvaWQgMDpvLmVjcG0pfHwwKX07VmEuY2FsbCh0aGlzLHUpfXJldHVybiBvfSxzaG93OmZ1bmN0aW9uKCl7dHJ5e3ZhciB0PXRoaXMuYXBpRGF0YXx8e30sZT10LnRfZ19pZCxpPXQuZ3JvX2lkLG49dC5hc2lkLHI9e2tleTpcXFwiU0hPV19GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmksdHJhZmZpY19ncm91cF9pZDplLGFzaWQ6bixtc2c6XFxcIjFcXFwifTtpZih2KHRoaXMud2ZBZGFwdGVyKSlyZXR1cm4gY29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIiksdm9pZCBWYS5jYWxsKHRoaXMscik7dmFyIGE9dGhpcy53ZkFkYXB0ZXIsbz10aGlzLmdldFdmQWRhcHRlckluc3RhbmNlKGEuaXRlbUlkKTtpZih2KG8pKXtyZXR1cm4gdGhpcy5hZEVycm9yKHt9LHtkZXRhaWw6e2NvZGU6OTAwNSxtc2c6XFxcIuW5v+WRiue8k+WtmOW3sui/h+acn1xcXCJ9fSksdm9pZCBWYS5jYWxsKHRoaXMscil9dmFyIGQ9e3VuaXRfaWQ6YS51bml0SWQsbndfZmlybV9pZDphLm53RmlybUlkLGVjcG06YS5lY3BtLGJpZFRrOmEudW5pdC5iaWRUa307dGhpcy5yZXBvcnRUa0RhdGEoXFxcIkFEX1NIT1dcXFwiLGQpLG51bGw9PW98fG8uc2hvdygpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXFxcImNhbGwgc2hvdyBlcnJvclxcXCIsdCl9fSxhZExvYWQ6ZnVuY3Rpb24odCxpKXt2YXIgbixyLGEsbz10Lm53X2NhY2hlX3RpbWUsZD10LndmQWRPcHRpb24scz12b2lkIDA9PT1kP3t9OmQsbD1EYXRlLm5vdygpO3RoaXMucGxhY2VtZW50TG9hZEVuZD1sO3ZhciBjPXRoaXMuZ2V0V2ZBZEVtaXQodCk7bnVsbCE9aSYmbnVsbCE9PShuPWkuZGV0YWlsKSYmdm9pZCAwIT09biYmbi5ud1VuaXRWZXJzaW9uJiYoYy5ud1VuaXRWZXJzaW9uPWkuZGV0YWlsLm53VW5pdFZlcnNpb24pO3ZhciB1PTA7W1xcXCIxXFxcIixcXFwiMlxcXCJdLmluY2x1ZGVzKG51bGw9PXM/dm9pZCAwOnMuX3R5cGUpJiYodT0xKSxjLmlzSGVhZGVyQmlkZGluZz11O3ZhciBoPXthZGFwdGVyOmksZW1pdDplKHtpc1NlbGZSZW5kZXJpbmc6bnVsbCE9PShyPW51bGw9PT0oYT1pLmRldGFpbCl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaXNTZWxmUmVuZGVyaW5nKSYmdm9pZCAwIT09ciYmcn0sYyl9LHA9bCtvO3RoaXMud2ZTY2hlZHVsZXIuc2V0Q2FjaGluZyh0LnVuaXRfaWQsaCx7ZXhwaXJhdGlvblRpbWU6cH0pLHRoaXMud2ZVbml0SWRzTmVlZFJlbmRlcj10aGlzLndmU2NoZWR1bGVyLnNjaGVkdWxlcigpLHRoaXMuZW1pdFdmVW5pdEV2ZW50KFxcXCJhZFVuaXRMb2FkRmlsbGVkXFxcIix7dW5pdDp0fSl9LGFkU2hvdzpmdW5jdGlvbih0LGUpe3RoaXMud2ZTY2hlZHVsZXIuc2V0U2hvd2VkKHQudW5pdF9pZCksdGhpcy5oaXRVbml0SWQ9dC51bml0X2lkLHRoaXMud2ZVbml0SWRzTmVlZFJlbmRlcj10aGlzLndmU2NoZWR1bGVyLnNjaGVkdWxlcigpLHRoaXMubG9jay5sb2FkPVxcXCJcXFwiO3RyeXt0aGlzLiRlbWl0KFxcXCJhZFNob3dcXFwiLGUpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXFxcImVycm9yXFxcIixlLm1lc3NhZ2UpO3ZhciBpPXtrZXk6XFxcIkNBTExCQUNLX0VSUk9SXFxcIix1bml0aWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6dGhpcy5yZXF1ZXN0SWQsbXNnOnQudW5pdF9pZCxtc2cxOlxcXCIyXFxcIixtc2cyOlxcXCJhZFNob3flm57osIPplJnor69cXFwiLG1zZzM6dGhpcy5oYW5kbGVHZXRFcnJNc2coZS5tZXNzYWdlKX07VmEuY2FsbCh0aGlzLGkpfX0sYWRDbGljazpmdW5jdGlvbih0LGUpe3RyeXt0aGlzLiRlbWl0KFxcXCJhZENsaWNrXFxcIixlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFxcXCJlcnJvclxcXCIsZS5tZXNzYWdlKTt2YXIgaT17a2V5OlxcXCJDQUxMQkFDS19FUlJPUlxcXCIsdW5pdGlkOnRoaXMucGxhY2VtZW50SWQscmVxdWVzdGlkOnRoaXMucmVxdWVzdElkLG1zZzp0LnVuaXRfaWQsbXNnMTpcXFwiNFxcXCIsbXNnMjpcXFwiYWRDbGlja+Wbnuiwg+mUmeivr1xcXCIsbXNnMzp0aGlzLmhhbmRsZUdldEVyck1zZyhlLm1lc3NhZ2UpfTtWYS5jYWxsKHRoaXMsaSl9fSxhZENsb3NlOmZ1bmN0aW9uKHQsZSl7dHJ5e3RoaXMuJGVtaXQoXFxcImFkQ2xvc2VcXFwiLGUpLHRoaXMuaGl0VW5pdElkPW51bGx9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcXFwiZXJyb3JcXFwiLGUubWVzc2FnZSk7dmFyIGk9e2tleTpcXFwiQ0FMTEJBQ0tfRVJST1JcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxtc2c6dC51bml0X2lkLG1zZzE6XFxcIjNcXFwiLG1zZzI6XFxcImFkQ2xvc2Xlm57osIPplJnor69cXFwiLG1zZzM6dGhpcy5oYW5kbGVHZXRFcnJNc2coZS5tZXNzYWdlKX07VmEuY2FsbCh0aGlzLGkpfX0sYWRSZXdhcmQ6ZnVuY3Rpb24odCxlKXt0cnl7dGhpcy4kZW1pdChcXFwiYWRSZXdhcmRcXFwiLGUpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXFxcImVycm9yXFxcIixlLm1lc3NhZ2UpO3ZhciBpPXtrZXk6XFxcIkNBTExCQUNLX0VSUk9SXFxcIix1bml0aWQ6dGhpcy5wbGFjZW1lbnRJZCxyZXF1ZXN0aWQ6dGhpcy5yZXF1ZXN0SWQsbXNnOnQudW5pdF9pZCxtc2cxOlxcXCI1XFxcIixtc2cyOlxcXCJhZFJld2FyZOWbnuiwg+mUmeivr1xcXCIsbXNnMzp0aGlzLmhhbmRsZUdldEVyck1zZyhlLm1lc3NhZ2UpfTtWYS5jYWxsKHRoaXMsaSl9fSxhZEVycm9yOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixyLGEsbz10Lm53X2Zpcm1faWQsZD12b2lkIDA9PT1vP1xcXCJcXFwiOm8scz10LnVuaXRfaWQsbD10LndmSW5kZXgsYz1udWxsIT09KGk9bnVsbD09PShuPWUuZGV0YWlsKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb2RlKSYmdm9pZCAwIT09aT9pOnZvaWQgMCx1PXJ0LmNvZGVUb0V2ZW50KGQsYyl8fFxcXCJ1bmtub3duXFxcIjs5MDAxPT09Yz9kPT09dHQuQkFJRFUmJlsxLDMsNF0uaW5jbHVkZXModGhpcy5mb3JtYXQpfHxkPT09dHQuT1BQTyYmMj09PXRoaXMuZm9ybWF0P3RoaXMud2ZTY2hlZHVsZXIuc2V0RmFpbGVkKHQudW5pdF9pZCk6dGhpcy53ZlNjaGVkdWxlci5zZXRUaW1lb3V0KHQudW5pdF9pZCk6XFxcImxvYWRpbmdcXFwiIT09dSYmdGhpcy53ZlNjaGVkdWxlci5zZXRGYWlsZWQodC51bml0X2lkKTt2YXIgaD0yMmUzLHA9MSpjO2lmKGg9MWUzPD1wJiZwPDllMz9wKzJlNDo5ZTM8PXAmJnA8OTk5OT9wKzFlNDoyMmUzLFxcXCJsb2FkaW5nXFxcIiE9PXUmJiFbOWUzLDkwMDEsOTAwM10uaW5jbHVkZXMoYykpe3ZhciBmLHYsbT10aGlzLmFwaURhdGF8fHt9LF89bS50X2dfaWQsZz1tLmdyb19pZCx5PW0uYXNpZCxJPVxcXCIwXFxcIjs5MDA2PT09Yz9JPVxcXCI1XFxcIjo5MDA3PT09Yz9JPVxcXCI5XFxcIjo5MDA4PT09YyYmKEk9XFxcIjExXFxcIik7dmFyIGI9e2tleTpcXFwiUkVRVUVTVF9GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOmcsdHJhZmZpY19ncm91cF9pZDpfLGFzaWQ6eSxtc2c6U3RyaW5nKGQpLG1zZzE6U3RyaW5nKHMpLG1zZzI6U3RyaW5nKGwpLG1zZzM6SSxtc2c0OlN0cmluZyhoKSxtc2c1OlN0cmluZyhudWxsIT09KGY9bnVsbD09ZXx8bnVsbD09PSh2PWUuZGV0YWlsKXx8dm9pZCAwPT09dj92b2lkIDA6di5tc2cpJiZ2b2lkIDAhPT1mP2Y6ZS5tc2cpLG1zZzg6U3RyaW5nKERhdGUubm93KCktdGhpcy51bml0TG9hZFN0YXJ0KX07VmEuY2FsbCh0aGlzLGIpfWlmKHRoaXMuaXNOZWVkRW1pdEVycm9yKHUpfHx0aGlzLmlzQnVzaW5lc3NFcnJvckNvZGUoYykpe3ZhciBrLHcseD1lLnR5cGU/ZTp7fTtpZihlLnR5cGUpe3ZhciBTLFQ7eC5kZXRhaWw9bnVsbCE9PShTPW51bGw9PWU/dm9pZCAwOmUuZGV0YWlsKSYmdm9pZCAwIT09Uz9TOnt9LHguZGV0YWlsLmNvZGU9aDt2YXIgQT17Y29kZTpoLG1zZzpudWxsPT1lfHxudWxsPT09KFQ9ZS5kZXRhaWwpfHx2b2lkIDA9PT1UP3ZvaWQgMDpULm1zZyx1bml0SWQ6cyxud0Zpcm1JZDpkfTt0aGlzLmFkRXJyb3JMaXN0LnB1c2goQSkseC5kZXRhaWwuZXJyb3JzPXRoaXMuYWRFcnJvckxpc3R9ZWxzZXt2YXIgRSxDLEQsTDt4Lm1zZz1udWxsIT09KEU9bnVsbD09ZXx8bnVsbD09PShDPWUuZGV0YWlsKXx8dm9pZCAwPT09Qz92b2lkIDA6Qy5tc2cpJiZ2b2lkIDAhPT1FP0U6ZS5tc2cseC5jb2RlPWg7dmFyIE89e2NvZGU6aCxtc2c6bnVsbCE9PShEPW51bGw9PWV8fG51bGw9PT0oTD1lLmRldGFpbCl8fHZvaWQgMD09PUw/dm9pZCAwOkwubXNnKSYmdm9pZCAwIT09RD9EOmUubXNnLHVuaXRJZDpzLG53RmlybUlkOmR9O3RoaXMuYWRFcnJvckxpc3QucHVzaChPKSx4LmVycm9ycz10aGlzLmFkRXJyb3JMaXN0fXZhciBSPXRoaXMucmVxdWVzdElkO2lmKHRoaXMubG9jay5hZEVycm9yPT09UilyZXR1cm47dGhpcy5sb2NrLmFkRXJyb3I9Ujt0cnl7dGhpcy4kZW1pdChcXFwiYWRFcnJvclxcXCIseCl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcXFwiZXJyb3JcXFwiLHQubWVzc2FnZSk7dmFyIFA9e2tleTpcXFwiQ0FMTEJBQ0tfRVJST1JcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxtc2c6cyxtc2cxOlxcXCI2XFxcIixtc2cyOlxcXCJhZEVycm9y5Zue6LCD6ZSZ6K+vXFxcIixtc2czOnRoaXMuaGFuZGxlR2V0RXJyTXNnKHQubWVzc2FnZSl9O1ZhLmNhbGwodGhpcyxQKX10aGlzLmxvY2subG9hZD1cXFwiXFxcIix0aGlzLnRpbWVySWQmJmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO3ZhciBVPXRoaXMuYXBpRGF0YXx8e30sJD1VLnRfZ19pZCxOPVUuZ3JvX2lkLGo9VS5hc2lkLEY9e2tleTpcXFwiTE9BRF9GQUlMRURcXFwiLHVuaXRpZDp0aGlzLnBsYWNlbWVudElkLHJlcXVlc3RpZDp0aGlzLnJlcXVlc3RJZCxncm91cGlkOk4sdHJhZmZpY19ncm91cF9pZDokLGFzaWQ6aixtc2c6U3RyaW5nKG51bGwhPT0oaz1udWxsPT1lfHxudWxsPT09KHc9ZS5kZXRhaWwpfHx2b2lkIDA9PT13P3ZvaWQgMDp3Lm1zZykmJnZvaWQgMCE9PWs/azplLm1zZyksbXNnMTpTdHJpbmcoaCl9O1ZhLmNhbGwodGhpcyxGKX1lbHNlIGlmKFxcXCJsb2FkaW5nXFxcIiE9PXUpe3RoaXMud2ZVbml0SWRzTmVlZFJlbmRlcj10aGlzLndmU2NoZWR1bGVyLnNjaGVkdWxlcigpO3ZhciBCPShudWxsPT1lP3ZvaWQgMDplLmRldGFpbCl8fHt9O0IuY29kZT1oLEIudW5pdElkPXMsQi5ud0Zpcm1JZD1kLHRoaXMuYWRFcnJvckxpc3QucHVzaChCKX12YXIgVz17Y29kZTpoLG1zZzpudWxsIT09KHI9bnVsbD09ZXx8bnVsbD09PShhPWUuZGV0YWlsKXx8dm9pZCAwPT09YT92b2lkIDA6YS5tc2cpJiZ2b2lkIDAhPT1yP3I6ZS5tc2d9O3RoaXMuZW1pdFdmVW5pdEV2ZW50KFxcXCJhZFVuaXRMb2FkRmFpbFxcXCIse3VuaXQ6dCxlcnJvcjpXfSl9LGFkRXJyb3JXZkVtcHR5OmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlxcXCLml6Dlub/lkYrmupDmlbDmja4v5bm/5ZGK5L2N5bey5YWz6ZetXFxcIixlPXtkZXRhaWw6e2NvZGU6OTAwMyxtc2c6dH19O3RoaXMuYWRFcnJvcih7fSxlKX0saXNOZWVkRW1pdEVycm9yOmZ1bmN0aW9uKHQpe3JldHVyblxcXCJsb2FkaW5nXFxcIiE9PXQmJighdGhpcy5hZHhCaWRkaW5nJiYhdGhpcy5oYkJpZGRpbmcmJihcXFwic2hvd1xcXCI9PT10fHx0aGlzLndmU2NoZWR1bGVyLmlzRmFpbGVkKCkpKX0saXNCdXNpbmVzc0Vycm9yQ29kZTpmdW5jdGlvbih0KXtyZXR1cm5bOTAwMiwxOTAwMiw5MDAzLDE5MDAzLDkwMDQsMTkwMDQsOTAwNSwxOTAwNV0uaW5jbHVkZXModCl9LGVtaXRXZlVuaXRFdmVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXN8fHt9LG49aS5mb3JtYXQscj1pLnJlcXVlc3RJZCxhPWUudW5pdCxvPXZvaWQgMD09PWE/e306YSxkPWUudW5pdEluZGV4LHM9dm9pZCAwPT09ZD8tMTpkLGw9ZS5pc0hlYWRlckJpZGRpbmcsYz12b2lkIDA9PT1sPzA6bCx1PWUuZXJyb3IsaD12b2lkIDA9PT11P3t9OnUscD1vLndmQWRPcHRpb24sZj12b2lkIDA9PT1wP3t9OnAsdj10aGlzLmdldFdmQWRFbWl0KG8pfHx7fSxtPXYuZWNwbSxfPXYuY3lFY3BtLGc9di51bml0SWQseT12LnVuaXRMZXZlbCxJPXYubndGaXJtSWQsYj12Lm53VW5pdElkLGs9e2Zvcm1hdDpuLHJlcXVlc3RJZDpyLGFiVGVzdElkOnYuYWJUZXN0SWQsc2VnbWVudElkOnYuc2VnbWVudElkLHVuaXRJZDpnLG53RmlybUlkOkksbndVbml0SWQ6YixlY3BtOm0sY3lFY3BtOl8saXNIZWFkZXJCaWRkaW5nOmMsdW5pdExldmVsOnksdW5pdEluZGV4OnMsZXJyb3I6aH07WzE5ZTMsMTkwMDYsMTkwMDddLmluY2x1ZGVzKG51bGw9PWg/dm9pZCAwOmguY29kZSl8fHRoaXMuaXNCdXNpbmVzc0Vycm9yQ29kZShudWxsPT1oP3ZvaWQgMDpoLmNvZGUpfHwoW1xcXCJhZFVuaXRCaWRkaW5nQXR0ZW1wdFxcXCIsXFxcImFkVW5pdEJpZGRpbmdGYWlsXFxcIl0uaW5jbHVkZXModCkmJihrLmVjcG09MCxrLmN5RWNwbT0wKSwoW1xcXCJhZFVuaXRCaWRkaW5nQXR0ZW1wdFxcXCIsXFxcImFkVW5pdEJpZGRpbmdGaWxsZWRcXFwiLFxcXCJhZFVuaXRCaWRkaW5nRmFpbFxcXCJdLmluY2x1ZGVzKHQpfHxbXFxcIjFcXFwiLFxcXCIyXFxcIl0uaW5jbHVkZXMobnVsbD09Zj92b2lkIDA6Zi5fdHlwZSkpJiYoay5pc0hlYWRlckJpZGRpbmc9MSksdGhpcy4kZW1pdCh0LGspKX0scmVwb3J0U2hvdzpmdW5jdGlvbigpe2lmKHYodGhpcy53ZkFkYXB0ZXIpKWNvbnNvbGUuZXJyb3IoXFxcIndmQWRhcHRlckluc3RhbmNlIG5vdCBleGlzdFxcXCIpO2Vsc2V7dmFyIHQ9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZSh0aGlzLndmQWRhcHRlci5pdGVtSWQpO3YodCk/Y29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIik6dm9pZCAwIT09dC5yZXBvcnRTaG93JiZ0LnJlcG9ydFNob3coKX19LHJlcG9ydENsaWNrOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntyZXBvcnRUb1Byb3ZpZGVyOiEwfTtpZih2KHRoaXMud2ZBZGFwdGVyKSljb25zb2xlLmVycm9yKFxcXCJ3ZkFkYXB0ZXJJbnN0YW5jZSBub3QgZXhpc3RcXFwiKTtlbHNle3ZhciBlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodGhpcy53ZkFkYXB0ZXIuaXRlbUlkKTt2KGUpP2NvbnNvbGUuZXJyb3IoXFxcIndmQWRhcHRlckluc3RhbmNlIG5vdCBleGlzdFxcXCIpOnZvaWQgMCE9PWUucmVwb3J0Q2xpY2smJmUucmVwb3J0Q2xpY2sodCl9fSxnZXRXZkFkYXB0ZXJJbnN0YW5jZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiB0PD0wJiYodD10aGlzLndmU2NoZWR1bGVyLml0ZW1JZFNlbGV0ZXIoKSksdGhpcy4kY2hpbGQodGhpcy5wbGFjZW1lbnRJZCtcXFwiL1xcXCIrdCl9LGdldFdmQWRPcHRpb246ZnVuY3Rpb24odCl7dmFyIGUsaT17fTtyZXR1cm4gbnVsbCE9dCYmdC5jb250ZW50JiYoaT1KU09OLnBhcnNlKHQuY29udGVudCkpLGkuX3VuaXRfaWQ9bnVsbD09dD92b2lkIDA6dC51bml0X2lkLGkuX253X3JlcV9udW09bnVsbD09dD92b2lkIDA6dC5ud19yZXFfbnVtLGkuX253X3RpbWVvdXQ9bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQubndfdGltZW91dCkmJnZvaWQgMCE9PWU/ZTo1ZTQsaS5fcmVxdWVzdF9pZD10aGlzLnJlcXVlc3RJZCxpfSxnZXRXZkFkRXh0cmE6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLHIsYTtyZXR1cm57dW5pdDp7dW5pdF9pZDp0LnVuaXRfaWQsbndfZmlybV9pZDp0Lm53X2Zpcm1faWQsZWNwbTp0LmVjcG0sbndfY2FjaGVfdGltZTp0Lm53X2NhY2hlX3RpbWUsY3lfZWNwbTp0LmN5X2VjcG0sY29udGVudDp0LmNvbnRlbnQsYmlkVGs6dC5iaWRUa3x8e319LHRyYWZmaWNHcm91cElkOm51bGw9PT0oZT10aGlzLmFwaURhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRfZ19pZCxzZWdtZW50SWQ6bnVsbD09PShpPXRoaXMuYXBpRGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZ3JvX2lkLGZvcm1hdDpudWxsPT09KG49dGhpcy5hcGlEYXRhKXx8dm9pZCAwPT09bj92b2lkIDA6bi5mb3JtYXQsYXNJZDpudWxsPT09KHI9dGhpcy5hcGlEYXRhKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hc2lkLGFkU291cmNlSWQ6dC51bml0X2lkLG53RmlybUlkOnQubndfZmlybV9pZCxlY3BtOnQuZWNwbSxjaGFubmVsSWQ6bnVsbD09PShhPXRoaXMuJGFwcCl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLiRkZWYpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS50b3Bvbl9zZGspfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmNoYW5uZWxJZCxwbGFjZW1lbnRJZDp0aGlzLnBsYWNlbWVudElkLGJpZFRrOnQuYmlkVGt8fHt9fX0sZ2V0V2ZBZEVtaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5lY3BtLGk9dC5jeV9lY3BtLG49dC5lY3BtX2xldmVsLHI9dC51bml0X2lkLGE9dC5ud19maXJtX2lkLG89dC5jb250ZW50LGQ9dm9pZCAwPT09bz9cXFwie31cXFwiOm8scz10aGlzLmFwaURhdGF8fHt9LGw9cy50X2dfaWQsYz1zLmdyb19pZCx1PXIsaD1hLHA9SlNPTi5wYXJzZShkKSxmPXRoaXMuZm9ybWF0O3JldHVybntlY3BtOmUsY3lFY3BtOmksdW5pdElkOnUsdW5pdExldmVsOm4sbndGaXJtSWQ6aCxud1VuaXRJZDpwW2l0W2hdXXx8XFxcIlxcXCIsY3VzdG9tRXh0OnAuY3VzdG9tX2V4dHx8bnVsbCxmb3JtYXQ6ZixhYlRlc3RJZDpsLHNlZ21lbnRJZDpjfX0saGFuZGxlUmVwb3J0VGs6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLHI9ZS5kZXRhaWwudHlwZSxhPW51bGwhPT0oaT1udWxsPT09KG49ZS5kZXRhaWwpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmFkKSYmdm9pZCAwIT09aT9pOm51bGw7XFxcIkFEX1JFUVVFU1RcXFwiPT09ciYmKHRoaXMuZW1pdFdmVW5pdEV2ZW50KFxcXCJhZFVuaXRMb2FkQXR0ZW1wdFxcXCIse3VuaXQ6dH0pLHRoaXMudW5pdExvYWRTdGFydD1EYXRlLm5vdygpKSxcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwiPT09ciYmKHRoaXMudW5pdExvYWRFbmQ9RGF0ZS5ub3coKSksdGhpcy5yZXBvcnRUa0RhdGEocix0LGEpfSxyZXBvcnRUa0RhdGE6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGE9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGwsbz10aGlzfHx7fSxkPW8ucGxhY2VtZW50TG9hZFN0YXJ0LHM9by5wbGFjZW1lbnRMb2FkRW5kLGw9by51bml0TG9hZFN0YXJ0LGM9by51bml0TG9hZEVuZCx1PW8ucGxhY2VtZW50SWQsaD1vLnJlcXVlc3RJZCxwPW8uZm9ybWF0LGY9by5yZXFVZ051bSx2PW8uYXBpRGF0YSxtPXZvaWQgMD09PXY/e306dixfPW0udF9nX2lkLGc9bS5ncm9faWQseT1tLmFzaWQsST1tLnBfYyxiPXZvaWQgMD09PUk/e306SSxrPXMtZCx3PWMtbCx4PXtwbGFjZW1lbnRJZDp1LHJlcXVlc3RJZDpoLGxvZ1R5cGU6dCx0cmFmZmljR3JvdXBJZDpfLHNlZ21lbnRJZDpnLGFzSWQ6eSxhZFNvdXJjZUlkOnIudW5pdF9pZHx8MCxud0Zpcm1JZDpyLm53X2Zpcm1faWR8fDAsZWNwbTpyLmVjcG18fDAsc1B0eTpyLnNfcHR5fHwwLGZvcm1hdDpwLHBsYWNlbWVudExvYWRUaW1lOmssdW5pdEZpbGxlZFRpbWU6dyxhZElkOm51bGwhPT0oZT1udWxsPT1hP3ZvaWQgMDphLmFkSWQpJiZ2b2lkIDAhPT1lP2U6XFxcIlxcXCIscmVxVWdOdW06ZixwQzpiLGJpZFRrOnIuYmlkVGt8fHt9LHdmVHlwZTpudWxsPT1yfHxudWxsPT09KGk9ci53ZkFkT3B0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5fdHlwZX0sUz1PYmplY3QudmFsdWVzKGV0KTtbXS5jb25jYXQoUyxbdHQuQURYXSkuaW5jbHVkZXMoci5ud19maXJtX2lkKSYmbnVsbCE9PShuPXIuYmlkVGspJiZ2b2lkIDAhPT1uJiZuLmJpZEZpbGxlZFRpbWUmJih4LnVuaXRGaWxsZWRUaW1lPXIuYmlkVGsuYmlkRmlsbGVkVGltZSksc28uY2FsbCh0aGlzLHgpfSxoYW5kbGVHZXRFcnJNc2c6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwMDtyZXR1cm5cXFwidW5saW1pdGVkXFxcIj09PWV8fGlzTmFOKGUpP3Q6dC5zbGljZSgwLGUpfSxoaWRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53ZlNjaGVkdWxlci5zZWxlY3RlcihcXFwiU1RBVFVTX1NIT1dFRFxcXCIpO2lmKHQpe3ZhciBlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodC5pdGVtSWQpO251bGwhPWUmJmUuaGlkZSYmKGUuaGlkZSgpLHRoaXMuaGl0VW5pdElkPW51bGwpfWVsc2UgY29uc29sZS5lcnJvcihcXFwiaGlkZSBlcnJvciwgd2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIil9LHRrUmVwb3J0V2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbCxpPWUudW5pdCxuPWUuYWRhcHRlcjt0aGlzLmhhbmRsZVJlcG9ydFRrKGksbil9LGFkTG9hZFdhdGNoZXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZXRhaWwsaT1lLnVuaXQsbj1lLmFkYXB0ZXI7dGhpcy5hZExvYWQoaSxuKX0sYWRTaG93V2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbC51bml0O3RoaXMuYWRTaG93KGUse30pfSxhZENsaWNrV2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbC51bml0O3RoaXMuYWRDbGljayhlLHt9KX0sYWRDbG9zZVdhdGNoZXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZXRhaWwsaT1lLnVuaXQsbj1lLmFkYXB0ZXI7dGhpcy5hZENsb3NlKGksbil9LGFkUmV3YXJkV2F0Y2hlcjpmdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbCxpPWUudW5pdCxuPWUuYWRhcHRlcjt0aGlzLmFkUmV3YXJkKGksbil9LGFkRXJyb3JXYXRjaGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGV0YWlsLGk9ZS51bml0LG49ZS5hZGFwdGVyO3RoaXMuYWRFcnJvcihpLG4pfSxnZXREb3dubG9hZFN0YXR1czpmdW5jdGlvbigpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgdD10aGlzLndmQWRhcHRlcixlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodC5pdGVtSWQpO2lmKHYoZSkpY29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIik7ZWxzZSBpZihlLmdldERvd25sb2FkU3RhdHVzKXJldHVybiBlLmdldERvd25sb2FkU3RhdHVzKCl9fSxnZXREb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKHQpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgZT10aGlzLndmQWRhcHRlcixpPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UoZS5pdGVtSWQpO2lmKHYoaSkpY29uc29sZS5lcnJvcihcXFwid2ZBZGFwdGVySW5zdGFuY2Ugbm90IGV4aXN0XFxcIik7ZWxzZSBpZihpLmdldERvd25sb2FkUHJvZ3Jlc3MpcmV0dXJuIGkuZ2V0RG93bmxvYWRQcm9ncmVzcygpfX0sc3Vic2NyaWJlRG93bmxvYWRTdGF0dXM6ZnVuY3Rpb24odCl7aWYodGhpcy53ZkFkYXB0ZXIpe3ZhciBlPXRoaXMud2ZBZGFwdGVyLGk9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZShlLml0ZW1JZCk7aWYoIXYoaSkmJmkuc3Vic2NyaWJlRG93bmxvYWRTdGF0dXMpcmV0dXJuIGkuc3Vic2NyaWJlRG93bmxvYWRTdGF0dXModCl9fSx1bnN1YnNjcmliZURvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKCl7aWYodGhpcy53ZkFkYXB0ZXIpe3ZhciB0PXRoaXMud2ZBZGFwdGVyLGU9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZSh0Lml0ZW1JZCk7aWYoIXYoZSkmJmUudW5zdWJzY3JpYmVEb3dubG9hZFN0YXR1cylyZXR1cm4gZS51bnN1YnNjcmliZURvd25sb2FkU3RhdHVzKCl9fSxzdWJzY3JpYmVEb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKHQpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgZT10aGlzLndmQWRhcHRlcixpPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UoZS5pdGVtSWQpO2lmKCF2KGkpJiZpLnN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3MpcmV0dXJuIGkuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzcyh0KX19LHVuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzczpmdW5jdGlvbigpe2lmKHRoaXMud2ZBZGFwdGVyKXt2YXIgdD10aGlzLndmQWRhcHRlcixlPXRoaXMuZ2V0V2ZBZGFwdGVySW5zdGFuY2UodC5pdGVtSWQpO2lmKCF2KGUpJiZlLnVuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzcylyZXR1cm4gZS51bnN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3MoKX19LHNob3dBcHBEZXRhaWxQYWdlOmZ1bmN0aW9uKCl7aWYodGhpcy53ZkFkYXB0ZXIpe3ZhciB0PXRoaXMud2ZBZGFwdGVyLGU9dGhpcy5nZXRXZkFkYXB0ZXJJbnN0YW5jZSh0Lml0ZW1JZCk7aWYoIXYoZSkmJmUuc2hvd0FwcERldGFpbFBhZ2UpcmV0dXJuIGUuc2hvd0FwcERldGFpbFBhZ2UoKX19fSxlZD17bGFuZGluZ0NvbnRhaW5lcjp7bWFyZ2luVG9wOlxcXCIwXFxcIixmbGV4OjEsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIn0sbGFuZGluZ1dlYjp7ZmxleDoxfSxsb2FkaW5nQ29udGFpbmVyOntmbGV4OjEsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwifSxsb2FkaW5nVGV4dDp7Zm9udFNpemU6XFxcIjMwcHhcXFwiLGNvbG9yOlxcXCIjNzg3ODc4XFxcIix0ZXh0QWxpZ246XFxcImNlbnRlclxcXCJ9LGxhbmRpbmdCYXI6e3dpZHRoOlxcXCIxMDAlXFxcIixoZWlnaHQ6XFxcIjEwMHB4XFxcIixiYWNrZ3JvdW5kQ29sb3I6XFxcIiNmN2Y2ZjZcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCJ9LGxhbmRpbmdCdG46e2hlaWdodDpcXFwiNTBweFxcXCIsd2lkdGg6XFxcIjUwcHhcXFwiLHBhZGRpbmc6XFxcIjVweFxcXCIsbWFyZ2luTGVmdDpcXFwiMjBweFxcXCIsZm9udFNpemU6XFxcIjMycHhcXFwiLGZvbnRXZWlnaHQ6XFxcImJvbGRlclxcXCJ9LGxhbmRpbmdUaXRsZTp7dGV4dEFsaWduOlxcXCJjZW50ZXJcXFwiLGZvbnRTaXplOlxcXCI0MHB4XFxcIixmb250V2VpZ2h0OlxcXCJib2xkZXJcXFwiLHdpZHRoOlxcXCIxMDAlXFxcIixjb2xvcjpcXFwiIzMzM1xcXCJ9fSxpZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLmFkU3R5bGU9ZWQ7dmFyIHQ9dGhpcy4kYXBwLiRkZWYubWFuaWZlc3QuZGlzcGxheS5wYWdlczt0JiZ0W1xcXCJUb3BPbi9BZExhbmRpbmdcXFwiXSYmdFtcXFwiVG9wT24vQWRMYW5kaW5nXFxcIl0uZnVsbFNjcmVlbiYmIXRbXFxcIlRvcE9uL0FkTGFuZGluZ1xcXCJdLnRpdGxlQmFyJiYodGhpcy5pc0Z1bGxTY3JlZW49ITApfSxvblBhZ2VTdGFydDpmdW5jdGlvbih0KXt9LG9uUGFnZUZpbmlzaDpmdW5jdGlvbih0KXt9LG9uVGl0bGVSZWNlaXZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy4kcGFnZS5zZXRUaXRsZUJhcih7dGV4dDp0LnRpdGxlfSksdGhpcy50aXRsZT10LnRpdGxlLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5pc0xvYWRpbmc9ITF9KSwxMCl9LG9uRXJyb3I6ZnVuY3Rpb24odCl7fSxvblByb2dyZXNzOmZ1bmN0aW9uKHQpe30sb25CYWNrOmZ1bmN0aW9uKHQpe1MoKS5yb3V0ZXIuYmFjaygpfX19LG5kPVt7bmFtZTpcXFwib25TdWJtaXRcXFwiLHR5cGU6XFxcInN1Ym1pdFxcXCIsbGFiZWw6XFxcIuaPkOS6pFxcXCJ9XSxyZD1be2xhYmVsOlxcXCLlvILluLjlub/lkYpcXFwiLHBhcmVudElkOlxcXCIxXFxcIixncm91cHM6W3tpZDpcXFwiMTFcXFwiLGNoaWxkcmVuOlt7bGFiZWw6XFxcIuW5v+WRiuWNoemhv1xcXCIsdmFsdWU6XFxcIjFcXFwifSx7bGFiZWw6XFxcIum7keeZveWxj1xcXCIsdmFsdWU6XFxcIjJcXFwifSx7bGFiZWw6XFxcIuaXoOazleWFs+mXrVxcXCIsdmFsdWU6XFxcIjNcXFwifV19XX0se2xhYmVsOlxcXCLkuL7miqXlub/lkYpcXFwiLHBhcmVudElkOlxcXCIyXFxcIixncm91cHM6W3tpZDpcXFwiMjJcXFwiLGNoaWxkcmVuOlt7bGFiZWw6XFxcIuivseWvvOeCueWHu1xcXCIsdmFsdWU6XFxcIjRcXFwifSx7bGFiZWw6XFxcIui/neazlei/neinhFxcXCIsdmFsdWU6XFxcIjVcXFwifSx7bGFiZWw6XFxcIuiZmuWBh+asuuiviFxcXCIsdmFsdWU6XFxcIjZcXFwifV19LHtpZDpcXFwiMjNcXFwiLGNoaWxkcmVuOlt7bGFiZWw6XFxcIuWGheWuueaKhOiirVxcXCIsdmFsdWU6XFxcIjdcXFwifSx7bGFiZWw6XFxcIuWGheWuueS9juS/l1xcXCIsdmFsdWU6XFxcIjhcXFwifSx7bGFiZWw6XFxcIuS4jeaEn+WFtOi2o1xcXCIsdmFsdWU6XFxcIjlcXFwifV19XX1dLGFkPXthZFByb3h5RXZlbnQ6e29uSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJGFwcC4kZGVmLm1hbmlmZXN0LmRpc3BsYXkucGFnZXM7dCYmdFtcXFwiVG9wT24vQWRSZXdhcmRcXFwiXSYmdFtcXFwiVG9wT24vQWRSZXdhcmRcXFwiXS5mdWxsU2NyZWVuJiYhdFtcXFwiVG9wT24vQWRSZXdhcmRcXFwiXS50aXRsZUJhciYmKHRoaXMuaXNGdWxsU2NyZWVuPSEwKSx0aGlzLnNldEluaXRpYWxEYXRhKCksdGhpcy5nZXRBZERhdGFDYWNoZSgpfSxvbkNoZWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXttc2czOnQuZGV0YWlsLmRhdGEudmFsdWUsbXNnNDpcXFwiMFxcXCJ9O3RoaXMuZmVlZGJhY2tTdWJtaXRFcnJvcj0hMSx0aGlzLnN1Ym1pdEZlZWRiYWNrKGUpLHRoaXMuaGlkZURpYWxvZygpfSxvbklucHV0OmZ1bmN0aW9uKHQpe3RoaXMuZmVlZGJhY2tJbnB1dFZhbHVlPXQuZGV0YWlsLmRhdGF8fFxcXCJcXFwiLHQuZGV0YWlsLmRhdGEmJih0aGlzLmZlZWRiYWNrU3VibWl0RXJyb3I9ITEpfSxvblN1Ym1pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZmVlZGJhY2tJbnB1dFZhbHVlO2lmKHQpe3ZhciBlPXttc2czOlxcXCIwXFxcIixtc2c0OnR9O3RoaXMuc3VibWl0RmVlZGJhY2soZSksdGhpcy5oaWRlRGlhbG9nKCl9ZWxzZSB0aGlzLmZlZWRiYWNrU3VibWl0RXJyb3I9ITB9LG9uU2hvd0RpYWxvZzpmdW5jdGlvbigpe3RoaXMuc2hvd0RpYWxvZygpfSxvbkhpZGVEaWFsb2c6ZnVuY3Rpb24oKXt0aGlzLmhpZGVEaWFsb2coKX0sb25Ub3VjaFN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXQudGltZXN0YW1wfHxEYXRlLm5vdygpLG49ZShlKHt9LHQuZGV0YWlsLmRldGFpbC50b3VjaGVzWzBdfHx7fSkse30se3RpbWVzdGFtcDppfSk7dGhpcy5kaXNwYXRjaFJld2FyZGVkVmlkZW9FdmVudChcXFwiYWRUb3VjaFxcXCIse3R5cGU6XFxcInN0YXJ0XFxcIixkYXRhOm59KX0sb25Ub3VjaE1vdmU6ZnVuY3Rpb24odCl7fSxvblRvdWNoRW5kOmZ1bmN0aW9uKHQpe3ZhciBpPXQudGltZXN0YW1wfHxEYXRlLm5vdygpLG49ZShlKHt9LHQuZGV0YWlsLmRldGFpbC5jaGFuZ2VkVG91Y2hlc1swXXx8e30pLHt9LHt0aW1lc3RhbXA6aX0pO3RoaXMuZGlzcGF0Y2hSZXdhcmRlZFZpZGVvRXZlbnQoXFxcImFkVG91Y2hcXFwiLHt0eXBlOlxcXCJlbmRcXFwiLGRhdGE6bn0pfSxvbkFkQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5kaXNwYXRjaFJld2FyZGVkVmlkZW9FdmVudChcXFwiYWRDbGlja1xcXCIsdCl9LG9uQWRDbG9zZTpmdW5jdGlvbih0KXtpZih0aGlzLm9uVmlkZW9QYXVzZSgpLHRoaXMuY3VycmVudENvdW50ZG93bil7dmFyIGU9UygpLnByb21wdCxpPXRoaXM7ZS5zaG93RGlhbG9nKHttZXNzYWdlOlxcXCLop4LnnIvop4bpopHmu6FcXFwiLmNvbmNhdCh0aGlzLmNvdW50ZG93bkluaXRpYWwsXFxcIuenkuWNs+WPr+iOt+W+l+a/gOWKse+8jOehruWumuimgeemu+W8gOWQl++8n1xcXCIpLGJ1dHRvbnM6W3t0ZXh0OlxcXCLnu6fnu63op4LnnIvop4bpopFcXFwifSx7dGV4dDpcXFwi5pS+5byD5r+A5Yqx56a75byAXFxcIn1dLHN1Y2Nlc3M6ZnVuY3Rpb24odCl7XFxcIjFcXFwiPT10LmluZGV4PyhpLmRpc3BhdGNoUmV3YXJkZWRWaWRlb0V2ZW50KFxcXCJhZENsb3NlXFxcIix7cmV3YXJkOiExfSksaS5vbkJhY2soKSk6aS5vblZpZGVvQ29udGludWUoKX0sY2FuY2VsOmZ1bmN0aW9uKCl7aS5vblZpZGVvQ29udGludWUoKX0sZmFpbDpmdW5jdGlvbigpe2kub25WaWRlb0NvbnRpbnVlKCl9fSl9ZWxzZSB0aGlzLmRpc3BhdGNoUmV3YXJkZWRWaWRlb0V2ZW50KFxcXCJhZENsb3NlXFxcIix7cmV3YXJkOiEwfSksdGhpcy5vbkJhY2soKX0sb25BZFNob3c6KFpvPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLG8sZDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKG49dGhpcy5vcHRpb24uX3JlcXVlc3RfaWQrXFxcIi9cXFwiK3RoaXMuYWRVbml0SWQsdGhpcy5sb2NrQWRBcHBlYXIhPT1uKXt0Lm5leHQ9MzticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMzpyZXR1cm4gdGhpcy5sb2NrQWRBcHBlYXI9bixyPURhdGUubm93KCksdC5uZXh0PTcsdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtjYXNlIDc6YT10LnNlbnQsbz1EYXRlLm5vdygpLGQ9by1yLHRoaXMuZGlzcGF0Y2hSZXdhcmRlZFZpZGVvRXZlbnQoXFxcImFkSW1wcmVzc2lvblxcXCIse2NsaWVudFJlY3Q6YSxkaWZmOmR9KTtjYXNlIDExOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24odCl7cmV0dXJuIFpvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG9uUGF1c2U6ZnVuY3Rpb24oKXt0aGlzLm9uVmlkZW9QYXVzZSgpfSxvbkNvbnRpbnVlOmZ1bmN0aW9uKCl7dGhpcy5vblZpZGVvQ29udGludWUoKX19LHN1Ym1pdEZlZWRiYWNrOmZ1bmN0aW9uKHQpe3RoaXMuZGlzcGF0Y2hSZXdhcmRlZFZpZGVvRXZlbnQoXFxcImFkRmVlZGJhY2tcXFwiLHQpLHRoaXMuZmVlZGJhY2tTdWJtaXRlZD0hMH0sc2hvd0RpYWxvZzpmdW5jdGlvbigpe3RoaXMuZmVlZGJhY2tEaWFsb2dWaXNpYmxlPSEwLHRoaXMub25WaWRlb1BhdXNlKCl9LGhpZGVEaWFsb2c6ZnVuY3Rpb24oKXt0aGlzLmZlZWRiYWNrRGlhbG9nVmlzaWJsZT0hMSx0aGlzLm9uVmlkZW9Db250aW51ZSgpfSxzZXRJbml0aWFsRGF0YTpmdW5jdGlvbigpe3RoaXMuZmVlZGJhY2tEaWFsb2dCdXR0b25zPW5kLHRoaXMuZmVlZGJhY2tTZWxlY3RPcHRpb25zPXJkfSxnZXRBZERhdGFDYWNoZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxuPVxcXCJcXFwiLmNvbmNhdCh0aGlzLnBsSWQsXFxcIi9cXFwiKS5jb25jYXQodGhpcy5hZFVuaXRJZCkscj1qLmNhbGwodGhpcyxcXFwiYWR4UmV3YXJkZWRWaWRlb1xcXCIsbik7dGhpcy5hZERhdGE9bnVsbCE9PSh0PW51bGw9PXI/dm9pZCAwOnIuYWREYXRhKSYmdm9pZCAwIT09dD90Ont9LHRoaXMuYWRTdHlsZT1udWxsIT09KGU9bnVsbD09cj92b2lkIDA6ci5hZFN0eWxlKSYmdm9pZCAwIT09ZT9lOnt9LHRoaXMub3B0aW9uPW51bGwhPT0oaT1udWxsPT1yP3ZvaWQgMDpyLm9wdGlvbikmJnZvaWQgMCE9PWk/aTp7fTt2YXIgYT1OdW1iZXIodGhpcy5vcHRpb24uX2NvdW50ZG93bik7dGhpcy5jb3VudGRvd25Jbml0aWFsPWEsdGhpcy5jdXJyZW50Q291bnRkb3duPWEsdGhpcy5vbkNvdW50ZG93bih0aGlzLmN1cnJlbnRDb3VudGRvd24pfSxvbkNvdW50ZG93bjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHQpe3ZhciBpPXQ7dGhpcy5jdXJyZW50Q291bnRkb3duPWksdGhpcy5jb3VudGRvd25UaW1lcklkJiZjbGVhckludGVydmFsKHRoaXMuY291bnRkb3duVGltZXJJZCksdGhpcy5jb3VudGRvd25UaW1lcklkPXNldEludGVydmFsKChmdW5jdGlvbigpe2ktLSxlLmN1cnJlbnRDb3VudGRvd249aSxpPDEmJmUub25WaWRlb0ZpbmlzaCgpfSksMWUzKX19LG9uVmlkZW9GaW5pc2g6ZnVuY3Rpb24oKXt0aGlzLm9uVmlkZW9QYXVzZSgpfSxvblZpZGVvUGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmNvdW50ZG93blRpbWVySWQmJmNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25UaW1lcklkKX0sb25WaWRlb0NvbnRpbnVlOmZ1bmN0aW9uKCl7dGhpcy5vbkNvdW50ZG93bih0aGlzLmN1cnJlbnRDb3VudGRvd24pfSxvbkJhY2s6ZnVuY3Rpb24oKXt2YXIgdD1TKCkucm91dGVyO3RoaXMubG9ja0FkQXBwZWFyPVxcXCJcXFwiLHQuYmFjaygpfSxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRlbGVtZW50KFxcXCJ0b3Atb24tYWR4LWNvbnRhaW5lci1cXFwiLmNvbmNhdCh0aGlzLmFkVW5pdElkKSk7cmV0dXJuIHQ/bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSxmYWlsOmZ1bmN0aW9uKCl7cmV0dXJuIGUoe30pfX0pfSkpOnt9fSxkaXNwYXRjaFJld2FyZGVkVmlkZW9FdmVudDpmdW5jdGlvbih0KXt2YXIgZSxpPVxcXCJcXFwiLmNvbmNhdCh0aGlzLnBsSWQsXFxcIi9cXFwiKS5jb25jYXQodGhpcy5hZFVuaXRJZCk7aWYobnVsbCE9PShlPXRoaXMuJGFwcC4kZGVmLnRvcG9uX3NkaykmJnZvaWQgMCE9PWUmJmUucmV3YXJkZWRWaWRlb1tpXSl7Zm9yKHZhciBuLHIsYT1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KGE+MT9hLTE6MCksZD0xO2Q8YTtkKyspb1tkLTFdPWFyZ3VtZW50c1tkXTtudWxsPT09KG49dGhpcy4kYXBwLiRkZWYudG9wb25fc2RrKXx8dm9pZCAwPT09bnx8KHI9bi5yZXdhcmRlZFZpZGVvW2ldKVt0XS5hcHBseShyLG8pfX19LG9kPXtjb250YWluZXJTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIix3aWR0aDpcXFwiMTAwJVxcXCIscGFkZGluZ1RvcDpcXFwiMTBweFxcXCIscGFkZGluZ1JpZ2h0OlxcXCIxMHB4XFxcIixwYWRkaW5nQm90dG9tOlxcXCIxMHB4XFxcIixwYWRkaW5nTGVmdDpcXFwiMTBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIix3aWR0aDpcXFwiMTAwJVxcXCJ9LG1haW5TdHlsZTp7ZmxleDoxLGZsZXhEaXJlY3Rpb246XFxcImNvbHVtblxcXCJ9LGhlYWRlclN0eWxlOntmbGV4OjEsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIn0sZm9vdGVyU3R5bGU6e2ZsZXhEaXJlY3Rpb246XFxcInJvd1xcXCJ9LGltZ1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsb3ZlcmZsb3c6XFxcImhpZGRlblxcXCIsYm9yZGVyUmFkaXVzOlxcXCIxMHB4XFxcIixqdXN0aWZ5Q29udGVudDpcXFwiZmxleC1lbmRcXFwiLHBvc2l0aW9uOlxcXCJyZWxhdGl2ZVxcXCJ9LGltZ1Byb3BlcnRpZXNTdHlsZTp7d2lkdGg6XFxcIjEwMCVcXFwiLG9iamVjdEZpdDpcXFwiZmlsbFxcXCJ9LHRpdGxlU3R5bGU6e3BhZGRpbmc6XFxcIjEwcHhcXFwiLGxpbmVIZWlnaHQ6XFxcIjQwcHhcXFwiLGZvbnRTaXplOlxcXCIzNnB4XFxcIixmb250V2VpZ2h0OjcwMCxjb2xvcjpcXFwicmdiKDQ0LCA2MiwgODgpXFxcIix0ZXh0T3ZlcmZsb3c6XFxcImVsbGlwc2lzXFxcIixsaW5lczpcXFwiMVxcXCJ9LGRlc2NTdHlsZTp7bWFyZ2luUmlnaHQ6XFxcIjIwcHhcXFwiLG1hcmdpblRvcDpcXFwiMTJweFxcXCIsZm9udFNpemU6XFxcIjI0cHhcXFwiLGNvbG9yOlxcXCJyZ2IoNDQsIDYyLCA4OClcXFwiLHRleHRPdmVyZmxvdzpcXFwiZWxsaXBzaXNcXFwiLGxpbmVzOlxcXCIxXFxcIixkaXNwbGF5OlxcXCJub25lXFxcIn0sYnV0dG9uU3R5bGU6e3dpZHRoOlxcXCIxMDAlXFxcIixwYWRkaW5nVG9wOlxcXCIyMHB4XFxcIixwYWRkaW5nUmlnaHQ6XFxcIjIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjIwcHhcXFwiLHBhZGRpbmdMZWZ0OlxcXCIyMHB4XFxcIixib3JkZXJSYWRpdXM6XFxcIjIwcHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwiI2ZmOWUyYlxcXCIsdGV4dEFsaWduOlxcXCJjZW50ZXJcXFwiLGZvbnRTaXplOlxcXCIyNHB4XFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCJ9LGNsb3NlU3R5bGU6e2Nsb3NlQ29udGFpbmVyOntwb3NpdGlvbjpcXFwiYWJzb2x1dGVcXFwiLHJpZ2h0OlxcXCIxNXB4XFxcIix0b3A6XFxcIjE1cHhcXFwiLHpJbmRleDpcXFwiMTAwXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLHRyYW5zZm9ybTpcXFwidHJhbnNsYXRlWSgwcHgpXFxcIn0sY2xvc2VDbGlja0FyZWE6e3dpZHRoOlxcXCI0OHB4XFxcIixoZWlnaHQ6XFxcIjQ4cHhcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsYm9yZGVyUmFkaXVzOlxcXCI1MCVcXFwiLGNvbG9yOlxcXCIjRkZGRkZGXFxcIixmb250U2l6ZTpcXFwiMjRweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJ0cmFuc3BhcmVudFxcXCJ9LGNsb3NlQnRuOnt3aWR0aDpcXFwiNDhweFxcXCIsaGVpZ2h0OlxcXCI0OHB4XFxcIixqdXN0aWZ5Q29udGVudDpcXFwiY2VudGVyXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGJvcmRlclJhZGl1czpcXFwiNTAlXFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCIsZm9udFNpemU6XFxcIjI0cHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgwLCAwLCAwLCAuNClcXFwifX0sbG9nb1N0eWxlOntsb2dvQ29udGFpbmVyOntoZWlnaHQ6XFxcIjMwcHhcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsYWxpZ25TZWxmOlxcXCJmbGV4LWVuZFxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtZW5kXFxcIixtYXJnaW5Cb3R0b206XFxcIjRweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjRweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJyZ2JhKDE1MywgMTUzLCAxNTMsIDAuOClcXFwifSxsb2dvSW1nOnt3aWR0aDpcXFwiNzBweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjJweFxcXCIsZGlzcGxheTpcXFwiZmxleFxcXCJ9fX0sZGQ9ezI6e2NvbnRhaW5lclN0eWxlOntwYWRkaW5nVG9wOlxcXCIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwicm93LXJldmVyc2VcXFwifSxoZWFkZXJTdHlsZTp7anVzdGlmeUNvbnRlbnQ6XFxcInNwYWNlLWJldHdlZW5cXFwifSxmb290ZXJTdHlsZTp7anVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtZW5kXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwifSxpbWdTdHlsZTp7d2lkdGg6XFxcIjE3NXB4XFxcIixoZWlnaHQ6XFxcIjEwMHB4XFxcIixtYXJnaW5MZWZ0OlxcXCIyMHB4XFxcIn0saW1nUHJvcGVydGllc1N0eWxlOntoZWlnaHQ6XFxcIjEwMCVcXFwifSx0aXRsZVN0eWxlOntwYWRkaW5nOlxcXCIwcHhcXFwiLGZvbnRTaXplOlxcXCIzMHB4XFxcIixsaW5lSGVpZ2h0OlxcXCIzNnB4XFxcIn0sZGVzY1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsbWFyZ2luUmlnaHQ6XFxcIjBcXFwiLG1hcmdpblRvcDpcXFwiMHB4XFxcIixkaXNwbGF5OlxcXCJmbGV4XFxcIn0sYnV0dG9uU3R5bGU6e3dpZHRoOlxcXCJhdXRvXFxcIixwYWRkaW5nVG9wOlxcXCI4cHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjhweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJ0cmFuc3BhcmVudFxcXCIsYm9yZGVyV2lkdGg6XFxcIjFweFxcXCIsYm9yZGVyQ29sb3I6XFxcInJnYig0NCwgNjIsIDg4KVxcXCIsYm9yZGVyU3R5bGU6XFxcInNvbGlkXFxcIixjb2xvcjpcXFwicmdiKDQ0LCA2MiwgODgpXFxcIn0sY2xvc2VTdHlsZTp7Y2xvc2VCdG46e3dpZHRoOlxcXCIzMnB4XFxcIixoZWlnaHQ6XFxcIjMycHhcXFwiLGNvbG9yOlxcXCJyZ2IoNDQsIDYyLCA4OClcXFwiLGJvcmRlclJhZGl1czpcXFwiMFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJ0cmFuc3BhcmVudFxcXCJ9LGNsb3NlQ2xpY2tBcmVhOnt3aWR0aDpcXFwiMzJweFxcXCIsaGVpZ2h0OlxcXCIzMnB4XFxcIixib3JkZXJSYWRpdXM6XFxcIjBcXFwifX19LDM6e2NvbnRhaW5lclN0eWxlOntwYWRkaW5nVG9wOlxcXCIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwicm93XFxcIn0saW1nU3R5bGU6e3dpZHRoOlxcXCIxNzVweFxcXCIsaGVpZ2h0OlxcXCIxMDBweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjIwcHhcXFwifSxpbWdQcm9wZXJ0aWVzU3R5bGU6e2hlaWdodDpcXFwiMTAwJVxcXCJ9LHRpdGxlU3R5bGU6e3BhZGRpbmc6XFxcIjBweFxcXCIsZm9udFNpemU6XFxcIjMwcHhcXFwiLGxpbmVIZWlnaHQ6XFxcIjM2cHhcXFwifSxkZXNjU3R5bGU6e21hcmdpblJpZ2h0OlxcXCIwcHhcXFwiLG1hcmdpblRvcDpcXFwiMTJweFxcXCIsZGlzcGxheTpcXFwiZmxleFxcXCJ9LGJ1dHRvblN0eWxlOnt3aWR0aDpcXFwiYXV0b1xcXCIscGFkZGluZ1RvcDpcXFwiOHB4XFxcIixwYWRkaW5nQm90dG9tOlxcXCI4cHhcXFwifSxtYWluU3R5bGU6e2ZsZXhEaXJlY3Rpb246XFxcInJvd1xcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtc3RhcnRcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCJ9LGZvb3RlclN0eWxlOnthbGlnblNlbGY6XFxcImNlbnRlclxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImZsZXgtZW5kXFxcIn0sY2xvc2VTdHlsZTp7Y2xvc2VDb250YWluZXI6e3RvcDpcXFwiMHB4XFxcIixyaWdodDpcXFwiMHB4XFxcIn0sY2xvc2VCdG46e3dpZHRoOlxcXCIzMnB4XFxcIixoZWlnaHQ6XFxcIjMycHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgwLCAwLCAwLCAuNClcXFwiLGJvcmRlclJhZGl1czpcXFwiMFxcXCJ9LGNsb3NlQ2xpY2tBcmVhOnt3aWR0aDpcXFwiMzJweFxcXCIsaGVpZ2h0OlxcXCIzMnB4XFxcIixib3JkZXJSYWRpdXM6XFxcIjBcXFwifX19LDQ6e2NvbnRhaW5lclN0eWxlOntwYWRkaW5nVG9wOlxcXCIwcHhcXFwiLHBhZGRpbmdCb3R0b206XFxcIjBweFxcXCJ9LGNvbnRlbnRTdHlsZTp7ZmxleERpcmVjdGlvbjpcXFwicm93XFxcIn0saW1nU3R5bGU6e3dpZHRoOlxcXCIzMTVweFxcXCIsaGVpZ2h0OlxcXCIxODBweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjIwcHhcXFwifSxpbWdQcm9wZXJ0aWVzU3R5bGU6e2hlaWdodDpcXFwiMTAwJVxcXCJ9LHRpdGxlU3R5bGU6e3BhZGRpbmc6XFxcIjBweFxcXCIsZm9udFNpemU6XFxcIjMwcHhcXFwifSxkZXNjU3R5bGU6e21hcmdpblJpZ2h0OlxcXCIwcHhcXFwiLGRpc3BsYXk6XFxcImZsZXhcXFwifSxidXR0b25TdHlsZTp7d2lkdGg6XFxcImF1dG9cXFwiLHBhZGRpbmdUb3A6XFxcIjhweFxcXCIscGFkZGluZ0JvdHRvbTpcXFwiOHB4XFxcIn0sZm9vdGVyU3R5bGU6e2p1c3RpZnlDb250ZW50OlxcXCJmbGV4LWVuZFxcXCJ9LGNsb3NlU3R5bGU6e2Nsb3NlQ29udGFpbmVyOnt0b3A6XFxcIjBweFxcXCIscmlnaHQ6XFxcIjBweFxcXCJ9LGNsb3NlQnRuOnt3aWR0aDpcXFwiMzJweFxcXCIsaGVpZ2h0OlxcXCIzMnB4XFxcIixiYWNrZ3JvdW5kQ29sb3I6XFxcInJnYmEoMCwgMCwgMCwgLjQpXFxcIixib3JkZXJSYWRpdXM6XFxcIjBcXFwifSxjbG9zZUNsaWNrQXJlYTp7d2lkdGg6XFxcIjMycHhcXFwiLGhlaWdodDpcXFwiMzJweFxcXCIsYm9yZGVyUmFkaXVzOlxcXCIwXFxcIn19fX07ZnVuY3Rpb24gc2QodCl7dmFyIGksbj10Lm5hbWUsYT10LnByb3h5TmFtZSxvPXZvaWQgMD09PWE/bnVsbDphLGQ9dC5wYXJhbXMscz12b2lkIDA9PT1kP3t9OmQsbD10LnByb3h5UGFyYW1zLGM9dm9pZCAwPT09bD97fTpsO3RyeXtpZihudWxsPT10aGlzfHwhdGhpcy4kZGlzcGF0Y2h8fG51bGw9PXRoaXN8fCF0aGlzLmFkRXh0cmEpcmV0dXJuO3ZhciB1PW98fFxcXCJwcm94eVxcXCIuY29uY2F0KChpPW4pLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc2xpY2UoMSkpLGg9SlNPTi5wYXJzZShmdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZcXFwib2JqZWN0XFxcIiE9cih0W2ldKSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIHRbaV0mJihlW2ldPXRbaV0pO3JldHVybiBKU09OLnN0cmluZ2lmeShlKX0odGhpcy5hZEV4dHJhLnVuaXQpKTt0aGlzLiRkaXNwYXRjaCh1LGUoe3VuaXQ6aCxhZGFwdGVyOntkZXRhaWw6ZSh7fSxzKX19LGMpKX1jYXRjaCh0KXt9fWZ1bmN0aW9uIGxkKCl7dmFyIHQ9dGhpcztpZihudWxsIT10aGlzJiZ0aGlzLmFkT3B0aW9uKXt2YXIgZT10aGlzLmFkT3B0aW9uLGk9ZS5fbndfdGltZW91dCxuPWUuX3VuaXRfaWQ7Y2QuY2FsbCh0aGlzKSx0aGlzLnRpbWVySWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmFkRXJyb3Ioe2NvZGU6OTAwMSxtc2c6XFxcInVuaXRJZDogXFxcIi5jb25jYXQobixcXFwiIOi2heaXtlxcXCIpfSl9KSxpKX19ZnVuY3Rpb24gY2QodCl7dmFyIGU9dHx8KG51bGw9PXRoaXM/dm9pZCAwOnRoaXMudGltZXJJZCl8fG51bGw7ZSYmY2xlYXJUaW1lb3V0KGUpfWZ1bmN0aW9uIHVkKHQsZSl7aWYoIXQpcmV0dXJuIGU7aWYoIWRkW3RdKXJldHVybiBlO3ZhciBpPSQuY2FsbCh0aGlzLGUsZGRbdF0sITEpO3JldHVyblxcXCIyXFxcIj09PXQmJmRlbGV0ZSBpLmNsb3NlU3R5bGUuY2xvc2VDb250YWluZXIsaX12YXIgaGQscGQsZmQsdmQ9e2FkUHJveHlFdmVudDp7b25Jbml0OihmZD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKCEoYT1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkFEWCx0aGlzLmFkT3B0aW9uLl91bml0X2lkKSkpe3QubmV4dD00O2JyZWFrfXJldHVybiB0aGlzLmFkRXJyb3Ioe2NvZGU6YSxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KSx0LmFicnVwdChcXFwicmV0dXJuXFxcIik7Y2FzZSA0OmlmKGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSxudWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy4kYXBwKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuJGRlZil8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnRvcG9uX3Nkayl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmV2ZW50KXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZGVlcGxpbmspfHx2b2lkIDA9PT1lfHxlLnVuc3Vic2NyaWJlKFxcXCJhcHAtb24tc2hvd1xcXCIpLHYobnVsbD09dGhpc3x8bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLiRkZWYpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi50b3Bvbl9zZGspfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5zdG9yZSl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmRldmljZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaW5mbykpe3QubmV4dD0xMTticmVha310LnQwPW51bGw9PXRoaXN8fG51bGw9PT0ocj10aGlzLiRhcHApfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci4kZGVmKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIudG9wb25fc2RrKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIuc3RvcmUpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5kZXZpY2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluZm8sdC5uZXh0PTE3O2JyZWFrO2Nhc2UgMTE6cmV0dXJuIHQubmV4dD0xMyxILmdldEluZm8oKTtjYXNlIDEzOmlmKHQudDE9dC5zZW50LHQudDEpe3QubmV4dD0xNjticmVha310LnQxPXt9O2Nhc2UgMTY6dC50MD10LnQxO2Nhc2UgMTc6bz10LnQwLHRoaXMuZGV2aWNlSW5mb0NhY2hlPW87Y2FzZSAxOTpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGZkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmxvY2tBZEFwcGVhcj1cXFwiXFxcIjt2YXIgZT1Jby5jYWxsKHRoaXMsdGhpcy5hZEV4dHJhLnBsYWNlbWVudElkKSxpPW51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLm9mZmVyX2RhdGEpJiZ2b2lkIDAhPT10P3Q6e307c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmFkTG9hZChpKX0sc2hvdzpmdW5jdGlvbigpe2lmKHRoaXMucmVhZHkpe3ZhciB0PSh0aGlzLmFkRXh0cmF8fHt9KS5wbGFjZW1lbnRJZCxlPXZvaWQgMD09PXQ/XFxcIlxcXCI6dCxpPUlvLmNhbGwodGhpcyxlKTtpZihEYXRlLm5vdygpPmkuX2V4cGlyYXRpb25UaW1lKXJldHVybiB0aGlzLmFkRXJyb3Ioe2NvZGU6MTEwMSxtc2c6XFxcIuW5v+WRiuW3sui/h+acn++8jOivt+mHjeaWsOiOt+WPluW5v+WRiuaIluWIt+aWsOW5v+WRilxcXCJ9KSx2b2lkIGJvLmNhbGwodGhpcyxlLHt9KTt0aGlzLmRpc3BsYXllZD0hMH19LGFkTG9hZDpmdW5jdGlvbih0KXt2YXIgZSxpO2lmKG51bGwhPXQmJnQuc2VhdGJpZCYmbnVsbCE9dCYmbnVsbCE9PShlPXQuc2VhdGJpZCkmJnZvaWQgMCE9PWUmJmUubGVuZ3RoKXt0aGlzLnJlYWR5PSEwLHRoaXMuYWRMaXN0SW5kZXhJblVzZT0wLHRoaXMuYWRMaXN0PW51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0LnNlYXRiaWQpJiZ2b2lkIDAhPT1pP2k6W10sc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyk7dmFyIG49dWQuY2FsbCh0aGlzLHRoaXMudGVtcGxhdGVJZCxvZCkscj1VLmNhbGwodGhpcyx0aGlzLmFkQ29uZmlnLnN0eWxlKSxhPVUuY2FsbCh0aGlzLG4pLG89JC5jYWxsKHRoaXMsYSxyKTt0aGlzLmFkU3R5bGU9byx0aGlzLnVwZGF0ZUNsb3NlU3R5bGUoKX1lbHNle3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJUb3BPbiBBZHjlub/lkYrmnI3liqHml6DmlbDmja7ov5Tlm55cXFwifSl9fSx1cGRhdGVDbG9zZVN0eWxlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPW51bGwhPT0odD1udWxsPT09KGU9dGhpcy5jdXJyZW50QWQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5jdHJsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5mdF9jbF9zeikmJnZvaWQgMCE9PXQ/dDoxO2lmKDEhPT1pKXt2YXIgbj17MToxLDI6MS41LDM6Ljc1LDQ6LjV9LHI9dGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VCdG4ud2lkdGgubWF0Y2goL1xcXFxkKy9nKVswXTtpZih0aGlzLmFkU3R5bGUuY2xvc2VTdHlsZS5jbG9zZUNsaWNrQXJlYS53aWR0aD1yKm5baV0rXFxcInB4XFxcIix0aGlzLmFkU3R5bGUuY2xvc2VTdHlsZS5jbG9zZUNsaWNrQXJlYS5oZWlnaHQ9cipuW2ldK1xcXCJweFxcXCIsbltpXT4xKXt2YXIgYT1yKm5baV0vMi1yLzIrXFxcInB4XFxcIjt0aGlzLmFkU3R5bGUuY2xvc2VTdHlsZS5jbG9zZUNvbnRhaW5lci50cmFuc2Zvcm09XFxcInRyYW5zbGF0ZVkoLVxcXCIuY29uY2F0KGEsXFxcIilcXFwiKX19fSxhZFNob3c6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSksdGhpcy5oYW5kbGVOb3RpY2UoXFxcImNsaWNrXFxcIiksdGhpcy5ub3RpY2VTdWNjZWVkPSExLHRoaXMubm90aWNlRmFpbGVkPSExO3ZhciBpPVMoKSxuPWkucm91dGVyLHI9aS5wa2csYT10aGlzfHx7fSxvPWEuYWRFeHRyYSxkPXZvaWQgMD09PW8/e306byxzPWEuY3VycmVudEFkLGw9dm9pZCAwPT09cz97fTpzLGM9YS5hZE9wdGlvbix1PXZvaWQgMD09PWM/e306YyxoPWQucGxhY2VtZW50SWQscD12b2lkIDA9PT1oP1xcXCJcXFwiOmgsZj1sLmRlZXBsaW5rLHY9dm9pZCAwPT09Zj9cXFwiXFxcIjpmLG09bC5vaWQsXz1sLmNsaWNrX3UsZz12b2lkIDA9PT1fP1xcXCJcXFwiOl8seT1sLmxpbmtfdHlwZSxJPWwucGtnLGI9dm9pZCAwPT09ST9cXFwiXFxcIjpJO2lmKHYpcmV0dXJuIHRoaXMuaGFuZGxlTm90aWNlKFxcXCJkcF9zdGFydFxcXCIpLHZvaWQgci5oYXNJbnN0YWxsZWQoe3BhY2thZ2U6YixzdWNjZXNzOmZ1bmN0aW9uKHQpe2lmKHQucmVzdWx0KXt2YXIgaSxyLGE7ZS5oYW5kbGVOb3RpY2UoXFxcImFwcF9pbnN0YWxsXFxcIiksbi5wdXNoKHt1cmk6dn0pLGUub25IaWRlQ2FsbGJhY2s9ZS5zdWJzY3JpYmVBcHBIaWRlQ2FsbGJhY2suYmluZChlKSxlLm9uU2hvd0NhbGxiYWNrPWUuaGFuZGxlRGVlcExpbmtGYWlsZWQuYmluZChlKTt2YXIgbz17b25jZTohMH07bnVsbD09ZXx8bnVsbD09PShpPWUuJGFwcCl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLiRkZWYpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS50b3Bvbl9zZGspfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5ldmVudCl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLmRlZXBsaW5rKXx8dm9pZCAwPT09aXx8aS5zdWJzY3JpYmUoXFxcImFwcC1vbi1oaWRlXFxcIixlLm9uSGlkZUNhbGxiYWNrLG8pLG51bGw9PWV8fG51bGw9PT0ocj1lLiRhcHApfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci4kZGVmKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIudG9wb25fc2RrKXx8dm9pZCAwPT09cnx8bnVsbD09PShyPXIuZXZlbnQpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5kZWVwbGluayl8fHZvaWQgMD09PXJ8fHIuc3Vic2NyaWJlKFxcXCJhcHAtb24tc2hvd1xcXCIsZS5vblNob3dDYWxsYmFjayxvKSxcXFwidml2b1xcXCI9PShudWxsPT1lfHxudWxsPT09KGE9ZS5kZXZpY2VJbmZvQ2FjaGUpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS5icmFuZCl8fHZvaWQgMD09PWE/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSkmJihlLmZhaWxUaW1lSWQmJmNsZWFyVGltZW91dChlLmZhaWxUaW1lSWQpLGUuZmFpbFRpbWVJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uubm90aWNlU3VjY2VlZHx8ZS5oYW5kbGVEZWVwTGlua0ZhaWxlZCgpfSksM2UzKSl9ZWxzZXtlLmhhbmRsZU5vdGljZShcXFwiYXBwX3VuaW5zdGFsbFxcXCIpLGUuaGFuZGxlTm90aWNlKFxcXCJkcF91bmluc3RfZmFpbFxcXCIpO3ZhciBkPXtrZXk6XFxcIkRFRVBMSU5LX1JFU1VMVFxcXCIsdW5pdGlkOnAscmVxdWVzdGlkOnUuX3JlcXVlc3RfaWQsbXNnOlxcXCJcXFwiK20sbXNnMTpcXFwiMlxcXCIsbXNnMjpcXFwiXFxcIitnLG1zZzM6XFxcIjBcXFwiLG1zZzQ6XFxcIjFcXFwiLG1zZzc6XFxcIjBcXFwifTtWYS5jYWxsKGUsZCksbi5wdXNoKHt1cmk6XFxcIlRvcE9uL0FkTGFuZGluZ1xcXCIscGFyYW1zOnt1cmw6Z319KX19LGZhaWw6ZnVuY3Rpb24odCxpKXtlLmhhbmRsZU5vdGljZShcXFwiZHBfdW5pbnN0X2ZhaWxcXFwiKTt2YXIgcj17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpwLHJlcXVlc3RpZDp1Ll9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIittLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIrZyxtc2czOlxcXCIwXFxcIixtc2c0OlxcXCIxXFxcIixtc2c3OlxcXCIwXFxcIn07VmEuY2FsbChlLHIpLG4ucHVzaCh7dXJpOlxcXCJUb3BPbi9BZExhbmRpbmdcXFwiLHBhcmFtczp7dXJsOmd9fSl9fSk7Mj09PXkmJm4ucHVzaCh7dXJpOmd9KSwzPT09eSYmbi5wdXNoKHt1cmk6XFxcIlRvcE9uL0FkTGFuZGluZ1xcXCIscGFyYW1zOnt1cmw6Z319KX0sYWRDbG9zZTpmdW5jdGlvbih0KXt0aGlzLmRpc3BsYXllZD0hMSx0aGlzLmFkRGVzdHJveT0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwifSksdGhpcy52YWxpZGl0eVRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMudmFsaWRpdHlUaW1lSWQpfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzfHx7fSkuYWRPcHRpb24sbj12b2lkIDA9PT1pP3t9Omkscj1uLl9yZXF1ZXN0X2lkK1xcXCIvXFxcIituLl91bml0X2lkO2lmKHRoaXMubG9ja0FkRXJyb3IhPT1yKXt0aGlzLmxvY2tBZEVycm9yPXIsdGhpcy5yZWFkeT0hMTt2YXIgYT1lKGUoe30sdCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX0pO2RlbGV0ZSBhLmVyckNvZGUsZGVsZXRlIGEuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOmF9KSxjZC5jYWxsKHRoaXMpfX0sYWRBcHBlYXI6KHBkPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQ7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihuPShlPXRoaXN8fHt9KS5hZE9wdGlvbixyPXZvaWQgMD09PW4/e306bixhPWUuYWRFeHRyYSxvPXZvaWQgMD09PWE/e306YSxkPXIuX3JlcXVlc3RfaWQrXFxcIi9cXFwiK3IuX3VuaXRfaWQsdGhpcy5sb2NrQWRBcHBlYXIhPT1kKXt0Lm5leHQ9NDticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgNDp0aGlzLmxvY2tBZEFwcGVhcj1kLGJvLmNhbGwodGhpcyxvLnBsYWNlbWVudElkLHt9KSx0aGlzLmlzQWRFeHBvc3VyZVZhbGlkKCksdGhpcy5yZXBvcnRCaWRXaW5EYSgpO2Nhc2UgODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHBkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHJlcG9ydEJpZFdpbkRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8e30sZT10LmFkT3B0aW9uLGk9dm9pZCAwPT09ZT97fTplLG49dC5hZEV4dHJhLHI9dm9pZCAwPT09bj97fTpuLGE9dC5jdXJyZW50QWQsbz12b2lkIDA9PT1hP3t9OmEsZD1yLnBsYWNlbWVudElkLHM9ci50cmFmZmljR3JvdXBJZCxsPXIuc2VnbWVudElkLGM9ci5hc0lkLHU9ci5ud0Zpcm1JZCxoPXIuZWNwbSxwPXIuYmlkVGssZj17a2V5OlxcXCJCSURfV0lOXFxcIix1bml0aWQ6ZCxyZXF1ZXN0aWQ6aS5fcmVxdWVzdF9pZCxncm91cGlkOmwsdHJhZmZpY19ncm91cF9pZDpzLGFzaWQ6Yyxtc2c6U3RyaW5nKHUpLG1zZzE6U3RyaW5nKGkuX3VuaXRfaWQpLG1zZzI6XFxcIlxcXCIsbXNnMzpcXFwiXFxcIixtc2c0OlxcXCJcXFwiK28uZHNwX2lkLG1zZzU6XFxcIlxcXCIrby5vaWQsbXNnNjpcXFwiMVxcXCIsbXNnNzpwLnRwQmlkSWQsbXNnODpcXFwiXFxcIitoLG1zZzk6XFxcIlxcXCJ9O1ZhLmNhbGwodGhpcyxmKX0saXNBZEV4cG9zdXJlVmFsaWQ6KGhkPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsYSxvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnPXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj0obj10aGlzfHx7fSkuYWRFeHRyYSxhPXZvaWQgMD09PXI/e306cixvPW4uY3VycmVudEFkLGQ9dm9pZCAwPT09bz97fTpvLHM9RGF0ZS5ub3coKSx0Lm5leHQ9NCx0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Nhc2UgNDppZihsPXQuc2VudCx0aGlzLmNsaWVudFJlY3Q9bCxjPVsxLDNdLmluY2x1ZGVzKGEuZm9ybWF0KT8wOjEwMCxudWxsIT1kJiZudWxsIT09KGU9ZC5jdHJsKSYmdm9pZCAwIT09ZSYmZS5zaG1fdCYmKGM9ZC5jdHJsLnNobV90KSx1PWMsaD1GLmNhbGwodGhpcyxsLHRoaXMuZGV2aWNlSW5mb0NhY2hlKSxwPURhdGUubm93KCksYz4oZj1wLXMpJiYodT1jLWYpLGM8ZiYmKHU9MCksaD4uMDIpe3QubmV4dD0yMDticmVha31yZXR1cm4gY29uc29sZS5lcnJvcihcXFwiQURY5bm/5ZGK5peg5pWI5bGV56S6XFxcIiksXz17cmF0aW86aCxjbGllbnRSZWN0OmwsZGV2aWNlSW5mbzp7c2NyZWVuV2lkdGg6bnVsbD09PSh2PXRoaXMuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09dj92b2lkIDA6di5zY3JlZW5XaWR0aCxzY3JlZW5IZWlnaHQ6bnVsbD09PShtPXRoaXMuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09bT92b2lkIDA6bS5zY3JlZW5IZWlnaHR9fSx0aGlzLnJlcG9ydEludmFsaWRJbXByZXNzaW9uRGEoXyksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMjA6dGhpcy52YWxpZGl0eVRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMudmFsaWRpdHlUaW1lSWQpLHRoaXMudmFsaWRpdHlUaW1lSWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtnLmFkRGVzdHJveT9jb25zb2xlLmVycm9yKFxcXCJBRFjlub/lkYrml6DmlYjlsZXnpLpcXFwiKTooZy5hZFNob3coKSxnLmhhbmRsZU5vdGljZShcXFwibnVybFxcXCIpLHNkLmNhbGwoZyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSksZy5oYW5kbGVOb3RpY2UoXFxcImltcFxcXCIpLGcuaGFuZGxlTm90aWNlKFxcXCJidXJsXFxcIikpfSksdSk7Y2FzZSAyMjpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGhhbmRsZU5vdGljZTpmdW5jdGlvbih0KXt2YXIgZSxpPSh0aGlzLmN1cnJlbnRBZHx8e30pLnRrLG49dm9pZCAwPT09aT97fTppO2lmKG5bdF0mJm51bGwhPT0oZT1uW3RdKSYmdm9pZCAwIT09ZSYmZS5sZW5ndGgpe3ZhciByPXRoaXMuZ2V0TWFjcm9EYXRhKCk7a28uY2FsbCh0aGlzLG5bdF0scil9fSxhZFRvdWNoU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dC50aW1lc3RhbXB8fERhdGUubm93KCksbj10LmRldGFpbC50b3VjaGVzWzBdfHx7fTt0aGlzLnN0YXJ0UG9pbnQ9ZShlKHt9LG4pLHt9LHt0aW1lc3RhbXA6aX0pfSxhZFRvdWNoTW92ZTpmdW5jdGlvbih0KXt9LGFkVG91Y2hFbmQ6ZnVuY3Rpb24odCl7dmFyIGk9dC50aW1lc3RhbXB8fERhdGUubm93KCksbj10LmRldGFpbC5jaGFuZ2VkVG91Y2hlc1swXXx8e307dGhpcy5lbmRQb2ludD1lKGUoe30sbikse30se3RpbWVzdGFtcDppfSl9LGdldEJvdW5kaW5nQ2xpZW50UmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJGVsZW1lbnQoXFxcInRvcC1vbi1hZHgtY29udGFpbmVyLVxcXCIuY29uY2F0KHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpKTtyZXR1cm4gdD9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXt0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCh7c3VjY2VzczpmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0sZmFpbDpmdW5jdGlvbigpe3JldHVybiBlKHt9KX19KX0pKTp7fX0sZ2V0TWFjcm9EYXRhOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG4scixhLG8sZCxzLGwsYyx1LGgscCxmLHYsbSxfLGc9dGhpcy5jbGllbnRSZWN0LHk9dGhpcy5zdGFydFBvaW50LEk9dm9pZCAwPT09eT97fTp5LGI9dGhpcy5lbmRQb2ludCxrPXZvaWQgMD09PWI/e306Yix3PXRoaXMuY3VycmVudEFkLHg9dm9pZCAwPT09dz97fTp3LFM9e2Rvd25feDpudWxsIT09KHQ9bnVsbD09ST92b2lkIDA6SS5jbGllbnRYKSYmdm9pZCAwIT09dD90OlxcXCItOTk5XFxcIixkb3duX3k6bnVsbCE9PShlPW51bGw9PUk/dm9pZCAwOkkuY2xpZW50WSkmJnZvaWQgMCE9PWU/ZTpcXFwiLTk5OVxcXCIsdXBfeDpudWxsIT09KGk9bnVsbD09az92b2lkIDA6ay5jbGllbnRYKSYmdm9pZCAwIT09aT9pOlxcXCItOTk5XFxcIix1cF95Om51bGwhPT0obj1udWxsPT1rP3ZvaWQgMDprLmNsaWVudFkpJiZ2b2lkIDAhPT1uP246XFxcIi05OTlcXFwifSxUPXtkb3duX3g6bnVsbCE9PShyPW51bGw9PUk/dm9pZCAwOkkub2Zmc2V0WCkmJnZvaWQgMCE9PXI/cjpcXFwiLTk5OVxcXCIsZG93bl95Om51bGwhPT0oYT1udWxsPT1JP3ZvaWQgMDpJLm9mZnNldFkpJiZ2b2lkIDAhPT1hP2E6XFxcIi05OTlcXFwiLHVwX3g6bnVsbCE9PShvPW51bGw9PWs/dm9pZCAwOmsub2Zmc2V0WCkmJnZvaWQgMCE9PW8/bzpcXFwiLTk5OVxcXCIsdXBfeTpudWxsIT09KGQ9bnVsbD09az92b2lkIDA6ay5vZmZzZXRZKSYmdm9pZCAwIT09ZD9kOlxcXCItOTk5XFxcIn07cmV0dXJue1xcXCJ7X19XSURUSF9ffVxcXCI6bnVsbCE9PShzPW51bGw9PWc/dm9pZCAwOmcud2lkdGgpJiZ2b2lkIDAhPT1zP3M6XFxcIlxcXCIsXFxcIntfX0hFSUdIVF9ffVxcXCI6bnVsbCE9PShsPW51bGw9PWc/dm9pZCAwOmcuaGVpZ2h0KSYmdm9pZCAwIT09bD9sOlxcXCJcXFwiLFxcXCJ7X19ET1dOX1hfX31cXFwiOm51bGwhPT0oYz1udWxsPT1JP3ZvaWQgMDpJLmNsaWVudFgpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIsXFxcIntfX0RPV05fWV9ffVxcXCI6bnVsbCE9PSh1PW51bGw9PUk/dm9pZCAwOkkuY2xpZW50WSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixcXFwie19fVVBfWF9ffVxcXCI6bnVsbCE9PShoPW51bGw9PWs/dm9pZCAwOmsuY2xpZW50WCkmJnZvaWQgMCE9PWg/aDpcXFwiXFxcIixcXFwie19fVVBfWV9ffVxcXCI6bnVsbCE9PShwPW51bGw9PWs/dm9pZCAwOmsuY2xpZW50WSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixcXFwie19fUkVfRE9XTl9YX199XFxcIjpudWxsIT09KGY9bnVsbD09ST92b2lkIDA6SS5vZmZzZXRYKSYmdm9pZCAwIT09Zj9mOlxcXCItOTk5XFxcIixcXFwie19fUkVfRE9XTl9ZX199XFxcIjpudWxsIT09KHY9bnVsbD09ST92b2lkIDA6SS5vZmZzZXRZKSYmdm9pZCAwIT09dj92OlxcXCItOTk5XFxcIixcXFwie19fUkVfVVBfWF9ffVxcXCI6bnVsbCE9PShtPW51bGw9PWs/dm9pZCAwOmsub2Zmc2V0WCkmJnZvaWQgMCE9PW0/bTpcXFwiLTk5OVxcXCIsXFxcIntfX1JFX1VQX1lfX31cXFwiOm51bGwhPT0oXz1udWxsPT1rP3ZvaWQgMDprLm9mZnNldFkpJiZ2b2lkIDAhPT1fP186XFxcIi05OTlcXFwiLFxcXCJ7X19UU19ffVxcXCI6SS50aW1lc3RhbXAvMWUzLFxcXCJ7X19UU19NU0VDX199XFxcIjpJLnRpbWVzdGFtcCxcXFwie19fRU5EX1RTX199XFxcIjprLnRpbWVzdGFtcC8xZTMsXFxcIntfX0VORF9UU19NU0VDX199XFxcIjprLnRpbWVzdGFtcCxcXFwie0FCU09MVVRFX0NPT1JEfVxcXCI6UyxcXFwie1JFTEFUSVZFX0NPT1JEfVxcXCI6VCxcXFwie19fRFBMSU5LX1RZUEVfX31cXFwiOnguZGVlcGxpbms/MToyfX0saGFuZGxlRGVlcExpbmtTdWNjZWVkOmZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuaGFuZGxlTm90aWNlKFxcXCJkcF9zdWNjXFxcIiksdGhpcy5ub3RpY2VTdWNjZWVkPSEwLHRoaXMuZmFpbFRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMuZmFpbFRpbWVJZCksbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGFwcCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5ldmVudCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmRlZXBsaW5rKXx8dm9pZCAwPT09ZXx8ZS51bnN1YnNjcmliZShcXFwiYXBwLW9uLXNob3dcXFwiKTt2YXIgaT10aGlzfHx7fSxuPWkuYWRFeHRyYSxyPXZvaWQgMD09PW4/e306bixhPWkuY3VycmVudEFkLG89dm9pZCAwPT09YT97fTphLGQ9aS5hZE9wdGlvbixzPXZvaWQgMD09PWQ/e306ZCxsPXIucGxhY2VtZW50SWQsYz1vLmRlZXBsaW5rLHU9dm9pZCAwPT09Yz9cXFwiXFxcIjpjLGg9by5vaWQscD17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpsLHJlcXVlc3RpZDpzLl9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIitoLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIrdSxtc2czOlxcXCIxXFxcIixtc2c0OlxcXCIwXFxcIixtc2c3OlxcXCIwXFxcIn07VmEuY2FsbCh0aGlzLHApfSxoYW5kbGVEZWVwTGlua0ZhaWxlZDpmdW5jdGlvbih0KXt2YXIgZTt0aGlzLmhhbmRsZU5vdGljZShcXFwiZHBfaW5zdF9mYWlsXFxcIiksdGhpcy5ub3RpY2VGYWlsZWQ9ITAsdGhpcy5zdWNjZWVkVGltZUlkJiZjbGVhclRpbWVvdXQodGhpcy5zdWNjZWVkVGltZUlkKSxudWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy4kYXBwKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuJGRlZil8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnRvcG9uX3Nkayl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmV2ZW50KXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZGVlcGxpbmspfHx2b2lkIDA9PT1lfHxlLnVuc3Vic2NyaWJlKFxcXCJhcHAtb24taGlkZVxcXCIpO3ZhciBpPXRoaXN8fHt9LG49aS5hZEV4dHJhLHI9dm9pZCAwPT09bj97fTpuLGE9aS5jdXJyZW50QWQsbz12b2lkIDA9PT1hP3t9OmEsZD1pLmFkT3B0aW9uLHM9dm9pZCAwPT09ZD97fTpkLGw9ci5wbGFjZW1lbnRJZCxjPW8uZGVlcGxpbmssdT12b2lkIDA9PT1jP1xcXCJcXFwiOmMsaD1vLm9pZCxwPXtrZXk6XFxcIkRFRVBMSU5LX1JFU1VMVFxcXCIsdW5pdGlkOmwscmVxdWVzdGlkOnMuX3JlcXVlc3RfaWQsbXNnOlxcXCJcXFwiK2gsbXNnMTpcXFwiMlxcXCIsbXNnMjpcXFwiXFxcIit1LG1zZzM6XFxcIjBcXFwiLG1zZzQ6XFxcIjBcXFwiLG1zZzc6XFxcIjBcXFwifTtWYS5jYWxsKHRoaXMscCl9LHN1YnNjcmliZUFwcEhpZGVDYWxsYmFjazpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPW51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLmRldmljZUluZm9DYWNoZSl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LmJyYW5kKXx8dm9pZCAwPT09dD92b2lkIDA6dC50b0xvd2VyQ2FzZSgpO1tcXFwib3Bwb1xcXCIsXFxcInhpYW9taVxcXCIsXFxcInJlZG1pXFxcIl0uaW5jbHVkZXMoaSk/KHRoaXMuc3VjY2VlZFRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMuc3VjY2VlZFRpbWVJZCksdGhpcy5zdWNjZWVkVGltZUlkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5ub3RpY2VGYWlsZWR8fGUuaGFuZGxlRGVlcExpbmtTdWNjZWVkKCl9KSwxZTMpKTp0aGlzLmhhbmRsZURlZXBMaW5rU3VjY2VlZCgpfSxyZXBvcnRJbnZhbGlkSW1wcmVzc2lvbkRhOmZ1bmN0aW9uKCl7dmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT10aGlzfHx7fSxuPWkuYWRPcHRpb24scj12b2lkIDA9PT1uP3t9Om4sYT1pLmFkRXh0cmEsbz12b2lkIDA9PT1hP3t9OmEsZD1pLmN1cnJlbnRBZCxzPXZvaWQgMD09PWQ/e306ZCxsPW8ucGxhY2VtZW50SWQsYz1vLnRyYWZmaWNHcm91cElkLHU9by5zZWdtZW50SWQsaD1vLmFzSWQ7by5ud0Zpcm1JZCxvLmVjcG0sby5iaWRUazt2YXIgcD17a2V5OlxcXCJBRFhfSU1QX0lOVkFMSURcXFwiLHVuaXRpZDpsLHJlcXVlc3RpZDpyLl9yZXF1ZXN0X2lkLGdyb3VwaWQ6dSx0cmFmZmljX2dyb3VwX2lkOmMsYXNpZDpoLG1zZzpzLmRzcF9pZCxtc2cxOlN0cmluZyhyLl91bml0X2lkKSxtc2cyOlxcXCJcXFwiK3Mub2lkLG1zZzM6XFxcIjJcXFwiLG1zZzQ6bnVsbCE9PSh0PW51bGw9PWU/dm9pZCAwOmUubXNnNCkmJnZvaWQgMCE9PXQ/dDpcXFwiMlxcXCIsbXNnNTpKU09OLnN0cmluZ2lmeShlKX07VmEuY2FsbCh0aGlzLHApfX0sbWQ9e2NvbnRhaW5lclN0eWxlOntmbGV4RGlyZWN0aW9uOlxcXCJjb2x1bW5cXFwiLHdpZHRoOlxcXCIxMDAlXFxcIixoZWlnaHQ6XFxcIjEwMCVcXFwifSxjb250ZW50U3R5bGU6e2ZsZXhEaXJlY3Rpb246XFxcImNvbHVtblxcXCIsd2lkdGg6XFxcIjEwMCVcXFwiLGhlaWdodDpcXFwiMTAwJVxcXCIscG9zaXRpb246XFxcInJlbGF0aXZlXFxcIixqdXN0aWZ5Q29udGVudDpcXFwiZmxleC1lbmRcXFwifSxpbWdTdHlsZTp7anVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsd2lkdGg6XFxcIjEwMCVcXFwiLGhlaWdodDpcXFwiMTAwJVxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIn0saW1nUHJvcGVydGllc1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsb2JqZWN0Rml0OlxcXCJmaWxsXFxcIn0saWNvblN0eWxlOnt3aWR0aDpcXFwiODBweFxcXCIsaGVpZ2h0OlxcXCI4MHB4XFxcIixtYXJnaW5SaWdodDpcXFwiMjBweFxcXCJ9LGljb25Qcm9wZXJ0aWVzU3R5bGU6e3dpZHRoOlxcXCIxMDAlXFxcIixib3JkZXJSYWRpdXM6XFxcIjEwcHhcXFwiLGhlaWdodDpcXFwiMTAwJVxcXCJ9LHZpZGVvU3R5bGU6e2p1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLHdpZHRoOlxcXCIxMDAlXFxcIixoZWlnaHQ6XFxcIjEwMCVcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCJ9LHZpZGVvUHJvcGVydGllc1N0eWxlOnt3aWR0aDpcXFwiMTAwJVxcXCIsb2JqZWN0Rml0OlxcXCJjb3ZlclxcXCIsaGVpZ2h0OlxcXCIxMDAlXFxcIn0sZG93bmxvYWRTdHlsZTp7Y29udGFpbmVyOnt3aWR0aDpcXFwiMTAwJVxcXCJ9LHBhbmVsOnt3aWR0aDpcXFwiMTAwJVxcXCIsZmxleERpcmVjdGlvbjpcXFwiY29sdW1uXFxcIixwYWRkaW5nOlxcXCIyMHB4XFxcIixmaWx0ZXI6XFxcImJsdXIoMTgwcHgpXFxcIixiYWNrZ3JvdW5kOnt2YWx1ZXM6W3t0eXBlOlxcXCJsaW5lYXJHcmFkaWVudFxcXCIsZGlyZWN0aW9uczpbXFxcIjE4MGRlZ1xcXCJdLHZhbHVlczpbXFxcInJnYmEoMCwwLDAsMClcXFwiLFxcXCJyZ2JhKDAsMCwwLDAuOClcXFwiXX1dfX0sdGl0bGU6e2ZsZXhEaXJlY3Rpb246XFxcImNvbHVtblxcXCJ9LHRpdGxlVGV4dDp7bGluZUhlaWdodDpcXFwiMzhweFxcXCIsZm9udFNpemU6XFxcIjM2cHhcXFwiLGZvbnRXZWlnaHQ6NzAwLGNvbG9yOlxcXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXFxcIn0sZGVzYzp7Zm9udFNpemU6XFxcIjI0cHhcXFwiLGxpbmVIZWlnaHQ6XFxcIjI2cHhcXFwiLG1hcmdpblRvcDpcXFwiNHB4XFxcIixjb2xvcjpcXFwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVxcXCJ9fSxidXR0b25TdHlsZTp7d2lkdGg6XFxcIjEwMCVcXFwiLHBhZGRpbmdUb3A6XFxcIjIwcHhcXFwiLHBhZGRpbmdSaWdodDpcXFwiMjBweFxcXCIscGFkZGluZ0JvdHRvbTpcXFwiMjBweFxcXCIscGFkZGluZ0xlZnQ6XFxcIjIwcHhcXFwiLGJvcmRlclJhZGl1czpcXFwiMjRweFxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCIjMUQ2QUZGXFxcIix0ZXh0QWxpZ246XFxcImNlbnRlclxcXCIsZm9udFNpemU6XFxcIjI4cHhcXFwiLGNvbG9yOlxcXCIjRkZGRkZGXFxcIixtYXJnaW5Ub3A6XFxcIjMwcHhcXFwifSxjbG9zZVN0eWxlOntjbG9zZUNvbnRhaW5lcjp7cG9zaXRpb246XFxcImFic29sdXRlXFxcIixyaWdodDpcXFwiMzBweFxcXCIsdG9wOlxcXCI2MHB4XFxcIix6SW5kZXg6XFxcIjEwMFxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIixqdXN0aWZ5Q29udGVudDpcXFwiY2VudGVyXFxcIix0cmFuc2Zvcm06XFxcInRyYW5zbGF0ZVkoMHB4KVxcXCJ9LGNsb3NlQ2xpY2tBcmVhOnt3aWR0aDpcXFwiNDhweFxcXCIsaGVpZ2h0OlxcXCI0OHB4XFxcIixqdXN0aWZ5Q29udGVudDpcXFwiY2VudGVyXFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGJvcmRlclJhZGl1czpcXFwiNTAlXFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCIsZm9udFNpemU6XFxcIjI0cHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwidHJhbnNwYXJlbnRcXFwifSxjbG9zZUJ0bjp7d2lkdGg6XFxcIjQ4cHhcXFwiLGhlaWdodDpcXFwiNDhweFxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIixib3JkZXJSYWRpdXM6XFxcIjUwJVxcXCIsY29sb3I6XFxcIiNGRkZGRkZcXFwiLGZvbnRTaXplOlxcXCIyNHB4XFxcIixiYWNrZ3JvdW5kQ29sb3I6XFxcInJnYmEoMCwgMCwgMCwgLjQpXFxcIn19LGxvZ29TdHlsZTp7bG9nb0NvbnRhaW5lcjp7aGVpZ2h0OlxcXCIzMHB4XFxcIixhbGlnbkl0ZW1zOlxcXCJjZW50ZXJcXFwiLGFsaWduU2VsZjpcXFwiZmxleC1lbmRcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJmbGV4LWVuZFxcXCIsbWFyZ2luQm90dG9tOlxcXCI0cHhcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgxNTMsIDE1MywgMTUzLCAwLjgpXFxcIn0sbG9nb0ltZzp7d2lkdGg6XFxcIjcwcHhcXFwiLG1hcmdpblJpZ2h0OlxcXCIycHhcXFwiLGRpc3BsYXk6XFxcImZsZXhcXFwifX0sZmFjdG9yU3R5bGU6e2ZhY3RvckNvbnRhaW5lcjp7anVzdGlmeUNvbnRlbnQ6XFxcInNwYWNlLWJldHdlZW5cXFwiLG1hcmdpblRvcDpcXFwiMjBweFxcXCJ9LGluZm9UZXh0Ontmb250U2l6ZTpcXFwiMjJweFxcXCIsY29sb3I6XFxcIiNBMEEwQTBcXFwiLG1hcmdpblJpZ2h0OlxcXCIxMHB4XFxcIn19LGNvdW50ZG93blN0eWxlOntwb3NpdGlvbjpcXFwiYWJzb2x1dGVcXFwiLGxlZnQ6XFxcIjMwcHhcXFwiLHRvcDpcXFwiNjBweFxcXCIsd2lkdGg6XFxcIjE2MHB4XFxcIixoZWlnaHQ6XFxcIjQ4cHhcXFwiLGp1c3RpZnlDb250ZW50OlxcXCJjZW50ZXJcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsYm9yZGVyUmFkaXVzOlxcXCIyNHB4XFxcIix6SW5kZXg6XFxcIjEwMFxcXCIsY29sb3I6XFxcIiNGRkZGRkZcXFwiLGJhY2tncm91bmRDb2xvcjpcXFwicmdiYSgwLCAwLCAwLCAuNClcXFwiLGZvbnRTaXplOlxcXCIyMHB4XFxcIn0sZmVlZGJhY2tTdHlsZTp7Y29udGFpbmVyU3R5bGU6e3Bvc2l0aW9uOlxcXCJhYnNvbHV0ZVxcXCIscmlnaHQ6XFxcIjEwMHB4XFxcIix0b3A6XFxcIjYwcHhcXFwiLGhlaWdodDpcXFwiNDhweFxcXCIscGFkZGluZ0xlZnQ6XFxcIjE2cHhcXFwiLHBhZGRpbmdSaWdodDpcXFwiMTZweFxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsYWxpZ25JdGVtczpcXFwiY2VudGVyXFxcIixib3JkZXJSYWRpdXM6XFxcIjI0cHhcXFwiLHpJbmRleDpcXFwiMTAwXFxcIixjb2xvcjpcXFwiI0ZGRkZGRlxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJyZ2JhKDAsIDAsIDAsIC40KVxcXCIsZm9udFNpemU6XFxcIjIwcHhcXFwifSxpY29uU3R5bGU6e2ZvbnRTaXplOlxcXCIyMHB4XFxcIixjb2xvcjpcXFwiIzAwMDAwMFxcXCIsd2lkdGg6XFxcIjI0cHhcXFwiLGhlaWdodDpcXFwiMjRweFxcXCIsbWFyZ2luUmlnaHQ6XFxcIjRweFxcXCIsYm9yZGVyUmFkaXVzOlxcXCI1MCVcXFwiLGFsaWduSXRlbXM6XFxcImNlbnRlclxcXCIsanVzdGlmeUNvbnRlbnQ6XFxcImNlbnRlclxcXCIsYmFja2dyb3VuZENvbG9yOlxcXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXFxcIn19fSxfZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZighKHI9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5BRFgsdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCkpKXt0Lm5leHQ9NDticmVha31yZXR1cm4gdGhpcy5hZEVycm9yKHtjb2RlOnIsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgNDppZihhPVUuY2FsbCh0aGlzLHRoaXMuYWRDb25maWcuc3R5bGUpLG89VS5jYWxsKHRoaXMsbWQpLGQ9JC5jYWxsKHRoaXMsbyxhKSx0aGlzLmFkU3R5bGU9ZCxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCksdihudWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy4kYXBwKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuJGRlZil8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnRvcG9uX3Nkayl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnN0b3JlKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZGV2aWNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbmZvKSl7dC5uZXh0PTE0O2JyZWFrfXQudDA9bnVsbD09dGhpc3x8bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLiRkZWYpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi50b3Bvbl9zZGspfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5zdG9yZSl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmRldmljZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaW5mbyx0Lm5leHQ9MjA7YnJlYWs7Y2FzZSAxNDpyZXR1cm4gdC5uZXh0PTE2LEguZ2V0SW5mbygpO2Nhc2UgMTY6aWYodC50MT10LnNlbnQsdC50MSl7dC5uZXh0PTE5O2JyZWFrfXQudDE9e307Y2FzZSAxOTp0LnQwPXQudDE7Y2FzZSAyMDpzPXQudDAsdGhpcy5kZXZpY2VJbmZvQ2FjaGU9cztjYXNlIDIyOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7dmFyIHQsZT1Jby5jYWxsKHRoaXMsdGhpcy5hZEV4dHJhLnBsYWNlbWVudElkKSxpPW51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLm9mZmVyX2RhdGEpJiZ2b2lkIDAhPT10P3Q6e307c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmFkTG9hZChpKX0sc2hvdzpmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMucmVhZHkpe3ZhciBlPXRoaXN8fHt9LGk9ZS5jdXJyZW50QWQsbj12b2lkIDA9PT1pP3t9Omkscj1lLmFkU3R5bGUsYT12b2lkIDA9PT1yP3t9OnIsbz1lLmFkRXh0cmEsZD12b2lkIDA9PT1vP3t9Om8scz1lLmFkT3B0aW9uLGw9dm9pZCAwPT09cz97fTpzLGM9ZC5wbGFjZW1lbnRJZCx1PXZvaWQgMD09PWM/XFxcIlxcXCI6YyxoPVMoKS5yb3V0ZXIscD1Jby5jYWxsKHRoaXMsdSk7aWYoRGF0ZS5ub3coKT5wLl9leHBpcmF0aW9uVGltZSlyZXR1cm4gdGhpcy5hZEVycm9yKHtjb2RlOjExMDEsbXNnOlxcXCLlub/lkYrlt7Lov4fmnJ/vvIzor7fph43mlrDojrflj5blub/lkYrmiJbliLfmlrDlub/lkYpcXFwifSksdm9pZCBiby5jYWxsKHRoaXMsdSx7fSk7dmFyIGY9XFxcIlxcXCIuY29uY2F0KHUsXFxcIi9cXFwiKS5jb25jYXQobC5fdW5pdF9pZCksdj17YWREYXRhOm4sYWRTdHlsZTphLG9wdGlvbjp7X3JlcXVlc3RfaWQ6bC5fcmVxdWVzdF9pZCxfY291bnRkb3duOihudWxsPT1ufHxudWxsPT09KHQ9bi5jdHJsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vcl9pbWdfdCkvMWUzfHwwfX07Ti5jYWxsKHRoaXMsXFxcImFkeFJld2FyZGVkVmlkZW9cXFwiLGYsdiksaC5wdXNoKHt1cmk6XFxcIlRvcE9uL0FkUmV3YXJkXFxcIixwYXJhbXM6e2FkVW5pdElkOmwuX3VuaXRfaWQscGxJZDpkLnBsYWNlbWVudElkfX0pLHRoaXMuYWRTaG93KCl9fSxhZExvYWQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxuO2lmKG51bGwhPXQmJnQuc2VhdGJpZCYmbnVsbCE9dCYmbnVsbCE9PShlPXQuc2VhdGJpZCkmJnZvaWQgMCE9PWUmJmUubGVuZ3RoKWlmKG51bGwhPXQmJm51bGwhPT0oaT10LnNlYXRiaWRbdGhpcy5hZExpc3RJbmRleEluVXNlXSkmJnZvaWQgMCE9PWkmJmkuZnVsbF91KXRoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQuc2VhdGJpZCkmJnZvaWQgMCE9PW4/bjpbXSxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKSx0aGlzLmNyZWF0ZVJld2FyZGVkVmlkZW8oKSx0aGlzLnVwZGF0ZUNsb3NlU3R5bGUoKTtlbHNle3RoaXMuYWRFcnJvcih7Y29kZTo5MDA4LG1zZzpcXFwiQURY5bm/5ZGK5peg5aGr5YWFW+e0oOadkOe8uuWksV1cXFwifSl9ZWxzZXt0aGlzLmFkRXJyb3Ioe2NvZGU6MmUzLG1zZzpcXFwiQURY5bm/5ZGK5peg5aGr5YWFXFxcIn0pfX0sdXBkYXRlQ2xvc2VTdHlsZTpmdW5jdGlvbigpe3ZhciB0LGUsaT1udWxsIT09KHQ9bnVsbD09PShlPXRoaXMuY3VycmVudEFkKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuY3RybCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZnRfY2xfc3opJiZ2b2lkIDAhPT10P3Q6MTtpZigxIT09aSl7dmFyIG49ezE6MSwyOjEuNSwzOi43NSw0Oi41fSxyPXRoaXMuYWRTdHlsZS5jbG9zZVN0eWxlLmNsb3NlQnRuLndpZHRoLm1hdGNoKC9cXFxcZCsvZylbMF07aWYodGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VDbGlja0FyZWEud2lkdGg9cipuW2ldK1xcXCJweFxcXCIsdGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VDbGlja0FyZWEuaGVpZ2h0PXIqbltpXStcXFwicHhcXFwiLG5baV0+MSl7dmFyIGE9cipuW2ldLzItci8yK1xcXCJweFxcXCI7dGhpcy5hZFN0eWxlLmNsb3NlU3R5bGUuY2xvc2VDb250YWluZXIudHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGVZKC1cXFwiLmNvbmNhdChhLFxcXCIpXFxcIil9fX0sY3JlYXRlUmV3YXJkZWRWaWRlbzpmdW5jdGlvbigpe3RoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvfHwodGhpcy4kYXBwLiRkZWYudG9wb25fc2RrLnJld2FyZGVkVmlkZW89T2JqZWN0LmNyZWF0ZShudWxsKSk7dmFyIHQ9dGhpcy5hZEV4dHJhLGU9dGhpcy5hZE9wdGlvbixpPVxcXCJcXFwiLmNvbmNhdCh0LnBsYWNlbWVudElkLFxcXCIvXFxcIikuY29uY2F0KGUuX3VuaXRfaWQpO3RoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvW2ldfHwodGhpcy4kYXBwLiRkZWYudG9wb25fc2RrLnJld2FyZGVkVmlkZW9baV09T2JqZWN0LmNyZWF0ZShudWxsKSk7dmFyIG49dGhpczt0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tpXS5hZENsaWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKylpW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4odD1uLmFkQ2xpY2spLmNhbGwuYXBwbHkodCxbbl0uY29uY2F0KGkpKX0sdGhpcy4kYXBwLiRkZWYudG9wb25fc2RrLnJld2FyZGVkVmlkZW9baV0uYWRDbG9zZT1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspaVtyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9bi5hZENsb3NlKS5jYWxsLmFwcGx5KHQsW25dLmNvbmNhdChpKSl9LHRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvW2ldLmFkRXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybih0PW4uYWRFcnJvcikuY2FsbC5hcHBseSh0LFtuXS5jb25jYXQoaSkpfSx0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tpXS5hZEltcHJlc3Npb249ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybih0PW4uYWRJbXByZXNzaW9uKS5jYWxsLmFwcGx5KHQsW25dLmNvbmNhdChpKSl9LHRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5yZXdhcmRlZFZpZGVvW2ldLmFkVG91Y2g9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKWlbcl09YXJndW1lbnRzW3JdO3JldHVybih0PW4uYWRUb3VjaCkuY2FsbC5hcHBseSh0LFtuXS5jb25jYXQoaSkpfSx0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tpXS5hZEZlZWRiYWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKylpW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4odD1uLmFkRmVlZGJhY2spLmNhbGwuYXBwbHkodCxbbl0uY29uY2F0KGkpKX19LGRlc3Ryb3lSZXdhcmRlZFZpZGVvOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy4kYXBwJiZudWxsIT09KHQ9dGhpcy4kYXBwKSYmdm9pZCAwIT09dCYmdC4kZGVmKXt2YXIgZT10aGlzfHx7fSxpPWUuYWRFeHRyYSxuPXZvaWQgMD09PWk/e306aSxyPWUuYWRPcHRpb24sYT12b2lkIDA9PT1yP3t9OnIsbz1cXFwiXFxcIi5jb25jYXQobi5wbGFjZW1lbnRJZCxcXFwiL1xcXCIpLmNvbmNhdChhLl91bml0X2lkKTt0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tvXT1udWxsLGRlbGV0ZSB0aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsucmV3YXJkZWRWaWRlb1tvXX19LGFkU2hvdzpmdW5jdGlvbih0KXt2YXIgZTtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkU2hvd1xcXCJ9KSxiby5jYWxsKHRoaXMsbnVsbD09PShlPXRoaXMuYWRFeHRyYSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucGxhY2VtZW50SWQse30pfSxhZENsaWNrOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSksdGhpcy5oYW5kbGVOb3RpY2UoXFxcImNsaWNrXFxcIiksdGhpcy5ub3RpY2VTdWNjZWVkPSExLHRoaXMubm90aWNlRmFpbGVkPSExLGUmJmUoKTt2YXIgbj1TKCkscj1uLnJvdXRlcixhPW4ucGtnLG89dGhpc3x8e30sZD1vLmFkRXh0cmEscz12b2lkIDA9PT1kP3t9OmQsbD1vLmN1cnJlbnRBZCxjPXZvaWQgMD09PWw/e306bCx1PW8uYWRPcHRpb24saD12b2lkIDA9PT11P3t9OnUscD1zLnBsYWNlbWVudElkLGY9dm9pZCAwPT09cD9cXFwiXFxcIjpwLHY9Yy5kZWVwbGluayxtPXZvaWQgMD09PXY/XFxcIlxcXCI6dixfPWMub2lkLGc9Yy5jbGlja191LHk9dm9pZCAwPT09Zz9cXFwiXFxcIjpnLEk9Yy5saW5rX3R5cGUsYj1jLnBrZyxrPXZvaWQgMD09PWI/XFxcIlxcXCI6YjtpZihtKXJldHVybiB0aGlzLmhhbmRsZU5vdGljZShcXFwiZHBfc3RhcnRcXFwiKSx2b2lkIGEuaGFzSW5zdGFsbGVkKHtwYWNrYWdlOmssc3VjY2VzczpmdW5jdGlvbih0KXtpZih0LnJlc3VsdCl7dmFyIGUsbixhO2kuaGFuZGxlTm90aWNlKFxcXCJhcHBfaW5zdGFsbFxcXCIpLHIucHVzaCh7dXJpOm19KSxpLm9uSGlkZUNhbGxiYWNrPWkuc3Vic2NyaWJlQXBwSGlkZUNhbGxiYWNrLmJpbmQoaSksaS5vblNob3dDYWxsYmFjaz1pLmhhbmRsZURlZXBMaW5rRmFpbGVkLmJpbmQoaSk7dmFyIG89e29uY2U6ITB9O251bGw9PWl8fG51bGw9PT0oZT1pLiRhcHApfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS4kZGVmKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUudG9wb25fc2RrKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZXZlbnQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5kZWVwbGluayl8fHZvaWQgMD09PWV8fGUuc3Vic2NyaWJlKFxcXCJhcHAtb24taGlkZVxcXCIsaS5vbkhpZGVDYWxsYmFjayxvKSxudWxsPT1pfHxudWxsPT09KG49aS4kYXBwKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uJGRlZil8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLnRvcG9uX3Nkayl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLmV2ZW50KXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uZGVlcGxpbmspfHx2b2lkIDA9PT1ufHxuLnN1YnNjcmliZShcXFwiYXBwLW9uLXNob3dcXFwiLGkub25TaG93Q2FsbGJhY2ssbyksXFxcInZpdm9cXFwiPT0obnVsbD09aXx8bnVsbD09PShhPWkuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09YXx8bnVsbD09PShhPWEuYnJhbmQpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRvTG93ZXJDYXNlKCkpJiYoaS5mYWlsVGltZUlkJiZjbGVhclRpbWVvdXQoaS5mYWlsVGltZUlkKSxpLmZhaWxUaW1lSWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpLm5vdGljZVN1Y2NlZWR8fGkuaGFuZGxlRGVlcExpbmtGYWlsZWQoKX0pLDNlMykpfWVsc2V7aS5oYW5kbGVOb3RpY2UoXFxcImFwcF91bmluc3RhbGxcXFwiKSxpLmhhbmRsZU5vdGljZShcXFwiZHBfdW5pbnN0X2ZhaWxcXFwiKTt2YXIgZD17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpmLHJlcXVlc3RpZDpoLl9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIitfLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIreSxtc2czOlxcXCIwXFxcIixtc2c0OlxcXCIxXFxcIixtc2c3OlxcXCIxXFxcIn07VmEuY2FsbChpLGQpLHIucHVzaCh7dXJpOlxcXCJUb3BPbi9BZExhbmRpbmdcXFwiLHBhcmFtczp7dXJsOnl9fSl9fSxmYWlsOmZ1bmN0aW9uKHQsZSl7aS5oYW5kbGVOb3RpY2UoXFxcImRwX3VuaW5zdF9mYWlsXFxcIik7dmFyIG49e2tleTpcXFwiREVFUExJTktfUkVTVUxUXFxcIix1bml0aWQ6ZixyZXF1ZXN0aWQ6aC5fcmVxdWVzdF9pZCxtc2c6XFxcIlxcXCIrXyxtc2cxOlxcXCIyXFxcIixtc2cyOlxcXCJcXFwiK3ksbXNnMzpcXFwiMFxcXCIsbXNnNDpcXFwiMVxcXCIsbXNnNzpcXFwiMVxcXCJ9O1ZhLmNhbGwoaSxuKSxyLnB1c2goe3VyaTpcXFwiVG9wT24vQWRMYW5kaW5nXFxcIixwYXJhbXM6e3VybDp5fX0pfX0pOzI9PT1JJiZyLnB1c2goe3VyaTp5fSksMz09PUkmJnIucHVzaCh7dXJpOlxcXCJUb3BPbi9BZExhbmRpbmdcXFwiLHBhcmFtczp7dXJsOnl9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5hZERlc3Ryb3k9ITA7dmFyIGk9bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQucmV3YXJkKSYmdm9pZCAwIT09ZSYmZTtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwiLHBhcmFtczp7cmV3YXJkOml9fSksaSYmc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFJld2FyZFxcXCIscGFyYW1zOntyZXdhcmQ6aX19KSx0aGlzLnZhbGlkaXR5VGltZUlkJiZjbGVhclRpbWVvdXQodGhpcy52YWxpZGl0eVRpbWVJZCksdGhpcy5kZXN0cm95UmV3YXJkZWRWaWRlbygpfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzfHx7fSkuYWRPcHRpb24sbj12b2lkIDA9PT1pP3t9Omkscj1uLl9yZXF1ZXN0X2lkK1xcXCIvXFxcIituLl91bml0X2lkO2lmKHRoaXMubG9ja0FkRXJyb3IhPT1yKXt0aGlzLmxvY2tBZEVycm9yPXIsdGhpcy5yZWFkeT0hMTt2YXIgYT1lKGUoe30sdCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX0pO2RlbGV0ZSBhLmVyckNvZGUsZGVsZXRlIGEuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOmF9KSxjZC5jYWxsKHRoaXMpfX0sYWRJbXByZXNzaW9uOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5jbGllbnRSZWN0LGk9dC5kaWZmLG49dm9pZCAwPT09aT8wOmk7dGhpcy5jbGllbnRSZWN0PWUsdGhpcy5pc0FkRXhwb3N1cmVWYWxpZChlLG4pLHRoaXMucmVwb3J0QmlkV2luRGEoKX0scmVwb3J0QmlkV2luRGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzfHx7fSxlPXQuYWRFeHRyYSxpPXZvaWQgMD09PWU/e306ZSxuPXQuY3VycmVudEFkLHI9dm9pZCAwPT09bj97fTpuLGE9dC5hZE9wdGlvbixvPXZvaWQgMD09PWE/e306YSxkPWkucGxhY2VtZW50SWQscz1pLnRyYWZmaWNHcm91cElkLGw9aS5zZWdtZW50SWQsYz1pLmFzSWQsdT1pLm53RmlybUlkLGg9aS5lY3BtLHA9aS5iaWRUayxmPXtrZXk6XFxcIkJJRF9XSU5cXFwiLHVuaXRpZDpkLHJlcXVlc3RpZDpvLl9yZXF1ZXN0X2lkLGdyb3VwaWQ6bCx0cmFmZmljX2dyb3VwX2lkOnMsYXNpZDpjLG1zZzpTdHJpbmcodSksbXNnMTpTdHJpbmcoby5fdW5pdF9pZCksbXNnMjpcXFwiXFxcIixtc2czOlxcXCJcXFwiLG1zZzQ6XFxcIlxcXCIrci5kc3BfaWQsbXNnNTpcXFwiXFxcIityLm9pZCxtc2c2OlxcXCIxXFxcIixtc2c3OnAudHBCaWRJZCxtc2c4OlxcXCJcXFwiK2gsbXNnOTpcXFwiXFxcIn07VmEuY2FsbCh0aGlzLGYpfSxpc0FkRXhwb3N1cmVWYWxpZDpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcyxyPXRoaXN8fHt9LGE9ci5hZEV4dHJhLG89dm9pZCAwPT09YT97fTphLGQ9ci5jdXJyZW50QWQscz12b2lkIDA9PT1kP3t9OmQsbD1EYXRlLm5vdygpLGM9WzEsM10uaW5jbHVkZXMoby5mb3JtYXQpPzA6MTAwO251bGwhPXMmJm51bGwhPT0oaT1zLmN0cmwpJiZ2b2lkIDAhPT1pJiZpLnNobV90JiYoYz1zLmN0cmwuc2htX3QpO3ZhciB1PWMsaD1GLmNhbGwodGhpcyx0LHRoaXMuZGV2aWNlSW5mb0NhY2hlKSxwPURhdGUubm93KCktbCtlO2lmKGM+cCYmKHU9Yy1wKSxjPHAmJih1PTApLGg+LjAyKXRoaXMudmFsaWRpdHlUaW1lSWQmJmNsZWFyVGltZW91dCh0aGlzLnZhbGlkaXR5VGltZUlkKSx0aGlzLnZhbGlkaXR5VGltZUlkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5hZERlc3Ryb3k/Y29uc29sZS5lcnJvcihcXFwiQURY5bm/5ZGK5peg5pWI5bGV56S6XFxcIik6KG4uaGFuZGxlTm90aWNlKFxcXCJudXJsXFxcIiksc2QuY2FsbChuLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KSxuLmhhbmRsZU5vdGljZShcXFwiaW1wXFxcIiksbi5oYW5kbGVOb3RpY2UoXFxcImJ1cmxcXFwiKSl9KSx1KTtlbHNle3ZhciBmLHY7Y29uc29sZS5lcnJvcihcXFwiQURY5bm/5ZGK5peg5pWI5bGV56S6XFxcIik7dmFyIG09e3JhdGlvOmgsY2xpZW50UmVjdDp0LGRldmljZUluZm86e3NjcmVlbldpZHRoOm51bGw9PT0oZj10aGlzLmRldmljZUluZm9DYWNoZSl8fHZvaWQgMD09PWY/dm9pZCAwOmYuc2NyZWVuV2lkdGgsc2NyZWVuSGVpZ2h0Om51bGw9PT0odj10aGlzLmRldmljZUluZm9DYWNoZSl8fHZvaWQgMD09PXY/dm9pZCAwOnYuc2NyZWVuSGVpZ2h0fX07dGhpcy5yZXBvcnRJbnZhbGlkSW1wcmVzc2lvbkRhKG0pfX0saGFuZGxlTm90aWNlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9KHRoaXMuY3VycmVudEFkfHx7fSkudGssbj12b2lkIDA9PT1pP3t9Omk7aWYoblt0XSYmbnVsbCE9PShlPW5bdF0pJiZ2b2lkIDAhPT1lJiZlLmxlbmd0aCl7dmFyIHI9dGhpcy5nZXRNYWNyb0RhdGEoKTtrby5jYWxsKHRoaXMsblt0XSxyKX19LGdldE1hY3JvRGF0YTpmdW5jdGlvbigpe3ZhciB0LGUsaSxuLHIsYSxvLGQscyxsLGMsdSxoLHAsZix2LG0sXyxnPXRoaXMuY2xpZW50UmVjdCx5PXRoaXMuc3RhcnRQb2ludCxJPXZvaWQgMD09PXk/e306eSxiPXRoaXMuZW5kUG9pbnQsaz12b2lkIDA9PT1iP3t9OmIsdz10aGlzLmN1cnJlbnRBZCx4PXZvaWQgMD09PXc/e306dyxTPXtkb3duX3g6bnVsbCE9PSh0PW51bGw9PUk/dm9pZCAwOkkuY2xpZW50WCkmJnZvaWQgMCE9PXQ/dDpcXFwiLTk5OVxcXCIsZG93bl95Om51bGwhPT0oZT1udWxsPT1JP3ZvaWQgMDpJLmNsaWVudFkpJiZ2b2lkIDAhPT1lP2U6XFxcIi05OTlcXFwiLHVwX3g6bnVsbCE9PShpPW51bGw9PWs/dm9pZCAwOmsuY2xpZW50WCkmJnZvaWQgMCE9PWk/aTpcXFwiLTk5OVxcXCIsdXBfeTpudWxsIT09KG49bnVsbD09az92b2lkIDA6ay5jbGllbnRZKSYmdm9pZCAwIT09bj9uOlxcXCItOTk5XFxcIn0sVD17ZG93bl94Om51bGwhPT0ocj1udWxsPT1JP3ZvaWQgMDpJLm9mZnNldFgpJiZ2b2lkIDAhPT1yP3I6XFxcIi05OTlcXFwiLGRvd25feTpudWxsIT09KGE9bnVsbD09ST92b2lkIDA6SS5vZmZzZXRZKSYmdm9pZCAwIT09YT9hOlxcXCItOTk5XFxcIix1cF94Om51bGwhPT0obz1udWxsPT1rP3ZvaWQgMDprLm9mZnNldFgpJiZ2b2lkIDAhPT1vP286XFxcIi05OTlcXFwiLHVwX3k6bnVsbCE9PShkPW51bGw9PWs/dm9pZCAwOmsub2Zmc2V0WSkmJnZvaWQgMCE9PWQ/ZDpcXFwiLTk5OVxcXCJ9O3JldHVybntcXFwie19fV0lEVEhfX31cXFwiOm51bGwhPT0ocz1udWxsPT1nP3ZvaWQgMDpnLndpZHRoKSYmdm9pZCAwIT09cz9zOlxcXCJcXFwiLFxcXCJ7X19IRUlHSFRfX31cXFwiOm51bGwhPT0obD1udWxsPT1nP3ZvaWQgMDpnLmhlaWdodCkmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIixcXFwie19fRE9XTl9YX199XFxcIjpudWxsIT09KGM9bnVsbD09ST92b2lkIDA6SS5jbGllbnRYKSYmdm9pZCAwIT09Yz9jOlxcXCJcXFwiLFxcXCJ7X19ET1dOX1lfX31cXFwiOm51bGwhPT0odT1udWxsPT1JP3ZvaWQgMDpJLmNsaWVudFkpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCIsXFxcIntfX1VQX1hfX31cXFwiOm51bGwhPT0oaD1udWxsPT1rP3ZvaWQgMDprLmNsaWVudFgpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsXFxcIntfX1VQX1lfX31cXFwiOm51bGwhPT0ocD1udWxsPT1rP3ZvaWQgMDprLmNsaWVudFkpJiZ2b2lkIDAhPT1wP3A6XFxcIlxcXCIsXFxcIntfX1JFX0RPV05fWF9ffVxcXCI6bnVsbCE9PShmPW51bGw9PUk/dm9pZCAwOkkub2Zmc2V0WCkmJnZvaWQgMCE9PWY/ZjpcXFwiLTk5OVxcXCIsXFxcIntfX1JFX0RPV05fWV9ffVxcXCI6bnVsbCE9PSh2PW51bGw9PUk/dm9pZCAwOkkub2Zmc2V0WSkmJnZvaWQgMCE9PXY/djpcXFwiLTk5OVxcXCIsXFxcIntfX1JFX1VQX1hfX31cXFwiOm51bGwhPT0obT1udWxsPT1rP3ZvaWQgMDprLm9mZnNldFgpJiZ2b2lkIDAhPT1tP206XFxcIi05OTlcXFwiLFxcXCJ7X19SRV9VUF9ZX199XFxcIjpudWxsIT09KF89bnVsbD09az92b2lkIDA6ay5vZmZzZXRZKSYmdm9pZCAwIT09Xz9fOlxcXCItOTk5XFxcIixcXFwie19fVFNfX31cXFwiOkkudGltZXN0YW1wLzFlMyxcXFwie19fVFNfTVNFQ19ffVxcXCI6SS50aW1lc3RhbXAsXFxcIntfX0VORF9UU19ffVxcXCI6ay50aW1lc3RhbXAvMWUzLFxcXCJ7X19FTkRfVFNfTVNFQ19ffVxcXCI6ay50aW1lc3RhbXAsXFxcIntBQlNPTFVURV9DT09SRH1cXFwiOlMsXFxcIntSRUxBVElWRV9DT09SRH1cXFwiOlQsXFxcIntfX0RQTElOS19UWVBFX199XFxcIjp4LmRlZXBsaW5rPzE6Mn19LGhhbmRsZURlZXBMaW5rU3VjY2VlZDpmdW5jdGlvbih0KXt2YXIgZTt0aGlzLmhhbmRsZU5vdGljZShcXFwiZHBfc3VjY1xcXCIpLHRoaXMubm90aWNlU3VjY2VlZD0hMCx0aGlzLmZhaWxUaW1lSWQmJmNsZWFyVGltZW91dCh0aGlzLmZhaWxUaW1lSWQpLG51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLiRhcHApfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS4kZGVmKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUudG9wb25fc2RrKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuZXZlbnQpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5kZWVwbGluayl8fHZvaWQgMD09PWV8fGUudW5zdWJzY3JpYmUoXFxcImFwcC1vbi1zaG93XFxcIik7dmFyIGk9dGhpc3x8e30sbj1pLmFkRXh0cmEscj12b2lkIDA9PT1uP3t9Om4sYT1pLmN1cnJlbnRBZCxvPXZvaWQgMD09PWE/e306YSxkPWkuYWRPcHRpb24scz12b2lkIDA9PT1kP3t9OmQsbD1yLnBsYWNlbWVudElkLGM9by5kZWVwbGluayx1PXZvaWQgMD09PWM/XFxcIlxcXCI6YyxoPW8ub2lkLHA9e2tleTpcXFwiREVFUExJTktfUkVTVUxUXFxcIix1bml0aWQ6bCxyZXF1ZXN0aWQ6cy5fcmVxdWVzdF9pZCxtc2c6XFxcIlxcXCIraCxtc2cxOlxcXCIyXFxcIixtc2cyOlxcXCJcXFwiK3UsbXNnMzpcXFwiMVxcXCIsbXNnNDpcXFwiMFxcXCIsbXNnNzpcXFwiMVxcXCJ9O1ZhLmNhbGwodGhpcyxwKX0saGFuZGxlRGVlcExpbmtGYWlsZWQ6ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5oYW5kbGVOb3RpY2UoXFxcImRwX2luc3RfZmFpbFxcXCIpLHRoaXMubm90aWNlRmFpbGVkPSEwLHRoaXMuc3VjY2VlZFRpbWVJZCYmY2xlYXJUaW1lb3V0KHRoaXMuc3VjY2VlZFRpbWVJZCksbnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuJGFwcCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLiRkZWYpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS50b3Bvbl9zZGspfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5ldmVudCl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmRlZXBsaW5rKXx8dm9pZCAwPT09ZXx8ZS51bnN1YnNjcmliZShcXFwiYXBwLW9uLWhpZGVcXFwiKTt2YXIgaT10aGlzfHx7fSxuPWkuYWRFeHRyYSxyPXZvaWQgMD09PW4/e306bixhPWkuY3VycmVudEFkLG89dm9pZCAwPT09YT97fTphLGQ9aS5hZE9wdGlvbixzPXZvaWQgMD09PWQ/e306ZCxsPXIucGxhY2VtZW50SWQsYz1vLmRlZXBsaW5rLHU9dm9pZCAwPT09Yz9cXFwiXFxcIjpjLGg9by5vaWQscD17a2V5OlxcXCJERUVQTElOS19SRVNVTFRcXFwiLHVuaXRpZDpsLHJlcXVlc3RpZDpzLl9yZXF1ZXN0X2lkLG1zZzpcXFwiXFxcIitoLG1zZzE6XFxcIjJcXFwiLG1zZzI6XFxcIlxcXCIrdSxtc2czOlxcXCIwXFxcIixtc2c0OlxcXCIwXFxcIixtc2c3OlxcXCIxXFxcIn07VmEuY2FsbCh0aGlzLHApfSxhZFRvdWNoOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxpPXQuZGF0YTt0aGlzW1xcXCJcXFwiLmNvbmNhdChlLFxcXCJQb2ludFxcXCIpXT1pfSxhZEZlZWRiYWNrOmZ1bmN0aW9uKHQpe3ZhciBpLG4scixhLG8sZCxzLGwsYz10aGlzfHx7fSx1PWMuYWRFeHRyYSxoPXZvaWQgMD09PXU/e306dSxwPWMuYWRPcHRpb24sZj12b2lkIDA9PT1wP3t9OnAsdj1jLmN1cnJlbnRBZCxtPXZvaWQgMD09PXY/e306dixfPWUoZSh7a2V5OlxcXCJBRF9GRUVEQkFDS1xcXCIsdW5pdGlkOmgucGxhY2VtZW50SWQscmVxdWVzdGlkOmYuX3JlcXVlc3RfaWQsbXNnOlxcXCI2NlxcXCIsbXNnMTpcXFwiXFxcIitmLl91bml0X2lkLG1zZzI6XFxcIjJcXFwifSx0KSx7fSx7bXNnNTpudWxsIT09KGk9bnVsbD09bT92b2lkIDA6bS5vaWQpJiZ2b2lkIDAhPT1pP2k6XFxcIlxcXCIsbXNnNjpudWxsIT09KG49bnVsbD09bT92b2lkIDA6bS5jX2lkKSYmdm9pZCAwIT09bj9uOlxcXCJcXFwiLG1zZzc6bnVsbCE9PShyPW51bGw9PW0/dm9pZCAwOm0ucGtnKSYmdm9pZCAwIT09cj9yOlxcXCJcXFwiLG1zZzg6bnVsbCE9PShhPW51bGw9PW0/dm9pZCAwOm0udGl0bGUpJiZ2b2lkIDAhPT1hP2E6XFxcIlxcXCIsbXNnOTpudWxsIT09KG89bnVsbD09bT92b2lkIDA6bS5kZXNjKSYmdm9pZCAwIT09bz9vOlxcXCJcXFwiLG1zZzEwOm51bGwhPT0oZD1udWxsPT1tP3ZvaWQgMDptLmljb25fdSkmJnZvaWQgMCE9PWQ/ZDpcXFwiXFxcIixtc2cxMTpudWxsIT09KHM9bnVsbD09bT92b2lkIDA6bS5mdWxsX3UpJiZ2b2lkIDAhPT1zP3M6XFxcIlxcXCIsbXNnMTI6bnVsbCE9PShsPW51bGw9PW0/dm9pZCAwOm0udmlkZW9fdSkmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIixtc2cxMzpKU09OLnN0cmluZ2lmeShudWxsPT1tP3ZvaWQgMDptLmltZ19saXN0KX0pO1ZhLmNhbGwodGhpcyxfKX0sc3Vic2NyaWJlQXBwSGlkZUNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLGk9bnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuZGV2aWNlSW5mb0NhY2hlKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQuYnJhbmQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRvTG93ZXJDYXNlKCk7W1xcXCJvcHBvXFxcIixcXFwieGlhb21pXFxcIixcXFwicmVkbWlcXFwiXS5pbmNsdWRlcyhpKT8odGhpcy5zdWNjZWVkVGltZUlkJiZjbGVhclRpbWVvdXQodGhpcy5zdWNjZWVkVGltZUlkKSx0aGlzLnN1Y2NlZWRUaW1lSWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLm5vdGljZUZhaWxlZHx8ZS5oYW5kbGVEZWVwTGlua1N1Y2NlZWQoKX0pLDFlMykpOnRoaXMuaGFuZGxlRGVlcExpbmtTdWNjZWVkKCl9LHJlcG9ydEludmFsaWRJbXByZXNzaW9uRGE6ZnVuY3Rpb24oKXt2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxpPXRoaXN8fHt9LG49aS5hZE9wdGlvbixyPXZvaWQgMD09PW4/e306bixhPWkuYWRFeHRyYSxvPXZvaWQgMD09PWE/e306YSxkPWkuY3VycmVudEFkLHM9dm9pZCAwPT09ZD97fTpkLGw9by5wbGFjZW1lbnRJZCxjPW8udHJhZmZpY0dyb3VwSWQsdT1vLnNlZ21lbnRJZCxoPW8uYXNJZDtvLm53RmlybUlkLG8uZWNwbSxvLmJpZFRrO3ZhciBwPXtrZXk6XFxcIkFEWF9JTVBfSU5WQUxJRFxcXCIsdW5pdGlkOmwscmVxdWVzdGlkOnIuX3JlcXVlc3RfaWQsZ3JvdXBpZDp1LHRyYWZmaWNfZ3JvdXBfaWQ6Yyxhc2lkOmgsbXNnOnMuZHNwX2lkLG1zZzE6U3RyaW5nKHIuX3VuaXRfaWQpLG1zZzI6XFxcIlxcXCIrcy5vaWQsbXNnMzpcXFwiMlxcXCIsbXNnNDpudWxsIT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5tc2c0KSYmdm9pZCAwIT09dD90OlxcXCIyXFxcIixtc2c1OkpTT04uc3RyaW5naWZ5KGUpfTtWYS5jYWxsKHRoaXMscCl9fSxnZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkJBSURVLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KHRoaXMuaXNTaG93PSEwLHRoaXMubG9ja0FkQ2xpY2tlZD0hMSxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KX0sc2hvdzpmdW5jdGlvbigpe3RoaXMucmVhZHkmJih0aGlzLmRpc3BsYXllZD0hMCl9LGFkTG9hZDpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSEwLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRMb2FkXFxcIixwYXJhbXM6e2lzU2VsZlJlbmRlcmluZzohMX19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RfRklMTEVEXFxcIn19KSxjZC5jYWxsKHRoaXMpfSxhZFNob3c6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMSxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkU2hvd1xcXCJ9KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0lNUFJFU1NJT05cXFwifX0pfSxhZENsaWNrOmZ1bmN0aW9uKHQpe3RoaXMubG9ja0FkQ2xpY2tlZD0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkRG93bmxvYWRDbGljazpmdW5jdGlvbih0KXt0aGlzLmxvY2tBZENsaWNrZWR8fChzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSkpfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCJ9KX0sYWRFcnJvcjpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExO3ZhciBpPWUoZSh7fSx0LnN0b3A/dC5kZXRhaWw6dCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZXx8dC50eXBlfSk7ZGVsZXRlIGkuZXJyQ29kZSxkZWxldGUgaS5lcnJNc2csc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6aX0pLGNkLmNhbGwodGhpcyl9fSx5ZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkJBSURVLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXM7dHJ5e3RoaXMuYWQ9dGhpcy4kYXBwLiRkZWYudW5pb25fcXVpY2tfYXBwX3Nkay5jcmVhdGVSZXdhcmRlZFZpZGVvQWQoe2FwaWQ6dGhpcy5hZE9wdGlvbi5wbGFjZW1lbnRfaWQsYXBwaWQ6dGhpcy5hZE9wdGlvbi5hcHBfaWR9KSx0aGlzLmFkLm9uTG9hZCgoZnVuY3Rpb24odCl7ZS5hZExvYWQodCl9KSksdGhpcy5hZC5vbkNsb3NlKChmdW5jdGlvbih0KXtlLmFkQ2xvc2UodCl9KSksdGhpcy5hZC5vbkNsaWNrJiZ0aGlzLmFkLm9uQ2xpY2soKGZ1bmN0aW9uKHQpe2UuYWRDbGljayh0KX0pKSx0aGlzLmFkLm9uRXJyb3IoKGZ1bmN0aW9uKHQpe2UucmVhZHk9ITEsZS5hZEVycm9yKHQpfSkpfWNhdGNoKHQpe3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJjcmVhdGVSZXdhcmRlZFZpZGVvQWTlub/lkYrmnI3liqHplJnor69cXFwifSl9c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmxvY2tBZExvYWQ9ITEsbnVsbD09PSh0PXRoaXMuYWQpfHx2b2lkIDA9PT10fHx0LmxvYWQoKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMucmVhZHkmJih0aGlzLmFkLnNob3coKSx0aGlzLmFkU2hvdygpLHRoaXMucmVhZHk9ITEpfSxhZExvYWQ6ZnVuY3Rpb24odCl7dGhpcy5sb2NrQWRMb2FkfHwodGhpcy5yZWFkeT0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKSl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLmxvY2tBZExvYWQ9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPW51bGwhPT0oZT1udWxsPT10fHxudWxsPT09KGk9dC5kYXRhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5yZXdhcmQpJiZ2b2lkIDAhPT1lJiZlO3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCIscGFyYW1zOntyZXdhcmQ6bn19KSxuJiZzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkUmV3YXJkXFxcIixwYXJhbXM6dH0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxvY2tBZExvYWQpe3RoaXMucmVhZHk9ITE7dmFyIGk9ZShlKHt9LHQuc3RvcD90LmRldGFpbDp0KSx7fSx7bXNnOnQuZXJyTXNnfHx0Lm1zZyxjb2RlOnQuZXJyQ29kZXx8dC5jb2RlfHx0LnR5cGV9KTtkZWxldGUgaS5lcnJDb2RlLGRlbGV0ZSBpLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczppfSksY2QuY2FsbCh0aGlzKX19fSxJZD17YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkJBSURVLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt0aGlzLmlzU2hvdz0obmV3IERhdGUpLmdldFRpbWUoKSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RcXFwifX0pfSxhZExvYWQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKX0sYWRTaG93OmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITEsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9TSE9XXFxcIn19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0lNUFJFU1NJT05cXFwifX0pfSxhZENsaWNrOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbGlja1xcXCJ9KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0NMSUNLXFxcIn19KX0sYWRDbG9zZTpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwifSl9LGFkRXJyb3I6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMTt2YXIgaT1lKGUoe30sdC5zdG9wP3QuZGV0YWlsOnQpLHt9LHttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV8fHQudHlwZX0pO2RlbGV0ZSBpLmVyckNvZGUsZGVsZXRlIGkuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOml9KSxjZC5jYWxsKHRoaXMpfX0sYmQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5CQUlEVSx0aGlzLmFkT3B0aW9uLl91bml0X2lkKTt0P3RoaXMuYWRFcnJvcih7Y29kZTp0LG1zZzpcXFwi6K+l5bm/5ZGK5rqQ6KKr6L+H5rukXFxcIn0pOih0aGlzLmlzU2hvdz0hMCxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsdGhpcy5sb2NrQWRDbG9zZT0hMSx0aGlzLnNob3dDbGFzc05hbWU9XFxcInVuaW9uLWFkLXdyYXBlci0tc2hvd1xcXCIsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfU0hPV1xcXCJ9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5sb2NrQWRDbG9zZXx8c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsb3NlXFxcIn0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMubG9ja0FkQ2xvc2U9ITAsdGhpcy5yZWFkeT0hMTt2YXIgaT1lKGUoe30sdC5zdG9wP3QuZGV0YWlsOnQpLHt9LHttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV8fHQudHlwZX0pO2RlbGV0ZSBpLmVyckNvZGUsZGVsZXRlIGkuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOml9KSxjZC5jYWxsKHRoaXMpfX07ZnVuY3Rpb24ga2QoKXt2YXIgdD10aGlzfHx7fSxlPXQuYWRPcHRpb24saT12b2lkIDA9PT1lP3t9OmUsbj10LmFkRXh0cmEscj12b2lkIDA9PT1uP3t9Om4sYT1yLnBsYWNlbWVudElkLG89ci50cmFmZmljR3JvdXBJZCxkPXIuc2VnbWVudElkLHM9ci5hc0lkLGw9ci5ud0Zpcm1JZCxjPXIuZWNwbSx1PXtrZXk6XFxcIkJJRF9XSU5cXFwiLHVuaXRpZDphLHJlcXVlc3RpZDppLl9yZXF1ZXN0X2lkLGdyb3VwaWQ6ZCx0cmFmZmljX2dyb3VwX2lkOm8sYXNpZDpzLG1zZzpTdHJpbmcobCksbXNnMTpTdHJpbmcoaS5fdW5pdF9pZCksbXNnMjpcXFwiXFxcIixtc2czOlxcXCJcXFwiLG1zZzQ6XFxcIlxcXCIsbXNnNTpcXFwiXFxcIixtc2c2OlxcXCIyXFxcIixtc2c3OlxcXCJcXFwiLG1zZzg6XFxcIlxcXCIrYyxtc2c5OlxcXCJcXFwifTtWYS5jYWxsKHRoaXMsdSl9ZnVuY3Rpb24gd2QoKXt2YXIgdD10aGlzfHx7fSxlPXQuYWRPcHRpb24saT12b2lkIDA9PT1lP3t9OmUsbj10LmFkRXh0cmEscj1cXFwiXFxcIi5jb25jYXQoKHZvaWQgMD09PW4/e306bikucGxhY2VtZW50SWQsXFxcIi9cXFwiKS5jb25jYXQoaS5fdW5pdF9pZCk7Ti5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLHIse30pfWZ1bmN0aW9uIHhkKCl7dmFyIHQ7bnVsbCE9dGhpcyYmdGhpcy5hZE9wdGlvbiYmbnVsbCE9dGhpcyYmdGhpcy5hZEV4dHJhJiZcXFwiMVxcXCI9PT0obnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuYWRPcHRpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0Ll90eXBlKSYmKGtkLmNhbGwodGhpcyksd2QuY2FsbCh0aGlzKSl9dmFyIFNkPXthZFByb3h5RXZlbnQ6e29uSW5pdDpmdW5jdGlvbigpe3ZhciB0PVAodGhpcy5hZENvbmZpZy5maWx0ZXIsdHQuWUxILHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KHRoaXMubG9ja0FkQ2xpY2tlZD0hMSxsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtjZC5jYWxsKHRoaXMpfX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7dmFyIHQ9byhpKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixhLG8sZCxzLGwsYztyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVFxcXCJ9fSksZD1udWxsIT09KGU9bnVsbD09PShuPXRoaXMuJGFwcCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uJGRlZikmJnZvaWQgMCE9PWU/ZTp0aGlzLiRkZWYscz0obnVsbD09ZD92b2lkIDA6ZC50b3Bvbl9zZGspfHx7fSx2KG51bGw9PShsPXMuc3RvcmUpfHxudWxsPT09KHI9bC5kZXZpY2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluZm8pKXt0Lm5leHQ9NzticmVha310LnQwPW51bGw9PWx8fG51bGw9PT0oYT1sLmRldmljZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaW5mbyx0Lm5leHQ9MTM7YnJlYWs7Y2FzZSA3OnJldHVybiB0Lm5leHQ9OSxILmdldEluZm8oKTtjYXNlIDk6aWYodC50MT10LnNlbnQsdC50MSl7dC5uZXh0PTEyO2JyZWFrfXQudDE9e307Y2FzZSAxMjp0LnQwPXQudDE7Y2FzZSAxMzppZighKChudWxsPT0oYz10LnQwKT92b2lkIDA6Yy5wbGF0Zm9ybVZlcnNpb25Db2RlKTwxMTAwKSl7dC5uZXh0PTE3O2JyZWFrfXJldHVybiB0aGlzLmFkRXJyb3Ioe2NvZGU6OWUzLG1zZzpcXFwi5LiN5pSv5oyB6K+l5bmz5Y+w54mI5pysXFxcIn0pLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiKTtjYXNlIDE3OlxcXCIxXFxcIj09PShudWxsPT10aGlzfHxudWxsPT09KG89dGhpcy5hZE9wdGlvbil8fHZvaWQgMD09PW8/dm9pZCAwOm8uX3R5cGUpP3RoaXMuYmlkKCk6dGhpcy5sb2FkRmVlZEFkKCk7Y2FzZSAxODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksYmlkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8e30sZT10LmFkT3B0aW9uLGk9dm9pZCAwPT09ZT97fTplLG49dC5hZEV4dHJhLHI9XFxcIlxcXCIuY29uY2F0KCh2b2lkIDA9PT1uP3t9Om4pLnBsYWNlbWVudElkLFxcXCIvXFxcIikuY29uY2F0KGkuX3VuaXRfaWQpLGE9ai5jYWxsKHRoaXMsXFxcInVuaXRcXFwiLHIpfHx7fSxvPXthZExpc3Q6YS5vZmZlcj9bYS5vZmZlcl06W119O3RoaXMuYWRMb2FkKG8pfSxsb2FkRmVlZEFkOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLGk9dGhpcy5hZE9wdGlvbixuPWkuX253X3JlcV9udW0scj1pLnVuaXRfaWQsYT1pLmFsbG93X3JlY29tbWVuZCxvPW51bGw9PT0odD10aGlzLiRhcHApfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC4kZGVmKXx8dm9pZCAwPT09dD92b2lkIDA6dC55bGhfc2RrO3Yobyk/dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcIuaJvuS4jeWIsOS8mOmHj+axh1NES1xcXCJ9KTpvLm9uWWxoUmVhZHkoKGZ1bmN0aW9uKCl7dmFyIHQ9e2NvdW50Om4mJm48PTEwP246MSxwbGFjZW1lbnRJZDpyLHJlY29tbWVuZGF0aW9uOlxcXCIxXFxcIj09PWE/MjoxfTtvLmxvYWRGZWVkQWQodCkudGhlbigoZnVuY3Rpb24odCl7dmFyIGk9e2FkTGlzdDp0fHxbXX07dC5jb2RlJiZ0LmNvZGU+MD9lLmFkRXJyb3Ioe2NvZGU6YXRbdC5jb2RlXXx8MmUzLG1zZzpcXFwiXFxcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC5tZXNzYWdlLFxcXCIgcmVhbCBjb2RlIFtcXFwiKS5jb25jYXQodC5jb2RlLFxcXCJdXFxcIil9KTplLmFkTG9hZChpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZS5hZEVycm9yKHtjb2RlOjJlMyxtc2c6KG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSl8fFxcXCJcXFwifSl9KSl9KSl9LGdldEFkOmZ1bmN0aW9uKCl7aWYoIXRoaXMucmVhZHkpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5hZExpc3RbdGhpcy5hZExpc3RJbmRleEluVXNlXXx8e307cmV0dXJuIHRoaXMuYWRMaXN0SW5kZXhJblVzZSsrLHR8fCh0aGlzLnJlYWR5PSExKSx4ZC5jYWxsKHRoaXMpLHR9LGFkTG9hZDpmdW5jdGlvbih0KXt2YXIgZSxpO3RoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQuYWRMaXN0KSYmdm9pZCAwIT09ZT9lOltdLFxcXCIxXFxcIiE9PShudWxsPT10aGlzfHxudWxsPT09KGk9dGhpcy5hZE9wdGlvbil8fHZvaWQgMD09PWk/dm9pZCAwOmkuX3R5cGUpJiYodGhpcy5hZExpc3Q9dGhpcy5zb3J0QnlQcmljZSh0aGlzLmFkTGlzdCkpLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRMb2FkXFxcIixwYXJhbXM6e2lzU2VsZlJlbmRlcmluZzohMH19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RfRklMTEVEXFxcIn19KSxjZC5jYWxsKHRoaXMpfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGk9ZShlKHt9LHQuc3RvcD90LmRldGFpbDp0KSx7fSx7bXNnOnQuZXJyTXNnfHx0Lm1zZyxjb2RlOnQuZXJyQ29kZXx8dC5jb2RlfHx0LnR5cGV9KTtkZWxldGUgaS5lcnJDb2RlLGRlbGV0ZSBpLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczppfSksY2QuY2FsbCh0aGlzKX0scmVwb3J0U2hvdzpmdW5jdGlvbigpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfU0hPV1xcXCJ9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0scmVwb3J0Q2xpY2s6ZnVuY3Rpb24oKXtzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX0NMSUNLXFxcIn19KX0sc29ydEJ5UHJpY2U6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnQubGVuZ3RoKTw9MXx8dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLmdldEVDUE0oKS10LmdldEVDUE0oKX0pKSx0fX0sVGQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5ZTEgsdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToodGhpcy5sb2NrQWRDbGlja2VkPSExLGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSxkPW51bGwhPT0oZT1udWxsPT09KG49dGhpcy4kYXBwKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kZGVmKSYmdm9pZCAwIT09ZT9lOnRoaXMuJGRlZixzPShudWxsPT1kP3ZvaWQgMDpkLnRvcG9uX3Nkayl8fHt9LHYobnVsbD09KGw9cy5zdG9yZSl8fG51bGw9PT0ocj1sLmRldmljZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaW5mbykpe3QubmV4dD03O2JyZWFrfXQudDA9bnVsbD09bHx8bnVsbD09PShhPWwuZGV2aWNlKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pbmZvLHQubmV4dD0xMzticmVhaztjYXNlIDc6cmV0dXJuIHQubmV4dD05LEguZ2V0SW5mbygpO2Nhc2UgOTppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTI7YnJlYWt9dC50MT17fTtjYXNlIDEyOnQudDA9dC50MTtjYXNlIDEzOmlmKCEoKG51bGw9PShjPXQudDApP3ZvaWQgMDpjLnBsYXRmb3JtVmVyc2lvbkNvZGUpPDExMDApKXt0Lm5leHQ9MTc7YnJlYWt9cmV0dXJuIHRoaXMuYWRFcnJvcih7Y29kZTo5ZTMsbXNnOlxcXCLkuI3mlK/mjIHor6XlubPlj7DniYjmnKxcXFwifSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTc6XFxcIjFcXFwiPT09KG51bGw9PXRoaXN8fG51bGw9PT0obz10aGlzLmFkT3B0aW9uKXx8dm9pZCAwPT09bz92b2lkIDA6by5fdHlwZSk/dGhpcy5iaWQoKTp0aGlzLmNyZWF0ZVJld2FyZFZpZGVvQWQoKTtjYXNlIDE4OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxiaWQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcyxuPXRoaXN8fHt9LHI9bi5hZE9wdGlvbixhPXZvaWQgMD09PXI/e306cixvPW4uYWRFeHRyYSxkPVxcXCJcXFwiLmNvbmNhdCgodm9pZCAwPT09bz97fTpvKS5wbGFjZW1lbnRJZCxcXFwiL1xcXCIpLmNvbmNhdChhLl91bml0X2lkKSxzPWouY2FsbCh0aGlzLFxcXCJ1bml0XFxcIixkKXx8e30sbD1udWxsIT09KHQ9bnVsbD09cz92b2lkIDA6cy5hZCkmJnZvaWQgMCE9PXQ/dDpudWxsLGM9bnVsbCE9PShlPW51bGw9PXM/dm9pZCAwOnMub2ZmZXIpJiZ2b2lkIDAhPT1lP2U6e307bCYmKHRoaXMuYWRMb2FkKGMpLHRoaXMuYmlkT2ZmZXI9Yyx0aGlzLmFkPWwsdGhpcy5hZC5vbkV4cG9zZSgoZnVuY3Rpb24odCl7aS5hZFNob3coKX0pKSx0aGlzLmFkLm9uQ2xpY2soKGZ1bmN0aW9uKCl7aS5hZENsaWNrKCl9KSksdGhpcy5hZC5vblZpZGVvRmluaXNoKChmdW5jdGlvbigpe2kuYWRWaWRlb0ZpbmlzaCgpfSkpLHRoaXMuYWQub25SZXdhcmQoKGZ1bmN0aW9uKCl7aS5hZFJld2FyZCgpfSkpLHRoaXMuYWQub25DbG9zZSgoZnVuY3Rpb24odCl7aS5hZENsb3NlKHQpfSkpLHRoaXMuYWQub25FcnJvcigoZnVuY3Rpb24odCl7aS5hZEVycm9yKHQpfSkpKX0sY3JlYXRlUmV3YXJkVmlkZW9BZDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPXRoaXMuYWRPcHRpb24sbj1pLnVuaXRfaWQscj1pLnZpZGVvX211dGVkO2lmKHYobnVsbD09PSh0PXRoaXMuJGFwcCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnlsaF9zZGspKXRoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCLmib7kuI3liLDkvJjph4/msYdTREtcXFwifSk7ZWxzZSB0cnl7dmFyIGE9e3BsYWNlbWVudElkOm4sbXV0ZWQ6XFxcIjFcXFwiPT09cn07dGhpcy5hZD10aGlzLiRhcHAuJGRlZi55bGhfc2RrLmNyZWF0ZVJld2FyZFZpZGVvQWQoYSksdGhpcy5hZC5vbkxvYWQoKGZ1bmN0aW9uKCl7ZS5hZExvYWQoKX0pKSx0aGlzLmFkLm9uRXhwb3NlKChmdW5jdGlvbih0KXtlLmFkU2hvdygpfSkpLHRoaXMuYWQub25DbGljaygoZnVuY3Rpb24oKXtlLmFkQ2xpY2soKX0pKSx0aGlzLmFkLm9uUmV3YXJkKChmdW5jdGlvbigpe2UuYWRSZXdhcmQoKX0pKSx0aGlzLmFkLm9uVmlkZW9GaW5pc2goKGZ1bmN0aW9uKCl7ZS5hZFZpZGVvRmluaXNoKCl9KSksdGhpcy5hZC5vbkNsb3NlKChmdW5jdGlvbigpe2UuYWRDbG9zZSgpfSkpLHRoaXMuYWQub25FcnJvcigoZnVuY3Rpb24odCl7ZS5hZEVycm9yKHtjb2RlOmF0W3QuY29kZV18fDJlMyxtc2c6XFxcIlxcXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSxcXFwiIHJlYWwgY29kZSBbXFxcIikuY29uY2F0KHQuY29kZSxcXFwiXVxcXCIpfSl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6dHx8XFxcIlxcXCJ9KX19LHNob3c6ZnVuY3Rpb24oKXt0aGlzLnJlYWR5JiYoeGQuY2FsbCh0aGlzKSx0aGlzLmFkLnNob3coKSx0aGlzLnJlYWR5PSExKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsaWNrXFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwifX0pfSxhZFZpZGVvRmluaXNoOmZ1bmN0aW9uKHQpe3RoaXMuaXNWaWRlb0VuZGVkPSEwfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCJ9KX0sYWRSZXdhcmQ6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFJld2FyZFxcXCIscGFyYW1zOntyZXdhcmQ6ITB9fSl9LGFkRXJyb3I6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMTt2YXIgaT1lKGUoe30sdC5zdG9wP3QuZGV0YWlsOnQpLHt9LHttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV8fHQudHlwZX0pO2RlbGV0ZSBpLmVyckNvZGUsZGVsZXRlIGkuZXJyTXNnLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOml9KSxjZC5jYWxsKHRoaXMpfX0sQWQ9e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5ZTEgsdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToodGhpcy5sb2NrQWRDbGlja2VkPSExLGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSxkPW51bGwhPT0oZT1udWxsPT09KG49dGhpcy4kYXBwKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kZGVmKSYmdm9pZCAwIT09ZT9lOnRoaXMuJGRlZixzPShudWxsPT1kP3ZvaWQgMDpkLnRvcG9uX3Nkayl8fHt9LHYobnVsbD09KGw9cy5zdG9yZSl8fG51bGw9PT0ocj1sLmRldmljZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaW5mbykpe3QubmV4dD03O2JyZWFrfXQudDA9bnVsbD09bHx8bnVsbD09PShhPWwuZGV2aWNlKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pbmZvLHQubmV4dD0xMzticmVhaztjYXNlIDc6cmV0dXJuIHQubmV4dD05LEguZ2V0SW5mbygpO2Nhc2UgOTppZih0LnQxPXQuc2VudCx0LnQxKXt0Lm5leHQ9MTI7YnJlYWt9dC50MT17fTtjYXNlIDEyOnQudDA9dC50MTtjYXNlIDEzOmlmKCEoKG51bGw9PShjPXQudDApP3ZvaWQgMDpjLnBsYXRmb3JtVmVyc2lvbkNvZGUpPDExMDApKXt0Lm5leHQ9MTc7YnJlYWt9cmV0dXJuIHRoaXMuYWRFcnJvcih7Y29kZTo5ZTMsbXNnOlxcXCLkuI3mlK/mjIHor6XlubPlj7DniYjmnKxcXFwifSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTc6XFxcIjFcXFwiPT09KG51bGw9PXRoaXN8fG51bGw9PT0obz10aGlzLmFkT3B0aW9uKXx8dm9pZCAwPT09bz92b2lkIDA6by5fdHlwZSk/dGhpcy5iaWQoKTp0aGlzLmNyZWF0ZVNwbGFzaEFkKCk7Y2FzZSAxODpjYXNlXFxcImVuZFxcXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksYmlkOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMsbj10aGlzfHx7fSxyPW4uYWRPcHRpb24sYT12b2lkIDA9PT1yP3t9OnIsbz1uLmFkRXh0cmEsZD1cXFwiXFxcIi5jb25jYXQoKHZvaWQgMD09PW8/e306bykucGxhY2VtZW50SWQsXFxcIi9cXFwiKS5jb25jYXQoYS5fdW5pdF9pZCkscz1qLmNhbGwodGhpcyxcXFwidW5pdFxcXCIsZCl8fHt9LGw9bnVsbCE9PSh0PW51bGw9PXM/dm9pZCAwOnMuYWQpJiZ2b2lkIDAhPT10P3Q6bnVsbCxjPW51bGwhPT0oZT1udWxsPT1zP3ZvaWQgMDpzLm9mZmVyKSYmdm9pZCAwIT09ZT9lOnt9O2wmJih0aGlzLmFkTG9hZChjKSx0aGlzLmJpZE9mZmVyPWMsdGhpcy5hZD1sLHRoaXMuYWQub25FeHBvc2UoKGZ1bmN0aW9uKHQpe2kuYWRTaG93KCl9KSksdGhpcy5hZC5vbkNsaWNrKChmdW5jdGlvbigpe2kuYWRDbGljaygpfSkpLHRoaXMuYWQub25DbG9zZSgoZnVuY3Rpb24odCl7aS5hZENsb3NlKHQpfSkpLHRoaXMuYWQub25FcnJvcigoZnVuY3Rpb24odCl7aS5hZEVycm9yKHQpfSkpKX0sY3JlYXRlU3BsYXNoQWQ6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsaT10aGlzLmFkT3B0aW9uLnVuaXRfaWQsbj10aGlzLmFkQ29uZmlnLmVudHJ5LHI9dm9pZCAwPT09bj9cXFwiXFxcIjpuO3YobnVsbD09PSh0PXRoaXMuJGFwcCl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LiRkZWYpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnlsaF9zZGspP3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCLmib7kuI3liLDkvJjph4/msYdTREtcXFwifSk6dGhpcy4kYXBwLiRkZWYueWxoX3Nkay5vbllsaFJlYWR5KChmdW5jdGlvbigpe3RyeXtlLmFkPWUuJGFwcC4kZGVmLnlsaF9zZGsuY3JlYXRlU3BsYXNoQWQoe3BsYWNlbWVudElkOmksZW50cnk6cn0pLGUuYWQub25Mb2FkKChmdW5jdGlvbigpe2UuYWRMb2FkKCl9KSksZS5hZC5vbkV4cG9zZSgoZnVuY3Rpb24odCl7ZS5hZFNob3coKX0pKSxlLmFkLm9uQ2xpY2soKGZ1bmN0aW9uKCl7ZS5hZENsaWNrKCl9KSksZS5hZC5vbkNsb3NlKChmdW5jdGlvbigpe2UuYWRDbG9zZSgpfSkpLGUuYWQub25FcnJvcigoZnVuY3Rpb24odCl7ZS5hZEVycm9yKHtjb2RlOmF0W3QuY29kZV18fDJlMyxtc2c6XFxcIlxcXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSxcXFwiIHJlYWwgY29kZSBbXFxcIikuY29uY2F0KHQuY29kZSxcXFwiXVxcXCIpfSl9KSksZS5hZC5sb2FkKCl9Y2F0Y2godCl7ZS5hZEVycm9yKHtjb2RlOjJlMyxtc2c6dHx8XFxcIlxcXCJ9KX19KSl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLnJlYWR5JiYoeGQuY2FsbCh0aGlzKSx0aGlzLmFkLnNob3coKSx0aGlzLnJlYWR5PSExKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsaWNrXFxcIn0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwifX0pfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCJ9KX0sYWRFcnJvcjpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExO3ZhciBpPWUoZSh7fSx0LnN0b3A/dC5kZXRhaWw6dCkse30se21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZXx8dC50eXBlfSk7ZGVsZXRlIGkuZXJyQ29kZSxkZWxldGUgaS5lcnJNc2csc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6aX0pLGNkLmNhbGwodGhpcyl9fSxFZD17bWFpbjp7ZW50cnk6dGR9LHdlYjp7ZW50cnk6aWR9LHZpZXdzOntyZXdhcmRlOmFkfSw2Njp7bmF0aXZlOnZkLHJld2FyZGVkVmlkZW86X2R9LDU2OntuYXRpdmU6Z2QscmV3YXJkZWRWaWRlbzp5ZCxpbnRlcnN0aXRpYWw6SWQsc3BsYXNoOmJkfSw2NDp7bmF0aXZlOlNkLHJld2FyZGVkVmlkZW86VGQsc3BsYXNoOkFkfSw2MDp7bmF0aXZlOnthZFByb3h5RXZlbnQ6e29uSW5pdDpmdW5jdGlvbigpe3ZhciB0PVAodGhpcy5hZENvbmZpZy5maWx0ZXIsdHQuSFVBV0VJLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcyxuPVMoKS5hZDt0aGlzLnByb3ZpZGVyPW4uZ2V0UHJvdmlkZXIoKSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RcXFwifX0pO3RyeXt2YXIgcj17YWRVbml0SWQ6dGhpcy5hZE9wdGlvbi5hZF9pZH0sYT10aGlzLmFkRXh0cmEuY2hhbm5lbElkO2EmJihyLmNoYW5uZWw9YSksdGhpcy5hZD1uLmNyZWF0ZU5hdGl2ZUFkKHIpLHRoaXMuYWQub25Mb2FkKChmdW5jdGlvbih0KXtpLmFkTG9hZCh0KX0pKSx0aGlzLmFkLm9uRXJyb3IoKGZ1bmN0aW9uKHQpe2kuYWRFcnJvcih0KX0pKSx0aGlzLmFkLmxvYWQoKX1jYXRjaCh0KXt0aGlzLmFkRXJyb3Ioe2NvZGU6MmUzLG1zZzpcXFwiY3JlYXRlTmF0aXZlQWTlub/lkYrmnI3liqHplJnor69cXFwifSl9aWYoIShEYXRlLm5vdygpPm5ldyBEYXRlKFxcXCIyMDIzLzA1LzAxXFxcIikuZ2V0VGltZSgpKSl7dmFyIG89dGhpcy5hZEV4dHJhLGQ9by5wbGFjZW1lbnRJZCxzPW8udHJhZmZpY0dyb3VwSWQsbD1vLnNlZ21lbnRJZCxjPW8uYXNJZCx1PW8ubndGaXJtSWQsaD10aGlzLiRhcHAuJGRlZi50b3Bvbl9zZGsuc3RvcmUscD12b2lkIDA9PT1oP3t9OmgsZj17a2V5OlxcXCJBRF9QUk9WSURFUlxcXCIsdW5pdGlkOmQscmVxdWVzdGlkOnRoaXMuYWRPcHRpb24uX3JlcXVlc3RfaWQsZ3JvdXBpZDpsLHRyYWZmaWNfZ3JvdXBfaWQ6cyxhc2lkOmMsbXNnOlN0cmluZyh1KSxtc2cxOlN0cmluZyh0aGlzLmFkT3B0aW9uLl91bml0X2lkKSxtc2cyOnRoaXMucHJvdmlkZXIsbXNnMzpudWxsPT1wfHxudWxsPT09KHQ9cC5kZXZpY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmluZm8uYnJhbmQsbXNnNDpcXFwiXFxcIisobnVsbD09cHx8bnVsbD09PShlPXAuZGV2aWNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbmZvLm1vZGVsKX07VmEuY2FsbCh0aGlzLGYpfX0sZ2V0QWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5yZWFkeSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLmFkTGlzdEluZGV4SW5Vc2UsZT10aGlzLmFkTGlzdFt0aGlzLmFkTGlzdEluZGV4SW5Vc2VdfHx7fTtyZXR1cm4gdGhpcy5hZExpc3RJbmRleEluVXNlKyssdGhpcy5jdXJyZW50SW5kZXhVc2U9dCxlfHwodGhpcy5yZWFkeT0hMSksZX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9dC5hZExpc3Qsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiEwfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwiLGFkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXXx8e319fSksY2QuY2FsbCh0aGlzKX0sYWRTaG93OmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIn0pfSxhZENsaWNrOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbGlja1xcXCJ9KX0sYWRDbG9zZTpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xvc2VcXFwifSl9LGFkRXJyb3I6ZnVuY3Rpb24odCl7dGhpcy5yZWFkeT0hMTt2YXIgZT17bXNnOnQuZXJyTXNnfHx0Lm1zZyxjb2RlOnQuZXJyQ29kZXx8dC5jb2RlfTtkZWxldGUgZS5lcnJDb2RlLGRlbGV0ZSBlLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczplfSksY2QuY2FsbCh0aGlzKX0scmVwb3J0U2hvdzpmdW5jdGlvbigpe3ZhciB0O251bGwhPT0odD10aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0pJiZ2b2lkIDAhPT10JiZ0LmFkSWQmJihzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1NIT1dcXFwiLGFkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXXx8e319fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIixhZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV18fHt9fX0pLHRoaXMuYWQucmVwb3J0QWRTaG93KHthZElkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXS5hZElkfSkpfSxyZXBvcnRDbGljazpmdW5jdGlvbih0KXt2YXIgZTtudWxsIT09KGU9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09ZSYmZS5hZElkJiYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCIsYWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdfHx7fX19KSxudWxsIT10JiZ0LnJlcG9ydFRvUHJvdmlkZXImJnRoaXMuYWQucmVwb3J0QWRDbGljayh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pKX0sZ2V0RG93bmxvYWRTdGF0dXM6ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLmFkJiZ0aGlzLnJlYWR5JiZudWxsIT09KHQ9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09dCYmdC5hZElkKXJldHVybiB0aGlzLmFkLmdldEFwcFN0YXR1cyh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pfSxnZXREb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5hZCYmdGhpcy5yZWFkeSYmbnVsbCE9PSh0PXRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXSkmJnZvaWQgMCE9PXQmJnQuYWRJZClyZXR1cm4gdGhpcy5hZC5nZXREb3dubG9hZFByb2dyZXNzKHthZElkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXS5hZElkfSl9LHN1YnNjcmliZURvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKHQpe3RoaXMuYWQub25TdGF0dXNDaGFuZ2VkKHQpfSx1bnN1YnNjcmliZURvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKCl7dGhpcy5hZCYmdGhpcy5yZWFkeSYmdGhpcy5hZC5vZmZTdGF0dXNDaGFuZ2VkKCl9LHN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3M6ZnVuY3Rpb24odCl7dGhpcy5hZC5vbkRvd25sb2FkUHJvZ3Jlc3ModCl9LHVuc3Vic2NyaWJlRG93bmxvYWRQcm9ncmVzczpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMucmVhZHkmJnRoaXMuYWQub2ZmRG93bmxvYWRQcm9ncmVzcygpfSxzaG93QXBwRGV0YWlsUGFnZTpmdW5jdGlvbigpe3ZhciB0O3RoaXMuYWQmJnRoaXMucmVhZHkmJm51bGwhPT0odD10aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0pJiZ2b2lkIDAhPT10JiZ0LmFkSWQmJnRoaXMuYWQuc2hvd0FwcERldGFpbFBhZ2Uoe2FkSWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdLmFkSWR9KX0sZ2V0SW5zdGFuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZHx8bnVsbH19LHJld2FyZGVkVmlkZW86e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5IVUFXRUksdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToobGQuY2FsbCh0aGlzKSx0aGlzLmhhbmRsZUFkSW5pdCgpKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7Y2QuY2FsbCh0aGlzKX19LGhhbmRsZUFkSW5pdDpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLG49UygpLmFkO3RoaXMucHJvdmlkZXI9bi5nZXRQcm92aWRlcigpLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVFxcXCJ9fSksdGhpcy5sb2NrQWRMb2FkPSExLHRoaXMuc2hvd0NhbGxlZD0hMTt0cnl7dmFyIHI9e2FkVW5pdElkOnRoaXMuYWRPcHRpb24uYWRfaWR9O3RoaXMuYWQ9bi5jcmVhdGVSZXdhcmRlZFZpZGVvQWQociksdGhpcy5hZC5vbkxvYWQoKGZ1bmN0aW9uKHQpe2kuYWRMb2FkKCl9KSksdGhpcy5hZC5vbkNsb3NlKChmdW5jdGlvbih0KXtpLmFkQ2xvc2UodCl9KSksdGhpcy5hZC5vbkVycm9yKChmdW5jdGlvbih0KXtpLmFkRXJyb3IodCl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZVJld2FyZGVkVmlkZW9BZOW5v+WRiuacjeWKoemUmeivr1xcXCJ9KX1pZighKERhdGUubm93KCk+bmV3IERhdGUoXFxcIjIwMjMvMDUvMDFcXFwiKS5nZXRUaW1lKCkpKXt2YXIgYT10aGlzLmFkRXh0cmEsbz1hLnBsYWNlbWVudElkLGQ9YS50cmFmZmljR3JvdXBJZCxzPWEuc2VnbWVudElkLGw9YS5hc0lkLGM9YS5ud0Zpcm1JZCx1PXRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5zdG9yZSxoPXZvaWQgMD09PXU/e306dSxwPXtrZXk6XFxcIkFEX1BST1ZJREVSXFxcIix1bml0aWQ6byxyZXF1ZXN0aWQ6dGhpcy5hZE9wdGlvbi5fcmVxdWVzdF9pZCxncm91cGlkOnMsdHJhZmZpY19ncm91cF9pZDpkLGFzaWQ6bCxtc2c6U3RyaW5nKGMpLG1zZzE6U3RyaW5nKHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpLG1zZzI6dGhpcy5wcm92aWRlcixtc2czOm51bGw9PWh8fG51bGw9PT0odD1oLmRldmljZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaW5mby5icmFuZCxtc2c0OlxcXCJcXFwiKyhudWxsPT1ofHxudWxsPT09KGU9aC5kZXZpY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluZm8ubW9kZWwpfTtWYS5jYWxsKHRoaXMscCl9fSxzaG93OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnJlYWR5JiYodGhpcy5zaG93Q2FsbGVkPSEwLHRoaXMuYWQuc2hvdygpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuYWRTaG93KGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgaSxuLHI9e2NvZGU6MTEwMSxtc2c6bnVsbCE9PShpPW51bGwhPT0obj1udWxsPT1lP3ZvaWQgMDplLm1zZykmJnZvaWQgMCE9PW4/bjpudWxsPT1lP3ZvaWQgMDplLmRhdGEpJiZ2b2lkIDAhPT1pP2k6XFxcIuWxleekuuWksei0pVxcXCJ9O3NkLmNhbGwodCx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOnJ9KX0pKSx0aGlzLnJlYWR5PSExKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMubG9ja0FkTG9hZHx8KHRoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcykpfSxhZFNob3c6ZnVuY3Rpb24odCl7dGhpcy5sb2NrQWRMb2FkPSEwLHRoaXMucmVhZHk9ITEsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5pc0VuZGVkO3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCIscGFyYW1zOntyZXdhcmQ6ZX19KSxlJiZzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkUmV3YXJkXFxcIixwYXJhbXM6dH0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGU9dC5lcnJNc2d8fHQubXNnLGk9dC5lcnJDb2RlfHx0LmNvZGUsbj17bXNnOmUsY29kZTppfTt0aGlzLnNob3dDYWxsZWQmJihuLmNvZGU9MTEwMSxuLm1zZz1cXFwi5bGV56S65aSx6LSlIHJlYWwgY29kZTogW1xcXCIuY29uY2F0KGksXFxcIl0gcmVhbCBtc2c6IFtcXFwiKS5jb25jYXQoZSxcXFwiXVxcXCIpKSxkZWxldGUgbi5lcnJDb2RlLGRlbGV0ZSBuLmVyck1zZyxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczpufSksY2QuY2FsbCh0aGlzKX0sZ2V0SW5zdGFuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZHx8bnVsbH19LGJhbm5lcjp7YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkhVQVdFSSx0aGlzLmFkT3B0aW9uLl91bml0X2lkKTt0P3RoaXMuYWRFcnJvcih7Y29kZTp0LG1zZzpcXFwi6K+l5bm/5ZGK5rqQ6KKr6L+H5rukXFxcIn0pOihsZC5jYWxsKHRoaXMpLHRoaXMuaGFuZGxlQWRJbml0KCkpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdDtjZC5jYWxsKHRoaXMpLHRoaXMucmVtb3ZlQWRFdmVudExpc3RlbmVyKCksbnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuYWQpfHx2b2lkIDA9PT10fHx0LmRlc3Ryb3koKX19LHJlbW92ZUFkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciB0LGUsaSxuLHIsYSxvLGQ7bnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuYWQpfHx2b2lkIDA9PT10fHxudWxsPT09KGU9dC5vZmZMb2FkKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQpLG51bGw9PXRoaXN8fG51bGw9PT0oaT10aGlzLmFkKXx8dm9pZCAwPT09aXx8bnVsbD09PShuPWkub2ZmQ2xvc2UpfHx2b2lkIDA9PT1ufHxuLmNhbGwoaSksbnVsbD09dGhpc3x8bnVsbD09PShyPXRoaXMuYWQpfHx2b2lkIDA9PT1yfHxudWxsPT09KGE9ci5vZmZFcnJvcil8fHZvaWQgMD09PWF8fGEuY2FsbChyKSxudWxsPT10aGlzfHxudWxsPT09KG89dGhpcy5hZCl8fHZvaWQgMD09PW98fG51bGw9PT0oZD1vLm9mZlJlc2l6ZSl8fHZvaWQgMD09PWR8fGQuY2FsbChvKX0saGFuZGxlQWRJbml0OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMsbj1TKCkuYWQ7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KSx0aGlzLmxvY2tBZExvYWQ9ITEsdGhpcy5yZWFkeT0hMTt0cnl7dmFyIHIsYT17YWRVbml0SWQ6dGhpcy5hZE9wdGlvbi5hZF9pZCxzdHlsZTp7d2lkdGg6LTEsaGVpZ2h0Oi0yLGxlZnQ6MCx0b3A6MH19O3Q9YS5zdHlsZSwoZT1udWxsPT09KHI9dGhpcy5hZENvbmZpZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3R5bGUpJiYhdihlKSYmZihlKSYmT2JqZWN0LmFzc2lnbih0LGUpLHRoaXMuYWQ9bi5jcmVhdGVCYW5uZXJBZChhKSx0aGlzLmFkLm9uTG9hZCgoZnVuY3Rpb24odCl7aS5hZExvYWQoKX0pKSx0aGlzLmFkLm9uQ2xvc2UoKGZ1bmN0aW9uKHQpe3ZhciBlO2kuYWRDbG9zZSh0KSxpLnJlbW92ZUFkRXZlbnRMaXN0ZW5lcigpLG51bGw9PT0oZT1pLmFkKXx8dm9pZCAwPT09ZXx8ZS5kZXN0cm95KCl9KSksdGhpcy5hZC5vbkVycm9yKChmdW5jdGlvbih0KXtjb25zb2xlLmVycm9yKFxcXCJvbkVycm9yXFxcIix0KSxpLmFkRXJyb3IodCl9KSl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZUJhbm5lckFk5bm/5ZGK5pyN5Yqh5aSx6LSlXFxcIn0pfXRoaXMuX3Nob3coKX0sX3Nob3c6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYWQmJihzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1NIT1dcXFwifX0pLHRoaXMuYWQuc2hvdygpLnRoZW4oKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKGUpe3ZhciBpLG4scj17Y29kZToxMTAxLG1zZzpudWxsIT09KGk9bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUubXNnKSYmdm9pZCAwIT09bj9uOm51bGw9PWU/dm9pZCAwOmUuZGF0YSkmJnZvaWQgMCE9PWk/aTpcXFwi5bGV56S65aSx6LSlOiBcXFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSl9O3NkLmNhbGwodCx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOnJ9KX0pKSl9LGFkTG9hZDpmdW5jdGlvbih0KXt0aGlzLmxvY2tBZExvYWR8fCh0aGlzLnJlYWR5PSEwLHRoaXMubG9ja0FkTG9hZD0hMCxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkTG9hZFxcXCIscGFyYW1zOntpc1NlbGZSZW5kZXJpbmc6ITF9fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUX0ZJTExFRFxcXCJ9fSksY2QuY2FsbCh0aGlzKSxCLmNhbGwodGhpcyx0aGlzLmFkU2hvdykpfSxhZFNob3c6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZFNob3dcXFwiLHBhcmFtczp0fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9JTVBSRVNTSU9OXFxcIn19KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwiLHBhcmFtczp0fSksc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9DTElDS1xcXCJ9fSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsb3NlXFxcIixwYXJhbXM6dH0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGU9e21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX07ZGVsZXRlIGUuZXJyQ29kZSxkZWxldGUgZS5lcnJNc2csZGVsZXRlIGUuc3ViRXJyQ29kZSxzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkRXJyb3JcXFwiLHBhcmFtczplfSksY2QuY2FsbCh0aGlzKX0saGlkZTpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMuYWQuaGlkZSYmdGhpcy5hZC5oaWRlKCl9fSxpbnRlcnN0aXRpYWw6e2FkUHJveHlFdmVudDp7b25Jbml0OmZ1bmN0aW9uKCl7dmFyIHQ9UCh0aGlzLmFkQ29uZmlnLmZpbHRlcix0dC5IVUFXRUksdGhpcy5hZE9wdGlvbi5fdW5pdF9pZCk7dD90aGlzLmFkRXJyb3Ioe2NvZGU6dCxtc2c6XFxcIuivpeW5v+WRiua6kOiiq+i/h+a7pFxcXCJ9KToobGQuY2FsbCh0aGlzKSx0aGlzLmhhbmRsZUFkSW5pdCgpKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ7Y2QuY2FsbCh0aGlzKSx0aGlzLnJlbW92ZUFkRXZlbnRMaXN0ZW5lcigpLG51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLmFkKXx8dm9pZCAwPT09dHx8dC5kZXN0cm95KCl9fSxyZW1vdmVBZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbixyLGEsbyxkLHMsbDtudWxsPT10aGlzfHxudWxsPT09KHQ9dGhpcy5hZCl8fHZvaWQgMD09PXR8fG51bGw9PT0oZT10Lm9mZkxvYWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodCksbnVsbD09dGhpc3x8bnVsbD09PShpPXRoaXMuYWQpfHx2b2lkIDA9PT1pfHxudWxsPT09KG49aS5vZmZDbG9zZSl8fHZvaWQgMD09PW58fG4uY2FsbChpKSxudWxsPT10aGlzfHxudWxsPT09KHI9dGhpcy5hZCl8fHZvaWQgMD09PXJ8fG51bGw9PT0oYT1yLm9mZkVycm9yKXx8dm9pZCAwPT09YXx8YS5jYWxsKHIpLG51bGw9PXRoaXN8fG51bGw9PT0obz10aGlzLmFkKXx8dm9pZCAwPT09b3x8bnVsbD09PShkPW8ub2ZmUmVzaXplKXx8dm9pZCAwPT09ZHx8ZC5jYWxsKG8pLG51bGw9PXRoaXN8fG51bGw9PT0ocz10aGlzLmFkKXx8dm9pZCAwPT09c3x8bnVsbD09PShsPXMub2ZmQ2xpY2spfHx2b2lkIDA9PT1sfHxsLmNhbGwocyl9LGhhbmRsZUFkSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1TKCkuYWQ7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KTt0cnl7dmFyIGksbj17YWRVbml0SWQ6dGhpcy5hZE9wdGlvbi5hZF9pZH07dGhpcy5hZD1lLmNyZWF0ZUludGVyc3RpdGlhbEFkKG4pLHRoaXMuYWQub25Mb2FkKChmdW5jdGlvbihlKXt0LmFkTG9hZCgpfSkpLHRoaXMuYWQub25DbG9zZSgoZnVuY3Rpb24oZSl7dmFyIGk7dC5hZENsb3NlKGUpLHQucmVtb3ZlQWRFdmVudExpc3RlbmVyKCksbnVsbD09PShpPXQuYWQpfHx2b2lkIDA9PT1pfHxpLmRlc3Ryb3koKX0pKSx0aGlzLmFkLm9uRXJyb3IoKGZ1bmN0aW9uKGUpe3QuYWRFcnJvcihlKX0pKSxudWxsIT10aGlzJiZudWxsIT09KGk9dGhpcy5hZCkmJnZvaWQgMCE9PWkmJmkub25DbGljayYmdGhpcy5hZC5vbkNsaWNrKChmdW5jdGlvbihlKXt0LmFkQ2xpY2soZSl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZUludGVyc3RpdGlhbEFk5bm/5ZGK5pyN5Yqh5aSx6LSlXFxcIn0pfX0sc2hvdzpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5hZCYmdGhpcy5yZWFkeSYmdGhpcy5hZC5zaG93KCkudGhlbigoZnVuY3Rpb24oKXt0LmFkU2hvdygpfSksKGZ1bmN0aW9uKGUpe3ZhciBpLG4scj17Y29kZToxMTAxLG1zZzpudWxsIT09KGk9bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUubXNnKSYmdm9pZCAwIT09bj9uOm51bGw9PWU/dm9pZCAwOmUuZGF0YSkmJnZvaWQgMCE9PWk/aTpcXFwi5bGV56S65aSx6LSlOiBcXFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSl9O3NkLmNhbGwodCx7bmFtZTpcXFwiYWRFcnJvclxcXCIscGFyYW1zOnJ9KX0pKX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiExfX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfUkVRVUVTVF9GSUxMRURcXFwifX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRTaG93XFxcIixwYXJhbXM6dH0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCJ9fSl9LGFkQ2xpY2s6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsaWNrXFxcIixwYXJhbXM6dH0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwifX0pfSxhZENsb3NlOmZ1bmN0aW9uKHQpe3NkLmNhbGwodGhpcyx7bmFtZTpcXFwiYWRDbG9zZVxcXCIscGFyYW1zOnR9KX0sYWRFcnJvcjpmdW5jdGlvbih0KXt0aGlzLnJlYWR5PSExO3ZhciBlPXttc2c6dC5lcnJNc2d8fHQubXNnLGNvZGU6dC5lcnJDb2RlfHx0LmNvZGV9O2RlbGV0ZSBlLmVyckNvZGUsZGVsZXRlIGUuZXJyTXNnLGRlbGV0ZSBlLnN1YkVyckNvZGUsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6ZX0pLGNkLmNhbGwodGhpcyl9LGdldEluc3RhbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWR8fG51bGx9fX0sNjI6e25hdGl2ZTp7YWRQcm94eUV2ZW50OntvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1QKHRoaXMuYWRDb25maWcuZmlsdGVyLHR0LkhVQVdFSV9BR0RfUFJPLHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpO3Q/dGhpcy5hZEVycm9yKHtjb2RlOnQsbXNnOlxcXCLor6Xlub/lkYrmupDooqvov4fmu6RcXFwifSk6KGxkLmNhbGwodGhpcyksdGhpcy5oYW5kbGVBZEluaXQoKSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe2NkLmNhbGwodGhpcyl9fSxoYW5kbGVBZEluaXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9UygpLmFkO2lmKHRoaXMucHJvdmlkZXI9aS5nZXRQcm92aWRlcigpLHRoaXMuY3JlYXRlTmF0aXZlQWQoKSwhKERhdGUubm93KCk+bmV3IERhdGUoXFxcIjIwMjMvMDUvMDFcXFwiKS5nZXRUaW1lKCkpKXt2YXIgbj10aGlzLmFkRXh0cmEscj1uLnBsYWNlbWVudElkLGE9bi50cmFmZmljR3JvdXBJZCxvPW4uc2VnbWVudElkLGQ9bi5hc0lkLHM9bi5ud0Zpcm1JZCxsPXRoaXMuJGFwcC4kZGVmLnRvcG9uX3Nkay5zdG9yZSxjPXZvaWQgMD09PWw/e306bCx1PXtrZXk6XFxcIkFEX1BST1ZJREVSXFxcIix1bml0aWQ6cixyZXF1ZXN0aWQ6dGhpcy5hZE9wdGlvbi5fcmVxdWVzdF9pZCxncm91cGlkOm8sdHJhZmZpY19ncm91cF9pZDphLGFzaWQ6ZCxtc2c6U3RyaW5nKHMpLG1zZzE6U3RyaW5nKHRoaXMuYWRPcHRpb24uX3VuaXRfaWQpLG1zZzI6dGhpcy5wcm92aWRlcixtc2czOm51bGw9PWN8fG51bGw9PT0odD1jLmRldmljZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaW5mby5icmFuZCxtc2c0OlxcXCJcXFwiKyhudWxsPT1jfHxudWxsPT09KGU9Yy5kZXZpY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluZm8ubW9kZWwpfTtWYS5jYWxsKHRoaXMsdSl9fSxjcmVhdGVOYXRpdmVBZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1TKCkuYWQ7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9SRVFVRVNUXFxcIn19KTt0cnl7dmFyIGk9e2FkVW5pdElkOnRoaXMuYWRPcHRpb24uYWRfaWR9LG49dGhpcy5hZEV4dHJhLmNoYW5uZWxJZDtuJiYoaS5jaGFubmVsPW4pLHRoaXMuYWQ9ZS5jcmVhdGVOYXRpdmVBZChpKSx0aGlzLmFkLm9uTG9hZCgoZnVuY3Rpb24oZSl7dC5hZExvYWQoZSl9KSksdGhpcy5hZC5vbkVycm9yKChmdW5jdGlvbihlKXt0LmFkRXJyb3IoZSl9KSksdGhpcy5hZC5sb2FkKCl9Y2F0Y2godCl7dGhpcy5hZEVycm9yKHtjb2RlOjJlMyxtc2c6XFxcImNyZWF0ZU5hdGl2ZUFk5bm/5ZGK5pyN5Yqh6ZSZ6K+vXFxcIn0pfX0sY3JlYXRlVGVtcGxhdGVBZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1TKCkuYWQ7dHJ5e3RoaXMuYWQ9ZS5jcmVhdGVUZW1wbGF0ZUFkKHthZFVuaXRJZDp0aGlzLmFkT3B0aW9uLmFkX2lkLHR5cGU6dGhpcy50ZW1wbGF0ZUFkVHlwZX0pLHRoaXMuYWQubG9hZCh7c3VjY2VzczpmdW5jdGlvbihlKXt0LmFkTG9hZChlKX0sZmFpbDpmdW5jdGlvbihlLGkpe3QuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJjcmVhdGVUZW1wbGF0ZUFk5bm/5ZGK5pyN5Yqh6ZSZ6K+vXFxcIn0pfX0pfWNhdGNoKHQpe3RoaXMuYWRFcnJvcih7Y29kZToyZTMsbXNnOlxcXCJjcmVhdGVUZW1wbGF0ZUFk5bm/5ZGK5pyN5Yqh6ZSZ6K+vXFxcIn0pfX0sZ2V0QWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5yZWFkeSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLmFkTGlzdEluZGV4SW5Vc2UsZT10aGlzLmFkTGlzdFt0aGlzLmFkTGlzdEluZGV4SW5Vc2VdfHx7fTtyZXR1cm4gdGhpcy5hZExpc3RJbmRleEluVXNlKyssdGhpcy5jdXJyZW50SW5kZXhVc2U9dCxlfHwodGhpcy5yZWFkeT0hMSksZX0sYWRMb2FkOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITAsdGhpcy5hZExpc3RJbmRleEluVXNlPTAsdGhpcy5hZExpc3Q9dC5hZExpc3Qsc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZExvYWRcXFwiLHBhcmFtczp7aXNTZWxmUmVuZGVyaW5nOiF0aGlzLmlzVGVtcGxhdGVBZH19KSxzZC5jYWxsKHRoaXMse25hbWU6XFxcInRrUmVwb3J0XFxcIixwYXJhbXM6e3R5cGU6XFxcIkFEX1JFUVVFU1RfRklMTEVEXFxcIixhZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV18fHt9fX0pLGNkLmNhbGwodGhpcyl9LGFkU2hvdzpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkU2hvd1xcXCJ9KX0sYWRDbGljazpmdW5jdGlvbih0KXtzZC5jYWxsKHRoaXMse25hbWU6XFxcImFkQ2xpY2tcXFwifSl9LGFkQ2xvc2U6ZnVuY3Rpb24odCl7c2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZENsb3NlXFxcIn0pfSxhZEVycm9yOmZ1bmN0aW9uKHQpe3RoaXMucmVhZHk9ITE7dmFyIGU9e21zZzp0LmVyck1zZ3x8dC5tc2csY29kZTp0LmVyckNvZGV8fHQuY29kZX07ZGVsZXRlIGUuZXJyQ29kZSxkZWxldGUgZS5lcnJNc2csc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJhZEVycm9yXFxcIixwYXJhbXM6ZX0pLGNkLmNhbGwodGhpcyl9LHJlcG9ydFNob3c6ZnVuY3Rpb24oKXt2YXIgdDtudWxsIT09KHQ9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09dCYmdC5hZElkJiYoc2QuY2FsbCh0aGlzLHtuYW1lOlxcXCJ0a1JlcG9ydFxcXCIscGFyYW1zOnt0eXBlOlxcXCJBRF9TSE9XXFxcIixhZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV18fHt9fX0pLHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfSU1QUkVTU0lPTlxcXCIsYWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdfHx7fX19KSx0aGlzLmFkLnJlcG9ydEFkU2hvdyh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pKX0scmVwb3J0Q2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU7bnVsbCE9PShlPXRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXSkmJnZvaWQgMCE9PWUmJmUuYWRJZCYmKHNkLmNhbGwodGhpcyx7bmFtZTpcXFwidGtSZXBvcnRcXFwiLHBhcmFtczp7dHlwZTpcXFwiQURfQ0xJQ0tcXFwiLGFkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXXx8e319fSksbnVsbCE9dCYmdC5yZXBvcnRUb1Byb3ZpZGVyJiZ0aGlzLmFkLnJlcG9ydEFkQ2xpY2soe2FkSWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdLmFkSWR9KSl9LGdldERvd25sb2FkU3RhdHVzOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5hZCYmdGhpcy5yZWFkeSYmbnVsbCE9PSh0PXRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXSkmJnZvaWQgMCE9PXQmJnQuYWRJZClyZXR1cm4gdGhpcy5hZC5nZXRBcHBTdGF0dXMoe2FkSWQ6dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdLmFkSWR9KX0sZ2V0RG93bmxvYWRQcm9ncmVzczpmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuYWQmJnRoaXMucmVhZHkmJm51bGwhPT0odD10aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0pJiZ2b2lkIDAhPT10JiZ0LmFkSWQpcmV0dXJuIHRoaXMuYWQuZ2V0RG93bmxvYWRQcm9ncmVzcyh7YWRJZDp0aGlzLmFkTGlzdFt0aGlzLmN1cnJlbnRJbmRleFVzZV0uYWRJZH0pfSxzdWJzY3JpYmVEb3dubG9hZFN0YXR1czpmdW5jdGlvbih0KXt0aGlzLmFkLm9uU3RhdHVzQ2hhbmdlZCh0KX0sdW5zdWJzY3JpYmVEb3dubG9hZFN0YXR1czpmdW5jdGlvbigpe3RoaXMuYWQmJnRoaXMucmVhZHkmJnRoaXMuYWQub2ZmU3RhdHVzQ2hhbmdlZCgpfSxzdWJzY3JpYmVEb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKHQpe3RoaXMuYWQub25Eb3dubG9hZFByb2dyZXNzKHQpfSx1bnN1YnNjcmliZURvd25sb2FkUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLmFkJiZ0aGlzLnJlYWR5JiZ0aGlzLmFkLm9mZkRvd25sb2FkUHJvZ3Jlc3MoKX0sc2hvd0FwcERldGFpbFBhZ2U6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmFkJiZ0aGlzLnJlYWR5JiZudWxsIT09KHQ9dGhpcy5hZExpc3RbdGhpcy5jdXJyZW50SW5kZXhVc2VdKSYmdm9pZCAwIT09dCYmdC5hZElkJiZ0aGlzLmFkLnNob3dBcHBEZXRhaWxQYWdlKHthZElkOnRoaXMuYWRMaXN0W3RoaXMuY3VycmVudEluZGV4VXNlXS5hZElkfSl9LGdldEluc3RhbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWR8fG51bGx9fX19LENkPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtkKHRoaXMsdCl9cmV0dXJuIGwodCxbe2tleTpcXFwiZGlzcGF0Y2hcXFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC4kZGVmLnRvcG9uX3Nkay5zdG9yZT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX29wdGlvbnM9ZSx0aGlzLmRldmljZSh0KSx0aGlzLnVwSWQodCl9fSx7a2V5OlxcXCJkZXZpY2VcXFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuJGRlZi50b3Bvbl9zZGsuc3RvcmUuZGV2aWNlPXt9O3ZhciBlPVtILmdldEluZm8oKSxILmdldE9hSWQoKSxILmdldERldmljZUlkcygpXTtQcm9taXNlLmFsbChlKS50aGVuKChmdW5jdGlvbihlKXt0LiRkZWYudG9wb25fc2RrLnN0b3JlLmRldmljZS5pbmZvPWVbMF18fHt9LHQuJGRlZi50b3Bvbl9zZGsuc3RvcmUuZGV2aWNlLm9haWQ9ZVsxXXx8XFxcIlxcXCIsdC4kZGVmLnRvcG9uX3Nkay5zdG9yZS5kZXZpY2UuaWRzPWVbMl18fHt9fSkpfX0se2tleTpcXFwidXBJZFxcXCIsdmFsdWU6ZnVuY3Rpb24odCl7RygpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuJGRlZi50b3Bvbl9zZGsuc3RvcmUudXBpZD1lfHxcXFwiXFxcIn0pKX19XSksdH0oKSksRGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2QodGhpcyx0KSx0aGlzLm5hbWU9ZSx0aGlzLmV2ZW50TWFwPXt9fXJldHVybiBsKHQsW3trZXk6XFxcInN1YnNjcmliZVxcXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXM7aWYoaSYmaS5vbmNlKXtyZXR1cm4gdGhpcy5zdWJzY3JpYmUodCwoZnVuY3Rpb24gaShyKXtlKHIpLG4udW5zdWJzY3JpYmUodCxpKX0pKX1pZih0aGlzLmV2ZW50TWFwW3RdPXRoaXMuZXZlbnRNYXBbdF18fFtdLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBlKXt2YXIgcj10aGlzLmV2ZW50TWFwW3RdOy0xPT09ci5pbmRleE9mKGUpJiZyLnB1c2goZSl9fX0se2tleTpcXFwicHVibGlzaFxcXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9bnVsbCxuPXRoaXMuZXZlbnRNYXBbdF18fFtdLHI9MCxhPW4ubGVuZ3RoO3I8YTtyKyspaT1uW3JdJiZuW3JdKGUsaSk7cmV0dXJuIGl9fSx7a2V5OlxcXCJ1bnN1YnNjcmliZVxcXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmV2ZW50TWFwW3RdKXt2YXIgaT10aGlzLmV2ZW50TWFwW3RdO2lmKGUpe3ZhciBuPWkuaW5kZXhPZihlKTtuPi0xJiZpLnNwbGljZShuLDEpfWVsc2UgdGhpcy5ldmVudE1hcFt0XT1bXX19fV0pLHR9KCksTGQ9e307ZnVuY3Rpb24gT2QodCl7cmV0dXJuIExkW3RdfHwoTGRbdF09bmV3IERkKHQpKSxMZFt0XX1mdW5jdGlvbiBSZCh0LGUpe3JldHVybiBQZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUGQoKXtyZXR1cm4oUGQ9byhpKCkubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGEsbyxkLHMsbCxjLHUsaCxwLGYsbSxnLHksSTtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0LnByZXY9MCxhPW4uY2hhbm5lbElkLG89dm9pZCAwPT09YT9cXFwiXFxcIjphLGQ9bi5zdWJDaGFubmVsSWQscz12b2lkIDA9PT1kP1xcXCJcXFwiOmQsbD1uLmN1c3RvbVBhcmFtLGM9dm9pZCAwPT09bD97fTpsLHU9bi5wbGFjZW1lbnRDdXN0b21QYXJhbSxoPU8oYyx2b2lkIDA9PT11P3t9OnUpLHA9e3BsYWNlbWVudElkOmV9LHQubmV4dD02LHRvLmNhbGwodGhpcyxwLHtpc1ByZWxvYWQ6ITB9KTtjYXNlIDY6aWYoZj10LnNlbnQsbT1fKG51bGw9PWY/dm9pZCAwOmYuZGF0YSk/SlNPTi5wYXJzZShudWxsPT1mP3ZvaWQgMDpmLmRhdGEpOihudWxsPT1mP3ZvaWQgMDpmLmRhdGEpfHx7fSw2OTk9PT1mLmNvZGUmJihtPXtjb2RlOjAsZGF0YTp7YWRfZGVsaXZlcnlfc3c6MCxwc19jdDo4NjRlNSxwc19jdF9vdXQ6MH19KSwhKChudWxsPT09KHI9bSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY29kZSk+MHx8dihtKSkmJm0pe3QubmV4dD0xMTticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIpO2Nhc2UgMTE6Zz0obmV3IERhdGUpLmdldFRpbWUoKSx5PW8rXFxcIi9cXFwiK3MsbS5fcHNfY3RfdGltZXN0YW1wPWcrbS5kYXRhLnBzX2N0LG0uX2NoYW5uZWw9eSxtLl9jdXN0b21fcGFyYW09aCxtLl9yZXF1ZXN0X3RpbWVzdGFtcD1nLEk9XFxcIlRPUE9OX0FEX0NBQ0hFX1BMQUNFTUVOVF9cXFwiK2UsTS5zZXRJdGVtKEksbSwhMSksdC5uZXh0PTIzO2JyZWFrO2Nhc2UgMjE6dC5wcmV2PTIxLHQudDA9dC5jYXRjaCgwKTtjYXNlIDIzOmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzLFtbMCwyMV1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBVZCh0LGUpe3JldHVybiAkZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gJGQoKXtyZXR1cm4oJGQ9byhpKCkubWFyaygoZnVuY3Rpb24gdChlLG4pe3ZhciByLGEsbyxkLHMsbDtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBhPVxcXCJUT1BPTl9BRF9DQUNIRV9QTEFDRU1FTlRfXFxcIitlLHQubmV4dD0zLE0uZ2V0SXRlbShhLCExKTtjYXNlIDM6aWYodC50MD10LnNlbnQsdC50MCl7dC5uZXh0PTY7YnJlYWt9dC50MD17fTtjYXNlIDY6aWYoIXYobz10LnQwKSl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFJkLmNhbGwodGhpcyxlLG4pKTtjYXNlIDk6aWYoZD0obmV3IERhdGUpLmdldFRpbWUoKSxzPShudWxsPT1vfHxudWxsPT09KHI9by5kYXRhKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wc19jdF9tYXgpfHw2MDQ4ZTUsKGw9KG51bGw9PW8/dm9pZCAwOm8uX3JlcXVlc3RfdGltZXN0YW1wKXx8MCk8PTAmJihsPW8uX3BzX2N0X3RpbWVzdGFtcC1vLmRhdGEucHNfY3QpLCEobCtzPGQpKXt0Lm5leHQ9MTU7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLFJkLmNhbGwodGhpcyxlLG4pKTtjYXNlIDE1OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBOZCh0KXt2YXIgZT10aGlzLGk9dC5wbGFjZW1lbnRTdHJhdGVneSxuPXZvaWQgMD09PWk/W106aTtpZihuLmxlbmd0aCl7dmFyIHI9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSk7ZGVsZXRlIHIub3B0aW9uczt2YXIgYT1uLnNsaWNlKDAsMTApLG89W107cmV0dXJuIGEuZm9yRWFjaCgoZnVuY3Rpb24odCl7by5wdXNoKFVkLmNhbGwoZSx0LHIpKX0pKSxQcm9taXNlLmFsbChvKX19dmFyIGpkPVxcXCI0LjIuMTFcXFwiLEZkPVxcXCJodHRwOi8vYXBpLmFueXRoaW5rdGVjaC5jb21cXFwiO2Z1bmN0aW9uIEJkKHQpe3JldHVybiBXZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gV2QoKXtyZXR1cm4oV2Q9byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLGEsbyxkLHMsbCxjLHUsaCxwLGYsdixtLF8sZyx5LEksYixrLHcseCxULEEsTCxQLFUsJCxOLGosRixCLFcscSxWLFkseixYLFEsSixaLHR0LGV0LGl0LHJ0LGF0LG90LGR0LHN0LGx0LGN0LHV0O3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIEk9ZS5hcHBJZCxiPWUuYXBwS2V5LGs9ZS5jaGFubmVsSWQsdz12b2lkIDA9PT1rP1xcXCJcXFwiOmsseD1lLnN1YkNoYW5uZWxJZCxUPXZvaWQgMD09PXg/XFxcIlxcXCI6eCxBPWUuYWJ0ZXN0X2lkLEw9dm9pZCAwPT09QT9cXFwiXFxcIjpBLFA9ZS5jdXN0b21QYXJhbSxVPXZvaWQgMD09PVA/e306UCwkPWUucGxhY2VtZW50Q3VzdG9tUGFyYW0sTj1PKFUsdm9pZCAwPT09JD97fTokKSxqPVIoKSxGPVMoKSxCPUYuYXBwLFc9Ri5uZXR3b3JrLHE9Ri5kZXZpY2UsdC5uZXh0PTYsSC5nZXRJbmZvKCk7Y2FzZSA2OmlmKHQudDA9dC5zZW50LHQudDApe3QubmV4dD05O2JyZWFrfXQudDA9e307Y2FzZSA5OnJldHVybiBWPXQudDAsWT1CLmdldEluZm8oKXx8e30sdC5uZXh0PTEzLFcuZ2V0VHlwZSgpO2Nhc2UgMTM6aWYodC50MT10LnNlbnQsdC50MSl7dC5uZXh0PTE2O2JyZWFrfXQudDE9e307Y2FzZSAxNjpyZXR1cm4gej10LnQxLHQubmV4dD0xOSxILmdldERldmljZUlkcygpO2Nhc2UgMTk6aWYodC50Mj10LnNlbnQsdC50Mil7dC5uZXh0PTIyO2JyZWFrfXQudDI9e307Y2FzZSAyMjpyZXR1cm4gWD10LnQyLHQubmV4dD0yNSxILmdldE9hSWQoKTtjYXNlIDI1OmlmKHQudDM9dC5zZW50LHQudDMpe3QubmV4dD0yODticmVha310LnQzPVxcXCJcXFwiO2Nhc2UgMjg6cmV0dXJuIFE9dC50MyxKPVxcXCJcXFwiLmNvbmNhdChudWxsPT1WP3ZvaWQgMDpWLnNjcmVlbldpZHRoLFxcXCIqXFxcIikuY29uY2F0KG51bGw9PVY/dm9pZCAwOlYuc2NyZWVuSGVpZ2h0KSxaPW50W251bGw9PXp8fG51bGw9PT0obj16LmRhdGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnR5cGVdfHxcXFwiLTFcXFwiLHR0PVxcXCIxLjBcXFwiLHQubmV4dD0zNCxHKCk7Y2FzZSAzNDpyZXR1cm4gZXQ9dC5zZW50LHQubmV4dD0zNyxLKCk7Y2FzZSAzNzpyZXR1cm4gaXQ9dC5zZW50LHQubmV4dD00MCxNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDQwOmlmKHQudDQ9dC5zZW50LHQudDQpe3QubmV4dD00MzticmVha310LnQ0PTA7Y2FzZSA0MzpyZXR1cm4gcnQ9dC50NCx0Lm5leHQ9NDYsTS5nZXRJdGVtKFxcXCJjdXJyZW50SW5pdFRpbWVcXFwiKTtjYXNlIDQ2OmlmKHQudDU9dC5zZW50LHQudDUpe3QubmV4dD00OTticmVha310LnQ1PTA7Y2FzZSA0OTpyZXR1cm4gYXQ9dC50NSxvdD1NYXRoLmNlaWwoKGF0LXJ0KzEpLzg2NGU1KSxkdD17c3lzdGVtOjEsb3NfZnc6OCxtY2M6XFxcIjFcXFwiLG1uYzpcXFwiMVxcXCIsdGltZXpvbmU6XFxcIlxcXCIsbndfdmVyOlxcXCJcXFwiLG9yaWVudDoxLHVhOmp8fFxcXCJcXFwiLG9zX3ZuOm51bGwhPT0ocj1udWxsPT1WP3ZvaWQgMDpWLm9zVmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1yP3I6XFxcIlxcXCIsb3NfdmM6bnVsbCE9PShhPVxcXCJcXFwiKyhudWxsPT1WP3ZvaWQgMDpWLm9zVmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09YT9hOlxcXCJcXFwiLHBhY2thZ2VfbmFtZTpudWxsIT09KG89bnVsbD09WT92b2lkIDA6WS5wYWNrYWdlTmFtZSkmJnZvaWQgMCE9PW8/bzpcXFwiXFxcIixhcHBfdm46bnVsbCE9PShkPW51bGw9PVk/dm9pZCAwOlkudmVyc2lvbk5hbWUpJiZ2b2lkIDAhPT1kP2Q6XFxcIlxcXCIsYXBwX3ZjOm51bGwhPT0ocz1cXFwiXFxcIisobnVsbD09WT92b2lkIDA6WS52ZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT1zP3M6XFxcIlxcXCIsYnJhbmQ6bnVsbCE9PShsPW51bGw9PVY/dm9pZCAwOlYuYnJhbmQpJiZ2b2lkIDAhPT1sP2w6XFxcIlxcXCIsbW9kZWw6bnVsbCE9PShjPW51bGw9PVY/dm9pZCAwOlYubW9kZWwpJiZ2b2lkIDAhPT1jP2M6XFxcIlxcXCIscGZfdm46bnVsbCE9PSh1PW51bGw9PVY/dm9pZCAwOlYucGxhdGZvcm1WZXJzaW9uTmFtZSkmJnZvaWQgMCE9PXU/dTpcXFwiXFxcIixwZl92YzpudWxsIT09KGg9XFxcIlxcXCIrKG51bGw9PVY/dm9pZCAwOlYucGxhdGZvcm1WZXJzaW9uQ29kZSkpJiZ2b2lkIDAhPT1oP2g6XFxcIlxcXCIsbmV0d29ya190eXBlOlosc2NyZWVuOkosdXBpZDpldCxhcHBfaWQ6SSxzZGtfdmVyOlxcXCJVQV9cXFwiLmNvbmNhdChqZCkscGxhdGZvcm06MSxjaGFubmVsOnd8fFxcXCJcXFwiLHN1Yl9jaGFubmVsOlR8fFxcXCJcXFwiLGN1c3RvbTpOLHBzX2lkOml0LGZpcnN0X2luaXRfdGltZToxKnJ0LGRheXNfZnJvbV9maXJzdF9pbml0Om90LGRlbnk6U3RyaW5nKFYuc2NyZWVuRGVuc2l0eSksYXBpX3ZlcjpcXFwiMS4wXFxcIixob3N0X3ZuOm51bGwhPT0ocD1udWxsPT1xfHxudWxsPT09KGY9cS5ob3N0KXx8dm9pZCAwPT09Zj92b2lkIDA6Zi52ZXJzaW9uTmFtZSkmJnZvaWQgMCE9PXA/cDpcXFwiXFxcIixob3N0X3ZjOm51bGwhPT0odj1cXFwiXFxcIisobnVsbD09cXx8bnVsbD09PShtPXEuaG9zdCl8fHZvaWQgMD09PW0/dm9pZCAwOm0udmVyc2lvbkNvZGUpKSYmdm9pZCAwIT09dj92OlxcXCJcXFwiLGFidGVzdF9pZDpMfSxzdD17YW5kcm9pZF9pZDpudWxsIT09KF89bnVsbD09WD92b2lkIDA6WC51c2VyKSYmdm9pZCAwIT09Xz9fOlxcXCJcXFwiLG1hYzpudWxsIT09KGc9bnVsbD09WD92b2lkIDA6WC5tYWMpJiZ2b2lkIDAhPT1nP2c6XFxcIlxcXCIsaW1laTpcXFwiXFxcIixvYWlkOlEsZ2FpZDpudWxsIT09KHk9bnVsbD09WD92b2lkIDA6WC5hZHZlcnRpc2luZykmJnZvaWQgMCE9PXk/eTpcXFwiXFxcIixpc19jbl9zZGs6XFxcIjFcXFwifSxsdD1DKEQoZHQpKSxjdD1DKEQoc3QpKSx1dD1FKGIsW3trZXk6XFxcImFwaV92ZXJcXFwiLHZhbHVlOnR0fSx7a2V5OlxcXCJwXFxcIix2YWx1ZTpsdH0se2tleTpcXFwicDJcXFwiLHZhbHVlOmN0fV0pLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHtwOmx0LHAyOmN0LGFwaV92ZXI6dHQsc2lnbjp1dH0pO2Nhc2UgNTg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBxZCh0KXtyZXR1cm4gTWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIE1kKCl7cmV0dXJuKE1kPW8oaSgpLm1hcmsoKGZ1bmN0aW9uIHQoZSl7dmFyIG4scixhLG87cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbj1lLmFwcElkLHQucHJldj0xLHQubmV4dD00LEJkLmNhbGwodGhpcyxlKTtjYXNlIDQ6cmV0dXJuIHI9dC5zZW50LHQubmV4dD03LE5hKFxcXCJcXFwiLmNvbmNhdChGZCxcXFwiL3YyL29wZW4vYXBwXFxcIikscik7Y2FzZSA3OnJldHVybiBhPXQuc2VudCxvPURhdGUubm93KCksYS5fc2NldF90aW1lc3RhbXA9bythLmRhdGEuc2NldCxhLl9yZXF1ZXN0X3RpbWVzdGFtcD1vLFZkLmNhbGwodGhpcyxuLGEpLHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLGEpO2Nhc2UgMTU6cmV0dXJuIHQucHJldj0xNSx0LnQwPXQuY2F0Y2goMSksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIse30pO2Nhc2UgMTg6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1sxLDE1XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFZkKHQsZSl7dmFyIGk9XFxcIlRPUE9OX0FEX0NBQ0hFX0FQUF9cXFwiK3Q7cmV0dXJuIE0uc2V0SXRlbShpLGUsITEpLFlkLmNhbGwodGhpcyx0LGUuZGF0YS5sb2dnZXIpLGV9ZnVuY3Rpb24gSGQodCl7cmV0dXJuIEdkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBHZCgpe3JldHVybihHZD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KG4pe3ZhciByLGEsbyxkLHMsbCxjLHUsaCxwPXRoaXM7cmV0dXJuIGkoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1uLmFwcElkLGE9XFxcIlRPUE9OX0FEX0NBQ0hFX0FQUF9cXFwiK3IsdC5uZXh0PTQsTS5nZXRJdGVtKGEsITEpO2Nhc2UgNDppZih0LnQwPXQuc2VudCx0LnQwKXt0Lm5leHQ9NzticmVha310LnQwPXt9O2Nhc2UgNzppZighdihvPXQudDApKXt0Lm5leHQ9MTA7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFxcXCJyZXR1cm5cXFwiLHFkLmNhbGwodGhpcyxuKSk7Y2FzZSAxMDppZihkPURhdGUubm93KCkscz0obnVsbD09bz92b2lkIDA6by5fcmVxdWVzdF90aW1lc3RhbXApfHwwLCEoby5fc2NldF90aW1lc3RhbXA+ZCkpe3QubmV4dD0xNjticmVha31yZXR1cm4gdC5hYnJ1cHQoXFxcInJldHVyblxcXCIsVmQuY2FsbCh0aGlzLHIsbykpO2Nhc2UgMTY6aWYoIShzKzYwNDhlNTxkKSl7dC5uZXh0PTIwO2JyZWFrfXJldHVybiB0LmFicnVwdChcXFwicmV0dXJuXFxcIixxZC5jYWxsKHRoaXMsZShlKHt9LG4pLHt9LHthYnRlc3RfaWQ6bnVsbCE9PShsPW51bGw9PW98fG51bGw9PT0oYz1vLmRhdGEpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmFidGVzdF9pZCkmJnZvaWQgMCE9PWw/bDpcXFwiXFxcIn0pKSk7Y2FzZSAyMDpyZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKXtWZC5jYWxsKHAscixvKX0pLDEwMCksdC5hYnJ1cHQoXFxcInJldHVyblxcXCIscWQuY2FsbCh0aGlzLGUoZSh7fSxuKSx7fSx7YWJ0ZXN0X2lkOm51bGwhPT0odT1udWxsPT1vfHxudWxsPT09KGg9by5kYXRhKXx8dm9pZCAwPT09aD92b2lkIDA6aC5hYnRlc3RfaWQpJiZ2b2lkIDAhPT11P3U6XFxcIlxcXCJ9KSkpO2Nhc2UgMjI6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFlkKHQsZSl7dmFyIGksbixyLGE9bnVsbCE9PShpPW51bGwhPT0obj1udWxsPT09KHI9dGhpcy4kYXBwKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kZGVmKSYmdm9pZCAwIT09bj9uOnRoaXMuJGRlZikmJnZvaWQgMCE9PWk/aTpudWxsO2EmJm51bGwhPWEmJmEudG9wb25fc2RrJiYoYS50b3Bvbl9zZGsuY2FjaGUubG9nZ2VyfHwoYS50b3Bvbl9zZGsuY2FjaGUubG9nZ2VyPU9iamVjdC5jcmVhdGUobnVsbCkpLGEudG9wb25fc2RrLmNhY2hlLmxvZ2dlclt0XT1lKX1mdW5jdGlvbiBLZCh0KXtyZXR1cm4vXihbLkEtWmEtejAtOV8tXSl7MSwxMjh9JC8udGVzdCh0KX1mdW5jdGlvbiB6ZCh0KXtyZXR1cm4gXyh0KT9KU09OLnBhcnNlKHQpOnR9ZnVuY3Rpb24gWGQodCl7dmFyIGU9W10saT16ZCh0KTtyZXR1cm4gZihpKT8oT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aChpW3RdKXx8ZS5wdXNoKFxcXCJcXFwiLmNvbmNhdCh0LFxcXCLlv4XpobvkuLrlrZfnrKbkuLJcXFwiKSl9KSksZSk6KGUucHVzaChcXFwic2V0Q3VzdG9tUGFyYW3lj4LmlbDlv4XpobvmmK9KU09OIE9iamVjdFxcXCIpLGUpfXgmJih4LiR0b3Bvbl9zZGs9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7cmV0dXJuIHI9byhpKCkubWFyaygoZnVuY3Rpb24gdChlKXt2YXIgbixyLG8sZCxsLHUsaCxwLGYsdixtLF8sZz10aGlzO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6dGhpcyYmdGhpcy4kZGVmJiYhdGhpcy4kZGVmLnRvcG9uX3NkayYmKHRoaXMuJGRlZi50b3Bvbl9zZGs9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLiRkZWYudG9wb25fc2RrLmNvbXBvbmVudHM9RWQsdGhpcy4kZGVmLnRvcG9uX3Nkay5hcHBJZD1lLmFwcElkLHRoaXMuJGRlZi50b3Bvbl9zZGsuYXBwS2V5PWUuYXBwS2V5LHRoaXMuJGRlZi50b3Bvbl9zZGsuaXNUZXN0PWUuaXNUZXN0fHwhMSx0aGlzLiRkZWYudG9wb25fc2RrLmV2ZW50PU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy4kZGVmLnRvcG9uX3Nkay5ldmVudC5kZWVwbGluaz1PZChcXFwiZGVlcGxpbmtcXFwiKSx0aGlzLiRkZWYudG9wb25fc2RrLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy4kZGVmLnRvcG9uX3Nkay5jaGFubmVsSWQ9S2QoZS5jaGFubmVsSWQpP2UuY2hhbm5lbElkOlxcXCJcXFwiLHRoaXMuJGRlZi50b3Bvbl9zZGsuc3ViQ2hhbm5lbElkPUtkKGUuc3ViQ2hhbm5lbElkKT9lLnN1YkNoYW5uZWxJZDpcXFwiXFxcIix0aGlzLiRkZWYudG9wb25fc2RrLmN1c3RvbVBhcmFtPXt9LHRoaXMuJGRlZi50b3Bvbl9zZGsucGxhY2VtZW50Q3VzdG9tUGFyYW09e30sdGhpcy4kZGVmLnRvcG9uX3Nkay5vbkluaXRUaW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLiRkZWYudG9wb25fc2RrLm9uU2hvd1RpbWVzdGFtcD0wLHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wPTAsdGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXA9MCx0aGlzLiRkZWYudG9wb25fc2RrLm9uSGlkZUNvdW50ZXI9MCx0aGlzLiRkZWYudG9wb25fc2RrLmRlc3Ryb3lQYXJhbXM9e30saD0obnVsbD09ZXx8bnVsbD09PShuPWUuY29uZmlnKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kZXZpY2UpfHxcXFwiMFxcXCIscD0obnVsbD09ZXx8bnVsbD09PShyPWUuY29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zdGFydHVwKXx8XFxcIjBcXFwiLGY9KG51bGw9PWV8fG51bGw9PT0obz1lLmNvbmZpZyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uc3RhcnR1cFVubG9jayl8fFxcXCIwXFxcIix2PShudWxsPT1lfHxudWxsPT09KGQ9ZS5jb25maWcpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLmVuaGFuY2VkTG9nZ2luZ01vZGUpJiZEYXRlLm5vdygpPDE3MTE5MDA4ZTUsdGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwPXAsdGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwVW5sb2NrPWYsdGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwUmVwb3J0ZWQ9ITEsdGhpcy4kZGVmLnRvcG9uX3Nkay5lbmhhbmNlZExvZ2dpbmdNb2RlPXYsbT17YXBwSWQ6ZS5hcHBJZCxhcHBLZXk6ZS5hcHBLZXksY2hhbm5lbElkOktkKGUuY2hhbm5lbElkKT9lLmNoYW5uZWxJZDpcXFwiXFxcIixzdWJDaGFubmVsSWQ6S2QoZS5zdWJDaGFubmVsSWQpP2Uuc3ViQ2hhbm5lbElkOlxcXCJcXFwiLGN1c3RvbVBhcmFtOnt9LHBsYWNlbWVudEN1c3RvbVBhcmFtOnt9fSxIZC5jYWxsKHRoaXMsbSksTS5zZXRJdGVtKFxcXCJuZWVkRGV2aWNlXFxcIixoKSxNLnNldEl0ZW0oXFxcImFwcElkXFxcIixlLmFwcElkKSxDZC5kaXNwYXRjaCh0aGlzLGUpLGMuY2FsbCh0aGlzKSxhLmNhbGwodGhpcykudGhlbigoZnVuY3Rpb24oKXtcXFwiMVxcXCIhPT1wJiZzLmNhbGwoZyl9KSksXz17cGxhY2VtZW50U3RyYXRlZ3k6bnVsbCE9PShsPW51bGw9PT0odT1lLmNvbmZpZyl8fHZvaWQgMD09PXV8fG51bGw9PT0odT11LnByZWxvYWQpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnBsYWNlbWVudFN0cmF0ZWd5KSYmdm9pZCAwIT09bD9sOltdLGNoYW5uZWxJZDpLZChlLmNoYW5uZWxJZCk/ZS5jaGFubmVsSWQ6XFxcIlxcXCIsc3ViQ2hhbm5lbElkOktkKGUuc3ViQ2hhbm5lbElkKT9lLnN1YkNoYW5uZWxJZDpcXFwiXFxcIixjdXN0b21QYXJhbTp7fSxwbGFjZW1lbnRDdXN0b21QYXJhbTp7fX0sTmQuY2FsbCh0aGlzLF8pKTtjYXNlIDE6Y2FzZVxcXCJlbmRcXFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKCl7cmV0dXJuIGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGQoKXtyZXR1cm4oZD1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbjtyZXR1cm4gaSgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0Lm5leHQ9MixNLmdldEl0ZW0oXFxcImZpcnN0SW5pdFRpbWVcXFwiKTtjYXNlIDI6cmV0dXJuKCEoZT10LnNlbnQpfHx2KGUpfHwxKmU8MTY0MDk2NjRlNSkmJihlPURhdGUubm93KCkpLG49RGF0ZS5ub3coKSx0LmFicnVwdChcXFwicmV0dXJuXFxcIixNLmJhdGNoKHtmaXJzdEluaXRUaW1lOmUsY3VycmVudEluaXRUaW1lOm59KSk7Y2FzZSA2OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyh0KXt2YXIgaT1lKHtsb2dUeXBlOlxcXCJBUFBfU1RBUlRVUFxcXCJ9LHQpO3NvLmNhbGwodGhpcyxpKX1mdW5jdGlvbiBsKCl7aWYoXFxcIjFcXFwiPT09dGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwKXtpZih0aGlzLiRkZWYudG9wb25fc2RrLnN0YXJ0dXBSZXBvcnRlZCYmXFxcIjFcXFwiPT09dGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwVW5sb2NrKXt2YXIgdD1cXFwiXFxcIitEYXRlLm5vdygpO3JldHVybiB2b2lkIHMuY2FsbCh0aGlzLHtwc0lkVmlydHVhbDp0fSl9dGhpcy4kZGVmLnRvcG9uX3Nkay5zdGFydHVwUmVwb3J0ZWR8fCh0aGlzLiRkZWYudG9wb25fc2RrLnN0YXJ0dXBSZXBvcnRlZD0hMCxzLmNhbGwodGhpcykpfX1mdW5jdGlvbiBjKCl7dmFyIHQ9dGhpcyxlPXtzZXRDaGFubmVsOnUsc2V0U3ViQ2hhbm5lbDpoLHNldEN1c3RvbVBhcmFtOnAsc2V0UGxhY2VtZW50Q3VzdG9tUGFyYW06ZixvblNob3c6bSxvbkhpZGU6XyxvbkRlc3Ryb3k6eX07T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dC4kZGVmLnRvcG9uX3Nka1tpXT1lW2ldfSkpfWZ1bmN0aW9uIHUodCl7aWYoIUtkKHQpKXJldHVybiBjb25zb2xlLmVycm9yKFxcXCLmuKDpgZPmoLzlvI/plJnor6/vvIzku4XmlK/mjIHvvJrigJzmlbDlrZfigJzjgIHigJ3lrZfmr43igJzjgIHigJ1fLS7igJxcXFwiKSx2b2lkIGwuY2FsbCh0aGlzKTt0aGlzLiRkZWYudG9wb25fc2RrLmNoYW5uZWxJZD10LGwuY2FsbCh0aGlzKX1mdW5jdGlvbiBoKHQpe0tkKHQpP3RoaXMuJGRlZi50b3Bvbl9zZGsuc3ViQ2hhbm5lbElkPXQ6Y29uc29sZS5lcnJvcihcXFwi5rig6YGT5qC85byP6ZSZ6K+v77yM5LuF5pSv5oyB77ya4oCc5pWw5a2X4oCc44CB4oCd5a2X5q+N4oCc44CB4oCdXy0u4oCcXFxcIil9ZnVuY3Rpb24gcCh0KXtpZih0JiYhdih0KSl7dmFyIGU9WGQodCk7aWYobnVsbCE9ZSYmZS5sZW5ndGgpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspY29uc29sZS5lcnJvcihlW2ldKTtlbHNle3ZhciBuPXpkKHQpO3RoaXMuJGRlZi50b3Bvbl9zZGsuY3VzdG9tUGFyYW09bn19ZWxzZSBjb25zb2xlLmVycm9yKFxcXCJzZXRDdXN0b21QYXJhbeWPguaVsOmUmeivr1xcXCIpfWZ1bmN0aW9uIGYodCxlKXtpZih0JiZlJiYhdihlKSl7dmFyIGk9WGQoZSk7aWYobnVsbCE9aSYmaS5sZW5ndGgpZm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspY29uc29sZS5lcnJvcihpW25dKTtlbHNle3ZhciByPXpkKGUpO3RoaXMuJGRlZi50b3Bvbl9zZGsucGxhY2VtZW50Q3VzdG9tUGFyYW1bdF09cn19ZWxzZSBjb25zb2xlLmVycm9yKFxcXCJzZXRQbGFjZW1lbnRDdXN0b21QYXJhbeWPguaVsOmUmeivr1xcXCIpfWZ1bmN0aW9uIG0oKXtpZih0aGlzLiRkZWYudG9wb25fc2RrLm9uU2hvd1RpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wPjApe3ZhciB0PXRoaXMuJGRlZi50b3Bvbl9zZGsub25TaG93VGltZXN0YW1wLXRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wLGU9e2tleTpcXFwiSE9UX1NUQVJUX0lOVEVSVkFMX1RJTUVcXFwiLG1zZzpTdHJpbmcodCl9O1ZhLmNhbGwodGhpcyxlKSx0aGlzLiRkZWYudG9wb25fc2RrLm9uSGlkZVRpbWVzdGFtcD0wfX1mdW5jdGlvbiBfKCl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGcoKXtyZXR1cm4oZz1vKGkoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUsbixyLGEsbyxkLHMsbCxjO3JldHVybiBpKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wPURhdGUubm93KCksZT10aGlzLiRkZWYudG9wb25fc2RrLm9uSGlkZVRpbWVzdGFtcC10aGlzLiRkZWYudG9wb25fc2RrLm9uSW5pdFRpbWVzdGFtcCxuPXRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wLXRoaXMuJGRlZi50b3Bvbl9zZGsub25TaG93VGltZXN0YW1wLG89U3RyaW5nKHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlVGltZXN0YW1wKSxlPm4mJnRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlQ291bnRlcj4wPyhyPVxcXCIzXFxcIixhPVN0cmluZyh0aGlzLiRkZWYudG9wb25fc2RrLm9uU2hvd1RpbWVzdGFtcCksZD1TdHJpbmcobikpOihyPVxcXCIxXFxcIixhPVN0cmluZyh0aGlzLiRkZWYudG9wb25fc2RrLm9uSW5pdFRpbWVzdGFtcCksZD1TdHJpbmcoZSkpLHQubmV4dD03LEcoKTtjYXNlIDc6cmV0dXJuIHM9dC5zZW50LGw9e2tleTpcXFwiU1RBWV9USU1FXFxcIixzZGtfdGltZTpEYXRlLm5vdygpLHVwaWQ6cyxtc2c6cixtc2cxOmEsbXNnMjpvLG1zZzM6ZH0sVmEuY2FsbCh0aGlzLGwpLHRoaXMuJGRlZi50b3Bvbl9zZGsub25IaWRlQ291bnRlcisrLHQubmV4dD0xMyxHYS5jYWxsKHRoaXMsbCk7Y2FzZSAxMzpjPXQuc2VudCx0aGlzLiRkZWYudG9wb25fc2RrLmRlc3Ryb3lQYXJhbXM9YztjYXNlIDE1OmNhc2VcXFwiZW5kXFxcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB5KCl7dGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXA9RGF0ZS5ub3coKTt2YXIgdCxlLGksbixyPXRoaXMuJGRlZi50b3Bvbl9zZGsub25EZXN0cm95VGltZXN0YW1wLXRoaXMuJGRlZi50b3Bvbl9zZGsub25Jbml0VGltZXN0YW1wLGE9dGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXAtdGhpcy4kZGVmLnRvcG9uX3Nkay5vblNob3dUaW1lc3RhbXA7aT1TdHJpbmcodGhpcy4kZGVmLnRvcG9uX3Nkay5vbkRlc3Ryb3lUaW1lc3RhbXApLHI+YSYmdGhpcy4kZGVmLnRvcG9uX3Nkay5vbkhpZGVDb3VudGVyPjE/KHQ9XFxcIjRcXFwiLGU9U3RyaW5nKHRoaXMuJGRlZi50b3Bvbl9zZGsub25TaG93VGltZXN0YW1wKSxuPVN0cmluZyhhKSk6KHQ9XFxcIjJcXFwiLGU9U3RyaW5nKHRoaXMuJGRlZi50b3Bvbl9zZGsub25Jbml0VGltZXN0YW1wKSxuPVN0cmluZyhyKSk7dmFyIG89e2tleTpcXFwiU1RBWV9USU1FXFxcIixzZGtfdGltZTpEYXRlLm5vdygpLG1zZzp0LG1zZzE6ZSxtc2cyOmksbXNnMzpufTt6YS5jYWxsKHRoaXMsbyl9cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0uY2FsbCh0LG4pfSl9KCk7XFxuXCI7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBidWlsZEZ1bGxQYXRoID0gcmVxdWlyZSgnLi4vY29yZS9idWlsZEZ1bGxQYXRoJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciB0cmFuc2l0aW9uYWxEZWZhdWx0cyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRzL3RyYW5zaXRpb25hbCcpO1xudmFyIEF4aW9zRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL0F4aW9zRXJyb3InKTtcbnZhciBDYW5jZWxlZEVycm9yID0gcmVxdWlyZSgnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3InKTtcbnZhciBwYXJzZVByb3RvY29sID0gcmVxdWlyZSgnLi4vaGVscGVycy9wYXJzZVByb3RvY29sJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgICB2YXIgcmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB2YXIgb25DYW5jZWxlZDtcbiAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgICBjb25maWcuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIGNvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkgJiYgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkID8gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGNvbmZpZy5hdXRoLnBhc3N3b3JkKSkgOiAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgdmFyIGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8ICByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIHZhciB0cmFuc2l0aW9uYWwgPSBjb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBjb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSxcbiAgICAgICAgdHJhbnNpdGlvbmFsLmNsYXJpZnlUaW1lb3V0RXJyb3IgPyBBeGlvc0Vycm9yLkVUSU1FRE9VVCA6IEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihmdWxsUGF0aCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG4gICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzW2NvbmZpZy54c3JmSGVhZGVyTmFtZV0gPSB4c3JmVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0RGF0YSA9PT0gJ3VuZGVmaW5lZCcgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFjb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbiB8fCBjb25maWcuc2lnbmFsKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgb25DYW5jZWxlZCA9IGZ1bmN0aW9uKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KCFjYW5jZWwgfHwgKGNhbmNlbCAmJiBjYW5jZWwudHlwZSkgPyBuZXcgQ2FuY2VsZWRFcnJvcigpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbiAmJiBjb25maWcuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgaWYgKGNvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgY29uZmlnLnNpZ25hbC5hYm9ydGVkID8gb25DYW5jZWxlZCgpIDogY29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcmVxdWVzdERhdGEpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKGZ1bGxQYXRoKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBbICdodHRwJywgJ2h0dHBzJywgJ2ZpbGUnIF0uaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWxlZEVycm9yID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvcicpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuYXhpb3MuVkVSU0lPTiA9IHJlcXVpcmUoJy4vZW52L2RhdGEnKS52ZXJzaW9uO1xuYXhpb3MudG9Gb3JtRGF0YSA9IHJlcXVpcmUoJy4vaGVscGVycy90b0Zvcm1EYXRhJyk7XG5cbi8vIEV4cG9zZSBBeGlvc0Vycm9yIGNsYXNzXG5heGlvcy5BeGlvc0Vycm9yID0gcmVxdWlyZSgnLi4vbGliL2NvcmUvQXhpb3NFcnJvcicpO1xuXG4vLyBhbGlhcyBmb3IgQ2FuY2VsZWRFcnJvciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuYXhpb3MuQ2FuY2VsID0gYXhpb3MuQ2FuY2VsZWRFcnJvcjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzQXhpb3NFcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbGVkRXJyb3IgPSByZXF1aXJlKCcuL0NhbmNlbGVkRXJyb3InKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuXG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGNhbmNlbCkge1xuICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIGwgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICB9XG4gICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gIH0pO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuID0gZnVuY3Rpb24ob25mdWxmaWxsZWQpIHtcbiAgICB2YXIgX3Jlc29sdmU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICovXG5cbkNhbmNlbFRva2VuLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgfVxufTtcblxuLyoqXG4gKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gKi9cblxuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEF4aW9zRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL0F4aW9zRXJyb3InKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yKG1lc3NhZ2UpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQpO1xuICB0aGlzLm5hbWUgPSAnQ2FuY2VsZWRFcnJvcic7XG59XG5cbnV0aWxzLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsIEF4aW9zRXJyb3IsIHtcbiAgX19DQU5DRUxfXzogdHJ1ZVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsZWRFcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmNlcHRvck1hbmFnZXInKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2Rpc3BhdGNoUmVxdWVzdCcpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9tZXJnZUNvbmZpZycpO1xudmFyIGJ1aWxkRnVsbFBhdGggPSByZXF1aXJlKCcuL2J1aWxkRnVsbFBhdGgnKTtcbnZhciB2YWxpZGF0b3IgPSByZXF1aXJlKCcuLi9oZWxwZXJzL3ZhbGlkYXRvcicpO1xuXG52YXIgdmFsaWRhdG9ycyA9IHZhbGlkYXRvci52YWxpZGF0b3JzO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZ09yVXJsID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICBjb25maWcudXJsID0gY29uZmlnT3JVcmw7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnID0gY29uZmlnT3JVcmwgfHwge307XG4gIH1cblxuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gIC8vIFNldCBjb25maWcubWV0aG9kXG4gIGlmIChjb25maWcubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRzLm1ldGhvZCkge1xuICAgIGNvbmZpZy5tZXRob2QgPSB0aGlzLmRlZmF1bHRzLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZy5tZXRob2QgPSAnZ2V0JztcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uYWwgPSBjb25maWcudHJhbnNpdGlvbmFsO1xuXG4gIGlmICh0cmFuc2l0aW9uYWwgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgc2lsZW50SlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICBmb3JjZWRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICB9LCBmYWxzZSk7XG4gIH1cblxuICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gIHZhciByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICB2YXIgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvci5ydW5XaGVuID09PSAnZnVuY3Rpb24nICYmIGludGVyY2VwdG9yLnJ1bldoZW4oY29uZmlnKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgJiYgaW50ZXJjZXB0b3Iuc3luY2hyb25vdXM7XG5cbiAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB2YXIgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHZhciBwcm9taXNlO1xuXG4gIGlmICghc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzKSB7XG4gICAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcblxuICAgIEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGNoYWluLCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbik7XG4gICAgY2hhaW4gPSBjaGFpbi5jb25jYXQocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcblxuICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cblxuICB2YXIgbmV3Q29uZmlnID0gY29uZmlnO1xuICB3aGlsZSAocmVxdWVzdEludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoKSB7XG4gICAgdmFyIG9uRnVsZmlsbGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4uc2hpZnQoKTtcbiAgICB2YXIgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCk7XG4gICAgdHJ5IHtcbiAgICAgIG5ld0NvbmZpZyA9IG9uRnVsZmlsbGVkKG5ld0NvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG9uUmVqZWN0ZWQoZXJyb3IpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBwcm9taXNlID0gZGlzcGF0Y2hSZXF1ZXN0KG5ld0NvbmZpZyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuXG4gIHdoaWxlIChyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoKSB7XG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4uc2hpZnQoKSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5BeGlvcy5wcm90b3R5cGUuZ2V0VXJpID0gZnVuY3Rpb24gZ2V0VXJpKGNvbmZpZykge1xuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgcmV0dXJuIGJ1aWxkVVJMKGZ1bGxQYXRoLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiAoY29uZmlnIHx8IHt9KS5kYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVIVFRQTWV0aG9kKGlzRm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBodHRwTWV0aG9kKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogaXNGb3JtID8ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIEF4aW9zRXJyb3IobWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBFcnJvci5jYWxsKHRoaXMpO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIHJlc3BvbnNlICYmICh0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2UpO1xufVxuXG51dGlscy5pbmhlcml0cyhBeGlvc0Vycm9yLCBFcnJvciwge1xuICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIHN0YXR1czogdGhpcy5yZXNwb25zZSAmJiB0aGlzLnJlc3BvbnNlLnN0YXR1cyA/IHRoaXMucmVzcG9uc2Uuc3RhdHVzIDogbnVsbFxuICAgIH07XG4gIH1cbn0pO1xuXG52YXIgcHJvdG90eXBlID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG52YXIgZGVzY3JpcHRvcnMgPSB7fTtcblxuW1xuICAnRVJSX0JBRF9PUFRJT05fVkFMVUUnLFxuICAnRVJSX0JBRF9PUFRJT04nLFxuICAnRUNPTk5BQk9SVEVEJyxcbiAgJ0VUSU1FRE9VVCcsXG4gICdFUlJfTkVUV09SSycsXG4gICdFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTJyxcbiAgJ0VSUl9ERVBSRUNBVEVEJyxcbiAgJ0VSUl9CQURfUkVTUE9OU0UnLFxuICAnRVJSX0JBRF9SRVFVRVNUJyxcbiAgJ0VSUl9DQU5DRUxFRCdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5dLmZvckVhY2goZnVuY3Rpb24oY29kZSkge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvci5mcm9tID0gZnVuY3Rpb24oZXJyb3IsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UsIGN1c3RvbVByb3BzKSB7XG4gIHZhciBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSk7XG5cbiAgQXhpb3NFcnJvci5jYWxsKGF4aW9zRXJyb3IsIGVycm9yLm1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zRXJyb3I7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkLCBvcHRpb25zKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkLFxuICAgIHN5bmNocm9ub3VzOiBvcHRpb25zID8gb3B0aW9ucy5zeW5jaHJvbm91cyA6IGZhbHNlLFxuICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBDYW5jZWxlZEVycm9yID0gcmVxdWlyZSgnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3InKTtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcigpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNcbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICB2YXIgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHt9LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhwcm9wKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcyW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzFbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcxW3Byb3BdKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcyW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMltwcm9wXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMltwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzFbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcxW3Byb3BdKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEaXJlY3RLZXlzKHByb3ApIHtcbiAgICBpZiAocHJvcCBpbiBjb25maWcyKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSk7XG4gICAgfSBlbHNlIGlmIChwcm9wIGluIGNvbmZpZzEpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzFbcHJvcF0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBtZXJnZU1hcCA9IHtcbiAgICAndXJsJzogdmFsdWVGcm9tQ29uZmlnMixcbiAgICAnbWV0aG9kJzogdmFsdWVGcm9tQ29uZmlnMixcbiAgICAnZGF0YSc6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgJ2Jhc2VVUkwnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0cmFuc2Zvcm1SZXF1ZXN0JzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndHJhbnNmb3JtUmVzcG9uc2UnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdwYXJhbXNTZXJpYWxpemVyJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndGltZW91dCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RpbWVvdXRNZXNzYWdlJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnd2l0aENyZWRlbnRpYWxzJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnYWRhcHRlcic6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3Jlc3BvbnNlVHlwZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3hzcmZDb29raWVOYW1lJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAneHNyZkhlYWRlck5hbWUnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdvblVwbG9hZFByb2dyZXNzJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnb25Eb3dubG9hZFByb2dyZXNzJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnZGVjb21wcmVzcyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ21heENvbnRlbnRMZW5ndGgnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdtYXhCb2R5TGVuZ3RoJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnYmVmb3JlUmVkaXJlY3QnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0cmFuc3BvcnQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdodHRwQWdlbnQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdodHRwc0FnZW50JzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnY2FuY2VsVG9rZW4nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdzb2NrZXRQYXRoJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAncmVzcG9uc2VFbmNvZGluZyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3ZhbGlkYXRlU3RhdHVzJzogbWVyZ2VEaXJlY3RLZXlzXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyhjb25maWcxKS5jb25jYXQoT2JqZWN0LmtleXMoY29uZmlnMikpLCBmdW5jdGlvbiBjb21wdXRlQ29uZmlnVmFsdWUocHJvcCkge1xuICAgIHZhciBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgdmFyIGNvbmZpZ1ZhbHVlID0gbWVyZ2UocHJvcCk7XG4gICAgKHV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZ1ZhbHVlKSAmJiBtZXJnZSAhPT0gbWVyZ2VEaXJlY3RLZXlzKSB8fCAoY29uZmlnW3Byb3BdID0gY29uZmlnVmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEF4aW9zRXJyb3IgPSByZXF1aXJlKCcuL0F4aW9zRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbnRleHQsIGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xudmFyIEF4aW9zRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL0F4aW9zRXJyb3InKTtcbnZhciB0cmFuc2l0aW9uYWxEZWZhdWx0cyA9IHJlcXVpcmUoJy4vdHJhbnNpdGlvbmFsJyk7XG52YXIgdG9Gb3JtRGF0YSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuLi9hZGFwdGVycy94aHInKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAvLyBGb3Igbm9kZSB1c2UgSFRUUCBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcblxuICB0cmFuc2l0aW9uYWw6IHRyYW5zaXRpb25hbERlZmF1bHRzLFxuXG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHZhciBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcbiAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzICYmIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddO1xuXG4gICAgdmFyIGlzRmlsZUxpc3Q7XG5cbiAgICBpZiAoKGlzRmlsZUxpc3QgPSB1dGlscy5pc0ZpbGVMaXN0KGRhdGEpKSB8fCAoaXNPYmplY3RQYXlsb2FkICYmIGNvbnRlbnRUeXBlID09PSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpKSB7XG4gICAgICB2YXIgX0Zvcm1EYXRhID0gdGhpcy5lbnYgJiYgdGhpcy5lbnYuRm9ybURhdGE7XG4gICAgICByZXR1cm4gdG9Gb3JtRGF0YShpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLCBfRm9ybURhdGEgJiYgbmV3IF9Gb3JtRGF0YSgpKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBjb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgdmFyIHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICB2YXIgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIHZhciBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKHN0cmljdEpTT05QYXJzaW5nIHx8IChmb3JjZWRKU09OUGFyc2luZyAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiBkYXRhLmxlbmd0aCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHJlcXVpcmUoJy4vZW52L0Zvcm1EYXRhJylcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgIH1cbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNpbGVudEpTT05QYXJzaW5nOiB0cnVlLFxuICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgY2xhcmlmeVRpbWVvdXRFcnJvcjogZmFsc2Vcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMC4yNy4yXCJcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHZhciBvcmlnaW5VUkw7XG5cbiAgICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzdHJpY3Rcbm1vZHVsZS5leHBvcnRzID0gbnVsbDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xudmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl07XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VQcm90b2NvbCh1cmwpIHtcbiAgdmFyIG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgZGF0YSBvYmplY3QgdG8gRm9ybURhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBmb3JtRGF0YSA9IGZvcm1EYXRhIHx8IG5ldyBGb3JtRGF0YSgpO1xuXG4gIHZhciBzdGFjayA9IFtdO1xuXG4gIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICcnO1xuXG4gICAgaWYgKHV0aWxzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKHZhbHVlKSB8fCB1dGlscy5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIEJsb2IgPT09ICdmdW5jdGlvbicgPyBuZXcgQmxvYihbdmFsdWVdKSA6IEJ1ZmZlci5mcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBidWlsZChkYXRhLCBwYXJlbnRLZXkpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChkYXRhKSB8fCB1dGlscy5pc0FycmF5KGRhdGEpKSB7XG4gICAgICBpZiAoc3RhY2suaW5kZXhPZihkYXRhKSAhPT0gLTEpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAnICsgcGFyZW50S2V5KTtcbiAgICAgIH1cblxuICAgICAgc3RhY2sucHVzaChkYXRhKTtcblxuICAgICAgdXRpbHMuZm9yRWFjaChkYXRhLCBmdW5jdGlvbiBlYWNoKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICB2YXIgZnVsbEtleSA9IHBhcmVudEtleSA/IHBhcmVudEtleSArICcuJyArIGtleSA6IGtleTtcbiAgICAgICAgdmFyIGFycjtcblxuICAgICAgICBpZiAodmFsdWUgJiYgIXBhcmVudEtleSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgaWYgKHV0aWxzLmVuZHNXaXRoKGtleSwgJ3t9JykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh1dGlscy5lbmRzV2l0aChrZXksICdbXScpICYmIChhcnIgPSB1dGlscy50b0FycmF5KHZhbHVlKSkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAhdXRpbHMuaXNVbmRlZmluZWQoZWwpICYmIGZvcm1EYXRhLmFwcGVuZChmdWxsS2V5LCBjb252ZXJ0VmFsdWUoZWwpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJ1aWxkKHZhbHVlLCBmdWxsS2V5KTtcbiAgICAgIH0pO1xuXG4gICAgICBzdGFjay5wb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybURhdGEuYXBwZW5kKHBhcmVudEtleSwgY29udmVydFZhbHVlKGRhdGEpKTtcbiAgICB9XG4gIH1cblxuICBidWlsZChvYmopO1xuXG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0Zvcm1EYXRhO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2Vudi9kYXRhJykudmVyc2lvbjtcbnZhciBBeGlvc0Vycm9yID0gcmVxdWlyZSgnLi4vY29yZS9BeGlvc0Vycm9yJyk7XG5cbnZhciB2YWxpZGF0b3JzID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaChmdW5jdGlvbih0eXBlLCBpKSB7XG4gIHZhbGlkYXRvcnNbdHlwZV0gPSBmdW5jdGlvbiB2YWxpZGF0b3IodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSB0eXBlIHx8ICdhJyArIChpIDwgMSA/ICduICcgOiAnICcpICsgdHlwZTtcbiAgfTtcbn0pO1xuXG52YXIgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb258Ym9vbGVhbj99IHZhbGlkYXRvciAtIHNldCB0byBmYWxzZSBpZiB0aGUgdHJhbnNpdGlvbmFsIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkXG4gKiBAcGFyYW0ge3N0cmluZz99IHZlcnNpb24gLSBkZXByZWNhdGVkIHZlcnNpb24gLyByZW1vdmVkIHNpbmNlIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nP30gbWVzc2FnZSAtIHNvbWUgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgaW5mb1xuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvcHQsIG9wdHMpIHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgfVxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIHZhciBvcHQgPSBrZXlzW2ldO1xuICAgIHZhciB2YWxpZGF0b3IgPSBzY2hlbWFbb3B0XTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICB2YXIgdmFsdWUgPSBvcHRpb25zW29wdF07XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhc3NlcnRPcHRpb25zOiBhc3NlcnRPcHRpb25zLFxuICB2YWxpZGF0b3JzOiB2YWxpZGF0b3JzXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG52YXIga2luZE9mID0gKGZ1bmN0aW9uKGNhY2hlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiBmdW5jdGlvbih0aGluZykge1xuICAgIHZhciBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG4gIH07XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuZnVuY3Rpb24ga2luZE9mVGVzdCh0eXBlKSB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBmdW5jdGlvbiBpc0tpbmRPZih0aGluZykge1xuICAgIHJldHVybiBraW5kT2YodGhpbmcpID09PSB0eXBlO1xuICB9O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiB0eXBlb2YgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbnZhciBpc0FycmF5QnVmZmVyID0ga2luZE9mVGVzdCgnQXJyYXlCdWZmZXInKTtcblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmIChpc0FycmF5QnVmZmVyKHZhbC5idWZmZXIpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsKSB7XG4gIGlmIChraW5kT2YodmFsKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbCk7XG4gIHJldHVybiBwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xudmFyIGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbnZhciBpc0ZpbGUgPSBraW5kT2ZUZXN0KCdGaWxlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG52YXIgaXNCbG9iID0ga2luZE9mVGVzdCgnQmxvYicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZUxpc3RcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbnZhciBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodGhpbmcpIHtcbiAgdmFyIHBhdHRlcm4gPSAnW29iamVjdCBGb3JtRGF0YV0nO1xuICByZXR1cm4gdGhpbmcgJiYgKFxuICAgICh0eXBlb2YgRm9ybURhdGEgPT09ICdmdW5jdGlvbicgJiYgdGhpbmcgaW5zdGFuY2VvZiBGb3JtRGF0YSkgfHxcbiAgICB0b1N0cmluZy5jYWxsKHRoaW5nKSA9PT0gcGF0dGVybiB8fFxuICAgIChpc0Z1bmN0aW9uKHRoaW5nLnRvU3RyaW5nKSAmJiB0aGluZy50b1N0cmluZygpID09PSBwYXR0ZXJuKVxuICApO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG52YXIgaXNVUkxTZWFyY2hQYXJhbXMgPSBraW5kT2ZUZXN0KCdVUkxTZWFyY2hQYXJhbXMnKTtcblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnRyaW0gPyBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgKG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOUycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QocmVzdWx0W2tleV0pICYmIGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWwuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKiBAcmV0dXJuIHtzdHJpbmd9IGNvbnRlbnQgdmFsdWUgd2l0aG91dCBCT01cbiAqL1xuZnVuY3Rpb24gc3RyaXBCT00oY29udGVudCkge1xuICBpZiAoY29udGVudC5jaGFyQ29kZUF0KDApID09PSAweEZFRkYpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW3Byb3BzXVxuICogQHBhcmFtIHtvYmplY3R9IFtkZXNjcmlwdG9yc11cbiAqL1xuXG5mdW5jdGlvbiBpbmhlcml0cyhjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIHByb3BzICYmIE9iamVjdC5hc3NpZ24oY29uc3RydWN0b3IucHJvdG90eXBlLCBwcm9wcyk7XG59XG5cbi8qKlxuICogUmVzb2x2ZSBvYmplY3Qgd2l0aCBkZWVwIHByb3RvdHlwZSBjaGFpbiB0byBhIGZsYXQgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlT2JqIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGVzdE9ial1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmaWx0ZXJdXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIHRvRmxhdE9iamVjdChzb3VyY2VPYmosIGRlc3RPYmosIGZpbHRlcikge1xuICB2YXIgcHJvcHM7XG4gIHZhciBpO1xuICB2YXIgcHJvcDtcbiAgdmFyIG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuXG4gIGRvIHtcbiAgICBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZU9iaik7XG4gICAgaSA9IHByb3BzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgcHJvcCA9IHByb3BzW2ldO1xuICAgICAgaWYgKCFtZXJnZWRbcHJvcF0pIHtcbiAgICAgICAgZGVzdE9ialtwcm9wXSA9IHNvdXJjZU9ialtwcm9wXTtcbiAgICAgICAgbWVyZ2VkW3Byb3BdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc291cmNlT2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn1cblxuLypcbiAqIGRldGVybWluZXMgd2hldGhlciBhIHN0cmluZyBlbmRzIHdpdGggdGhlIGNoYXJhY3RlcnMgb2YgYSBzcGVjaWZpZWQgc3RyaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nXG4gKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uPSAwXVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGVuZHNXaXRoKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIHZhciBsYXN0SW5kZXggPSBzdHIuaW5kZXhPZihzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKTtcbiAgcmV0dXJuIGxhc3RJbmRleCAhPT0gLTEgJiYgbGFzdEluZGV4ID09PSBwb3NpdGlvbjtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgbmV3IGFycmF5IGZyb20gYXJyYXkgbGlrZSBvYmplY3RcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KHRoaW5nKSB7XG4gIGlmICghdGhpbmcpIHJldHVybiBudWxsO1xuICB2YXIgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKGlzVW5kZWZpbmVkKGkpKSByZXR1cm4gbnVsbDtcbiAgdmFyIGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xudmFyIGlzVHlwZWRBcnJheSA9IChmdW5jdGlvbihUeXBlZEFycmF5KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiBmdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheSkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3Q6IGlzUGxhaW5PYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbSxcbiAgc3RyaXBCT006IHN0cmlwQk9NLFxuICBpbmhlcml0czogaW5oZXJpdHMsXG4gIHRvRmxhdE9iamVjdDogdG9GbGF0T2JqZWN0LFxuICBraW5kT2Y6IGtpbmRPZixcbiAga2luZE9mVGVzdDoga2luZE9mVGVzdCxcbiAgZW5kc1dpdGg6IGVuZHNXaXRoLFxuICB0b0FycmF5OiB0b0FycmF5LFxuICBpc1R5cGVkQXJyYXk6IGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdDogaXNGaWxlTGlzdFxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9zeXN0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2hcIikpO1xudmFyIF9zeXN0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnN0b3JhZ2VcIikpO1xudmFyIF9zeXN0ZW0zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmRldmljZVwiKSk7XG52YXIgX3N5c3RlbTQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ucHJvbXB0XCIpKTtcbnZhciBfc3lzdGVtNSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5yb3V0ZXJcIikpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IHR5cGVvZiBpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgaSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5jb25zdCBnZXRVc2VySWQgPSBhc3luYyAoKSA9PiB7XG4gIGxldCB1c2VySWQgPSBhd2FpdCBfc3lzdGVtMy5kZWZhdWx0LmdldFVzZXJJZCgpO1xuICByZXR1cm4gdXNlcklkLmRhdGEudXNlcklkO1xufTtcbmNvbnN0IHF1aXQgPSAoKSA9PiB7XG4gIF9zeXN0ZW00LmRlZmF1bHQuc2hvd0RpYWxvZyh7XG4gICAgdGl0bGU6ICforablkYonLFxuICAgIG1lc3NhZ2U6IFwi5oKo5bey5rOo6ZSA6LSm5Y+3LOivt+mAgOWHuuOAglwiLFxuICAgIGJ1dHRvbnM6IFt7XG4gICAgICB0ZXh0OiAn6YCA5Ye6JyxcbiAgICAgIGNvbG9yOiAnIzMzMzMzMydcbiAgICB9XSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgX3N5c3RlbTUuZGVmYXVsdC5wdXNoKHtcbiAgICAgICAgdXJpOiBcIlBhZ2VfbG9naW5cIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2FuY2VsXCIpO1xuICAgIH1cbiAgfSk7XG59O1xuY29uc3QgZ2V0VG9rZW5EYXRhID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGV4YW1wbGUgPSByZXF1aXJlKCcuL2FwaXMvZXhhbXBsZS5qcycpLmRlZmF1bHQ7XG4gICAgY29uc3QgZGV2aWNlTnVtID0gYXdhaXQgZ2V0VXNlcklkKCk7XG4gICAgLy8gY29uc29sZS5sb2coYGdldFRva2VuRGF0YSgpLS0tLT5kZXZpY2VOdW09JHtkZXZpY2VOdW19YCk7XG4gICAgLy8gY29uc29sZS5sb2coJ+aYr+WQpuinpuWPkeeahOi/memHjCcpO1xuICAgIGV4YW1wbGUudG9Mb2dpbih7XG4gICAgICBsb2dpblR5cGU6IFwiREVWSUNFXCIsXG4gICAgICBhcHBJZDogJ1NDXzAwMDEnLFxuICAgICAgZGV2aWNlTnVtLFxuICAgICAgbG9naW5BY2NvdW50OiBkZXZpY2VOdW1cbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ+i1sOeahOaIkOWKn+WbnuiwgycpO1xuICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyLCAn5aSx6LSl5Zue6LCDJyk7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoSlNPTi5wYXJzZShlcnIpLmNvZGUgPT09ICczMTAwMDEnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+i/m+adpeS6hicpO1xuICAgICAgICAgIHF1aXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IsICfmn6XnnIvojrflj5bmiqXplJknKTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9KTtcbn07XG5sZXQgaXNSZWZyZXNoaW5nID0gZmFsc2U7IC8vIOaYr+WQpuato+WcqOivt+axguWIt+aWsHRva2Vu55qE5o6l5Y+jXG5jb25zdCByZWZyZXNoU3Vic2NyaWJlcnMgPSBbXTsgLy8g5a2Y5YKo6K+35rGC55qE5pWw57uEXG5jb25zdCBzdWJzY3JpYmVUb2tlblJlZnJlc2ggPSBjYiA9PiB7XG4gIC8vIOWwhuaJgOacieeahOivt+axgumDvXB1c2jliLDmlbDnu4TkuK0s5YW25a6e5pWw57uE5pivW2Z1bmN0aW9uKHRva2VuKXt9LCBmdW5jdGlvbih0b2tlbil7fSwuLi5dXG4gIHJlZnJlc2hTdWJzY3JpYmVycy5wdXNoKGNiKTtcbn07XG5jb25zdCBvblJyZWZyZXNoZWQgPSB0b2tlbiA9PiB7XG4gIC8vIOaVsOe7hOS4reeahOivt+axguW+l+WIsOaWsOeahHRva2Vu5LmL5ZCO6Ieq5omn6KGM77yM55So5paw55qEdG9rZW7ljrvor7fmsYLmlbDmja5cbiAgcmVmcmVzaFN1YnNjcmliZXJzLm1hcChjYiA9PiBjYih0b2tlbikpO1xufTtcbmNvbnN0IGlzQWNjZXNzVG9rZW5FeHBpcmVkID0gYXV0aERhdGEgPT4ge1xuICAvLyDliKTmlq3lvZPliY10b2tlbuaYr+WQpui/h+acn1xuICBpZiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBhdXRoRGF0YS5leHBpcmVBdCA+IDEwMDAwICogNjApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgcmVxdWVzdCA9IG9wdGlvbnMgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGEsXG4gICAgICBoZWFkZXJzID0ge31cbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhdXRoRGF0YSA9IChhd2FpdCBfc3lzdGVtMi5kZWZhdWx0LmdldCh7XG4gICAgICBrZXk6ICdBVVRIX1RPS0VOX0RBVEEnXG4gICAgfSkpIHx8IHt9O1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXV0aERhdGEuZGF0YSA/IEpTT04ucGFyc2UoYXV0aERhdGEuZGF0YSkuYWNjZXNzVG9rZW4gOiAnJztcbiAgICBpZiAoaXNBY2Nlc3NUb2tlbkV4cGlyZWQoYXV0aERhdGEpIHx8ICFhY2Nlc3NUb2tlbikge1xuICAgICAgaWYgKCFvcHRpb25zLnVybC5pbmNsdWRlcyhcInFhL21pbmkvYmFzaWMvdXNlci9sb2dpblwiKSkge1xuICAgICAgICBpZiAoIWlzUmVmcmVzaGluZykge1xuICAgICAgICAgIGlzUmVmcmVzaGluZyA9IHRydWU7XG4gICAgICAgICAgZ2V0VG9rZW5EYXRhKCkudGhlbihhc3luYyByZXMgPT4ge1xuICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMpO1xuICAgICAgICAgICAgaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IFwiMDAwMDAwXCIpIHtcbiAgICAgICAgICAgICAgaGVhZGVycy5BdXRob3JpemF0aW9uID0gcmVzLmRhdGEuYWNjZXNzVG9rZW47XG4gICAgICAgICAgICAgIGF3YWl0IF9zeXN0ZW0yLmRlZmF1bHQuc2V0KHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiQVVUSF9UT0tFTl9EQVRBXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlcy5kYXRhLmFjY2Vzc1Rva2VuJywgcmVzLmRhdGEuYWNjZXNzVG9rZW4pO1xuICAgICAgICAgICAgICBvblJyZWZyZXNoZWQocmVzLmRhdGEuYWNjZXNzVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpc1JlZnJlc2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmV0cnkgPSBuZXcgUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgICAgc3Vic2NyaWJlVG9rZW5SZWZyZXNoKHRva2VuID0+IHtcbiAgICAgICAgICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRva2VuOyAvLyDnlKjmnIDmlrB0b2tlbuivt+axguaVsOaNrlxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Qob3B0aW9ucykudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldHJ5O1xuICAgICAgfVxuICAgIH1cbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBhY2Nlc3NUb2tlbiB8fCAnJztcbiAgICBfc3lzdGVtLmRlZmF1bHQuZmV0Y2goe1xuICAgICAgLy8gdXJsOiAnaHR0cHM6Ly90ZXN0LmlwYW5kYXRhLmNvbScgKyB1cmwsXG4gICAgICB1cmw6ICdodHRwczovL2FwaS5paGFpdHVvLmNuJyArIHVybCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIGRhdGEsXG4gICAgICBoZWFkZXI6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgfSwgaGVhZGVycyksXG4gICAgICAvLyBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAvLyAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YVxuICAgICAgLy8gICBpZiAoZGF0YS5jb2RlID09PSBcIjAwMDAwMFwiIHx8IEpTT04ucGFyc2UoZGF0YSkuY29kZSA9PT0gXCIwMDAwMDBcIikge1xuICAgICAgLy8gICAgIHJlc29sdmUodXJsLmluY2x1ZGVzKFwicWEvbWluaS9iYXNpYy91c2VyL2xvZ2luXCIpID8gcmVzLmRhdGEgOiBKU09OLnBhcnNlKHJlcy5kYXRhKSk7XG4gICAgICAvLyAgIH0gZWxzZSB7XG4gICAgICAvLyAgICAgaWYgKGRhdGEuY29kZSA9PT0gXCIzMDAwMDJcIikge1xuICAgICAgLy8gICAgICAgJHN0b3JhZ2UuZGVsZXRlKHtcbiAgICAgIC8vICAgICAgICAga2V5OiAnQVVUSF9UT0tFTl9EQVRBJ1xuICAgICAgLy8gICAgICAgfSlcbiAgICAgIC8vICAgICAgIHJlcXVlc3Qob3B0aW9ucylcbiAgICAgIC8vICAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgIC8vICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgIC8vICAgICAgIHJlamVjdChyZXMuZGF0YSk7XG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gICB9XG4gICAgICAvLyB9LFxuXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhO1xuXG4gICAgICAgICAgLy8g5bCd6K+V6Kej5p6QIEpTT04g5pWw5o2u77yM5aaC5p6c6Kej5p6Q5aSx6LSl77yM5YiZ5Lya5oqb5Ye66ZSZ6K+vXG4gICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoZGF0YSkgOiBkYXRhO1xuICAgICAgICAgIGlmIChwYXJzZWREYXRhLmNvZGUgPT09IFwiMDAwMDAwXCIpIHtcbiAgICAgICAgICAgIHJlc29sdmUodXJsLmluY2x1ZGVzKFwicWEvbWluaS9iYXNpYy91c2VyL2xvZ2luXCIpID8gZGF0YSA6IHBhcnNlZERhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkRGF0YS5jb2RlID09PSBcIjMwMDAwMlwiKSB7XG4gICAgICAgICAgICAgIF9zeXN0ZW0yLmRlZmF1bHQuZGVsZXRlKHtcbiAgICAgICAgICAgICAgICBrZXk6ICdBVVRIX1RPS0VOX0RBVEEnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXF1ZXN0KG9wdGlvbnMpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBKU09OIG9yIGhhbmRsaW5nIGNvZGU6IFwiLCBlKTtcblxuICAgICAgICAgIC8vIOajgOafpeaYr+WQpui/lOWbnueahOaYryBIVE1M77yM6ICM5LiN5pivIEpTT05cbiAgICAgICAgICBpZiAodHlwZW9mIHJlcy5kYXRhID09PSAnc3RyaW5nJyAmJiByZXMuZGF0YS5zdGFydHNXaXRoKCc8aHRtbD4nKSkge1xuICAgICAgICAgICAgcmVqZWN0KFwiU2VydmVyIHJldHVybmVkIGFuIEhUTUwgcGFnZSBpbnN0ZWFkIG9mIEpTT04uIFBvc3NpYmxlIGluY29ycmVjdCBVUkwgb3Igc2VydmVyIGVycm9yLlwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KFwiRXJyb3IgcGFyc2luZyBKU09OIG9yIGhhbmRsaW5nIGNvZGU6IFwiICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAocmVzKSB7fVxuICAgIH0pO1xuICB9KTtcbn07XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSByZXF1ZXN0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9hamF4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vYWpheC5qc1wiKSk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9OyB9XG4vLyDnmbvlvZUgXG5jb25zdCB0b0xvZ2luID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvdXNlci9sb2dpbmAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8vIOS4iuS8oOatpeaVsFxuY29uc3QgdXBsb2Fkc3RlcHMgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9zYy91cGxvYWRgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuLy8g6I635Y+W5q2l5pWwXG5jb25zdCBnZXRzdGVwcyA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvc2NgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDojrflj5bmnIDov5EzMOWkqeiusOW9lVxuY29uc3QgZ2V0c3RlcHNsaXN0ID0gKCkgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvc2MvbGlzdGBcbiAgfSk7XG59O1xuXG4vL+aPkOeOsFxuY29uc3Qgd2l0aGRyYXcgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL3dpdGhkcmF3YCxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy/nlKjmiLfkvZnpop3orrDlvZVcbmNvbnN0IHJlY29yZCA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvdXNlci9jYXNoL3JlY29yZGAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8v6I635Y+W5bm/5ZGK5a6M5oiQ5qyh5pWwXG5jb25zdCBnZXRBZENvdW50ID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9jb21wbGV0ZS9jb3VudGAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8v5bm/5ZGK5a6M5oiQXG5jb25zdCBjb21wbGV0ZUFkID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvYWQvY29tcGxldGVgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vL+W5v+WRiuWujOaIkC3liqDlr4ZcbmNvbnN0IGNvbXBsZXRlQWRSU0EgPSBhc3luYyBkYXRhID0+IHtcbiAgbGV0IHRpbWVzdGFtcCA9ICtuZXcgRGF0ZSgpO1xuICBkYXRhLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgbGV0IF9kYXRhID0gYXdhaXQgJHV0aWxzLmRhdGFFbmNyeXB0aW9uKGRhdGEpO1xuICBsZXQgcGFyYW0gPSB7XG4gICAgZGF0YTogX2RhdGFcbiAgfTtcbiAgY29uc29sZS5sb2coJ+S7u+WKoeWKoOWvhicsIHBhcmFtKTtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9maW5pc2hgLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBhcmFtKVxuICB9KTtcbn07XG5cbi8v5bm/5ZGK6L2s5YyW5LiK5LygICAgdHlwZTrlub/lkYrmuKDpgZPnsbvlnos6IGpoKOmyuOm4vyksIGtzKOW/q+aJiyksIGpsKOW3qOmHjyksICzlj6/nlKjlgLw6amgsa3MsamxcbmNvbnN0IGNvbnZlcnRVcGxvYWQgPSBkYXRhID0+IHtcbiAgY29uc29sZS5sb2coJ2RhdGE9ICcsIGRhdGEsIGB1cmw9IC9xYS9taW5pL2Jhc2ljL2FkL2NvbnZlcnQvdXBsb2FkLyR7ZGF0YS50eXBlfWApO1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2FkL2NvbnZlcnQvdXBsb2FkLyR7ZGF0YS50eXBlfWAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8v6I635Y+W5omL5Yq/6L+U5Zue6YWN572u5L+h5oGvXG5jb25zdCBib2xja1JldHVybiA9ICgpID0+IHtcbiAgbGV0IGJyYW5kID0gZ2V0QXBwKCkuJGRlZi5kYXRhQXBwLmJyYW5kO1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvY2xpY2tDb250cm9sL3JldHVybi9pbmZvLyR7YnJhbmR9YFxuICB9KTtcbn07XG5cbi8qKlxyXG4gKiDojrflj5bpobXpnaLpgI/mmI7lsYLphY3nva7kv6Hmga8gIFxyXG4gKlxyXG4gKi9cblxuY29uc3Qgc2hvd1RjbGF5ZXIgPSBkYXRhID0+IHtcbiAgbGV0IGJyYW5kID0gZ2V0QXBwKCkuJGRlZi5kYXRhQXBwLmJyYW5kO1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvY2xpY2tDb250cm9sL3RyYW5zcGFyZW50TGF5ZXIvaW5mby8ke2JyYW5kfWAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8qKlxyXG4gKiDojrflj5bmmK/lkKboh6rliqjlvLnnqpcgIFxyXG4gKlxyXG4gKi9cblxuY29uc3QgcG9wVXBzID0gKCkgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvYWQvYXV0by9wb3BVcHNgXG4gIH0pO1xufTtcblxuLyoqXHJcbiAqIOi9rOWMlueCueWHu+asoeaVsFxyXG4gKlxyXG4gKi9cbmNvbnN0IGNsaWNrQ291bnQgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2FkL2NvbnZlcnQvY2xpY2tDb3VudC8ke2RhdGEudHlwZX1gLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vL+WNleS4quWfi+eCueaVsOaNrlxuY29uc3QgY2FwdHVyZSA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogYC9xYS90cmFjay9jYXB0dXJlYCxcbiAgICBkYXRhXG4gIH0pO1xufTtcbnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgdG9Mb2dpbixcbiAgdXBsb2Fkc3RlcHMsXG4gIGdldHN0ZXBzLFxuICBnZXRzdGVwc2xpc3QsXG4gIHdpdGhkcmF3LFxuICByZWNvcmQsXG4gIGdldEFkQ291bnQsXG4gIGNvbXBsZXRlQWQsXG4gIGNvbXBsZXRlQWRSU0EsXG4gIGNvbnZlcnRVcGxvYWQsXG4gIGJvbGNrUmV0dXJuLFxuICBzaG93VGNsYXllcixcbiAgcG9wVXBzLFxuICBjbGlja0NvdW50LFxuICBjYXB0dXJlXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuLyoqXG4gKiDlr7zlh7ogYXBpcyDkuIvnm67lvZXnmoTmiYDmnInmjqXlj6NcbiAqL1xuY29uc3QgZmlsZXMgPSByZXF1aXJlLmNvbnRleHQoJy4nLCB0cnVlLCAvXFwuanMvKTtcbmNvbnN0IG1vZHVsZXMgPSB7fTtcbmZpbGVzLmtleXMoKS5mb3JFYWNoKGtleSA9PiB7XG4gIGlmIChrZXkgPT09ICcuL2luZGV4LmpzJykge1xuICAgIHJldHVybjtcbiAgfVxuICBtb2R1bGVzW2tleS5yZXBsYWNlKC8oXlxcLlxcL3xcXC5qcyQpL2csICcnKV0gPSBmaWxlcyhrZXkpLmRlZmF1bHQ7XG59KTtcbnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX2FqYXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9hamF4LmpzXCIpKTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSkgeyByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07IH1cbi8vIOiOt+WPluW5v+WRiuWujOaIkOaDheWGtVxuY29uc3QgZ2V0Q29tcGxldGVDb3VudCA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2FkL2NvbXBsZXRlL2NvdW50YCxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy8g5a6M5oiQ5bm/5ZGKXG5jb25zdCBwb3N0Q29tcGxldGVBZCA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9jb21wbGV0ZWAsXG4gICAgZGF0YVxuICB9KTtcbn07XG4vLyDlrozmiJDlub/lkYoo5Yqg5a+GKVxuY29uc3QgcG9zdEZpbmlzaENvbXBsZXRlQWQgPSBhc3luYyAoZGF0YSwgaGVhZGVycykgPT4ge1xuICBsZXQgdGltZXN0YW1wID0gK25ldyBEYXRlKCk7XG4gIGRhdGEudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICBsZXQgX2RhdGEgPSBhd2FpdCAkdXRpbHMuZGF0YUVuY3J5cHRpb24oZGF0YSk7XG4gIGxldCBwYXJhbSA9IHtcbiAgICBkYXRhOiBfZGF0YVxuICB9O1xuICBjb25zb2xlLmxvZygn5Lu75Yqh5Yqg5a+GJywgcGFyYW0pO1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9maW5pc2hgLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBhcmFtKSxcbiAgICBoZWFkZXJzXG4gIH0pO1xufTtcblxuLy8g6I635Y+W5piv5ZCm6Ieq5Yqo5by556qXXG5jb25zdCBnZXRBdXRvUG9wVXBzID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvYWQvYXV0by9wb3BVcHNgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDovazmjaLkuIrmiqVcbmNvbnN0IHBvc3RDb252ZXJ0VXBsb2FkID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2FkL2NvbnZlcnQvdXBsb2FkLyR7ZGF0YS50eXBlfWAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8vIOiOt+WPluaJi+WKv+i/lOWbnumFjee9ruS/oeaBr1xuY29uc3QgZ2V0Q2xpY2tDb250cm9sUmV5dXJuID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvY2xpY2tDb250cm9sL3JldHVybi9pbmZvLyR7ZGF0YS5icmFuZH1gLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDojrflj5bpobXpnaLpgI/mmI7lsYLphY3nva7kv6Hmga9cbmNvbnN0IGdldFRyYW5zcGFyZW50TGF5ZXIgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9jbGlja0NvbnRyb2wvdHJhbnNwYXJlbnRMYXllci9pbmZvLyR7ZGF0YS5icmFuZH1gLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDojrflj5bnpo/liKnlhaXlj6Pkv6Hmga9cbmNvbnN0IGdldFVzZXJ3ZWFsRW50cnkgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL3dlYWwvZW50cnlgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDojrflj5bot7Povazpk77mjqVcbmNvbnN0IGdldEFkSnVtcExpbmsgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9qdW1wTGluay8ke2RhdGEuYnJhbmR9YCxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy8g6I635Y+W5piv5ZCm5byA5ZCv5bm/5ZGK6aG15YWl5Y+jXG5jb25zdCBnZXRBZFBhZ2VFbnRyYW5jZSA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogYC9xYS9taW5pL2Jhc2ljL2FkL2FkUGFnZS9lbnRyYW5jZWAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8vIOi9rOWMlueCueWHu+asoeaVsFxuXG5jb25zdCBnZXRDb252ZXJzaW9ubGlja3MgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9jb252ZXJ0L2NsaWNrQ291bnQvJHtkYXRhLnR5cGUgfHwgJ2poJ31gLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG4vLyDln4vngrnmjZXojrdcbmNvbnN0IHBvc3RUcmFja0NhcHR1cmUgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiBgL3FhL3RyYWNrL2NhcHR1cmVgLFxuICAgIGRhdGFcbiAgfSk7XG59O1xubGV0IHRhc2sgPSB7XG4gIGdldENvbXBsZXRlQ291bnQsXG4gIHBvc3RDb21wbGV0ZUFkLFxuICBnZXRBdXRvUG9wVXBzLFxuICBwb3N0RmluaXNoQ29tcGxldGVBZCxcbiAgZ2V0Q2xpY2tDb250cm9sUmV5dXJuLFxuICBnZXRUcmFuc3BhcmVudExheWVyLFxuICBwb3N0Q29udmVydFVwbG9hZCxcbiAgZ2V0VXNlcndlYWxFbnRyeSxcbiAgZ2V0QWRKdW1wTGluayxcbiAgZ2V0QWRQYWdlRW50cmFuY2UsXG4gIGdldENvbnZlcnNpb25saWNrcyxcbiAgcG9zdFRyYWNrQ2FwdHVyZVxufTtcbnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHRhc2s7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX2FqYXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9hamF4LmpzXCIpKTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSkgeyByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07IH1cbi8vIOeZu+W9lSBcbmNvbnN0IGdldFVzZXJJbmZvID0gKCkgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvdXNlci9pbmZvYFxuICB9KTtcbn07XG5cbi8vIOmHkeW4gVxuY29uc3QgZ2V0RGFpbHlTaWduRGF5ID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9nb2xkRXhjaGFuZ2VSdWxlL2RhaWx5L3NpZ24vZGF5YCxcbiAgICBkYXRhXG4gIH0pO1xufTtcbi8v562+5YiwXG5jb25zdCBnb1NpYW5JbiA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvYmFzaWMvZ29sZEV4Y2hhbmdlUnVsZS9kYWlseS9zaWduYCxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy8g5Y+N6aaIXG5jb25zdCBwb3N0VXNlckZlZWRiYWNrID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvdXNlci9mZWVkYmFja2AsXG4gICAgZGF0YVxuICB9KTtcbn07XG4vL+azqOmUgOeUqOaIt1xuY29uc3QgcHV0Rm9yZXZlckxvZ291dCA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvdXNlci9mb3JldmVyL2xvZ291dGBcbiAgfSk7XG59O1xuXG4vLyDnlKjmiLfkvZnpop3orrDlvZVcbmNvbnN0IGdldFVzZXJDYXNoUmVjb3JkID0gZGF0YSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS91c2VyL2Nhc2gvcmVjb3JkYCxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuLy8g55So5oi36YeR5biB6K6w5b2VXG5jb25zdCBnZXRVc2VyR29sZFJlY29yZCA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvdXNlci9nb2xkL3JlY29yZGAsXG4gICAgZGF0YVxuICB9KTtcbn07XG4vL+iuvue9ruaUr+S7mOWunei0puaIt1xuY29uc3QgcHV0QWxpcGF5QWNjb3VudCA9IGRhdGEgPT4ge1xuICByZXR1cm4gKDAsIF9hamF4LmRlZmF1bHQpKHtcbiAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgdXJsOiBgL3FhL21pbmkvdXNlci9hbGlwYXkvYWNjb3VudGAsXG4gICAgZGF0YVxuICB9KTtcbn07XG5cbi8v5Y+R6YCB6aqM6K+B56CBXG5jb25zdCBwb3N0U2VuZENvZGUgPSBkYXRhID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy91c2VyL3NlbmRDb2RlLyR7ZGF0YS5waG9uZX1gXG4gIH0pO1xufTtcblxuLy/ojrflj5bnpo/liKnlhaXlj6Pkv6Hmga9cbmNvbnN0IHdlYWxlbnRyeSA9ICgpID0+IHtcbiAgcmV0dXJuICgwLCBfYWpheC5kZWZhdWx0KSh7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIHVybDogYC9xYS9taW5pL3VzZXIvd2VhbC9lbnRyeWBcbiAgfSk7XG59O1xuXG4vL+iOt+WPluaYr+WQpuW8gOWQr+W5v+WRiumhteWFpeWPo1xuY29uc3QgZW50cmFuY2UgPSAoKSA9PiB7XG4gIHJldHVybiAoMCwgX2FqYXguZGVmYXVsdCkoe1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB1cmw6IGAvcWEvbWluaS9iYXNpYy9hZC9hZFBhZ2UvZW50cmFuY2VgXG4gIH0pO1xufTtcbmxldCB1c2VyID0ge1xuICBnZXRVc2VySW5mbyxcbiAgZ2V0RGFpbHlTaWduRGF5LFxuICBnb1NpYW5JbixcbiAgcG9zdFVzZXJGZWVkYmFjayxcbiAgZ2V0VXNlckNhc2hSZWNvcmQsXG4gIGdldFVzZXJHb2xkUmVjb3JkLFxuICBwdXRGb3JldmVyTG9nb3V0LFxuICBwdXRBbGlwYXlBY2NvdW50LFxuICBwb3N0U2VuZENvZGUsXG4gIHdlYWxlbnRyeSxcbiAgZW50cmFuY2Vcbn07XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB1c2VyOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jbGVhclN0b3JhZ2UgPSBjbGVhclN0b3JhZ2U7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5leHBvcnRzLmRlbGV0ZVN0b3JhZ2UgPSBkZWxldGVTdG9yYWdlO1xuZXhwb3J0cy5nZXRTdG9yYWdlID0gZ2V0U3RvcmFnZTtcbmV4cG9ydHMuaW5jcmVtZW50VG9kYXlDbGlja3MgPSBpbmNyZW1lbnRUb2RheUNsaWNrcztcbmV4cG9ydHMubG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlO1xuZXhwb3J0cy5yZXNldFRvZGF5Q2xpY2tzSWZOZWVkZWQgPSByZXNldFRvZGF5Q2xpY2tzSWZOZWVkZWQ7XG5leHBvcnRzLnNldFN0b3JhZ2UgPSBzZXRTdG9yYWdlO1xudmFyIF9zeXN0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9OyB9XG4vLyDkvJjljJbmnKzlnLDlrZjlgqhnZXTmlrnms5VcbmZ1bmN0aW9uIGxvY2FsU3RvcmFnZShrZXkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBfc3lzdGVtLmRlZmF1bHQuZ2V0KHtcbiAgICAgIGtleSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICB9LFxuICAgICAgZmFpbDogZnVuY3Rpb24gKGRhdGEsIGNvZGUpIHtcbiAgICAgICAgcmVqZWN0KGRhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldFN0b3JhZ2Uoa2V5LCB2YWx1ZSA9IFwiXCIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBfc3lzdGVtLmRlZmF1bHQuc2V0KHtcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXNvbHZlKGBzZXRTdG9yYWdlIHN1Y2Nlc3NgKTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAoZGF0YSwgY29kZSkge1xuICAgICAgICByZWplY3QoYHNldFN0b3JhZ2UgZmFpbCwgY29kZSA9ICR7Y29kZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRTdG9yYWdlKGtleSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIF9zeXN0ZW0uZGVmYXVsdC5nZXQoe1xuICAgICAga2V5LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBjb25zdCByZXMgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAoZGF0YSwgY29kZSkge1xuICAgICAgICByZWplY3QoYGdldFN0b3JhZ2UgZmFpbCwgY29kZSA9ICR7Y29kZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBkZWxldGVTdG9yYWdlKGtleSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIF9zeXN0ZW0uZGVmYXVsdC5kZWxldGUoe1xuICAgICAga2V5LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmVzb2x2ZShgZGVsZXRlU3RvcmFnZSBzdWNjZXNzYCk7XG4gICAgICB9LFxuICAgICAgZmFpbDogZnVuY3Rpb24gKGRhdGEsIGNvZGUpIHtcbiAgICAgICAgcmVqZWN0KGBkZWxldGVTdG9yYWdlIGZhaWwsIGNvZGUgPSAke2NvZGV9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gY2xlYXJTdG9yYWdlKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIF9zeXN0ZW0uZGVmYXVsdC5jbGVhcih7XG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXNvbHZlKGBjbGVhclN0b3JhZ2Ugc3VjY2Vzc2ApO1xuICAgICAgfSxcbiAgICAgIGZhaWw6IGZ1bmN0aW9uIChkYXRhLCBjb2RlKSB7XG4gICAgICAgIHJlamVjdChgY2xlYXJTdG9yYWdlIGZhaWwsIGNvZGUgPSAke2NvZGV9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vL+ajgOafpeaYr+WQpumcgOimgemHjee9ruW5v+WRiueCueWHu+asoeaVsFxuZnVuY3Rpb24gcmVzZXRUb2RheUNsaWNrc0lmTmVlZGVkKCkge1xuICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7IC8v5b2T5aSp5pel5pyfXG5cbiAgX3N5c3RlbS5kZWZhdWx0LmdldCh7XG4gICAga2V5OiAnbGFzdFJlc2V0RGF0ZScsXG4gICAgZGVmYXVsdDogJy0xJyxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ+acrOasoeajgOafpeaXpeacn++8micsIGN1cnJlbnREYXRlLCAnLS0tIOacgOWQjui/m+WFpeW5v+WRiumhteaXpeacn++8micsIGRhdGEpO1xuICAgICAgaWYgKGRhdGEgIT09IGN1cnJlbnREYXRlKSB7XG4gICAgICAgIC8v5pel5pyf5LiN55u45ZCMXG4gICAgICAgIC8vIOmHjee9ruW5v+WRiueCueWHu+asoeaVsFxuICAgICAgICBfc3lzdGVtLmRlZmF1bHQuc2V0KHtcbiAgICAgICAgICBrZXk6ICd0b2RheUNsaWNrcycsXG4gICAgICAgICAgdmFsdWU6ICcwJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vL+i/m+WFpeW5v+WRiumhteaXtuaJp+ihjFxuZnVuY3Rpb24gaW5jcmVtZW50VG9kYXlDbGlja3MoKSB7XG4gIF9zeXN0ZW0uZGVmYXVsdC5nZXQoe1xuICAgIGtleTogJ3RvZGF5Q2xpY2tzJyxcbiAgICBkZWZhdWx0OiAnMCcsXG4gICAgLy/pu5jorqQw5qyhXG4gICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfngrnlh7vmrKHmlbArMSzlvZPliY3mrKHmlbAnLCBkYXRhKTtcbiAgICAgIGxldCB0b2RheUNsaWNrcyA9IHBhcnNlSW50KGRhdGEpIHx8IDA7XG4gICAgICB0b2RheUNsaWNrcyA9IHRvZGF5Q2xpY2tzICsgMTtcbiAgICAgIF9zeXN0ZW0uZGVmYXVsdC5zZXQoe1xuICAgICAgICBrZXk6ICd0b2RheUNsaWNrcycsXG4gICAgICAgIHZhbHVlOiB0b2RheUNsaWNrcy50b1N0cmluZygpXG4gICAgICB9KTtcbiAgICAgIF9zeXN0ZW0uZGVmYXVsdC5zZXQoe1xuICAgICAgICBrZXk6ICdsYXN0UmVzZXREYXRlJyxcbiAgICAgICAgdmFsdWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7XG4gIGdldFN0b3JhZ2UsXG4gIHNldFN0b3JhZ2UsXG4gIGluY3JlbWVudFRvZGF5Q2xpY2tzLFxuICByZXNldFRvZGF5Q2xpY2tzSWZOZWVkZWRcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX3N5c3RlbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5kZXZpY2VcIikpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IHR5cGVvZiBpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgaSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9IC8qKlxuICog5oKo5Y+v5Lul5bCG5bi455So55qE5pa55rOV44CB5oiW57O757ufIEFQSe+8jOe7n+S4gOWwgeijhe+8jOaatOmcsuWFqOWxgO+8jOS7peS+v+WQhOmhtemdouOAgee7hOS7tuiwg+eUqO+8jOiAjOaXoOmcgCByZXF1aXJlIC8gaW1wb3J0LlxuICovXG4vLyDoioLmtYHpmIBcbmNvbnN0IHRocm90dGxlID0gKGZuLCBnYXBUaW1lID0gMTUwMCkgPT4ge1xuICBsZXQgX2xhc3RUaW1lID0gbnVsbDtcbiAgLy8g6L+U5Zue5paw55qE5Ye95pWwXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IF9ub3dUaW1lID0gK25ldyBEYXRlKCk7XG4gICAgaWYgKF9ub3dUaW1lIC0gX2xhc3RUaW1lID4gZ2FwVGltZSB8fCAhX2xhc3RUaW1lKSB7XG4gICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvL+WwhnRoaXPlkozlj4LmlbDkvKDnu5nljp/lh73mlbBcbiAgICAgIF9sYXN0VGltZSA9IF9ub3dUaW1lO1xuICAgIH1cbiAgfTtcbn07XG5jb25zdCB7XG4gIEpTRW5jcnlwdFxufSA9IHJlcXVpcmUoJy4uL2xpYnMvanNlbmNyeXB0L2xpYi9pbmRleCcpO1xuY29uc3QgY29uZmlnID0ge1xuICBwdWJsaWNLZXk6ICdNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXFhajBZM2s1NGpDeVRxNDd0NzNTY0JYOXVCc1NTY0RvNy91WitQaEhZaDllUXFITlcxYkJqS0dWNHQzWThXb2todjc4M2tyeGhJcXprUGY5bkhlWjJ5V3FvUWxQYTNxT1VjN1dmL0hwWDIrZUhHUmpGMS9STEFSSm1NY0VnUVlCM1dHYmRSZWR1MEZqUVNHZCtPZlNTL1c3SGVoMlpHbEYvYVNIajJOWWhZRTRwN3g0ampRSWkrdWVLWnZWSk5acHUwdmhRYUY0NWpwcVFEVUxQTCtNa2tRZVBtdXBqcC9QUjRSYThCVmc0RHdKdUk2SzhqTDc3WVdheGVRUmJNckVpUTBaYlRLUlE0bzhONzNpSU05N0UvaDhQYkRsNUZidU5uMGs4dXJrWW5tdjU2QU1ka1ZFeUlPVXdORWE4b1U5UUt6MzdvNVoyTDcreXF4MnptTHBWd0lEQVFBQidcbn07XG5jb25zdCBkYXRhRW5jcnlwdGlvbiA9IChkYXRhLCBhY3Rpb24gPSBcImVuY3J5cHRcIikgPT4ge1xuICB0cnkge1xuICAgIGxldCBrZXlNYXAgPSB7XG4gICAgICBlbmNyeXB0OiBjb25maWcucHVibGljS2V5LFxuICAgICAgZGVjcnlwdDogY29uZmlnLnByaXZhdGVLZXlcbiAgICB9O1xuICAgIGxldCBrZXkgPSBrZXlNYXBbYWN0aW9uXTtcbiAgICBsZXQgX2RhdGEgPSBhY3Rpb24gPT09IFwiZW5jcnlwdFwiID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoYWN0aW9uID09PSBcImVuY3J5cHRcIikge1xuICAgICAgICBjb25zdCBlbmNyeXB0b3IgPSBuZXcgSlNFbmNyeXB0KCk7XG4gICAgICAgIGVuY3J5cHRvci5zZXRQdWJsaWNLZXkoa2V5KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGVuY3J5cHRvci5lbmNyeXB0KF9kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LCAn5p+l55yL5pyJ5LuA5LmIJyk7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvciwgJ+i9rOaNouaKpemUme+8nycpO1xuICB9XG59O1xuY29uc3QgZ2V0VXNlcklkID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgdXNlcklkID0gYXdhaXQgX3N5c3RlbS5kZWZhdWx0LmdldFVzZXJJZCgpO1xuICByZXR1cm4gdXNlcklkLmRhdGEudXNlcklkO1xufTtcbmNvbnN0IGdldE9BSUQgPSBhc3luYyAoKSA9PiB7XG4gIGxldCBvYWlkID0gYXdhaXQgX3N5c3RlbS5kZWZhdWx0LmdldE9BSUQoKTtcbiAgcmV0dXJuIG9haWQ7XG59O1xuXG4vKipcbiAqIOi9rOWMluS4iuS8oFxuICogQHBhcmFtIHsqfSB0aGF0IOaJgOWcqHRoaXMgXG4gKi9cbmZ1bmN0aW9uIGdldENvbnZlcnRVcGxvYWQoKSB7XG4gIGxldCBwYXJhbSA9IF9vYmplY3RTcHJlYWQoe30sIGdldEFwcCgpLiRkZWYuZGF0YUFwcC5hY3RpUGFyYW0pO1xuICBjb25zb2xlLmxvZygnZ2V0Q29udmVydFVwbG9hZCgpIOi9rOWMluWPguaVsHBhcmFtPSAnLCBwYXJhbSk7XG4gIGZvciAoY29uc3Qga2V5IGluIHBhcmFtKSB7XG4gICAgcGFyYW1ba2V5XSA9IHBhcmFtW2tleV0ucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xuICB9XG4gIGNvbnN0IGNvbnZlcnRlZFBhcmFtID0gY29udmVydEtleXNUb0NhbWVsQ2FzZShwYXJhbSk7XG4gIGlmICghY29udmVydGVkUGFyYW0uY2FsbGJhY2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5sb2coJ2dldENvbnZlcnRVcGxvYWQoKSDmoLzlvI/ljJbovazljJblj4LmlbBjb252ZXJ0ZWRQYXJhbT0gJywgY29udmVydGVkUGFyYW0pO1xuICAkYXBpcy5leGFtcGxlLmNvbnZlcnRVcGxvYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb252ZXJ0ZWRQYXJhbSksIHt9LCB7XG4gICAgZGV2aWNlSWQ6IGNvbnZlcnRlZFBhcmFtLm9haWQsXG4gICAgdHlwZTogY29udmVydGVkUGFyYW0udHlwZSB8fCAnamgnXG4gIH0pKS50aGVuKHJlcyA9PiB7XG4gICAgY29uc29sZS5sb2cocmVzLCAn6L2s5o2i5oiQ5YqfJyk7XG4gIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyLCAn6L2s5o2i5aSx6LSlJyk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdG9DYW1lbENhc2Uoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXyhbYS16XSkvZywgKF8sIGxldHRlcikgPT4gbGV0dGVyLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gY29udmVydEtleXNUb0NhbWVsQ2FzZShvYmopIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmoubWFwKHYgPT4gY29udmVydEtleXNUb0NhbWVsQ2FzZSh2KSk7XG4gIH0gZWxzZSBpZiAob2JqICE9PSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgY29uc3QgY2FtZWxDYXNlS2V5ID0gdG9DYW1lbENhc2Uoa2V5KTtcbiAgICAgIHJlc3VsdFtjYW1lbENhc2VLZXldID0gY29udmVydEtleXNUb0NhbWVsQ2FzZShvYmpba2V5XSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiog5L+d5a2Y5bm/5ZGK5Zue5Lyg5Y+C5pWwICAgcm91dGVyLnB1c2goT0JKRUNUKSAg5L6L77yaQHBhcmFtIHtPYmplY3R9IGU9J2hhcDovL2FwcC9jb20uY29tcGFueS5hcHAvaW5kZXg/cGFyYW0xPXZhbHVlMSdcbiovXG5jb25zdCBzYXZlSGFwVXJpID0gZSA9PiB7XG4gIC8vIC8v5aSE55CG5Y2O5Li65bmz5Y+w55qE6Lez6L2s6ZO+5o6l5pyA5LiA5Liq5a2X56ym5Li6L+eahOmXrumimFxuICBpZiAoZS5jaGFubmVsVmFsdWUpIHtcbiAgICBsZXQgY2hhbm5lbFZhbHVlID0gZS5jaGFubmVsVmFsdWU7XG4gICAgaWYgKGNoYW5uZWxWYWx1ZS5jaGFyQXQoY2hhbm5lbFZhbHVlLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgIC8vIOWOu+aOieacgOWQjuS4gOS4quWtl+esplxuICAgICAgZS5jaGFubmVsVmFsdWUgPSBjaGFubmVsVmFsdWUuc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZygnc2F2ZUhhcFVyaSgpIOi9rOWMluWPguaVsGU9ICcsIGUpO1xuICBjb25zdCB7XG4gICAgY2FsbGJhY2sgPSAnJyxcbiAgICBvYWlkID0gJycsXG4gICAgdHlwZSA9ICcnLFxuICAgIGNoYW5uZWxWYWx1ZSA9ICcnLFxuICAgIGNvcnBfaWQgPSAnJ1xuICB9ID0gZTtcbiAgZ2V0QXBwKCkuJGRlZi5kYXRhQXBwLmFjdGlQYXJhbSA9IF9vYmplY3RTcHJlYWQoe30sIGUpO1xufTtcblxuLyoqXG4gKiDovazljJbkuIrkvKBcbiAqIEBwYXJhbSB7Kn0gdGhhdCDmiYDlnKh0aGlzICDlsI/or7Tlub/lkYrpobXpnaLnmoTovazljJbmlrnms5VcbiAqL1xuZnVuY3Rpb24gY29udmVyc2lvblVwbG9hZCh0aGF0KSB7XG4gIGxldCBwYXJhbSA9IF9vYmplY3RTcHJlYWQoe30sIHRoYXQuJGFwcC4kZGVmLmRhdGFBcHAuYWN0aVBhcmFtKTtcbiAgcGFyYW0udHlwZSA9IGp1ZGdpbmdBZCh0aGF0KTsgLy/ovazmjaLnsbvlnotcbiAgaWYgKE9iamVjdC5rZXlzKHBhcmFtKS5sZW5ndGggPD0gMCB8fCAhcGFyYW0udHlwZSkge1xuICAgIC8v5peg5YC855qE5oOF5Ya155u05o6l5Yig6ZmkXG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUubG9nKCfov5vlhaXkuoblm57kvKDkuIrmiqUnKTtcbiAgbGV0IGNvbnZlcnNpb25saWNrcyA9IHRoYXQuJGFwcC4kZGVmLmRhdGFBcHAuY29udmVyc2lvbmxpY2tzOyAvL+esrOWHoOasoeWbnuS8oOS4iuaKpVxuICBsZXQgY2xpY2tzT25BZHNOb3cgPSB0aGF0LiRhcHAuJGRlZi5kYXRhQXBwLmNsaWNrc09uQWRzTm93ICsgMTsgLy/njrDlnKjmmK/nrKzlh6DmrKHku7vliqFcbiAgY29uc29sZS5sb2coY29udmVyc2lvbmxpY2tzLCAnY29udmVyc2lvbmxpY2tzJyk7XG4gIGNvbnNvbGUubG9nKGNsaWNrc09uQWRzTm93LCAnY2xpY2tzT25BZHNOb3cnKTtcbiAgdGhhdC4kYXBwLiRkZWYuZGF0YUFwcC5jbGlja3NPbkFkc05vdyA9IGNsaWNrc09uQWRzTm93O1xuICBpZiAoY29udmVyc2lvbmxpY2tzIDw9IDAgfHwgY2xpY2tzT25BZHNOb3cgIT09IGNvbnZlcnNpb25saWNrcykge1xuICAgIGNvbnNvbGUubG9nKCflj5bmtojovazmjaLkuIrkvKAnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtLnR5cGUgPT09ICdqaCcpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXJhbSkge1xuICAgICAgcGFyYW1ba2V5XSA9IHBhcmFtW2tleV0ucmVwbGFjZSgvXFwvJC8sICcnKTtcbiAgICB9XG4gICAgcGFyYW0gPSBjb252ZXJ0S2V5c1RvQ2FtZWxDYXNlKHBhcmFtKTtcbiAgfVxuICBjb25zb2xlLmxvZyhwYXJhbSwgJ+afpeeci+S4iuS8oOeahOWPguaVsCcpO1xuICAkYXBpcy50YXNrLnBvc3RDb252ZXJ0VXBsb2FkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyYW0pLCB7fSwge1xuICAgIGRldmljZUlkOiBwYXJhbS5vYWlkIHx8ICcnLFxuICAgIHR5cGU6IHBhcmFtLnR5cGVcbiAgfSkpLnRoZW4ocmVzID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXMsICfovazmjaLmiJDlip8nKTtcbiAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIsICfovazmjaLlpLHotKUnKTtcbiAgfSk7XG59XG5cbi8qKlxuKiDmj5LlsY/lub/lkYogXG4qL1xuXG5jb25zdCB0YWJsZVBsYXF1ZSA9IGFzeW5jIChvbkNsb3NlQ2FsbGJhY2ssIG9uQ2F0Y2hDYWxsYmFjaykgPT4ge1xuICBsZXQgUHJvdmlkZXIgPSAkYWQuZ2V0UHJvdmlkZXIoKTtcbiAgaWYgKCFQcm92aWRlcikge1xuICAgIGNvbnNvbGUubG9nKCfmsqHmnInlub/lkYrllYYnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGludGVyc3RpdGlhbEFkID0gJGFkLmNyZWF0ZUludGVyc3RpdGlhbEFkKHtcbiAgICBhZFVuaXRJZDogZ2V0QXBwKCkuJGRlZi5kYXRhQXBwLmludGVyc3RpdGlhbEFkVW5pdElkXG4gIH0pO1xuICBpbnRlcnN0aXRpYWxBZC5sb2FkKCkudGhlbihyZXMgPT4ge1xuICAgIGNvbnNvbGUubG9nKHJlcywgJ+afpeWxj+WKoOi9veaIkOWKnycpO1xuICAgIGludGVyc3RpdGlhbEFkLnNob3coKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfmj5LlsY/lub/lkYpzaG935oiQ5YqfJyk7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ+aPkuWxj+W5v+WRinNob3flpLHotKUnKTtcbiAgICB9KTtcbiAgfSlcbiAgLy8gLmNhdGNoKChlcnIpID0+IHtcbiAgLy8gICBjb25zb2xlLmxvZyhlcnIsICfmj5LlsY/liqDovb3lpLHotKUnKTtcbiAgLy8gfSlcbiAgLmNhdGNoKG9uQ2F0Y2hDYWxsYmFjayk7XG4gIGludGVyc3RpdGlhbEFkLm9uQ2xpY2soKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfmj5LlsY/lub/lkYrngrnlh7vkuoYnKTtcbiAgICAvL+i9rOWMluS4iuS8oFxuICAgIGdldENvbnZlcnRVcGxvYWQoKTtcbiAgfSk7XG4gIGludGVyc3RpdGlhbEFkLm9uQ2xvc2Uob25DbG9zZUNhbGxiYWNrKTtcbn07XG5cbi8qKlxuKiBiYW5uZXLlub/lkYogIG1hcmdpbl9ib3TlupXpg6jnvKnov5sgIFxuKi9cblxubGV0IGJhbm5lckFkO1xuY29uc3Qgc2hvd0Jhbm5lckFkID0gYXN5bmMgbWFyZ2luX2JvdCA9PiB7XG4gIC8vIGNvbnN0IHN0b3JhZ2VGbGFnID0gYXdhaXQgJHByb2Nlc3NEYXRhLmdldFN0b3JhZ2UoXCJfUFJJVkFDXCIpO1xuICAvLyBpZiAoIXN0b3JhZ2VGbGFnKSB7XG4gIC8vICAgLy/mnKrmjojmnYPvvIzlvLnlh7rmjojmnYPor6Lpl65cbiAgLy8gICBjb25zb2xlLmxvZygn55So5oi35o6I5p2DPSAnLCBzdG9yYWdlRmxhZyk7XG4gIC8vICAgY29uc29sZS5sb2coJ+acquaOiOadgyzkuI3liqDovb1iYW5uZXLlub/lkYonKTtcbiAgLy8gICByZXR1cm5cbiAgLy8gfVxuXG4gIGxldCBQcm92aWRlciA9ICRhZC5nZXRQcm92aWRlcigpO1xuICBpZiAoIVByb3ZpZGVyKSB7XG4gICAgY29uc29sZS5sb2coJ+ayoeacieW5v+WRiui/lOWbnicpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgZCA9IF9zeXN0ZW0uZGVmYXVsdC5nZXRJbmZvU3luYygpO1xuICAvLyBjb25zb2xlLmluZm8oXCJiYW5uZXLlub/lkYot6K6+5aSH5L+h5oGvIFwiICsgSlNPTi5zdHJpbmdpZnkoZCkpO1xuXG4gIGxldCBoZWlnaHQgPSA1NzsgLy/kuKTnp43pq5jluqYgIDU35LiOMTQ0XG4gIC8v6I635Y+W6aG16Z2i5YaF5Y+v6KeB56qX5Y+j55qE6auY5bqm5ZKM5a695bqm77yM5q2k5YC85LiN5YyF5ous5qCH6aKY5qCP5ZKM54q25oCB5qCP6auY5bqmXG4gIGxldCB3aW5kb3dXaWR0aCA9IGQuc2NyZWVuV2lkdGg7XG4gIGxldCB3aW5kb3dIZWlnaHQgPSBkLnNjcmVlbkhlaWdodCAtIDE1MyAtIG1hcmdpbl9ib3Q7XG4gIC8vbG9naWNXaWR0aOWvueW6lG1hbmlmZXN0Lmpzb27mlofku7borr7nva7nmoRkZXNpZ25XaWR0aOWAvO+8jOm7mOiupOaYrzc1MFxuICBsZXQgbG9naWNXaWR0aCA9IDc1MDtcbiAgLy/lub/lkYroh6rouqvlpKflsI/ljZXkvY3mmK9kcO+8jOmcgOimgei9rOaNouaIkHB45Y2V5L2NXG4gIGxldCByZWFsQWRIZWlnaFBYID0gaGVpZ2h0ICogZC5zY3JlZW5EZW5zaXR5O1xuICAvL+agh+mimOagj+mrmOW6puS4gOiIrOaYrzQyZHDlt6blj7PvvIzmraTlpITkuZ/pnIDopoHovazmjaLmiJBweOWNleS9jVxuICBsZXQgdGl0bGVCYXJIZWlnaHQgPSA0MiAqIGQuc2NyZWVuRGVuc2l0eTtcbiAgLy/mraTlpITorqHnrpflvojlhbPplK7vvIzpnIDopoHlsIbnirbmgIHmoI/pq5jluqbjgIHmoIfpopjmoI/pq5jluqbliqDkuIpcbiAgbGV0IHJlYWxUb3BweCA9IHdpbmRvd0hlaWdodCAtIHJlYWxBZEhlaWdoUFggKyBkLnN0YXR1c0JhckhlaWdodCArIHRpdGxlQmFySGVpZ2h0O1xuXG4gIC8vIGNvbnNvbGUuaW5mbyhcImNhbEJhbm5lclBvc3Rpb24xIHJlYWxUb3BweD1cIiArIHJlYWxUb3BweCArIFwiLCBsb2dpY1dpZHRoPSBcIiArIGxvZ2ljV2lkdGgsIFwid2luZG93V2lkdGg9IFwiICsgd2luZG93V2lkdGgpO1xuICAvL+i9rOaNouaIkOmhtemdouWfuuWHhuWAvOS4i+eahOmAu+i+keWNleS9jVxuICBsZXQgbG9naWNXZWJUb3AgPSByZWFsVG9wcHggKiBsb2dpY1dpZHRoIC8gd2luZG93V2lkdGg7XG5cbiAgLy/mraTlr7nosaHor7foh6rlt7HlnKhkYXRh5LiL5a6a5LmJXG4gIGxldCB0b3AgPSBsb2dpY1dlYlRvcCA9PT0gMCA/IDEyMzAgOiBsb2dpY1dlYlRvcDtcbiAgLy8gY29uc29sZS5pbmZvKFwiY2FsQmFubmVyUG9zdGlvbjEgdG9wPVwiICsgdG9wICsgXCIsIGxvZ2ljV2ViVG9wPSBcIiArIGxvZ2ljV2ViVG9wKTtcblxuICBjb25zdCBzdHlsZSA9IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogdG9wLFxuICAgIHdpZHRoOiAzNjAsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcbiAgbGV0IGFkaWQgPSBnZXRBcHAoKS4kZGVmLmRhdGFBcHAuYmFubmVyQWRVbml0SWQ7XG4gIC8vIGxldCBhZGlkID0gJ3oxdjZqeWt2eTknXG4gIC8vIGNvbnNvbGUuaW5mbyhcImJhbm5lcuW5v+WRiuS9jT1cIiArIGFkaWQpO1xuICBiYW5uZXJBZCA9ICRhZC5jcmVhdGVCYW5uZXJBZCh7XG4gICAgYWRVbml0SWQ6IGFkaWQsXG4gICAgLy9iYW5uZXLlub/lkYrkvY1cbiAgICBzdHlsZTogc3R5bGUsXG4gICAgYWRJbnRlcnZhbHM6IDYwIC8v5Yi35paw5pe26Ze077yM56eSXG4gIH0pO1xuICAvLyBjb25zb2xlLmluZm8oXCJhbm5lckFkLnN0eWxlPVwiICsgSlNPTi5zdHJpbmdpZnkoYmFubmVyQWQuc3R5bGUpKTtcbiAgYmFubmVyQWQub25Mb2FkKGUgPT4ge1xuICAgIGNvbnNvbGUuaW5mbyhcImxvYWQgYmFubmVyQWQgIG9ubG9hZCBzdWNjZXNzIGU9XCIgKyBKU09OLnN0cmluZ2lmeShlKSk7XG4gIH0pO1xuICBiYW5uZXJBZC5vbkVycm9yKGUgPT4ge1xuICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJsb2FkIGJhbm5lckFkICBvbkVycm9yIFwiICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xuICB9KTtcbiAgYmFubmVyQWQub25DbG9zZShlID0+IHtcbiAgICAvLyBjb25zb2xlLmluZm8oXCJsb2FkIGJhbm5lckFkICBvbkNsb3NlXCIpO1xuICB9KTtcbiAgYmFubmVyQWQuc2hvdygpO1xufTtcbmNvbnN0IGhpZGVCYW5lckFkID0gKCkgPT4ge1xuICBpZiAoYmFubmVyQWQpIHtcbiAgICBiYW5uZXJBZC5oaWRlKCk7XG4gIH1cbn07XG5jb25zdCB2aWV3QmFubmVyID0gKCkgPT4ge1xuICBpZiAoYmFubmVyQWQpIHtcbiAgICBiYW5uZXJBZC5zaG93KCk7XG4gIH1cbn07XG5jb25zdCBkZXN0cm95QmFubmVyID0gKCkgPT4ge1xuICBpZiAoYmFubmVyQWQpIHtcbiAgICBiYW5uZXJBZC5kZXN0cm95KCk7XG4gIH1cbn07XG5cbi8v5omT5byA5ouG56aP6KKL6aG16Z2iXG5jb25zdCBvcGVuQWQgPSAoKSA9PiB7XG4gIC8v5Y+L55uf5LqL5Lu25omT54K5XG4gICR1bWVuZ19zdGF0LnRyYWNrRXZlbnQoJ3dkX3h5ZmRkaGonLCAn54K55Ye7Jyk7XG4gIHZhciByID0gJ1BhZ2VfY2ZkJztcbiAgLy8gciA9ICdoYXA6Ly9hcHAvY29tLmhhaXR1by5zZXRwcGxhbmV0L3BhZ2VzL2FkdmVydGlzaW5nQ2FtcGFpZ25zP2NhbGxiYWNrPTQ1MDc5OTExJm9haWQ9MzBhYzE4NDAtMDZhYS00NjFmLTk1OTQtN2Y3YjM2NWYwZGZlJmNoYW5uZWxWYWx1ZT1LWVknXG4gIHIgPSAnaGFwOi8vYXBwL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9QYWdlX2NmZD9jaGFubmVsVmFsdWU9anp4Z2oxMS8nO1xuICAkcm91dGVyLnB1c2goe1xuICAgIHVyaTogclxuICB9KTtcbn07XG5cbi8qKlxuICog5YiG56eS5YCS6K6h5pe2XG4gKiBAcGFyYW0ge09iamVjdH0gY291bnREb3duRGF0YSDnm7jlhbPlj4LmlbDvvJp0b3RhbFNlY29uZHPlgJLorqHml7bnp5LmlbDjgIFuYW1l5bGe5oCn5ZCN56ew44CBaXNGb3JtYXTmoLzlvI/ljJZcbiAqIEBwYXJhbSB7Kn0gdGhhdCDlvZPliY3nu4Tku7Z0aGlzXG4gKi9cbmNvbnN0IHN0YXJ0Q291bnREb3duID0gKGNvdW50RG93bkRhdGEsIHRoYXQpID0+IHtcbiAgbGV0IHtcbiAgICB0b3RhbFNlY29uZHMgPSAzLFxuICAgIG5hbWUsXG4gICAgaXNGb3JtYXQgPSBmYWxzZVxuICB9ID0gY291bnREb3duRGF0YTtcbiAgbGV0IF90aGlzID0gdGhhdDtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodG90YWxTZWNvbmRzID4gMSkge1xuICAgICAgICB0b3RhbFNlY29uZHMtLTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IGlzRm9ybWF0ID8gKHZvaWQgMCkuZm9ybWF0VGltZShNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKSkgOiBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IGlzRm9ybWF0ID8gKHZvaWQgMCkuZm9ybWF0VGltZShNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAlIDYwKSkgOiBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAlIDYwKTtcbiAgICAgICAgX3RoaXNbbmFtZV0gPSB7XG4gICAgICAgICAgbWludXRlcyxcbiAgICAgICAgICBzZWNvbmRzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhckludGVydmFsKF90aGlzLnRpbWVyKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICAgIF90aGlzLnRpbWVyID0gdGltZXI7XG4gIH0pO1xufTtcblxuLyoqXG4gKiDliKTmlq3lub/lkYrllYZcbiAqL1xuZnVuY3Rpb24ganVkZ2luZ0FkKGNvbnRleHQpIHtcbiAgbGV0IHBhcmFtID0gX29iamVjdFNwcmVhZCh7fSwgY29udGV4dC4kYXBwLiRkZWYuZGF0YUFwcC5hY3RpUGFyYW0pO1xuICBsZXQgdHlwZSA9IHBhcmFtLnR5cGUgfHwgJyc7XG4gIGlmICh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbiAgaWYgKHBhcmFtLmFkZ3JvdXBfaWQgJiYgcGFyYW0uY29udGVudF9pZCAmJiBwYXJhbS5jYW1wYWlnbl9pZCAmJiBwYXJhbS5jYWxsYmFjaykge1xuICAgIHR5cGUgPSAnamgnO1xuICB9IGVsc2UgaWYgKHBhcmFtLmJ0bl9uYW1lICYmIHBhcmFtLmJhY2t1cmwpIHtcbiAgICB0eXBlID0gJ3Zpdm8nO1xuICB9XG4gIHJldHVybiB0eXBlID8gdHlwZSA6IGZhbHNlO1xufVxuXG4vKipcbiAqIOWIpOaWreW5v+WRiuS4u2lkXG4gKiBAcGFyYW0geyp9IGNvbnRleHRcbiAqL1xuXG5mdW5jdGlvbiBhbmFseXplQWR2ZXJ0aXNlcklkKGNvbnRleHQpIHtcbiAgY29uc3Qge1xuICAgIGJhY2t1cmwgPSAnJyxcbiAgICBjb3JwX2lkID0gJycsXG4gICAgY2FsbGJhY2sgPSAnJ1xuICB9ID0gY29udGV4dC4kYXBwLiRkZWYuZGF0YUFwcC5hY3RpUGFyYW07XG4gIGlmIChiYWNrdXJsKSB7XG4gICAgcmV0dXJuIGJhY2t1cmw7XG4gIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gY29ycF9pZCA/IGNvcnBfaWQgOiBjYWxsYmFjaztcbiAgfVxufVxuXG4vKipcbiAqIOiOt+WPluWTquS4gOasoeS4iuaKpeWbnuS8oCAgY29udGV4dCAg5oyH5ZCRXG4gKi9cbmZ1bmN0aW9uIGdldENvbnZlcnNpb25saWNrcyhjb250ZXh0KSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlID0gJycsXG4gICAgY29ycF9pZCA9ICcnLFxuICAgIGNoYW5uZWxWYWx1ZSA9ICcnXG4gIH0gPSBjb250ZXh0LiRhcHAuJGRlZi5kYXRhQXBwLmFjdGlQYXJhbTtcbiAgbGV0IGFkVHlwZSA9IHR5cGUgPyB0eXBlIDoganVkZ2luZ0FkKGNvbnRleHQpOyAvL+acieexu+Wei+ebtOaOpeiOt+WPluexu+WeiyDmsqHmnInliJnov5vooYzliKTmlq3vvJtcbiAgbGV0IGNvcnBJZCA9IGNvcnBfaWQgPyBjb3JwX2lkIDogYW5hbHl6ZUFkdmVydGlzZXJJZChjb250ZXh0KTtcbiAgJGFwaXMudGFzay5nZXRDb252ZXJzaW9ubGlja3Moe1xuICAgIHR5cGU6IGFkVHlwZSxcbiAgICBjb3JwSWQsXG4gICAgY2hhbm5lbFZhbHVlXG4gIH0pLnRoZW4ocmVzID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXMsICfmn6XnnIvngrnlh7vlm57kvKAnKTtcbiAgICBpZiAocmVzLmRhdGEgPT09IDApIHtcbiAgICAgICR1dGlscy5jb252ZXJzaW9uVXBsb2FkKGNvbnRleHQpO1xuICAgIH1cbiAgICBjb250ZXh0LiRhcHAuJGRlZi5kYXRhQXBwLmNvbnZlcnNpb25saWNrcyA9IHJlcy5kYXRhO1xuICB9KS5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVyciwgJ+afpeeci+eCueWHu+WbnuS8oOWksei0pScpO1xuICB9KTtcbn1cblxuLy8g5Z+L54K55LiK5oqlXG5hc3luYyBmdW5jdGlvbiBidXJpZWRQb2ludFJlcG9ydCh0aGVzZSwgZXZlbnQgPSAnQXBwTGF1bmNoJywgYWRJZCA9ICcnKSB7XG4gIHRyeSB7XG4gICAgbGV0IGNoZWNrUGFlbSA9IF9vYmplY3RTcHJlYWQoe30sIHRoZXNlLiRhcHAuJGRlZi5kYXRhQXBwLmFjdGlQYXJhbSk7XG4gICAgY29uc29sZS5sb2codGhlc2UuJGFwcC4kZGVmLmRhdGFBcHAsICd0aGVzZS4kYXBwLiRkZWYuZGF0YUFwcC0nKTtcbiAgICBjb25zb2xlLmxvZyhjaGVja1BhZW0sICfmn6XnnIvmmK/lkKbmnInlj4LmlbAnKTtcbiAgICBpZiAoT2JqZWN0LmtleXMoY2hlY2tQYWVtKS5sZW5ndGggPD0gMCkge1xuICAgICAgLy/ml6DlgLznmoTmg4XlhrXnm7TmjqXliKDpmaRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAvL+WkhOeQhuWNjuS4uuW5s+WPsOeahOi3s+i9rOmTvuaOpeacgOS4gOS4quWtl+espuS4ui/nmoTpl67pophcbiAgICAvLyBpZiAoY2hlY2tQYWVtLmNoYW5uZWxWYWx1ZSkge1xuICAgIC8vICAgbGV0IGNoYW5uZWxWYWx1ZSA9IGNoZWNrUGFlbS5jaGFubmVsVmFsdWU7XG4gICAgLy8gICBpZiAoY2hhbm5lbFZhbHVlLmNoYXJBdChjaGFubmVsVmFsdWUubGVuZ3RoIC0gMSkgPT09ICcvJykge1xuICAgIC8vICAgICAvLyDljrvmjonmnIDlkI7kuIDkuKrlrZfnrKZcbiAgICAvLyAgICAgY2hlY2tQYWVtLmNoYW5uZWxWYWx1ZSA9IGNoYW5uZWxWYWx1ZS5zbGljZSgwLCAtMSk7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgbGV0IHRva2VuID0gYXdhaXQgJHN0b3JhZ2UuZ2V0KHtcbiAgICAgIGtleTogJ0FVVEhfVE9LRU5fREFUQSdcbiAgICB9KTtcbiAgICB0b2tlbiA9IEpTT04ucGFyc2UodG9rZW4uZGF0YSk7XG4gICAgY29uc29sZS5sb2coJ+afpeeci+i/meS4qnRva2VuJywgdG9rZW4pO1xuICAgIGxldCBhZEJyYW5kID0gJGFkLmdldFByb3ZpZGVyKCk7XG4gICAgbGV0IHBhcmFtID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjaGVja1BhZW0pLCB7fSwge1xuICAgICAgY2lkOiBjaGVja1BhZW0uY2hhbm5lbFZhbHVlLFxuICAgICAgZXZlbnQ6IGV2ZW50ID09PSAnY2xpY2snID8gJyRBZENsaWNrJyA6ICckQXBwTGF1bmNoJyxcbiAgICAgIHBpZDogYWRCcmFuZC50b0xvd2VyQ2FzZSgpLFxuICAgICAgYXBwSWQ6IHRva2VuLmFwcElkLFxuICAgICAgdXNlcklkOiB0b2tlbi51c2VySWRcbiAgICB9KTtcbiAgICBsZXQgdXJsUXVlcnkgPSBjb252ZXJ0VG9RdWVyeVN0cmluZyhjaGVja1BhZW0pO1xuICAgIF9zeXN0ZW0uZGVmYXVsdC5nZXRJbmZvKHtcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgY29uc3QgcGhvbmluZm8gPSByZXM7XG4gICAgICAgIGxldCBwYXJhbTIgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcmFtKSwge30sIHtcbiAgICAgICAgICBwcm9wZXJ0aWVzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlcyksIHt9LCB7XG4gICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHBob25pbmZvLm1hbnVmYWN0dXJlcixcbiAgICAgICAgICAgIG1vZGVsOiBwaG9uaW5mby5tb2RlbCxcbiAgICAgICAgICAgIG9zOiBwaG9uaW5mby5vc1R5cGUsXG4gICAgICAgICAgICBwcm9kdWN0OiBwaG9uaW5mby5wcm9kdWN0LFxuICAgICAgICAgICAgYW5hbHlzaXM6IHtcbiAgICAgICAgICAgICAgYWRJZDogYWRJZCxcbiAgICAgICAgICAgICAgdGl0bGU6IGFkSWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cmxRdWVyeTogdXJsUXVlcnlcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ+afpeeci+S4iuaKpeWPguaVsCcsIHBhcmFtMik7XG4gICAgICAgICRhcGlzLnRhc2sucG9zdFRyYWNrQ2FwdHVyZShfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbTIpKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S4iuaKpeaIkOWKnycsIHJlcyk7XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyLCAn5LiK5Lyg5aSx6LSlJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yLCAn5LiK5Lyg6ZSZ6K+vJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1F1ZXJ5U3RyaW5nKG9iamVjdHMpIHtcbiAgLy8g5Yid5aeL5YyW5LiA5Liq56m65a2X56ym5Liy5p2l5a2Y5YKo57uT5p6cXG4gIGxldCBxdWVyeVN0cmluZyA9ICcnO1xuXG4gIC8vIOmBjeWOhuWvueixoeaVsOe7hFxuICBPYmplY3Qua2V5cyhvYmplY3RzKS5mb3JFYWNoKChrZXksIGluZGV4KSA9PiB7XG4gICAgLy8g5aaC5p6c5LiN5piv56ys5LiA5Liq6ZSu5YC85a+577yM5YiZ5re75YqgICcmJ1xuICAgIGlmIChpbmRleCA+IDAgfHwgcXVlcnlTdHJpbmcgIT09ICcnKSB7XG4gICAgICBxdWVyeVN0cmluZyArPSAnJic7XG4gICAgfVxuICAgIC8vIOWwhumUruWAvOWvuea3u+WKoOWIsOafpeivouWtl+espuS4suS4rVxuICAgIHF1ZXJ5U3RyaW5nICs9IGAke2tleX09JHtvYmplY3RzW2tleV19YDtcbiAgfSk7XG4gIHJldHVybiBxdWVyeVN0cmluZztcbn1cbnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgdGhyb3R0bGUsXG4gIGdldFVzZXJJZCxcbiAgZ2V0Q29udmVydFVwbG9hZCxcbiAgc3RhcnRDb3VudERvd24sXG4gIGRhdGFFbmNyeXB0aW9uLFxuICB0YWJsZVBsYXF1ZSxcbiAgc2hvd0Jhbm5lckFkLFxuICBoaWRlQmFuZXJBZCxcbiAgdmlld0Jhbm5lcixcbiAgZGVzdHJveUJhbm5lcixcbiAgc2F2ZUhhcFVyaSxcbiAgZ2V0T0FJRCxcbiAgb3BlbkFkLFxuICBidXJpZWRQb2ludFJlcG9ydCxcbiAgLy/ln4vngrlcbiAgZ2V0Q29udmVyc2lvbmxpY2tzLFxuICBjb252ZXJzaW9uVXBsb2FkXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5KU0VuY3J5cHQgPSB2b2lkIDA7XG52YXIgX2Jhc2UgPSByZXF1aXJlKFwiLi9saWIvanNibi9iYXNlNjRcIik7XG52YXIgX0pTRW5jcnlwdFJTQUtleSA9IHJlcXVpcmUoXCIuL0pTRW5jcnlwdFJTQUtleVwiKTtcbnZhciBfYTtcbnZhciB2ZXJzaW9uID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gKF9hID0gcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ucG1fcGFja2FnZV92ZXJzaW9uIDogdW5kZWZpbmVkO1xuLyoqXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zID0ge31dIC0gQW4gb2JqZWN0IHRvIGN1c3RvbWl6ZSBKU0VuY3J5cHQgYmVoYXZpb3VyXG4gKiBwb3NzaWJsZSBwYXJhbWV0ZXJzIGFyZTpcbiAqIC0gZGVmYXVsdF9rZXlfc2l6ZSAgICAgICAge251bWJlcn0gIGRlZmF1bHQ6IDEwMjQgdGhlIGtleSBzaXplIGluIGJpdFxuICogLSBkZWZhdWx0X3B1YmxpY19leHBvbmVudCB7c3RyaW5nfSAgZGVmYXVsdDogJzAxMDAwMScgdGhlIGhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwdWJsaWMgZXhwb25lbnRcbiAqIC0gbG9nICAgICAgICAgICAgICAgICAgICAge2Jvb2xlYW59IGRlZmF1bHQ6IGZhbHNlIHdoZXRoZXIgbG9nIHdhcm4vZXJyb3Igb3Igbm90XG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIEpTRW5jcnlwdCA9IGV4cG9ydHMuSlNFbmNyeXB0ID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSlNFbmNyeXB0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSA9IG9wdGlvbnMuZGVmYXVsdF9rZXlfc2l6ZSA/IHBhcnNlSW50KG9wdGlvbnMuZGVmYXVsdF9rZXlfc2l6ZSwgMTApIDogMTAyNDtcbiAgICB0aGlzLmRlZmF1bHRfcHVibGljX2V4cG9uZW50ID0gb3B0aW9ucy5kZWZhdWx0X3B1YmxpY19leHBvbmVudCB8fCBcIjAxMDAwMVwiOyAvLyA2NTUzNyBkZWZhdWx0IG9wZW5zc2wgcHVibGljIGV4cG9uZW50IGZvciByc2Ega2V5IHR5cGVcbiAgICB0aGlzLmxvZyA9IG9wdGlvbnMubG9nIHx8IGZhbHNlO1xuICAgIC8vIFRoZSBwcml2YXRlIGFuZCBwdWJsaWMga2V5LlxuICAgIHRoaXMua2V5ID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHRvIHNldCB0aGUgcnNhIGtleSBwYXJhbWV0ZXIgKG9uZSBtZXRob2QgaXMgZW5vdWdoIHRvIHNldCBib3RoIHRoZSBwdWJsaWNcbiAgICogYW5kIHRoZSBwcml2YXRlIGtleSwgc2luY2UgdGhlIHByaXZhdGUga2V5IGNvbnRhaW5zIHRoZSBwdWJsaWMga2V5IHBhcmFtZW50ZXJzKVxuICAgKiBMb2cgYSB3YXJuaW5nIGlmIGxvZ3MgYXJlIGVuYWJsZWRcbiAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBrZXkgdGhlIHBlbSBlbmNvZGVkIHN0cmluZyBvciBhbiBvYmplY3QgKHdpdGggb3Igd2l0aG91dCBoZWFkZXIvZm9vdGVyKVxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHQucHJvdG90eXBlLnNldEtleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodGhpcy5sb2cgJiYgdGhpcy5rZXkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkEga2V5IHdhcyBhbHJlYWR5IHNldCwgb3ZlcnJpZGluZyBleGlzdGluZy5cIik7XG4gICAgfVxuICAgIHRoaXMua2V5ID0gbmV3IF9KU0VuY3J5cHRSU0FLZXkuSlNFbmNyeXB0UlNBS2V5KGtleSk7XG4gIH07XG4gIC8qKlxuICAgKiBQcm94eSBtZXRob2QgZm9yIHNldEtleSwgZm9yIGFwaSBjb21wYXRpYmlsaXR5XG4gICAqIEBzZWUgc2V0S2V5XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuc2V0UHJpdmF0ZUtleSA9IGZ1bmN0aW9uIChwcml2a2V5KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBrZXkuXG4gICAgdGhpcy5zZXRLZXkocHJpdmtleSk7XG4gIH07XG4gIC8qKlxuICAgKiBQcm94eSBtZXRob2QgZm9yIHNldEtleSwgZm9yIGFwaSBjb21wYXRpYmlsaXR5XG4gICAqIEBzZWUgc2V0S2V5XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuc2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKHB1YmtleSkge1xuICAgIC8vIFNldHMgdGhlIHB1YmxpYyBrZXkuXG4gICAgdGhpcy5zZXRLZXkocHVia2V5KTtcbiAgfTtcbiAgLyoqXG4gICAqIFByb3h5IG1ldGhvZCBmb3IgUlNBS2V5IG9iamVjdCdzIGRlY3J5cHQsIGRlY3J5cHQgdGhlIHN0cmluZyB1c2luZyB0aGUgcHJpdmF0ZVxuICAgKiBjb21wb25lbnRzIG9mIHRoZSByc2Ega2V5IG9iamVjdC4gTm90ZSB0aGF0IGlmIHRoZSBvYmplY3Qgd2FzIG5vdCBzZXQgd2lsbCBiZSBjcmVhdGVkXG4gICAqIG9uIHRoZSBmbHkgKGJ5IHRoZSBnZXRLZXkgbWV0aG9kKSB1c2luZyB0aGUgcGFyYW1ldGVycyBwYXNzZWQgaW4gdGhlIEpTRW5jcnlwdCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIGJhc2U2NCBlbmNvZGVkIGNyeXB0ZWQgc3RyaW5nIHRvIGRlY3J5cHRcbiAgICogQHJldHVybiB7c3RyaW5nfSB0aGUgZGVjcnlwdGVkIHN0cmluZ1xuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHQucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgLy8gUmV0dXJuIHRoZSBkZWNyeXB0ZWQgc3RyaW5nLlxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5kZWNyeXB0KCgwLCBfYmFzZS5iNjR0b2hleCkoc3RyKSk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBQcm94eSBtZXRob2QgZm9yIFJTQUtleSBvYmplY3QncyBlbmNyeXB0LCBlbmNyeXB0IHRoZSBzdHJpbmcgdXNpbmcgdGhlIHB1YmxpY1xuICAgKiBjb21wb25lbnRzIG9mIHRoZSByc2Ega2V5IG9iamVjdC4gTm90ZSB0aGF0IGlmIHRoZSBvYmplY3Qgd2FzIG5vdCBzZXQgd2lsbCBiZSBjcmVhdGVkXG4gICAqIG9uIHRoZSBmbHkgKGJ5IHRoZSBnZXRLZXkgbWV0aG9kKSB1c2luZyB0aGUgcGFyYW1ldGVycyBwYXNzZWQgaW4gdGhlIEpTRW5jcnlwdCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBzdHJpbmcgdG8gZW5jcnlwdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlbmNyeXB0ZWQgc3RyaW5nIGVuY29kZWQgaW4gYmFzZTY0XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZW5jcnlwdCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAvLyBSZXR1cm4gdGhlIGVuY3J5cHRlZCBzdHJpbmcuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoMCwgX2Jhc2UuaGV4MmI2NCkodGhpcy5nZXRLZXkoKS5lbmNyeXB0KHN0cikpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUHJveHkgbWV0aG9kIGZvciBSU0FLZXkgb2JqZWN0J3Mgc2lnbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIHNpZ25cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnZXN0TWV0aG9kIGhhc2ggbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaWdlc3ROYW1lIHRoZSBuYW1lIG9mIHRoZSBoYXNoIGFsZ29yaXRobVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBzaWduYXR1cmUgZW5jb2RlZCBpbiBiYXNlNjRcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0LnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24gKHN0ciwgZGlnZXN0TWV0aG9kLCBkaWdlc3ROYW1lKSB7XG4gICAgLy8gcmV0dXJuIHRoZSBSU0Egc2lnbmF0dXJlIG9mICdzdHInIGluICdoZXgnIGZvcm1hdC5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuICgwLCBfYmFzZS5oZXgyYjY0KSh0aGlzLmdldEtleSgpLnNpZ24oc3RyLCBkaWdlc3RNZXRob2QsIGRpZ2VzdE5hbWUpKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFByb3h5IG1ldGhvZCBmb3IgUlNBS2V5IG9iamVjdCdzIHZlcmlmeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIHZlcmlmeVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2lnbmF0dXJlIHRoZSBzaWduYXR1cmUgZW5jb2RlZCBpbiBiYXNlNjQgdG8gY29tcGFyZSB0aGUgc3RyaW5nIHRvXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ2VzdE1ldGhvZCBoYXNoIG1ldGhvZFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBkYXRhIGFuZCBzaWduYXR1cmUgbWF0Y2hcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0LnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiAoc3RyLCBzaWduYXR1cmUsIGRpZ2VzdE1ldGhvZCkge1xuICAgIC8vIFJldHVybiB0aGUgZGVjcnlwdGVkICdkaWdlc3QnIG9mIHRoZSBzaWduYXR1cmUuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmdldEtleSgpLnZlcmlmeShzdHIsICgwLCBfYmFzZS5iNjR0b2hleCkoc2lnbmF0dXJlKSwgZGlnZXN0TWV0aG9kKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldHRlciBmb3IgdGhlIGN1cnJlbnQgSlNFbmNyeXB0UlNBS2V5IG9iamVjdC4gSWYgaXQgZG9lc24ndCBleGlzdHMgYSBuZXcgb2JqZWN0XG4gICAqIHdpbGwgYmUgY3JlYXRlZCBhbmQgcmV0dXJuZWRcbiAgICogQHBhcmFtIHtjYWxsYmFja30gW2NiXSB0aGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGlmIHdlIHdhbnQgdGhlIGtleSB0byBiZSBnZW5lcmF0ZWRcbiAgICogaW4gYW4gYXN5bmMgZmFzaGlvblxuICAgKiBAcmV0dXJucyB7SlNFbmNyeXB0UlNBS2V5fSB0aGUgSlNFbmNyeXB0UlNBS2V5IG9iamVjdFxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHQucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uIChjYikge1xuICAgIC8vIE9ubHkgY3JlYXRlIG5ldyBpZiBpdCBkb2VzIG5vdCBleGlzdC5cbiAgICBpZiAoIXRoaXMua2V5KSB7XG4gICAgICAvLyBHZXQgYSBuZXcgcHJpdmF0ZSBrZXkuXG4gICAgICB0aGlzLmtleSA9IG5ldyBfSlNFbmNyeXB0UlNBS2V5LkpTRW5jcnlwdFJTQUtleSgpO1xuICAgICAgaWYgKGNiICYmIHt9LnRvU3RyaW5nLmNhbGwoY2IpID09PSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgdGhpcy5rZXkuZ2VuZXJhdGVBc3luYyh0aGlzLmRlZmF1bHRfa2V5X3NpemUsIHRoaXMuZGVmYXVsdF9wdWJsaWNfZXhwb25lbnQsIGNiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gR2VuZXJhdGUgdGhlIGtleS5cbiAgICAgIHRoaXMua2V5LmdlbmVyYXRlKHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSwgdGhpcy5kZWZhdWx0X3B1YmxpY19leHBvbmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmtleTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcml2YXRlIGtleVxuICAgKiBJZiB0aGUga2V5IGRvZXNuJ3QgZXhpc3RzIGEgbmV3IGtleSB3aWxsIGJlIGNyZWF0ZWRcbiAgICogQHJldHVybnMge3N0cmluZ30gcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHByaXZhdGUga2V5IFdJVEggaGVhZGVyIGFuZCBmb290ZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0LnByb3RvdHlwZS5nZXRQcml2YXRlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFJldHVybiB0aGUgcHJpdmF0ZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGtleS5cbiAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQcml2YXRlS2V5KCk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHJpdmF0ZSBrZXlcbiAgICogSWYgdGhlIGtleSBkb2Vzbid0IGV4aXN0cyBhIG5ldyBrZXkgd2lsbCBiZSBjcmVhdGVkXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcml2YXRlIGtleSBXSVRIT1VUIGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleUI2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBSZXR1cm4gdGhlIHByaXZhdGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBrZXkuXG4gICAgcmV0dXJuIHRoaXMuZ2V0S2V5KCkuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwdWJsaWMga2V5XG4gICAqIElmIHRoZSBrZXkgZG9lc24ndCBleGlzdHMgYSBuZXcga2V5IHdpbGwgYmUgY3JlYXRlZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHVibGljIGtleSBXSVRIIGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFJldHVybiB0aGUgcHJpdmF0ZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGtleS5cbiAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQdWJsaWNLZXkoKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwdWJsaWMga2V5XG4gICAqIElmIHRoZSBrZXkgZG9lc24ndCBleGlzdHMgYSBuZXcga2V5IHdpbGwgYmUgY3JlYXRlZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHVibGljIGtleSBXSVRIT1VUIGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHVibGljS2V5QjY0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFJldHVybiB0aGUgcHJpdmF0ZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGtleS5cbiAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQdWJsaWNCYXNlS2V5QjY0KCk7XG4gIH07XG4gIEpTRW5jcnlwdC52ZXJzaW9uID0gdmVyc2lvbjtcbiAgcmV0dXJuIEpTRW5jcnlwdDtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSlNFbmNyeXB0UlNBS2V5ID0gdm9pZCAwO1xudmFyIF9iYXNlID0gcmVxdWlyZShcIi4vbGliL2pzYm4vYmFzZTY0XCIpO1xudmFyIF9oZXggPSByZXF1aXJlKFwiLi9saWIvYXNuMWpzL2hleFwiKTtcbnZhciBfYmFzZTIgPSByZXF1aXJlKFwiLi9saWIvYXNuMWpzL2Jhc2U2NFwiKTtcbnZhciBfYXNuID0gcmVxdWlyZShcIi4vbGliL2FzbjFqcy9hc24xXCIpO1xudmFyIF9yc2EgPSByZXF1aXJlKFwiLi9saWIvanNibi9yc2FcIik7XG52YXIgX2pzYm4gPSByZXF1aXJlKFwiLi9saWIvanNibi9qc2JuXCIpO1xudmFyIF9hc24yID0gcmVxdWlyZShcIi4vbGliL2pzcnNhc2lnbi9hc24xLTEuMFwiKTtcbnZhciBfX2V4dGVuZHMgPSB2b2lkIDAgJiYgKHZvaWQgMCkuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgX19wcm90b19fOiBbXVxuICAgIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07XG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICB9O1xufSgpO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgSlNFbmNyeXB0UlNBS2V5IHRoYXQgZXh0ZW5kcyBUb20gV3UncyBSU0Ega2V5IG9iamVjdC5cbiAqIFRoaXMgb2JqZWN0IGlzIGp1c3QgYSBkZWNvcmF0b3IgZm9yIHBhcnNpbmcgdGhlIGtleSBwYXJhbWV0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0ga2V5IC0gVGhlIGtleSBpbiBzdHJpbmcgZm9ybWF0LCBvciBhbiBvYmplY3QgY29udGFpbmluZ1xuICogdGhlIHBhcmFtZXRlcnMgbmVlZGVkIHRvIGJ1aWxkIGEgUlNBS2V5IG9iamVjdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgSlNFbmNyeXB0UlNBS2V5ID0gZXhwb3J0cy5KU0VuY3J5cHRSU0FLZXkgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoSlNFbmNyeXB0UlNBS2V5LCBfc3VwZXIpO1xuICBmdW5jdGlvbiBKU0VuY3J5cHRSU0FLZXkoa2V5KSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAvLyBDYWxsIHRoZSBzdXBlciBjb25zdHJ1Y3Rvci5cbiAgICAvLyAgUlNBS2V5LmNhbGwodGhpcyk7XG4gICAgLy8gSWYgYSBrZXkga2V5IHdhcyBwcm92aWRlZC5cbiAgICBpZiAoa2V5KSB7XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgc3RyaW5nLi4uXG4gICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfdGhpcy5wYXJzZUtleShrZXkpO1xuICAgICAgfSBlbHNlIGlmIChKU0VuY3J5cHRSU0FLZXkuaGFzUHJpdmF0ZUtleVByb3BlcnR5KGtleSkgfHwgSlNFbmNyeXB0UlNBS2V5Lmhhc1B1YmxpY0tleVByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gU2V0IHRoZSB2YWx1ZXMgZm9yIHRoZSBrZXkuXG4gICAgICAgIF90aGlzLnBhcnNlUHJvcGVydGllc0Zyb20oa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgdG8gcGFyc2UgYSBwZW0gZW5jb2RlZCBzdHJpbmcgY29udGFpbmluZyBib3RoIGEgcHVibGljIG9yIHByaXZhdGUga2V5LlxuICAgKiBUaGUgbWV0aG9kIHdpbGwgdHJhbnNsYXRlIHRoZSBwZW0gZW5jb2RlZCBzdHJpbmcgaW4gYSBkZXIgZW5jb2RlZCBzdHJpbmcgYW5kXG4gICAqIHdpbGwgcGFyc2UgcHJpdmF0ZSBrZXkgYW5kIHB1YmxpYyBrZXkgcGFyYW1ldGVycy4gVGhpcyBtZXRob2QgYWNjZXB0cyBwdWJsaWMga2V5XG4gICAqIGluIHRoZSByc2FlbmNyeXB0aW9uIHBrY3MgIzEgZm9ybWF0IChvaWQ6IDEuMi44NDAuMTEzNTQ5LjEuMS4xKS5cbiAgICpcbiAgICogQHRvZG8gQ2hlY2sgaG93IG1hbnkgcnNhIGZvcm1hdHMgdXNlIHRoZSBzYW1lIGZvcm1hdCBvZiBwa2NzICMxLlxuICAgKlxuICAgKiBUaGUgZm9ybWF0IGlzIGRlZmluZWQgYXM6XG4gICAqIFB1YmxpY0tleUluZm8gOjo9IFNFUVVFTkNFIHtcbiAgICogICBhbGdvcml0aG0gICAgICAgQWxnb3JpdGhtSWRlbnRpZmllcixcbiAgICogICBQdWJsaWNLZXkgICAgICAgQklUIFNUUklOR1xuICAgKiB9XG4gICAqIFdoZXJlIEFsZ29yaXRobUlkZW50aWZpZXIgaXM6XG4gICAqIEFsZ29yaXRobUlkZW50aWZpZXIgOjo9IFNFUVVFTkNFIHtcbiAgICogICBhbGdvcml0aG0gICAgICAgT0JKRUNUIElERU5USUZJRVIsICAgICB0aGUgT0lEIG9mIHRoZSBlbmMgYWxnb3JpdGhtXG4gICAqICAgcGFyYW1ldGVycyAgICAgIEFOWSBERUZJTkVEIEJZIGFsZ29yaXRobSBPUFRJT05BTCAoTlVMTCBmb3IgUEtDUyAjMSlcbiAgICogfVxuICAgKiBhbmQgUHVibGljS2V5IGlzIGEgU0VRVUVOQ0UgZW5jYXBzdWxhdGVkIGluIGEgQklUIFNUUklOR1xuICAgKiBSU0FQdWJsaWNLZXkgOjo9IFNFUVVFTkNFIHtcbiAgICogICBtb2R1bHVzICAgICAgICAgICBJTlRFR0VSLCAgLS0gblxuICAgKiAgIHB1YmxpY0V4cG9uZW50ICAgIElOVEVHRVIgICAtLSBlXG4gICAqIH1cbiAgICogaXQncyBwb3NzaWJsZSB0byBleGFtaW5lIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGtleXMgb2J0YWluZWQgZnJvbSBvcGVuc3NsIHVzaW5nXG4gICAqIGFuIGFzbi4xIGR1bXBlciBhcyB0aGUgb25lIHVzZWQgaGVyZSB0byBwYXJzZSB0aGUgY29tcG9uZW50czogaHR0cDovL2xhcG8uaXQvYXNuMWpzL1xuICAgKiBAYXJndW1lbnQge3N0cmluZ30gcGVtIHRoZSBwZW0gZW5jb2RlZCBzdHJpbmcsIGNhbiBpbmNsdWRlIHRoZSBCRUdJTi9FTkQgaGVhZGVyL2Zvb3RlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5wYXJzZUtleSA9IGZ1bmN0aW9uIChwZW0pIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG1vZHVsdXMgPSAwO1xuICAgICAgdmFyIHB1YmxpY19leHBvbmVudCA9IDA7XG4gICAgICB2YXIgcmVIZXggPSAvXlxccyooPzpbMC05QS1GYS1mXVswLTlBLUZhLWZdXFxzKikrJC87XG4gICAgICB2YXIgZGVyID0gcmVIZXgudGVzdChwZW0pID8gX2hleC5IZXguZGVjb2RlKHBlbSkgOiBfYmFzZTIuQmFzZTY0LnVuYXJtb3IocGVtKTtcbiAgICAgIHZhciBhc24xID0gX2Fzbi5BU04xLmRlY29kZShkZXIpO1xuICAgICAgLy8gRml4ZXMgYSBidWcgd2l0aCBPcGVuU1NMIDEuMCsgcHJpdmF0ZSBrZXlzXG4gICAgICBpZiAoYXNuMS5zdWIubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGFzbjEgPSBhc24xLnN1YlsyXS5zdWJbMF07XG4gICAgICB9XG4gICAgICBpZiAoYXNuMS5zdWIubGVuZ3RoID09PSA5KSB7XG4gICAgICAgIC8vIFBhcnNlIHRoZSBwcml2YXRlIGtleS5cbiAgICAgICAgbW9kdWx1cyA9IGFzbjEuc3ViWzFdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLm4gPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKG1vZHVsdXMsIDE2KTtcbiAgICAgICAgcHVibGljX2V4cG9uZW50ID0gYXNuMS5zdWJbMl0uZ2V0SGV4U3RyaW5nVmFsdWUoKTsgLy8gaW50XG4gICAgICAgIHRoaXMuZSA9IHBhcnNlSW50KHB1YmxpY19leHBvbmVudCwgMTYpO1xuICAgICAgICB2YXIgcHJpdmF0ZV9leHBvbmVudCA9IGFzbjEuc3ViWzNdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLmQgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKHByaXZhdGVfZXhwb25lbnQsIDE2KTtcbiAgICAgICAgdmFyIHByaW1lMSA9IGFzbjEuc3ViWzRdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLnAgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKHByaW1lMSwgMTYpO1xuICAgICAgICB2YXIgcHJpbWUyID0gYXNuMS5zdWJbNV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTsgLy8gYmlnaW50XG4gICAgICAgIHRoaXMucSA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkocHJpbWUyLCAxNik7XG4gICAgICAgIHZhciBleHBvbmVudDEgPSBhc24xLnN1Yls2XS5nZXRIZXhTdHJpbmdWYWx1ZSgpOyAvLyBiaWdpbnRcbiAgICAgICAgdGhpcy5kbXAxID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShleHBvbmVudDEsIDE2KTtcbiAgICAgICAgdmFyIGV4cG9uZW50MiA9IGFzbjEuc3ViWzddLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICB0aGlzLmRtcTEgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKGV4cG9uZW50MiwgMTYpO1xuICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBhc24xLnN1Yls4XS5nZXRIZXhTdHJpbmdWYWx1ZSgpOyAvLyBiaWdpbnRcbiAgICAgICAgdGhpcy5jb2VmZiA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoY29lZmZpY2llbnQsIDE2KTtcbiAgICAgIH0gZWxzZSBpZiAoYXNuMS5zdWIubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGlmIChhc24xLnN1YlswXS5zdWIpIHtcbiAgICAgICAgICAvLyBQYXJzZSBBU04uMSBTdWJqZWN0UHVibGljS2V5SW5mbyB0eXBlIGFzIGRlZmluZWQgYnkgWC41MDlcbiAgICAgICAgICB2YXIgYml0X3N0cmluZyA9IGFzbjEuc3ViWzFdO1xuICAgICAgICAgIHZhciBzZXF1ZW5jZSA9IGJpdF9zdHJpbmcuc3ViWzBdO1xuICAgICAgICAgIG1vZHVsdXMgPSBzZXF1ZW5jZS5zdWJbMF0uZ2V0SGV4U3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLm4gPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKG1vZHVsdXMsIDE2KTtcbiAgICAgICAgICBwdWJsaWNfZXhwb25lbnQgPSBzZXF1ZW5jZS5zdWJbMV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLmUgPSBwYXJzZUludChwdWJsaWNfZXhwb25lbnQsIDE2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQYXJzZSBBU04uMSBSU0FQdWJsaWNLZXkgdHlwZSBhcyBkZWZpbmVkIGJ5IFBLQ1MgIzFcbiAgICAgICAgICBtb2R1bHVzID0gYXNuMS5zdWJbMF0uZ2V0SGV4U3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLm4gPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKG1vZHVsdXMsIDE2KTtcbiAgICAgICAgICBwdWJsaWNfZXhwb25lbnQgPSBhc24xLnN1YlsxXS5nZXRIZXhTdHJpbmdWYWx1ZSgpO1xuICAgICAgICAgIHRoaXMuZSA9IHBhcnNlSW50KHB1YmxpY19leHBvbmVudCwgMTYpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFRyYW5zbGF0ZSByc2EgcGFyYW1ldGVycyBpbiBhIGhleCBlbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHJzYSBrZXkuXG4gICAqXG4gICAqIFRoZSB0cmFuc2xhdGlvbiBmb2xsb3cgdGhlIEFTTi4xIG5vdGF0aW9uIDpcbiAgICogUlNBUHJpdmF0ZUtleSA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIHZlcnNpb24gICAgICAgICAgIFZlcnNpb24sXG4gICAqICAgbW9kdWx1cyAgICAgICAgICAgSU5URUdFUiwgIC0tIG5cbiAgICogICBwdWJsaWNFeHBvbmVudCAgICBJTlRFR0VSLCAgLS0gZVxuICAgKiAgIHByaXZhdGVFeHBvbmVudCAgIElOVEVHRVIsICAtLSBkXG4gICAqICAgcHJpbWUxICAgICAgICAgICAgSU5URUdFUiwgIC0tIHBcbiAgICogICBwcmltZTIgICAgICAgICAgICBJTlRFR0VSLCAgLS0gcVxuICAgKiAgIGV4cG9uZW50MSAgICAgICAgIElOVEVHRVIsICAtLSBkIG1vZCAocDEpXG4gICAqICAgZXhwb25lbnQyICAgICAgICAgSU5URUdFUiwgIC0tIGQgbW9kIChxLTEpXG4gICAqICAgY29lZmZpY2llbnQgICAgICAgSU5URUdFUiwgIC0tIChpbnZlcnNlIG9mIHEpIG1vZCBwXG4gICAqIH1cbiAgICogQHJldHVybnMge3N0cmluZ30gIERFUiBFbmNvZGVkIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHJzYSBwcml2YXRlIGtleVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQcml2YXRlQmFzZUtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIGFycmF5OiBbbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgaW50OiAwXG4gICAgICB9KSwgbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLm5cbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBpbnQ6IHRoaXMuZVxuICAgICAgfSksIG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSSW50ZWdlcih7XG4gICAgICAgIGJpZ2ludDogdGhpcy5kXG4gICAgICB9KSwgbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLnBcbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBiaWdpbnQ6IHRoaXMucVxuICAgICAgfSksIG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSSW50ZWdlcih7XG4gICAgICAgIGJpZ2ludDogdGhpcy5kbXAxXG4gICAgICB9KSwgbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLmRtcTFcbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBiaWdpbnQ6IHRoaXMuY29lZmZcbiAgICAgIH0pXVxuICAgIH07XG4gICAgdmFyIHNlcSA9IG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSU2VxdWVuY2Uob3B0aW9ucyk7XG4gICAgcmV0dXJuIHNlcS5nZXRFbmNvZGVkSGV4KCk7XG4gIH07XG4gIC8qKlxuICAgKiBiYXNlNjQgKHBlbSkgZW5jb2RlZCB2ZXJzaW9uIG9mIHRoZSBERVIgZW5jb2RlZCByZXByZXNlbnRhdGlvblxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiB3aXRob3V0IGhlYWRlciBhbmQgZm9vdGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEpTRW5jcnlwdFJTQUtleS5wcm90b3R5cGUuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgwLCBfYmFzZS5oZXgyYjY0KSh0aGlzLmdldFByaXZhdGVCYXNlS2V5KCkpO1xuICB9O1xuICAvKipcbiAgICogVHJhbnNsYXRlIHJzYSBwYXJhbWV0ZXJzIGluIGEgaGV4IGVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcnNhIHB1YmxpYyBrZXkuXG4gICAqIFRoZSByZXByZXNlbnRhdGlvbiBmb2xsb3cgdGhlIEFTTi4xIG5vdGF0aW9uIDpcbiAgICogUHVibGljS2V5SW5mbyA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIGFsZ29yaXRobSAgICAgICBBbGdvcml0aG1JZGVudGlmaWVyLFxuICAgKiAgIFB1YmxpY0tleSAgICAgICBCSVQgU1RSSU5HXG4gICAqIH1cbiAgICogV2hlcmUgQWxnb3JpdGhtSWRlbnRpZmllciBpczpcbiAgICogQWxnb3JpdGhtSWRlbnRpZmllciA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIGFsZ29yaXRobSAgICAgICBPQkpFQ1QgSURFTlRJRklFUiwgICAgIHRoZSBPSUQgb2YgdGhlIGVuYyBhbGdvcml0aG1cbiAgICogICBwYXJhbWV0ZXJzICAgICAgQU5ZIERFRklORUQgQlkgYWxnb3JpdGhtIE9QVElPTkFMIChOVUxMIGZvciBQS0NTICMxKVxuICAgKiB9XG4gICAqIGFuZCBQdWJsaWNLZXkgaXMgYSBTRVFVRU5DRSBlbmNhcHN1bGF0ZWQgaW4gYSBCSVQgU1RSSU5HXG4gICAqIFJTQVB1YmxpY0tleSA6Oj0gU0VRVUVOQ0Uge1xuICAgKiAgIG1vZHVsdXMgICAgICAgICAgIElOVEVHRVIsICAtLSBuXG4gICAqICAgcHVibGljRXhwb25lbnQgICAgSU5URUdFUiAgIC0tIGVcbiAgICogfVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBERVIgRW5jb2RlZCBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByc2EgcHVibGljIGtleVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQdWJsaWNCYXNlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmaXJzdF9zZXF1ZW5jZSA9IG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSU2VxdWVuY2Uoe1xuICAgICAgYXJyYXk6IFtuZXcgX2FzbjIuS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoe1xuICAgICAgICBvaWQ6IFwiMS4yLjg0MC4xMTM1NDkuMS4xLjFcIlxuICAgICAgfSksIG5ldyBfYXNuMi5LSlVSLmFzbjEuREVSTnVsbCgpXVxuICAgIH0pO1xuICAgIHZhciBzZWNvbmRfc2VxdWVuY2UgPSBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUlNlcXVlbmNlKHtcbiAgICAgIGFycmF5OiBbbmV3IF9hc24yLktKVVIuYXNuMS5ERVJJbnRlZ2VyKHtcbiAgICAgICAgYmlnaW50OiB0aGlzLm5cbiAgICAgIH0pLCBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkludGVnZXIoe1xuICAgICAgICBpbnQ6IHRoaXMuZVxuICAgICAgfSldXG4gICAgfSk7XG4gICAgdmFyIGJpdF9zdHJpbmcgPSBuZXcgX2FzbjIuS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7XG4gICAgICBoZXg6IFwiMDBcIiArIHNlY29uZF9zZXF1ZW5jZS5nZXRFbmNvZGVkSGV4KClcbiAgICB9KTtcbiAgICB2YXIgc2VxID0gbmV3IF9hc24yLktKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7XG4gICAgICBhcnJheTogW2ZpcnN0X3NlcXVlbmNlLCBiaXRfc3RyaW5nXVxuICAgIH0pO1xuICAgIHJldHVybiBzZXEuZ2V0RW5jb2RlZEhleCgpO1xuICB9O1xuICAvKipcbiAgICogYmFzZTY0IChwZW0pIGVuY29kZWQgdmVyc2lvbiBvZiB0aGUgREVSIGVuY29kZWQgcmVwcmVzZW50YXRpb25cbiAgICogQHJldHVybnMge3N0cmluZ30gcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gd2l0aG91dCBoZWFkZXIgYW5kIGZvb3RlclxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHRSU0FLZXkucHJvdG90eXBlLmdldFB1YmxpY0Jhc2VLZXlCNjQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgwLCBfYmFzZS5oZXgyYjY0KSh0aGlzLmdldFB1YmxpY0Jhc2VLZXkoKSk7XG4gIH07XG4gIC8qKlxuICAgKiB3cmFwIHRoZSBzdHJpbmcgaW4gYmxvY2sgb2Ygd2lkdGggY2hhcnMuIFRoZSBkZWZhdWx0IHZhbHVlIGZvciByc2Ega2V5cyBpcyA2NFxuICAgKiBjaGFyYWN0ZXJzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBwZW0gZW5jb2RlZCBzdHJpbmcgd2l0aG91dCBoZWFkZXIgYW5kIGZvb3RlclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3dpZHRoPTY0XSAtIHRoZSBsZW5ndGggdGhlIHN0cmluZyBoYXMgdG8gYmUgd3JhcHBlZCBhdFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LndvcmR3cmFwID0gZnVuY3Rpb24gKHN0ciwgd2lkdGgpIHtcbiAgICB3aWR0aCA9IHdpZHRoIHx8IDY0O1xuICAgIGlmICghc3RyKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICB2YXIgcmVnZXggPSBcIiguezEsXCIgKyB3aWR0aCArIFwifSkoICt8JFxcbj8pfCguezEsXCIgKyB3aWR0aCArIFwifSlcIjtcbiAgICByZXR1cm4gc3RyLm1hdGNoKFJlZ0V4cChyZWdleCwgXCJnXCIpKS5qb2luKFwiXFxuXCIpO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHBlbSBlbmNvZGVkIHByaXZhdGUga2V5XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBwZW0gZW5jb2RlZCBwcml2YXRlIGtleSB3aXRoIGhlYWRlci9mb290ZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQcml2YXRlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBrZXkgPSBcIi0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS1cXG5cIjtcbiAgICBrZXkgKz0gSlNFbmNyeXB0UlNBS2V5LndvcmR3cmFwKHRoaXMuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQoKSkgKyBcIlxcblwiO1xuICAgIGtleSArPSBcIi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tXCI7XG4gICAgcmV0dXJuIGtleTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBwZW0gZW5jb2RlZCBwdWJsaWMga2V5XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBwZW0gZW5jb2RlZCBwdWJsaWMga2V5IHdpdGggaGVhZGVyL2Zvb3RlclxuICAgKiBAcHVibGljXG4gICAqL1xuICBKU0VuY3J5cHRSU0FLZXkucHJvdG90eXBlLmdldFB1YmxpY0tleSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIga2V5ID0gXCItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxcblwiO1xuICAgIGtleSArPSBKU0VuY3J5cHRSU0FLZXkud29yZHdyYXAodGhpcy5nZXRQdWJsaWNCYXNlS2V5QjY0KCkpICsgXCJcXG5cIjtcbiAgICBrZXkgKz0gXCItLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cIjtcbiAgICByZXR1cm4ga2V5O1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIG9iamVjdCBjb250YWlucyB0aGUgbmVjZXNzYXJ5IHBhcmFtZXRlcnMgdG8gcG9wdWxhdGUgdGhlIHJzYSBtb2R1bHVzXG4gICAqIGFuZCBwdWJsaWMgZXhwb25lbnQgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmo9e31dIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gdGhlIHR3byBwdWJsaWMga2V5XG4gICAqIHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBtb2R1bHVzIGFuZCB0aGUgcHVibGljIGV4cG9uZW50XG4gICAqIHByb3BlcnRpZXMgKG4gYW5kIGUpXG4gICAqIEB0b2RvIGNoZWNrIGZvciB0eXBlcyBvZiBuIGFuZCBlLiBOIHNob3VsZCBiZSBhIHBhcnNlYWJsZSBiaWdJbnQgb2JqZWN0LCBFIHNob3VsZFxuICAgKiBiZSBhIHBhcnNlYWJsZSBpbnRlZ2VyIG51bWJlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSlNFbmNyeXB0UlNBS2V5Lmhhc1B1YmxpY0tleVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIG9iaiA9IG9iaiB8fCB7fTtcbiAgICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KFwiblwiKSAmJiBvYmouaGFzT3duUHJvcGVydHkoXCJlXCIpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIG9iamVjdCBjb250YWlucyBBTEwgdGhlIHBhcmFtZXRlcnMgb2YgYW4gUlNBIGtleS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmo9e31dIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gbmluZSByc2Ega2V5XG4gICAqIHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBjb250YWlucyBhbGwgdGhlIHBhcmFtZXRlcnMgbmVlZGVkXG4gICAqIEB0b2RvIGNoZWNrIGZvciB0eXBlcyBvZiB0aGUgcGFyYW1ldGVycyBhbGwgdGhlIHBhcmFtZXRlcnMgYnV0IHRoZSBwdWJsaWMgZXhwb25lbnRcbiAgICogc2hvdWxkIGJlIHBhcnNlYWJsZSBiaWdpbnQgb2JqZWN0cywgdGhlIHB1YmxpYyBleHBvbmVudCBzaG91bGQgYmUgYSBwYXJzZWFibGUgaW50ZWdlciBudW1iZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEpTRW5jcnlwdFJTQUtleS5oYXNQcml2YXRlS2V5UHJvcGVydHkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgb2JqID0gb2JqIHx8IHt9O1xuICAgIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkoXCJuXCIpICYmIG9iai5oYXNPd25Qcm9wZXJ0eShcImVcIikgJiYgb2JqLmhhc093blByb3BlcnR5KFwiZFwiKSAmJiBvYmouaGFzT3duUHJvcGVydHkoXCJwXCIpICYmIG9iai5oYXNPd25Qcm9wZXJ0eShcInFcIikgJiYgb2JqLmhhc093blByb3BlcnR5KFwiZG1wMVwiKSAmJiBvYmouaGFzT3duUHJvcGVydHkoXCJkbXExXCIpICYmIG9iai5oYXNPd25Qcm9wZXJ0eShcImNvZWZmXCIpO1xuICB9O1xuICAvKipcbiAgICogUGFyc2UgdGhlIHByb3BlcnRpZXMgb2Ygb2JqIGluIHRoZSBjdXJyZW50IHJzYSBvYmplY3QuIE9iaiBzaG91bGQgQVQgTEVBU1RcbiAgICogaW5jbHVkZSB0aGUgbW9kdWx1cyBhbmQgcHVibGljIGV4cG9uZW50IChuLCBlKSBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gdGhlIG9iamVjdCBjb250YWluaW5nIHJzYSBwYXJhbWV0ZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBKU0VuY3J5cHRSU0FLZXkucHJvdG90eXBlLnBhcnNlUHJvcGVydGllc0Zyb20gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdGhpcy5uID0gb2JqLm47XG4gICAgdGhpcy5lID0gb2JqLmU7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShcImRcIikpIHtcbiAgICAgIHRoaXMuZCA9IG9iai5kO1xuICAgICAgdGhpcy5wID0gb2JqLnA7XG4gICAgICB0aGlzLnEgPSBvYmoucTtcbiAgICAgIHRoaXMuZG1wMSA9IG9iai5kbXAxO1xuICAgICAgdGhpcy5kbXExID0gb2JqLmRtcTE7XG4gICAgICB0aGlzLmNvZWZmID0gb2JqLmNvZWZmO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIEpTRW5jcnlwdFJTQUtleTtcbn0oX3JzYS5SU0FLZXkpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSlNFbmNyeXB0XCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9KU0VuY3J5cHQuSlNFbmNyeXB0O1xuICB9XG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBfSlNFbmNyeXB0ID0gcmVxdWlyZShcIi4vSlNFbmNyeXB0XCIpO1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gX0pTRW5jcnlwdC5KU0VuY3J5cHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlN0cmVhbSA9IGV4cG9ydHMuQVNOMVRhZyA9IGV4cG9ydHMuQVNOMSA9IHZvaWQgMDtcbnZhciBfaW50ID0gcmVxdWlyZShcIi4vaW50MTBcIik7XG4vLyBBU04uMSBKYXZhU2NyaXB0IGRlY29kZXJcbi8vIENvcHlyaWdodCAoYykgMjAwOC0yMDE0IExhcG8gTHVjaGluaSA8bGFwb0BsYXBvLml0PlxuLy8gUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4vLyBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIGFwcGVhciBpbiBhbGwgY29waWVzLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTXG4vLyBXSVRIIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUlxuLy8gQU5ZIFNQRUNJQUwsIERJUkVDVCwgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFU1xuLy8gV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOXG4vLyBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1IgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRlxuLy8gT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1IgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgaW1tZWQ6IHRydWUsIGxhdGVkZWY6IHRydWUsIHVuZGVmOiB0cnVlLCByZWdleGRhc2g6IGZhbHNlICovXG4vKmdsb2JhbCBvaWRzICovXG5cbnZhciBlbGxpcHNpcyA9IFwiXFx1MjAyNlwiO1xudmFyIHJlVGltZVMgPSAvXihcXGRcXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXFxkfDNbMDFdKShbMDFdXFxkfDJbMC0zXSkoPzooWzAtNV1cXGQpKD86KFswLTVdXFxkKSg/OlsuLF0oXFxkezEsM30pKT8pPyk/KFp8Wy0rXSg/OlswXVxcZHwxWzAtMl0pKFswLTVdXFxkKT8pPyQvO1xudmFyIHJlVGltZUwgPSAvXihcXGRcXGRcXGRcXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXFxkfDNbMDFdKShbMDFdXFxkfDJbMC0zXSkoPzooWzAtNV1cXGQpKD86KFswLTVdXFxkKSg/OlsuLF0oXFxkezEsM30pKT8pPyk/KFp8Wy0rXSg/OlswXVxcZHwxWzAtMl0pKFswLTVdXFxkKT8pPyQvO1xuZnVuY3Rpb24gc3RyaW5nQ3V0KHN0ciwgbGVuKSB7XG4gIGlmIChzdHIubGVuZ3RoID4gbGVuKSB7XG4gICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBsZW4pICsgZWxsaXBzaXM7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbnZhciBTdHJlYW0gPSBleHBvcnRzLlN0cmVhbSA9IC8qKiBAY2xhc3MgKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0cmVhbShlbmMsIHBvcykge1xuICAgIHRoaXMuaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5QUJDREVGXCI7XG4gICAgaWYgKGVuYyBpbnN0YW5jZW9mIFN0cmVhbSkge1xuICAgICAgdGhpcy5lbmMgPSBlbmMuZW5jO1xuICAgICAgdGhpcy5wb3MgPSBlbmMucG9zO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbmMgc2hvdWxkIGJlIGFuIGFycmF5IG9yIGEgYmluYXJ5IHN0cmluZ1xuICAgICAgdGhpcy5lbmMgPSBlbmM7XG4gICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICB9XG4gIH1cbiAgU3RyZWFtLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwb3MgPSB0aGlzLnBvcysrO1xuICAgIH1cbiAgICBpZiAocG9zID49IHRoaXMuZW5jLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdGluZyBieXRlIG9mZnNldCBcIi5jb25jYXQocG9zLCBcIiBvbiBhIHN0cmVhbSBvZiBsZW5ndGggXCIpLmNvbmNhdCh0aGlzLmVuYy5sZW5ndGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLmVuYyA/IHRoaXMuZW5jLmNoYXJDb2RlQXQocG9zKSA6IHRoaXMuZW5jW3Bvc107XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUuaGV4Qnl0ZSA9IGZ1bmN0aW9uIChiKSB7XG4gICAgcmV0dXJuIHRoaXMuaGV4RGlnaXRzLmNoYXJBdChiID4+IDQgJiAweEYpICsgdGhpcy5oZXhEaWdpdHMuY2hhckF0KGIgJiAweEYpO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLmhleER1bXAgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgcmF3KSB7XG4gICAgdmFyIHMgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICBzICs9IHRoaXMuaGV4Qnl0ZSh0aGlzLmdldChpKSk7XG4gICAgICBpZiAocmF3ICE9PSB0cnVlKSB7XG4gICAgICAgIHN3aXRjaCAoaSAmIDB4Rikge1xuICAgICAgICAgIGNhc2UgMHg3OlxuICAgICAgICAgICAgcyArPSBcIiAgXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDB4RjpcbiAgICAgICAgICAgIHMgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzICs9IFwiIFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLmlzQVNDSUkgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuZ2V0KGkpO1xuICAgICAgaWYgKGMgPCAzMiB8fCBjID4gMTc2KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUucGFyc2VTdHJpbmdJU08gPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZ2V0KGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUucGFyc2VTdHJpbmdVVEYgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7KSB7XG4gICAgICB2YXIgYyA9IHRoaXMuZ2V0KGkrKyk7XG4gICAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICB9IGVsc2UgaWYgKGMgPiAxOTEgJiYgYyA8IDIyNCkge1xuICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiAweDFGKSA8PCA2IHwgdGhpcy5nZXQoaSsrKSAmIDB4M0YpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMHgwRikgPDwgMTIgfCAodGhpcy5nZXQoaSsrKSAmIDB4M0YpIDw8IDYgfCB0aGlzLmdldChpKyspICYgMHgzRik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLnBhcnNlU3RyaW5nQk1QID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgc3RyID0gXCJcIjtcbiAgICB2YXIgaGk7XG4gICAgdmFyIGxvO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDspIHtcbiAgICAgIGhpID0gdGhpcy5nZXQoaSsrKTtcbiAgICAgIGxvID0gdGhpcy5nZXQoaSsrKTtcbiAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGhpIDw8IDggfCBsbyk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIFN0cmVhbS5wcm90b3R5cGUucGFyc2VUaW1lID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHNob3J0WWVhcikge1xuICAgIHZhciBzID0gdGhpcy5wYXJzZVN0cmluZ0lTTyhzdGFydCwgZW5kKTtcbiAgICB2YXIgbSA9IChzaG9ydFllYXIgPyByZVRpbWVTIDogcmVUaW1lTCkuZXhlYyhzKTtcbiAgICBpZiAoIW0pIHtcbiAgICAgIHJldHVybiBcIlVucmVjb2duaXplZCB0aW1lOiBcIiArIHM7XG4gICAgfVxuICAgIGlmIChzaG9ydFllYXIpIHtcbiAgICAgIC8vIHRvIGF2b2lkIHF1ZXJ5aW5nIHRoZSB0aW1lciwgdXNlIHRoZSBmaXhlZCByYW5nZSBbMTk3MCwgMjA2OV1cbiAgICAgIC8vIGl0IHdpbGwgY29uZm9ybSB3aXRoIElUVSBYLjQwMCBbLTEwLCArNDBdIHNsaWRpbmcgd2luZG93IHVudGlsIDIwMzBcbiAgICAgIG1bMV0gPSArbVsxXTtcbiAgICAgIG1bMV0gKz0gK21bMV0gPCA3MCA/IDIwMDAgOiAxOTAwO1xuICAgIH1cbiAgICBzID0gbVsxXSArIFwiLVwiICsgbVsyXSArIFwiLVwiICsgbVszXSArIFwiIFwiICsgbVs0XTtcbiAgICBpZiAobVs1XSkge1xuICAgICAgcyArPSBcIjpcIiArIG1bNV07XG4gICAgICBpZiAobVs2XSkge1xuICAgICAgICBzICs9IFwiOlwiICsgbVs2XTtcbiAgICAgICAgaWYgKG1bN10pIHtcbiAgICAgICAgICBzICs9IFwiLlwiICsgbVs3XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobVs4XSkge1xuICAgICAgcyArPSBcIiBVVENcIjtcbiAgICAgIGlmIChtWzhdICE9IFwiWlwiKSB7XG4gICAgICAgIHMgKz0gbVs4XTtcbiAgICAgICAgaWYgKG1bOV0pIHtcbiAgICAgICAgICBzICs9IFwiOlwiICsgbVs5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcztcbiAgfTtcbiAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZUludGVnZXIgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHZhciB2ID0gdGhpcy5nZXQoc3RhcnQpO1xuICAgIHZhciBuZWcgPSB2ID4gMTI3O1xuICAgIHZhciBwYWQgPSBuZWcgPyAyNTUgOiAwO1xuICAgIHZhciBsZW47XG4gICAgdmFyIHMgPSBcIlwiO1xuICAgIC8vIHNraXAgdW51c2VmdWwgYml0cyAobm90IGFsbG93ZWQgaW4gREVSKVxuICAgIHdoaWxlICh2ID09IHBhZCAmJiArK3N0YXJ0IDwgZW5kKSB7XG4gICAgICB2ID0gdGhpcy5nZXQoc3RhcnQpO1xuICAgIH1cbiAgICBsZW4gPSBlbmQgLSBzdGFydDtcbiAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICByZXR1cm4gbmVnID8gLTEgOiAwO1xuICAgIH1cbiAgICAvLyBzaG93IGJpdCBsZW5ndGggb2YgaHVnZSBpbnRlZ2Vyc1xuICAgIGlmIChsZW4gPiA0KSB7XG4gICAgICBzID0gdjtcbiAgICAgIGxlbiA8PD0gMztcbiAgICAgIHdoaWxlICgoKCtzIF4gcGFkKSAmIDB4ODApID09IDApIHtcbiAgICAgICAgcyA9ICtzIDw8IDE7XG4gICAgICAgIC0tbGVuO1xuICAgICAgfVxuICAgICAgcyA9IFwiKFwiICsgbGVuICsgXCIgYml0KVxcblwiO1xuICAgIH1cbiAgICAvLyBkZWNvZGUgdGhlIGludGVnZXJcbiAgICBpZiAobmVnKSB7XG4gICAgICB2ID0gdiAtIDI1NjtcbiAgICB9XG4gICAgdmFyIG4gPSBuZXcgX2ludC5JbnQxMCh2KTtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAxOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIG4ubXVsQWRkKDI1NiwgdGhpcy5nZXQoaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcyArIG4udG9TdHJpbmcoKTtcbiAgfTtcbiAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZUJpdFN0cmluZyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBtYXhMZW5ndGgpIHtcbiAgICB2YXIgdW51c2VkQml0ID0gdGhpcy5nZXQoc3RhcnQpO1xuICAgIHZhciBsZW5CaXQgPSAoZW5kIC0gc3RhcnQgLSAxIDw8IDMpIC0gdW51c2VkQml0O1xuICAgIHZhciBpbnRybyA9IFwiKFwiICsgbGVuQml0ICsgXCIgYml0KVxcblwiO1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAxOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHZhciBiID0gdGhpcy5nZXQoaSk7XG4gICAgICB2YXIgc2tpcCA9IGkgPT0gZW5kIC0gMSA/IHVudXNlZEJpdCA6IDA7XG4gICAgICBmb3IgKHZhciBqID0gNzsgaiA+PSBza2lwOyAtLWopIHtcbiAgICAgICAgcyArPSBiID4+IGogJiAxID8gXCIxXCIgOiBcIjBcIjtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICByZXR1cm4gaW50cm8gKyBzdHJpbmdDdXQocywgbWF4TGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGludHJvICsgcztcbiAgfTtcbiAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZU9jdGV0U3RyaW5nID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIG1heExlbmd0aCkge1xuICAgIGlmICh0aGlzLmlzQVNDSUkoc3RhcnQsIGVuZCkpIHtcbiAgICAgIHJldHVybiBzdHJpbmdDdXQodGhpcy5wYXJzZVN0cmluZ0lTTyhzdGFydCwgZW5kKSwgbWF4TGVuZ3RoKTtcbiAgICB9XG4gICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xuICAgIHZhciBzID0gXCIoXCIgKyBsZW4gKyBcIiBieXRlKVxcblwiO1xuICAgIG1heExlbmd0aCAvPSAyOyAvLyB3ZSB3b3JrIGluIGJ5dGVzXG4gICAgaWYgKGxlbiA+IG1heExlbmd0aCkge1xuICAgICAgZW5kID0gc3RhcnQgKyBtYXhMZW5ndGg7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICBzICs9IHRoaXMuaGV4Qnl0ZSh0aGlzLmdldChpKSk7XG4gICAgfVxuICAgIGlmIChsZW4gPiBtYXhMZW5ndGgpIHtcbiAgICAgIHMgKz0gZWxsaXBzaXM7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBTdHJlYW0ucHJvdG90eXBlLnBhcnNlT0lEID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIG1heExlbmd0aCkge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICB2YXIgbiA9IG5ldyBfaW50LkludDEwKCk7XG4gICAgdmFyIGJpdHMgPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB2YXIgdiA9IHRoaXMuZ2V0KGkpO1xuICAgICAgbi5tdWxBZGQoMTI4LCB2ICYgMHg3Rik7XG4gICAgICBiaXRzICs9IDc7XG4gICAgICBpZiAoISh2ICYgMHg4MCkpIHtcbiAgICAgICAgLy8gZmluaXNoZWRcbiAgICAgICAgaWYgKHMgPT09IFwiXCIpIHtcbiAgICAgICAgICBuID0gbi5zaW1wbGlmeSgpO1xuICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgX2ludC5JbnQxMCkge1xuICAgICAgICAgICAgbi5zdWIoODApO1xuICAgICAgICAgICAgcyA9IFwiMi5cIiArIG4udG9TdHJpbmcoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG0gPSBuIDwgODAgPyBuIDwgNDAgPyAwIDogMSA6IDI7XG4gICAgICAgICAgICBzID0gbSArIFwiLlwiICsgKG4gLSBtICogNDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzICs9IFwiLlwiICsgbi50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBzdHJpbmdDdXQocywgbWF4TGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBuID0gbmV3IF9pbnQuSW50MTAoKTtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChiaXRzID4gMCkge1xuICAgICAgcyArPSBcIi5pbmNvbXBsZXRlXCI7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICByZXR1cm4gU3RyZWFtO1xufSgpO1xudmFyIEFTTjEgPSBleHBvcnRzLkFTTjEgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBU04xKHN0cmVhbSwgaGVhZGVyLCBsZW5ndGgsIHRhZywgc3ViKSB7XG4gICAgaWYgKCEodGFnIGluc3RhbmNlb2YgQVNOMVRhZykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGFnIHZhbHVlLlwiKTtcbiAgICB9XG4gICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgdGhpcy5oZWFkZXIgPSBoZWFkZXI7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy50YWcgPSB0YWc7XG4gICAgdGhpcy5zdWIgPSBzdWI7XG4gIH1cbiAgQVNOMS5wcm90b3R5cGUudHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgc3dpdGNoICh0aGlzLnRhZy50YWdDbGFzcykge1xuICAgICAgY2FzZSAwOlxuICAgICAgICAvLyB1bml2ZXJzYWxcbiAgICAgICAgc3dpdGNoICh0aGlzLnRhZy50YWdOdW1iZXIpIHtcbiAgICAgICAgICBjYXNlIDB4MDA6XG4gICAgICAgICAgICByZXR1cm4gXCJFT0NcIjtcbiAgICAgICAgICBjYXNlIDB4MDE6XG4gICAgICAgICAgICByZXR1cm4gXCJCT09MRUFOXCI7XG4gICAgICAgICAgY2FzZSAweDAyOlxuICAgICAgICAgICAgcmV0dXJuIFwiSU5URUdFUlwiO1xuICAgICAgICAgIGNhc2UgMHgwMzpcbiAgICAgICAgICAgIHJldHVybiBcIkJJVF9TVFJJTkdcIjtcbiAgICAgICAgICBjYXNlIDB4MDQ6XG4gICAgICAgICAgICByZXR1cm4gXCJPQ1RFVF9TVFJJTkdcIjtcbiAgICAgICAgICBjYXNlIDB4MDU6XG4gICAgICAgICAgICByZXR1cm4gXCJOVUxMXCI7XG4gICAgICAgICAgY2FzZSAweDA2OlxuICAgICAgICAgICAgcmV0dXJuIFwiT0JKRUNUX0lERU5USUZJRVJcIjtcbiAgICAgICAgICBjYXNlIDB4MDc6XG4gICAgICAgICAgICByZXR1cm4gXCJPYmplY3REZXNjcmlwdG9yXCI7XG4gICAgICAgICAgY2FzZSAweDA4OlxuICAgICAgICAgICAgcmV0dXJuIFwiRVhURVJOQUxcIjtcbiAgICAgICAgICBjYXNlIDB4MDk6XG4gICAgICAgICAgICByZXR1cm4gXCJSRUFMXCI7XG4gICAgICAgICAgY2FzZSAweDBBOlxuICAgICAgICAgICAgcmV0dXJuIFwiRU5VTUVSQVRFRFwiO1xuICAgICAgICAgIGNhc2UgMHgwQjpcbiAgICAgICAgICAgIHJldHVybiBcIkVNQkVEREVEX1BEVlwiO1xuICAgICAgICAgIGNhc2UgMHgwQzpcbiAgICAgICAgICAgIHJldHVybiBcIlVURjhTdHJpbmdcIjtcbiAgICAgICAgICBjYXNlIDB4MTA6XG4gICAgICAgICAgICByZXR1cm4gXCJTRVFVRU5DRVwiO1xuICAgICAgICAgIGNhc2UgMHgxMTpcbiAgICAgICAgICAgIHJldHVybiBcIlNFVFwiO1xuICAgICAgICAgIGNhc2UgMHgxMjpcbiAgICAgICAgICAgIHJldHVybiBcIk51bWVyaWNTdHJpbmdcIjtcbiAgICAgICAgICBjYXNlIDB4MTM6XG4gICAgICAgICAgICByZXR1cm4gXCJQcmludGFibGVTdHJpbmdcIjtcbiAgICAgICAgICAvLyBBU0NJSSBzdWJzZXRcbiAgICAgICAgICBjYXNlIDB4MTQ6XG4gICAgICAgICAgICByZXR1cm4gXCJUZWxldGV4U3RyaW5nXCI7XG4gICAgICAgICAgLy8gYWthIFQ2MVN0cmluZ1xuICAgICAgICAgIGNhc2UgMHgxNTpcbiAgICAgICAgICAgIHJldHVybiBcIlZpZGVvdGV4U3RyaW5nXCI7XG4gICAgICAgICAgY2FzZSAweDE2OlxuICAgICAgICAgICAgcmV0dXJuIFwiSUE1U3RyaW5nXCI7XG4gICAgICAgICAgLy8gQVNDSUlcbiAgICAgICAgICBjYXNlIDB4MTc6XG4gICAgICAgICAgICByZXR1cm4gXCJVVENUaW1lXCI7XG4gICAgICAgICAgY2FzZSAweDE4OlxuICAgICAgICAgICAgcmV0dXJuIFwiR2VuZXJhbGl6ZWRUaW1lXCI7XG4gICAgICAgICAgY2FzZSAweDE5OlxuICAgICAgICAgICAgcmV0dXJuIFwiR3JhcGhpY1N0cmluZ1wiO1xuICAgICAgICAgIGNhc2UgMHgxQTpcbiAgICAgICAgICAgIHJldHVybiBcIlZpc2libGVTdHJpbmdcIjtcbiAgICAgICAgICAvLyBBU0NJSSBzdWJzZXRcbiAgICAgICAgICBjYXNlIDB4MUI6XG4gICAgICAgICAgICByZXR1cm4gXCJHZW5lcmFsU3RyaW5nXCI7XG4gICAgICAgICAgY2FzZSAweDFDOlxuICAgICAgICAgICAgcmV0dXJuIFwiVW5pdmVyc2FsU3RyaW5nXCI7XG4gICAgICAgICAgY2FzZSAweDFFOlxuICAgICAgICAgICAgcmV0dXJuIFwiQk1QU3RyaW5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiVW5pdmVyc2FsX1wiICsgdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBcIkFwcGxpY2F0aW9uX1wiICsgdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBcIltcIiArIHRoaXMudGFnLnRhZ051bWJlci50b1N0cmluZygpICsgXCJdXCI7XG4gICAgICAvLyBDb250ZXh0XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBcIlByaXZhdGVfXCIgKyB0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKTtcbiAgICB9XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLmNvbnRlbnQgPSBmdW5jdGlvbiAobWF4TGVuZ3RoKSB7XG4gICAgaWYgKHRoaXMudGFnID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobWF4TGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heExlbmd0aCA9IEluZmluaXR5O1xuICAgIH1cbiAgICB2YXIgY29udGVudCA9IHRoaXMucG9zQ29udGVudCgpO1xuICAgIHZhciBsZW4gPSBNYXRoLmFicyh0aGlzLmxlbmd0aCk7XG4gICAgaWYgKCF0aGlzLnRhZy5pc1VuaXZlcnNhbCgpKSB7XG4gICAgICBpZiAodGhpcy5zdWIgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwiKFwiICsgdGhpcy5zdWIubGVuZ3RoICsgXCIgZWxlbSlcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS5wYXJzZU9jdGV0U3RyaW5nKGNvbnRlbnQsIGNvbnRlbnQgKyBsZW4sIG1heExlbmd0aCk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy50YWcudGFnTnVtYmVyKSB7XG4gICAgICBjYXNlIDB4MDE6XG4gICAgICAgIC8vIEJPT0xFQU5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLmdldChjb250ZW50KSA9PT0gMCA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiO1xuICAgICAgY2FzZSAweDAyOlxuICAgICAgICAvLyBJTlRFR0VSXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVhbS5wYXJzZUludGVnZXIoY29udGVudCwgY29udGVudCArIGxlbik7XG4gICAgICBjYXNlIDB4MDM6XG4gICAgICAgIC8vIEJJVF9TVFJJTkdcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViID8gXCIoXCIgKyB0aGlzLnN1Yi5sZW5ndGggKyBcIiBlbGVtKVwiIDogdGhpcy5zdHJlYW0ucGFyc2VCaXRTdHJpbmcoY29udGVudCwgY29udGVudCArIGxlbiwgbWF4TGVuZ3RoKTtcbiAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgLy8gT0NURVRfU1RSSU5HXG4gICAgICAgIHJldHVybiB0aGlzLnN1YiA/IFwiKFwiICsgdGhpcy5zdWIubGVuZ3RoICsgXCIgZWxlbSlcIiA6IHRoaXMuc3RyZWFtLnBhcnNlT2N0ZXRTdHJpbmcoY29udGVudCwgY29udGVudCArIGxlbiwgbWF4TGVuZ3RoKTtcbiAgICAgIC8vIGNhc2UgMHgwNTogLy8gTlVMTFxuICAgICAgY2FzZSAweDA2OlxuICAgICAgICAvLyBPQkpFQ1RfSURFTlRJRklFUlxuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW0ucGFyc2VPSUQoY29udGVudCwgY29udGVudCArIGxlbiwgbWF4TGVuZ3RoKTtcbiAgICAgIC8vIGNhc2UgMHgwNzogLy8gT2JqZWN0RGVzY3JpcHRvclxuICAgICAgLy8gY2FzZSAweDA4OiAvLyBFWFRFUk5BTFxuICAgICAgLy8gY2FzZSAweDA5OiAvLyBSRUFMXG4gICAgICAvLyBjYXNlIDB4MEE6IC8vIEVOVU1FUkFURURcbiAgICAgIC8vIGNhc2UgMHgwQjogLy8gRU1CRURERURfUERWXG4gICAgICBjYXNlIDB4MTA6IC8vIFNFUVVFTkNFXG4gICAgICBjYXNlIDB4MTE6XG4gICAgICAgIC8vIFNFVFxuICAgICAgICBpZiAodGhpcy5zdWIgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gXCIoXCIgKyB0aGlzLnN1Yi5sZW5ndGggKyBcIiBlbGVtKVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcIihubyBlbGVtKVwiO1xuICAgICAgICB9XG4gICAgICBjYXNlIDB4MEM6XG4gICAgICAgIC8vIFVURjhTdHJpbmdcbiAgICAgICAgcmV0dXJuIHN0cmluZ0N1dCh0aGlzLnN0cmVhbS5wYXJzZVN0cmluZ1VURihjb250ZW50LCBjb250ZW50ICsgbGVuKSwgbWF4TGVuZ3RoKTtcbiAgICAgIGNhc2UgMHgxMjogLy8gTnVtZXJpY1N0cmluZ1xuICAgICAgY2FzZSAweDEzOiAvLyBQcmludGFibGVTdHJpbmdcbiAgICAgIGNhc2UgMHgxNDogLy8gVGVsZXRleFN0cmluZ1xuICAgICAgY2FzZSAweDE1OiAvLyBWaWRlb3RleFN0cmluZ1xuICAgICAgY2FzZSAweDE2OiAvLyBJQTVTdHJpbmdcbiAgICAgIC8vIGNhc2UgMHgxOTogLy8gR3JhcGhpY1N0cmluZ1xuICAgICAgY2FzZSAweDFBOlxuICAgICAgICAvLyBWaXNpYmxlU3RyaW5nXG4gICAgICAgIC8vIGNhc2UgMHgxQjogLy8gR2VuZXJhbFN0cmluZ1xuICAgICAgICAvLyBjYXNlIDB4MUM6IC8vIFVuaXZlcnNhbFN0cmluZ1xuICAgICAgICByZXR1cm4gc3RyaW5nQ3V0KHRoaXMuc3RyZWFtLnBhcnNlU3RyaW5nSVNPKGNvbnRlbnQsIGNvbnRlbnQgKyBsZW4pLCBtYXhMZW5ndGgpO1xuICAgICAgY2FzZSAweDFFOlxuICAgICAgICAvLyBCTVBTdHJpbmdcbiAgICAgICAgcmV0dXJuIHN0cmluZ0N1dCh0aGlzLnN0cmVhbS5wYXJzZVN0cmluZ0JNUChjb250ZW50LCBjb250ZW50ICsgbGVuKSwgbWF4TGVuZ3RoKTtcbiAgICAgIGNhc2UgMHgxNzogLy8gVVRDVGltZVxuICAgICAgY2FzZSAweDE4OlxuICAgICAgICAvLyBHZW5lcmFsaXplZFRpbWVcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBhcnNlVGltZShjb250ZW50LCBjb250ZW50ICsgbGVuLCB0aGlzLnRhZy50YWdOdW1iZXIgPT0gMHgxNyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBBU04xLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlTmFtZSgpICsgXCJAXCIgKyB0aGlzLnN0cmVhbS5wb3MgKyBcIltoZWFkZXI6XCIgKyB0aGlzLmhlYWRlciArIFwiLGxlbmd0aDpcIiArIHRoaXMubGVuZ3RoICsgXCIsc3ViOlwiICsgKHRoaXMuc3ViID09PSBudWxsID8gXCJudWxsXCIgOiB0aGlzLnN1Yi5sZW5ndGgpICsgXCJdXCI7XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLnRvUHJldHR5U3RyaW5nID0gZnVuY3Rpb24gKGluZGVudCkge1xuICAgIGlmIChpbmRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaW5kZW50ID0gXCJcIjtcbiAgICB9XG4gICAgdmFyIHMgPSBpbmRlbnQgKyB0aGlzLnR5cGVOYW1lKCkgKyBcIiBAXCIgKyB0aGlzLnN0cmVhbS5wb3M7XG4gICAgaWYgKHRoaXMubGVuZ3RoID49IDApIHtcbiAgICAgIHMgKz0gXCIrXCI7XG4gICAgfVxuICAgIHMgKz0gdGhpcy5sZW5ndGg7XG4gICAgaWYgKHRoaXMudGFnLnRhZ0NvbnN0cnVjdGVkKSB7XG4gICAgICBzICs9IFwiIChjb25zdHJ1Y3RlZClcIjtcbiAgICB9IGVsc2UgaWYgKHRoaXMudGFnLmlzVW5pdmVyc2FsKCkgJiYgKHRoaXMudGFnLnRhZ051bWJlciA9PSAweDAzIHx8IHRoaXMudGFnLnRhZ051bWJlciA9PSAweDA0KSAmJiB0aGlzLnN1YiAhPT0gbnVsbCkge1xuICAgICAgcyArPSBcIiAoZW5jYXBzdWxhdGVzKVwiO1xuICAgIH1cbiAgICBzICs9IFwiXFxuXCI7XG4gICAgaWYgKHRoaXMuc3ViICE9PSBudWxsKSB7XG4gICAgICBpbmRlbnQgKz0gXCIgIFwiO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG1heCA9IHRoaXMuc3ViLmxlbmd0aDsgaSA8IG1heDsgKytpKSB7XG4gICAgICAgIHMgKz0gdGhpcy5zdWJbaV0udG9QcmV0dHlTdHJpbmcoaW5kZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLnBvc1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbS5wb3M7XG4gIH07XG4gIEFTTjEucHJvdG90eXBlLnBvc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBvcyArIHRoaXMuaGVhZGVyO1xuICB9O1xuICBBU04xLnByb3RvdHlwZS5wb3NFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBvcyArIHRoaXMuaGVhZGVyICsgTWF0aC5hYnModGhpcy5sZW5ndGgpO1xuICB9O1xuICBBU04xLnByb3RvdHlwZS50b0hleFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW0uaGV4RHVtcCh0aGlzLnBvc1N0YXJ0KCksIHRoaXMucG9zRW5kKCksIHRydWUpO1xuICB9O1xuICBBU04xLmRlY29kZUxlbmd0aCA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICB2YXIgYnVmID0gc3RyZWFtLmdldCgpO1xuICAgIHZhciBsZW4gPSBidWYgJiAweDdGO1xuICAgIGlmIChsZW4gPT0gYnVmKSB7XG4gICAgICByZXR1cm4gbGVuO1xuICAgIH1cbiAgICAvLyBubyByZWFzb24gdG8gdXNlIEludDEwLCBhcyBpdCB3b3VsZCBiZSBhIGh1Z2UgYnVmZmVyIGFueXdheXNcbiAgICBpZiAobGVuID4gNikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVuZ3RoIG92ZXIgNDggYml0cyBub3Qgc3VwcG9ydGVkIGF0IHBvc2l0aW9uIFwiICsgKHN0cmVhbS5wb3MgLSAxKSk7XG4gICAgfVxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gLy8gdW5kZWZpbmVkXG4gICAgYnVmID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBidWYgPSBidWYgKiAyNTYgKyBzdHJlYW0uZ2V0KCk7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgaGV4YWRlY2ltYWwgdmFsdWUgKGFzIGEgc3RyaW5nKSBvZiB0aGUgY3VycmVudCBBU04uMSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIEFTTjEucHJvdG90eXBlLmdldEhleFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoZXhTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuaGVhZGVyICogMjtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggKiAyO1xuICAgIHJldHVybiBoZXhTdHJpbmcuc3Vic3RyKG9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbiAgQVNOMS5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdmFyIHN0cmVhbTtcbiAgICBpZiAoIShzdHIgaW5zdGFuY2VvZiBTdHJlYW0pKSB7XG4gICAgICBzdHJlYW0gPSBuZXcgU3RyZWFtKHN0ciwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cmVhbSA9IHN0cjtcbiAgICB9XG4gICAgdmFyIHN0cmVhbVN0YXJ0ID0gbmV3IFN0cmVhbShzdHJlYW0pO1xuICAgIHZhciB0YWcgPSBuZXcgQVNOMVRhZyhzdHJlYW0pO1xuICAgIHZhciBsZW4gPSBBU04xLmRlY29kZUxlbmd0aChzdHJlYW0pO1xuICAgIHZhciBzdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgdmFyIGhlYWRlciA9IHN0YXJ0IC0gc3RyZWFtU3RhcnQucG9zO1xuICAgIHZhciBzdWIgPSBudWxsO1xuICAgIHZhciBnZXRTdWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmV0ID0gW107XG4gICAgICBpZiAobGVuICE9PSBudWxsKSB7XG4gICAgICAgIC8vIGRlZmluaXRlIGxlbmd0aFxuICAgICAgICB2YXIgZW5kID0gc3RhcnQgKyBsZW47XG4gICAgICAgIHdoaWxlIChzdHJlYW0ucG9zIDwgZW5kKSB7XG4gICAgICAgICAgcmV0W3JldC5sZW5ndGhdID0gQVNOMS5kZWNvZGUoc3RyZWFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLnBvcyAhPSBlbmQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHNpemUgaXMgbm90IGNvcnJlY3QgZm9yIGNvbnRhaW5lciBzdGFydGluZyBhdCBvZmZzZXQgXCIgKyBzdGFydCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVuZGVmaW5lZCBsZW5ndGhcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICB2YXIgcyA9IEFTTjEuZGVjb2RlKHN0cmVhbSk7XG4gICAgICAgICAgICBpZiAocy50YWcuaXNFT0MoKSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldFtyZXQubGVuZ3RoXSA9IHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbiA9IHN0YXJ0IC0gc3RyZWFtLnBvczsgLy8gdW5kZWZpbmVkIGxlbmd0aHMgYXJlIHJlcHJlc2VudGVkIGFzIG5lZ2F0aXZlIHZhbHVlc1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhjZXB0aW9uIHdoaWxlIGRlY29kaW5nIHVuZGVmaW5lZCBsZW5ndGggY29udGVudDogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGlmICh0YWcudGFnQ29uc3RydWN0ZWQpIHtcbiAgICAgIC8vIG11c3QgaGF2ZSB2YWxpZCBjb250ZW50XG4gICAgICBzdWIgPSBnZXRTdWIoKTtcbiAgICB9IGVsc2UgaWYgKHRhZy5pc1VuaXZlcnNhbCgpICYmICh0YWcudGFnTnVtYmVyID09IDB4MDMgfHwgdGFnLnRhZ051bWJlciA9PSAweDA0KSkge1xuICAgICAgLy8gc29tZXRpbWVzIEJpdFN0cmluZyBhbmQgT2N0ZXRTdHJpbmcgYXJlIHVzZWQgdG8gZW5jYXBzdWxhdGUgQVNOLjFcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0YWcudGFnTnVtYmVyID09IDB4MDMpIHtcbiAgICAgICAgICBpZiAoc3RyZWFtLmdldCgpICE9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJJVCBTVFJJTkdzIHdpdGggdW51c2VkIGJpdHMgY2Fubm90IGVuY2Fwc3VsYXRlLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3ViID0gZ2V0U3ViKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgaWYgKHN1YltpXS50YWcuaXNFT0MoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRU9DIGlzIG5vdCBzdXBwb3NlZCB0byBiZSBhY3R1YWwgY29udGVudC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGJ1dCBzaWxlbnRseSBpZ25vcmUgd2hlbiB0aGV5IGRvbid0XG4gICAgICAgIHN1YiA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdWIgPT09IG51bGwpIHtcbiAgICAgIGlmIChsZW4gPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2UgY2FuJ3Qgc2tpcCBvdmVyIGFuIGludmFsaWQgdGFnIHdpdGggdW5kZWZpbmVkIGxlbmd0aCBhdCBvZmZzZXQgXCIgKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBzdHJlYW0ucG9zID0gc3RhcnQgKyBNYXRoLmFicyhsZW4pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFTTjEoc3RyZWFtU3RhcnQsIGhlYWRlciwgbGVuLCB0YWcsIHN1Yik7XG4gIH07XG4gIHJldHVybiBBU04xO1xufSgpO1xudmFyIEFTTjFUYWcgPSBleHBvcnRzLkFTTjFUYWcgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBU04xVGFnKHN0cmVhbSkge1xuICAgIHZhciBidWYgPSBzdHJlYW0uZ2V0KCk7XG4gICAgdGhpcy50YWdDbGFzcyA9IGJ1ZiA+PiA2O1xuICAgIHRoaXMudGFnQ29uc3RydWN0ZWQgPSAoYnVmICYgMHgyMCkgIT09IDA7XG4gICAgdGhpcy50YWdOdW1iZXIgPSBidWYgJiAweDFGO1xuICAgIGlmICh0aGlzLnRhZ051bWJlciA9PSAweDFGKSB7XG4gICAgICAvLyBsb25nIHRhZ1xuICAgICAgdmFyIG4gPSBuZXcgX2ludC5JbnQxMCgpO1xuICAgICAgZG8ge1xuICAgICAgICBidWYgPSBzdHJlYW0uZ2V0KCk7XG4gICAgICAgIG4ubXVsQWRkKDEyOCwgYnVmICYgMHg3Rik7XG4gICAgICB9IHdoaWxlIChidWYgJiAweDgwKTtcbiAgICAgIHRoaXMudGFnTnVtYmVyID0gbi5zaW1wbGlmeSgpO1xuICAgIH1cbiAgfVxuICBBU04xVGFnLnByb3RvdHlwZS5pc1VuaXZlcnNhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50YWdDbGFzcyA9PT0gMHgwMDtcbiAgfTtcbiAgQVNOMVRhZy5wcm90b3R5cGUuaXNFT0MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnQ2xhc3MgPT09IDB4MDAgJiYgdGhpcy50YWdOdW1iZXIgPT09IDB4MDA7XG4gIH07XG4gIHJldHVybiBBU04xVGFnO1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5CYXNlNjQgPSB2b2lkIDA7XG4vLyBCYXNlNjQgSmF2YVNjcmlwdCBkZWNvZGVyXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxMyBMYXBvIEx1Y2hpbmkgPGxhcG9AbGFwby5pdD5cbi8vIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuLy8gcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBhcHBlYXIgaW4gYWxsIGNvcGllcy5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFU1xuLy8gV0lUSCBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1Jcbi8vIEFOWSBTUEVDSUFMLCBESVJFQ1QsIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVNcbi8vIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0Zcbi8vIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIGltbWVkOiB0cnVlLCBsYXRlZGVmOiB0cnVlLCB1bmRlZjogdHJ1ZSwgcmVnZXhkYXNoOiBmYWxzZSAqL1xudmFyIGRlY29kZXI7XG52YXIgQmFzZTY0ID0gZXhwb3J0cy5CYXNlNjQgPSB7XG4gIGRlY29kZTogZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgaTtcbiAgICBpZiAoZGVjb2RlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgYjY0ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCI7XG4gICAgICB2YXIgaWdub3JlID0gXCI9IFxcZlxcblxcclxcdFxcdTAwQTBcXHUyMDI4XFx1MjAyOVwiO1xuICAgICAgZGVjb2RlciA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7ICsraSkge1xuICAgICAgICBkZWNvZGVyW2I2NC5jaGFyQXQoaSldID0gaTtcbiAgICAgIH1cbiAgICAgIGRlY29kZXJbJy0nXSA9IDYyOyAvLytcbiAgICAgIGRlY29kZXJbJ18nXSA9IDYzOyAvLy1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpZ25vcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGVjb2RlcltpZ25vcmUuY2hhckF0KGkpXSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIGJpdHMgPSAwO1xuICAgIHZhciBjaGFyX2NvdW50ID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGMgPSBhLmNoYXJBdChpKTtcbiAgICAgIGlmIChjID09IFwiPVwiKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYyA9IGRlY29kZXJbY107XG4gICAgICBpZiAoYyA9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBjaGFyYWN0ZXIgYXQgb2Zmc2V0IFwiICsgaSk7XG4gICAgICB9XG4gICAgICBiaXRzIHw9IGM7XG4gICAgICBpZiAoKytjaGFyX2NvdW50ID49IDQpIHtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cyA+PiAxNjtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cyA+PiA4ICYgMHhGRjtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cyAmIDB4RkY7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICBjaGFyX2NvdW50ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpdHMgPDw9IDY7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY2hhcl9jb3VudCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYXNlNjQgZW5jb2RpbmcgaW5jb21wbGV0ZTogYXQgbGVhc3QgMiBiaXRzIG1pc3NpbmdcIik7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIG91dFtvdXQubGVuZ3RoXSA9IGJpdHMgPj4gMTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBvdXRbb3V0Lmxlbmd0aF0gPSBiaXRzID4+IDE2O1xuICAgICAgICBvdXRbb3V0Lmxlbmd0aF0gPSBiaXRzID4+IDggJiAweEZGO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfSxcbiAgcmU6IC8tLS0tLUJFR0lOIFteLV0rLS0tLS0oW0EtWmEtejAtOStcXC89XFxzXSspLS0tLS1FTkQgW14tXSstLS0tLXxiZWdpbi1iYXNlNjRbXlxcbl0rXFxuKFtBLVphLXowLTkrXFwvPVxcc10rKT09PT0vLFxuICB1bmFybW9yOiBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBtID0gQmFzZTY0LnJlLmV4ZWMoYSk7XG4gICAgaWYgKG0pIHtcbiAgICAgIGlmIChtWzFdKSB7XG4gICAgICAgIGEgPSBtWzFdO1xuICAgICAgfSBlbHNlIGlmIChtWzJdKSB7XG4gICAgICAgIGEgPSBtWzJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnRXhwIG91dCBvZiBzeW5jXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQmFzZTY0LmRlY29kZShhKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSGV4ID0gdm9pZCAwO1xuLy8gSGV4IEphdmFTY3JpcHQgZGVjb2RlclxuLy8gQ29weXJpZ2h0IChjKSAyMDA4LTIwMTMgTGFwbyBMdWNoaW5pIDxsYXBvQGxhcG8uaXQ+XG4vLyBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbi8vIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZCwgcHJvdmlkZWQgdGhhdCB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgYXBwZWFyIGluIGFsbCBjb3BpZXMuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVNcbi8vIFdJVEggUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SXG4vLyBBTlkgU1BFQ0lBTCwgRElSRUNULCBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTXG4vLyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUiBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GXG4vLyBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUiBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgc3RyaWN0OiB0cnVlLCBpbW1lZDogdHJ1ZSwgbGF0ZWRlZjogdHJ1ZSwgdW5kZWY6IHRydWUsIHJlZ2V4ZGFzaDogZmFsc2UgKi9cbnZhciBkZWNvZGVyO1xudmFyIEhleCA9IGV4cG9ydHMuSGV4ID0ge1xuICBkZWNvZGU6IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGk7XG4gICAgaWYgKGRlY29kZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGhleCA9IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiO1xuICAgICAgdmFyIGlnbm9yZSA9IFwiIFxcZlxcblxcclxcdFxcdTAwQTBcXHUyMDI4XFx1MjAyOVwiO1xuICAgICAgZGVjb2RlciA9IHt9O1xuICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgZGVjb2RlcltoZXguY2hhckF0KGkpXSA9IGk7XG4gICAgICB9XG4gICAgICBoZXggPSBoZXgudG9Mb3dlckNhc2UoKTtcbiAgICAgIGZvciAoaSA9IDEwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBkZWNvZGVyW2hleC5jaGFyQXQoaSldID0gaTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpZ25vcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGVjb2RlcltpZ25vcmUuY2hhckF0KGkpXSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIGJpdHMgPSAwO1xuICAgIHZhciBjaGFyX2NvdW50ID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGMgPSBhLmNoYXJBdChpKTtcbiAgICAgIGlmIChjID09IFwiPVwiKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYyA9IGRlY29kZXJbY107XG4gICAgICBpZiAoYyA9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBjaGFyYWN0ZXIgYXQgb2Zmc2V0IFwiICsgaSk7XG4gICAgICB9XG4gICAgICBiaXRzIHw9IGM7XG4gICAgICBpZiAoKytjaGFyX2NvdW50ID49IDIpIHtcbiAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cztcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIGNoYXJfY291bnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYml0cyA8PD0gNDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYXJfY291bnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkhleCBlbmNvZGluZyBpbmNvbXBsZXRlOiA0IGJpdHMgbWlzc2luZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSW50MTAgPSB2b2lkIDA7XG4vLyBCaWcgaW50ZWdlciBiYXNlLTEwIHByaW50aW5nIGxpYnJhcnlcbi8vIENvcHlyaWdodCAoYykgMjAxNCBMYXBvIEx1Y2hpbmkgPGxhcG9AbGFwby5pdD5cbi8vIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuLy8gcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBhcHBlYXIgaW4gYWxsIGNvcGllcy5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFU1xuLy8gV0lUSCBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1Jcbi8vIEFOWSBTUEVDSUFMLCBESVJFQ1QsIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVNcbi8vIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0Zcbi8vIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIGltbWVkOiB0cnVlLCBsYXRlZGVmOiB0cnVlLCB1bmRlZjogdHJ1ZSwgcmVnZXhkYXNoOiBmYWxzZSAqL1xudmFyIG1heCA9IDEwMDAwMDAwMDAwMDAwOyAvLyBiaWdnZXN0IGludGVnZXIgdGhhdCBjYW4gc3RpbGwgZml0IDJeNTMgd2hlbiBtdWx0aXBsaWVkIGJ5IDI1NlxudmFyIEludDEwID0gZXhwb3J0cy5JbnQxMCA9IC8qKiBAY2xhc3MgKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEludDEwKHZhbHVlKSB7XG4gICAgdGhpcy5idWYgPSBbK3ZhbHVlIHx8IDBdO1xuICB9XG4gIEludDEwLnByb3RvdHlwZS5tdWxBZGQgPSBmdW5jdGlvbiAobSwgYykge1xuICAgIC8vIGFzc2VydChtIDw9IDI1NilcbiAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgIHZhciBsID0gYi5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgdmFyIHQ7XG4gICAgZm9yIChpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgdCA9IGJbaV0gKiBtICsgYztcbiAgICAgIGlmICh0IDwgbWF4KSB7XG4gICAgICAgIGMgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYyA9IDAgfCB0IC8gbWF4O1xuICAgICAgICB0IC09IGMgKiBtYXg7XG4gICAgICB9XG4gICAgICBiW2ldID0gdDtcbiAgICB9XG4gICAgaWYgKGMgPiAwKSB7XG4gICAgICBiW2ldID0gYztcbiAgICB9XG4gIH07XG4gIEludDEwLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbiAoYykge1xuICAgIC8vIGFzc2VydChtIDw9IDI1NilcbiAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgIHZhciBsID0gYi5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgdmFyIHQ7XG4gICAgZm9yIChpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgdCA9IGJbaV0gLSBjO1xuICAgICAgaWYgKHQgPCAwKSB7XG4gICAgICAgIHQgKz0gbWF4O1xuICAgICAgICBjID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGMgPSAwO1xuICAgICAgfVxuICAgICAgYltpXSA9IHQ7XG4gICAgfVxuICAgIHdoaWxlIChiW2IubGVuZ3RoIC0gMV0gPT09IDApIHtcbiAgICAgIGIucG9wKCk7XG4gICAgfVxuICB9O1xuICBJbnQxMC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoYmFzZSkge1xuICAgIGlmICgoYmFzZSB8fCAxMCkgIT0gMTApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9ubHkgYmFzZSAxMCBpcyBzdXBwb3J0ZWRcIik7XG4gICAgfVxuICAgIHZhciBiID0gdGhpcy5idWY7XG4gICAgdmFyIHMgPSBiW2IubGVuZ3RoIC0gMV0udG9TdHJpbmcoKTtcbiAgICBmb3IgKHZhciBpID0gYi5sZW5ndGggLSAyOyBpID49IDA7IC0taSkge1xuICAgICAgcyArPSAobWF4ICsgYltpXSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9O1xuICBJbnQxMC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgIHZhciB2ID0gMDtcbiAgICBmb3IgKHZhciBpID0gYi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdiA9IHYgKiBtYXggKyBiW2ldO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfTtcbiAgSW50MTAucHJvdG90eXBlLnNpbXBsaWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBiID0gdGhpcy5idWY7XG4gICAgcmV0dXJuIGIubGVuZ3RoID09IDEgPyBiWzBdIDogdGhpcztcbiAgfTtcbiAgcmV0dXJuIEludDEwO1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5iNjR0b0JBID0gYjY0dG9CQTtcbmV4cG9ydHMuYjY0dG9oZXggPSBiNjR0b2hleDtcbmV4cG9ydHMuaGV4MmI2NCA9IGhleDJiNjQ7XG52YXIgX3V0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIGI2NG1hcCA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO1xudmFyIGI2NHBhZCA9IFwiPVwiO1xuZnVuY3Rpb24gaGV4MmI2NChoKSB7XG4gIHZhciBpO1xuICB2YXIgYztcbiAgdmFyIHJldCA9IFwiXCI7XG4gIGZvciAoaSA9IDA7IGkgKyAzIDw9IGgubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoaSwgaSArIDMpLCAxNik7XG4gICAgcmV0ICs9IGI2NG1hcC5jaGFyQXQoYyA+PiA2KSArIGI2NG1hcC5jaGFyQXQoYyAmIDYzKTtcbiAgfVxuICBpZiAoaSArIDEgPT0gaC5sZW5ndGgpIHtcbiAgICBjID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoaSwgaSArIDEpLCAxNik7XG4gICAgcmV0ICs9IGI2NG1hcC5jaGFyQXQoYyA8PCAyKTtcbiAgfSBlbHNlIGlmIChpICsgMiA9PSBoLmxlbmd0aCkge1xuICAgIGMgPSBwYXJzZUludChoLnN1YnN0cmluZyhpLCBpICsgMiksIDE2KTtcbiAgICByZXQgKz0gYjY0bWFwLmNoYXJBdChjID4+IDIpICsgYjY0bWFwLmNoYXJBdCgoYyAmIDMpIDw8IDQpO1xuICB9XG4gIHdoaWxlICgocmV0Lmxlbmd0aCAmIDMpID4gMCkge1xuICAgIHJldCArPSBiNjRwYWQ7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbi8vIGNvbnZlcnQgYSBiYXNlNjQgc3RyaW5nIHRvIGhleFxuZnVuY3Rpb24gYjY0dG9oZXgocykge1xuICB2YXIgcmV0ID0gXCJcIjtcbiAgdmFyIGk7XG4gIHZhciBrID0gMDsgLy8gYjY0IHN0YXRlLCAwLTNcbiAgdmFyIHNsb3AgPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgcy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChzLmNoYXJBdChpKSA9PSBiNjRwYWQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgdiA9IGI2NG1hcC5pbmRleE9mKHMuY2hhckF0KGkpKTtcbiAgICBpZiAodiA8IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoayA9PSAwKSB7XG4gICAgICByZXQgKz0gKDAsIF91dGlsLmludDJjaGFyKSh2ID4+IDIpO1xuICAgICAgc2xvcCA9IHYgJiAzO1xuICAgICAgayA9IDE7XG4gICAgfSBlbHNlIGlmIChrID09IDEpIHtcbiAgICAgIHJldCArPSAoMCwgX3V0aWwuaW50MmNoYXIpKHNsb3AgPDwgMiB8IHYgPj4gNCk7XG4gICAgICBzbG9wID0gdiAmIDB4ZjtcbiAgICAgIGsgPSAyO1xuICAgIH0gZWxzZSBpZiAoayA9PSAyKSB7XG4gICAgICByZXQgKz0gKDAsIF91dGlsLmludDJjaGFyKShzbG9wKTtcbiAgICAgIHJldCArPSAoMCwgX3V0aWwuaW50MmNoYXIpKHYgPj4gMik7XG4gICAgICBzbG9wID0gdiAmIDM7XG4gICAgICBrID0gMztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0ICs9ICgwLCBfdXRpbC5pbnQyY2hhcikoc2xvcCA8PCAyIHwgdiA+PiA0KTtcbiAgICAgIHJldCArPSAoMCwgX3V0aWwuaW50MmNoYXIpKHYgJiAweGYpO1xuICAgICAgayA9IDA7XG4gICAgfVxuICB9XG4gIGlmIChrID09IDEpIHtcbiAgICByZXQgKz0gKDAsIF91dGlsLmludDJjaGFyKShzbG9wIDw8IDIpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4vLyBjb252ZXJ0IGEgYmFzZTY0IHN0cmluZyB0byBhIGJ5dGUvbnVtYmVyIGFycmF5XG5mdW5jdGlvbiBiNjR0b0JBKHMpIHtcbiAgLy8gcGlnZ3liYWNrIG9uIGI2NHRvaGV4IGZvciBub3csIG9wdGltaXplIGxhdGVyXG4gIHZhciBoID0gYjY0dG9oZXgocyk7XG4gIHZhciBpO1xuICB2YXIgYSA9IFtdO1xuICBmb3IgKGkgPSAwOyAyICogaSA8IGgubGVuZ3RoOyArK2kpIHtcbiAgICBhW2ldID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoMiAqIGksIDIgKiBpICsgMiksIDE2KTtcbiAgfVxuICByZXR1cm4gYTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmlnSW50ZWdlciA9IHZvaWQgMDtcbmV4cG9ydHMuaW50QXQgPSBpbnRBdDtcbmV4cG9ydHMubmJpID0gbmJpO1xuZXhwb3J0cy5uYml0cyA9IG5iaXRzO1xuZXhwb3J0cy5uYnYgPSBuYnY7XG5leHBvcnRzLnBhcnNlQmlnSW50ID0gcGFyc2VCaWdJbnQ7XG52YXIgX3V0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuLy8gQ29weXJpZ2h0IChjKSAyMDA1ICBUb20gV3Vcbi8vIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgXCJMSUNFTlNFXCIgZm9yIGRldGFpbHMuXG4vLyBCYXNpYyBKYXZhU2NyaXB0IEJOIGxpYnJhcnkgLSBzdWJzZXQgdXNlZnVsIGZvciBSU0EgZW5jcnlwdGlvbi5cblxuLy8gQml0cyBwZXIgZGlnaXRcbnZhciBkYml0cztcbi8vIEphdmFTY3JpcHQgZW5naW5lIGFuYWx5c2lzXG52YXIgY2FuYXJ5ID0gMHhkZWFkYmVlZmNhZmU7XG52YXIgal9sbSA9IChjYW5hcnkgJiAweGZmZmZmZikgPT0gMHhlZmNhZmU7XG4vLyNyZWdpb25cbnZhciBsb3dwcmltZXMgPSBbMiwgMywgNSwgNywgMTEsIDEzLCAxNywgMTksIDIzLCAyOSwgMzEsIDM3LCA0MSwgNDMsIDQ3LCA1MywgNTksIDYxLCA2NywgNzEsIDczLCA3OSwgODMsIDg5LCA5NywgMTAxLCAxMDMsIDEwNywgMTA5LCAxMTMsIDEyNywgMTMxLCAxMzcsIDEzOSwgMTQ5LCAxNTEsIDE1NywgMTYzLCAxNjcsIDE3MywgMTc5LCAxODEsIDE5MSwgMTkzLCAxOTcsIDE5OSwgMjExLCAyMjMsIDIyNywgMjI5LCAyMzMsIDIzOSwgMjQxLCAyNTEsIDI1NywgMjYzLCAyNjksIDI3MSwgMjc3LCAyODEsIDI4MywgMjkzLCAzMDcsIDMxMSwgMzEzLCAzMTcsIDMzMSwgMzM3LCAzNDcsIDM0OSwgMzUzLCAzNTksIDM2NywgMzczLCAzNzksIDM4MywgMzg5LCAzOTcsIDQwMSwgNDA5LCA0MTksIDQyMSwgNDMxLCA0MzMsIDQzOSwgNDQzLCA0NDksIDQ1NywgNDYxLCA0NjMsIDQ2NywgNDc5LCA0ODcsIDQ5MSwgNDk5LCA1MDMsIDUwOSwgNTIxLCA1MjMsIDU0MSwgNTQ3LCA1NTcsIDU2MywgNTY5LCA1NzEsIDU3NywgNTg3LCA1OTMsIDU5OSwgNjAxLCA2MDcsIDYxMywgNjE3LCA2MTksIDYzMSwgNjQxLCA2NDMsIDY0NywgNjUzLCA2NTksIDY2MSwgNjczLCA2NzcsIDY4MywgNjkxLCA3MDEsIDcwOSwgNzE5LCA3MjcsIDczMywgNzM5LCA3NDMsIDc1MSwgNzU3LCA3NjEsIDc2OSwgNzczLCA3ODcsIDc5NywgODA5LCA4MTEsIDgyMSwgODIzLCA4MjcsIDgyOSwgODM5LCA4NTMsIDg1NywgODU5LCA4NjMsIDg3NywgODgxLCA4ODMsIDg4NywgOTA3LCA5MTEsIDkxOSwgOTI5LCA5MzcsIDk0MSwgOTQ3LCA5NTMsIDk2NywgOTcxLCA5NzcsIDk4MywgOTkxLCA5OTddO1xudmFyIGxwbGltID0gKDEgPDwgMjYpIC8gbG93cHJpbWVzW2xvd3ByaW1lcy5sZW5ndGggLSAxXTtcbi8vI2VuZHJlZ2lvblxuLy8gKHB1YmxpYykgQ29uc3RydWN0b3JcbnZhciBCaWdJbnRlZ2VyID0gZXhwb3J0cy5CaWdJbnRlZ2VyID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQmlnSW50ZWdlcihhLCBiLCBjKSB7XG4gICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGEpIHtcbiAgICAgICAgdGhpcy5mcm9tTnVtYmVyKGEsIGIsIGMpO1xuICAgICAgfSBlbHNlIGlmIChiID09IG51bGwgJiYgXCJzdHJpbmdcIiAhPSB0eXBlb2YgYSkge1xuICAgICAgICB0aGlzLmZyb21TdHJpbmcoYSwgMjU2KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZnJvbVN0cmluZyhhLCBiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8jcmVnaW9uIFBVQkxJQ1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1N0cmluZyA9IGJuVG9TdHJpbmc7XG4gIC8vIChwdWJsaWMpIHJldHVybiBzdHJpbmcgcmVwcmVzZW50YXRpb24gaW4gZ2l2ZW4gcmFkaXhcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoYikge1xuICAgIGlmICh0aGlzLnMgPCAwKSB7XG4gICAgICByZXR1cm4gXCItXCIgKyB0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKGIpO1xuICAgIH1cbiAgICB2YXIgaztcbiAgICBpZiAoYiA9PSAxNikge1xuICAgICAgayA9IDQ7XG4gICAgfSBlbHNlIGlmIChiID09IDgpIHtcbiAgICAgIGsgPSAzO1xuICAgIH0gZWxzZSBpZiAoYiA9PSAyKSB7XG4gICAgICBrID0gMTtcbiAgICB9IGVsc2UgaWYgKGIgPT0gMzIpIHtcbiAgICAgIGsgPSA1O1xuICAgIH0gZWxzZSBpZiAoYiA9PSA0KSB7XG4gICAgICBrID0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudG9SYWRpeChiKTtcbiAgICB9XG4gICAgdmFyIGttID0gKDEgPDwgaykgLSAxO1xuICAgIHZhciBkO1xuICAgIHZhciBtID0gZmFsc2U7XG4gICAgdmFyIHIgPSBcIlwiO1xuICAgIHZhciBpID0gdGhpcy50O1xuICAgIHZhciBwID0gdGhpcy5EQiAtIGkgKiB0aGlzLkRCICUgaztcbiAgICBpZiAoaS0tID4gMCkge1xuICAgICAgaWYgKHAgPCB0aGlzLkRCICYmIChkID0gdGhpc1tpXSA+PiBwKSA+IDApIHtcbiAgICAgICAgbSA9IHRydWU7XG4gICAgICAgIHIgPSAoMCwgX3V0aWwuaW50MmNoYXIpKGQpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgICBpZiAocCA8IGspIHtcbiAgICAgICAgICBkID0gKHRoaXNbaV0gJiAoMSA8PCBwKSAtIDEpIDw8IGsgLSBwO1xuICAgICAgICAgIGQgfD0gdGhpc1stLWldID4+IChwICs9IHRoaXMuREIgLSBrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkID0gdGhpc1tpXSA+PiAocCAtPSBrKSAmIGttO1xuICAgICAgICAgIGlmIChwIDw9IDApIHtcbiAgICAgICAgICAgIHAgKz0gdGhpcy5EQjtcbiAgICAgICAgICAgIC0taTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQgPiAwKSB7XG4gICAgICAgICAgbSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICByICs9ICgwLCBfdXRpbC5pbnQyY2hhcikoZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG0gPyByIDogXCIwXCI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm5lZ2F0ZSA9IGJuTmVnYXRlO1xuICAvLyAocHVibGljKSAtdGhpc1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5uZWdhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcywgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFicyA9IGJuQWJzO1xuICAvLyAocHVibGljKSB8dGhpc3xcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnMgPCAwID8gdGhpcy5uZWdhdGUoKSA6IHRoaXM7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNvbXBhcmVUbyA9IGJuQ29tcGFyZVRvO1xuICAvLyAocHVibGljKSByZXR1cm4gKyBpZiB0aGlzID4gYSwgLSBpZiB0aGlzIDwgYSwgMCBpZiBlcXVhbFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG8gPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gdGhpcy5zIC0gYS5zO1xuICAgIGlmIChyICE9IDApIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICB2YXIgaSA9IHRoaXMudDtcbiAgICByID0gaSAtIGEudDtcbiAgICBpZiAociAhPSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5zIDwgMCA/IC1yIDogcjtcbiAgICB9XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICBpZiAoKHIgPSB0aGlzW2ldIC0gYVtpXSkgIT0gMCkge1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aCA9IGJuQml0TGVuZ3RoO1xuICAvLyAocHVibGljKSByZXR1cm4gdGhlIG51bWJlciBvZiBiaXRzIGluIFwidGhpc1wiXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50IDw9IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5EQiAqICh0aGlzLnQgLSAxKSArIG5iaXRzKHRoaXNbdGhpcy50IC0gMV0gXiB0aGlzLnMgJiB0aGlzLkRNKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubW9kID0gYm5Nb2Q7XG4gIC8vIChwdWJsaWMpIHRoaXMgbW9kIGFcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubW9kID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHRoaXMuYWJzKCkuZGl2UmVtVG8oYSwgbnVsbCwgcik7XG4gICAgaWYgKHRoaXMucyA8IDAgJiYgci5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKSA+IDApIHtcbiAgICAgIGEuc3ViVG8ociwgcik7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQgPSBibk1vZFBvd0ludDtcbiAgLy8gKHB1YmxpYykgdGhpc15lICUgbSwgMCA8PSBlIDwgMl4zMlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQgPSBmdW5jdGlvbiAoZSwgbSkge1xuICAgIHZhciB6O1xuICAgIGlmIChlIDwgMjU2IHx8IG0uaXNFdmVuKCkpIHtcbiAgICAgIHogPSBuZXcgQ2xhc3NpYyhtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeiA9IG5ldyBNb250Z29tZXJ5KG0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leHAoZSwgeik7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsb25lID0gYm5DbG9uZTtcbiAgLy8gKHB1YmxpYylcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmNvcHlUbyhyKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuaW50VmFsdWUgPSBibkludFZhbHVlO1xuICAvLyAocHVibGljKSByZXR1cm4gdmFsdWUgYXMgaW50ZWdlclxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zIDwgMCkge1xuICAgICAgaWYgKHRoaXMudCA9PSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdIC0gdGhpcy5EVjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50ID09IDApIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy50ID09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzWzBdO1xuICAgIH0gZWxzZSBpZiAodGhpcy50ID09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBhc3N1bWVzIDE2IDwgREIgPCAzMlxuICAgIHJldHVybiAodGhpc1sxXSAmICgxIDw8IDMyIC0gdGhpcy5EQikgLSAxKSA8PCB0aGlzLkRCIHwgdGhpc1swXTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYnl0ZVZhbHVlID0gYm5CeXRlVmFsdWU7XG4gIC8vIChwdWJsaWMpIHJldHVybiB2YWx1ZSBhcyBieXRlXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmJ5dGVWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50ID09IDAgPyB0aGlzLnMgOiB0aGlzWzBdIDw8IDI0ID4+IDI0O1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaG9ydFZhbHVlID0gYm5TaG9ydFZhbHVlO1xuICAvLyAocHVibGljKSByZXR1cm4gdmFsdWUgYXMgc2hvcnQgKGFzc3VtZXMgREI+PTE2KVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaG9ydFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnQgPT0gMCA/IHRoaXMucyA6IHRoaXNbMF0gPDwgMTYgPj4gMTY7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnNpZ251bSA9IGJuU2lnTnVtO1xuICAvLyAocHVibGljKSAwIGlmIHRoaXMgPT0gMCwgMSBpZiB0aGlzID4gMFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaWdudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucyA8IDApIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudCA8PSAwIHx8IHRoaXMudCA9PSAxICYmIHRoaXNbMF0gPD0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUudG9CeXRlQXJyYXkgPSBiblRvQnl0ZUFycmF5O1xuICAvLyAocHVibGljKSBjb252ZXJ0IHRvIGJpZ2VuZGlhbiBieXRlIGFycmF5XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnRvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpID0gdGhpcy50O1xuICAgIHZhciByID0gW107XG4gICAgclswXSA9IHRoaXMucztcbiAgICB2YXIgcCA9IHRoaXMuREIgLSBpICogdGhpcy5EQiAlIDg7XG4gICAgdmFyIGQ7XG4gICAgdmFyIGsgPSAwO1xuICAgIGlmIChpLS0gPiAwKSB7XG4gICAgICBpZiAocCA8IHRoaXMuREIgJiYgKGQgPSB0aGlzW2ldID4+IHApICE9ICh0aGlzLnMgJiB0aGlzLkRNKSA+PiBwKSB7XG4gICAgICAgIHJbaysrXSA9IGQgfCB0aGlzLnMgPDwgdGhpcy5EQiAtIHA7XG4gICAgICB9XG4gICAgICB3aGlsZSAoaSA+PSAwKSB7XG4gICAgICAgIGlmIChwIDwgOCkge1xuICAgICAgICAgIGQgPSAodGhpc1tpXSAmICgxIDw8IHApIC0gMSkgPDwgOCAtIHA7XG4gICAgICAgICAgZCB8PSB0aGlzWy0taV0gPj4gKHAgKz0gdGhpcy5EQiAtIDgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGQgPSB0aGlzW2ldID4+IChwIC09IDgpICYgMHhmZjtcbiAgICAgICAgICBpZiAocCA8PSAwKSB7XG4gICAgICAgICAgICBwICs9IHRoaXMuREI7XG4gICAgICAgICAgICAtLWk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoZCAmIDB4ODApICE9IDApIHtcbiAgICAgICAgICBkIHw9IC0yNTY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGsgPT0gMCAmJiAodGhpcy5zICYgMHg4MCkgIT0gKGQgJiAweDgwKSkge1xuICAgICAgICAgICsraztcbiAgICAgICAgfVxuICAgICAgICBpZiAoayA+IDAgfHwgZCAhPSB0aGlzLnMpIHtcbiAgICAgICAgICByW2srK10gPSBkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5lcXVhbHMgPSBibkVxdWFscztcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wYXJlVG8oYSkgPT0gMDtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubWluID0gYm5NaW47XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLm1pbiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZVRvKGEpIDwgMCA/IHRoaXMgOiBhO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tYXggPSBibk1heDtcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubWF4ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wYXJlVG8oYSkgPiAwID8gdGhpcyA6IGE7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZCA9IGJuQW5kO1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5iaXR3aXNlVG8oYSwgX3V0aWwub3BfYW5kLCByKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUub3IgPSBibk9yO1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmJpdHdpc2VUbyhhLCBfdXRpbC5vcF9vciwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnhvciA9IGJuWG9yO1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5iaXR3aXNlVG8oYSwgX3V0aWwub3BfeG9yLCByKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYW5kTm90ID0gYm5BbmROb3Q7XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZE5vdCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmJpdHdpc2VUbyhhLCBfdXRpbC5vcF9hbmRub3QsIHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5ub3QgPSBibk5vdDtcbiAgLy8gKHB1YmxpYykgfnRoaXNcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubm90ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgcltpXSA9IHRoaXMuRE0gJiB+dGhpc1tpXTtcbiAgICB9XG4gICAgci50ID0gdGhpcy50O1xuICAgIHIucyA9IH50aGlzLnM7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0TGVmdCA9IGJuU2hpZnRMZWZ0O1xuICAvLyAocHVibGljKSB0aGlzIDw8IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIGlmIChuIDwgMCkge1xuICAgICAgdGhpcy5yU2hpZnRUbygtbiwgcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubFNoaWZ0VG8obiwgcik7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaGlmdFJpZ2h0ID0gYm5TaGlmdFJpZ2h0O1xuICAvLyAocHVibGljKSB0aGlzID4+IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuc2hpZnRSaWdodCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICBpZiAobiA8IDApIHtcbiAgICAgIHRoaXMubFNoaWZ0VG8oLW4sIHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJTaGlmdFRvKG4sIHIpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZ2V0TG93ZXN0U2V0Qml0ID0gYm5HZXRMb3dlc3RTZXRCaXQ7XG4gIC8vIChwdWJsaWMpIHJldHVybnMgaW5kZXggb2YgbG93ZXN0IDEtYml0IChvciAtMSBpZiBub25lKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5nZXRMb3dlc3RTZXRCaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgaWYgKHRoaXNbaV0gIT0gMCkge1xuICAgICAgICByZXR1cm4gaSAqIHRoaXMuREIgKyAoMCwgX3V0aWwubGJpdCkodGhpc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnMgPCAwKSB7XG4gICAgICByZXR1cm4gdGhpcy50ICogdGhpcy5EQjtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5iaXRDb3VudCA9IGJuQml0Q291bnQ7XG4gIC8vIChwdWJsaWMpIHJldHVybiBudW1iZXIgb2Ygc2V0IGJpdHNcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYml0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSAwO1xuICAgIHZhciB4ID0gdGhpcy5zICYgdGhpcy5ETTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudDsgKytpKSB7XG4gICAgICByICs9ICgwLCBfdXRpbC5jYml0KSh0aGlzW2ldIF4geCk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS50ZXN0Qml0ID0gYm5UZXN0Qml0O1xuICAvLyAocHVibGljKSB0cnVlIGlmZiBudGggYml0IGlzIHNldFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS50ZXN0Qml0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICB2YXIgaiA9IE1hdGguZmxvb3IobiAvIHRoaXMuREIpO1xuICAgIGlmIChqID49IHRoaXMudCkge1xuICAgICAgcmV0dXJuIHRoaXMucyAhPSAwO1xuICAgIH1cbiAgICByZXR1cm4gKHRoaXNbal0gJiAxIDw8IG4gJSB0aGlzLkRCKSAhPSAwO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zZXRCaXQgPSBiblNldEJpdDtcbiAgLy8gKHB1YmxpYykgdGhpcyB8ICgxPDxuKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zZXRCaXQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiB0aGlzLmNoYW5nZUJpdChuLCBfdXRpbC5vcF9vcik7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsZWFyQml0ID0gYm5DbGVhckJpdDtcbiAgLy8gKHB1YmxpYykgdGhpcyAmIH4oMTw8bilcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2xlYXJCaXQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiB0aGlzLmNoYW5nZUJpdChuLCBfdXRpbC5vcF9hbmRub3QpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mbGlwQml0ID0gYm5GbGlwQml0O1xuICAvLyAocHVibGljKSB0aGlzIF4gKDE8PG4pXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmZsaXBCaXQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiB0aGlzLmNoYW5nZUJpdChuLCBfdXRpbC5vcF94b3IpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGQgPSBibkFkZDtcbiAgLy8gKHB1YmxpYykgdGhpcyArIGFcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHRoaXMuYWRkVG8oYSwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnN1YnRyYWN0ID0gYm5TdWJ0cmFjdDtcbiAgLy8gKHB1YmxpYykgdGhpcyAtIGFcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5zdWJUbyhhLCByKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHkgPSBibk11bHRpcGx5O1xuICAvLyAocHVibGljKSB0aGlzICogYVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLm11bHRpcGx5VG8oYSwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdmlkZSA9IGJuRGl2aWRlO1xuICAvLyAocHVibGljKSB0aGlzIC8gYVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgdGhpcy5kaXZSZW1UbyhhLCByLCBudWxsKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUucmVtYWluZGVyID0gYm5SZW1haW5kZXI7XG4gIC8vIChwdWJsaWMpIHRoaXMgJSBhXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnJlbWFpbmRlciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLmRpdlJlbVRvKGEsIG51bGwsIHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kaXZpZGVBbmRSZW1haW5kZXIgPSBibkRpdmlkZUFuZFJlbWFpbmRlcjtcbiAgLy8gKHB1YmxpYykgW3RoaXMvYSx0aGlzJWFdXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdmlkZUFuZFJlbWFpbmRlciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHEgPSBuYmkoKTtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHRoaXMuZGl2UmVtVG8oYSwgcSwgcik7XG4gICAgcmV0dXJuIFtxLCByXTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubW9kUG93ID0gYm5Nb2RQb3c7XG4gIC8vIChwdWJsaWMpIHRoaXNeZSAlIG0gKEhBQyAxNC44NSlcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubW9kUG93ID0gZnVuY3Rpb24gKGUsIG0pIHtcbiAgICB2YXIgaSA9IGUuYml0TGVuZ3RoKCk7XG4gICAgdmFyIGs7XG4gICAgdmFyIHIgPSBuYnYoMSk7XG4gICAgdmFyIHo7XG4gICAgaWYgKGkgPD0gMCkge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSBlbHNlIGlmIChpIDwgMTgpIHtcbiAgICAgIGsgPSAxO1xuICAgIH0gZWxzZSBpZiAoaSA8IDQ4KSB7XG4gICAgICBrID0gMztcbiAgICB9IGVsc2UgaWYgKGkgPCAxNDQpIHtcbiAgICAgIGsgPSA0O1xuICAgIH0gZWxzZSBpZiAoaSA8IDc2OCkge1xuICAgICAgayA9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGsgPSA2O1xuICAgIH1cbiAgICBpZiAoaSA8IDgpIHtcbiAgICAgIHogPSBuZXcgQ2xhc3NpYyhtKTtcbiAgICB9IGVsc2UgaWYgKG0uaXNFdmVuKCkpIHtcbiAgICAgIHogPSBuZXcgQmFycmV0dChtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeiA9IG5ldyBNb250Z29tZXJ5KG0pO1xuICAgIH1cbiAgICAvLyBwcmVjb21wdXRhdGlvblxuICAgIHZhciBnID0gW107XG4gICAgdmFyIG4gPSAzO1xuICAgIHZhciBrMSA9IGsgLSAxO1xuICAgIHZhciBrbSA9ICgxIDw8IGspIC0gMTtcbiAgICBnWzFdID0gei5jb252ZXJ0KHRoaXMpO1xuICAgIGlmIChrID4gMSkge1xuICAgICAgdmFyIGcyID0gbmJpKCk7XG4gICAgICB6LnNxclRvKGdbMV0sIGcyKTtcbiAgICAgIHdoaWxlIChuIDw9IGttKSB7XG4gICAgICAgIGdbbl0gPSBuYmkoKTtcbiAgICAgICAgei5tdWxUbyhnMiwgZ1tuIC0gMl0sIGdbbl0pO1xuICAgICAgICBuICs9IDI7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBqID0gZS50IC0gMTtcbiAgICB2YXIgdztcbiAgICB2YXIgaXMxID0gdHJ1ZTtcbiAgICB2YXIgcjIgPSBuYmkoKTtcbiAgICB2YXIgdDtcbiAgICBpID0gbmJpdHMoZVtqXSkgLSAxO1xuICAgIHdoaWxlIChqID49IDApIHtcbiAgICAgIGlmIChpID49IGsxKSB7XG4gICAgICAgIHcgPSBlW2pdID4+IGkgLSBrMSAmIGttO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdyA9IChlW2pdICYgKDEgPDwgaSArIDEpIC0gMSkgPDwgazEgLSBpO1xuICAgICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgICB3IHw9IGVbaiAtIDFdID4+IHRoaXMuREIgKyBpIC0gazE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG4gPSBrO1xuICAgICAgd2hpbGUgKCh3ICYgMSkgPT0gMCkge1xuICAgICAgICB3ID4+PSAxO1xuICAgICAgICAtLW47XG4gICAgICB9XG4gICAgICBpZiAoKGkgLT0gbikgPCAwKSB7XG4gICAgICAgIGkgKz0gdGhpcy5EQjtcbiAgICAgICAgLS1qO1xuICAgICAgfVxuICAgICAgaWYgKGlzMSkge1xuICAgICAgICAvLyByZXQgPT0gMSwgZG9uJ3QgYm90aGVyIHNxdWFyaW5nIG9yIG11bHRpcGx5aW5nIGl0XG4gICAgICAgIGdbd10uY29weVRvKHIpO1xuICAgICAgICBpczEgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChuID4gMSkge1xuICAgICAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgICAgIHouc3FyVG8ocjIsIHIpO1xuICAgICAgICAgIG4gLT0gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA+IDApIHtcbiAgICAgICAgICB6LnNxclRvKHIsIHIyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ID0gcjtcbiAgICAgICAgICByID0gcjI7XG4gICAgICAgICAgcjIgPSB0O1xuICAgICAgICB9XG4gICAgICAgIHoubXVsVG8ocjIsIGdbd10sIHIpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGogPj0gMCAmJiAoZVtqXSAmIDEgPDwgaSkgPT0gMCkge1xuICAgICAgICB6LnNxclRvKHIsIHIyKTtcbiAgICAgICAgdCA9IHI7XG4gICAgICAgIHIgPSByMjtcbiAgICAgICAgcjIgPSB0O1xuICAgICAgICBpZiAoLS1pIDwgMCkge1xuICAgICAgICAgIGkgPSB0aGlzLkRCIC0gMTtcbiAgICAgICAgICAtLWo7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHoucmV2ZXJ0KHIpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnZlcnNlID0gYm5Nb2RJbnZlcnNlO1xuICAvLyAocHVibGljKSAxL3RoaXMgJSBtIChIQUMgMTQuNjEpXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZEludmVyc2UgPSBmdW5jdGlvbiAobSkge1xuICAgIHZhciBhYyA9IG0uaXNFdmVuKCk7XG4gICAgaWYgKHRoaXMuaXNFdmVuKCkgJiYgYWMgfHwgbS5zaWdudW0oKSA9PSAwKSB7XG4gICAgICByZXR1cm4gQmlnSW50ZWdlci5aRVJPO1xuICAgIH1cbiAgICB2YXIgdSA9IG0uY2xvbmUoKTtcbiAgICB2YXIgdiA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgYSA9IG5idigxKTtcbiAgICB2YXIgYiA9IG5idigwKTtcbiAgICB2YXIgYyA9IG5idigwKTtcbiAgICB2YXIgZCA9IG5idigxKTtcbiAgICB3aGlsZSAodS5zaWdudW0oKSAhPSAwKSB7XG4gICAgICB3aGlsZSAodS5pc0V2ZW4oKSkge1xuICAgICAgICB1LnJTaGlmdFRvKDEsIHUpO1xuICAgICAgICBpZiAoYWMpIHtcbiAgICAgICAgICBpZiAoIWEuaXNFdmVuKCkgfHwgIWIuaXNFdmVuKCkpIHtcbiAgICAgICAgICAgIGEuYWRkVG8odGhpcywgYSk7XG4gICAgICAgICAgICBiLnN1YlRvKG0sIGIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhLnJTaGlmdFRvKDEsIGEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFiLmlzRXZlbigpKSB7XG4gICAgICAgICAgYi5zdWJUbyhtLCBiKTtcbiAgICAgICAgfVxuICAgICAgICBiLnJTaGlmdFRvKDEsIGIpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHYuaXNFdmVuKCkpIHtcbiAgICAgICAgdi5yU2hpZnRUbygxLCB2KTtcbiAgICAgICAgaWYgKGFjKSB7XG4gICAgICAgICAgaWYgKCFjLmlzRXZlbigpIHx8ICFkLmlzRXZlbigpKSB7XG4gICAgICAgICAgICBjLmFkZFRvKHRoaXMsIGMpO1xuICAgICAgICAgICAgZC5zdWJUbyhtLCBkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYy5yU2hpZnRUbygxLCBjKTtcbiAgICAgICAgfSBlbHNlIGlmICghZC5pc0V2ZW4oKSkge1xuICAgICAgICAgIGQuc3ViVG8obSwgZCk7XG4gICAgICAgIH1cbiAgICAgICAgZC5yU2hpZnRUbygxLCBkKTtcbiAgICAgIH1cbiAgICAgIGlmICh1LmNvbXBhcmVUbyh2KSA+PSAwKSB7XG4gICAgICAgIHUuc3ViVG8odiwgdSk7XG4gICAgICAgIGlmIChhYykge1xuICAgICAgICAgIGEuc3ViVG8oYywgYSk7XG4gICAgICAgIH1cbiAgICAgICAgYi5zdWJUbyhkLCBiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHYuc3ViVG8odSwgdik7XG4gICAgICAgIGlmIChhYykge1xuICAgICAgICAgIGMuc3ViVG8oYSwgYyk7XG4gICAgICAgIH1cbiAgICAgICAgZC5zdWJUbyhiLCBkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHYuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSAhPSAwKSB7XG4gICAgICByZXR1cm4gQmlnSW50ZWdlci5aRVJPO1xuICAgIH1cbiAgICBpZiAoZC5jb21wYXJlVG8obSkgPj0gMCkge1xuICAgICAgcmV0dXJuIGQuc3VidHJhY3QobSk7XG4gICAgfVxuICAgIGlmIChkLnNpZ251bSgpIDwgMCkge1xuICAgICAgZC5hZGRUbyhtLCBkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfVxuICAgIGlmIChkLnNpZ251bSgpIDwgMCkge1xuICAgICAgcmV0dXJuIGQuYWRkKG0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZDtcbiAgICB9XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnBvdyA9IGJuUG93O1xuICAvLyAocHVibGljKSB0aGlzXmVcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUucG93ID0gZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gdGhpcy5leHAoZSwgbmV3IE51bGxFeHAoKSk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmdjZCA9IGJuR0NEO1xuICAvLyAocHVibGljKSBnY2QodGhpcyxhKSAoSEFDIDE0LjU0KVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5nY2QgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciB4ID0gdGhpcy5zIDwgMCA/IHRoaXMubmVnYXRlKCkgOiB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHkgPSBhLnMgPCAwID8gYS5uZWdhdGUoKSA6IGEuY2xvbmUoKTtcbiAgICBpZiAoeC5jb21wYXJlVG8oeSkgPCAwKSB7XG4gICAgICB2YXIgdCA9IHg7XG4gICAgICB4ID0geTtcbiAgICAgIHkgPSB0O1xuICAgIH1cbiAgICB2YXIgaSA9IHguZ2V0TG93ZXN0U2V0Qml0KCk7XG4gICAgdmFyIGcgPSB5LmdldExvd2VzdFNldEJpdCgpO1xuICAgIGlmIChnIDwgMCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICAgIGlmIChpIDwgZykge1xuICAgICAgZyA9IGk7XG4gICAgfVxuICAgIGlmIChnID4gMCkge1xuICAgICAgeC5yU2hpZnRUbyhnLCB4KTtcbiAgICAgIHkuclNoaWZ0VG8oZywgeSk7XG4gICAgfVxuICAgIHdoaWxlICh4LnNpZ251bSgpID4gMCkge1xuICAgICAgaWYgKChpID0geC5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwKSB7XG4gICAgICAgIHguclNoaWZ0VG8oaSwgeCk7XG4gICAgICB9XG4gICAgICBpZiAoKGkgPSB5LmdldExvd2VzdFNldEJpdCgpKSA+IDApIHtcbiAgICAgICAgeS5yU2hpZnRUbyhpLCB5KTtcbiAgICAgIH1cbiAgICAgIGlmICh4LmNvbXBhcmVUbyh5KSA+PSAwKSB7XG4gICAgICAgIHguc3ViVG8oeSwgeCk7XG4gICAgICAgIHguclNoaWZ0VG8oMSwgeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5LnN1YlRvKHgsIHkpO1xuICAgICAgICB5LnJTaGlmdFRvKDEsIHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZyA+IDApIHtcbiAgICAgIHkubFNoaWZ0VG8oZywgeSk7XG4gICAgfVxuICAgIHJldHVybiB5O1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWUgPSBibklzUHJvYmFibGVQcmltZTtcbiAgLy8gKHB1YmxpYykgdGVzdCBwcmltYWxpdHkgd2l0aCBjZXJ0YWludHkgPj0gMS0uNV50XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmlzUHJvYmFibGVQcmltZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIHggPSB0aGlzLmFicygpO1xuICAgIGlmICh4LnQgPT0gMSAmJiB4WzBdIDw9IGxvd3ByaW1lc1tsb3dwcmltZXMubGVuZ3RoIC0gMV0pIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsb3dwcmltZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHhbMF0gPT0gbG93cHJpbWVzW2ldKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHguaXNFdmVuKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaSA9IDE7XG4gICAgd2hpbGUgKGkgPCBsb3dwcmltZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgbSA9IGxvd3ByaW1lc1tpXTtcbiAgICAgIHZhciBqID0gaSArIDE7XG4gICAgICB3aGlsZSAoaiA8IGxvd3ByaW1lcy5sZW5ndGggJiYgbSA8IGxwbGltKSB7XG4gICAgICAgIG0gKj0gbG93cHJpbWVzW2orK107XG4gICAgICB9XG4gICAgICBtID0geC5tb2RJbnQobSk7XG4gICAgICB3aGlsZSAoaSA8IGopIHtcbiAgICAgICAgaWYgKG0gJSBsb3dwcmltZXNbaSsrXSA9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4Lm1pbGxlclJhYmluKHQpO1xuICB9O1xuICAvLyNlbmRyZWdpb24gUFVCTElDXG4gIC8vI3JlZ2lvbiBQUk9URUNURURcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY29weVRvID0gYm5wQ29weVRvO1xuICAvLyAocHJvdGVjdGVkKSBjb3B5IHRoaXMgdG8gclxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocikge1xuICAgIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgcltpXSA9IHRoaXNbaV07XG4gICAgfVxuICAgIHIudCA9IHRoaXMudDtcbiAgICByLnMgPSB0aGlzLnM7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21JbnQgPSBibnBGcm9tSW50O1xuICAvLyAocHJvdGVjdGVkKSBzZXQgZnJvbSBpbnRlZ2VyIHZhbHVlIHgsIC1EViA8PSB4IDwgRFZcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbUludCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgdGhpcy50ID0gMTtcbiAgICB0aGlzLnMgPSB4IDwgMCA/IC0xIDogMDtcbiAgICBpZiAoeCA+IDApIHtcbiAgICAgIHRoaXNbMF0gPSB4O1xuICAgIH0gZWxzZSBpZiAoeCA8IC0xKSB7XG4gICAgICB0aGlzWzBdID0geCArIHRoaXMuRFY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudCA9IDA7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tU3RyaW5nID0gYm5wRnJvbVN0cmluZztcbiAgLy8gKHByb3RlY3RlZCkgc2V0IGZyb20gc3RyaW5nIGFuZCByYWRpeFxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHMsIGIpIHtcbiAgICB2YXIgaztcbiAgICBpZiAoYiA9PSAxNikge1xuICAgICAgayA9IDQ7XG4gICAgfSBlbHNlIGlmIChiID09IDgpIHtcbiAgICAgIGsgPSAzO1xuICAgIH0gZWxzZSBpZiAoYiA9PSAyNTYpIHtcbiAgICAgIGsgPSA4O1xuICAgICAgLyogYnl0ZSBhcnJheSAqL1xuICAgIH0gZWxzZSBpZiAoYiA9PSAyKSB7XG4gICAgICBrID0gMTtcbiAgICB9IGVsc2UgaWYgKGIgPT0gMzIpIHtcbiAgICAgIGsgPSA1O1xuICAgIH0gZWxzZSBpZiAoYiA9PSA0KSB7XG4gICAgICBrID0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcm9tUmFkaXgocywgYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudCA9IDA7XG4gICAgdGhpcy5zID0gMDtcbiAgICB2YXIgaSA9IHMubGVuZ3RoO1xuICAgIHZhciBtaSA9IGZhbHNlO1xuICAgIHZhciBzaCA9IDA7XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICB2YXIgeCA9IGsgPT0gOCA/ICtzW2ldICYgMHhmZiA6IGludEF0KHMsIGkpO1xuICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgIGlmIChzLmNoYXJBdChpKSA9PSBcIi1cIikge1xuICAgICAgICAgIG1pID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIG1pID0gZmFsc2U7XG4gICAgICBpZiAoc2ggPT0gMCkge1xuICAgICAgICB0aGlzW3RoaXMudCsrXSA9IHg7XG4gICAgICB9IGVsc2UgaWYgKHNoICsgayA+IHRoaXMuREIpIHtcbiAgICAgICAgdGhpc1t0aGlzLnQgLSAxXSB8PSAoeCAmICgxIDw8IHRoaXMuREIgLSBzaCkgLSAxKSA8PCBzaDtcbiAgICAgICAgdGhpc1t0aGlzLnQrK10gPSB4ID4+IHRoaXMuREIgLSBzaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbdGhpcy50IC0gMV0gfD0geCA8PCBzaDtcbiAgICAgIH1cbiAgICAgIHNoICs9IGs7XG4gICAgICBpZiAoc2ggPj0gdGhpcy5EQikge1xuICAgICAgICBzaCAtPSB0aGlzLkRCO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoayA9PSA4ICYmICgrc1swXSAmIDB4ODApICE9IDApIHtcbiAgICAgIHRoaXMucyA9IC0xO1xuICAgICAgaWYgKHNoID4gMCkge1xuICAgICAgICB0aGlzW3RoaXMudCAtIDFdIHw9ICgxIDw8IHRoaXMuREIgLSBzaCkgLSAxIDw8IHNoO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNsYW1wKCk7XG4gICAgaWYgKG1pKSB7XG4gICAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jbGFtcCA9IGJucENsYW1wO1xuICAvLyAocHJvdGVjdGVkKSBjbGFtcCBvZmYgZXhjZXNzIGhpZ2ggd29yZHNcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2xhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGMgPSB0aGlzLnMgJiB0aGlzLkRNO1xuICAgIHdoaWxlICh0aGlzLnQgPiAwICYmIHRoaXNbdGhpcy50IC0gMV0gPT0gYykge1xuICAgICAgLS10aGlzLnQ7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kbFNoaWZ0VG8gPSBibnBETFNoaWZ0VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG4qREJcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZGxTaGlmdFRvID0gZnVuY3Rpb24gKG4sIHIpIHtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgcltpICsgbl0gPSB0aGlzW2ldO1xuICAgIH1cbiAgICBmb3IgKGkgPSBuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHJbaV0gPSAwO1xuICAgIH1cbiAgICByLnQgPSB0aGlzLnQgKyBuO1xuICAgIHIucyA9IHRoaXMucztcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvID0gYm5wRFJTaGlmdFRvO1xuICAvLyAocHJvdGVjdGVkKSByID0gdGhpcyA+PiBuKkRCXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmRyU2hpZnRUbyA9IGZ1bmN0aW9uIChuLCByKSB7XG4gICAgZm9yICh2YXIgaSA9IG47IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgcltpIC0gbl0gPSB0aGlzW2ldO1xuICAgIH1cbiAgICByLnQgPSBNYXRoLm1heCh0aGlzLnQgLSBuLCAwKTtcbiAgICByLnMgPSB0aGlzLnM7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmxTaGlmdFRvID0gYm5wTFNoaWZ0VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubFNoaWZ0VG8gPSBmdW5jdGlvbiAobiwgcikge1xuICAgIHZhciBicyA9IG4gJSB0aGlzLkRCO1xuICAgIHZhciBjYnMgPSB0aGlzLkRCIC0gYnM7XG4gICAgdmFyIGJtID0gKDEgPDwgY2JzKSAtIDE7XG4gICAgdmFyIGRzID0gTWF0aC5mbG9vcihuIC8gdGhpcy5EQik7XG4gICAgdmFyIGMgPSB0aGlzLnMgPDwgYnMgJiB0aGlzLkRNO1xuICAgIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgcltpICsgZHMgKyAxXSA9IHRoaXNbaV0gPj4gY2JzIHwgYztcbiAgICAgIGMgPSAodGhpc1tpXSAmIGJtKSA8PCBicztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IGRzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHJbaV0gPSAwO1xuICAgIH1cbiAgICByW2RzXSA9IGM7XG4gICAgci50ID0gdGhpcy50ICsgZHMgKyAxO1xuICAgIHIucyA9IHRoaXMucztcbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnJTaGlmdFRvID0gYm5wUlNoaWZ0VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzID4+IG5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuclNoaWZ0VG8gPSBmdW5jdGlvbiAobiwgcikge1xuICAgIHIucyA9IHRoaXMucztcbiAgICB2YXIgZHMgPSBNYXRoLmZsb29yKG4gLyB0aGlzLkRCKTtcbiAgICBpZiAoZHMgPj0gdGhpcy50KSB7XG4gICAgICByLnQgPSAwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYnMgPSBuICUgdGhpcy5EQjtcbiAgICB2YXIgY2JzID0gdGhpcy5EQiAtIGJzO1xuICAgIHZhciBibSA9ICgxIDw8IGJzKSAtIDE7XG4gICAgclswXSA9IHRoaXNbZHNdID4+IGJzO1xuICAgIGZvciAodmFyIGkgPSBkcyArIDE7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgcltpIC0gZHMgLSAxXSB8PSAodGhpc1tpXSAmIGJtKSA8PCBjYnM7XG4gICAgICByW2kgLSBkc10gPSB0aGlzW2ldID4+IGJzO1xuICAgIH1cbiAgICBpZiAoYnMgPiAwKSB7XG4gICAgICByW3RoaXMudCAtIGRzIC0gMV0gfD0gKHRoaXMucyAmIGJtKSA8PCBjYnM7XG4gICAgfVxuICAgIHIudCA9IHRoaXMudCAtIGRzO1xuICAgIHIuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3ViVG8gPSBibnBTdWJUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgLSBhXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnN1YlRvID0gZnVuY3Rpb24gKGEsIHIpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGMgPSAwO1xuICAgIHZhciBtID0gTWF0aC5taW4oYS50LCB0aGlzLnQpO1xuICAgIHdoaWxlIChpIDwgbSkge1xuICAgICAgYyArPSB0aGlzW2ldIC0gYVtpXTtcbiAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgaWYgKGEudCA8IHRoaXMudCkge1xuICAgICAgYyAtPSBhLnM7XG4gICAgICB3aGlsZSAoaSA8IHRoaXMudCkge1xuICAgICAgICBjICs9IHRoaXNbaV07XG4gICAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgICBjID4+PSB0aGlzLkRCO1xuICAgICAgfVxuICAgICAgYyArPSB0aGlzLnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMgKz0gdGhpcy5zO1xuICAgICAgd2hpbGUgKGkgPCBhLnQpIHtcbiAgICAgICAgYyAtPSBhW2ldO1xuICAgICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICAgIH1cbiAgICAgIGMgLT0gYS5zO1xuICAgIH1cbiAgICByLnMgPSBjIDwgMCA/IC0xIDogMDtcbiAgICBpZiAoYyA8IC0xKSB7XG4gICAgICByW2krK10gPSB0aGlzLkRWICsgYztcbiAgICB9IGVsc2UgaWYgKGMgPiAwKSB7XG4gICAgICByW2krK10gPSBjO1xuICAgIH1cbiAgICByLnQgPSBpO1xuICAgIHIuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlUbyA9IGJucE11bHRpcGx5VG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzICogYSwgciAhPSB0aGlzLGEgKEhBQyAxNC4xMilcbiAgLy8gXCJ0aGlzXCIgc2hvdWxkIGJlIHRoZSBsYXJnZXIgb25lIGlmIGFwcHJvcHJpYXRlLlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseVRvID0gZnVuY3Rpb24gKGEsIHIpIHtcbiAgICB2YXIgeCA9IHRoaXMuYWJzKCk7XG4gICAgdmFyIHkgPSBhLmFicygpO1xuICAgIHZhciBpID0geC50O1xuICAgIHIudCA9IGkgKyB5LnQ7XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICByW2ldID0gMDtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHkudDsgKytpKSB7XG4gICAgICByW2kgKyB4LnRdID0geC5hbSgwLCB5W2ldLCByLCBpLCAwLCB4LnQpO1xuICAgIH1cbiAgICByLnMgPSAwO1xuICAgIHIuY2xhbXAoKTtcbiAgICBpZiAodGhpcy5zICE9IGEucykge1xuICAgICAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIsIHIpO1xuICAgIH1cbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlVG8gPSBibnBTcXVhcmVUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXNeMiwgciAhPSB0aGlzIChIQUMgMTQuMTYpXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLnNxdWFyZVRvID0gZnVuY3Rpb24gKHIpIHtcbiAgICB2YXIgeCA9IHRoaXMuYWJzKCk7XG4gICAgdmFyIGkgPSByLnQgPSAyICogeC50O1xuICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgcltpXSA9IDA7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB4LnQgLSAxOyArK2kpIHtcbiAgICAgIHZhciBjID0geC5hbShpLCB4W2ldLCByLCAyICogaSwgMCwgMSk7XG4gICAgICBpZiAoKHJbaSArIHgudF0gKz0geC5hbShpICsgMSwgMiAqIHhbaV0sIHIsIDIgKiBpICsgMSwgYywgeC50IC0gaSAtIDEpKSA+PSB4LkRWKSB7XG4gICAgICAgIHJbaSArIHgudF0gLT0geC5EVjtcbiAgICAgICAgcltpICsgeC50ICsgMV0gPSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoci50ID4gMCkge1xuICAgICAgcltyLnQgLSAxXSArPSB4LmFtKGksIHhbaV0sIHIsIDIgKiBpLCAwLCAxKTtcbiAgICB9XG4gICAgci5zID0gMDtcbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdlJlbVRvID0gYm5wRGl2UmVtVG87XG4gIC8vIChwcm90ZWN0ZWQpIGRpdmlkZSB0aGlzIGJ5IG0sIHF1b3RpZW50IGFuZCByZW1haW5kZXIgdG8gcSwgciAoSEFDIDE0LjIwKVxuICAvLyByICE9IHEsIHRoaXMgIT0gbS4gIHEgb3IgciBtYXkgYmUgbnVsbC5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG8gPSBmdW5jdGlvbiAobSwgcSwgcikge1xuICAgIHZhciBwbSA9IG0uYWJzKCk7XG4gICAgaWYgKHBtLnQgPD0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHQgPSB0aGlzLmFicygpO1xuICAgIGlmIChwdC50IDwgcG0udCkge1xuICAgICAgaWYgKHEgIT0gbnVsbCkge1xuICAgICAgICBxLmZyb21JbnQoMCk7XG4gICAgICB9XG4gICAgICBpZiAociAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuY29weVRvKHIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAociA9PSBudWxsKSB7XG4gICAgICByID0gbmJpKCk7XG4gICAgfVxuICAgIHZhciB5ID0gbmJpKCk7XG4gICAgdmFyIHRzID0gdGhpcy5zO1xuICAgIHZhciBtcyA9IG0ucztcbiAgICB2YXIgbnNoID0gdGhpcy5EQiAtIG5iaXRzKHBtW3BtLnQgLSAxXSk7IC8vIG5vcm1hbGl6ZSBtb2R1bHVzXG4gICAgaWYgKG5zaCA+IDApIHtcbiAgICAgIHBtLmxTaGlmdFRvKG5zaCwgeSk7XG4gICAgICBwdC5sU2hpZnRUbyhuc2gsIHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbS5jb3B5VG8oeSk7XG4gICAgICBwdC5jb3B5VG8ocik7XG4gICAgfVxuICAgIHZhciB5cyA9IHkudDtcbiAgICB2YXIgeTAgPSB5W3lzIC0gMV07XG4gICAgaWYgKHkwID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHl0ID0geTAgKiAoMSA8PCB0aGlzLkYxKSArICh5cyA+IDEgPyB5W3lzIC0gMl0gPj4gdGhpcy5GMiA6IDApO1xuICAgIHZhciBkMSA9IHRoaXMuRlYgLyB5dDtcbiAgICB2YXIgZDIgPSAoMSA8PCB0aGlzLkYxKSAvIHl0O1xuICAgIHZhciBlID0gMSA8PCB0aGlzLkYyO1xuICAgIHZhciBpID0gci50O1xuICAgIHZhciBqID0gaSAtIHlzO1xuICAgIHZhciB0ID0gcSA9PSBudWxsID8gbmJpKCkgOiBxO1xuICAgIHkuZGxTaGlmdFRvKGosIHQpO1xuICAgIGlmIChyLmNvbXBhcmVUbyh0KSA+PSAwKSB7XG4gICAgICByW3IudCsrXSA9IDE7XG4gICAgICByLnN1YlRvKHQsIHIpO1xuICAgIH1cbiAgICBCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oeXMsIHQpO1xuICAgIHQuc3ViVG8oeSwgeSk7IC8vIFwibmVnYXRpdmVcIiB5IHNvIHdlIGNhbiByZXBsYWNlIHN1YiB3aXRoIGFtIGxhdGVyXG4gICAgd2hpbGUgKHkudCA8IHlzKSB7XG4gICAgICB5W3kudCsrXSA9IDA7XG4gICAgfVxuICAgIHdoaWxlICgtLWogPj0gMCkge1xuICAgICAgLy8gRXN0aW1hdGUgcXVvdGllbnQgZGlnaXRcbiAgICAgIHZhciBxZCA9IHJbLS1pXSA9PSB5MCA/IHRoaXMuRE0gOiBNYXRoLmZsb29yKHJbaV0gKiBkMSArIChyW2kgLSAxXSArIGUpICogZDIpO1xuICAgICAgaWYgKChyW2ldICs9IHkuYW0oMCwgcWQsIHIsIGosIDAsIHlzKSkgPCBxZCkge1xuICAgICAgICAvLyBUcnkgaXQgb3V0XG4gICAgICAgIHkuZGxTaGlmdFRvKGosIHQpO1xuICAgICAgICByLnN1YlRvKHQsIHIpO1xuICAgICAgICB3aGlsZSAocltpXSA8IC0tcWQpIHtcbiAgICAgICAgICByLnN1YlRvKHQsIHIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChxICE9IG51bGwpIHtcbiAgICAgIHIuZHJTaGlmdFRvKHlzLCBxKTtcbiAgICAgIGlmICh0cyAhPSBtcykge1xuICAgICAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8ocSwgcSk7XG4gICAgICB9XG4gICAgfVxuICAgIHIudCA9IHlzO1xuICAgIHIuY2xhbXAoKTtcbiAgICBpZiAobnNoID4gMCkge1xuICAgICAgci5yU2hpZnRUbyhuc2gsIHIpO1xuICAgIH0gLy8gRGVub3JtYWxpemUgcmVtYWluZGVyXG4gICAgaWYgKHRzIDwgMCkge1xuICAgICAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIsIHIpO1xuICAgIH1cbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuaW52RGlnaXQgPSBibnBJbnZEaWdpdDtcbiAgLy8gKHByb3RlY3RlZCkgcmV0dXJuIFwiLTEvdGhpcyAlIDJeREJcIjsgdXNlZnVsIGZvciBNb250LiByZWR1Y3Rpb25cbiAgLy8ganVzdGlmaWNhdGlvbjpcbiAgLy8gICAgICAgICB4eSA9PSAxIChtb2QgbSlcbiAgLy8gICAgICAgICB4eSA9ICAxK2ttXG4gIC8vICAgeHkoMi14eSkgPSAoMStrbSkoMS1rbSlcbiAgLy8geFt5KDIteHkpXSA9IDEta14ybV4yXG4gIC8vIHhbeSgyLXh5KV0gPT0gMSAobW9kIG1eMilcbiAgLy8gaWYgeSBpcyAxL3ggbW9kIG0sIHRoZW4geSgyLXh5KSBpcyAxL3ggbW9kIG1eMlxuICAvLyBzaG91bGQgcmVkdWNlIHggYW5kIHkoMi14eSkgYnkgbV4yIGF0IGVhY2ggc3RlcCB0byBrZWVwIHNpemUgYm91bmRlZC5cbiAgLy8gSlMgbXVsdGlwbHkgXCJvdmVyZmxvd3NcIiBkaWZmZXJlbnRseSBmcm9tIEMvQysrLCBzbyBjYXJlIGlzIG5lZWRlZCBoZXJlLlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnZEaWdpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50IDwgMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciB4ID0gdGhpc1swXTtcbiAgICBpZiAoKHggJiAxKSA9PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIHkgPSB4ICYgMzsgLy8geSA9PSAxL3ggbW9kIDJeMlxuICAgIHkgPSB5ICogKDIgLSAoeCAmIDB4ZikgKiB5KSAmIDB4ZjsgLy8geSA9PSAxL3ggbW9kIDJeNFxuICAgIHkgPSB5ICogKDIgLSAoeCAmIDB4ZmYpICogeSkgJiAweGZmOyAvLyB5ID09IDEveCBtb2QgMl44XG4gICAgeSA9IHkgKiAoMiAtICgoeCAmIDB4ZmZmZikgKiB5ICYgMHhmZmZmKSkgJiAweGZmZmY7IC8vIHkgPT0gMS94IG1vZCAyXjE2XG4gICAgLy8gbGFzdCBzdGVwIC0gY2FsY3VsYXRlIGludmVyc2UgbW9kIERWIGRpcmVjdGx5O1xuICAgIC8vIGFzc3VtZXMgMTYgPCBEQiA8PSAzMiBhbmQgYXNzdW1lcyBhYmlsaXR5IHRvIGhhbmRsZSA0OC1iaXQgaW50c1xuICAgIHkgPSB5ICogKDIgLSB4ICogeSAlIHRoaXMuRFYpICUgdGhpcy5EVjsgLy8geSA9PSAxL3ggbW9kIDJeZGJpdHNcbiAgICAvLyB3ZSByZWFsbHkgd2FudCB0aGUgbmVnYXRpdmUgaW52ZXJzZSwgYW5kIC1EViA8IHkgPCBEVlxuICAgIHJldHVybiB5ID4gMCA/IHRoaXMuRFYgLSB5IDogLXk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmlzRXZlbiA9IGJucElzRXZlbjtcbiAgLy8gKHByb3RlY3RlZCkgdHJ1ZSBpZmYgdGhpcyBpcyBldmVuXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMudCA+IDAgPyB0aGlzWzBdICYgMSA6IHRoaXMucykgPT0gMDtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZXhwID0gYm5wRXhwO1xuICAvLyAocHJvdGVjdGVkKSB0aGlzXmUsIGUgPCAyXjMyLCBkb2luZyBzcXIgYW5kIG11bCB3aXRoIFwiclwiIChIQUMgMTQuNzkpXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChlLCB6KSB7XG4gICAgaWYgKGUgPiAweGZmZmZmZmZmIHx8IGUgPCAxKSB7XG4gICAgICByZXR1cm4gQmlnSW50ZWdlci5PTkU7XG4gICAgfVxuICAgIHZhciByID0gbmJpKCk7XG4gICAgdmFyIHIyID0gbmJpKCk7XG4gICAgdmFyIGcgPSB6LmNvbnZlcnQodGhpcyk7XG4gICAgdmFyIGkgPSBuYml0cyhlKSAtIDE7XG4gICAgZy5jb3B5VG8ocik7XG4gICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICB6LnNxclRvKHIsIHIyKTtcbiAgICAgIGlmICgoZSAmIDEgPDwgaSkgPiAwKSB7XG4gICAgICAgIHoubXVsVG8ocjIsIGcsIHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHQgPSByO1xuICAgICAgICByID0gcjI7XG4gICAgICAgIHIyID0gdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHoucmV2ZXJ0KHIpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaHVua1NpemUgPSBibnBDaHVua1NpemU7XG4gIC8vIChwcm90ZWN0ZWQpIHJldHVybiB4IHMudC4gcl54IDwgRFZcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2h1bmtTaXplID0gZnVuY3Rpb24gKHIpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLkxOMiAqIHRoaXMuREIgLyBNYXRoLmxvZyhyKSk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnRvUmFkaXggPSBibnBUb1JhZGl4O1xuICAvLyAocHJvdGVjdGVkKSBjb252ZXJ0IHRvIHJhZGl4IHN0cmluZ1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1JhZGl4ID0gZnVuY3Rpb24gKGIpIHtcbiAgICBpZiAoYiA9PSBudWxsKSB7XG4gICAgICBiID0gMTA7XG4gICAgfVxuICAgIGlmICh0aGlzLnNpZ251bSgpID09IDAgfHwgYiA8IDIgfHwgYiA+IDM2KSB7XG4gICAgICByZXR1cm4gXCIwXCI7XG4gICAgfVxuICAgIHZhciBjcyA9IHRoaXMuY2h1bmtTaXplKGIpO1xuICAgIHZhciBhID0gTWF0aC5wb3coYiwgY3MpO1xuICAgIHZhciBkID0gbmJ2KGEpO1xuICAgIHZhciB5ID0gbmJpKCk7XG4gICAgdmFyIHogPSBuYmkoKTtcbiAgICB2YXIgciA9IFwiXCI7XG4gICAgdGhpcy5kaXZSZW1UbyhkLCB5LCB6KTtcbiAgICB3aGlsZSAoeS5zaWdudW0oKSA+IDApIHtcbiAgICAgIHIgPSAoYSArIHouaW50VmFsdWUoKSkudG9TdHJpbmcoYikuc3Vic3RyKDEpICsgcjtcbiAgICAgIHkuZGl2UmVtVG8oZCwgeSwgeik7XG4gICAgfVxuICAgIHJldHVybiB6LmludFZhbHVlKCkudG9TdHJpbmcoYikgKyByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tUmFkaXggPSBibnBGcm9tUmFkaXg7XG4gIC8vIChwcm90ZWN0ZWQpIGNvbnZlcnQgZnJvbSByYWRpeCBzdHJpbmdcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVJhZGl4ID0gZnVuY3Rpb24gKHMsIGIpIHtcbiAgICB0aGlzLmZyb21JbnQoMCk7XG4gICAgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgYiA9IDEwO1xuICAgIH1cbiAgICB2YXIgY3MgPSB0aGlzLmNodW5rU2l6ZShiKTtcbiAgICB2YXIgZCA9IE1hdGgucG93KGIsIGNzKTtcbiAgICB2YXIgbWkgPSBmYWxzZTtcbiAgICB2YXIgaiA9IDA7XG4gICAgdmFyIHcgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHggPSBpbnRBdChzLCBpKTtcbiAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICBpZiAocy5jaGFyQXQoaSkgPT0gXCItXCIgJiYgdGhpcy5zaWdudW0oKSA9PSAwKSB7XG4gICAgICAgICAgbWkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdyA9IGIgKiB3ICsgeDtcbiAgICAgIGlmICgrK2ogPj0gY3MpIHtcbiAgICAgICAgdGhpcy5kTXVsdGlwbHkoZCk7XG4gICAgICAgIHRoaXMuZEFkZE9mZnNldCh3LCAwKTtcbiAgICAgICAgaiA9IDA7XG4gICAgICAgIHcgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaiA+IDApIHtcbiAgICAgIHRoaXMuZE11bHRpcGx5KE1hdGgucG93KGIsIGopKTtcbiAgICAgIHRoaXMuZEFkZE9mZnNldCh3LCAwKTtcbiAgICB9XG4gICAgaWYgKG1pKSB7XG4gICAgICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tTnVtYmVyID0gYm5wRnJvbU51bWJlcjtcbiAgLy8gKHByb3RlY3RlZCkgYWx0ZXJuYXRlIGNvbnN0cnVjdG9yXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21OdW1iZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBiKSB7XG4gICAgICAvLyBuZXcgQmlnSW50ZWdlcihpbnQsaW50LFJORylcbiAgICAgIGlmIChhIDwgMikge1xuICAgICAgICB0aGlzLmZyb21JbnQoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyb21OdW1iZXIoYSwgYyk7XG4gICAgICAgIGlmICghdGhpcy50ZXN0Qml0KGEgLSAxKSkge1xuICAgICAgICAgIC8vIGZvcmNlIE1TQiBzZXRcbiAgICAgICAgICB0aGlzLmJpdHdpc2VUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYSAtIDEpLCBfdXRpbC5vcF9vciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNFdmVuKCkpIHtcbiAgICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMSwgMCk7XG4gICAgICAgIH0gLy8gZm9yY2Ugb2RkXG4gICAgICAgIHdoaWxlICghdGhpcy5pc1Byb2JhYmxlUHJpbWUoYikpIHtcbiAgICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMiwgMCk7XG4gICAgICAgICAgaWYgKHRoaXMuYml0TGVuZ3RoKCkgPiBhKSB7XG4gICAgICAgICAgICB0aGlzLnN1YlRvKEJpZ0ludGVnZXIuT05FLnNoaWZ0TGVmdChhIC0gMSksIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBuZXcgQmlnSW50ZWdlcihpbnQsUk5HKVxuICAgICAgdmFyIHggPSBbXTtcbiAgICAgIHZhciB0ID0gYSAmIDc7XG4gICAgICB4Lmxlbmd0aCA9IChhID4+IDMpICsgMTtcbiAgICAgIGIubmV4dEJ5dGVzKHgpO1xuICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgIHhbMF0gJj0gKDEgPDwgdCkgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeFswXSA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLmZyb21TdHJpbmcoeCwgMjU2KTtcbiAgICB9XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdHdpc2VUbyA9IGJucEJpdHdpc2VUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgb3AgYSAoYml0d2lzZSlcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYml0d2lzZVRvID0gZnVuY3Rpb24gKGEsIG9wLCByKSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIGY7XG4gICAgdmFyIG0gPSBNYXRoLm1pbihhLnQsIHRoaXMudCk7XG4gICAgZm9yIChpID0gMDsgaSA8IG07ICsraSkge1xuICAgICAgcltpXSA9IG9wKHRoaXNbaV0sIGFbaV0pO1xuICAgIH1cbiAgICBpZiAoYS50IDwgdGhpcy50KSB7XG4gICAgICBmID0gYS5zICYgdGhpcy5ETTtcbiAgICAgIGZvciAoaSA9IG07IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgICByW2ldID0gb3AodGhpc1tpXSwgZik7XG4gICAgICB9XG4gICAgICByLnQgPSB0aGlzLnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGYgPSB0aGlzLnMgJiB0aGlzLkRNO1xuICAgICAgZm9yIChpID0gbTsgaSA8IGEudDsgKytpKSB7XG4gICAgICAgIHJbaV0gPSBvcChmLCBhW2ldKTtcbiAgICAgIH1cbiAgICAgIHIudCA9IGEudDtcbiAgICB9XG4gICAgci5zID0gb3AodGhpcy5zLCBhLnMpO1xuICAgIHIuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY2hhbmdlQml0ID0gYm5wQ2hhbmdlQml0O1xuICAvLyAocHJvdGVjdGVkKSB0aGlzIG9wICgxPDxuKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaGFuZ2VCaXQgPSBmdW5jdGlvbiAobiwgb3ApIHtcbiAgICB2YXIgciA9IEJpZ0ludGVnZXIuT05FLnNoaWZ0TGVmdChuKTtcbiAgICB0aGlzLmJpdHdpc2VUbyhyLCBvcCwgcik7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFkZFRvID0gYm5wQWRkVG87XG4gIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzICsgYVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGRUbyA9IGZ1bmN0aW9uIChhLCByKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBjID0gMDtcbiAgICB2YXIgbSA9IE1hdGgubWluKGEudCwgdGhpcy50KTtcbiAgICB3aGlsZSAoaSA8IG0pIHtcbiAgICAgIGMgKz0gdGhpc1tpXSArIGFbaV07XG4gICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgfVxuICAgIGlmIChhLnQgPCB0aGlzLnQpIHtcbiAgICAgIGMgKz0gYS5zO1xuICAgICAgd2hpbGUgKGkgPCB0aGlzLnQpIHtcbiAgICAgICAgYyArPSB0aGlzW2ldO1xuICAgICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICAgIH1cbiAgICAgIGMgKz0gdGhpcy5zO1xuICAgIH0gZWxzZSB7XG4gICAgICBjICs9IHRoaXMucztcbiAgICAgIHdoaWxlIChpIDwgYS50KSB7XG4gICAgICAgIGMgKz0gYVtpXTtcbiAgICAgICAgcltpKytdID0gYyAmIHRoaXMuRE07XG4gICAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgICB9XG4gICAgICBjICs9IGEucztcbiAgICB9XG4gICAgci5zID0gYyA8IDAgPyAtMSA6IDA7XG4gICAgaWYgKGMgPiAwKSB7XG4gICAgICByW2krK10gPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA8IC0xKSB7XG4gICAgICByW2krK10gPSB0aGlzLkRWICsgYztcbiAgICB9XG4gICAgci50ID0gaTtcbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRNdWx0aXBseSA9IGJucERNdWx0aXBseTtcbiAgLy8gKHByb3RlY3RlZCkgdGhpcyAqPSBuLCB0aGlzID49IDAsIDEgPCBuIDwgRFZcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZE11bHRpcGx5ID0gZnVuY3Rpb24gKG4pIHtcbiAgICB0aGlzW3RoaXMudF0gPSB0aGlzLmFtKDAsIG4gLSAxLCB0aGlzLCAwLCAwLCB0aGlzLnQpO1xuICAgICsrdGhpcy50O1xuICAgIHRoaXMuY2xhbXAoKTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZEFkZE9mZnNldCA9IGJucERBZGRPZmZzZXQ7XG4gIC8vIChwcm90ZWN0ZWQpIHRoaXMgKz0gbiA8PCB3IHdvcmRzLCB0aGlzID49IDBcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZEFkZE9mZnNldCA9IGZ1bmN0aW9uIChuLCB3KSB7XG4gICAgaWYgKG4gPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aGlsZSAodGhpcy50IDw9IHcpIHtcbiAgICAgIHRoaXNbdGhpcy50KytdID0gMDtcbiAgICB9XG4gICAgdGhpc1t3XSArPSBuO1xuICAgIHdoaWxlICh0aGlzW3ddID49IHRoaXMuRFYpIHtcbiAgICAgIHRoaXNbd10gLT0gdGhpcy5EVjtcbiAgICAgIGlmICgrK3cgPj0gdGhpcy50KSB7XG4gICAgICAgIHRoaXNbdGhpcy50KytdID0gMDtcbiAgICAgIH1cbiAgICAgICsrdGhpc1t3XTtcbiAgICB9XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbyA9IGJucE11bHRpcGx5TG93ZXJUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IGxvd2VyIG4gd29yZHMgb2YgXCJ0aGlzICogYVwiLCBhLnQgPD0gblxuICAvLyBcInRoaXNcIiBzaG91bGQgYmUgdGhlIGxhcmdlciBvbmUgaWYgYXBwcm9wcmlhdGUuXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbyA9IGZ1bmN0aW9uIChhLCBuLCByKSB7XG4gICAgdmFyIGkgPSBNYXRoLm1pbih0aGlzLnQgKyBhLnQsIG4pO1xuICAgIHIucyA9IDA7IC8vIGFzc3VtZXMgYSx0aGlzID49IDBcbiAgICByLnQgPSBpO1xuICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgclstLWldID0gMDtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IHIudCAtIHRoaXMudDsgaSA8IGo7ICsraSkge1xuICAgICAgcltpICsgdGhpcy50XSA9IHRoaXMuYW0oMCwgYVtpXSwgciwgaSwgMCwgdGhpcy50KTtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IE1hdGgubWluKGEudCwgbik7IGkgPCBqOyArK2kpIHtcbiAgICAgIHRoaXMuYW0oMCwgYVtpXSwgciwgaSwgMCwgbiAtIGkpO1xuICAgIH1cbiAgICByLmNsYW1wKCk7XG4gIH07XG4gIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5VXBwZXJUbyA9IGJucE11bHRpcGx5VXBwZXJUbztcbiAgLy8gKHByb3RlY3RlZCkgciA9IFwidGhpcyAqIGFcIiB3aXRob3V0IGxvd2VyIG4gd29yZHMsIG4gPiAwXG4gIC8vIFwidGhpc1wiIHNob3VsZCBiZSB0aGUgbGFyZ2VyIG9uZSBpZiBhcHByb3ByaWF0ZS5cbiAgQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlVcHBlclRvID0gZnVuY3Rpb24gKGEsIG4sIHIpIHtcbiAgICAtLW47XG4gICAgdmFyIGkgPSByLnQgPSB0aGlzLnQgKyBhLnQgLSBuO1xuICAgIHIucyA9IDA7IC8vIGFzc3VtZXMgYSx0aGlzID49IDBcbiAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgIHJbaV0gPSAwO1xuICAgIH1cbiAgICBmb3IgKGkgPSBNYXRoLm1heChuIC0gdGhpcy50LCAwKTsgaSA8IGEudDsgKytpKSB7XG4gICAgICByW3RoaXMudCArIGkgLSBuXSA9IHRoaXMuYW0obiAtIGksIGFbaV0sIHIsIDAsIDAsIHRoaXMudCArIGkgLSBuKTtcbiAgICB9XG4gICAgci5jbGFtcCgpO1xuICAgIHIuZHJTaGlmdFRvKDEsIHIpO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnQgPSBibnBNb2RJbnQ7XG4gIC8vIChwcm90ZWN0ZWQpIHRoaXMgJSBuLCBuIDwgMl4yNlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnQgPSBmdW5jdGlvbiAobikge1xuICAgIGlmIChuIDw9IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgZCA9IHRoaXMuRFYgJSBuO1xuICAgIHZhciByID0gdGhpcy5zIDwgMCA/IG4gLSAxIDogMDtcbiAgICBpZiAodGhpcy50ID4gMCkge1xuICAgICAgaWYgKGQgPT0gMCkge1xuICAgICAgICByID0gdGhpc1swXSAlIG47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50IC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICByID0gKGQgKiByICsgdGhpc1tpXSkgJSBuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5taWxsZXJSYWJpbiA9IGJucE1pbGxlclJhYmluO1xuICAvLyAocHJvdGVjdGVkKSB0cnVlIGlmIHByb2JhYmx5IHByaW1lIChIQUMgNC4yNCwgTWlsbGVyLVJhYmluKVxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5taWxsZXJSYWJpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIG4xID0gdGhpcy5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSk7XG4gICAgdmFyIGsgPSBuMS5nZXRMb3dlc3RTZXRCaXQoKTtcbiAgICBpZiAoayA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByID0gbjEuc2hpZnRSaWdodChrKTtcbiAgICB0ID0gdCArIDEgPj4gMTtcbiAgICBpZiAodCA+IGxvd3ByaW1lcy5sZW5ndGgpIHtcbiAgICAgIHQgPSBsb3dwcmltZXMubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYSA9IG5iaSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdDsgKytpKSB7XG4gICAgICAvLyBQaWNrIGJhc2VzIGF0IHJhbmRvbSwgaW5zdGVhZCBvZiBzdGFydGluZyBhdCAyXG4gICAgICBhLmZyb21JbnQobG93cHJpbWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxvd3ByaW1lcy5sZW5ndGgpXSk7XG4gICAgICB2YXIgeSA9IGEubW9kUG93KHIsIHRoaXMpO1xuICAgICAgaWYgKHkuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSAhPSAwICYmIHkuY29tcGFyZVRvKG4xKSAhPSAwKSB7XG4gICAgICAgIHZhciBqID0gMTtcbiAgICAgICAgd2hpbGUgKGorKyA8IGsgJiYgeS5jb21wYXJlVG8objEpICE9IDApIHtcbiAgICAgICAgICB5ID0geS5tb2RQb3dJbnQoMiwgdGhpcyk7XG4gICAgICAgICAgaWYgKHkuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh5LmNvbXBhcmVUbyhuMSkgIT0gMCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlID0gYm5TcXVhcmU7XG4gIC8vIChwdWJsaWMpIHRoaXNeMlxuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB0aGlzLnNxdWFyZVRvKHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyNyZWdpb24gQVNZTkNcbiAgLy8gUHVibGljIEFQSSBtZXRob2RcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuZ2NkYSA9IGZ1bmN0aW9uIChhLCBjYWxsYmFjaykge1xuICAgIHZhciB4ID0gdGhpcy5zIDwgMCA/IHRoaXMubmVnYXRlKCkgOiB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHkgPSBhLnMgPCAwID8gYS5uZWdhdGUoKSA6IGEuY2xvbmUoKTtcbiAgICBpZiAoeC5jb21wYXJlVG8oeSkgPCAwKSB7XG4gICAgICB2YXIgdCA9IHg7XG4gICAgICB4ID0geTtcbiAgICAgIHkgPSB0O1xuICAgIH1cbiAgICB2YXIgaSA9IHguZ2V0TG93ZXN0U2V0Qml0KCk7XG4gICAgdmFyIGcgPSB5LmdldExvd2VzdFNldEJpdCgpO1xuICAgIGlmIChnIDwgMCkge1xuICAgICAgY2FsbGJhY2soeCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpIDwgZykge1xuICAgICAgZyA9IGk7XG4gICAgfVxuICAgIGlmIChnID4gMCkge1xuICAgICAgeC5yU2hpZnRUbyhnLCB4KTtcbiAgICAgIHkuclNoaWZ0VG8oZywgeSk7XG4gICAgfVxuICAgIC8vIFdvcmtob3JzZSBvZiB0aGUgYWxnb3JpdGhtLCBnZXRzIGNhbGxlZCAyMDAgLSA4MDAgdGltZXMgcGVyIDUxMiBiaXQga2V5Z2VuLlxuICAgIHZhciBnY2RhMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgoaSA9IHguZ2V0TG93ZXN0U2V0Qml0KCkpID4gMCkge1xuICAgICAgICB4LnJTaGlmdFRvKGksIHgpO1xuICAgICAgfVxuICAgICAgaWYgKChpID0geS5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwKSB7XG4gICAgICAgIHkuclNoaWZ0VG8oaSwgeSk7XG4gICAgICB9XG4gICAgICBpZiAoeC5jb21wYXJlVG8oeSkgPj0gMCkge1xuICAgICAgICB4LnN1YlRvKHksIHgpO1xuICAgICAgICB4LnJTaGlmdFRvKDEsIHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeS5zdWJUbyh4LCB5KTtcbiAgICAgICAgeS5yU2hpZnRUbygxLCB5KTtcbiAgICAgIH1cbiAgICAgIGlmICghKHguc2lnbnVtKCkgPiAwKSkge1xuICAgICAgICBpZiAoZyA+IDApIHtcbiAgICAgICAgICB5LmxTaGlmdFRvKGcsIHkpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhbGxiYWNrKHkpO1xuICAgICAgICB9LCAwKTsgLy8gZXNjYXBlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KGdjZGExLCAwKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNldFRpbWVvdXQoZ2NkYTEsIDEwKTtcbiAgfTtcbiAgLy8gKHByb3RlY3RlZCkgYWx0ZXJuYXRlIGNvbnN0cnVjdG9yXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21OdW1iZXJBc3luYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBjYWxsYmFjaykge1xuICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBiKSB7XG4gICAgICBpZiAoYSA8IDIpIHtcbiAgICAgICAgdGhpcy5mcm9tSW50KDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mcm9tTnVtYmVyKGEsIGMpO1xuICAgICAgICBpZiAoIXRoaXMudGVzdEJpdChhIC0gMSkpIHtcbiAgICAgICAgICB0aGlzLmJpdHdpc2VUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYSAtIDEpLCBfdXRpbC5vcF9vciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNFdmVuKCkpIHtcbiAgICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJucF8xID0gdGhpcztcbiAgICAgICAgdmFyIGJucGZuMV8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGJucF8xLmRBZGRPZmZzZXQoMiwgMCk7XG4gICAgICAgICAgaWYgKGJucF8xLmJpdExlbmd0aCgpID4gYSkge1xuICAgICAgICAgICAgYm5wXzEuc3ViVG8oQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGEgLSAxKSwgYm5wXzEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYm5wXzEuaXNQcm9iYWJsZVByaW1lKGIpKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0sIDApOyAvLyBlc2NhcGVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChibnBmbjFfMSwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KGJucGZuMV8xLCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHggPSBbXTtcbiAgICAgIHZhciB0ID0gYSAmIDc7XG4gICAgICB4Lmxlbmd0aCA9IChhID4+IDMpICsgMTtcbiAgICAgIGIubmV4dEJ5dGVzKHgpO1xuICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgIHhbMF0gJj0gKDEgPDwgdCkgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeFswXSA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLmZyb21TdHJpbmcoeCwgMjU2KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBCaWdJbnRlZ2VyO1xufSgpO1xuLy8jcmVnaW9uIFJFRFVDRVJTXG4vLyNyZWdpb24gTnVsbEV4cFxudmFyIE51bGxFeHAgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBOdWxsRXhwKCkge31cbiAgLy8gTnVsbEV4cC5wcm90b3R5cGUuY29udmVydCA9IG5Ob3A7XG4gIE51bGxFeHAucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xuICAvLyBOdWxsRXhwLnByb3RvdHlwZS5yZXZlcnQgPSBuTm9wO1xuICBOdWxsRXhwLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xuICAvLyBOdWxsRXhwLnByb3RvdHlwZS5tdWxUbyA9IG5NdWxUbztcbiAgTnVsbEV4cC5wcm90b3R5cGUubXVsVG8gPSBmdW5jdGlvbiAoeCwgeSwgcikge1xuICAgIHgubXVsdGlwbHlUbyh5LCByKTtcbiAgfTtcbiAgLy8gTnVsbEV4cC5wcm90b3R5cGUuc3FyVG8gPSBuU3FyVG87XG4gIE51bGxFeHAucHJvdG90eXBlLnNxclRvID0gZnVuY3Rpb24gKHgsIHIpIHtcbiAgICB4LnNxdWFyZVRvKHIpO1xuICB9O1xuICByZXR1cm4gTnVsbEV4cDtcbn0oKTtcbi8vIE1vZHVsYXIgcmVkdWN0aW9uIHVzaW5nIFwiY2xhc3NpY1wiIGFsZ29yaXRobVxudmFyIENsYXNzaWMgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDbGFzc2ljKG0pIHtcbiAgICB0aGlzLm0gPSBtO1xuICB9XG4gIC8vIENsYXNzaWMucHJvdG90eXBlLmNvbnZlcnQgPSBjQ29udmVydDtcbiAgQ2xhc3NpYy5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgaWYgKHgucyA8IDAgfHwgeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB7XG4gICAgICByZXR1cm4geC5tb2QodGhpcy5tKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICAvLyBDbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQgPSBjUmV2ZXJ0O1xuICBDbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xuICAvLyBDbGFzc2ljLnByb3RvdHlwZS5yZWR1Y2UgPSBjUmVkdWNlO1xuICBDbGFzc2ljLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoeCkge1xuICAgIHguZGl2UmVtVG8odGhpcy5tLCBudWxsLCB4KTtcbiAgfTtcbiAgLy8gQ2xhc3NpYy5wcm90b3R5cGUubXVsVG8gPSBjTXVsVG87XG4gIENsYXNzaWMucHJvdG90eXBlLm11bFRvID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICB4Lm11bHRpcGx5VG8oeSwgcik7XG4gICAgdGhpcy5yZWR1Y2Uocik7XG4gIH07XG4gIC8vIENsYXNzaWMucHJvdG90eXBlLnNxclRvID0gY1NxclRvO1xuICBDbGFzc2ljLnByb3RvdHlwZS5zcXJUbyA9IGZ1bmN0aW9uICh4LCByKSB7XG4gICAgeC5zcXVhcmVUbyhyKTtcbiAgICB0aGlzLnJlZHVjZShyKTtcbiAgfTtcbiAgcmV0dXJuIENsYXNzaWM7XG59KCk7XG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBNb250Z29tZXJ5XG4vLyBNb250Z29tZXJ5IHJlZHVjdGlvblxudmFyIE1vbnRnb21lcnkgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNb250Z29tZXJ5KG0pIHtcbiAgICB0aGlzLm0gPSBtO1xuICAgIHRoaXMubXAgPSBtLmludkRpZ2l0KCk7XG4gICAgdGhpcy5tcGwgPSB0aGlzLm1wICYgMHg3ZmZmO1xuICAgIHRoaXMubXBoID0gdGhpcy5tcCA+PiAxNTtcbiAgICB0aGlzLnVtID0gKDEgPDwgbS5EQiAtIDE1KSAtIDE7XG4gICAgdGhpcy5tdDIgPSAyICogbS50O1xuICB9XG4gIC8vIE1vbnRnb21lcnkucHJvdG90eXBlLmNvbnZlcnQgPSBtb250Q29udmVydDtcbiAgLy8geFIgbW9kIG1cbiAgTW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgdmFyIHIgPSBuYmkoKTtcbiAgICB4LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCwgcik7XG4gICAgci5kaXZSZW1Ubyh0aGlzLm0sIG51bGwsIHIpO1xuICAgIGlmICh4LnMgPCAwICYmIHIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTykgPiAwKSB7XG4gICAgICB0aGlzLm0uc3ViVG8ociwgcik7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5yZXZlcnQgPSBtb250UmV2ZXJ0O1xuICAvLyB4L1IgbW9kIG1cbiAgTW9udGdvbWVyeS5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICB2YXIgciA9IG5iaSgpO1xuICAgIHguY29weVRvKHIpO1xuICAgIHRoaXMucmVkdWNlKHIpO1xuICAgIHJldHVybiByO1xuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5yZWR1Y2UgPSBtb250UmVkdWNlO1xuICAvLyB4ID0geC9SIG1vZCBtIChIQUMgMTQuMzIpXG4gIE1vbnRnb21lcnkucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgd2hpbGUgKHgudCA8PSB0aGlzLm10Mikge1xuICAgICAgLy8gcGFkIHggc28gYW0gaGFzIGVub3VnaCByb29tIGxhdGVyXG4gICAgICB4W3gudCsrXSA9IDA7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tLnQ7ICsraSkge1xuICAgICAgLy8gZmFzdGVyIHdheSBvZiBjYWxjdWxhdGluZyB1MCA9IHhbaV0qbXAgbW9kIERWXG4gICAgICB2YXIgaiA9IHhbaV0gJiAweDdmZmY7XG4gICAgICB2YXIgdTAgPSBqICogdGhpcy5tcGwgKyAoKGogKiB0aGlzLm1waCArICh4W2ldID4+IDE1KSAqIHRoaXMubXBsICYgdGhpcy51bSkgPDwgMTUpICYgeC5ETTtcbiAgICAgIC8vIHVzZSBhbSB0byBjb21iaW5lIHRoZSBtdWx0aXBseS1zaGlmdC1hZGQgaW50byBvbmUgY2FsbFxuICAgICAgaiA9IGkgKyB0aGlzLm0udDtcbiAgICAgIHhbal0gKz0gdGhpcy5tLmFtKDAsIHUwLCB4LCBpLCAwLCB0aGlzLm0udCk7XG4gICAgICAvLyBwcm9wYWdhdGUgY2FycnlcbiAgICAgIHdoaWxlICh4W2pdID49IHguRFYpIHtcbiAgICAgICAgeFtqXSAtPSB4LkRWO1xuICAgICAgICB4Wysral0rKztcbiAgICAgIH1cbiAgICB9XG4gICAgeC5jbGFtcCgpO1xuICAgIHguZHJTaGlmdFRvKHRoaXMubS50LCB4KTtcbiAgICBpZiAoeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB7XG4gICAgICB4LnN1YlRvKHRoaXMubSwgeCk7XG4gICAgfVxuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5tdWxUbyA9IG1vbnRNdWxUbztcbiAgLy8gciA9IFwieHkvUiBtb2QgbVwiOyB4LHkgIT0gclxuICBNb250Z29tZXJ5LnByb3RvdHlwZS5tdWxUbyA9IGZ1bmN0aW9uICh4LCB5LCByKSB7XG4gICAgeC5tdWx0aXBseVRvKHksIHIpO1xuICAgIHRoaXMucmVkdWNlKHIpO1xuICB9O1xuICAvLyBNb250Z29tZXJ5LnByb3RvdHlwZS5zcXJUbyA9IG1vbnRTcXJUbztcbiAgLy8gciA9IFwieF4yL1IgbW9kIG1cIjsgeCAhPSByXG4gIE1vbnRnb21lcnkucHJvdG90eXBlLnNxclRvID0gZnVuY3Rpb24gKHgsIHIpIHtcbiAgICB4LnNxdWFyZVRvKHIpO1xuICAgIHRoaXMucmVkdWNlKHIpO1xuICB9O1xuICByZXR1cm4gTW9udGdvbWVyeTtcbn0oKTtcbi8vI2VuZHJlZ2lvbiBNb250Z29tZXJ5XG4vLyNyZWdpb24gQmFycmV0dFxuLy8gQmFycmV0dCBtb2R1bGFyIHJlZHVjdGlvblxudmFyIEJhcnJldHQgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCYXJyZXR0KG0pIHtcbiAgICB0aGlzLm0gPSBtO1xuICAgIC8vIHNldHVwIEJhcnJldHRcbiAgICB0aGlzLnIyID0gbmJpKCk7XG4gICAgdGhpcy5xMyA9IG5iaSgpO1xuICAgIEJpZ0ludGVnZXIuT05FLmRsU2hpZnRUbygyICogbS50LCB0aGlzLnIyKTtcbiAgICB0aGlzLm11ID0gdGhpcy5yMi5kaXZpZGUobSk7XG4gIH1cbiAgLy8gQmFycmV0dC5wcm90b3R5cGUuY29udmVydCA9IGJhcnJldHRDb252ZXJ0O1xuICBCYXJyZXR0LnByb3RvdHlwZS5jb252ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICBpZiAoeC5zIDwgMCB8fCB4LnQgPiAyICogdGhpcy5tLnQpIHtcbiAgICAgIHJldHVybiB4Lm1vZCh0aGlzLm0pO1xuICAgIH0gZWxzZSBpZiAoeC5jb21wYXJlVG8odGhpcy5tKSA8IDApIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgciA9IG5iaSgpO1xuICAgICAgeC5jb3B5VG8ocik7XG4gICAgICB0aGlzLnJlZHVjZShyKTtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfTtcbiAgLy8gQmFycmV0dC5wcm90b3R5cGUucmV2ZXJ0ID0gYmFycmV0dFJldmVydDtcbiAgQmFycmV0dC5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcbiAgLy8gQmFycmV0dC5wcm90b3R5cGUucmVkdWNlID0gYmFycmV0dFJlZHVjZTtcbiAgLy8geCA9IHggbW9kIG0gKEhBQyAxNC40MilcbiAgQmFycmV0dC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKHgpIHtcbiAgICB4LmRyU2hpZnRUbyh0aGlzLm0udCAtIDEsIHRoaXMucjIpO1xuICAgIGlmICh4LnQgPiB0aGlzLm0udCArIDEpIHtcbiAgICAgIHgudCA9IHRoaXMubS50ICsgMTtcbiAgICAgIHguY2xhbXAoKTtcbiAgICB9XG4gICAgdGhpcy5tdS5tdWx0aXBseVVwcGVyVG8odGhpcy5yMiwgdGhpcy5tLnQgKyAxLCB0aGlzLnEzKTtcbiAgICB0aGlzLm0ubXVsdGlwbHlMb3dlclRvKHRoaXMucTMsIHRoaXMubS50ICsgMSwgdGhpcy5yMik7XG4gICAgd2hpbGUgKHguY29tcGFyZVRvKHRoaXMucjIpIDwgMCkge1xuICAgICAgeC5kQWRkT2Zmc2V0KDEsIHRoaXMubS50ICsgMSk7XG4gICAgfVxuICAgIHguc3ViVG8odGhpcy5yMiwgeCk7XG4gICAgd2hpbGUgKHguY29tcGFyZVRvKHRoaXMubSkgPj0gMCkge1xuICAgICAgeC5zdWJUbyh0aGlzLm0sIHgpO1xuICAgIH1cbiAgfTtcbiAgLy8gQmFycmV0dC5wcm90b3R5cGUubXVsVG8gPSBiYXJyZXR0TXVsVG87XG4gIC8vIHIgPSB4KnkgbW9kIG07IHgseSAhPSByXG4gIEJhcnJldHQucHJvdG90eXBlLm11bFRvID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICB4Lm11bHRpcGx5VG8oeSwgcik7XG4gICAgdGhpcy5yZWR1Y2Uocik7XG4gIH07XG4gIC8vIEJhcnJldHQucHJvdG90eXBlLnNxclRvID0gYmFycmV0dFNxclRvO1xuICAvLyByID0geF4yIG1vZCBtOyB4ICE9IHJcbiAgQmFycmV0dC5wcm90b3R5cGUuc3FyVG8gPSBmdW5jdGlvbiAoeCwgcikge1xuICAgIHguc3F1YXJlVG8ocik7XG4gICAgdGhpcy5yZWR1Y2Uocik7XG4gIH07XG4gIHJldHVybiBCYXJyZXR0O1xufSgpO1xuLy8jZW5kcmVnaW9uXG4vLyNlbmRyZWdpb24gUkVEVUNFUlNcbi8vIHJldHVybiBuZXcsIHVuc2V0IEJpZ0ludGVnZXJcbmZ1bmN0aW9uIG5iaSgpIHtcbiAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKG51bGwpO1xufVxuZnVuY3Rpb24gcGFyc2VCaWdJbnQoc3RyLCByKSB7XG4gIHJldHVybiBuZXcgQmlnSW50ZWdlcihzdHIsIHIpO1xufVxuLy8gYW06IENvbXB1dGUgd19qICs9ICh4KnRoaXNfaSksIHByb3BhZ2F0ZSBjYXJyaWVzLFxuLy8gYyBpcyBpbml0aWFsIGNhcnJ5LCByZXR1cm5zIGZpbmFsIGNhcnJ5LlxuLy8gYyA8IDMqZHZhbHVlLCB4IDwgMipkdmFsdWUsIHRoaXNfaSA8IGR2YWx1ZVxuLy8gV2UgbmVlZCB0byBzZWxlY3QgdGhlIGZhc3Rlc3Qgb25lIHRoYXQgd29ya3MgaW4gdGhpcyBlbnZpcm9ubWVudC5cbnZhciBpbkJyb3dzZXIgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiO1xuaWYgKGluQnJvd3NlciAmJiBqX2xtICYmIG5hdmlnYXRvci5hcHBOYW1lID09IFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIpIHtcbiAgLy8gYW0yIGF2b2lkcyBhIGJpZyBtdWx0LWFuZC1leHRyYWN0IGNvbXBsZXRlbHkuXG4gIC8vIE1heCBkaWdpdCBiaXRzIHNob3VsZCBiZSA8PSAzMCBiZWNhdXNlIHdlIGRvIGJpdHdpc2Ugb3BzXG4gIC8vIG9uIHZhbHVlcyB1cCB0byAyKmhkdmFsdWVeMi1oZHZhbHVlLTEgKDwgMl4zMSlcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYW0gPSBmdW5jdGlvbiBhbTIoaSwgeCwgdywgaiwgYywgbikge1xuICAgIHZhciB4bCA9IHggJiAweDdmZmY7XG4gICAgdmFyIHhoID0geCA+PiAxNTtcbiAgICB3aGlsZSAoLS1uID49IDApIHtcbiAgICAgIHZhciBsID0gdGhpc1tpXSAmIDB4N2ZmZjtcbiAgICAgIHZhciBoID0gdGhpc1tpKytdID4+IDE1O1xuICAgICAgdmFyIG0gPSB4aCAqIGwgKyBoICogeGw7XG4gICAgICBsID0geGwgKiBsICsgKChtICYgMHg3ZmZmKSA8PCAxNSkgKyB3W2pdICsgKGMgJiAweDNmZmZmZmZmKTtcbiAgICAgIGMgPSAobCA+Pj4gMzApICsgKG0gPj4+IDE1KSArIHhoICogaCArIChjID4+PiAzMCk7XG4gICAgICB3W2orK10gPSBsICYgMHgzZmZmZmZmZjtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG4gIH07XG4gIGRiaXRzID0gMzA7XG59IGVsc2UgaWYgKGluQnJvd3NlciAmJiBqX2xtICYmIG5hdmlnYXRvci5hcHBOYW1lICE9IFwiTmV0c2NhcGVcIikge1xuICAvLyBhbTE6IHVzZSBhIHNpbmdsZSBtdWx0IGFuZCBkaXZpZGUgdG8gZ2V0IHRoZSBoaWdoIGJpdHMsXG4gIC8vIG1heCBkaWdpdCBiaXRzIHNob3VsZCBiZSAyNiBiZWNhdXNlXG4gIC8vIG1heCBpbnRlcm5hbCB2YWx1ZSA9IDIqZHZhbHVlXjItMipkdmFsdWUgKDwgMl41MylcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYW0gPSBmdW5jdGlvbiBhbTEoaSwgeCwgdywgaiwgYywgbikge1xuICAgIHdoaWxlICgtLW4gPj0gMCkge1xuICAgICAgdmFyIHYgPSB4ICogdGhpc1tpKytdICsgd1tqXSArIGM7XG4gICAgICBjID0gTWF0aC5mbG9vcih2IC8gMHg0MDAwMDAwKTtcbiAgICAgIHdbaisrXSA9IHYgJiAweDNmZmZmZmY7XG4gICAgfVxuICAgIHJldHVybiBjO1xuICB9O1xuICBkYml0cyA9IDI2O1xufSBlbHNlIHtcbiAgLy8gTW96aWxsYS9OZXRzY2FwZSBzZWVtcyB0byBwcmVmZXIgYW0zXG4gIC8vIEFsdGVybmF0ZWx5LCBzZXQgbWF4IGRpZ2l0IGJpdHMgdG8gMjggc2luY2Ugc29tZVxuICAvLyBicm93c2VycyBzbG93IGRvd24gd2hlbiBkZWFsaW5nIHdpdGggMzItYml0IG51bWJlcnMuXG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmFtID0gZnVuY3Rpb24gYW0zKGksIHgsIHcsIGosIGMsIG4pIHtcbiAgICB2YXIgeGwgPSB4ICYgMHgzZmZmO1xuICAgIHZhciB4aCA9IHggPj4gMTQ7XG4gICAgd2hpbGUgKC0tbiA+PSAwKSB7XG4gICAgICB2YXIgbCA9IHRoaXNbaV0gJiAweDNmZmY7XG4gICAgICB2YXIgaCA9IHRoaXNbaSsrXSA+PiAxNDtcbiAgICAgIHZhciBtID0geGggKiBsICsgaCAqIHhsO1xuICAgICAgbCA9IHhsICogbCArICgobSAmIDB4M2ZmZikgPDwgMTQpICsgd1tqXSArIGM7XG4gICAgICBjID0gKGwgPj4gMjgpICsgKG0gPj4gMTQpICsgeGggKiBoO1xuICAgICAgd1tqKytdID0gbCAmIDB4ZmZmZmZmZjtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG4gIH07XG4gIGRiaXRzID0gMjg7XG59XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5EQiA9IGRiaXRzO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRE0gPSAoMSA8PCBkYml0cykgLSAxO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRFYgPSAxIDw8IGRiaXRzO1xudmFyIEJJX0ZQID0gNTI7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5GViA9IE1hdGgucG93KDIsIEJJX0ZQKTtcbkJpZ0ludGVnZXIucHJvdG90eXBlLkYxID0gQklfRlAgLSBkYml0cztcbkJpZ0ludGVnZXIucHJvdG90eXBlLkYyID0gMiAqIGRiaXRzIC0gQklfRlA7XG4vLyBEaWdpdCBjb252ZXJzaW9uc1xudmFyIEJJX1JDID0gW107XG52YXIgcnI7XG52YXIgdnY7XG5yciA9IFwiMFwiLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMDsgdnYgPD0gOTsgKyt2dikge1xuICBCSV9SQ1tycisrXSA9IHZ2O1xufVxucnIgPSBcImFcIi5jaGFyQ29kZUF0KDApO1xuZm9yICh2diA9IDEwOyB2diA8IDM2OyArK3Z2KSB7XG4gIEJJX1JDW3JyKytdID0gdnY7XG59XG5yciA9IFwiQVwiLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMTA7IHZ2IDwgMzY7ICsrdnYpIHtcbiAgQklfUkNbcnIrK10gPSB2djtcbn1cbmZ1bmN0aW9uIGludEF0KHMsIGkpIHtcbiAgdmFyIGMgPSBCSV9SQ1tzLmNoYXJDb2RlQXQoaSldO1xuICByZXR1cm4gYyA9PSBudWxsID8gLTEgOiBjO1xufVxuLy8gcmV0dXJuIGJpZ2ludCBpbml0aWFsaXplZCB0byB2YWx1ZVxuZnVuY3Rpb24gbmJ2KGkpIHtcbiAgdmFyIHIgPSBuYmkoKTtcbiAgci5mcm9tSW50KGkpO1xuICByZXR1cm4gcjtcbn1cbi8vIHJldHVybnMgYml0IGxlbmd0aCBvZiB0aGUgaW50ZWdlciB4XG5mdW5jdGlvbiBuYml0cyh4KSB7XG4gIHZhciByID0gMTtcbiAgdmFyIHQ7XG4gIGlmICgodCA9IHggPj4+IDE2KSAhPSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSAxNjtcbiAgfVxuICBpZiAoKHQgPSB4ID4+IDgpICE9IDApIHtcbiAgICB4ID0gdDtcbiAgICByICs9IDg7XG4gIH1cbiAgaWYgKCh0ID0geCA+PiA0KSAhPSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSA0O1xuICB9XG4gIGlmICgodCA9IHggPj4gMikgIT0gMCkge1xuICAgIHggPSB0O1xuICAgIHIgKz0gMjtcbiAgfVxuICBpZiAoKHQgPSB4ID4+IDEpICE9IDApIHtcbiAgICB4ID0gdDtcbiAgICByICs9IDE7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG4vLyBcImNvbnN0YW50c1wiXG5CaWdJbnRlZ2VyLlpFUk8gPSBuYnYoMCk7XG5CaWdJbnRlZ2VyLk9ORSA9IG5idigxKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQXJjZm91ciA9IHZvaWQgMDtcbmV4cG9ydHMucHJuZ19uZXdzdGF0ZSA9IHBybmdfbmV3c3RhdGU7XG5leHBvcnRzLnJuZ19wc2l6ZSA9IHZvaWQgMDtcbi8vIHBybmc0LmpzIC0gdXNlcyBBcmNmb3VyIGFzIGEgUFJOR1xudmFyIEFyY2ZvdXIgPSBleHBvcnRzLkFyY2ZvdXIgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBcmNmb3VyKCkge1xuICAgIHRoaXMuaSA9IDA7XG4gICAgdGhpcy5qID0gMDtcbiAgICB0aGlzLlMgPSBbXTtcbiAgfVxuICAvLyBBcmNmb3VyLnByb3RvdHlwZS5pbml0ID0gQVJDNGluaXQ7XG4gIC8vIEluaXRpYWxpemUgYXJjZm91ciBjb250ZXh0IGZyb20ga2V5LCBhbiBhcnJheSBvZiBpbnRzLCBlYWNoIGZyb20gWzAuLjI1NV1cbiAgQXJjZm91ci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgajtcbiAgICB2YXIgdDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgIHRoaXMuU1tpXSA9IGk7XG4gICAgfVxuICAgIGogPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgaiA9IGogKyB0aGlzLlNbaV0gKyBrZXlbaSAlIGtleS5sZW5ndGhdICYgMjU1O1xuICAgICAgdCA9IHRoaXMuU1tpXTtcbiAgICAgIHRoaXMuU1tpXSA9IHRoaXMuU1tqXTtcbiAgICAgIHRoaXMuU1tqXSA9IHQ7XG4gICAgfVxuICAgIHRoaXMuaSA9IDA7XG4gICAgdGhpcy5qID0gMDtcbiAgfTtcbiAgLy8gQXJjZm91ci5wcm90b3R5cGUubmV4dCA9IEFSQzRuZXh0O1xuICBBcmNmb3VyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0O1xuICAgIHRoaXMuaSA9IHRoaXMuaSArIDEgJiAyNTU7XG4gICAgdGhpcy5qID0gdGhpcy5qICsgdGhpcy5TW3RoaXMuaV0gJiAyNTU7XG4gICAgdCA9IHRoaXMuU1t0aGlzLmldO1xuICAgIHRoaXMuU1t0aGlzLmldID0gdGhpcy5TW3RoaXMual07XG4gICAgdGhpcy5TW3RoaXMual0gPSB0O1xuICAgIHJldHVybiB0aGlzLlNbdCArIHRoaXMuU1t0aGlzLmldICYgMjU1XTtcbiAgfTtcbiAgcmV0dXJuIEFyY2ZvdXI7XG59KCk7XG4vLyBQbHVnIGluIHlvdXIgUk5HIGNvbnN0cnVjdG9yIGhlcmVcbmZ1bmN0aW9uIHBybmdfbmV3c3RhdGUoKSB7XG4gIHJldHVybiBuZXcgQXJjZm91cigpO1xufVxuLy8gUG9vbCBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0IGFuZCBncmVhdGVyIHRoYW4gMzIuXG4vLyBBbiBhcnJheSBvZiBieXRlcyB0aGUgc2l6ZSBvZiB0aGUgcG9vbCB3aWxsIGJlIHBhc3NlZCB0byBpbml0KClcbnZhciBybmdfcHNpemUgPSBleHBvcnRzLnJuZ19wc2l6ZSA9IDI1NjsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU2VjdXJlUmFuZG9tID0gdm9pZCAwO1xudmFyIF9wcm5nID0gcmVxdWlyZShcIi4vcHJuZzRcIik7XG4vLyBSYW5kb20gbnVtYmVyIGdlbmVyYXRvciAtIHJlcXVpcmVzIGEgUFJORyBiYWNrZW5kLCBlLmcuIHBybmc0LmpzXG5cbnZhciBybmdfc3RhdGU7XG52YXIgcm5nX3Bvb2wgPSBudWxsO1xudmFyIHJuZ19wcHRyO1xuLy8gSW5pdGlhbGl6ZSB0aGUgcG9vbCB3aXRoIGp1bmsgaWYgbmVlZGVkLlxuaWYgKHJuZ19wb29sID09IG51bGwpIHtcbiAgcm5nX3Bvb2wgPSBbXTtcbiAgcm5nX3BwdHIgPSAwO1xuICB2YXIgdCA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jcnlwdG8gJiYgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBFeHRyYWN0IGVudHJvcHkgKDIwNDggYml0cykgZnJvbSBSTkcgaWYgYXZhaWxhYmxlXG4gICAgdmFyIHogPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh6KTtcbiAgICBmb3IgKHQgPSAwOyB0IDwgei5sZW5ndGg7ICsrdCkge1xuICAgICAgcm5nX3Bvb2xbcm5nX3BwdHIrK10gPSB6W3RdICYgMjU1O1xuICAgIH1cbiAgfVxuICAvLyBVc2UgbW91c2UgZXZlbnRzIGZvciBlbnRyb3B5LCBpZiB3ZSBkbyBub3QgaGF2ZSBlbm91Z2ggZW50cm9weSBieSB0aGUgdGltZVxuICAvLyB3ZSBuZWVkIGl0LCBlbnRyb3B5IHdpbGwgYmUgZ2VuZXJhdGVkIGJ5IE1hdGgucmFuZG9tLlxuICB2YXIgY291bnQgPSAwO1xuICB2YXIgb25Nb3VzZU1vdmVMaXN0ZW5lcl8xID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgY291bnQgPSBjb3VudCB8fCAwO1xuICAgIGlmIChjb3VudCA+PSAyNTYgfHwgcm5nX3BwdHIgPj0gX3Bybmcucm5nX3BzaXplKSB7XG4gICAgICBpZiAod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3VzZU1vdmVMaXN0ZW5lcl8xLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kZXRhY2hFdmVudCkge1xuICAgICAgICB3aW5kb3cuZGV0YWNoRXZlbnQoXCJvbm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZUxpc3RlbmVyXzEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdmFyIG1vdXNlQ29vcmRpbmF0ZXMgPSBldi54ICsgZXYueTtcbiAgICAgIHJuZ19wb29sW3JuZ19wcHRyKytdID0gbW91c2VDb29yZGluYXRlcyAmIDI1NTtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU29tZXRpbWVzIEZpcmVmb3ggd2lsbCBkZW55IHBlcm1pc3Npb24gdG8gYWNjZXNzIGV2ZW50IHByb3BlcnRpZXMgZm9yIHNvbWUgcmVhc29uLiBJZ25vcmUuXG4gICAgfVxuICB9O1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlTGlzdGVuZXJfMSwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XG4gICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZUxpc3RlbmVyXzEpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcm5nX2dldF9ieXRlKCkge1xuICBpZiAocm5nX3N0YXRlID09IG51bGwpIHtcbiAgICBybmdfc3RhdGUgPSAoMCwgX3BybmcucHJuZ19uZXdzdGF0ZSkoKTtcbiAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBtYXkgbm90IGhhdmUgY29sbGVjdGVkIGVub3VnaCBlbnRyb3B5LiAgSWYgbm90LCBmYWxsIGJhY2sgdG8gTWF0aC5yYW5kb21cbiAgICB3aGlsZSAocm5nX3BwdHIgPCBfcHJuZy5ybmdfcHNpemUpIHtcbiAgICAgIHZhciByYW5kb20gPSBNYXRoLmZsb29yKDY1NTM2ICogTWF0aC5yYW5kb20oKSk7XG4gICAgICBybmdfcG9vbFtybmdfcHB0cisrXSA9IHJhbmRvbSAmIDI1NTtcbiAgICB9XG4gICAgcm5nX3N0YXRlLmluaXQocm5nX3Bvb2wpO1xuICAgIGZvciAocm5nX3BwdHIgPSAwOyBybmdfcHB0ciA8IHJuZ19wb29sLmxlbmd0aDsgKytybmdfcHB0cikge1xuICAgICAgcm5nX3Bvb2xbcm5nX3BwdHJdID0gMDtcbiAgICB9XG4gICAgcm5nX3BwdHIgPSAwO1xuICB9XG4gIC8vIFRPRE86IGFsbG93IHJlc2VlZGluZyBhZnRlciBmaXJzdCByZXF1ZXN0XG4gIHJldHVybiBybmdfc3RhdGUubmV4dCgpO1xufVxudmFyIFNlY3VyZVJhbmRvbSA9IGV4cG9ydHMuU2VjdXJlUmFuZG9tID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VjdXJlUmFuZG9tKCkge31cbiAgU2VjdXJlUmFuZG9tLnByb3RvdHlwZS5uZXh0Qnl0ZXMgPSBmdW5jdGlvbiAoYmEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhLmxlbmd0aDsgKytpKSB7XG4gICAgICBiYVtpXSA9IHJuZ19nZXRfYnl0ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFNlY3VyZVJhbmRvbTtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuUlNBS2V5ID0gdm9pZCAwO1xudmFyIF9qc2JuID0gcmVxdWlyZShcIi4vanNiblwiKTtcbnZhciBfcm5nID0gcmVxdWlyZShcIi4vcm5nXCIpO1xuLy8gRGVwZW5kcyBvbiBqc2JuLmpzIGFuZCBybmcuanNcbi8vIFZlcnNpb24gMS4xOiBzdXBwb3J0IHV0Zi04IGVuY29kaW5nIGluIHBrY3MxcGFkMlxuLy8gY29udmVydCBhIChoZXgpIHN0cmluZyB0byBhIGJpZ251bSBvYmplY3RcblxuLy8gZnVuY3Rpb24gbGluZWJyayhzLG4pIHtcbi8vICAgdmFyIHJldCA9IFwiXCI7XG4vLyAgIHZhciBpID0gMDtcbi8vICAgd2hpbGUoaSArIG4gPCBzLmxlbmd0aCkge1xuLy8gICAgIHJldCArPSBzLnN1YnN0cmluZyhpLGkrbikgKyBcIlxcblwiO1xuLy8gICAgIGkgKz0gbjtcbi8vICAgfVxuLy8gICByZXR1cm4gcmV0ICsgcy5zdWJzdHJpbmcoaSxzLmxlbmd0aCk7XG4vLyB9XG4vLyBmdW5jdGlvbiBieXRlMkhleChiKSB7XG4vLyAgIGlmKGIgPCAweDEwKVxuLy8gICAgIHJldHVybiBcIjBcIiArIGIudG9TdHJpbmcoMTYpO1xuLy8gICBlbHNlXG4vLyAgICAgcmV0dXJuIGIudG9TdHJpbmcoMTYpO1xuLy8gfVxuZnVuY3Rpb24gcGtjczFwYWQxKHMsIG4pIHtcbiAgaWYgKG4gPCBzLmxlbmd0aCArIDIyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbGVuID0gbiAtIHMubGVuZ3RoIC0gNjtcbiAgdmFyIGZpbGxlciA9IFwiXCI7XG4gIGZvciAodmFyIGYgPSAwOyBmIDwgbGVuOyBmICs9IDIpIHtcbiAgICBmaWxsZXIgKz0gXCJmZlwiO1xuICB9XG4gIHZhciBtID0gXCIwMDAxXCIgKyBmaWxsZXIgKyBcIjAwXCIgKyBzO1xuICByZXR1cm4gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShtLCAxNik7XG59XG4vLyBQS0NTIzEgKHR5cGUgMiwgcmFuZG9tKSBwYWQgaW5wdXQgc3RyaW5nIHMgdG8gbiBieXRlcywgYW5kIHJldHVybiBhIGJpZ2ludFxuZnVuY3Rpb24gcGtjczFwYWQyKHMsIG4pIHtcbiAgaWYgKG4gPCBzLmxlbmd0aCArIDExKSB7XG4gICAgLy8gVE9ETzogZml4IGZvciB1dGYtOFxuICAgIGNvbnNvbGUuZXJyb3IoXCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0FcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGJhID0gW107XG4gIHZhciBpID0gcy5sZW5ndGggLSAxO1xuICB3aGlsZSAoaSA+PSAwICYmIG4gPiAwKSB7XG4gICAgdmFyIGMgPSBzLmNoYXJDb2RlQXQoaS0tKTtcbiAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgLy8gZW5jb2RlIHVzaW5nIHV0Zi04XG4gICAgICBiYVstLW5dID0gYztcbiAgICB9IGVsc2UgaWYgKGMgPiAxMjcgJiYgYyA8IDIwNDgpIHtcbiAgICAgIGJhWy0tbl0gPSBjICYgNjMgfCAxMjg7XG4gICAgICBiYVstLW5dID0gYyA+PiA2IHwgMTkyO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYVstLW5dID0gYyAmIDYzIHwgMTI4O1xuICAgICAgYmFbLS1uXSA9IGMgPj4gNiAmIDYzIHwgMTI4O1xuICAgICAgYmFbLS1uXSA9IGMgPj4gMTIgfCAyMjQ7XG4gICAgfVxuICB9XG4gIGJhWy0tbl0gPSAwO1xuICB2YXIgcm5nID0gbmV3IF9ybmcuU2VjdXJlUmFuZG9tKCk7XG4gIHZhciB4ID0gW107XG4gIHdoaWxlIChuID4gMikge1xuICAgIC8vIHJhbmRvbSBub24temVybyBwYWRcbiAgICB4WzBdID0gMDtcbiAgICB3aGlsZSAoeFswXSA9PSAwKSB7XG4gICAgICBybmcubmV4dEJ5dGVzKHgpO1xuICAgIH1cbiAgICBiYVstLW5dID0geFswXTtcbiAgfVxuICBiYVstLW5dID0gMjtcbiAgYmFbLS1uXSA9IDA7XG4gIHJldHVybiBuZXcgX2pzYm4uQmlnSW50ZWdlcihiYSk7XG59XG4vLyBcImVtcHR5XCIgUlNBIGtleSBjb25zdHJ1Y3RvclxudmFyIFJTQUtleSA9IGV4cG9ydHMuUlNBS2V5ID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUlNBS2V5KCkge1xuICAgIHRoaXMubiA9IG51bGw7XG4gICAgdGhpcy5lID0gMDtcbiAgICB0aGlzLmQgPSBudWxsO1xuICAgIHRoaXMucCA9IG51bGw7XG4gICAgdGhpcy5xID0gbnVsbDtcbiAgICB0aGlzLmRtcDEgPSBudWxsO1xuICAgIHRoaXMuZG1xMSA9IG51bGw7XG4gICAgdGhpcy5jb2VmZiA9IG51bGw7XG4gIH1cbiAgLy8jcmVnaW9uIFBST1RFQ1RFRFxuICAvLyBwcm90ZWN0ZWRcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5kb1B1YmxpYyA9IFJTQURvUHVibGljO1xuICAvLyBQZXJmb3JtIHJhdyBwdWJsaWMgb3BlcmF0aW9uIG9uIFwieFwiOiByZXR1cm4geF5lIChtb2QgbilcbiAgUlNBS2V5LnByb3RvdHlwZS5kb1B1YmxpYyA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHgubW9kUG93SW50KHRoaXMuZSwgdGhpcy5uKTtcbiAgfTtcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5kb1ByaXZhdGUgPSBSU0FEb1ByaXZhdGU7XG4gIC8vIFBlcmZvcm0gcmF3IHByaXZhdGUgb3BlcmF0aW9uIG9uIFwieFwiOiByZXR1cm4geF5kIChtb2QgbilcbiAgUlNBS2V5LnByb3RvdHlwZS5kb1ByaXZhdGUgPSBmdW5jdGlvbiAoeCkge1xuICAgIGlmICh0aGlzLnAgPT0gbnVsbCB8fCB0aGlzLnEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHgubW9kUG93KHRoaXMuZCwgdGhpcy5uKTtcbiAgICB9XG4gICAgLy8gVE9ETzogcmUtY2FsY3VsYXRlIGFueSBtaXNzaW5nIENSVCBwYXJhbXNcbiAgICB2YXIgeHAgPSB4Lm1vZCh0aGlzLnApLm1vZFBvdyh0aGlzLmRtcDEsIHRoaXMucCk7XG4gICAgdmFyIHhxID0geC5tb2QodGhpcy5xKS5tb2RQb3codGhpcy5kbXExLCB0aGlzLnEpO1xuICAgIHdoaWxlICh4cC5jb21wYXJlVG8oeHEpIDwgMCkge1xuICAgICAgeHAgPSB4cC5hZGQodGhpcy5wKTtcbiAgICB9XG4gICAgcmV0dXJuIHhwLnN1YnRyYWN0KHhxKS5tdWx0aXBseSh0aGlzLmNvZWZmKS5tb2QodGhpcy5wKS5tdWx0aXBseSh0aGlzLnEpLmFkZCh4cSk7XG4gIH07XG4gIC8vI2VuZHJlZ2lvbiBQUk9URUNURURcbiAgLy8jcmVnaW9uIFBVQkxJQ1xuICAvLyBSU0FLZXkucHJvdG90eXBlLnNldFB1YmxpYyA9IFJTQVNldFB1YmxpYztcbiAgLy8gU2V0IHRoZSBwdWJsaWMga2V5IGZpZWxkcyBOIGFuZCBlIGZyb20gaGV4IHN0cmluZ3NcbiAgUlNBS2V5LnByb3RvdHlwZS5zZXRQdWJsaWMgPSBmdW5jdGlvbiAoTiwgRSkge1xuICAgIGlmIChOICE9IG51bGwgJiYgRSAhPSBudWxsICYmIE4ubGVuZ3RoID4gMCAmJiBFLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMubiA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoTiwgMTYpO1xuICAgICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBSU0EgcHVibGljIGtleVwiKTtcbiAgICB9XG4gIH07XG4gIC8vIFJTQUtleS5wcm90b3R5cGUuZW5jcnlwdCA9IFJTQUVuY3J5cHQ7XG4gIC8vIFJldHVybiB0aGUgUEtDUyMxIFJTQSBlbmNyeXB0aW9uIG9mIFwidGV4dFwiIGFzIGFuIGV2ZW4tbGVuZ3RoIGhleCBzdHJpbmdcbiAgUlNBS2V5LnByb3RvdHlwZS5lbmNyeXB0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgbWF4TGVuZ3RoID0gdGhpcy5uLmJpdExlbmd0aCgpICsgNyA+PiAzO1xuICAgIHZhciBtID0gcGtjczFwYWQyKHRleHQsIG1heExlbmd0aCk7XG4gICAgaWYgKG0gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBjID0gdGhpcy5kb1B1YmxpYyhtKTtcbiAgICBpZiAoYyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGggPSBjLnRvU3RyaW5nKDE2KTtcbiAgICB2YXIgbGVuZ3RoID0gaC5sZW5ndGg7XG4gICAgLy8gZml4IHplcm8gYmVmb3JlIHJlc3VsdFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4TGVuZ3RoICogMiAtIGxlbmd0aDsgaSsrKSB7XG4gICAgICBoID0gXCIwXCIgKyBoO1xuICAgIH1cbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5zZXRQcml2YXRlID0gUlNBU2V0UHJpdmF0ZTtcbiAgLy8gU2V0IHRoZSBwcml2YXRlIGtleSBmaWVsZHMgTiwgZSwgYW5kIGQgZnJvbSBoZXggc3RyaW5nc1xuICBSU0FLZXkucHJvdG90eXBlLnNldFByaXZhdGUgPSBmdW5jdGlvbiAoTiwgRSwgRCkge1xuICAgIGlmIChOICE9IG51bGwgJiYgRSAhPSBudWxsICYmIE4ubGVuZ3RoID4gMCAmJiBFLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMubiA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoTiwgMTYpO1xuICAgICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgICAgdGhpcy5kID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShELCAxNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleVwiKTtcbiAgICB9XG4gIH07XG4gIC8vIFJTQUtleS5wcm90b3R5cGUuc2V0UHJpdmF0ZUV4ID0gUlNBU2V0UHJpdmF0ZUV4O1xuICAvLyBTZXQgdGhlIHByaXZhdGUga2V5IGZpZWxkcyBOLCBlLCBkIGFuZCBDUlQgcGFyYW1zIGZyb20gaGV4IHN0cmluZ3NcbiAgUlNBS2V5LnByb3RvdHlwZS5zZXRQcml2YXRlRXggPSBmdW5jdGlvbiAoTiwgRSwgRCwgUCwgUSwgRFAsIERRLCBDKSB7XG4gICAgaWYgKE4gIT0gbnVsbCAmJiBFICE9IG51bGwgJiYgTi5sZW5ndGggPiAwICYmIEUubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5uID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShOLCAxNik7XG4gICAgICB0aGlzLmUgPSBwYXJzZUludChFLCAxNik7XG4gICAgICB0aGlzLmQgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKEQsIDE2KTtcbiAgICAgIHRoaXMucCA9ICgwLCBfanNibi5wYXJzZUJpZ0ludCkoUCwgMTYpO1xuICAgICAgdGhpcy5xID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShRLCAxNik7XG4gICAgICB0aGlzLmRtcDEgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKERQLCAxNik7XG4gICAgICB0aGlzLmRtcTEgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKERRLCAxNik7XG4gICAgICB0aGlzLmNvZWZmID0gKDAsIF9qc2JuLnBhcnNlQmlnSW50KShDLCAxNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleVwiKTtcbiAgICB9XG4gIH07XG4gIC8vIFJTQUtleS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBSU0FHZW5lcmF0ZTtcbiAgLy8gR2VuZXJhdGUgYSBuZXcgcmFuZG9tIHByaXZhdGUga2V5IEIgYml0cyBsb25nLCB1c2luZyBwdWJsaWMgZXhwdCBFXG4gIFJTQUtleS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiAoQiwgRSkge1xuICAgIHZhciBybmcgPSBuZXcgX3JuZy5TZWN1cmVSYW5kb20oKTtcbiAgICB2YXIgcXMgPSBCID4+IDE7XG4gICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgIHZhciBlZSA9IG5ldyBfanNibi5CaWdJbnRlZ2VyKEUsIDE2KTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIHRoaXMucCA9IG5ldyBfanNibi5CaWdJbnRlZ2VyKEIgLSBxcywgMSwgcm5nKTtcbiAgICAgICAgaWYgKHRoaXMucC5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkKGVlKS5jb21wYXJlVG8oX2pzYm4uQmlnSW50ZWdlci5PTkUpID09IDAgJiYgdGhpcy5wLmlzUHJvYmFibGVQcmltZSgxMCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICg7Oykge1xuICAgICAgICB0aGlzLnEgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihxcywgMSwgcm5nKTtcbiAgICAgICAgaWYgKHRoaXMucS5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkKGVlKS5jb21wYXJlVG8oX2pzYm4uQmlnSW50ZWdlci5PTkUpID09IDAgJiYgdGhpcy5xLmlzUHJvYmFibGVQcmltZSgxMCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMucC5jb21wYXJlVG8odGhpcy5xKSA8PSAwKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5wO1xuICAgICAgICB0aGlzLnAgPSB0aGlzLnE7XG4gICAgICAgIHRoaXMucSA9IHQ7XG4gICAgICB9XG4gICAgICB2YXIgcDEgPSB0aGlzLnAuc3VidHJhY3QoX2pzYm4uQmlnSW50ZWdlci5PTkUpO1xuICAgICAgdmFyIHExID0gdGhpcy5xLnN1YnRyYWN0KF9qc2JuLkJpZ0ludGVnZXIuT05FKTtcbiAgICAgIHZhciBwaGkgPSBwMS5tdWx0aXBseShxMSk7XG4gICAgICBpZiAocGhpLmdjZChlZSkuY29tcGFyZVRvKF9qc2JuLkJpZ0ludGVnZXIuT05FKSA9PSAwKSB7XG4gICAgICAgIHRoaXMubiA9IHRoaXMucC5tdWx0aXBseSh0aGlzLnEpO1xuICAgICAgICB0aGlzLmQgPSBlZS5tb2RJbnZlcnNlKHBoaSk7XG4gICAgICAgIHRoaXMuZG1wMSA9IHRoaXMuZC5tb2QocDEpO1xuICAgICAgICB0aGlzLmRtcTEgPSB0aGlzLmQubW9kKHExKTtcbiAgICAgICAgdGhpcy5jb2VmZiA9IHRoaXMucS5tb2RJbnZlcnNlKHRoaXMucCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLy8gUlNBS2V5LnByb3RvdHlwZS5kZWNyeXB0ID0gUlNBRGVjcnlwdDtcbiAgLy8gUmV0dXJuIHRoZSBQS0NTIzEgUlNBIGRlY3J5cHRpb24gb2YgXCJjdGV4dFwiLlxuICAvLyBcImN0ZXh0XCIgaXMgYW4gZXZlbi1sZW5ndGggaGV4IHN0cmluZyBhbmQgdGhlIG91dHB1dCBpcyBhIHBsYWluIHN0cmluZy5cbiAgUlNBS2V5LnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gKGN0ZXh0KSB7XG4gICAgdmFyIGMgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKGN0ZXh0LCAxNik7XG4gICAgdmFyIG0gPSB0aGlzLmRvUHJpdmF0ZShjKTtcbiAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBrY3MxdW5wYWQyKG0sIHRoaXMubi5iaXRMZW5ndGgoKSArIDcgPj4gMyk7XG4gIH07XG4gIC8vIEdlbmVyYXRlIGEgbmV3IHJhbmRvbSBwcml2YXRlIGtleSBCIGJpdHMgbG9uZywgdXNpbmcgcHVibGljIGV4cHQgRVxuICBSU0FLZXkucHJvdG90eXBlLmdlbmVyYXRlQXN5bmMgPSBmdW5jdGlvbiAoQiwgRSwgY2FsbGJhY2spIHtcbiAgICB2YXIgcm5nID0gbmV3IF9ybmcuU2VjdXJlUmFuZG9tKCk7XG4gICAgdmFyIHFzID0gQiA+PiAxO1xuICAgIHRoaXMuZSA9IHBhcnNlSW50KEUsIDE2KTtcbiAgICB2YXIgZWUgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihFLCAxNik7XG4gICAgdmFyIHJzYSA9IHRoaXM7XG4gICAgLy8gVGhlc2UgZnVuY3Rpb25zIGhhdmUgbm9uLWRlc2NyaXB0IG5hbWVzIGJlY2F1c2UgdGhleSB3ZXJlIG9yaWdpbmFsbHkgZm9yKDs7KSBsb29wcy5cbiAgICAvLyBJIGRvbid0IGtub3cgYWJvdXQgY3J5cHRvZ3JhcGh5IHRvIGdpdmUgdGhlbSBiZXR0ZXIgbmFtZXMgdGhhbiBsb29wMS00LlxuICAgIHZhciBsb29wMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsb29wNCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJzYS5wLmNvbXBhcmVUbyhyc2EucSkgPD0gMCkge1xuICAgICAgICAgIHZhciB0ID0gcnNhLnA7XG4gICAgICAgICAgcnNhLnAgPSByc2EucTtcbiAgICAgICAgICByc2EucSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHAxID0gcnNhLnAuc3VidHJhY3QoX2pzYm4uQmlnSW50ZWdlci5PTkUpO1xuICAgICAgICB2YXIgcTEgPSByc2EucS5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSk7XG4gICAgICAgIHZhciBwaGkgPSBwMS5tdWx0aXBseShxMSk7XG4gICAgICAgIGlmIChwaGkuZ2NkKGVlKS5jb21wYXJlVG8oX2pzYm4uQmlnSW50ZWdlci5PTkUpID09IDApIHtcbiAgICAgICAgICByc2EubiA9IHJzYS5wLm11bHRpcGx5KHJzYS5xKTtcbiAgICAgICAgICByc2EuZCA9IGVlLm1vZEludmVyc2UocGhpKTtcbiAgICAgICAgICByc2EuZG1wMSA9IHJzYS5kLm1vZChwMSk7XG4gICAgICAgICAgcnNhLmRtcTEgPSByc2EuZC5tb2QocTEpO1xuICAgICAgICAgIHJzYS5jb2VmZiA9IHJzYS5xLm1vZEludmVyc2UocnNhLnApO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9LCAwKTsgLy8gZXNjYXBlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VGltZW91dChsb29wMSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgbG9vcDMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJzYS5xID0gKDAsIF9qc2JuLm5iaSkoKTtcbiAgICAgICAgcnNhLnEuZnJvbU51bWJlckFzeW5jKHFzLCAxLCBybmcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByc2EucS5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkYShlZSwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGlmIChyLmNvbXBhcmVUbyhfanNibi5CaWdJbnRlZ2VyLk9ORSkgPT0gMCAmJiByc2EucS5pc1Byb2JhYmxlUHJpbWUoMTApKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcDQsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wMywgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHZhciBsb29wMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcnNhLnAgPSAoMCwgX2pzYm4ubmJpKSgpO1xuICAgICAgICByc2EucC5mcm9tTnVtYmVyQXN5bmMoQiAtIHFzLCAxLCBybmcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByc2EucC5zdWJ0cmFjdChfanNibi5CaWdJbnRlZ2VyLk9ORSkuZ2NkYShlZSwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGlmIChyLmNvbXBhcmVUbyhfanNibi5CaWdJbnRlZ2VyLk9ORSkgPT0gMCAmJiByc2EucC5pc1Byb2JhYmxlUHJpbWUoMTApKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcDMsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wMiwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHNldFRpbWVvdXQobG9vcDIsIDApO1xuICAgIH07XG4gICAgc2V0VGltZW91dChsb29wMSwgMCk7XG4gIH07XG4gIFJTQUtleS5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uICh0ZXh0LCBkaWdlc3RNZXRob2QsIGRpZ2VzdE5hbWUpIHtcbiAgICB2YXIgaGVhZGVyID0gZ2V0RGlnZXN0SGVhZGVyKGRpZ2VzdE5hbWUpO1xuICAgIHZhciBkaWdlc3QgPSBoZWFkZXIgKyBkaWdlc3RNZXRob2QodGV4dCkudG9TdHJpbmcoKTtcbiAgICB2YXIgbSA9IHBrY3MxcGFkMShkaWdlc3QsIHRoaXMubi5iaXRMZW5ndGgoKSAvIDQpO1xuICAgIGlmIChtID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgYyA9IHRoaXMuZG9Qcml2YXRlKG0pO1xuICAgIGlmIChjID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaCA9IGMudG9TdHJpbmcoMTYpO1xuICAgIGlmICgoaC5sZW5ndGggJiAxKSA9PSAwKSB7XG4gICAgICByZXR1cm4gaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiMFwiICsgaDtcbiAgICB9XG4gIH07XG4gIFJTQUtleS5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gKHRleHQsIHNpZ25hdHVyZSwgZGlnZXN0TWV0aG9kKSB7XG4gICAgdmFyIGMgPSAoMCwgX2pzYm4ucGFyc2VCaWdJbnQpKHNpZ25hdHVyZSwgMTYpO1xuICAgIHZhciBtID0gdGhpcy5kb1B1YmxpYyhjKTtcbiAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHVucGFkZGVkID0gbS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLywgXCJcIik7XG4gICAgdmFyIGRpZ2VzdCA9IHJlbW92ZURpZ2VzdEhlYWRlcih1bnBhZGRlZCk7XG4gICAgcmV0dXJuIGRpZ2VzdCA9PSBkaWdlc3RNZXRob2QodGV4dCkudG9TdHJpbmcoKTtcbiAgfTtcbiAgcmV0dXJuIFJTQUtleTtcbn0oKTtcbi8vIFVuZG8gUEtDUyMxICh0eXBlIDIsIHJhbmRvbSkgcGFkZGluZyBhbmQsIGlmIHZhbGlkLCByZXR1cm4gdGhlIHBsYWludGV4dFxuZnVuY3Rpb24gcGtjczF1bnBhZDIoZCwgbikge1xuICB2YXIgYiA9IGQudG9CeXRlQXJyYXkoKTtcbiAgdmFyIGkgPSAwO1xuICB3aGlsZSAoaSA8IGIubGVuZ3RoICYmIGJbaV0gPT0gMCkge1xuICAgICsraTtcbiAgfVxuICBpZiAoYi5sZW5ndGggLSBpICE9IG4gLSAxIHx8IGJbaV0gIT0gMikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gICsraTtcbiAgd2hpbGUgKGJbaV0gIT0gMCkge1xuICAgIGlmICgrK2kgPj0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICB2YXIgcmV0ID0gXCJcIjtcbiAgd2hpbGUgKCsraSA8IGIubGVuZ3RoKSB7XG4gICAgdmFyIGMgPSBiW2ldICYgMjU1O1xuICAgIGlmIChjIDwgMTI4KSB7XG4gICAgICAvLyB1dGYtOCBkZWNvZGVcbiAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgIH0gZWxzZSBpZiAoYyA+IDE5MSAmJiBjIDwgMjI0KSB7XG4gICAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDMxKSA8PCA2IHwgYltpICsgMV0gJiA2Myk7XG4gICAgICArK2k7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMTUpIDw8IDEyIHwgKGJbaSArIDFdICYgNjMpIDw8IDYgfCBiW2kgKyAyXSAmIDYzKTtcbiAgICAgIGkgKz0gMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbi8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDQ3I3BhZ2UtNDNcbnZhciBESUdFU1RfSEVBREVSUyA9IHtcbiAgbWQyOiBcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDIwNTAwMDQxMFwiLFxuICBtZDU6IFwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIsXG4gIHNoYTE6IFwiMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0XCIsXG4gIHNoYTIyNDogXCIzMDJkMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDQwNTAwMDQxY1wiLFxuICBzaGEyNTY6IFwiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjBcIixcbiAgc2hhMzg0OiBcIjMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwXCIsXG4gIHNoYTUxMjogXCIzMDUxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDMwNTAwMDQ0MFwiLFxuICByaXBlbWQxNjA6IFwiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0XCJcbn07XG5mdW5jdGlvbiBnZXREaWdlc3RIZWFkZXIobmFtZSkge1xuICByZXR1cm4gRElHRVNUX0hFQURFUlNbbmFtZV0gfHwgXCJcIjtcbn1cbmZ1bmN0aW9uIHJlbW92ZURpZ2VzdEhlYWRlcihzdHIpIHtcbiAgZm9yICh2YXIgbmFtZV8xIGluIERJR0VTVF9IRUFERVJTKSB7XG4gICAgaWYgKERJR0VTVF9IRUFERVJTLmhhc093blByb3BlcnR5KG5hbWVfMSkpIHtcbiAgICAgIHZhciBoZWFkZXIgPSBESUdFU1RfSEVBREVSU1tuYW1lXzFdO1xuICAgICAgdmFyIGxlbiA9IGhlYWRlci5sZW5ndGg7XG4gICAgICBpZiAoc3RyLnN1YnN0cigwLCBsZW4pID09IGhlYWRlcikge1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihsZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufVxuLy8gUmV0dXJuIHRoZSBQS0NTIzEgUlNBIGVuY3J5cHRpb24gb2YgXCJ0ZXh0XCIgYXMgYSBCYXNlNjQtZW5jb2RlZCBzdHJpbmdcbi8vIGZ1bmN0aW9uIFJTQUVuY3J5cHRCNjQodGV4dCkge1xuLy8gIHZhciBoID0gdGhpcy5lbmNyeXB0KHRleHQpO1xuLy8gIGlmKGgpIHJldHVybiBoZXgyYjY0KGgpOyBlbHNlIHJldHVybiBudWxsO1xuLy8gfVxuLy8gcHVibGljXG4vLyBSU0FLZXkucHJvdG90eXBlLmVuY3J5cHRfYjY0ID0gUlNBRW5jcnlwdEI2NDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2JpdCA9IGNiaXQ7XG5leHBvcnRzLmludDJjaGFyID0gaW50MmNoYXI7XG5leHBvcnRzLmxiaXQgPSBsYml0O1xuZXhwb3J0cy5vcF9hbmQgPSBvcF9hbmQ7XG5leHBvcnRzLm9wX2FuZG5vdCA9IG9wX2FuZG5vdDtcbmV4cG9ydHMub3Bfb3IgPSBvcF9vcjtcbmV4cG9ydHMub3BfeG9yID0gb3BfeG9yO1xudmFyIEJJX1JNID0gXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcbmZ1bmN0aW9uIGludDJjaGFyKG4pIHtcbiAgcmV0dXJuIEJJX1JNLmNoYXJBdChuKTtcbn1cbi8vI3JlZ2lvbiBCSVRfT1BFUkFUSU9OU1xuLy8gKHB1YmxpYykgdGhpcyAmIGFcbmZ1bmN0aW9uIG9wX2FuZCh4LCB5KSB7XG4gIHJldHVybiB4ICYgeTtcbn1cbi8vIChwdWJsaWMpIHRoaXMgfCBhXG5mdW5jdGlvbiBvcF9vcih4LCB5KSB7XG4gIHJldHVybiB4IHwgeTtcbn1cbi8vIChwdWJsaWMpIHRoaXMgXiBhXG5mdW5jdGlvbiBvcF94b3IoeCwgeSkge1xuICByZXR1cm4geCBeIHk7XG59XG4vLyAocHVibGljKSB0aGlzICYgfmFcbmZ1bmN0aW9uIG9wX2FuZG5vdCh4LCB5KSB7XG4gIHJldHVybiB4ICYgfnk7XG59XG4vLyByZXR1cm4gaW5kZXggb2YgbG93ZXN0IDEtYml0IGluIHgsIHggPCAyXjMxXG5mdW5jdGlvbiBsYml0KHgpIHtcbiAgaWYgKHggPT0gMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICB2YXIgciA9IDA7XG4gIGlmICgoeCAmIDB4ZmZmZikgPT0gMCkge1xuICAgIHggPj49IDE2O1xuICAgIHIgKz0gMTY7XG4gIH1cbiAgaWYgKCh4ICYgMHhmZikgPT0gMCkge1xuICAgIHggPj49IDg7XG4gICAgciArPSA4O1xuICB9XG4gIGlmICgoeCAmIDB4ZikgPT0gMCkge1xuICAgIHggPj49IDQ7XG4gICAgciArPSA0O1xuICB9XG4gIGlmICgoeCAmIDMpID09IDApIHtcbiAgICB4ID4+PSAyO1xuICAgIHIgKz0gMjtcbiAgfVxuICBpZiAoKHggJiAxKSA9PSAwKSB7XG4gICAgKytyO1xuICB9XG4gIHJldHVybiByO1xufVxuLy8gcmV0dXJuIG51bWJlciBvZiAxIGJpdHMgaW4geFxuZnVuY3Rpb24gY2JpdCh4KSB7XG4gIHZhciByID0gMDtcbiAgd2hpbGUgKHggIT0gMCkge1xuICAgIHggJj0geCAtIDE7XG4gICAgKytyO1xuICB9XG4gIHJldHVybiByO1xufVxuLy8jZW5kcmVnaW9uIEJJVF9PUEVSQVRJT05TIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLktKVVIgPSB2b2lkIDA7XG52YXIgX2pzYm4gPSByZXF1aXJlKFwiLi4vanNibi9qc2JuXCIpO1xudmFyIF95YWhvbyA9IHJlcXVpcmUoXCIuL3lhaG9vXCIpO1xuLyogYXNuMS0xLjAuMTMuanMgKGMpIDIwMTMtMjAxNyBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuICovXG4vKlxuICogYXNuMS5qcyAtIEFTTi4xIERFUiBlbmNvZGVyIGNsYXNzZXNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNyBLZW5qaSBVcnVzaGltYSAoa2VuamkudXJ1c2hpbWFAZ21haWwuY29tKVxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHBzOi8va2p1ci5naXRodWIuaW8vanNyc2FzaWduL2xpY2Vuc2VcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IGFuZCBsaWNlbnNlIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKi9cblxuLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBAbmFtZSBhc24xLTEuMC5qc1xuICogQGF1dGhvciBLZW5qaSBVcnVzaGltYSBrZW5qaS51cnVzaGltYUBnbWFpbC5jb21cbiAqIEB2ZXJzaW9uIGFzbjEgMS4wLjEzICgyMDE3LUp1bi0wMilcbiAqIEBzaW5jZSBqc3JzYXNpZ24gMi4xXG4gKiBAbGljZW5zZSA8YSBocmVmPVwiaHR0cHM6Ly9ranVyLmdpdGh1Yi5pby9qc3JzYXNpZ24vbGljZW5zZS9cIj5NSVQgTGljZW5zZTwvYT5cbiAqL1xuLyoqXG4gKiBranVyJ3MgY2xhc3MgbGlicmFyeSBuYW1lIHNwYWNlXG4gKiA8cD5cbiAqIFRoaXMgbmFtZSBzcGFjZSBwcm92aWRlcyBmb2xsb3dpbmcgbmFtZSBzcGFjZXM6XG4gKiA8dWw+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMX0gLSBBU04uMSBwcmltaXRpdmUgaGV4YWRlY2ltYWwgZW5jb2RlcjwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS54NTA5fSAtIEFTTi4xIHN0cnVjdHVyZSBmb3IgWC41MDkgY2VydGlmaWNhdGUgYW5kIENSTDwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuY3J5cHRvfSAtIEphdmEgQ3J5cHRvZ3JhcGhpYyBFeHRlbnNpb24oSkNFKSBzdHlsZSBNZXNzYWdlRGlnZXN0L1NpZ25hdHVyZVxuICogY2xhc3MgYW5kIHV0aWxpdGllczwvbGk+XG4gKiA8L3VsPlxuICogPC9wPlxuICogTk9URTogUGxlYXNlIGlnbm9yZSBtZXRob2Qgc3VtbWFyeSBhbmQgZG9jdW1lbnQgb2YgdGhpcyBuYW1lc3BhY2UuIFRoaXMgY2F1c2VkIGJ5IGEgYnVnIG9mIGpzZG9jMi5cbiAqIEBuYW1lIEtKVVJcbiAqIEBuYW1lc3BhY2Uga2p1cidzIGNsYXNzIGxpYnJhcnkgbmFtZSBzcGFjZVxuICovXG52YXIgS0pVUiA9IGV4cG9ydHMuS0pVUiA9IHt9O1xuLyoqXG4gKiBranVyJ3MgQVNOLjEgY2xhc3MgbGlicmFyeSBuYW1lIHNwYWNlXG4gKiA8cD5cbiAqIFRoaXMgaXMgSVRVLVQgWC42OTAgQVNOLjEgREVSIGVuY29kZXIgY2xhc3MgbGlicmFyeSBhbmRcbiAqIGNsYXNzIHN0cnVjdHVyZSBhbmQgbWV0aG9kcyBpcyB2ZXJ5IHNpbWlsYXIgdG9cbiAqIG9yZy5ib3VuY3ljYXN0bGUuYXNuMSBwYWNrYWdlIG9mXG4gKiB3ZWxsIGtub3duIEJvdW5jeUNhc2x0ZSBDcnlwdG9ncmFwaHkgTGlicmFyeS5cbiAqIDxoND5QUk9WSURJTkcgQVNOLjEgUFJJTUlUSVZFUzwvaDQ+XG4gKiBIZXJlIGFyZSBBU04uMSBERVIgcHJpbWl0aXZlIGNsYXNzZXMuXG4gKiA8dWw+XG4gKiA8bGk+MHgwMSB7QGxpbmsgS0pVUi5hc24xLkRFUkJvb2xlYW59PC9saT5cbiAqIDxsaT4weDAyIHtAbGluayBLSlVSLmFzbjEuREVSSW50ZWdlcn08L2xpPlxuICogPGxpPjB4MDMge0BsaW5rIEtKVVIuYXNuMS5ERVJCaXRTdHJpbmd9PC9saT5cbiAqIDxsaT4weDA0IHtAbGluayBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmd9PC9saT5cbiAqIDxsaT4weDA1IHtAbGluayBLSlVSLmFzbjEuREVSTnVsbH08L2xpPlxuICogPGxpPjB4MDYge0BsaW5rIEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyfTwvbGk+XG4gKiA8bGk+MHgwYSB7QGxpbmsgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWR9PC9saT5cbiAqIDxsaT4weDBjIHtAbGluayBLSlVSLmFzbjEuREVSVVRGOFN0cmluZ308L2xpPlxuICogPGxpPjB4MTIge0BsaW5rIEtKVVIuYXNuMS5ERVJOdW1lcmljU3RyaW5nfTwvbGk+XG4gKiA8bGk+MHgxMyB7QGxpbmsgS0pVUi5hc24xLkRFUlByaW50YWJsZVN0cmluZ308L2xpPlxuICogPGxpPjB4MTQge0BsaW5rIEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nfTwvbGk+XG4gKiA8bGk+MHgxNiB7QGxpbmsgS0pVUi5hc24xLkRFUklBNVN0cmluZ308L2xpPlxuICogPGxpPjB4MTcge0BsaW5rIEtKVVIuYXNuMS5ERVJVVENUaW1lfTwvbGk+XG4gKiA8bGk+MHgxOCB7QGxpbmsgS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZX08L2xpPlxuICogPGxpPjB4MzAge0BsaW5rIEtKVVIuYXNuMS5ERVJTZXF1ZW5jZX08L2xpPlxuICogPGxpPjB4MzEge0BsaW5rIEtKVVIuYXNuMS5ERVJTZXR9PC9saT5cbiAqIDwvdWw+XG4gKiA8aDQ+T1RIRVIgQVNOLjEgQ0xBU1NFUzwvaDQ+XG4gKiA8dWw+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5BU04xT2JqZWN0fTwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ308L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lfTwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWR9PC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdH08L2xpPlxuICogPC91bD5cbiAqIDxoND5TVUIgTkFNRSBTUEFDRVM8L2g0PlxuICogPHVsPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuY2FkZXN9IC0gQ0FkRVMgbG9uZyB0ZXJtIHNpZ25hdHVyZSBmb3JtYXQ8L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuY21zfSAtIENyeXB0b2dyYXBoaWMgTWVzc2FnZSBTeW50YXg8L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuY3NyfSAtIENlcnRpZmljYXRlIFNpZ25pbmcgUmVxdWVzdCAoQ1NSL1BLQ1MjMTApPC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLnRzcH0gLSBSRkMgMzE2MSBUaW1lc3RhbXBpbmcgUHJvdG9jb2wgRm9ybWF0PC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLng1MDl9IC0gUkZDIDUyODAgWC41MDkgY2VydGlmaWNhdGUgYW5kIENSTDwvbGk+XG4gKiA8L3VsPlxuICogPC9wPlxuICogTk9URTogUGxlYXNlIGlnbm9yZSBtZXRob2Qgc3VtbWFyeSBhbmQgZG9jdW1lbnQgb2YgdGhpcyBuYW1lc3BhY2UuXG4gKiBUaGlzIGNhdXNlZCBieSBhIGJ1ZyBvZiBqc2RvYzIuXG4gKiBAbmFtZSBLSlVSLmFzbjFcbiAqIEBuYW1lc3BhY2VcbiAqL1xuaWYgKHR5cGVvZiBLSlVSLmFzbjEgPT0gXCJ1bmRlZmluZWRcIiB8fCAhS0pVUi5hc24xKSBLSlVSLmFzbjEgPSB7fTtcbi8qKlxuICogQVNOMSB1dGlsaXRpZXMgY2xhc3NcbiAqIEBuYW1lIEtKVVIuYXNuMS5BU04xVXRpbFxuICogQGNsYXNzIEFTTjEgdXRpbGl0aWVzIGNsYXNzXG4gKiBAc2luY2UgYXNuMSAxLjAuMlxuICovXG5LSlVSLmFzbjEuQVNOMVV0aWwgPSBuZXcgZnVuY3Rpb24gKCkge1xuICB0aGlzLmludGVnZXJUb0J5dGVIZXggPSBmdW5jdGlvbiAoaSkge1xuICAgIHZhciBoID0gaS50b1N0cmluZygxNik7XG4gICAgaWYgKGgubGVuZ3RoICUgMiA9PSAxKSBoID0gJzAnICsgaDtcbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgdGhpcy5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleCA9IGZ1bmN0aW9uIChiaWdJbnRlZ2VyVmFsdWUpIHtcbiAgICB2YXIgaCA9IGJpZ0ludGVnZXJWYWx1ZS50b1N0cmluZygxNik7XG4gICAgaWYgKGguc3Vic3RyKDAsIDEpICE9ICctJykge1xuICAgICAgaWYgKGgubGVuZ3RoICUgMiA9PSAxKSB7XG4gICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoLm1hdGNoKC9eWzAtN10vKSkge1xuICAgICAgICAgIGggPSAnMDAnICsgaDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaFBvcyA9IGguc3Vic3RyKDEpO1xuICAgICAgdmFyIHhvckxlbiA9IGhQb3MubGVuZ3RoO1xuICAgICAgaWYgKHhvckxlbiAlIDIgPT0gMSkge1xuICAgICAgICB4b3JMZW4gKz0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaC5tYXRjaCgvXlswLTddLykpIHtcbiAgICAgICAgICB4b3JMZW4gKz0gMjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGhNYXNrID0gJyc7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhvckxlbjsgaSsrKSB7XG4gICAgICAgIGhNYXNrICs9ICdmJztcbiAgICAgIH1cbiAgICAgIHZhciBiaU1hc2sgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihoTWFzaywgMTYpO1xuICAgICAgdmFyIGJpTmVnID0gYmlNYXNrLnhvcihiaWdJbnRlZ2VyVmFsdWUpLmFkZChfanNibi5CaWdJbnRlZ2VyLk9ORSk7XG4gICAgICBoID0gYmlOZWcudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14tLywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgLyoqXG4gICAqIGdldCBQRU0gc3RyaW5nIGZyb20gaGV4YWRlY2ltYWwgZGF0YSBhbmQgaGVhZGVyIHN0cmluZ1xuICAgKiBAbmFtZSBnZXRQRU1TdHJpbmdGcm9tSGV4XG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMVV0aWxcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhSGV4IGhleGFkZWNpbWFsIHN0cmluZyBvZiBQRU0gYm9keVxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGVtSGVhZGVyIFBFTSBoZWFkZXIgc3RyaW5nIChleC4gJ1JTQSBQUklWQVRFIEtFWScpXG4gICAqIEByZXR1cm4ge1N0cmluZ30gUEVNIGZvcm1hdHRlZCBzdHJpbmcgb2YgaW5wdXQgZGF0YVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgY29udmVydHMgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gYSBQRU0gc3RyaW5nIHdpdGhcbiAgICogYSBzcGVjaWZpZWQgaGVhZGVyLiBJdHMgbGluZSBicmVhayB3aWxsIGJlIENSTEYoXCJcXHJcXG5cIikuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwZW0gID0gS0pVUi5hc24xLkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoJzYxNjE2MScsICdSU0EgUFJJVkFURSBLRVknKTtcbiAgICogLy8gdmFsdWUgb2YgcGVtIHdpbGwgYmU6XG4gICAqIC0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuICAgKiBZV0ZoXG4gICAqIC0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiAgICovXG4gIHRoaXMuZ2V0UEVNU3RyaW5nRnJvbUhleCA9IGZ1bmN0aW9uIChkYXRhSGV4LCBwZW1IZWFkZXIpIHtcbiAgICByZXR1cm4gaGV4dG9wZW0oZGF0YUhleCwgcGVtSGVhZGVyKTtcbiAgfTtcbiAgLyoqXG4gICAqIGdlbmVyYXRlIEFTTjFPYmplY3Qgc3BlY2lmZWQgYnkgSlNPTiBwYXJhbWV0ZXJzXG4gICAqIEBuYW1lIG5ld09iamVjdFxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkFTTjFVdGlsXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSBwYXJhbSBKU09OIHBhcmFtZXRlciB0byBnZW5lcmF0ZSBBU04xT2JqZWN0XG4gICAqIEByZXR1cm4ge0tKVVIuYXNuMS5BU04xT2JqZWN0fSBnZW5lcmF0ZWQgb2JqZWN0XG4gICAqIEBzaW5jZSBhc24xIDEuMC4zXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBnZW5lcmF0ZSBhbnkgQVNOMU9iamVjdCBzcGVjaWZpZWQgYnkgSlNPTiBwYXJhbVxuICAgKiBpbmNsdWRpbmcgQVNOLjEgcHJpbWl0aXZlIG9yIHN0cnVjdHVyZWQuXG4gICAqIEdlbmVyYWxseSAncGFyYW0nIGNhbiBiZSBkZXNjcmliZWQgYXMgZm9sbG93czpcbiAgICogPGJsb2NrcXVvdGU+XG4gICAqIHtUWVBFLU9GLUFTTk9CSjogQVNOMU9CSi1QQVJBTUVURVJ9XG4gICAqIDwvYmxvY2txdW90ZT5cbiAgICogJ1RZUEUtT0YtQVNOMU9CSicgY2FuIGJlIG9uZSBvZiBmb2xsb3dpbmcgc3ltYm9sczpcbiAgICogPHVsPlxuICAgKiA8bGk+J2Jvb2wnIC0gREVSQm9vbGVhbjwvbGk+XG4gICAqIDxsaT4naW50JyAtIERFUkludGVnZXI8L2xpPlxuICAgKiA8bGk+J2JpdHN0cicgLSBERVJCaXRTdHJpbmc8L2xpPlxuICAgKiA8bGk+J29jdHN0cicgLSBERVJPY3RldFN0cmluZzwvbGk+XG4gICAqIDxsaT4nbnVsbCcgLSBERVJOdWxsPC9saT5cbiAgICogPGxpPidvaWQnIC0gREVST2JqZWN0SWRlbnRpZmllcjwvbGk+XG4gICAqIDxsaT4nZW51bScgLSBERVJFbnVtZXJhdGVkPC9saT5cbiAgICogPGxpPid1dGY4c3RyJyAtIERFUlVURjhTdHJpbmc8L2xpPlxuICAgKiA8bGk+J251bXN0cicgLSBERVJOdW1lcmljU3RyaW5nPC9saT5cbiAgICogPGxpPidwcm5zdHInIC0gREVSUHJpbnRhYmxlU3RyaW5nPC9saT5cbiAgICogPGxpPid0ZWxzdHInIC0gREVSVGVsZXRleFN0cmluZzwvbGk+XG4gICAqIDxsaT4naWE1c3RyJyAtIERFUklBNVN0cmluZzwvbGk+XG4gICAqIDxsaT4ndXRjdGltZScgLSBERVJVVENUaW1lPC9saT5cbiAgICogPGxpPidnZW50aW1lJyAtIERFUkdlbmVyYWxpemVkVGltZTwvbGk+XG4gICAqIDxsaT4nc2VxJyAtIERFUlNlcXVlbmNlPC9saT5cbiAgICogPGxpPidzZXQnIC0gREVSU2V0PC9saT5cbiAgICogPGxpPid0YWcnIC0gREVSVGFnZ2VkT2JqZWN0PC9saT5cbiAgICogPC91bD5cbiAgICogQGV4YW1wbGVcbiAgICogbmV3T2JqZWN0KHsncHJuc3RyJzogJ2FhYSd9KTtcbiAgICogbmV3T2JqZWN0KHsnc2VxJzogW3snaW50JzogM30sIHsncHJuc3RyJzogJ2FhYSd9XX0pXG4gICAqIC8vIEFTTi4xIFRhZ2dlZCBPYmplY3RcbiAgICogbmV3T2JqZWN0KHsndGFnJzogeyd0YWcnOiAnYTEnLFxuICAgKiAgICAgICAgICAgICAgICAgICAgJ2V4cGxpY2l0JzogdHJ1ZSxcbiAgICogICAgICAgICAgICAgICAgICAgICdvYmonOiB7J3NlcSc6IFt7J2ludCc6IDN9LCB7J3BybnN0cic6ICdhYWEnfV19fX0pO1xuICAgKiAvLyBtb3JlIHNpbXBsZSByZXByZXNlbnRhdGlvbiBvZiBBU04uMSBUYWdnZWQgT2JqZWN0XG4gICAqIG5ld09iamVjdCh7J3RhZyc6IFsnYTEnLFxuICAgKiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICogICAgICAgICAgICAgICAgICAgIHsnc2VxJzogW1xuICAgKiAgICAgICAgICAgICAgICAgICAgICB7J2ludCc6IDN9LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICB7J3BybnN0cic6ICdhYWEnfV19XG4gICAqICAgICAgICAgICAgICAgICAgIF19KTtcbiAgICovXG4gIHRoaXMubmV3T2JqZWN0ID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgdmFyIF9LSlVSID0gS0pVUixcbiAgICAgIF9LSlVSX2FzbjEgPSBfS0pVUi5hc24xLFxuICAgICAgX0RFUkJvb2xlYW4gPSBfS0pVUl9hc24xLkRFUkJvb2xlYW4sXG4gICAgICBfREVSSW50ZWdlciA9IF9LSlVSX2FzbjEuREVSSW50ZWdlcixcbiAgICAgIF9ERVJCaXRTdHJpbmcgPSBfS0pVUl9hc24xLkRFUkJpdFN0cmluZyxcbiAgICAgIF9ERVJPY3RldFN0cmluZyA9IF9LSlVSX2FzbjEuREVST2N0ZXRTdHJpbmcsXG4gICAgICBfREVSTnVsbCA9IF9LSlVSX2FzbjEuREVSTnVsbCxcbiAgICAgIF9ERVJPYmplY3RJZGVudGlmaWVyID0gX0tKVVJfYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLFxuICAgICAgX0RFUkVudW1lcmF0ZWQgPSBfS0pVUl9hc24xLkRFUkVudW1lcmF0ZWQsXG4gICAgICBfREVSVVRGOFN0cmluZyA9IF9LSlVSX2FzbjEuREVSVVRGOFN0cmluZyxcbiAgICAgIF9ERVJOdW1lcmljU3RyaW5nID0gX0tKVVJfYXNuMS5ERVJOdW1lcmljU3RyaW5nLFxuICAgICAgX0RFUlByaW50YWJsZVN0cmluZyA9IF9LSlVSX2FzbjEuREVSUHJpbnRhYmxlU3RyaW5nLFxuICAgICAgX0RFUlRlbGV0ZXhTdHJpbmcgPSBfS0pVUl9hc24xLkRFUlRlbGV0ZXhTdHJpbmcsXG4gICAgICBfREVSSUE1U3RyaW5nID0gX0tKVVJfYXNuMS5ERVJJQTVTdHJpbmcsXG4gICAgICBfREVSVVRDVGltZSA9IF9LSlVSX2FzbjEuREVSVVRDVGltZSxcbiAgICAgIF9ERVJHZW5lcmFsaXplZFRpbWUgPSBfS0pVUl9hc24xLkRFUkdlbmVyYWxpemVkVGltZSxcbiAgICAgIF9ERVJTZXF1ZW5jZSA9IF9LSlVSX2FzbjEuREVSU2VxdWVuY2UsXG4gICAgICBfREVSU2V0ID0gX0tKVVJfYXNuMS5ERVJTZXQsXG4gICAgICBfREVSVGFnZ2VkT2JqZWN0ID0gX0tKVVJfYXNuMS5ERVJUYWdnZWRPYmplY3QsXG4gICAgICBfbmV3T2JqZWN0ID0gX0tKVVJfYXNuMS5BU04xVXRpbC5uZXdPYmplY3Q7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwYXJhbSk7XG4gICAgaWYgKGtleXMubGVuZ3RoICE9IDEpIHRocm93IFwia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLlwiO1xuICAgIHZhciBrZXkgPSBrZXlzWzBdO1xuICAgIGlmIChcIjpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnNlcTpzZXQ6dGFnOlwiLmluZGV4T2YoXCI6XCIgKyBrZXkgKyBcIjpcIikgPT0gLTEpIHRocm93IFwidW5kZWZpbmVkIGtleTogXCIgKyBrZXk7XG4gICAgaWYgKGtleSA9PSBcImJvb2xcIikgcmV0dXJuIG5ldyBfREVSQm9vbGVhbihwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwiaW50XCIpIHJldHVybiBuZXcgX0RFUkludGVnZXIocGFyYW1ba2V5XSk7XG4gICAgaWYgKGtleSA9PSBcImJpdHN0clwiKSByZXR1cm4gbmV3IF9ERVJCaXRTdHJpbmcocGFyYW1ba2V5XSk7XG4gICAgaWYgKGtleSA9PSBcIm9jdHN0clwiKSByZXR1cm4gbmV3IF9ERVJPY3RldFN0cmluZyhwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwibnVsbFwiKSByZXR1cm4gbmV3IF9ERVJOdWxsKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJvaWRcIikgcmV0dXJuIG5ldyBfREVST2JqZWN0SWRlbnRpZmllcihwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwiZW51bVwiKSByZXR1cm4gbmV3IF9ERVJFbnVtZXJhdGVkKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJ1dGY4c3RyXCIpIHJldHVybiBuZXcgX0RFUlVURjhTdHJpbmcocGFyYW1ba2V5XSk7XG4gICAgaWYgKGtleSA9PSBcIm51bXN0clwiKSByZXR1cm4gbmV3IF9ERVJOdW1lcmljU3RyaW5nKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJwcm5zdHJcIikgcmV0dXJuIG5ldyBfREVSUHJpbnRhYmxlU3RyaW5nKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJ0ZWxzdHJcIikgcmV0dXJuIG5ldyBfREVSVGVsZXRleFN0cmluZyhwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwiaWE1c3RyXCIpIHJldHVybiBuZXcgX0RFUklBNVN0cmluZyhwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwidXRjdGltZVwiKSByZXR1cm4gbmV3IF9ERVJVVENUaW1lKHBhcmFtW2tleV0pO1xuICAgIGlmIChrZXkgPT0gXCJnZW50aW1lXCIpIHJldHVybiBuZXcgX0RFUkdlbmVyYWxpemVkVGltZShwYXJhbVtrZXldKTtcbiAgICBpZiAoa2V5ID09IFwic2VxXCIpIHtcbiAgICAgIHZhciBwYXJhbUxpc3QgPSBwYXJhbVtrZXldO1xuICAgICAgdmFyIGEgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhc24xT2JqID0gX25ld09iamVjdChwYXJhbUxpc3RbaV0pO1xuICAgICAgICBhLnB1c2goYXNuMU9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IF9ERVJTZXF1ZW5jZSh7XG4gICAgICAgICdhcnJheSc6IGFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoa2V5ID09IFwic2V0XCIpIHtcbiAgICAgIHZhciBwYXJhbUxpc3QgPSBwYXJhbVtrZXldO1xuICAgICAgdmFyIGEgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhc24xT2JqID0gX25ld09iamVjdChwYXJhbUxpc3RbaV0pO1xuICAgICAgICBhLnB1c2goYXNuMU9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IF9ERVJTZXQoe1xuICAgICAgICAnYXJyYXknOiBhXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGtleSA9PSBcInRhZ1wiKSB7XG4gICAgICB2YXIgdGFnUGFyYW0gPSBwYXJhbVtrZXldO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0YWdQYXJhbSkgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgdGFnUGFyYW0ubGVuZ3RoID09IDMpIHtcbiAgICAgICAgdmFyIG9iaiA9IF9uZXdPYmplY3QodGFnUGFyYW1bMl0pO1xuICAgICAgICByZXR1cm4gbmV3IF9ERVJUYWdnZWRPYmplY3Qoe1xuICAgICAgICAgIHRhZzogdGFnUGFyYW1bMF0sXG4gICAgICAgICAgZXhwbGljaXQ6IHRhZ1BhcmFtWzFdLFxuICAgICAgICAgIG9iajogb2JqXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5ld1BhcmFtID0ge307XG4gICAgICAgIGlmICh0YWdQYXJhbS5leHBsaWNpdCAhPT0gdW5kZWZpbmVkKSBuZXdQYXJhbS5leHBsaWNpdCA9IHRhZ1BhcmFtLmV4cGxpY2l0O1xuICAgICAgICBpZiAodGFnUGFyYW0udGFnICE9PSB1bmRlZmluZWQpIG5ld1BhcmFtLnRhZyA9IHRhZ1BhcmFtLnRhZztcbiAgICAgICAgaWYgKHRhZ1BhcmFtLm9iaiA9PT0gdW5kZWZpbmVkKSB0aHJvdyBcIm9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLlwiO1xuICAgICAgICBuZXdQYXJhbS5vYmogPSBfbmV3T2JqZWN0KHRhZ1BhcmFtLm9iaik7XG4gICAgICAgIHJldHVybiBuZXcgX0RFUlRhZ2dlZE9iamVjdChuZXdQYXJhbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogZ2V0IGVuY29kZWQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTjFPYmplY3Qgc3BlY2lmZWQgYnkgSlNPTiBwYXJhbWV0ZXJzXG4gICAqIEBuYW1lIGpzb25Ub0FTTjFIRVhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5BU04xVXRpbFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheX0gcGFyYW0gSlNPTiBwYXJhbWV0ZXIgdG8gZ2VuZXJhdGUgQVNOMU9iamVjdFxuICAgKiBAcmV0dXJuIGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04xT2JqZWN0XG4gICAqIEBzaW5jZSBhc24xIDEuMC40XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBcyBmb3IgQVNOLjEgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIEpTT04gb2JqZWN0LFxuICAgKiBwbGVhc2Ugc2VlIHtAbGluayBuZXdPYmplY3R9LlxuICAgKiBAZXhhbXBsZVxuICAgKiBqc29uVG9BU04xSEVYKHsncHJuc3RyJzogJ2FhYSd9KTtcbiAgICovXG4gIHRoaXMuanNvblRvQVNOMUhFWCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIHZhciBhc24xT2JqID0gdGhpcy5uZXdPYmplY3QocGFyYW0pO1xuICAgIHJldHVybiBhc24xT2JqLmdldEVuY29kZWRIZXgoKTtcbiAgfTtcbn0oKTtcbi8qKlxuICogZ2V0IGRvdCBub3RlZCBvaWQgbnVtYmVyIHN0cmluZyBmcm9tIGhleGFkZWNpbWFsIHZhbHVlIG9mIE9JRFxuICogQG5hbWUgb2lkSGV4VG9JbnRcbiAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMVV0aWxcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGhleCBoZXhhZGVjaW1hbCB2YWx1ZSBvZiBvYmplY3QgaWRlbnRpZmllclxuICogQHJldHVybiB7U3RyaW5nfSBkb3Qgbm90ZWQgc3RyaW5nIG9mIG9iamVjdCBpZGVudGlmaWVyXG4gKiBAc2luY2UganNyc2FzaWduIDQuOC4zIGFzbjEgMS4wLjdcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzdGF0aWMgbWV0aG9kIGNvbnZlcnRzIGZyb20gaGV4YWRlY2ltYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mXG4gKiBBU04uMSB2YWx1ZSBvZiBvYmplY3QgaWRlbnRpZmllciB0byBvaWQgbnVtYmVyIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKiBLSlVSLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQoJzU1MDQwNicpICZyYXJyOyBcIjIuNS40LjZcIlxuICovXG5LSlVSLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciBzID0gXCJcIjtcbiAgdmFyIGkwMSA9IHBhcnNlSW50KGhleC5zdWJzdHIoMCwgMiksIDE2KTtcbiAgdmFyIGkwID0gTWF0aC5mbG9vcihpMDEgLyA0MCk7XG4gIHZhciBpMSA9IGkwMSAlIDQwO1xuICB2YXIgcyA9IGkwICsgXCIuXCIgKyBpMTtcbiAgdmFyIGJpbmJ1ZiA9IFwiXCI7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgaGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpLCAyKSwgMTYpO1xuICAgIHZhciBiaW4gPSAoXCIwMDAwMDAwMFwiICsgdmFsdWUudG9TdHJpbmcoMikpLnNsaWNlKC04KTtcbiAgICBiaW5idWYgPSBiaW5idWYgKyBiaW4uc3Vic3RyKDEsIDcpO1xuICAgIGlmIChiaW4uc3Vic3RyKDAsIDEpID09IFwiMFwiKSB7XG4gICAgICB2YXIgYmkgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihiaW5idWYsIDIpO1xuICAgICAgcyA9IHMgKyBcIi5cIiArIGJpLnRvU3RyaW5nKDEwKTtcbiAgICAgIGJpbmJ1ZiA9IFwiXCI7XG4gICAgfVxuICB9XG4gIDtcbiAgcmV0dXJuIHM7XG59O1xuLyoqXG4gKiBnZXQgaGV4YWRlY2ltYWwgdmFsdWUgb2Ygb2JqZWN0IGlkZW50aWZpZXIgZnJvbSBkb3Qgbm90ZWQgb2lkIHZhbHVlXG4gKiBAbmFtZSBvaWRJbnRUb0hleFxuICogQG1lbWJlck9mIEtKVVIuYXNuMS5BU04xVXRpbFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gb2lkU3RyaW5nIGRvdCBub3RlZCBzdHJpbmcgb2Ygb2JqZWN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge1N0cmluZ30gaGV4YWRlY2ltYWwgdmFsdWUgb2Ygb2JqZWN0IGlkZW50aWZpZXJcbiAqIEBzaW5jZSBqc3JzYXNpZ24gNC44LjMgYXNuMSAxLjAuN1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIHN0YXRpYyBtZXRob2QgY29udmVydHMgZnJvbSBvYmplY3QgaWRlbnRpZmllciB2YWx1ZSBzdHJpbmcuXG4gKiB0byBoZXhhZGVjaW1hbCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaXQuXG4gKiBAZXhhbXBsZVxuICogS0pVUi5hc24xLkFTTjFVdGlsLm9pZEludFRvSGV4KFwiMi41LjQuNlwiKSAmcmFycjsgXCI1NTA0MDZcIlxuICovXG5LSlVSLmFzbjEuQVNOMVV0aWwub2lkSW50VG9IZXggPSBmdW5jdGlvbiAob2lkU3RyaW5nKSB7XG4gIHZhciBpdG94ID0gZnVuY3Rpb24gKGkpIHtcbiAgICB2YXIgaCA9IGkudG9TdHJpbmcoMTYpO1xuICAgIGlmIChoLmxlbmd0aCA9PSAxKSBoID0gJzAnICsgaDtcbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgdmFyIHJvaWR0b3ggPSBmdW5jdGlvbiAocm9pZCkge1xuICAgIHZhciBoID0gJyc7XG4gICAgdmFyIGJpID0gbmV3IF9qc2JuLkJpZ0ludGVnZXIocm9pZCwgMTApO1xuICAgIHZhciBiID0gYmkudG9TdHJpbmcoMik7XG4gICAgdmFyIHBhZExlbiA9IDcgLSBiLmxlbmd0aCAlIDc7XG4gICAgaWYgKHBhZExlbiA9PSA3KSBwYWRMZW4gPSAwO1xuICAgIHZhciBiUGFkID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWRMZW47IGkrKykgYlBhZCArPSAnMCc7XG4gICAgYiA9IGJQYWQgKyBiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGggLSAxOyBpICs9IDcpIHtcbiAgICAgIHZhciBiOCA9IGIuc3Vic3RyKGksIDcpO1xuICAgICAgaWYgKGkgIT0gYi5sZW5ndGggLSA3KSBiOCA9ICcxJyArIGI4O1xuICAgICAgaCArPSBpdG94KHBhcnNlSW50KGI4LCAyKSk7XG4gICAgfVxuICAgIHJldHVybiBoO1xuICB9O1xuICBpZiAoIW9pZFN0cmluZy5tYXRjaCgvXlswLTkuXSskLykpIHtcbiAgICB0aHJvdyBcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIiArIG9pZFN0cmluZztcbiAgfVxuICB2YXIgaCA9ICcnO1xuICB2YXIgYSA9IG9pZFN0cmluZy5zcGxpdCgnLicpO1xuICB2YXIgaTAgPSBwYXJzZUludChhWzBdKSAqIDQwICsgcGFyc2VJbnQoYVsxXSk7XG4gIGggKz0gaXRveChpMCk7XG4gIGEuc3BsaWNlKDAsIDIpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBoICs9IHJvaWR0b3goYVtpXSk7XG4gIH1cbiAgcmV0dXJuIGg7XG59O1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICBBYnN0cmFjdCBBU04uMSBDbGFzc2VzXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogYmFzZSBjbGFzcyBmb3IgQVNOLjEgREVSIGVuY29kZXIgb2JqZWN0XG4gKiBAbmFtZSBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGNsYXNzIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBlbmNvZGVyIG9iamVjdFxuICogQHByb3BlcnR5IHtCb29sZWFufSBpc01vZGlmaWVkIGZsYWcgd2hldGhlciBpbnRlcm5hbCBkYXRhIHdhcyBjaGFuZ2VkXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaFRMViBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaFQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViB0YWcoVClcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBoTCBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWIGxlbmd0aChMKVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGhWIGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04uMSBUTFYgdmFsdWUoVilcbiAqIEBkZXNjcmlwdGlvblxuICovXG5LSlVSLmFzbjEuQVNOMU9iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGlzTW9kaWZpZWQgPSB0cnVlO1xuICB2YXIgaFRMViA9IG51bGw7XG4gIHZhciBoVCA9ICcwMCc7XG4gIHZhciBoTCA9ICcwMCc7XG4gIHZhciBoViA9ICcnO1xuICAvKipcbiAgICogZ2V0IGhleGFkZWNpbWFsIEFTTi4xIFRMViBsZW5ndGgoTCkgYnl0ZXMgZnJvbSBUTFYgdmFsdWUoVilcbiAgICogQG5hbWUgZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMU9iamVjdCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViBsZW5ndGgoTClcbiAgICovXG4gIHRoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5oViA9PSBcInVuZGVmaW5lZFwiIHx8IHRoaXMuaFYgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgXCJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkLlwiO1xuICAgIH1cbiAgICBpZiAodGhpcy5oVi5sZW5ndGggJSAyID09IDEpIHtcbiAgICAgIHRocm93IFwidmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49XCIgKyBoVi5sZW5ndGggKyBcIix2PVwiICsgdGhpcy5oVjtcbiAgICB9XG4gICAgdmFyIG4gPSB0aGlzLmhWLmxlbmd0aCAvIDI7XG4gICAgdmFyIGhOID0gbi50b1N0cmluZygxNik7XG4gICAgaWYgKGhOLmxlbmd0aCAlIDIgPT0gMSkge1xuICAgICAgaE4gPSBcIjBcIiArIGhOO1xuICAgIH1cbiAgICBpZiAobiA8IDEyOCkge1xuICAgICAgcmV0dXJuIGhOO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaE5sZW4gPSBoTi5sZW5ndGggLyAyO1xuICAgICAgaWYgKGhObGVuID4gMTUpIHtcbiAgICAgICAgdGhyb3cgXCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIgKyBuLnRvU3RyaW5nKDE2KTtcbiAgICAgIH1cbiAgICAgIHZhciBoZWFkID0gMTI4ICsgaE5sZW47XG4gICAgICByZXR1cm4gaGVhZC50b1N0cmluZygxNikgKyBoTjtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBnZXQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViBieXRlc1xuICAgKiBAbmFtZSBnZXRFbmNvZGVkSGV4XG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMU9iamVjdCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMVlxuICAgKi9cbiAgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmhUTFYgPT0gbnVsbCB8fCB0aGlzLmlzTW9kaWZpZWQpIHtcbiAgICAgIHRoaXMuaFYgPSB0aGlzLmdldEZyZXNoVmFsdWVIZXgoKTtcbiAgICAgIHRoaXMuaEwgPSB0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZSgpO1xuICAgICAgdGhpcy5oVExWID0gdGhpcy5oVCArIHRoaXMuaEwgKyB0aGlzLmhWO1xuICAgICAgdGhpcy5pc01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAvL2FsZXJ0KFwiZmlyc3QgdGltZTogXCIgKyB0aGlzLmhUTFYpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oVExWO1xuICB9O1xuICAvKipcbiAgICogZ2V0IGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04uMSBUTFYgdmFsdWUoVikgYnl0ZXNcbiAgICogQG5hbWUgZ2V0VmFsdWVIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5BU04xT2JqZWN0I1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWIHZhbHVlKFYpIGJ5dGVzXG4gICAqL1xuICB0aGlzLmdldFZhbHVlSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZ2V0RW5jb2RlZEhleCgpO1xuICAgIHJldHVybiB0aGlzLmhWO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9O1xufTtcbi8vID09IEJFR0lOIERFUkFic3RyYWN0U3RyaW5nID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgc3RyaW5nIGNsYXNzZXNcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGNsYXNzIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBzdHJpbmcgY2xhc3Nlc1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzIGludGVybmFsIHN0cmluZyBvZiB2YWx1ZVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPnN0ciAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIHN0cmluZzwvbGk+XG4gKiA8bGk+aGV4IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgaGV4YWRlY2ltYWwgc3RyaW5nPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgcyA9IG51bGw7XG4gIHZhciBoViA9IG51bGw7XG4gIC8qKlxuICAgKiBnZXQgc3RyaW5nIHZhbHVlIG9mIHRoaXMgc3RyaW5nIG9iamVjdFxuICAgKiBAbmFtZSBnZXRTdHJpbmdcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gc3RyaW5nIHZhbHVlIG9mIHRoaXMgc3RyaW5nIG9iamVjdFxuICAgKi9cbiAgdGhpcy5nZXRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucztcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIHN0cmluZ1xuICAgKiBAbmFtZSBzZXRTdHJpbmdcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTIHZhbHVlIGJ5IGEgc3RyaW5nIHRvIHNldFxuICAgKi9cbiAgdGhpcy5zZXRTdHJpbmcgPSBmdW5jdGlvbiAobmV3Uykge1xuICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICB0aGlzLnMgPSBuZXdTO1xuICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIGhleGFkZWNpbWFsIHN0cmluZ1xuICAgKiBAbmFtZSBzZXRTdHJpbmdIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdIZXhTdHJpbmcgdmFsdWUgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gc2V0XG4gICAqL1xuICB0aGlzLnNldFN0cmluZ0hleCA9IGZ1bmN0aW9uIChuZXdIZXhTdHJpbmcpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5zID0gbnVsbDtcbiAgICB0aGlzLmhWID0gbmV3SGV4U3RyaW5nO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLnNldFN0cmluZyhwYXJhbXMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snc3RyJ10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zWydzdHInXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydoZXgnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldFN0cmluZ0hleChwYXJhbXNbJ2hleCddKTtcbiAgICB9XG4gIH1cbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyA9PSBFTkQgICBERVJBYnN0cmFjdFN0cmluZyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vID09IEJFR0lOIERFUkFic3RyYWN0VGltZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgR2VuZXJhbGl6ZWQvVVRDVGltZSBjbGFzc1xuICogQG5hbWUgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZVxuICogQGNsYXNzIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBHZW5lcmFsaXplZC9VVENUaW1lIGNsYXNzXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJzEzMDQzMDIzNTk1OVonfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICB2YXIgcyA9IG51bGw7XG4gIHZhciBkYXRlID0gbnVsbDtcbiAgLy8gLS0tIFBSSVZBVEUgTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB0aGlzLmxvY2FsRGF0ZVRvVVRDID0gZnVuY3Rpb24gKGQpIHtcbiAgICB1dGMgPSBkLmdldFRpbWUoKSArIGQuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwO1xuICAgIHZhciB1dGNEYXRlID0gbmV3IERhdGUodXRjKTtcbiAgICByZXR1cm4gdXRjRGF0ZTtcbiAgfTtcbiAgLypcbiAgICogZm9ybWF0IGRhdGUgc3RyaW5nIGJ5IERhdGEgb2JqZWN0XG4gICAqIEBuYW1lIGZvcm1hdERhdGVcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5BYnN0cmFjdFRpbWU7XG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZU9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAndXRjJyBvciAnZ2VuJ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdpdGhNaWxsaXMgZmxhZyBmb3Igd2l0aCBtaWxsaXNlY3Rpb25zIG9yIG5vdFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogJ3dpdGhNaWxsaXMnIGZsYWcgaXMgc3VwcG9ydGVkIGZyb20gYXNuMSAxLjAuNi5cbiAgICovXG4gIHRoaXMuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlT2JqZWN0LCB0eXBlLCB3aXRoTWlsbGlzKSB7XG4gICAgdmFyIHBhZCA9IHRoaXMuemVyb1BhZGRpbmc7XG4gICAgdmFyIGQgPSB0aGlzLmxvY2FsRGF0ZVRvVVRDKGRhdGVPYmplY3QpO1xuICAgIHZhciB5ZWFyID0gU3RyaW5nKGQuZ2V0RnVsbFllYXIoKSk7XG4gICAgaWYgKHR5cGUgPT0gJ3V0YycpIHllYXIgPSB5ZWFyLnN1YnN0cigyLCAyKTtcbiAgICB2YXIgbW9udGggPSBwYWQoU3RyaW5nKGQuZ2V0TW9udGgoKSArIDEpLCAyKTtcbiAgICB2YXIgZGF5ID0gcGFkKFN0cmluZyhkLmdldERhdGUoKSksIDIpO1xuICAgIHZhciBob3VyID0gcGFkKFN0cmluZyhkLmdldEhvdXJzKCkpLCAyKTtcbiAgICB2YXIgbWluID0gcGFkKFN0cmluZyhkLmdldE1pbnV0ZXMoKSksIDIpO1xuICAgIHZhciBzZWMgPSBwYWQoU3RyaW5nKGQuZ2V0U2Vjb25kcygpKSwgMik7XG4gICAgdmFyIHMgPSB5ZWFyICsgbW9udGggKyBkYXkgKyBob3VyICsgbWluICsgc2VjO1xuICAgIGlmICh3aXRoTWlsbGlzID09PSB0cnVlKSB7XG4gICAgICB2YXIgbWlsbGlzID0gZC5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgIGlmIChtaWxsaXMgIT0gMCkge1xuICAgICAgICB2YXIgc01pbGxpcyA9IHBhZChTdHJpbmcobWlsbGlzKSwgMyk7XG4gICAgICAgIHNNaWxsaXMgPSBzTWlsbGlzLnJlcGxhY2UoL1swXSskLywgXCJcIik7XG4gICAgICAgIHMgPSBzICsgXCIuXCIgKyBzTWlsbGlzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcyArIFwiWlwiO1xuICB9O1xuICB0aGlzLnplcm9QYWRkaW5nID0gZnVuY3Rpb24gKHMsIGxlbikge1xuICAgIGlmIChzLmxlbmd0aCA+PSBsZW4pIHJldHVybiBzO1xuICAgIHJldHVybiBuZXcgQXJyYXkobGVuIC0gcy5sZW5ndGggKyAxKS5qb2luKCcwJykgKyBzO1xuICB9O1xuICAvLyAtLS0gUFVCTElDIE1FVEhPRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyoqXG4gICAqIGdldCBzdHJpbmcgdmFsdWUgb2YgdGhpcyBzdHJpbmcgb2JqZWN0XG4gICAqIEBuYW1lIGdldFN0cmluZ1xuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gc3RyaW5nIHZhbHVlIG9mIHRoaXMgdGltZSBvYmplY3RcbiAgICovXG4gIHRoaXMuZ2V0U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnM7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBzdHJpbmdcbiAgICogQG5hbWUgc2V0U3RyaW5nXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1MgdmFsdWUgYnkgYSBzdHJpbmcgdG8gc2V0IHN1Y2ggbGlrZSBcIjEzMDQzMDIzNTk1OVpcIlxuICAgKi9cbiAgdGhpcy5zZXRTdHJpbmcgPSBmdW5jdGlvbiAobmV3Uykge1xuICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICB0aGlzLnMgPSBuZXdTO1xuICAgIHRoaXMuaFYgPSBzdG9oZXgobmV3Uyk7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBEYXRlIG9iamVjdFxuICAgKiBAbmFtZSBzZXRCeURhdGVWYWx1ZVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0geWVhciB5ZWFyIG9mIGRhdGUgKGV4LiAyMDEzKVxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IG1vbnRoIG1vbnRoIG9mIGRhdGUgYmV0d2VlbiAxIGFuZCAxMiAoZXguIDEyKVxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IGRheSBkYXkgb2YgbW9udGhcbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBob3VyIGhvdXJzIG9mIGRhdGVcbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBtaW4gbWludXRlcyBvZiBkYXRlXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gc2VjIHNlY29uZHMgb2YgZGF0ZVxuICAgKi9cbiAgdGhpcy5zZXRCeURhdGVWYWx1ZSA9IGZ1bmN0aW9uICh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW4sIHNlYykge1xuICAgIHZhciBkYXRlT2JqZWN0ID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXIsIG1pbiwgc2VjLCAwKSk7XG4gICAgdGhpcy5zZXRCeURhdGUoZGF0ZU9iamVjdCk7XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuLy8gPT0gRU5EICAgREVSQWJzdHJhY3RUaW1lID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyA9PSBCRUdJTiBERVJBYnN0cmFjdFN0cnVjdHVyZWQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogYmFzZSBjbGFzcyBmb3IgQVNOLjEgREVSIHN0cnVjdHVyZWQgY2xhc3NcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWRcbiAqIEBjbGFzcyBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgc3RydWN0dXJlZCBjbGFzc1xuICogQHByb3BlcnR5IHtBcnJheX0gYXNuMUFycmF5IGludGVybmFsIGFycmF5IG9mIEFTTjFPYmplY3RcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHZhciBhc24xQXJyYXkgPSBudWxsO1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGFycmF5IG9mIEFTTjFPYmplY3RcbiAgICogQG5hbWUgc2V0QnlBU04xT2JqZWN0QXJyYXlcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge2FycmF5fSBhc24xT2JqZWN0QXJyYXkgYXJyYXkgb2YgQVNOMU9iamVjdCB0byBzZXRcbiAgICovXG4gIHRoaXMuc2V0QnlBU04xT2JqZWN0QXJyYXkgPSBmdW5jdGlvbiAoYXNuMU9iamVjdEFycmF5KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuYXNuMUFycmF5ID0gYXNuMU9iamVjdEFycmF5O1xuICB9O1xuICAvKipcbiAgICogYXBwZW5kIGFuIEFTTjFPYmplY3QgdG8gaW50ZXJuYWwgYXJyYXlcbiAgICogQG5hbWUgYXBwZW5kQVNOMU9iamVjdFxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7QVNOMU9iamVjdH0gYXNuMU9iamVjdCB0byBhZGRcbiAgICovXG4gIHRoaXMuYXBwZW5kQVNOMU9iamVjdCA9IGZ1bmN0aW9uIChhc24xT2JqZWN0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuYXNuMUFycmF5LnB1c2goYXNuMU9iamVjdCk7XG4gIH07XG4gIHRoaXMuYXNuMUFycmF5ID0gbmV3IEFycmF5KCk7XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtc1snYXJyYXknXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmFzbjFBcnJheSA9IHBhcmFtc1snYXJyYXknXTtcbiAgICB9XG4gIH1cbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICBBU04uMSBPYmplY3QgQ2xhc3Nlc1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgQm9vbGVhblxuICogQG5hbWUgS0pVUi5hc24xLkRFUkJvb2xlYW5cbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIEJvb2xlYW5cbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJCb29sZWFuID0gZnVuY3Rpb24gKCkge1xuICBLSlVSLmFzbjEuREVSQm9vbGVhbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjAxXCI7XG4gIHRoaXMuaFRMViA9IFwiMDEwMWZmXCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJCb29sZWFuLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIEludGVnZXJcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJJbnRlZ2VyXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBJbnRlZ2VyXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+aW50IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGludGVnZXIgdmFsdWU8L2xpPlxuICogPGxpPmJpZ2ludCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBCaWdJbnRlZ2VyIG9iamVjdDwvbGk+XG4gKiA8bGk+aGV4IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgaGV4YWRlY2ltYWwgc3RyaW5nPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUkludGVnZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJJbnRlZ2VyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5oVCA9IFwiMDJcIjtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBUb20gV3UncyBCaWdJbnRlZ2VyIG9iamVjdFxuICAgKiBAbmFtZSBzZXRCeUJpZ0ludGVnZXJcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJJbnRlZ2VyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtCaWdJbnRlZ2VyfSBiaWdJbnRlZ2VyVmFsdWUgdG8gc2V0XG4gICAqL1xuICB0aGlzLnNldEJ5QmlnSW50ZWdlciA9IGZ1bmN0aW9uIChiaWdJbnRlZ2VyVmFsdWUpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5oViA9IEtKVVIuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleChiaWdJbnRlZ2VyVmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGludGVnZXIgdmFsdWVcbiAgICogQG5hbWUgc2V0QnlJbnRlZ2VyXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSSW50ZWdlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBpbnRlZ2VyIHZhbHVlIHRvIHNldFxuICAgKi9cbiAgdGhpcy5zZXRCeUludGVnZXIgPSBmdW5jdGlvbiAoaW50VmFsdWUpIHtcbiAgICB2YXIgYmkgPSBuZXcgX2pzYm4uQmlnSW50ZWdlcihTdHJpbmcoaW50VmFsdWUpLCAxMCk7XG4gICAgdGhpcy5zZXRCeUJpZ0ludGVnZXIoYmkpO1xuICB9O1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGludGVnZXIgdmFsdWVcbiAgICogQG5hbWUgc2V0VmFsdWVIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJJbnRlZ2VyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IGhleGFkZWNpbWFsIHN0cmluZyBvZiBpbnRlZ2VyIHZhbHVlXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiA8YnIvPlxuICAgKiBOT1RFOiBWYWx1ZSBzaGFsbCBiZSByZXByZXNlbnRlZCBieSBtaW5pbXVtIG9jdGV0IGxlbmd0aCBvZlxuICAgKiB0d28ncyBjb21wbGVtZW50IHJlcHJlc2VudGF0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKiBuZXcgS0pVUi5hc24xLkRFUkludGVnZXIoMTIzKTtcbiAgICogbmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsnaW50JzogMTIzfSk7XG4gICAqIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7J2hleCc6ICcxZmFkJ30pO1xuICAgKi9cbiAgdGhpcy5zZXRWYWx1ZUhleCA9IGZ1bmN0aW9uIChuZXdIZXhTdHJpbmcpIHtcbiAgICB0aGlzLmhWID0gbmV3SGV4U3RyaW5nO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtc1snYmlnaW50J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5zZXRCeUJpZ0ludGVnZXIocGFyYW1zWydiaWdpbnQnXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydpbnQnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5SW50ZWdlcihwYXJhbXNbJ2ludCddKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMgPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5zZXRCeUludGVnZXIocGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXNbJ2hleCddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVIZXgocGFyYW1zWydoZXgnXSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJJbnRlZ2VyLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIGVuY29kZWQgQml0U3RyaW5nIHByaW1pdGl2ZVxuICogQG5hbWUgS0pVUi5hc24xLkRFUkJpdFN0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgZW5jb2RlZCBCaXRTdHJpbmcgcHJpbWl0aXZlXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+YmluIC0gc3BlY2lmeSBiaW5hcnkgc3RyaW5nIChleC4gJzEwMTExJyk8L2xpPlxuICogPGxpPmFycmF5IC0gc3BlY2lmeSBhcnJheSBvZiBib29sZWFuIChleC4gW3RydWUsZmFsc2UsdHJ1ZSx0cnVlXSk8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIHZhbHVlKFYpIGluY2x1ZGluZyB1bnVzZWQgYml0czwvbGk+XG4gKiA8bGk+b2JqIC0gc3BlY2lmeSB7QGxpbmsgS0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdH1cbiAqIGFyZ3VtZW50IGZvciBcIkJpdFN0cmluZyBlbmNhcHN1bGF0ZXNcIiBzdHJ1Y3R1cmUuPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFMTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuPGJyLz5cbiAqIE5PVEUyOiAnb2JqJyBwYXJhbWV0ZXIgaGF2ZSBiZWVuIHN1cHBvcnRlZCBzaW5jZVxuICogYXNuMSAxLjAuMTEsIGpzcnNhc2lnbiA2LjEuMSAoMjAxNi1TZXAtMjUpLjxici8+XG4gKiBAZXhhbXBsZVxuICogLy8gZGVmYXVsdCBjb25zdHJ1Y3RvclxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKCk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggYmluYXJ5IHN0cmluZ1xuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHtiaW46IFwiMTAxMVwifSk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggYm9vbGVhbiBhcnJheVxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHthcnJheTogW3RydWUsZmFsc2UsdHJ1ZSx0cnVlXX0pO1xuICogLy8gaW5pdGlhbGl6ZSB3aXRoIGhleGFkZWNpbWFsIHN0cmluZyAoMDQgaXMgdW51c2VkIGJpdHMpXG4gKiBvID0gbmV3IEtKVVIuYXNuMS5ERVJPY3RldFN0cmluZyh7aGV4OiBcIjA0YmFjMFwifSk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggQVNOMVV0aWwubmV3T2JqZWN0IGFyZ3VtZW50IGZvciBlbmNhcHN1bGF0ZWRcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7b2JqOiB7c2VxOiBbe2ludDogM30sIHtwcm5zdHI6ICdhYWEnfV19fSk7XG4gKiAvLyBhYm92ZSBnZW5lcmF0ZXMgYSBBU04uMSBkYXRhIGxpa2UgdGhpczpcbiAqIC8vIEJJVCBTVFJJTkcsIGVuY2Fwc3VsYXRlcyB7XG4gKiAvLyAgIFNFUVVFTkNFIHtcbiAqIC8vICAgICBJTlRFR0VSIDNcbiAqIC8vICAgICBQcmludGFibGVTdHJpbmcgJ2FhYSdcbiAqIC8vICAgICB9XG4gKiAvLyAgIH1cbiAqL1xuS0pVUi5hc24xLkRFUkJpdFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwYXJhbXMub2JqICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIG8gPSBLSlVSLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHBhcmFtcy5vYmopO1xuICAgIHBhcmFtcy5oZXggPSBcIjAwXCIgKyBvLmdldEVuY29kZWRIZXgoKTtcbiAgfVxuICBLSlVSLmFzbjEuREVSQml0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5oVCA9IFwiMDNcIjtcbiAgLyoqXG4gICAqIHNldCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZyBpbmNsdWRpbmcgdW51c2VkIGJpdHNcbiAgICogQG5hbWUgc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQml0U3RyaW5nI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld0hleFN0cmluZ0luY2x1ZGluZ1VudXNlZEJpdHNcbiAgICovXG4gIHRoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzID0gZnVuY3Rpb24gKG5ld0hleFN0cmluZ0luY2x1ZGluZ1VudXNlZEJpdHMpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5oViA9IG5ld0hleFN0cmluZ0luY2x1ZGluZ1VudXNlZEJpdHM7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgQVNOLjEgdmFsdWUoVikgYnkgdW51c2VkIGJpdCBhbmQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIHZhbHVlXG4gICAqIEBuYW1lIHNldFVudXNlZEJpdHNBbmRIZXhWYWx1ZVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkJpdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gdW51c2VkQml0c1xuICAgKiBAcGFyYW0ge1N0cmluZ30gaFZhbHVlXG4gICAqL1xuICB0aGlzLnNldFVudXNlZEJpdHNBbmRIZXhWYWx1ZSA9IGZ1bmN0aW9uICh1bnVzZWRCaXRzLCBoVmFsdWUpIHtcbiAgICBpZiAodW51c2VkQml0cyA8IDAgfHwgNyA8IHVudXNlZEJpdHMpIHtcbiAgICAgIHRocm93IFwidW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIiArIHVudXNlZEJpdHM7XG4gICAgfVxuICAgIHZhciBoVW51c2VkQml0cyA9IFwiMFwiICsgdW51c2VkQml0cztcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5oViA9IGhVbnVzZWRCaXRzICsgaFZhbHVlO1xuICB9O1xuICAvKipcbiAgICogc2V0IEFTTi4xIERFUiBCaXRTdHJpbmcgYnkgYmluYXJ5IHN0cmluZzxici8+XG4gICAqIEBuYW1lIHNldEJ5QmluYXJ5U3RyaW5nXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQml0U3RyaW5nI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IGJpbmFyeVN0cmluZyBiaW5hcnkgdmFsdWUgc3RyaW5nIChpLmUuICcxMDExMScpXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJdHMgdW51c2VkIGJpdHMgd2lsbCBiZSBjYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYnkgbGVuZ3RoIG9mXG4gICAqICdiaW5hcnlWYWx1ZScuIDxici8+XG4gICAqIE5PVEU6IFRyYWlsaW5nIHplcm9zICcwJyB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIEBleGFtcGxlXG4gICAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZygpO1xuICAgKiBvLnNldEJ5Qm9vbGVhbkFycmF5KFwiMDEwMTFcIik7XG4gICAqL1xuICB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nID0gZnVuY3Rpb24gKGJpbmFyeVN0cmluZykge1xuICAgIGJpbmFyeVN0cmluZyA9IGJpbmFyeVN0cmluZy5yZXBsYWNlKC8wKyQvLCAnJyk7XG4gICAgdmFyIHVudXNlZEJpdHMgPSA4IC0gYmluYXJ5U3RyaW5nLmxlbmd0aCAlIDg7XG4gICAgaWYgKHVudXNlZEJpdHMgPT0gOCkgdW51c2VkQml0cyA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gdW51c2VkQml0czsgaSsrKSB7XG4gICAgICBiaW5hcnlTdHJpbmcgKz0gJzAnO1xuICAgIH1cbiAgICB2YXIgaCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluYXJ5U3RyaW5nLmxlbmd0aCAtIDE7IGkgKz0gOCkge1xuICAgICAgdmFyIGIgPSBiaW5hcnlTdHJpbmcuc3Vic3RyKGksIDgpO1xuICAgICAgdmFyIHggPSBwYXJzZUludChiLCAyKS50b1N0cmluZygxNik7XG4gICAgICBpZiAoeC5sZW5ndGggPT0gMSkgeCA9ICcwJyArIHg7XG4gICAgICBoICs9IHg7XG4gICAgfVxuICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICB0aGlzLmhWID0gJzAnICsgdW51c2VkQml0cyArIGg7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgQVNOLjEgVExWIHZhbHVlKFYpIGJ5IGFuIGFycmF5IG9mIGJvb2xlYW48YnIvPlxuICAgKiBAbmFtZSBzZXRCeUJvb2xlYW5BcnJheVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkJpdFN0cmluZyNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7YXJyYXl9IGJvb2xlYW5BcnJheSBhcnJheSBvZiBib29sZWFuIChleC4gW3RydWUsIGZhbHNlLCB0cnVlXSlcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIE5PVEU6IFRyYWlsaW5nIGZhbHNlcyB3aWxsIGJlIGlnbm9yZWQgaW4gdGhlIEFTTi4xIERFUiBPYmplY3QuXG4gICAqIEBleGFtcGxlXG4gICAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZygpO1xuICAgKiBvLnNldEJ5Qm9vbGVhbkFycmF5KFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIHRydWUsIHRydWVdKTtcbiAgICovXG4gIHRoaXMuc2V0QnlCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoYm9vbGVhbkFycmF5KSB7XG4gICAgdmFyIHMgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvb2xlYW5BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGJvb2xlYW5BcnJheVtpXSA9PSB0cnVlKSB7XG4gICAgICAgIHMgKz0gJzEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyArPSAnMCc7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2V0QnlCaW5hcnlTdHJpbmcocyk7XG4gIH07XG4gIC8qKlxuICAgKiBnZW5lcmF0ZSBhbiBhcnJheSBvZiBmYWxzZXMgd2l0aCBzcGVjaWZpZWQgbGVuZ3RoPGJyLz5cbiAgICogQG5hbWUgbmV3RmFsc2VBcnJheVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkJpdFN0cmluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBuTGVuZ3RoIGxlbmd0aCBvZiBhcnJheSB0byBnZW5lcmF0ZVxuICAgKiBAcmV0dXJuIHthcnJheX0gYXJyYXkgb2YgYm9vbGVhbiBmYWxzZXNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgc3RhdGljIG1ldGhvZCBtYXkgYmUgdXNlZnVsIHRvIGluaXRpYWxpemUgYm9vbGVhbiBhcnJheS5cbiAgICogQGV4YW1wbGVcbiAgICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKCk7XG4gICAqIG8ubmV3RmFsc2VBcnJheSgzKSAmcmFycjsgW2ZhbHNlLCBmYWxzZSwgZmFsc2VdXG4gICAqL1xuICB0aGlzLm5ld0ZhbHNlQXJyYXkgPSBmdW5jdGlvbiAobkxlbmd0aCkge1xuICAgIHZhciBhID0gbmV3IEFycmF5KG5MZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbkxlbmd0aDsgaSsrKSB7XG4gICAgICBhW2ldID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PSBcInN0cmluZ1wiICYmIHBhcmFtcy50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pKSB7XG4gICAgICB0aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cyhwYXJhbXMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snaGV4J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHMocGFyYW1zWydoZXgnXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydiaW4nXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nKHBhcmFtc1snYmluJ10pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snYXJyYXknXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5Qm9vbGVhbkFycmF5KHBhcmFtc1snYXJyYXknXSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcsIEtKVVIuYXNuMS5BU04xT2JqZWN0KTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgT2N0ZXRTdHJpbmc8YnIvPlxuICogQG5hbWUgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBPY3RldFN0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIEFTTi4xIE9jdGV0U3RyaW5nIHNpbXBsZSB0eXBlLjxici8+XG4gKiBTdXBwb3J0ZWQgXCJwYXJhbXNcIiBhdHRyaWJ1dGVzIGFyZTpcbiAqIDx1bD5cbiAqIDxsaT5zdHIgLSB0byBzZXQgYSBzdHJpbmcgYXMgYSB2YWx1ZTwvbGk+XG4gKiA8bGk+aGV4IC0gdG8gc2V0IGEgaGV4YWRlY2ltYWwgc3RyaW5nIGFzIGEgdmFsdWU8L2xpPlxuICogPGxpPm9iaiAtIHRvIHNldCBhIGVuY2Fwc3VsYXRlZCBBU04uMSB2YWx1ZSBieSBKU09OIG9iamVjdFxuICogd2hpY2ggaXMgZGVmaW5lZCBpbiB7QGxpbmsgS0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdH08L2xpPlxuICogPC91bD5cbiAqIE5PVEU6IEEgcGFyYW1ldGVyICdvYmonIGhhdmUgYmVlbiBzdXBwb3J0ZWRcbiAqIGZvciBcIk9DVEVUIFNUUklORywgZW5jYXBzdWxhdGVzXCIgc3RydWN0dXJlLlxuICogc2luY2UgYXNuMSAxLjAuMTEsIGpzcnNhc2lnbiA2LjEuMSAoMjAxNi1TZXAtMjUpLlxuICogQHNlZSBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcgLSBzdXBlcmNsYXNzXG4gKiBAZXhhbXBsZVxuICogLy8gZGVmYXVsdCBjb25zdHJ1Y3RvclxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmcoKTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBzdHJpbmdcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtzdHI6IFwiYWFhXCJ9KTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBoZXhhZGVjaW1hbCBzdHJpbmdcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtoZXg6IFwiNjE2MTYxXCJ9KTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBBU04xVXRpbC5uZXdPYmplY3QgYXJndW1lbnRcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtvYmo6IHtzZXE6IFt7aW50OiAzfSwge3BybnN0cjogJ2FhYSd9XX19KTtcbiAqIC8vIGFib3ZlIGdlbmVyYXRlcyBhIEFTTi4xIGRhdGEgbGlrZSB0aGlzOlxuICogLy8gT0NURVQgU1RSSU5HLCBlbmNhcHN1bGF0ZXMge1xuICogLy8gICBTRVFVRU5DRSB7XG4gKiAvLyAgICAgSU5URUdFUiAzXG4gKiAvLyAgICAgUHJpbnRhYmxlU3RyaW5nICdhYWEnXG4gKiAvLyAgICAgfVxuICogLy8gICB9XG4gKi9cbktKVVIuYXNuMS5ERVJPY3RldFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwYXJhbXMub2JqICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIG8gPSBLSlVSLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHBhcmFtcy5vYmopO1xuICAgIHBhcmFtcy5oZXggPSBvLmdldEVuY29kZWRIZXgoKTtcbiAgfVxuICBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjA0XCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJPY3RldFN0cmluZywgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgTnVsbFxuICogQG5hbWUgS0pVUi5hc24xLkRFUk51bGxcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIE51bGxcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJOdWxsID0gZnVuY3Rpb24gKCkge1xuICBLSlVSLmFzbjEuREVSTnVsbC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjA1XCI7XG4gIHRoaXMuaFRMViA9IFwiMDUwMFwiO1xufTtcbl95YWhvby5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSTnVsbCwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBPYmplY3RJZGVudGlmaWVyXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllclxuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgT2JqZWN0SWRlbnRpZmllclxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J29pZCc6ICcyLjUuNC41J30pXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+b2lkIC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgb2lkIHN0cmluZyAoZXguIDIuNS40LjEzKTwvbGk+XG4gKiA8bGk+aGV4IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgaGV4YWRlY2ltYWwgc3RyaW5nPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIHZhciBpdG94ID0gZnVuY3Rpb24gKGkpIHtcbiAgICB2YXIgaCA9IGkudG9TdHJpbmcoMTYpO1xuICAgIGlmIChoLmxlbmd0aCA9PSAxKSBoID0gJzAnICsgaDtcbiAgICByZXR1cm4gaDtcbiAgfTtcbiAgdmFyIHJvaWR0b3ggPSBmdW5jdGlvbiAocm9pZCkge1xuICAgIHZhciBoID0gJyc7XG4gICAgdmFyIGJpID0gbmV3IF9qc2JuLkJpZ0ludGVnZXIocm9pZCwgMTApO1xuICAgIHZhciBiID0gYmkudG9TdHJpbmcoMik7XG4gICAgdmFyIHBhZExlbiA9IDcgLSBiLmxlbmd0aCAlIDc7XG4gICAgaWYgKHBhZExlbiA9PSA3KSBwYWRMZW4gPSAwO1xuICAgIHZhciBiUGFkID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWRMZW47IGkrKykgYlBhZCArPSAnMCc7XG4gICAgYiA9IGJQYWQgKyBiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGggLSAxOyBpICs9IDcpIHtcbiAgICAgIHZhciBiOCA9IGIuc3Vic3RyKGksIDcpO1xuICAgICAgaWYgKGkgIT0gYi5sZW5ndGggLSA3KSBiOCA9ICcxJyArIGI4O1xuICAgICAgaCArPSBpdG94KHBhcnNlSW50KGI4LCAyKSk7XG4gICAgfVxuICAgIHJldHVybiBoO1xuICB9O1xuICBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjA2XCI7XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmdcbiAgICogQG5hbWUgc2V0VmFsdWVIZXhcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld0hleFN0cmluZyBoZXhhZGVjaW1hbCB2YWx1ZSBvZiBPSUQgYnl0ZXNcbiAgICovXG4gIHRoaXMuc2V0VmFsdWVIZXggPSBmdW5jdGlvbiAobmV3SGV4U3RyaW5nKSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMucyA9IG51bGw7XG4gICAgdGhpcy5oViA9IG5ld0hleFN0cmluZztcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIE9JRCBzdHJpbmc8YnIvPlxuICAgKiBAbmFtZSBzZXRWYWx1ZU9pZFN0cmluZ1xuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gb2lkU3RyaW5nIE9JRCBzdHJpbmcgKGV4LiAyLjUuNC4xMylcbiAgICogQGV4YW1wbGVcbiAgICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcigpO1xuICAgKiBvLnNldFZhbHVlT2lkU3RyaW5nKFwiMi41LjQuMTNcIik7XG4gICAqL1xuICB0aGlzLnNldFZhbHVlT2lkU3RyaW5nID0gZnVuY3Rpb24gKG9pZFN0cmluZykge1xuICAgIGlmICghb2lkU3RyaW5nLm1hdGNoKC9eWzAtOS5dKyQvKSkge1xuICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIgKyBvaWRTdHJpbmc7XG4gICAgfVxuICAgIHZhciBoID0gJyc7XG4gICAgdmFyIGEgPSBvaWRTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICB2YXIgaTAgPSBwYXJzZUludChhWzBdKSAqIDQwICsgcGFyc2VJbnQoYVsxXSk7XG4gICAgaCArPSBpdG94KGkwKTtcbiAgICBhLnNwbGljZSgwLCAyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGggKz0gcm9pZHRveChhW2ldKTtcbiAgICB9XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMucyA9IG51bGw7XG4gICAgdGhpcy5oViA9IGg7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgYSBPSUQgbmFtZVxuICAgKiBAbmFtZSBzZXRWYWx1ZU5hbWVcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IG9pZE5hbWUgT0lEIG5hbWUgKGV4LiAnc2VydmVyQXV0aCcpXG4gICAqIEBzaW5jZSAxLjAuMVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogT0lEIG5hbWUgc2hhbGwgYmUgZGVmaW5lZCBpbiAnS0pVUi5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdCcuXG4gICAqIE90aGVyd2lzZSByYWlzZSBlcnJvci5cbiAgICogQGV4YW1wbGVcbiAgICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcigpO1xuICAgKiBvLnNldFZhbHVlTmFtZShcInNlcnZlckF1dGhcIik7XG4gICAqL1xuICB0aGlzLnNldFZhbHVlTmFtZSA9IGZ1bmN0aW9uIChvaWROYW1lKSB7XG4gICAgdmFyIG9pZCA9IEtKVVIuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZChvaWROYW1lKTtcbiAgICBpZiAob2lkICE9PSAnJykge1xuICAgICAgdGhpcy5zZXRWYWx1ZU9pZFN0cmluZyhvaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIkRFUk9iamVjdElkZW50aWZpZXIgb2lkTmFtZSB1bmRlZmluZWQ6IFwiICsgb2lkTmFtZTtcbiAgICB9XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGlmIChwYXJhbXMubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pKSB7XG4gICAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcocGFyYW1zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0VmFsdWVOYW1lKHBhcmFtcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJhbXMub2lkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcocGFyYW1zLm9pZCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuaGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVIZXgocGFyYW1zLmhleCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFZhbHVlTmFtZShwYXJhbXMubmFtZSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIEVudW1lcmF0ZWRcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBFbnVtZXJhdGVkXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+aW50IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGludGVnZXIgdmFsdWU8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZzwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKiBAZXhhbXBsZVxuICogbmV3IEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkKDEyMyk7XG4gKiBuZXcgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQoe2ludDogMTIzfSk7XG4gKiBuZXcgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQoe2hleDogJzFmYWQnfSk7XG4gKi9cbktKVVIuYXNuMS5ERVJFbnVtZXJhdGVkID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSRW51bWVyYXRlZC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaFQgPSBcIjBhXCI7XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgVG9tIFd1J3MgQmlnSW50ZWdlciBvYmplY3RcbiAgICogQG5hbWUgc2V0QnlCaWdJbnRlZ2VyXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSRW51bWVyYXRlZCNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7QmlnSW50ZWdlcn0gYmlnSW50ZWdlclZhbHVlIHRvIHNldFxuICAgKi9cbiAgdGhpcy5zZXRCeUJpZ0ludGVnZXIgPSBmdW5jdGlvbiAoYmlnSW50ZWdlclZhbHVlKSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuaFYgPSBLSlVSLmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgoYmlnSW50ZWdlclZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBpbnRlZ2VyIHZhbHVlXG4gICAqIEBuYW1lIHNldEJ5SW50ZWdlclxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IGludGVnZXIgdmFsdWUgdG8gc2V0XG4gICAqL1xuICB0aGlzLnNldEJ5SW50ZWdlciA9IGZ1bmN0aW9uIChpbnRWYWx1ZSkge1xuICAgIHZhciBiaSA9IG5ldyBfanNibi5CaWdJbnRlZ2VyKFN0cmluZyhpbnRWYWx1ZSksIDEwKTtcbiAgICB0aGlzLnNldEJ5QmlnSW50ZWdlcihiaSk7XG4gIH07XG4gIC8qKlxuICAgKiBzZXQgdmFsdWUgYnkgaW50ZWdlciB2YWx1ZVxuICAgKiBAbmFtZSBzZXRWYWx1ZUhleFxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQjXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIGludGVnZXIgdmFsdWVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIDxici8+XG4gICAqIE5PVEU6IFZhbHVlIHNoYWxsIGJlIHJlcHJlc2VudGVkIGJ5IG1pbmltdW0gb2N0ZXQgbGVuZ3RoIG9mXG4gICAqIHR3bydzIGNvbXBsZW1lbnQgcmVwcmVzZW50YXRpb24uXG4gICAqL1xuICB0aGlzLnNldFZhbHVlSGV4ID0gZnVuY3Rpb24gKG5ld0hleFN0cmluZykge1xuICAgIHRoaXMuaFYgPSBuZXdIZXhTdHJpbmc7XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbiAgaWYgKHR5cGVvZiBwYXJhbXMgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zWydpbnQnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLnNldEJ5SW50ZWdlcihwYXJhbXNbJ2ludCddKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMgPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5zZXRCeUludGVnZXIocGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXNbJ2hleCddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVIZXgocGFyYW1zWydoZXgnXSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFVURjhTdHJpbmdcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBVVEY4U3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJ2FhYSd9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nIC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSVVRGOFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUlVURjhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjBjXCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBOdW1lcmljU3RyaW5nXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSTnVtZXJpY1N0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgTnVtZXJpY1N0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyAtIHN1cGVyY2xhc3NcbiAqL1xuS0pVUi5hc24xLkRFUk51bWVyaWNTdHJpbmcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJOdW1lcmljU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIxMlwiO1xufTtcbl95YWhvby5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSTnVtZXJpY1N0cmluZywgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgUHJpbnRhYmxlU3RyaW5nXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBQcmludGFibGVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnYWFhJ30pXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmdcbiAqIEBkZXNjcmlwdGlvblxuICogQHNlZSBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjEzXCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcsIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFRlbGV0ZXhTdHJpbmdcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBUZWxldGV4U3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJ2FhYSd9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nIC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSVGVsZXRleFN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUlRlbGV0ZXhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjE0XCI7XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBJQTVTdHJpbmdcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJJQTVTdHJpbmdcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIElBNVN0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyAtIHN1cGVyY2xhc3NcbiAqL1xuS0pVUi5hc24xLkRFUklBNVN0cmluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUklBNVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgdGhpcy5oVCA9IFwiMTZcIjtcbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUklBNVN0cmluZywgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgVVRDVGltZVxuICogQG5hbWUgS0pVUi5hc24xLkRFUlVUQ1RpbWVcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIFVUQ1RpbWVcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnMTMwNDMwMjM1OTU5Wid9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZVxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+c3RyIC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgc3RyaW5nIChleC4nMTMwNDMwMjM1OTU5WicpPC9saT5cbiAqIDxsaT5oZXggLSBzcGVjaWZ5IGluaXRpYWwgQVNOLjEgdmFsdWUoVikgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmc8L2xpPlxuICogPGxpPmRhdGUgLSBzcGVjaWZ5IERhdGUgb2JqZWN0LjwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKiA8aDQ+RVhBTVBMRVM8L2g0PlxuICogQGV4YW1wbGVcbiAqIGQxID0gbmV3IEtKVVIuYXNuMS5ERVJVVENUaW1lKCk7XG4gKiBkMS5zZXRTdHJpbmcoJzEzMDQzMDEyNTk1OVonKTtcbiAqXG4gKiBkMiA9IG5ldyBLSlVSLmFzbjEuREVSVVRDVGltZSh7J3N0cic6ICcxMzA0MzAxMjU5NTlaJ30pO1xuICogZDMgPSBuZXcgS0pVUi5hc24xLkRFUlVUQ1RpbWUoeydkYXRlJzogbmV3IERhdGUoRGF0ZS5VVEMoMjAxNSwgMCwgMzEsIDAsIDAsIDAsIDApKX0pO1xuICogZDQgPSBuZXcgS0pVUi5hc24xLkRFUlVUQ1RpbWUoJzEzMDQzMDEyNTk1OVonKTtcbiAqL1xuS0pVUi5hc24xLkRFUlVUQ1RpbWUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJVVENUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIxN1wiO1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGEgRGF0ZSBvYmplY3Q8YnIvPlxuICAgKiBAbmFtZSBzZXRCeURhdGVcbiAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJVVENUaW1lI1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtEYXRlfSBkYXRlT2JqZWN0IERhdGUgb2JqZWN0IHRvIHNldCBBU04uMSB2YWx1ZShWKVxuICAgKiBAZXhhbXBsZVxuICAgKiBvID0gbmV3IEtKVVIuYXNuMS5ERVJVVENUaW1lKCk7XG4gICAqIG8uc2V0QnlEYXRlKG5ldyBEYXRlKFwiMjAxNi8xMi8zMVwiKSk7XG4gICAqL1xuICB0aGlzLnNldEJ5RGF0ZSA9IGZ1bmN0aW9uIChkYXRlT2JqZWN0KSB7XG4gICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgIHRoaXMuZGF0ZSA9IGRhdGVPYmplY3Q7XG4gICAgdGhpcy5zID0gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwgJ3V0YycpO1xuICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgfTtcbiAgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5kYXRlID09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHRoaXMucyA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5zID0gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwgJ3V0YycpO1xuICAgICAgdGhpcy5oViA9IHN0b2hleCh0aGlzLnMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oVjtcbiAgfTtcbiAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHBhcmFtcy5zdHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zLnN0cik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zID09IFwic3RyaW5nXCIgJiYgcGFyYW1zLm1hdGNoKC9eWzAtOV17MTJ9WiQvKSkge1xuICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zKTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5oZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRTdHJpbmdIZXgocGFyYW1zLmhleCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldEJ5RGF0ZShwYXJhbXMuZGF0ZSk7XG4gICAgfVxuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJVVENUaW1lLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lKTtcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgR2VuZXJhbGl6ZWRUaW1lXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBHZW5lcmFsaXplZFRpbWVcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnMjAxMzA0MzAyMzU5NTlaJ30pXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHdpdGhNaWxsaXMgZmxhZyB0byBzaG93IG1pbGxpc2Vjb25kcyBvciBub3RcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWVcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPnN0ciAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIHN0cmluZyAoZXguJzIwMTMwNDMwMjM1OTU5WicpPC9saT5cbiAqIDxsaT5oZXggLSBzcGVjaWZ5IGluaXRpYWwgQVNOLjEgdmFsdWUoVikgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmc8L2xpPlxuICogPGxpPmRhdGUgLSBzcGVjaWZ5IERhdGUgb2JqZWN0LjwvbGk+XG4gKiA8bGk+bWlsbGlzIC0gc3BlY2lmeSBmbGFnIHRvIHNob3cgbWlsbGlzZWNvbmRzIChmcm9tIDEuMC42KTwvbGk+XG4gKiA8L3VsPlxuICogTk9URTE6ICdwYXJhbXMnIGNhbiBiZSBvbWl0dGVkLlxuICogTk9URTI6ICd3aXRoTWlsbGlzJyBwcm9wZXJ0eSBpcyBzdXBwb3J0ZWQgZnJvbSBhc24xIDEuMC42LlxuICovXG5LSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIxOFwiO1xuICB0aGlzLndpdGhNaWxsaXMgPSBmYWxzZTtcbiAgLyoqXG4gICAqIHNldCB2YWx1ZSBieSBhIERhdGUgb2JqZWN0XG4gICAqIEBuYW1lIHNldEJ5RGF0ZVxuICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZSNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZU9iamVjdCBEYXRlIG9iamVjdCB0byBzZXQgQVNOLjEgdmFsdWUoVilcbiAgICogQGV4YW1wbGVcbiAgICogV2hlbiB5b3Ugc3BlY2lmeSBVVEMgdGltZSwgdXNlICdEYXRlLlVUQycgbWV0aG9kIGxpa2UgdGhpczo8YnIvPlxuICAgKiBvMSA9IG5ldyBERVJVVENUaW1lKCk7XG4gICAqIG8xLnNldEJ5RGF0ZShkYXRlKTtcbiAgICpcbiAgICogZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDKDIwMTUsIDAsIDMxLCAyMywgNTksIDU5LCAwKSk7ICMyMDE1SkFOMzEgMjM6NTk6NTlcbiAgICovXG4gIHRoaXMuc2V0QnlEYXRlID0gZnVuY3Rpb24gKGRhdGVPYmplY3QpIHtcbiAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgdGhpcy5kYXRlID0gZGF0ZU9iamVjdDtcbiAgICB0aGlzLnMgPSB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCAnZ2VuJywgdGhpcy53aXRoTWlsbGlzKTtcbiAgICB0aGlzLmhWID0gc3RvaGV4KHRoaXMucyk7XG4gIH07XG4gIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5kYXRlID09PSB1bmRlZmluZWQgJiYgdGhpcy5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICB0aGlzLnMgPSB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCAnZ2VuJywgdGhpcy53aXRoTWlsbGlzKTtcbiAgICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmIChwYXJhbXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwYXJhbXMuc3RyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RyaW5nKHBhcmFtcy5zdHIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PSBcInN0cmluZ1wiICYmIHBhcmFtcy5tYXRjaCgvXlswLTldezE0fVokLykpIHtcbiAgICAgIHRoaXMuc2V0U3RyaW5nKHBhcmFtcyk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuaGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RyaW5nSGV4KHBhcmFtcy5oZXgpO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRCeURhdGUocGFyYW1zLmRhdGUpO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLm1pbGxpcyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy53aXRoTWlsbGlzID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5feWFob28uWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZSwgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFNlcXVlbmNlXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSU2VxdWVuY2VcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIFNlcXVlbmNlXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkXG4gKiBAZGVzY3JpcHRpb25cbiAqIDxici8+XG4gKiBBcyBmb3IgYXJndW1lbnQgJ3BhcmFtcycgZm9yIGNvbnN0cnVjdG9yLCB5b3UgY2FuIHNwZWNpZnkgb25lIG9mXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIDx1bD5cbiAqIDxsaT5hcnJheSAtIHNwZWNpZnkgYXJyYXkgb2YgQVNOMU9iamVjdCB0byBzZXQgZWxlbWVudHMgb2YgY29udGVudDwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbktKVVIuYXNuMS5ERVJTZXF1ZW5jZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgS0pVUi5hc24xLkRFUlNlcXVlbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICB0aGlzLmhUID0gXCIzMFwiO1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGggPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXNuMUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXNuMU9iaiA9IHRoaXMuYXNuMUFycmF5W2ldO1xuICAgICAgaCArPSBhc24xT2JqLmdldEVuY29kZWRIZXgoKTtcbiAgICB9XG4gICAgdGhpcy5oViA9IGg7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSwgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCk7XG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFNldFxuICogQG5hbWUgS0pVUi5hc24xLkRFUlNldFxuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgU2V0XG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkXG4gKiBAZGVzY3JpcHRpb25cbiAqIDxici8+XG4gKiBBcyBmb3IgYXJndW1lbnQgJ3BhcmFtcycgZm9yIGNvbnN0cnVjdG9yLCB5b3UgY2FuIHNwZWNpZnkgb25lIG9mXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIDx1bD5cbiAqIDxsaT5hcnJheSAtIHNwZWNpZnkgYXJyYXkgb2YgQVNOMU9iamVjdCB0byBzZXQgZWxlbWVudHMgb2YgY29udGVudDwvbGk+XG4gKiA8bGk+c29ydGZsYWcgLSBmbGFnIGZvciBzb3J0IChkZWZhdWx0OiB0cnVlKS4gQVNOLjEgQkVSIGlzIG5vdCBzb3J0ZWQgaW4gJ1NFVCBPRicuPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFMTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuPGJyLz5cbiAqIE5PVEUyOiBzb3J0ZmxhZyBpcyBzdXBwb3J0ZWQgc2luY2UgMS4wLjUuXG4gKi9cbktKVVIuYXNuMS5ERVJTZXQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIEtKVVIuYXNuMS5ERVJTZXQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuaFQgPSBcIjMxXCI7XG4gIHRoaXMuc29ydEZsYWcgPSB0cnVlOyAvLyBpdGVtIHNoYWxsIGJlIHNvcnRlZCBvbmx5IGluIEFTTi4xIERFUlxuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSBuZXcgQXJyYXkoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXNuMUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXNuMU9iaiA9IHRoaXMuYXNuMUFycmF5W2ldO1xuICAgICAgYS5wdXNoKGFzbjFPYmouZ2V0RW5jb2RlZEhleCgpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc29ydEZsYWcgPT0gdHJ1ZSkgYS5zb3J0KCk7XG4gICAgdGhpcy5oViA9IGEuam9pbignJyk7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5zb3J0ZmxhZyAhPSBcInVuZGVmaW5lZFwiICYmIHBhcmFtcy5zb3J0ZmxhZyA9PSBmYWxzZSkgdGhpcy5zb3J0RmxhZyA9IGZhbHNlO1xuICB9XG59O1xuX3lhaG9vLllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJTZXQsIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpO1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBUYWdnZWRPYmplY3RcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3RcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIFRhZ2dlZE9iamVjdFxuICogQGV4dGVuZHMgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIFBhcmFtZXRlciAndGFnTm9OZXgnIGlzIEFTTi4xIHRhZyhUKSB2YWx1ZSBmb3IgdGhpcyBvYmplY3QuXG4gKiBGb3IgZXhhbXBsZSwgaWYgeW91IGZpbmQgJ1sxXScgdGFnIGluIGEgQVNOLjEgZHVtcCxcbiAqICd0YWdOb0hleCcgd2lsbCBiZSAnYTEnLlxuICogPGJyLz5cbiAqIEFzIGZvciBvcHRpb25hbCBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSAqQU5ZKiBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+ZXhwbGljaXQgLSBzcGVjaWZ5IHRydWUgaWYgdGhpcyBpcyBleHBsaWNpdCB0YWcgb3RoZXJ3aXNlIGZhbHNlXG4gKiAgICAgKGRlZmF1bHQgaXMgJ3RydWUnKS48L2xpPlxuICogPGxpPnRhZyAtIHNwZWNpZnkgdGFnIChkZWZhdWx0IGlzICdhMCcgd2hpY2ggbWVhbnMgWzBdKTwvbGk+XG4gKiA8bGk+b2JqIC0gc3BlY2lmeSBBU04xT2JqZWN0IHdoaWNoIGlzIHRhZ2dlZDwvbGk+XG4gKiA8L3VsPlxuICogQGV4YW1wbGVcbiAqIGQxID0gbmV3IEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nKHsnc3RyJzonYSd9KTtcbiAqIGQyID0gbmV3IEtKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3QoeydvYmonOiBkMX0pO1xuICogaGV4ID0gZDIuZ2V0RW5jb2RlZEhleCgpO1xuICovXG5LSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0ID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5oVCA9IFwiYTBcIjtcbiAgdGhpcy5oViA9ICcnO1xuICB0aGlzLmlzRXhwbGljaXQgPSB0cnVlO1xuICB0aGlzLmFzbjFPYmplY3QgPSBudWxsO1xuICAvKipcbiAgICogc2V0IHZhbHVlIGJ5IGFuIEFTTjFPYmplY3RcbiAgICogQG5hbWUgc2V0U3RyaW5nXG4gICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0I1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtCb29sZWFufSBpc0V4cGxpY2l0RmxhZyBmbGFnIGZvciBleHBsaWNpdC9pbXBsaWNpdCB0YWdcbiAgICogQHBhcmFtIHtJbnRlZ2VyfSB0YWdOb0hleCBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgdGFnXG4gICAqIEBwYXJhbSB7QVNOMU9iamVjdH0gYXNuMU9iamVjdCBBU04uMSB0byBlbmNhcHN1bGF0ZVxuICAgKi9cbiAgdGhpcy5zZXRBU04xT2JqZWN0ID0gZnVuY3Rpb24gKGlzRXhwbGljaXRGbGFnLCB0YWdOb0hleCwgYXNuMU9iamVjdCkge1xuICAgIHRoaXMuaFQgPSB0YWdOb0hleDtcbiAgICB0aGlzLmlzRXhwbGljaXQgPSBpc0V4cGxpY2l0RmxhZztcbiAgICB0aGlzLmFzbjFPYmplY3QgPSBhc24xT2JqZWN0O1xuICAgIGlmICh0aGlzLmlzRXhwbGljaXQpIHtcbiAgICAgIHRoaXMuaFYgPSB0aGlzLmFzbjFPYmplY3QuZ2V0RW5jb2RlZEhleCgpO1xuICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaFYgPSBudWxsO1xuICAgICAgdGhpcy5oVExWID0gYXNuMU9iamVjdC5nZXRFbmNvZGVkSGV4KCk7XG4gICAgICB0aGlzLmhUTFYgPSB0aGlzLmhUTFYucmVwbGFjZSgvXi4uLywgdGFnTm9IZXgpO1xuICAgICAgdGhpcy5pc01vZGlmaWVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaFY7XG4gIH07XG4gIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtc1sndGFnJ10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oVCA9IHBhcmFtc1sndGFnJ107XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zWydleHBsaWNpdCddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuaXNFeHBsaWNpdCA9IHBhcmFtc1snZXhwbGljaXQnXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXNbJ29iaiddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuYXNuMU9iamVjdCA9IHBhcmFtc1snb2JqJ107XG4gICAgICB0aGlzLnNldEFTTjFPYmplY3QodGhpcy5pc0V4cGxpY2l0LCB0aGlzLmhULCB0aGlzLmFzbjFPYmplY3QpO1xuICAgIH1cbiAgfVxufTtcbl95YWhvby5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0LCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLllBSE9PID0gdm9pZCAwO1xuLyohXG5Db3B5cmlnaHQgKGMpIDIwMTEsIFlhaG9vISBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5Db2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZTpcbmh0dHA6Ly9kZXZlbG9wZXIueWFob28uY29tL3l1aS9saWNlbnNlLmh0bWxcbnZlcnNpb246IDIuOS4wXG4qL1xudmFyIFlBSE9PID0gZXhwb3J0cy5ZQUhPTyA9IHt9O1xuWUFIT08ubGFuZyA9IHtcbiAgLyoqXG4gICAqIFV0aWxpdHkgdG8gc2V0IHVwIHRoZSBwcm90b3R5cGUsIGNvbnN0cnVjdG9yIGFuZCBzdXBlcmNsYXNzIHByb3BlcnRpZXMgdG9cbiAgICogc3VwcG9ydCBhbiBpbmhlcml0YW5jZSBzdHJhdGVneSB0aGF0IGNhbiBjaGFpbiBjb25zdHJ1Y3RvcnMgYW5kIG1ldGhvZHMuXG4gICAqIFN0YXRpYyBtZW1iZXJzIHdpbGwgbm90IGJlIGluaGVyaXRlZC5cbiAgICpcbiAgICogQG1ldGhvZCBleHRlbmRcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWJjICAgdGhlIG9iamVjdCB0byBtb2RpZnlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwZXJjIHRoZSBvYmplY3QgdG8gaW5oZXJpdFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3ZlcnJpZGVzICBhZGRpdGlvbmFsIHByb3BlcnRpZXMvbWV0aG9kcyB0byBhZGQgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2xhc3MgcHJvdG90eXBlLiAgVGhlc2Ugd2lsbCBvdmVycmlkZSB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZyBpdGVtcyBvYnRhaW5lZCBmcm9tIHRoZSBzdXBlcmNsYXNzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcHJlc2VudC5cbiAgICovXG4gIGV4dGVuZDogZnVuY3Rpb24gKHN1YmMsIHN1cGVyYywgb3ZlcnJpZGVzKSB7XG4gICAgaWYgKCFzdXBlcmMgfHwgIXN1YmMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllBSE9PLmxhbmcuZXh0ZW5kIGZhaWxlZCwgcGxlYXNlIGNoZWNrIHRoYXQgXCIgKyBcImFsbCBkZXBlbmRlbmNpZXMgYXJlIGluY2x1ZGVkLlwiKTtcbiAgICB9XG4gICAgdmFyIEYgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBGLnByb3RvdHlwZSA9IHN1cGVyYy5wcm90b3R5cGU7XG4gICAgc3ViYy5wcm90b3R5cGUgPSBuZXcgRigpO1xuICAgIHN1YmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViYztcbiAgICBzdWJjLnN1cGVyY2xhc3MgPSBzdXBlcmMucHJvdG90eXBlO1xuICAgIGlmIChzdXBlcmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID09IE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IpIHtcbiAgICAgIHN1cGVyYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdXBlcmM7XG4gICAgfVxuICAgIGlmIChvdmVycmlkZXMpIHtcbiAgICAgIHZhciBpO1xuICAgICAgZm9yIChpIGluIG92ZXJyaWRlcykge1xuICAgICAgICBzdWJjLnByb3RvdHlwZVtpXSA9IG92ZXJyaWRlc1tpXTtcbiAgICAgIH1cbiAgICAgIC8qXG4gICAgICAgKiBJRSB3aWxsIG5vdCBlbnVtZXJhdGUgbmF0aXZlIGZ1bmN0aW9ucyBpbiBhIGRlcml2ZWQgb2JqZWN0IGV2ZW4gaWYgdGhlXG4gICAgICAgKiBmdW5jdGlvbiB3YXMgb3ZlcnJpZGRlbi4gIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBzcGVjaWZpYyBmdW5jdGlvbnNcbiAgICAgICAqIHdlIGNhcmUgYWJvdXQgb24gdGhlIE9iamVjdCBwcm90b3R5cGUuXG4gICAgICAgKiBAcHJvcGVydHkgX0lFRW51bUZpeFxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gciAgdGhlIG9iamVjdCB0byByZWNlaXZlIHRoZSBhdWdtZW50YXRpb25cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHMgIHRoZSBvYmplY3QgdGhhdCBzdXBwbGllcyB0aGUgcHJvcGVydGllcyB0byBhdWdtZW50XG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB2YXIgX0lFRW51bUZpeCA9IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBBREQgPSBbXCJ0b1N0cmluZ1wiLCBcInZhbHVlT2ZcIl07XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoL01TSUUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICBfSUVFbnVtRml4ID0gZnVuY3Rpb24gKHIsIHMpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBBREQubGVuZ3RoOyBpID0gaSArIDEpIHtcbiAgICAgICAgICAgICAgdmFyIGZuYW1lID0gQUREW2ldLFxuICAgICAgICAgICAgICAgIGYgPSBzW2ZuYW1lXTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGYgIT0gT2JqZWN0LnByb3RvdHlwZVtmbmFtZV0pIHtcbiAgICAgICAgICAgICAgICByW2ZuYW1lXSA9IGY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge31cbiAgICAgIDtcbiAgICAgIF9JRUVudW1GaXgoc3ViYy5wcm90b3R5cGUsIG92ZXJyaWRlcyk7XG4gICAgfVxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9zeXN0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSk7XG52YXIgX3N5c3RlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZGV2aWNlXCIpKTtcbnZhciBfc3lzdGVtMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5uZXR3b3JrXCIpKTtcbnZhciBfc3lzdGVtNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5yb3V0ZXJcIikpO1xudmFyIF9zeXN0ZW01ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmFwcFwiKSk7XG52YXIgX3N5c3RlbTYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2hcIikpO1xudmFyIF9zeXN0ZW03ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmZpbGVcIikpO1xudmFyIF9zeXN0ZW04ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnJlcXVlc3RcIikpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gYnVpbGRVbmlxdWVJZCh0KSB7XG4gIGNvbnN0IGUgPSBbXTtcbiAgZS5wdXNoKERldmljZVV0aWwuZ2V0QWR2ZXJ0aXNpbmdJZCgpKSwgZS5wdXNoKERldmljZVV0aWwuZ2V0QW5kcm9pZElkKCkpLCBlLnB1c2goRGV2aWNlVXRpbC5nZXRPQUlEKCkpLCBQcm9taXNlLmFsbChlKS50aGVuKGUgPT4ge1xuICAgIGNvbnN0IG4gPSBlWzBdO1xuICAgIGNvbnN0IG8gPSBlWzFdO1xuICAgIGNvbnN0IGkgPSBlWzJdO1xuICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLk1PQklMRV9BRFZFUlRJU0lOR19JRCwgbik7XG4gICAgU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuTU9CSUxFX0FORFJPSURfSUQsIG8pO1xuICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLk1PQklMRV9PQUlELCBpKTtcbiAgICB1bmlxdWVpZENhY2hlID0gbyB8fCBuIHx8IGk7XG4gICAgU3RvcmFnZVV0aWwucHV0RGF0YShcInVtZW5nX3VuaXF1ZWlkXCIsIHVuaXF1ZWlkQ2FjaGUpO1xuICAgIHQodW5pcXVlaWRDYWNoZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUodCwgZSkge1xuICByZXR1cm4gZSA9IHtcbiAgICBleHBvcnRzOiB7fVxuICB9LCB0KGUsIGUuZXhwb3J0cyksIGUuZXhwb3J0cztcbn1cbmZ1bmN0aW9uIE1ENSQxKHQpIHtcbiAgcmV0dXJuIE1ENSh0KTtcbn1cbmZ1bmN0aW9uIGVuY29kZSh0KSB7XG4gIHJldHVybiBCYXNlNjRfMi5lbmNvZGUodCwgITEpO1xufVxuZnVuY3Rpb24gZGVjb2RlKHQpIHtcbiAgcmV0dXJuIEJhc2U2NF8yLmRlY29kZSh0KTtcbn1cbmZ1bmN0aW9uIGNoZWNrRW1wdHlBcmd1bWVudCh0KSB7XG4gIHJldHVybiB0Lmxlbmd0aCAmJiB0aGlzLmNoZWNrSWQodFswXSk7XG59XG5mdW5jdGlvbiBjaGVja0lkKHQpIHtcbiAgcmV0dXJuIHQgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdDtcbn1cbmZ1bmN0aW9uIHRvU3RyKHQpIHtcbiAgbGV0IGUgPSBcIlwiO1xuICBpZiAodCkgdHJ5IHtcbiAgICBlID0gSlNPTi5zdHJpbmdpZnkodCk7XG4gIH0gY2F0Y2ggKHQpIHt9XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gc3RyaW5nVG9BcnJheSh0KSB7XG4gIGlmICh0KSB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICB9IGNhdGNoICh0KSB7fVxuICByZXR1cm4gW107XG59XG5mdW5jdGlvbiB0b09iamVjdCh0KSB7XG4gIGlmICh0KSB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICB9IGNhdGNoICh0KSB7fVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNoZWNrQXR0ck9yU3RyaW5nKHQpIHtcbiAgcmV0dXJuICEoIXQgfHwgXCJzdHJpbmdcIiAhPSB0eXBlb2YgdCAmJiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCBpc0FycmF5KHQpKSk7XG59XG5mdW5jdGlvbiBpc0FycmF5KHQpIHtcbiAgcmV0dXJuIFwiW29iamVjdCBBcnJheV1cIiA9PT0ge30udG9TdHJpbmcuY2FsbCh0KTtcbn1cbmZ1bmN0aW9uIGlzTm90QU51bWJlcih0KSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VJbnQodCwgMTApKTtcbn1cbmZ1bmN0aW9uIGNoZWNrTUQ1KHQsIGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdCA9PT0gTUQ1KGUpO1xuICB9IGNhdGNoICh0KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG59XG5mdW5jdGlvbiBMb29wZXIoKSB7fVxuZnVuY3Rpb24gc2VuZCh0KSB7XG4gIF9zeXN0ZW0zLmRlZmF1bHQuZ2V0VHlwZSh7XG4gICAgc3VjY2VzcyhlKSB7XG4gICAgICBcIm5vbmVcIiAhPT0gZS50eXBlICYmIGhhc0VudmVsb3BlKHQsIChlLCBuKSA9PiB7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB7XG4gICAgICAgICAgICAgIG1kNUtleTogbixcbiAgICAgICAgICAgICAgdHlwZTogXCJzZWNvbmRcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5zZW5kKGUsICgpID0+IHtcbiAgICAgICAgICAgICAgU3RvcmVRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UobnVsbCk7XG4gICAgICAgICAgICAgIHJlYWxTZW5kKHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgcmVhbFNlbmQodCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZhaWwoKSB7fVxuICB9KTtcbn1cbmZ1bmN0aW9uIGhhc0VudmVsb3BlKHQsIGUpIHtcbiAgU3RvcmFnZVV0aWwuZ2V0RGF0YShjb25zdGFudHMuS0VZX05PX1NFTkRfUkVRVUVTVF9LRVlTLCBuID0+IHtcbiAgICBpZiAoIW4pIHJldHVybiB2b2lkIGUoITEsIG51bGwpO1xuICAgIGNvbnN0IG8gPSBVbWVuZ1V0aWxzLnN0cmluZ1RvQXJyYXkobik7XG4gICAgaWYgKCFvIHx8IDAgPT09IG8ubGVuZ3RoKSByZXR1cm4gdm9pZCBlKCExLCBudWxsKTtcbiAgICBmb3IgKGNvbnN0IG4gaW4gbykgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwobywgbikpIHtcbiAgICAgIGNvbnN0IGkgPSBvW25dO1xuICAgICAgaWYgKGkpIHtcbiAgICAgICAgY29uc3QgbiA9IGkuaW5kZXhPZihjb25zdGFudHMuS0VZX0VWRU5UX1BSRUZJWCk7XG4gICAgICAgIGlmICgwID09PSBuICYmIHQgPT09IGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfRVZFTlQpIHJldHVybiB2b2lkIGUoITAsIGkpO1xuICAgICAgICBjb25zdCBvID0gaS5pbmRleE9mKGNvbnN0YW50cy5LRVlfSEFMRl9TRVNTSU9OX1BSRUZJWCk7XG4gICAgICAgIGlmICgwID09PSBvICYmIHQgPT09IGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9IQUxGKSByZXR1cm4gdm9pZCBlKCEwLCBpKTtcbiAgICAgICAgY29uc3QgciA9IGkuaW5kZXhPZihjb25zdGFudHMuS0VZX0NMT1NFX1NFU1NJT05fUFJFRklYKTtcbiAgICAgICAgaWYgKDAgPT09IHIgJiYgdCA9PT0gY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9TRVNTSU9OX0NMT1NFKSByZXR1cm4gdm9pZCBlKCEwLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZSghMSwgbnVsbCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVhbFNlbmQodCkge1xuICBpZiAoUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLnBhcmFtc0lzVmFsaWQodCkpIGlmICh0ID09PSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRikge1xuICAgIGNvbnN0IGUgPSBSZXF1ZXN0SGVscGVyLmdldEluc3RhbmNlKCkuYnVpbGRTZW5kQ29udGVudCh0LCBudWxsKSxcbiAgICAgIG4gPSBlLmRhdGE7XG4gICAgbi5hbmFseXRpY3MgJiYgUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLnNlbmQoZSwgdCA9PiB7XG4gICAgICB0ICYmIC0xICE9PSB0LmluZGV4T2YoY29uc3RhbnRzLktFWV9IQUxGX1NFU1NJT05fUFJFRklYKSAmJiAoSGVhZGVyLmdldEluc3RhbmNlKCkuc2V0Rmlyc3RTZW5kRmxhZygpLCBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5BUFBfRklSU1RfT1BFTl9GTEFHLCBcImZhbHNlXCIpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0ID09PSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0UpIHtcbiAgICBjb25zdCBlID0gUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLmJ1aWxkU2VuZENvbnRlbnQodCwgbnVsbCk7XG4gICAgaWYgKGUgJiYgZS5kYXRhKSB7XG4gICAgICBjb25zdCB0ID0gZS5kYXRhO1xuICAgICAgdC5hbmFseXRpY3MgJiYgUmVxdWVzdEhlbHBlci5nZXRJbnN0YW5jZSgpLnNlbmQoZSk7XG4gICAgfVxuICB9IGVsc2UgdCA9PT0gY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVCAmJiBFdmVudFN0b3JlUXVldWUuZ2V0SW5zdGFuY2UoKS5yZWFkRWt2RGF0YXMoZSA9PiB7XG4gICAgaWYgKCFlIHx8IDAgPT09IGUubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgbiA9IFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5idWlsZFNlbmRDb250ZW50KHQsIGUpO1xuICAgIGlmIChuKSB7XG4gICAgICBjb25zdCB0ID0gbi5kYXRhO1xuICAgICAgdC5hbmFseXRpY3MgJiYgKFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5zZW5kKG4pLCBFdmVudENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKS5zZXRTZW5kVGltZSgpKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gc2VuZEFsbCgpIHtcbiAgaWYgKDAgPT09IHRpbWUpIHtcbiAgICB0aW1lID0gMTA7XG4gICAgY29uc3QgdCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRpbWUgLT0gMTtcbiAgICAgIDAgPT09IHRpbWUgJiYgY2xlYXJJbnRlcnZhbCh0KTtcbiAgICB9LCAxMDApO1xuICAgIEhlYWRlci5nZXRJbnN0YW5jZSgpLmdldEhlYWRlcigpID8gKHNlbmQoY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9TRVNTSU9OX0hBTEYpLCBzZW5kKGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9DTE9TRSksIHNlbmQoY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVCkpIDogc2V0VGltZW91dChzZW5kQWxsLCAxMDApO1xuICB9XG59XG5mdW5jdGlvbiBQYWdlQ29udHJvbGxlcigpIHtcbiAgdGhpcy5fcGFnZWxpc3QgPSBbXSwgdGhpcy5fY3VycmVudFBhZ2UgPSB7fSwgdGhpcy5wYWdlT2JqZWN0ID0ge307XG59XG5mdW5jdGlvbiBVbWVuZ0FuYWx5c2lzTGliKCkge1xuICB0aGlzLnBhZ2VDb250cm9sbGVyID0gbmV3IFBhZ2VDb250cm9sbGVyKCk7XG59XG5mdW5jdGlvbiBpc0luaXQoKSB7XG4gIHJldHVybiAhIWluaXRlZCB8fCAoY29uc29sZS5lcnJvcihcIlthcHAudXhdID09PiBvbkNyZWF0ZSBub3QgaW52b2tlZCBpbml0KCkgbWV0aG9kXCIpLCAhMSk7XG59XG5mdW5jdGlvbiBzZW5kRGF0YXMoKSB7XG4gIEhlYWRlci5nZXRJbnN0YW5jZSgpLmdldEhlYWRlcigpID8gKFJlcXVlc3Quc2VuZChjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRiksIFJlcXVlc3Quc2VuZChjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0UpLCBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIHQgPT4ge1xuICAgIHQgPT09IGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfU1RBUlRfU0VORF9WQUxVRSAmJiBSZXF1ZXN0LnNlbmQoY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVCk7XG4gIH0pKSA6IHNldFRpbWVvdXQoc2VuZERhdGFzLCAxMDApO1xufVxuZnVuY3Rpb24gU2RrVXBkYXRlcigpIHtcbiAgdGhpcy51cmwgPSBjb25zdGFudHMuU0RLX1VQREFURV9TRVJWRVJfQUREUkVTUztcbn1cbmZ1bmN0aW9uIFBhZ2UodCkge1xuICBpZiAodCkge1xuICAgIGNvbnN0IGUgPSB0Lm9uU2hvdztcbiAgICB0Lm9uU2hvdyA9IGZ1bmN0aW9uICguLi50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBVbWVuZ0FuYWx5c2lzLnJlc3VtZSh0aGlzKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICBpZiAoZSkgcmV0dXJuIGUuYXBwbHkodGhpcywgdCk7XG4gICAgfTtcbiAgICBjb25zdCBuID0gdC5vbkhpZGU7XG4gICAgdC5vbkhpZGUgPSBmdW5jdGlvbiAoLi4udCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgVW1lbmdBbmFseXNpcy5wYXVzZSh0aGlzKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICBpZiAobikgcmV0dXJuIG4uYXBwbHkodGhpcywgdCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmNvbnN0IFN0b3JhZ2VVdGlsID0ge1xuICAgIHB1dERhdGEodCwgZSwgbiwgbykge1xuICAgICAgX3N5c3RlbS5kZWZhdWx0LnNldCh7XG4gICAgICAgIGtleTogdCxcbiAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgIHN1Y2Nlc3ModCkge1xuICAgICAgICAgIG4gJiYgbih0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZmFpbCh0LCBlKSB7XG4gICAgICAgICAgbyAmJiBvKHQsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldERhdGEodCwgZSwgbikge1xuICAgICAgX3N5c3RlbS5kZWZhdWx0LmdldCh7XG4gICAgICAgIGtleTogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgZSAmJiBlKHQpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKHQsIGUpIHtcbiAgICAgICAgICBuICYmIG4odCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlRGF0YSh0LCBlKSB7XG4gICAgICBfc3lzdGVtLmRlZmF1bHQuZGVsZXRlKHtcbiAgICAgICAga2V5OiB0LFxuICAgICAgICBzdWNjZXNzKCkge1xuICAgICAgICAgIGUgJiYgZSghMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWwoKSB7XG4gICAgICAgICAgZSAmJiBlKCExKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBjb25zdGFudHMgPSB7XG4gICAgS0VZX05PX1NFTkRfUkVRVUVTVF9LRVlTOiBcInVtZW5nX2tleV9ub19zZW5kX3JlcXVlc3RcIixcbiAgICBTRVNTSU9OX0lOVEVSVkFMOiAzZTQsXG4gICAgVEVTVF9VUkw6IFwiaHR0cHM6Ly9wcmV1bG9ncy51bWVuZy5jb20vdW5pZnlfbG9nc1wiLFxuICAgIFJFTEVBU0VfVVJMOiBcImh0dHBzOi8vdWxvZ3MudW1lbmcuY29tL3VuaWZ5X2xvZ3NcIixcbiAgICBLRVlfU0VTU0lPTl9QUkVGSVg6IFwidW1lbmdfc2Vzc2lvbl9wcmVmaXhfXCIsXG4gICAgS0VZX0VWRU5UX1BSRUZJWDogXCJ1bWVuZ19ldmVudF9wcmVmaXhfXCIsXG4gICAgS0VZX0hBTEZfU0VTU0lPTl9QUkVGSVg6IFwidW1lbmdfaGFsZl9zZXNzaW9uX3ByZWZpeF9cIixcbiAgICBLRVlfQ0xPU0VfU0VTU0lPTl9QUkVGSVg6IFwidW1lbmdfY2xvc2Vfc2Vzc2lvbl9wcmVmaXhfXCIsXG4gICAgUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRjogMSxcbiAgICBSRVFVRVNUX1RZUEVfU0VTU0lPTl9DTE9TRTogMixcbiAgICBSRVFVRVNUX1RZUEVfRVZFTlQ6IDMsXG4gICAgSVNfREVCVUc6ICExLFxuICAgIFNES19WRVJTSU9OOiBcIjIuMC4zXCIsXG4gICAgQVBQX0ZJUlNUX09QRU5fRkxBRzogXCJ1bWVuZ19rZXlfZmlyc3Rfb3Blbl9mbGFnXCIsXG4gICAgTU9CSUxFX0FEVkVSVElTSU5HX0lEOiBcInVtZW5nX21vYmlsZV9hZHZlcnRpc2luZ19pZFwiLFxuICAgIE1PQklMRV9BTkRST0lEX0lEOiBcInVtZW5nX2FuZHJvaWRfX2lkXCIsXG4gICAgTU9CSUxFX09BSUQ6IFwidW1lbmdfb2FpZFwiLFxuICAgIEVWRU5UX1NFTkRfTUlOX0lOVEVSVkFMOiA5MCxcbiAgICBFVkVOVF9TRU5EX01BWF9JTlRFUlZBTDogODY0MDAsXG4gICAgRVZFTlRfTEFTVF9TRU5EX1RJTUU6IFwidW1lbmdfZWt2X2xhc3Rfc2VuZF90aW1lXCIsXG4gICAgRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZOiBcImV2ZW50X3NlbmRfcmVwb3J0X3BvbGljeVwiLFxuICAgIEVWRU5UX1NFTkRfUkVQT1JUX0lOVEVSVkFMX1RJTUU6IFwiZXZlbnRfc2VuZF9yZXBvcnRfaW50ZXJ2YWxfdGltZVwiLFxuICAgIEVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWV9TVEFSVF9TRU5EX1ZBTFVFOiBcIjFcIixcbiAgICBFVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfSU5URVJWQUxfVkFMVUU6IFwiNlwiLFxuICAgIERPV05MT0FEX0ZJTEVfRklSU1RfQ0FDSEU6IFwidW1lbmdfc2RrX3VwZGF0ZV9maXJzdENhY2hlTGV2ZWxcIixcbiAgICBET1dOTE9BRF9GSUxFX1NFQ09ORF9DQUNIRTogXCJ1bWVuZ19zZGtfdXBkYXRlX3NlY29uZENhY2hlTGV2ZWxcIixcbiAgICBTREtfVVBEQVRFX1NFUlZFUl9BRERSRVNTOiBcImh0dHA6Ly9zLmNuenouY29tL3Nkay9xdWlja2FwcFwiLFxuICAgIFNES19VUERBVEVfTE9DQUxfU1RPUkFHRV9QQVRIOiBcImludGVybmFsOi8vZmlsZXMvdW1lbmdzZGsvXCJcbiAgfTtcbmxldCBvYWlkQ2FjaGUgPSBudWxsLFxuICBhbmRyb2lkaWRDYWNoZSA9IG51bGwsXG4gIGlkZmFDYWNoZSA9IG51bGwsXG4gIHVuaXF1ZWlkQ2FjaGUgPSBudWxsLFxuICBkZXZpY2VJbmZvQ2FjaGUgPSBudWxsO1xuY29uc3QgRGV2aWNlVXRpbCA9IHtcbiAgICBnZXRCYXNlSW5mbygpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSh0ID0+IHtcbiAgICAgICAgaWYgKGRldmljZUluZm9DYWNoZSkgcmV0dXJuIHZvaWQgdChkZXZpY2VJbmZvQ2FjaGUpO1xuICAgICAgICBfc3lzdGVtMi5kZWZhdWx0LmdldEluZm8oe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgZGV2aWNlSW5mb0NhY2hlID0gZSwgdChlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwoKSB7XG4gICAgICAgICAgICB0KG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldE5ldHdvcmtJbmZvKHQpIHtcbiAgICAgIF9zeXN0ZW0zLmRlZmF1bHQuZ2V0VHlwZSh7XG4gICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgIHQoZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0QW5kcm9pZElkKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHQgPT4ge1xuICAgICAgICBpZiAoYW5kcm9pZGlkQ2FjaGUpIHJldHVybiB2b2lkIHQoYW5kcm9pZGlkQ2FjaGUudXNlcklkKTtcbiAgICAgICAgX3N5c3RlbTIuZGVmYXVsdC5nZXRVc2VySWQoe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgYW5kcm9pZGlkQ2FjaGUgPSBlLCB0KGUudXNlcklkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwoKSB7XG4gICAgICAgICAgICB0KFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEFkdmVydGlzaW5nSWQoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UodCA9PiB7XG4gICAgICAgIGlmIChpZGZhQ2FjaGUpIHJldHVybiB2b2lkIHQoaWRmYUNhY2hlLmFkdmVydGlzaW5nSWQpO1xuICAgICAgICBfc3lzdGVtMi5kZWZhdWx0LmdldEFkdmVydGlzaW5nSWQoe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgaWRmYUNhY2hlID0gZSwgdChlLmFkdmVydGlzaW5nSWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbCgpIHtcbiAgICAgICAgICAgIHQoXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0T0FJRCgpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcImNhbGwgZ2V0T0FJRFwiKSwgbmV3IFByb21pc2UodCA9PiB7XG4gICAgICAgIGlmIChudWxsICE9PSBvYWlkQ2FjaGUpIHJldHVybiB2b2lkIHQob2FpZENhY2hlLm9haWQpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIF9zeXN0ZW0yLmRlZmF1bHQuZ2V0T0FJRCB8fCAhMSA9PT0gX3N5c3RlbTIuZGVmYXVsdC5hbGxvd1RyYWNrT0FJRCA/IHQoXCJcIikgOiBfc3lzdGVtMi5kZWZhdWx0LmdldE9BSUQoe1xuICAgICAgICAgIHN1Y2Nlc3MoZSkge1xuICAgICAgICAgICAgb2FpZENhY2hlID0gZSwgdChlLm9haWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbCgpIHtcbiAgICAgICAgICAgIHQoXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VW5pcXVlSWQoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UodCA9PiB7XG4gICAgICAgIHVuaXF1ZWlkQ2FjaGUgPyB0KHVuaXF1ZWlkQ2FjaGUpIDogYnVpbGRVbmlxdWVJZCh0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0UGFnZU5hbWUoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0ID0gX3N5c3RlbTQuZGVmYXVsdC5nZXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gdC5uYW1lO1xuICAgICAgfSBjYXRjaCAodCkge31cbiAgICB9LFxuICAgIGdldFN5c3RlbUJhc2VJbmZvKHQsIGUpIHtcbiAgICAgIGlmIChkZXZpY2VJbmZvQ2FjaGUpIHJldHVybiB2b2lkICh0ICYmIHQoZGV2aWNlSW5mb0NhY2hlKSk7XG4gICAgICBfc3lzdGVtMi5kZWZhdWx0LmdldEluZm8oe1xuICAgICAgICBzdWNjZXNzKGUpIHtcbiAgICAgICAgICBkZXZpY2VJbmZvQ2FjaGUgPSBlLCB0ICYmIHQoZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWwodCwgbikge1xuICAgICAgICAgIGUgJiYgZSh0LCBuKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBMb2cgPSB7XG4gICAgZCh0KSB7fSxcbiAgICBpKHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHVzZXJEZWJ1ZyAmJiBjb25zb2xlLmluZm8odCk7XG4gICAgICB9IGNhdGNoICh0KSB7fVxuICAgIH0sXG4gICAgZSh0KSB7fSxcbiAgICB3KHQpIHt9LFxuICAgIHYodCkge31cbiAgfTtcbnZhciBjb21tb25qc0dsb2JhbCA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdsb2JhbFRoaXMgPyBnbG9iYWxUaGlzIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB7fSxcbiAgTUQ1ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKHQpIHtcbiAgICAhZnVuY3Rpb24gKGUpIHtcbiAgICAgIGZ1bmN0aW9uIG4odCwgZSkge1xuICAgICAgICB2YXIgbiA9ICg2NTUzNSAmIHQpICsgKDY1NTM1ICYgZSk7XG4gICAgICAgIHJldHVybiAodCA+PiAxNikgKyAoZSA+PiAxNikgKyAobiA+PiAxNikgPDwgMTYgfCA2NTUzNSAmIG47XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBvKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQgPDwgZSB8IHQgPj4+IDMyIC0gZTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGkodCwgZSwgaSwgciwgcywgYykge1xuICAgICAgICByZXR1cm4gbihvKG4obihlLCB0KSwgbihyLCBjKSksIHMpLCBpKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHIodCwgZSwgbiwgbywgciwgcywgYykge1xuICAgICAgICByZXR1cm4gaShlICYgbiB8IH5lICYgbywgdCwgZSwgciwgcywgYyk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzKHQsIGUsIG4sIG8sIHIsIHMsIGMpIHtcbiAgICAgICAgcmV0dXJuIGkoZSAmIG8gfCBuICYgfm8sIHQsIGUsIHIsIHMsIGMpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gYyh0LCBlLCBuLCBvLCByLCBzLCBjKSB7XG4gICAgICAgIHJldHVybiBpKGUgXiBuIF4gbywgdCwgZSwgciwgcywgYyk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBhKHQsIGUsIG4sIG8sIHIsIHMsIGMpIHtcbiAgICAgICAgcmV0dXJuIGkobiBeIChlIHwgfm8pLCB0LCBlLCByLCBzLCBjKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHUodCwgZSkge1xuICAgICAgICB0W2UgPj4gNV0gfD0gMTI4IDw8IGUgJSAzMiwgdFsxNCArIChlICsgNjQgPj4+IDkgPDwgNCldID0gZTtcbiAgICAgICAgdmFyIG8sXG4gICAgICAgICAgaSxcbiAgICAgICAgICB1LFxuICAgICAgICAgIGYsXG4gICAgICAgICAgbCxcbiAgICAgICAgICBfID0gMTczMjU4NDE5MyxcbiAgICAgICAgICBFID0gLTI3MTczMzg3OSxcbiAgICAgICAgICBnID0gLTE3MzI1ODQxOTQsXG4gICAgICAgICAgZCA9IDI3MTczMzg3ODtcbiAgICAgICAgZm9yIChvID0gMDsgbyA8IHQubGVuZ3RoOyBvICs9IDE2KSBpID0gXywgdSA9IEUsIGYgPSBnLCBsID0gZCwgRSA9IGEoRSA9IGEoRSA9IGEoRSA9IGEoRSA9IGMoRSA9IGMoRSA9IGMoRSA9IGMoRSA9IHMoRSA9IHMoRSA9IHMoRSA9IHMoRSA9IHIoRSA9IHIoRSA9IHIoRSA9IHIoRSwgZyA9IHIoZywgZCA9IHIoZCwgXyA9IHIoXywgRSwgZywgZCwgdFtvXSwgNywgLTY4MDg3NjkzNiksIEUsIGcsIHRbbyArIDFdLCAxMiwgLTM4OTU2NDU4NiksIF8sIEUsIHRbbyArIDJdLCAxNywgNjA2MTA1ODE5KSwgZCwgXywgdFtvICsgM10sIDIyLCAtMTA0NDUyNTMzMCksIGcgPSByKGcsIGQgPSByKGQsIF8gPSByKF8sIEUsIGcsIGQsIHRbbyArIDRdLCA3LCAtMTc2NDE4ODk3KSwgRSwgZywgdFtvICsgNV0sIDEyLCAxMjAwMDgwNDI2KSwgXywgRSwgdFtvICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSksIGQsIF8sIHRbbyArIDddLCAyMiwgLTQ1NzA1OTgzKSwgZyA9IHIoZywgZCA9IHIoZCwgXyA9IHIoXywgRSwgZywgZCwgdFtvICsgOF0sIDcsIDE3NzAwMzU0MTYpLCBFLCBnLCB0W28gKyA5XSwgMTIsIC0xOTU4NDE0NDE3KSwgXywgRSwgdFtvICsgMTBdLCAxNywgLTQyMDYzKSwgZCwgXywgdFtvICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpLCBnID0gcihnLCBkID0gcihkLCBfID0gcihfLCBFLCBnLCBkLCB0W28gKyAxMl0sIDcsIDE4MDQ2MDM2ODIpLCBFLCBnLCB0W28gKyAxM10sIDEyLCAtNDAzNDExMDEpLCBfLCBFLCB0W28gKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCksIGQsIF8sIHRbbyArIDE1XSwgMjIsIDEyMzY1MzUzMjkpLCBnID0gcyhnLCBkID0gcyhkLCBfID0gcyhfLCBFLCBnLCBkLCB0W28gKyAxXSwgNSwgLTE2NTc5NjUxMCksIEUsIGcsIHRbbyArIDZdLCA5LCAtMTA2OTUwMTYzMiksIF8sIEUsIHRbbyArIDExXSwgMTQsIDY0MzcxNzcxMyksIGQsIF8sIHRbb10sIDIwLCAtMzczODk3MzAyKSwgZyA9IHMoZywgZCA9IHMoZCwgXyA9IHMoXywgRSwgZywgZCwgdFtvICsgNV0sIDUsIC03MDE1NTg2OTEpLCBFLCBnLCB0W28gKyAxMF0sIDksIDM4MDE2MDgzKSwgXywgRSwgdFtvICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSksIGQsIF8sIHRbbyArIDRdLCAyMCwgLTQwNTUzNzg0OCksIGcgPSBzKGcsIGQgPSBzKGQsIF8gPSBzKF8sIEUsIGcsIGQsIHRbbyArIDldLCA1LCA1Njg0NDY0MzgpLCBFLCBnLCB0W28gKyAxNF0sIDksIC0xMDE5ODAzNjkwKSwgXywgRSwgdFtvICsgM10sIDE0LCAtMTg3MzYzOTYxKSwgZCwgXywgdFtvICsgOF0sIDIwLCAxMTYzNTMxNTAxKSwgZyA9IHMoZywgZCA9IHMoZCwgXyA9IHMoXywgRSwgZywgZCwgdFtvICsgMTNdLCA1LCAtMTQ0NDY4MTQ2NyksIEUsIGcsIHRbbyArIDJdLCA5LCAtNTE0MDM3ODQpLCBfLCBFLCB0W28gKyA3XSwgMTQsIDE3MzUzMjg0NzMpLCBkLCBfLCB0W28gKyAxMl0sIDIwLCAtMTkyNjYwNzczNCksIGcgPSBjKGcsIGQgPSBjKGQsIF8gPSBjKF8sIEUsIGcsIGQsIHRbbyArIDVdLCA0LCAtMzc4NTU4KSwgRSwgZywgdFtvICsgOF0sIDExLCAtMjAyMjU3NDQ2MyksIF8sIEUsIHRbbyArIDExXSwgMTYsIDE4MzkwMzA1NjIpLCBkLCBfLCB0W28gKyAxNF0sIDIzLCAtMzUzMDk1NTYpLCBnID0gYyhnLCBkID0gYyhkLCBfID0gYyhfLCBFLCBnLCBkLCB0W28gKyAxXSwgNCwgLTE1MzA5OTIwNjApLCBFLCBnLCB0W28gKyA0XSwgMTEsIDEyNzI4OTMzNTMpLCBfLCBFLCB0W28gKyA3XSwgMTYsIC0xNTU0OTc2MzIpLCBkLCBfLCB0W28gKyAxMF0sIDIzLCAtMTA5NDczMDY0MCksIGcgPSBjKGcsIGQgPSBjKGQsIF8gPSBjKF8sIEUsIGcsIGQsIHRbbyArIDEzXSwgNCwgNjgxMjc5MTc0KSwgRSwgZywgdFtvXSwgMTEsIC0zNTg1MzcyMjIpLCBfLCBFLCB0W28gKyAzXSwgMTYsIC03MjI1MjE5NzkpLCBkLCBfLCB0W28gKyA2XSwgMjMsIDc2MDI5MTg5KSwgZyA9IGMoZywgZCA9IGMoZCwgXyA9IGMoXywgRSwgZywgZCwgdFtvICsgOV0sIDQsIC02NDAzNjQ0ODcpLCBFLCBnLCB0W28gKyAxMl0sIDExLCAtNDIxODE1ODM1KSwgXywgRSwgdFtvICsgMTVdLCAxNiwgNTMwNzQyNTIwKSwgZCwgXywgdFtvICsgMl0sIDIzLCAtOTk1MzM4NjUxKSwgZyA9IGEoZywgZCA9IGEoZCwgXyA9IGEoXywgRSwgZywgZCwgdFtvXSwgNiwgLTE5ODYzMDg0NCksIEUsIGcsIHRbbyArIDddLCAxMCwgMTEyNjg5MTQxNSksIF8sIEUsIHRbbyArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KSwgZCwgXywgdFtvICsgNV0sIDIxLCAtNTc0MzQwNTUpLCBnID0gYShnLCBkID0gYShkLCBfID0gYShfLCBFLCBnLCBkLCB0W28gKyAxMl0sIDYsIDE3MDA0ODU1NzEpLCBFLCBnLCB0W28gKyAzXSwgMTAsIC0xODk0OTg2NjA2KSwgXywgRSwgdFtvICsgMTBdLCAxNSwgLTEwNTE1MjMpLCBkLCBfLCB0W28gKyAxXSwgMjEsIC0yMDU0OTIyNzk5KSwgZyA9IGEoZywgZCA9IGEoZCwgXyA9IGEoXywgRSwgZywgZCwgdFtvICsgOF0sIDYsIDE4NzMzMTMzNTkpLCBFLCBnLCB0W28gKyAxNV0sIDEwLCAtMzA2MTE3NDQpLCBfLCBFLCB0W28gKyA2XSwgMTUsIC0xNTYwMTk4MzgwKSwgZCwgXywgdFtvICsgMTNdLCAyMSwgMTMwOTE1MTY0OSksIGcgPSBhKGcsIGQgPSBhKGQsIF8gPSBhKF8sIEUsIGcsIGQsIHRbbyArIDRdLCA2LCAtMTQ1NTIzMDcwKSwgRSwgZywgdFtvICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpLCBfLCBFLCB0W28gKyAyXSwgMTUsIDcxODc4NzI1OSksIGQsIF8sIHRbbyArIDldLCAyMSwgLTM0MzQ4NTU1MSksIF8gPSBuKF8sIGkpLCBFID0gbihFLCB1KSwgZyA9IG4oZywgZiksIGQgPSBuKGQsIGwpO1xuICAgICAgICByZXR1cm4gW18sIEUsIGcsIGRdO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZih0KSB7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgIG4gPSBcIlwiLFxuICAgICAgICAgIG8gPSAzMiAqIHQubGVuZ3RoO1xuICAgICAgICBmb3IgKGUgPSAwOyBlIDwgbzsgZSArPSA4KSBuICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodFtlID4+IDVdID4+PiBlICUgMzIgJiAyNTUpO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGwodCkge1xuICAgICAgICB2YXIgZSxcbiAgICAgICAgICBuID0gW107XG4gICAgICAgIGZvciAoblsodC5sZW5ndGggPj4gMikgLSAxXSA9IHZvaWQgMCwgZSA9IDA7IGUgPCBuLmxlbmd0aDsgZSArPSAxKSBuW2VdID0gMDtcbiAgICAgICAgdmFyIG8gPSA4ICogdC5sZW5ndGg7XG4gICAgICAgIGZvciAoZSA9IDA7IGUgPCBvOyBlICs9IDgpIG5bZSA+PiA1XSB8PSAoMjU1ICYgdC5jaGFyQ29kZUF0KGUgLyA4KSkgPDwgZSAlIDMyO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF8odCkge1xuICAgICAgICByZXR1cm4gZih1KGwodCksIDggKiB0Lmxlbmd0aCkpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gRSh0LCBlKSB7XG4gICAgICAgIHZhciBuLFxuICAgICAgICAgIG8sXG4gICAgICAgICAgaSA9IGwodCksXG4gICAgICAgICAgciA9IFtdLFxuICAgICAgICAgIHMgPSBbXTtcbiAgICAgICAgZm9yIChyWzE1XSA9IHNbMTVdID0gdm9pZCAwLCBpLmxlbmd0aCA+IDE2ICYmIChpID0gdShpLCA4ICogdC5sZW5ndGgpKSwgbiA9IDA7IG4gPCAxNjsgbiArPSAxKSByW25dID0gOTA5NTIyNDg2IF4gaVtuXSwgc1tuXSA9IDE1NDk1NTY4MjggXiBpW25dO1xuICAgICAgICByZXR1cm4gbyA9IHUoci5jb25jYXQobChlKSksIDUxMiArIDggKiBlLmxlbmd0aCksIGYodShzLmNvbmNhdChvKSwgNjQwKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBnKHQpIHtcbiAgICAgICAgdmFyIGUsXG4gICAgICAgICAgbixcbiAgICAgICAgICBvID0gXCJcIjtcbiAgICAgICAgZm9yIChuID0gMDsgbiA8IHQubGVuZ3RoOyBuICs9IDEpIGUgPSB0LmNoYXJDb2RlQXQobiksIG8gKz0gXCIwMTIzNDU2Nzg5YWJjZGVmXCIuY2hhckF0KGUgPj4+IDQgJiAxNSkgKyBcIjAxMjM0NTY3ODlhYmNkZWZcIi5jaGFyQXQoMTUgJiBlKTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBkKHQpIHtcbiAgICAgICAgcmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBTKHQpIHtcbiAgICAgICAgcmV0dXJuIF8oZCh0KSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBoKHQpIHtcbiAgICAgICAgcmV0dXJuIGcoUyh0KSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIEUoZCh0KSwgZChlKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBVKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGcocCh0LCBlKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBOKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIGUgPyBuID8gcChlLCB0KSA6IFUoZSwgdCkgOiBuID8gUyh0KSA6IGgodCk7XG4gICAgICB9XG4gICAgICB0LmV4cG9ydHMgPyB0LmV4cG9ydHMgPSBOIDogZS5tZDUgPSBOO1xuICAgIH0oY29tbW9uanNHbG9iYWwpO1xuICB9KSxcbiAgQmFzZTY0XzEgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gICAgIWZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGdsb2JhbCkge1xuICAgICAgICB2YXIgX0Jhc2U2NCA9IGdsb2JhbC5CYXNlNjQsXG4gICAgICAgICAgdmVyc2lvbiA9IFwiMi40LjhcIixcbiAgICAgICAgICBidWZmZXI7XG4gICAgICAgIGlmIChtb2R1bGUuZXhwb3J0cykgdHJ5IHtcbiAgICAgICAgICBidWZmZXIgPSBldmFsKFwicmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyXCIpO1xuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgYnVmZmVyID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiNjRjaGFycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLFxuICAgICAgICAgIGI2NHRhYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlID0ge30sIG4gPSAwLCBvID0gdC5sZW5ndGg7IG4gPCBvOyBuKyspIGVbdC5jaGFyQXQobildID0gbjtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgIH0oYjY0Y2hhcnMpLFxuICAgICAgICAgIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG4gICAgICAgICAgY2JfdXRvYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICBpZiAodC5sZW5ndGggPCAyKSByZXR1cm4gKGUgPSB0LmNoYXJDb2RlQXQoMCkpIDwgMTI4ID8gdCA6IGUgPCAyMDQ4ID8gZnJvbUNoYXJDb2RlKDE5MiB8IGUgPj4+IDYpICsgZnJvbUNoYXJDb2RlKDEyOCB8IDYzICYgZSkgOiBmcm9tQ2hhckNvZGUoMjI0IHwgZSA+Pj4gMTIgJiAxNSkgKyBmcm9tQ2hhckNvZGUoMTI4IHwgZSA+Pj4gNiAmIDYzKSArIGZyb21DaGFyQ29kZSgxMjggfCA2MyAmIGUpO1xuICAgICAgICAgICAgdmFyIGUgPSA2NTUzNiArIDEwMjQgKiAodC5jaGFyQ29kZUF0KDApIC0gNTUyOTYpICsgKHQuY2hhckNvZGVBdCgxKSAtIDU2MzIwKTtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQ2hhckNvZGUoMjQwIHwgZSA+Pj4gMTggJiA3KSArIGZyb21DaGFyQ29kZSgxMjggfCBlID4+PiAxMiAmIDYzKSArIGZyb21DaGFyQ29kZSgxMjggfCBlID4+PiA2ICYgNjMpICsgZnJvbUNoYXJDb2RlKDEyOCB8IDYzICYgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZV91dG9iID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRkZdfFteXFx4MDAtXFx4N0ZdL2csXG4gICAgICAgICAgdXRvYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdC5yZXBsYWNlKC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZGXXxbXlxceDAwLVxceDdGXS9nLCBjYl91dG9iKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNiX2VuY29kZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICB2YXIgZSA9IFswLCAyLCAxXVt0Lmxlbmd0aCAlIDNdLFxuICAgICAgICAgICAgICBuID0gdC5jaGFyQ29kZUF0KDApIDw8IDE2IHwgKHQubGVuZ3RoID4gMSA/IHQuY2hhckNvZGVBdCgxKSA6IDApIDw8IDggfCAodC5sZW5ndGggPiAyID8gdC5jaGFyQ29kZUF0KDIpIDogMCk7XG4gICAgICAgICAgICByZXR1cm4gW2I2NGNoYXJzLmNoYXJBdChuID4+PiAxOCksIGI2NGNoYXJzLmNoYXJBdChuID4+PiAxMiAmIDYzKSwgZSA+PSAyID8gXCI9XCIgOiBiNjRjaGFycy5jaGFyQXQobiA+Pj4gNiAmIDYzKSwgZSA+PSAxID8gXCI9XCIgOiBiNjRjaGFycy5jaGFyQXQoNjMgJiBuKV0uam9pbihcIlwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJ0b2EgPSBnbG9iYWwuYnRvYSA/IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsLmJ0b2EodCk7XG4gICAgICAgICAgfSA6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdC5yZXBsYWNlKC9bXFxzXFxTXXsxLDN9L2csIGNiX2VuY29kZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfZW5jb2RlID0gYnVmZmVyID8gYnVmZmVyLmZyb20gJiYgVWludDhBcnJheSAmJiBidWZmZXIuZnJvbSAhPT0gVWludDhBcnJheS5mcm9tID8gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAodC5jb25zdHJ1Y3RvciA9PT0gYnVmZmVyLmNvbnN0cnVjdG9yID8gdCA6IGJ1ZmZlci5mcm9tKHQpKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAodC5jb25zdHJ1Y3RvciA9PT0gYnVmZmVyLmNvbnN0cnVjdG9yID8gdCA6IG5ldyBidWZmZXIodCkpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgICAgICAgIH0gOiBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ0b2EodXRvYih0KSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbmNvZGUgPSBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUgPyBfZW5jb2RlKFN0cmluZyh0KSkucmVwbGFjZSgvWytcXC9dL2csIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBcIitcIiA9PSB0ID8gXCItXCIgOiBcIl9cIjtcbiAgICAgICAgICAgIH0pLnJlcGxhY2UoLz0vZywgXCJcIikgOiBfZW5jb2RlKFN0cmluZyh0KSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbmNvZGVVUkkgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZSh0LCAhMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZV9idG91ID0gbmV3IFJlZ0V4cChbXCJbw4Atw59dW8KALcK/XVwiLCBcIlvDoC3Dr11bwoAtwr9dezJ9XCIsIFwiW8OwLcO3XVvCgC3Cv117M31cIl0uam9pbihcInxcIiksIFwiZ1wiKSxcbiAgICAgICAgICBjYl9idG91ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHZhciBlID0gKCg3ICYgdC5jaGFyQ29kZUF0KDApKSA8PCAxOCB8ICg2MyAmIHQuY2hhckNvZGVBdCgxKSkgPDwgMTIgfCAoNjMgJiB0LmNoYXJDb2RlQXQoMikpIDw8IDYgfCA2MyAmIHQuY2hhckNvZGVBdCgzKSkgLSA2NTUzNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUNoYXJDb2RlKDU1Mjk2ICsgKGUgPj4+IDEwKSkgKyBmcm9tQ2hhckNvZGUoNTYzMjAgKyAoMTAyMyAmIGUpKTtcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tQ2hhckNvZGUoKDE1ICYgdC5jaGFyQ29kZUF0KDApKSA8PCAxMiB8ICg2MyAmIHQuY2hhckNvZGVBdCgxKSkgPDwgNiB8IDYzICYgdC5jaGFyQ29kZUF0KDIpKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUNoYXJDb2RlKCgzMSAmIHQuY2hhckNvZGVBdCgwKSkgPDwgNiB8IDYzICYgdC5jaGFyQ29kZUF0KDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJ0b3UgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIHQucmVwbGFjZShyZV9idG91LCBjYl9idG91KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNiX2RlY29kZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICB2YXIgZSA9IHQubGVuZ3RoLFxuICAgICAgICAgICAgICBuID0gZSAlIDQsXG4gICAgICAgICAgICAgIG8gPSAoZSA+IDAgPyBiNjR0YWJbdC5jaGFyQXQoMCldIDw8IDE4IDogMCkgfCAoZSA+IDEgPyBiNjR0YWJbdC5jaGFyQXQoMSldIDw8IDEyIDogMCkgfCAoZSA+IDIgPyBiNjR0YWJbdC5jaGFyQXQoMildIDw8IDYgOiAwKSB8IChlID4gMyA/IGI2NHRhYlt0LmNoYXJBdCgzKV0gOiAwKSxcbiAgICAgICAgICAgICAgaSA9IFtmcm9tQ2hhckNvZGUobyA+Pj4gMTYpLCBmcm9tQ2hhckNvZGUobyA+Pj4gOCAmIDI1NSksIGZyb21DaGFyQ29kZSgyNTUgJiBvKV07XG4gICAgICAgICAgICByZXR1cm4gaS5sZW5ndGggLT0gWzAsIDAsIDIsIDFdW25dLCBpLmpvaW4oXCJcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdG9iID0gZ2xvYmFsLmF0b2IgPyBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5hdG9iKHQpO1xuICAgICAgICAgIH0gOiBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIHQucmVwbGFjZSgvW1xcc1xcU117MSw0fS9nLCBjYl9kZWNvZGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgX2RlY29kZSA9IGJ1ZmZlciA/IGJ1ZmZlci5mcm9tICYmIFVpbnQ4QXJyYXkgJiYgYnVmZmVyLmZyb20gIT09IFVpbnQ4QXJyYXkuZnJvbSA/IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKHQuY29uc3RydWN0b3IgPT09IGJ1ZmZlci5jb25zdHJ1Y3RvciA/IHQgOiBidWZmZXIuZnJvbSh0LCBcImJhc2U2NFwiKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAodC5jb25zdHJ1Y3RvciA9PT0gYnVmZmVyLmNvbnN0cnVjdG9yID8gdCA6IG5ldyBidWZmZXIodCwgXCJiYXNlNjRcIikpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSA6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gYnRvdShhdG9iKHQpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlY29kZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gX2RlY29kZShTdHJpbmcodCkucmVwbGFjZSgvWy1fXS9nLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICByZXR1cm4gXCItXCIgPT0gdCA/IFwiK1wiIDogXCIvXCI7XG4gICAgICAgICAgICB9KS5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZywgXCJcIikpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gZ2xvYmFsLkJhc2U2NDtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWwuQmFzZTY0ID0gX0Jhc2U2NCwgdDtcbiAgICAgICAgICB9O1xuICAgICAgICBpZiAoZ2xvYmFsLkJhc2U2NCA9IHtcbiAgICAgICAgICBWRVJTSU9OOiBcIjIuNC44XCIsXG4gICAgICAgICAgYXRvYjogYXRvYixcbiAgICAgICAgICBidG9hOiBidG9hLFxuICAgICAgICAgIGZyb21CYXNlNjQ6IGRlY29kZSxcbiAgICAgICAgICB0b0Jhc2U2NDogZW5jb2RlLFxuICAgICAgICAgIHV0b2I6IHV0b2IsXG4gICAgICAgICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgICAgICAgZW5jb2RlVVJJOiBlbmNvZGVVUkksXG4gICAgICAgICAgYnRvdTogYnRvdSxcbiAgICAgICAgICBkZWNvZGU6IGRlY29kZSxcbiAgICAgICAgICBub0NvbmZsaWN0OiBub0NvbmZsaWN0LFxuICAgICAgICAgIF9fYnVmZmVyX186IGJ1ZmZlclxuICAgICAgICB9LCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgIHZhciBub0VudW0gPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHQsXG4gICAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgICBnbG9iYWwuQmFzZTY0LmV4dGVuZFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcImZyb21CYXNlNjRcIiwgbm9FbnVtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZSh0aGlzKTtcbiAgICAgICAgICAgIH0pKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIFwidG9CYXNlNjRcIiwgbm9FbnVtKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmNvZGUodGhpcywgdCk7XG4gICAgICAgICAgICB9KSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcInRvQmFzZTY0VVJJXCIsIG5vRW51bShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmNvZGUodGhpcywgITApO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JhbC5NZXRlb3IgJiYgKEJhc2U2NCA9IGdsb2JhbC5CYXNlNjQpLCBtb2R1bGUuZXhwb3J0cyAmJiAobW9kdWxlLmV4cG9ydHMuQmFzZTY0ID0gZ2xvYmFsLkJhc2U2NCksIHtcbiAgICAgICAgICBCYXNlNjQ6IGdsb2JhbC5CYXNlNjRcbiAgICAgICAgfTtcbiAgICAgIH0oZ2xvYmFsKTtcbiAgICB9KFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogY29tbW9uanNHbG9iYWwpO1xuICB9KSxcbiAgQmFzZTY0XzIgPSBCYXNlNjRfMS5CYXNlNjQsXG4gIFVtZW5nVXRpbHMgPSB7XG4gICAgTUQ1OiBNRDUkMSxcbiAgICBlbmNvZGU6IGVuY29kZSxcbiAgICBkZWNvZGU6IGRlY29kZSxcbiAgICBjaGVja0VtcHR5QXJndW1lbnQ6IGNoZWNrRW1wdHlBcmd1bWVudCxcbiAgICBjaGVja0lkOiBjaGVja0lkLFxuICAgIHN0cmluZ1RvQXJyYXk6IHN0cmluZ1RvQXJyYXksXG4gICAgdG9TdHI6IHRvU3RyLFxuICAgIHRvT2JqZWN0OiB0b09iamVjdCxcbiAgICBjaGVja0F0dHJPclN0cmluZzogY2hlY2tBdHRyT3JTdHJpbmcsXG4gICAgaXNOb3RBTnVtYmVyOiBpc05vdEFOdW1iZXIsXG4gICAgY2hlY2tNRDU6IGNoZWNrTUQ1XG4gIH07XG5jb25zdCAkSlNPTl9VTUVOR19TRVNTSU9OUyQgPSBcImpzb25fdW1lbmdfc2Vzc2lvbnNcIixcbiAgJEpTT05fVU1FTkdfSEFMRl9TRVNTSU9OUyQgPSBcImpzb25fdW1lbmdfaGFsZl9zZXNzaW9uXCIsXG4gICRKU09OX1VNRU5HX0NVUlJFTlRfU0VTU0lPTiQgPSBcImpzb25fdW1lbmdfY3VycmVudF9zZXNzaW9uXCIsXG4gICRKU09OX1VNRU5HX1BBR0VfRU5EX1RJTUUkID0gXCJqc29uX3VtZW5nX3BhZ2VfZW5kX3RpbWVcIixcbiAgU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0Q3VycmVudFNlc3Npb25JZCgpIHtcbiAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3VycmVudFNlc3Npb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNlc3Npb25zKCkge1xuICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICB9LFxuICAgICAgICBpbml0KHQpIHtcbiAgICAgICAgICB0aGlzLmFwcGtleSA9IHQsIG8oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kU2Vzc2lvbigpIHtcbiAgICAgICAgICBhICYmIChjID0gRGF0ZS5ub3coKSwgYS5lbmRfdGltZSA9IGMsIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfQ1VSUkVOVF9TRVNTSU9OJCwgVW1lbmdVdGlscy50b1N0cihhKSksIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfUEFHRV9FTkRfVElNRSQsIGMpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZXNzaW9ucygpIHtcbiAgICAgICAgICBTdG9yYWdlVXRpbC5kZWxldGVEYXRhKCRKU09OX1VNRU5HX1NFU1NJT05TJCksIGwuc3BsaWNlKDAsIGwubGVuZ3RoKSwgbCA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICBzZXRPblNlc3Npb25MaXN0ZW5lcih0KSB7XG4gICAgICAgICAgdGhpcy5zZXNzaW9uTGlzdGVuZXIgPSB0O1xuICAgICAgICB9LFxuICAgICAgICBnZXRIYWxmU2Vzc2lvbnMoKSB7XG4gICAgICAgICAgcmV0dXJuIF87XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFySGFsZlNlc3Npb24oKSB7XG4gICAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlRGF0YSgkSlNPTl9VTUVOR19IQUxGX1NFU1NJT05TJCksIF8uc3BsaWNlKDAsIF8ubGVuZ3RoKSwgXyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKHQsIGUpIHtcbiAgICAgIGNvbnN0IG4gPSBEYXRlLm5vdygpO1xuICAgICAgRGV2aWNlVXRpbC5nZXRVbmlxdWVJZCgpLnRoZW4odCA9PiB7XG4gICAgICAgIGNvbnN0IG8gPSBVbWVuZ1V0aWxzLk1ENShgJHtufTo6OiR7U2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmFwcGtleX06Ojoke3R9YCk7XG4gICAgICAgIGUobyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbih0KSB7XG4gICAgICBjb25zdCBlID0ge307XG4gICAgICByZXR1cm4gZS5pZCA9IHQsIGUuc3RhcnRfdGltZSA9IERhdGUubm93KCksIGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG8oKSB7XG4gICAgICBjb25zdCB0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGEgPyBjICYmIHQgLSBjID4gY29uc3RhbnRzLlNFU1NJT05fSU5URVJWQUwgJiYgKGkoYyksIHIoYSkpIDogU3RvcmFnZVV0aWwuZ2V0RGF0YSgkSlNPTl9VTUVOR19DVVJSRU5UX1NFU1NJT04kLCBlID0+IHtcbiAgICAgICAgZSAmJiAoYSA9IFVtZW5nVXRpbHMudG9PYmplY3QoZSkpID8gU3RvcmFnZVV0aWwuZ2V0RGF0YSgkSlNPTl9VTUVOR19QQUdFX0VORF9USU1FJCwgZSA9PiB7XG4gICAgICAgICAgZSAmJiB0IC0gZSA+IGNvbnN0YW50cy5TRVNTSU9OX0lOVEVSVkFMID8gKGkoZSksIHIoYSkpIDogZiA9IGEuaWQ7XG4gICAgICAgIH0pIDogcihudWxsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGEuZW5kX3RpbWUgPSBwYXJzZUludCh0LCAxMCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGEuZW5kX3RpbWUgPSB0O1xuICAgICAgfVxuICAgICAgY29uc3QgZSA9IHQgLSBhLnN0YXJ0X3RpbWU7XG4gICAgICBhLmR1cmF0aW9uID0gZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcih0KSB7XG4gICAgICBjb25zdCBvID0gdCA/IHQuaWQgOiBcIlwiLFxuICAgICAgICBpID0gU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLnNlc3Npb25MaXN0ZW5lcihvKTtcbiAgICAgIGUobywgZSA9PiB7XG4gICAgICAgIGEgPSBuKGUpO1xuICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKCRKU09OX1VNRU5HX1NFU1NJT05TJCwgbiA9PiB7XG4gICAgICAgICAgbCA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheShuKTtcbiAgICAgICAgICB0ID8gaS5wYWdlcyhuID0+IHtcbiAgICAgICAgICAgIG4gJiYgbi5sZW5ndGggPiAwICYmICh0LnBhZ2VzID0gbiwgdC4kcGFnZV9udW0gPSBuLmxlbmd0aCk7XG4gICAgICAgICAgICBsLnB1c2godCk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKCRKU09OX1VNRU5HX1NFU1NJT05TJCwgVW1lbmdVdGlscy50b1N0cihsKSk7XG4gICAgICAgICAgICBzKGksIGUpO1xuICAgICAgICAgIH0pIDogcyhpLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfQ1VSUkVOVF9TRVNTSU9OJCwgVW1lbmdVdGlscy50b1N0cihhKSk7XG4gICAgICAgIGYgPSBlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgU3RvcmFnZVV0aWwuZ2V0RGF0YSgkSlNPTl9VTUVOR19IQUxGX1NFU1NJT05TJCwgbiA9PiB7XG4gICAgICAgIF8gPSBVbWVuZ1V0aWxzLnN0cmluZ1RvQXJyYXkobik7XG4gICAgICAgIGEgJiYgKF8ucHVzaChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGEpKSksIFN0b3JhZ2VVdGlsLnB1dERhdGEoJEpTT05fVU1FTkdfSEFMRl9TRVNTSU9OUyQsIFVtZW5nVXRpbHMudG9TdHIoXykpLCB0LmdlbmVyYXRlU2Vzc2lvbkFmdGVySGFuZGxlcihlKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGMsXG4gICAgICBhLFxuICAgICAgdSA9IG51bGwsXG4gICAgICBmID0gXCJcIixcbiAgICAgIGwgPSBbXSxcbiAgICAgIF8gPSBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiB1IHx8ICh1ID0gdCgpKSwgdTtcbiAgICAgIH1cbiAgICB9O1xuICB9KCksXG4gICRKU09OX1VNRU5HX0hFQURFUiQgPSBcImpzb25fdW1lbmdfaGVhZGVyXCIsXG4gICRVTUVOR19LRVlfSU1QUklOVCQgPSBcInVtZW5nX2tleV9pbXByaW50XCIsXG4gIE1PQklMRV9ORVRXT1JLXzJHID0gXCIyZ1wiLFxuICBNT0JJTEVfTkVUV09SS18zRyA9IFwiM2dcIixcbiAgTU9CSUxFX05FVFdPUktfNEcgPSBcIjRnXCIsXG4gIE1PQklMRV9ORVRXT1JLX05PTkUgPSBcIm5vbmVcIixcbiAgQkxBTktfU1BBQ0UgPSBcIiBcIixcbiAgVU1FTkdfQURWRVJUSVNUSU5HX0lEID0gXCJpZGZhXCIsXG4gIFVNRU5HX0FORFJPSURfSUQgPSBcImFuZHJvaWRfaWRcIixcbiAgVU1FTkdfT0FJRCA9IFwib2FpZFwiLFxuICBIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluaXQodCkge1xuICAgICAgICAgIHRoaXMuYXBwa2V5ID0gdCwgdGhpcy5hcHBJbmZvID0gX3N5c3RlbTUuZGVmYXVsdC5nZXRJbmZvKCksIGUodCA9PiB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlciA9IHQ7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKCRKU09OX1VNRU5HX0hFQURFUiQsIFVtZW5nVXRpbHMudG9TdHIodCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRIZWFkZXIodCkge1xuICAgICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRjpcbiAgICAgICAgICAgICAgdGhpcy5oZWFkZXIuc3QgPSBcIjFcIiwgITAgPT09IHMgJiYgZGVsZXRlIHRoaXMuaGVhZGVyLmF0bTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9DTE9TRTpcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVDpcbiAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaGVhZGVyLnN0LCBkZWxldGUgdGhpcy5oZWFkZXIuYXRtO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEhlYWRlckF0dHIodCwgZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVyICYmICh0aGlzLmhlYWRlclt0XSA9IGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRIZWFkZXJBdHRyKHQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXIgJiYge30uaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmhlYWRlciwgdCkgPyB0aGlzLmhlYWRlclt0XSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBhY2thZ2VOYW1lKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBJbmZvLnBhY2thZ2VOYW1lO1xuICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZpcnN0U2VuZEZsYWcoKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKHQpIHtcbiAgICAgIERldmljZVV0aWwuZ2V0QmFzZUluZm8oKS50aGVuKGUgPT4ge1xuICAgICAgICBEZXZpY2VVdGlsLmdldFVuaXF1ZUlkKCkudGhlbihyID0+IHtcbiAgICAgICAgICBEZXZpY2VVdGlsLmdldE5ldHdvcmtJbmZvKHMgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgfSA9IHM7XG4gICAgICAgICAgICB0eXBlID09PSBNT0JJTEVfTkVUV09SS19OT05FICYmICh0eXBlID0gXCJ1bmtub3duXCIpO1xuICAgICAgICAgICAgY29uc3QgYyA9IGkoZSwgciwgdHlwZSk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKCRVTUVOR19LRVlfSU1QUklOVCQsIGUgPT4ge1xuICAgICAgICAgICAgICAwICE9PSBlLmxlbmd0aCAmJiAoYy5pbXByaW50ID0gZSk7XG4gICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkFQUF9GSVJTVF9PUEVOX0ZMQUcsIGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBcInRydWVcIiA9PT0gZTtcbiAgICAgICAgICAgICAgICBsZXQgciA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgaSAmJiAociA9IG5ldyBEYXRlKCksIGMuYXRtID0gXCIxXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHIpO1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLk1PQklMRV9BRFZFUlRJU0lOR19JRCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gbihlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbyhVTUVOR19BRFZFUlRJU1RJTkdfSUQsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgIGMuaWRfdHJhY2tpbmcgPSBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5NT0JJTEVfQU5EUk9JRF9JRCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IG4oZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIGlmIChjLmlkX3RyYWNraW5nICYmIGMuaWRfdHJhY2tpbmcuc25hcHNob3RzKSBjLmlkX3RyYWNraW5nLnNuYXBzaG90c1tVTUVOR19BTkRST0lEX0lEXSA9IHQ7ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbyhVTUVOR19BTkRST0lEX0lELCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuaWRfdHJhY2tpbmcgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5NT0JJTEVfT0FJRCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIGlmIChjLmlkX3RyYWNraW5nICYmIGMuaWRfdHJhY2tpbmcuc25hcHNob3RzKSBjLmlkX3RyYWNraW5nLnNuYXBzaG90c1tVTUVOR19PQUlEXSA9IHQ7ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBvKFVNRU5HX09BSUQsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjLmlkX3RyYWNraW5nID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgdChjKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbih0KSB7XG4gICAgICBpZiAodCkge1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgIGlkZW50aXR5OiB0LFxuICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgdHM6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG8odCwgZSkge1xuICAgICAgY29uc3QgbiA9IHtcbiAgICAgICAgc25hcHNob3RzOiB7fVxuICAgICAgfTtcbiAgICAgIHJldHVybiBuLnNuYXBzaG90c1t0XSA9IGUsIG47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkodCwgZSwgbikge1xuICAgICAgbGV0IG8gPSBudWxsO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQuc2NyZWVuV2lkdGgsXG4gICAgICAgICAgaSA9IHQuc2NyZWVuSGVpZ2h0LFxuICAgICAgICAgIHMgPSBuID4gaSA/IGAke259KiR7aX1gIDogYCR7aX0qJHtufWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXBwSW5mbzogYXBwSW5mb1xuICAgICAgICAgIH0gPSByLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAgIGJyYW5kOiBicmFuZFxuICAgICAgICAgIH0gPSB0LFxuICAgICAgICAgIGMgPSBicmFuZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBvID0ge1xuICAgICAgICAgIGFwcF92ZXJzaW9uOiBhcHBJbmZvLnZlcnNpb25OYW1lLFxuICAgICAgICAgIHZlcnNpb25fY29kZTogYXBwSW5mby52ZXJzaW9uQ29kZSxcbiAgICAgICAgICBhcHBfc291cmNlX2V4dHJhOiBhcHBJbmZvLnNvdXJjZS5leHRyYSxcbiAgICAgICAgICBkZXZpY2VfdHlwZTogXCJQaG9uZVwiLFxuICAgICAgICAgIHBhY2thZ2VfbmFtZTogYXBwSW5mby5wYWNrYWdlTmFtZSxcbiAgICAgICAgICBzZGtfdHlwZTogXCJBbmRyb2lkXCIsXG4gICAgICAgICAgb3M6IFwiQW5kcm9pZFwiLFxuICAgICAgICAgIHNka192ZXJzaW9uOiBjb25zdGFudHMuU0RLX1ZFUlNJT04sXG4gICAgICAgICAgYXBwa2V5OiByLmFwcGtleSxcbiAgICAgICAgICBkZXZpY2VfbW9kZWw6IG1vZGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKSA+IC0xID8gbW9kZWwgOiBjICsgQkxBTktfU1BBQ0UgKyBtb2RlbCxcbiAgICAgICAgICBkZXZpY2VfYnJhbmQ6IGJyYW5kLFxuICAgICAgICAgIGNoYW5uZWw6IGMsXG4gICAgICAgICAgZGV2aWNlX21hbnVmYWN0dXJlcjogdC5tYW51ZmFjdHVyZXIsXG4gICAgICAgICAgZGV2aWNlX21hbnVpZDogbW9kZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGMpID4gLTEgPyBtb2RlbCA6IGMgKyBCTEFOS19TUEFDRSArIG1vZGVsLFxuICAgICAgICAgIGRldmljZV9uYW1lOiB0LnByb2R1Y3QudG9Mb3dlckNhc2UoKS5pbmRleE9mKGMpID4gLTEgPyB0LnByb2R1Y3QgOiBjICsgQkxBTktfU1BBQ0UgKyB0LnByb2R1Y3QsXG4gICAgICAgICAgb3NfdmVyc2lvbjogdC5vc1ZlcnNpb25OYW1lLFxuICAgICAgICAgIHJlc29sdXRpb246IHMsXG4gICAgICAgICAgbGFuZ3VhZ2U6IHQubGFuZ3VhZ2UsXG4gICAgICAgICAgZGlzcGxheV9uYW1lOiB0Lm5hbWUsXG4gICAgICAgICAgaWRtZDU6IFVtZW5nVXRpbHMuTUQ1KGUpLFxuICAgICAgICAgIHBsYXRmb3JtOiBcInF1aWNrYXBwXCIsXG4gICAgICAgICAgcHJvX3ZlcjogXCIxXCJcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBvID0ge1xuICAgICAgICBhcHBfdmVyc2lvbjogci5hcHBJbmZvLnZlcnNpb25OYW1lLFxuICAgICAgICB2ZXJzaW9uX2NvZGU6IHIuYXBwSW5mby52ZXJzaW9uQ29kZSxcbiAgICAgICAgZGV2aWNlX3R5cGU6IFwiUGhvbmVcIixcbiAgICAgICAgcGFja2FnZV9uYW1lOiByLmFwcEluZm8ucGFja2FnZU5hbWUsXG4gICAgICAgIHNka190eXBlOiBcIkFuZHJvaWRcIixcbiAgICAgICAgb3M6IFwiQW5kcm9pZFwiLFxuICAgICAgICBzZGtfdmVyc2lvbjogY29uc3RhbnRzLlNES19WRVJTSU9OLFxuICAgICAgICBhcHBrZXk6IHIuYXBwa2V5LFxuICAgICAgICBpZG1kNTogVW1lbmdVdGlscy5NRDUoZSksXG4gICAgICAgIHBsYXRmb3JtOiBcInF1aWNrYXBwXCIsXG4gICAgICAgIHByb192ZXI6IFwiMVwiXG4gICAgICB9O1xuICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgIGNhc2UgTU9CSUxFX05FVFdPUktfNEc6XG4gICAgICAgICAgby5hY2Nlc3Nfc3VidHlwZSA9IFwiTFRFXCIsIG8uYWNjZXNzID0gXCIyRy8zR1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1PQklMRV9ORVRXT1JLXzNHOlxuICAgICAgICAgIG8uYWNjZXNzX3N1YnR5cGUgPSBcIkNETUFcIiwgby5hY2Nlc3MgPSBcIjJHLzNHXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTU9CSUxFX05FVFdPUktfMkc6XG4gICAgICAgICAgby5hY2Nlc3Nfc3VidHlwZSA9IFwiR1JQU1wiLCBvLmFjY2VzcyA9IFwiMkcvM0dcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBvLmFjY2VzcyA9IG4sIGRlbGV0ZSBvLmFjY2Vzc19zdWJ0eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG87XG4gICAgfVxuICAgIGxldCByID0gbnVsbCxcbiAgICAgIHMgPSAhMTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiByIHx8IChyID0gdCgpKSwgcjtcbiAgICAgIH1cbiAgICB9O1xuICB9KCk7XG5Mb29wZXIucHJvdG90eXBlID0ge1xuICBwcmVwYXJlKHQpIHtcbiAgICB0aGlzLnF1ZXVlT2JqZWN0ID0gdCwgdGhpcy5pc1J1bm5pbmcgPSAhMSwgdGhpcy5pc0ZvcmNlU3RvcCA9ICExO1xuICB9LFxuICBsb29wKCkge1xuICAgIGlmICghdGhpcy5pc0ZvcmNlU3RvcCAmJiB0aGlzLnF1ZXVlT2JqZWN0ICYmICF0aGlzLmlzUnVubmluZykgZm9yICh0aGlzLmlzUnVubmluZyA9ICEwOyB0aGlzLmlzUnVubmluZzspIHtcbiAgICAgIGlmICghdGhpcy5xdWV1ZU9iamVjdC5pc0NhblBvcCgpKSB7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gITE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5xdWV1ZU9iamVjdC5kaXNwYXRjaE1lc3NhZ2UoKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgfVxuICB9LFxuICB3YWl0KCkge1xuICAgIHRoaXMuaXNSdW5uaW5nID0gITE7XG4gIH0sXG4gIGZvcmNlU3RvcCgpIHtcbiAgICB0aGlzLmlzRm9yY2VTdG9wID0gITA7XG4gIH0sXG4gIGNhbmNlbEZvcmNlU3RvcCgpIHtcbiAgICB0aGlzLmlzRm9yY2VTdG9wID0gITEsIHRoaXMubG9vcCgpO1xuICB9XG59O1xuY29uc3QgUmVxdWVzdFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHQodCkge1xuICAgICAgcmV0dXJuICEhdCAmJiAoZi51bnNoaWZ0KHQpLCB1Lmxvb3AoKSwgITApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgaWYgKGYubGVuZ3RoID4gMCkgcmV0dXJuIGYucG9wKCk7XG4gICAgICBjb25zdCB0ID0gbC5sZW5ndGg7XG4gICAgICByZXR1cm4gdCA+IDAgPyAoMSA9PT0gdCAmJiBSZXF1ZXN0SGVscGVyLmdldEluc3RhbmNlKCkuY2xlYXJOb1NlbmREYXRhcygpLCBsLnBvcCgpKSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG4odCwgZSkge1xuICAgICAgY29uc3QgbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG8odCk7XG4gICAgICAgIH0sIDNlNCksXG4gICAgICAgIGkgPSB7XG4gICAgICAgICAga2V5OiB0LFxuICAgICAgICAgIHRpbWVPdXRGdW46IG4sXG4gICAgICAgICAgaXNFeGU6ICExXG4gICAgICAgIH07XG4gICAgICBnLnB1c2goaSksIGUodCA9PiB7XG4gICAgICAgIG8odCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbyh0KSB7XG4gICAgICBmb3IgKGxldCBlID0gZy5sZW5ndGggLSAxOyBlID49IDA7IGUtLSkge1xuICAgICAgICBjb25zdCBuID0gZ1tlXTtcbiAgICAgICAgaWYgKG4ua2V5ID09PSB0KSB7XG4gICAgICAgICAgaWYgKCFuLmlzRXhlKSB7XG4gICAgICAgICAgICBuLmlzRXhlID0gITA7XG4gICAgICAgICAgICBjb25zdCB0ID0gbi50aW1lT3V0RnVuO1xuICAgICAgICAgICAgdCAmJiBjbGVhclRpbWVvdXQodCksIGkoKSwgZy5zcGxpY2UoZSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkoKSB7XG4gICAgICAoRSAtPSAxKSA8PSBfICYmIHUubG9vcCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByKHQpIHtcbiAgICAgIGNvbnN0IGUgPSBnLmxlbmd0aCxcbiAgICAgICAgbiA9IHQubWQ1S2V5O1xuICAgICAgZm9yIChsZXQgdCA9IGUgLSAxOyB0ID49IDA7IHQtLSkge1xuICAgICAgICBjb25zdCBlID0gZ1t0XTtcbiAgICAgICAgaWYgKGUua2V5ID09PSBuKSByZXR1cm4gaSgpLCAhMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcygpIHtcbiAgICAgIFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5vbk5vU2VuZERhdGFzTGlzdGVuZXIodCA9PiB7XG4gICAgICAgIGlmICghdCB8fCAwID09PSB0Lmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBmb3IgKGNvbnN0IGUgaW4gdCkgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwodCwgZSkpIHtcbiAgICAgICAgICBjb25zdCBuID0ge1xuICAgICAgICAgICAgbWQ1S2V5OiB0W2VdLFxuICAgICAgICAgICAgdHlwZTogXCJzZWNvbmRcIlxuICAgICAgICAgIH07XG4gICAgICAgICAgbC5wdXNoKG4pO1xuICAgICAgICB9XG4gICAgICAgIHUubG9vcCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGMoKSB7XG4gICAgICByZXR1cm4gcygpLCB7XG4gICAgICAgIGhhbmRsZU1lc3NhZ2UoZSwgbikge1xuICAgICAgICAgIGUgJiYgXCJzZWNvbmRcIiA9PT0gZS50eXBlICYmIGkoKSwgZSAmJiBlLmRhdGEgJiYgKGUuZXhlY3V0ZUZ1bmN0aW9uID0gbiwgdChlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BhdGNoTWVzc2FnZSgpIHtcbiAgICAgICAgICBpZiAoRSA+IF8pIHJldHVybiB2b2lkIHUud2FpdCgpO1xuICAgICAgICAgIEUgKz0gMTtcbiAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgIHIodCkgfHwgKHQuZGF0YSA/IG4odC5tZDVLZXksIHQuZXhlY3V0ZUZ1bmN0aW9uKSA6IFJlcXVlc3RIZWxwZXIuZ2V0SW5zdGFuY2UoKS5zZW5kKHQpLCB0aGlzLmlzQ2FuUG9wKCkgfHwgdS53YWl0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBpc0NhblBvcCgpIHtcbiAgICAgICAgICByZXR1cm4gZi5sZW5ndGggPiAwIHx8IGwubGVuZ3RoID4gMDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGEsIHU7XG4gICAgY29uc3QgZiA9IFtdLFxuICAgICAgbCA9IFtdLFxuICAgICAgXyA9IDM7XG4gICAgbGV0IEUgPSAxO1xuICAgIGNvbnN0IGcgPSBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBhIHx8IChhID0gYygpLCAodSA9IG5ldyBMb29wZXIoKSkucHJlcGFyZShhKSksIGE7XG4gICAgICB9XG4gICAgfTtcbiAgfSgpLFxuICBTdG9yZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHQodCkge1xuICAgICAgaWYgKCF0KSByZXR1cm4gITE7XG4gICAgICBjb25zdCBlID0ge1xuICAgICAgICBrZXk6IHQsXG4gICAgICAgIHR5cGU6IF9cbiAgICAgIH07XG4gICAgICByZXR1cm4gdS51bnNoaWZ0KGUpLCBhLmxvb3AoKSwgITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICBpZiAodS5sZW5ndGggPiAwKSByZXR1cm4gdS5wb3AoKTtcbiAgICAgIGNvbnN0IHQgPSBmLmxlbmd0aDtcbiAgICAgIGlmICh0ID4gMCkge1xuICAgICAgICBjb25zdCBlID0gZi5wb3AoKTtcbiAgICAgICAgcmV0dXJuIDAgPT09IHQgJiYgbigpLCBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG4oKSwgbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbigpIHtcbiAgICAgIGcgfHwgKGcgPSAhMCwgU3RvcmFnZVV0aWwuZ2V0RGF0YShjb25zdGFudHMuS0VZX05PX1NFTkRfUkVRVUVTVF9LRVlTLCB0ID0+IHtcbiAgICAgICAgZyA9ICExO1xuICAgICAgICBpZiAoIXQpIHJldHVybjtcbiAgICAgICAgY29uc3QgZSA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheSh0KTtcbiAgICAgICAgY29uc3QgbiA9IHQgPT4gZSA9PiB7XG4gICAgICAgICAgZSAmJiAnXCJcIicgIT09IGUgfHwgKGUgPSB7XG4gICAgICAgICAgICBrZXk6IHQsXG4gICAgICAgICAgICB0eXBlOiBFXG4gICAgICAgICAgfSwgZi5wdXNoKGUpKTtcbiAgICAgICAgICBmLmxlbmd0aCA+IDAgJiYgYS5sb29wKCk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgdCBpbiBlKSBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChlLCB0KSkge1xuICAgICAgICAgIGNvbnN0IG8gPSBlW3RdO1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEobywgbihvKSk7XG4gICAgICAgIH1cbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgZyA9ICExO1xuICAgICAgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvKHQpIHtcbiAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgZSA9PiB7XG4gICAgICAgIGUgPSBlID8gVW1lbmdVdGlscy50b09iamVjdChlKSA6IFtdO1xuICAgICAgICBlLnB1c2godCk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgVW1lbmdVdGlscy50b1N0cihlKSwgKCkgPT4ge1xuICAgICAgICAgIHIodCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICByKHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgcih0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgZSA9PiB7XG4gICAgICAgIGlmICghZSkgcmV0dXJuIHZvaWQgcih0KTtcbiAgICAgICAgZSA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheShlKTtcbiAgICAgICAgZm9yIChjb25zdCBuIGluIGUpIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG4pKSB7XG4gICAgICAgICAgY29uc3QgbyA9IGVbbl07XG4gICAgICAgICAgaWYgKG8gPT09IHQpIHtcbiAgICAgICAgICAgIGUuc3BsaWNlKG4sIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgVW1lbmdVdGlscy50b1N0cihlKSwgKCkgPT4ge1xuICAgICAgICAgIHIodCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICByKHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgcih0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByKCkge1xuICAgICAgKGQgLT0gMSkgPD0gbCAmJiBhLmxvb3AoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcygpIHtcbiAgICAgIHJldHVybiBuKCksIHtcbiAgICAgICAgaGFuZGxlTWVzc2FnZShlKSB7XG4gICAgICAgICAgZSA/IHQoZSkgOiBuKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BhdGNoTWVzc2FnZSgpIHtcbiAgICAgICAgICBpZiAoZCA+IGwpIHJldHVybiB2b2lkIGEud2FpdCgpO1xuICAgICAgICAgIGQgKz0gMTtcbiAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgIGlmICghdCB8fCBudWxsID09PSB0KSByZXR1cm4gdm9pZCByKCk7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgICB9ID0gdDtcbiAgICAgICAgICB0LnR5cGUgPT09IF8gPyBvKGtleSkgOiBpKGtleSksIHRoaXMuaXNDYW5Qb3AoKSB8fCBhLndhaXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNDYW5Qb3AoKSB7XG4gICAgICAgICAgcmV0dXJuIHUubGVuZ3RoID4gMCB8fCBmLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBjLCBhO1xuICAgIGNvbnN0IHUgPSBbXSxcbiAgICAgIGYgPSBbXSxcbiAgICAgIGwgPSAxLFxuICAgICAgXyA9IFwid3JpdGVcIixcbiAgICAgIEUgPSBcImRlbGV0ZVwiO1xuICAgIGxldCBnID0gITEsXG4gICAgICBkID0gMTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBjIHx8IChjID0gcygpLCAoYSA9IG5ldyBMb29wZXIoKSkucHJlcGFyZShjKSksIGM7XG4gICAgICB9XG4gICAgfTtcbiAgfSgpLFxuICAkVU1FTkdfS0VZX0lNUFJJTlQkJDEgPSBcInVtZW5nX2tleV9pbXByaW50XCI7XG5sZXQgbm9TZW5kUmVxdWVzdEtleXMgPSBbXTtcbmNvbnN0IFJlcXVlc3RIZWxwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgIGNvbnN0IHQgPSBbXS5jb25jYXQoU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25zKCkpO1xuICAgICAgaWYgKHQgJiYgMCAhPT0gdC5sZW5ndGgpIHJldHVybiBTZXNzaW9uLmdldEluc3RhbmNlKCkuY2xlYXJTZXNzaW9ucygpLCB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgY29uc3QgdCA9IFtdLmNvbmNhdChTZXNzaW9uLmdldEluc3RhbmNlKCkuZ2V0SGFsZlNlc3Npb25zKCkpO1xuICAgICAgaWYgKHQgJiYgMCAhPT0gdC5sZW5ndGgpIHJldHVybiBTZXNzaW9uLmdldEluc3RhbmNlKCkuY2xlYXJIYWxmU2Vzc2lvbigpLCB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBuKHQpIHtcbiAgICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZURhdGEodCwgdCA9PiB7XG4gICAgICAgIHQgJiYgU3RvcmVRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UobnVsbCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbyh0LCBlLCBvLCByKSB7XG4gICAgICBpZiAoIXQgfHwgJ1wiXCInID09PSB0KSByZXR1cm4gdm9pZCAobyAmJiBvKGUpKTtcbiAgICAgIGNvbnN0IHMgPSBjb25zdGFudHMuUkVMRUFTRV9VUkw7XG4gICAgICBfc3lzdGVtNi5kZWZhdWx0LmZldGNoKHtcbiAgICAgICAgdXJsOiBzLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBkYXRhOiBVbWVuZ1V0aWxzLmVuY29kZSh0KSxcbiAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJxdWlja2FwcC9qc29uXCIsXG4gICAgICAgICAgXCJNc2ctVHlwZVwiOiBcInF1aWNrYXBwL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzKHQpIHtcbiAgICAgICAgICBpZiAoMjAwID09PSB0LmNvZGUpIHtcbiAgICAgICAgICAgIExvZy5pKFwiKioqIHVtZW5nX3NkayAqKiogcmVxdWVzdCBzZW5kIHN1Y2Nlc3NcIiksIG4oZSksIHIgJiYgcihlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUgPSBVbWVuZ1V0aWxzLnRvT2JqZWN0KHQuZGF0YSk7XG4gICAgICAgICAgICAgIGkoZS5pbXByaW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICAgICAgfSBlbHNlIDQxMyA9PT0gdC5jb2RlICYmIChMb2cuaShcIioqKiB1bWVuZ19zZGsgKioqIHJlcXVlc3QgaXMgdG8gbGFyZ2UhXCIpLCBuKGUpLCByICYmIHIoZSkpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsOiBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgICAgIExvZy5pKFwiKioqIHVtZW5nX3NkayAqKiogcmVxdWVzdCBlcnJvciwgcGxlYXNlIGNoZWNrIHlvdXIgcGVybWlzc2lvbiEgXCIpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZSgpIHtcbiAgICAgICAgICBvICYmIG8oZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgU3RvcmFnZVV0aWwucHV0RGF0YSgkVU1FTkdfS0VZX0lNUFJJTlQkJDEsIHQpLCBIZWFkZXIuZ2V0SW5zdGFuY2UoKS5hZGRIZWFkZXJBdHRyKFwiaW1wcmludFwiLCB0KTtcbiAgICAgICAgICBjb25zdCBlID0gVW1lbmdVdGlscy50b09iamVjdChVbWVuZ1V0aWxzLmRlY29kZSh0KSksXG4gICAgICAgICAgICBuID0gZS5yZXBvcnRfcG9saWN5O1xuICAgICAgICAgIGlmIChuICYmIFVtZW5nVXRpbHMuaXNOb3RBTnVtYmVyKG4pKSB7XG4gICAgICAgICAgICBpZiAoU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZLCBuKSwgbiA9PT0gY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWV9JTlRFUlZBTF9WQUxVRSkge1xuICAgICAgICAgICAgICBsZXQgdCA9IGUucmVwb3J0X2ludGVydmFsO1xuICAgICAgICAgICAgICB0ICYmIFVtZW5nVXRpbHMuaXNOb3RBTnVtYmVyKHQpID8gKHQgPD0gY29uc3RhbnRzLkVWRU5UX1NFTkRfTUlOX0lOVEVSVkFMID8gdCA9IGNvbnN0YW50cy5FVkVOVF9TRU5EX01JTl9JTlRFUlZBTCA6IHQgPiBjb25zdGFudHMuRVZFTlRfU0VORF9NQVhfSU5URVJWQUwgJiYgKHQgPSBjb25zdGFudHMuRVZFTlRfU0VORF9NQVhfSU5URVJWQUwpLCBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9JTlRFUlZBTF9USU1FLCB0KSkgOiBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfU1RBUlRfU0VORF9WQUxVRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWSwgY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWV9TVEFSVF9TRU5EX1ZBTFVFKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAodCkge31cbiAgICB9XG4gICAgZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICBjb25zdCBuID0gVW1lbmdVdGlscy50b1N0cihlKTtcbiAgICAgIGxldCBvID0gbnVsbDtcbiAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9IQUxGOlxuICAgICAgICAgIG8gPSBjb25zdGFudHMuS0VZX0hBTEZfU0VTU0lPTl9QUkVGSVg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9TRVNTSU9OX0NMT1NFOlxuICAgICAgICAgIG8gPSBjb25zdGFudHMuS0VZX0NMT1NFX1NFU1NJT05fUFJFRklYO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfRVZFTlQ6XG4gICAgICAgICAgbyA9IGNvbnN0YW50cy5LRVlfRVZFTlRfUFJFRklYO1xuICAgICAgfVxuICAgICAgY29uc3QgaSA9IG8gKyBVbWVuZ1V0aWxzLk1ENShuKTtcbiAgICAgIHJldHVybiBTdG9yYWdlVXRpbC5wdXREYXRhKGksIG4pLCBTdG9yZVF1ZXVlLmdldEluc3RhbmNlKCkuaGFuZGxlTWVzc2FnZShpKSwgMCA9PT0gbm9TZW5kUmVxdWVzdEtleXMubGVuZ3RoICYmIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLktFWV9OT19TRU5EX1JFUVVFU1RfS0VZUywgdCA9PiB7XG4gICAgICAgIGlmICghdCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBlID0gVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KHQpO1xuICAgICAgICAwID09PSBub1NlbmRSZXF1ZXN0S2V5cy5sZW5ndGggJiYgKG5vU2VuZFJlcXVlc3RLZXlzID0gZSwgYSAmJiBhKG5vU2VuZFJlcXVlc3RLZXlzKSk7XG4gICAgICB9KSwgaTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmFtc0lzVmFsaWQodCkge1xuICAgICAgICAgIHJldHVybiAtMSAhPT0gW2NvbnN0YW50cy5SRVFVRVNUX1RZUEVfU0VTU0lPTl9IQUxGLCBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0UsIGNvbnN0YW50cy5SRVFVRVNUX1RZUEVfRVZFTlRdLmluZGV4T2YodCk7XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkU2VuZENvbnRlbnQobiwgbykge1xuICAgICAgICAgIGlmIChIZWFkZXIuZ2V0SW5zdGFuY2UoKS5nZXRIZWFkZXIobikpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcjogSGVhZGVyLmdldEluc3RhbmNlKCkuZ2V0SGVhZGVyKG4pLFxuICAgICAgICAgICAgICBhbmFseXRpY3M6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fSEFMRjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgICAgICAgICAgaWYgKCF0KSBicmVhaztcbiAgICAgICAgICAgICAgICAgIGkuYW5hbHl0aWNzID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uczogdFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHMuUkVRVUVTVF9UWVBFX1NFU1NJT05fQ0xPU0U6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHQoKTtcbiAgICAgICAgICAgICAgICAgIGlmICghZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBpLmFuYWx5dGljcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbnM6IGVcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzLlJFUVVFU1RfVFlQRV9FVkVOVDpcbiAgICAgICAgICAgICAgICBvICYmIG8ubGVuZ3RoID4gMCAmJiAoaS5hbmFseXRpY3MgPSB7XG4gICAgICAgICAgICAgICAgICBla3Y6IG9cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzID0gXCJcIjtcbiAgICAgICAgICAgIHJldHVybiBpLmFuYWx5dGljcyAmJiAocyA9IHIobiwgaSkpLCB7XG4gICAgICAgICAgICAgIGRhdGE6IGksXG4gICAgICAgICAgICAgIG1kNUtleTogc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlbmQodCwgZSkge1xuICAgICAgICAgIGNvbnN0IG4gPSB0Lm1kNUtleTtcbiAgICAgICAgICBuICYmIChcInNlY29uZFwiID09PSB0LnR5cGUgPyBTdG9yYWdlVXRpbC5nZXREYXRhKG4sIG4gPT4ge1xuICAgICAgICAgICAgdC5kYXRhID0gVW1lbmdVdGlscy50b09iamVjdChuKTtcbiAgICAgICAgICAgIHQuZGF0YSB8fCBlICYmIGUoKTtcbiAgICAgICAgICAgIFJlcXVlc3RRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UodCwgbiA9PiB7XG4gICAgICAgICAgICAgIG8oVW1lbmdVdGlscy50b1N0cih0LmRhdGEpLCB0Lm1kNUtleSwgbiwgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSA6IFJlcXVlc3RRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZU1lc3NhZ2UodCwgbiA9PiB7XG4gICAgICAgICAgICBvKFVtZW5nVXRpbHMudG9TdHIodC5kYXRhKSwgdC5tZDVLZXksIG4sIGUpO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Tm9TZW5kUmVxdWVzdEtleXMoKSB7XG4gICAgICAgICAgcmV0dXJuIG5vU2VuZFJlcXVlc3RLZXlzO1xuICAgICAgICB9LFxuICAgICAgICBvbk5vU2VuZERhdGFzTGlzdGVuZXIodCkge1xuICAgICAgICAgIGEgPSB0O1xuICAgICAgICB9LFxuICAgICAgICBjbGVhck5vU2VuZERhdGFzKCkge1xuICAgICAgICAgIG5vU2VuZFJlcXVlc3RLZXlzLnNwbGljZSgwLCBub1NlbmRSZXF1ZXN0S2V5cy5sZW5ndGgpLCBub1NlbmRSZXF1ZXN0S2V5cyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgYywgYTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBjIHx8IChjID0gcygpKSwgYztcbiAgICAgIH1cbiAgICB9O1xuICB9KCksXG4gIEV2ZW50U3RvcmVRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0KHQpIHtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIGlmICghU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldEN1cnJlbnRTZXNzaW9uSWQoKSkgcmV0dXJuIHZvaWQgVS51bnNoaWZ0KHQpO1xuICAgICAgICBwLnVuc2hpZnQodCksIHAubGVuZ3RoID49IF8gJiYgZy5sb29wKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICByZXR1cm4gcC5sZW5ndGggPCBfID8gbnVsbCA6IHAuc3BsaWNlKDAsIF8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuKCkge1xuICAgICAgaCAmJiBoLmxlbmd0aCA+IDAgJiYgcyh0ID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlIGluIGgpIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsIGUpKSB0cnkge1xuICAgICAgICAgIGhbZV0odCk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICB9KSwgKGQgLT0gMSkgPCAxICYmIChkID0gMSksIGQgPD0gRSAmJiBnLmxvb3AoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbyh0LCBlKSB7XG4gICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKHUsIGUsICgpID0+IHtcbiAgICAgICAgU3RvcmFnZVV0aWwucHV0RGF0YShmLCBVbWVuZ1V0aWxzLnRvU3RyKHQpLCAoKSA9PiB7XG4gICAgICAgICAgbigpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgbigpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgbigpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdCAmJiAoaFt0XSA9IGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHQgJiYgZGVsZXRlIGhbdF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHModCkge1xuICAgICAgU3RvcmFnZVV0aWwuZ2V0RGF0YShmLCBlID0+IHtcbiAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlRGF0YShmLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgbiA9IGMoVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KGUpLCBwKTtcbiAgICAgICAgICBwLnNwbGljZSgwLCBwLmxlbmd0aCk7XG4gICAgICAgICAgdChuKTtcbiAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgdChbXSk7XG4gICAgICAgIGcuY2FuY2VsRm9yY2VTdG9wKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYyh0LCBlKSB7XG4gICAgICBjb25zdCBuID0gU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldEN1cnJlbnRTZXNzaW9uSWQoKTtcbiAgICAgIGxldCBvLFxuICAgICAgICBpID0gLTE7XG4gICAgICBmb3IgKGNvbnN0IGUgaW4gdCkgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwodCwgZSkpIHtcbiAgICAgICAgY29uc3QgciA9IHRbZV07XG4gICAgICAgIGlmIChvID0gcltuXSkge1xuICAgICAgICAgIGkgPSBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTEgPT09IGkgJiYgKG8gPSBbXSksIChvID0gby5jb25jYXQoZSkpICYmIDAgIT09IG8ubGVuZ3RoID8gKC0xID09PSBpID8gdC5wdXNoKHtcbiAgICAgICAgW25dOiBvXG4gICAgICB9KSA6IHRbaV1bbl0gPSBvLCB0KSA6IHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzYXZlRWt2RGF0YShlKSB7XG4gICAgICAgICAgdChlKSwgTG9nLmQoYFtzYXZlRWt2RGF0YV0gZGF0YSBpcyAke1VtZW5nVXRpbHMudG9TdHIoZSl9YCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWRFa3ZEYXRhcyh0KSB7XG4gICAgICAgICAgdCAmJiAoZy5mb3JjZVN0b3AoKSwgZCA8PSBFID8gcyhlID0+IHtcbiAgICAgICAgICAgIHQoZSk7XG4gICAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICAgIH0pIDogaShcInJlYWRFa3ZEYXRhc1wiLCBlID0+IHtcbiAgICAgICAgICAgIHQoZSk7XG4gICAgICAgICAgICByKFwicmVhZEVrdkRhdGFzXCIpO1xuICAgICAgICAgICAgZy5jYW5jZWxGb3JjZVN0b3AoKTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZXJOb1Nlc3Npb25Fa3ZEYXRhcygpIHtcbiAgICAgICAgICBpZiAoVSAmJiBVLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIExvZy5kKGBubyBzZXNzaW9uSWQgZXZlbnQgaXMgJHtKU09OLnN0cmluZ2lmeShVKX1gKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBpbiBVKSAoe30pLmhhc093blByb3BlcnR5LmNhbGwoVSwgdCkgJiYgdGhpcy5zYXZlRWt2RGF0YShVW3RdKTtcbiAgICAgICAgICAgIFUuc3BsaWNlKDAsIFUubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHF1aXRIYW5kbGVyKCkge1xuICAgICAgICAgIDAgIT09IHAubGVuZ3RoICYmIChnLmZvcmNlU3RvcCgpLCBkIDw9IEUgPyBTdG9yYWdlVXRpbC5nZXREYXRhKGYsIHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IGMoVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KHQpLCBwKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoZiwgVW1lbmdVdGlscy50b1N0cihlKSk7XG4gICAgICAgICAgICBwLnNwbGljZSgwLCBwLmxlbmd0aCk7XG4gICAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIGcuY2FuY2VsRm9yY2VTdG9wKCk7XG4gICAgICAgICAgfSkgOiBpKFwicXVpdEhhbmRsZXJcIiwgdCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gVW1lbmdVdGlscy50b1N0cihjKHQsIHApKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoZiwgZSk7XG4gICAgICAgICAgICBwLnNwbGljZSgwLCBwLmxlbmd0aCk7XG4gICAgICAgICAgICByKFwicXVpdEhhbmRsZXJcIik7XG4gICAgICAgICAgICBnLmNhbmNlbEZvcmNlU3RvcCgpO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzcGF0Y2hNZXNzYWdlKCkge1xuICAgICAgICAgIGlmIChkID4gRSkgcmV0dXJuIHZvaWQgZy53YWl0KCk7XG4gICAgICAgICAgZCArPSAxO1xuICAgICAgICAgIGNvbnN0IHQgPSBlKCk7XG4gICAgICAgICAgaWYgKCF0IHx8IDAgPT09IHQubGVuZ3RoKSByZXR1cm4gdm9pZCBuKCk7XG4gICAgICAgICAgU3RvcmFnZVV0aWwuZ2V0RGF0YSh1LCBlID0+IHtcbiAgICAgICAgICAgIGUgfHwgKGUgPSAwKTtcbiAgICAgICAgICAgIGUgPj0gbCArIHQubGVuZ3RoID8gbigpIDogU3RvcmFnZVV0aWwuZ2V0RGF0YShmLCBuID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaSA9IGMoVW1lbmdVdGlscy5zdHJpbmdUb0FycmF5KG4pLCB0KTtcbiAgICAgICAgICAgICAgbyhpLCBOdW1iZXIoZSkgKyBOdW1iZXIodC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgbigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpc0NhblBvcCgpIHtcbiAgICAgICAgICByZXR1cm4gcC5sZW5ndGggPj0gXztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdSA9IFwidW1lbmdfZWt2X2NvdW50X2tleVwiLFxuICAgICAgZiA9IFwidW1lbmdfa2V5X2VrdnNcIixcbiAgICAgIGwgPSAxZTQsXG4gICAgICBfID0gNSxcbiAgICAgIEUgPSAxO1xuICAgIGxldCBnLFxuICAgICAgZCA9IDEsXG4gICAgICBTID0gbnVsbDtcbiAgICBjb25zdCBoID0ge30sXG4gICAgICBwID0gW10sXG4gICAgICBVID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEluc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gUyB8fCAoUyA9IG5ldyBhKCksIChnID0gbmV3IExvb3BlcigpKS5wcmVwYXJlKFMpKSwgUztcbiAgICAgIH1cbiAgICB9O1xuICB9KCksXG4gIEV2ZW50Q29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0KHQsIGUpIHtcbiAgICAgIGNvbnN0IG4gPSB7XG4gICAgICAgIGlkOiB0LFxuICAgICAgICB0czogRGF0ZS5ub3coKVxuICAgICAgfTtcbiAgICAgIHN3aXRjaCAodHlwZW9mIGUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG5bdF0gPSBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgZm9yIChjb25zdCB0IGluIGUpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChlLCB0KSAmJiAoblt0XSA9IGVbdF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIHQgPT4ge1xuICAgICAgICB0ID09PSBjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZX0lOVEVSVkFMX1ZBTFVFICYmIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX0lOVEVSVkFMX1RJTUUsIHQgPT4ge1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX0xBU1RfU0VORF9USU1FLCBlID0+IHtcbiAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG4gPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICBlICYmIG4gLSBlID4gMWUzICogdCAmJiBSZXF1ZXN0LnNlbmRBbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1ksIGNvbnN0YW50cy5FVkVOVF9TRU5EX1JFUE9SVF9QT0xJQ1lfU1RBUlRfU0VORF9WQUxVRSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG4oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhZGRFdmVudChuLCBvKSB7XG4gICAgICAgICAgY29uc3QgaSA9IHQobiwgbyk7XG4gICAgICAgICAgRXZlbnRTdG9yZVF1ZXVlLmdldEluc3RhbmNlKCkuc2F2ZUVrdkRhdGEoaSksIGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlck5vU2Vzc2lvbkVrdkRhdGFzKCkge1xuICAgICAgICAgIEV2ZW50U3RvcmVRdWV1ZS5nZXRJbnN0YW5jZSgpLmhhbmRsZXJOb1Nlc3Npb25Fa3ZEYXRhcygpO1xuICAgICAgICB9LFxuICAgICAgICBxdWl0SGFuZGxlcigpIHtcbiAgICAgICAgICBFdmVudFN0b3JlUXVldWUuZ2V0SW5zdGFuY2UoKS5xdWl0SGFuZGxlcigpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZW5kVGltZSgpIHtcbiAgICAgICAgICBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5FVkVOVF9MQVNUX1NFTkRfVElNRSwgRGF0ZS5ub3coKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBvO1xuICAgIHJldHVybiB7XG4gICAgICBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIG8gfHwgKG8gPSBuKCkpLCBvO1xuICAgICAgfVxuICAgIH07XG4gIH0oKTtcbmxldCB0aW1lID0gMDtcbnZhciBSZXF1ZXN0ID0ge1xuICBzZW5kOiBzZW5kLFxuICBzZW5kQWxsOiBzZW5kQWxsXG59O1xuY29uc3QgS0VZX1BSRV9QQUdFID0gXCJ1bWVuZ19wYWdlX1wiO1xuUGFnZUNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuICBhZGRDdXJyZW50UGFnZSh0KSB7XG4gICAgdGhpcy5fY3VycmVudFBhZ2UgPSB7XG4gICAgICB0czogRGF0ZS5ub3coKSxcbiAgICAgIHBhZ2VfbmFtZTogRGV2aWNlVXRpbC5nZXRQYWdlTmFtZSgpXG4gICAgfSwgdGhpcy5wYWdlT2JqZWN0ID0gdDtcbiAgfSxcbiAgc2F2ZVBhZ2UodCwgZSkge1xuICAgIGlmICh0ICYmIGUgJiYgdGhpcy5fY3VycmVudFBhZ2UucGFnZV9uYW1lICYmIGUgPT09IHRoaXMucGFnZU9iamVjdCkge1xuICAgICAgY29uc3QgZSA9IERhdGUubm93KCkgLSB0aGlzLl9jdXJyZW50UGFnZS50cztcbiAgICAgIHRoaXMuX2N1cnJlbnRQYWdlLmR1cmF0aW9uID0gTWF0aC5hYnMoZSksIHRoaXMuX3BhZ2VsaXN0ID0gdGhpcy5fcGFnZWxpc3QuY29uY2F0KHRoaXMuX2N1cnJlbnRQYWdlKSwgdGhpcy5fY3VycmVudFBhZ2UgPSB7fSwgdGhpcy5wYWdlT2JqZWN0ID0ge30sIHRoaXMuc2F2ZVN0cm9yYWdlUGFnZXModCk7XG4gICAgfVxuICB9LFxuICBzYXZlU3Ryb3JhZ2VQYWdlcyh0KSB7XG4gICAgdCAmJiB0aGlzLl9wYWdlbGlzdC5sZW5ndGggPiAwICYmIHRoaXMudXBkYXRlU3RvcmFnZShLRVlfUFJFX1BBR0UgKyB0LCB0aGlzLl9wYWdlbGlzdCk7XG4gIH0sXG4gIGdldFBhZ2VzKHQsIGUpIHtcbiAgICBTdG9yYWdlVXRpbC5nZXREYXRhKEtFWV9QUkVfUEFHRSArIHQsIG4gPT4ge1xuICAgICAgY29uc3QgbyA9IFVtZW5nVXRpbHMuc3RyaW5nVG9BcnJheShuKS5jb25jYXQodGhpcy5fcGFnZWxpc3QpO1xuICAgICAgdGhpcy5jbGVhcih0KTtcbiAgICAgIGUgJiYgZShvKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBlICYmIGUobnVsbCk7XG4gICAgfSk7XG4gIH0sXG4gIHVwZGF0ZVN0b3JhZ2UodCwgZSkge1xuICAgIGUgJiYgMCAhPT0gZS5sZW5ndGggJiYgU3RvcmFnZVV0aWwuZ2V0RGF0YSh0LCBuID0+IHtcbiAgICAgIGNvbnN0IG8gPSBVbWVuZ1V0aWxzLnN0cmluZ1RvQXJyYXkobikuY29uY2F0KGUpO1xuICAgICAgU3RvcmFnZVV0aWwucHV0RGF0YSh0LCBVbWVuZ1V0aWxzLnRvU3RyKG8pLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3BhZ2VsaXN0ID0gW107XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgY2xlYXIodCkge1xuICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZURhdGEoS0VZX1BSRV9QQUdFICsgdCksIHRoaXMuX3BhZ2VsaXN0ID0gW107XG4gIH1cbn07XG5sZXQgaW5pdGVkID0gITE7XG5VbWVuZ0FuYWx5c2lzTGliLnByb3RvdHlwZSA9IHtcbiAgaW5pdCh0KSB7XG4gICAgaWYgKExvZy5pKGAqKiogdW1lbmdfc2RrICoqKiBzZGsgdmVyc2lvbiBpczogJHtjb25zdGFudHMuU0RLX1ZFUlNJT059YCksICFpbml0ZWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuYXBwa2V5ID0gdC4kZGF0YS51bWVuZ19hcHBrZXk7XG4gICAgICB9IGNhdGNoICh0KSB7fVxuICAgICAgaWYgKCF0aGlzLmFwcGtleSkgcmV0dXJuIGluaXRlZCA9ICExLCB2b2lkIGNvbnNvbGUuZXJyb3IoXCJwbGVhc2Ugc2V0IHVtZW5nX2FwcGtleSA6IFttYW5pZmVzdC5qc29uIC0tXFx4M2UgY29uZmlnOntkYXRhOnt1bWVuZ19hcHBrZXk6IHh4eH19XVwiKTtcbiAgICAgIGluaXRlZCA9ICEwLCBIZWFkZXIuZ2V0SW5zdGFuY2UoKS5pbml0KHRoaXMuYXBwa2V5KTtcbiAgICAgIGNvbnN0IGUgPSB0aGlzO1xuICAgICAgaWYgKFNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRPblNlc3Npb25MaXN0ZW5lcih0ID0+ICh7XG4gICAgICAgIHBhZ2VzKG4pIHtcbiAgICAgICAgICBlLnBhZ2VDb250cm9sbGVyLmdldFBhZ2VzKHQsIG4pO1xuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZVNlc3Npb25BZnRlckhhbmRsZXIodCkge1xuICAgICAgICAgIEV2ZW50Q29udHJvbGxlci5nZXRJbnN0YW5jZSgpLmhhbmRsZXJOb1Nlc3Npb25Fa3ZEYXRhcygpLCBzZW5kRGF0YXMoKTtcbiAgICAgICAgfVxuICAgICAgfSkpLCBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5BUFBfRklSU1RfT1BFTl9GTEFHLCB0ID0+IHtcbiAgICAgICAgMCA9PT0gdC5sZW5ndGggJiYgU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuQVBQX0ZJUlNUX09QRU5fRkxBRywgXCJ0cnVlXCIpO1xuICAgICAgfSksIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX1NFTkRfUkVQT1JUX1BPTElDWSwgdCA9PiB7XG4gICAgICAgIHQgfHwgU3RvcmFnZVV0aWwucHV0RGF0YShjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZLCBjb25zdGFudHMuRVZFTlRfU0VORF9SRVBPUlRfUE9MSUNZX1NUQVJUX1NFTkRfVkFMVUUpO1xuICAgICAgfSksIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkVWRU5UX0xBU1RfU0VORF9USU1FLCB0ID0+IHtcbiAgICAgICAgdCB8fCBFdmVudENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKS5zZXRTZW5kVGltZSgpO1xuICAgICAgfSksIHQpIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9zdGF0dXNcIiwge1xuICAgICAgICAgIHNldCh0KSB7XG4gICAgICAgICAgICBcImRlc3Ryb3lcIiA9PT0gdCAmJiBSZXF1ZXN0LnNlbmRBbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAodCkge31cbiAgICB9XG4gIH0sXG4gIHJlc3VtZSh0KSB7XG4gICAgaXNJbml0KCkgJiYgdCAmJiAoTG9nLmkoYCoqKiB1bWVuZ19zZGsgKioqIHBhZ2UgbmFtZTogJHtEZXZpY2VVdGlsLmdldFBhZ2VOYW1lKCl9YCksIHRoaXMucGFnZUNvbnRyb2xsZXIuYWRkQ3VycmVudFBhZ2UodCksIFNlc3Npb24uZ2V0SW5zdGFuY2UoKS5pbml0KHRoaXMuYXBwa2V5KSk7XG4gIH0sXG4gIHBhdXNlKHQpIHtcbiAgICBpc0luaXQoKSAmJiB0ICYmICh0aGlzLnBhZ2VDb250cm9sbGVyLnNhdmVQYWdlKFNlc3Npb24uZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50U2Vzc2lvbklkKCksIHQpLCBTZXNzaW9uLmdldEluc3RhbmNlKCkuZW5kU2Vzc2lvbigpLCBFdmVudENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKS5xdWl0SGFuZGxlcigpKTtcbiAgfSxcbiAgdHJhY2tFdmVudCh0LCBlKSB7XG4gICAgaWYgKGlzSW5pdCgpKSByZXR1cm4gVW1lbmdVdGlscy5jaGVja0lkKHQpID8gZSAmJiAhVW1lbmdVdGlscy5jaGVja0F0dHJPclN0cmluZyhlKSA/IChjb25zb2xlLmVycm9yKFwiZXJyb3ItLS0tLXBsZWFzZSBjaGVjayB0cmFja0V2ZW50IGF0dHIuIGF0dHIgc2hvdWxkIGJlICdTdHJpbmcnIG9yICdPYmplY3QnKG5vdCBpbmNsdWRlICdBcnJheScpXCIpLCAhMSkgOiAoTG9nLmkoYCoqKiB1bWVuZ19zZGsgKioqIGV2ZW50IGlkOiAke1VtZW5nVXRpbHMudG9TdHIodCl9JHtlID8gYCB8fCBldmVudCBhdHRyOiAke1VtZW5nVXRpbHMudG9TdHIoZSl9YCA6IFwiXCJ9YCksIEV2ZW50Q29udHJvbGxlci5nZXRJbnN0YW5jZSgpLmFkZEV2ZW50KHQsIGUpLCAhMCkgOiAoY29uc29sZS5lcnJvcihcImVycm9yLS0tLS1wbGVhc2UgY2hlY2sgdHJhY2tFdmVudCBpZC4gaWQgc2hvdWxkIGJlICdTdHJpbmcnIGFuZCBub3QgbnVsbFwiKSwgITEpO1xuICB9XG59O1xuY29uc3QgRmlsZVV0aWxzID0ge1xuICAgIGdldEZpbGUodCwgZSwgbikge1xuICAgICAgX3N5c3RlbTcuZGVmYXVsdC5yZWFkVGV4dCh7XG4gICAgICAgIHVyaTogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgZSAmJiBlKHQudGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWwodCwgZSkge1xuICAgICAgICAgIG4gJiYgbih0LCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBtb3ZlRmlsZSh0LCBlLCBuLCBvKSB7XG4gICAgICBfc3lzdGVtNy5kZWZhdWx0Lm1vdmUoe1xuICAgICAgICBzcmNVcmk6IHQsXG4gICAgICAgIGRzdFVyaTogZSxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgbiAmJiBuKHQpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKHQsIGUpIHtcbiAgICAgICAgICBvICYmIG8odCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlRmlsZSh0LCBlLCBuKSB7XG4gICAgICBfc3lzdGVtNy5kZWZhdWx0LmRlbGV0ZSh7XG4gICAgICAgIHVyaTogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgZSAmJiBlKHQpO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKHQsIGUpIHtcbiAgICAgICAgICBuICYmIG4odCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbW9kdWxlcyA9IHtcbiAgICBcIkBzeXN0ZW0uYXBwXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uYXBwXCIpLFxuICAgIFwiQHN5c3RlbS5zdG9yYWdlXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSxcbiAgICBcIkBzeXN0ZW0uZmV0Y2hcIjogJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5mZXRjaFwiKSxcbiAgICBcIkBzeXN0ZW0ubmV0d29ya1wiOiAkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLm5ldHdvcmtcIiksXG4gICAgXCJAc3lzdGVtLmRldmljZVwiOiAkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmRldmljZVwiKSxcbiAgICBcIkBzeXN0ZW0ucm91dGVyXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ucm91dGVyXCIpLFxuICAgIFwiQHN5c3RlbS5maWxlXCI6ICRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmlsZVwiKVxuICB9LFxuICBjYWxsUXVldWUgPSBbXSxcbiAgdW1lbmdfc3RhdF9nbG9iYWwgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKSB8fCBnbG9iYWw7XG5TZGtVcGRhdGVyLnByb3RvdHlwZSA9IHtcbiAgaW5pdCh0LCBlKSB7XG4gICAgdGhpcy5pbnN0YWxsQXBpKHQsIG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBEZXZpY2VVdGlsLmdldFN5c3RlbUJhc2VJbmZvKHQgPT4ge1xuICAgICAgICAxZTMgPT09IHQucGxhdGZvcm1WZXJzaW9uQ29kZSA/IGUoMCkgOiBTdG9yYWdlVXRpbC5nZXREYXRhKGNvbnN0YW50cy5ET1dOTE9BRF9GSUxFX0ZJUlNUX0NBQ0hFLCB0ID0+IHtcbiAgICAgICAgICB0ID8gdGhpcy5nZXRTZGtGaWxlQ29udGVudCh0LCAodCwgbiwgbykgPT4ge1xuICAgICAgICAgICAgdCA/IGUoMSwgbiwgbykgOiB0aGlzLmdldFNlY29uZENhY2hlRmlsZShlKTtcbiAgICAgICAgICB9KSA6IHRoaXMuZ2V0U2Vjb25kQ2FjaGVGaWxlKGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgIGUoMCk7XG4gICAgfVxuICB9LFxuICBnZXRTZWNvbmRDYWNoZUZpbGUodCkge1xuICAgIFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfU0VDT05EX0NBQ0hFLCBlID0+IHtcbiAgICAgIGUgPyB0aGlzLmdldFNka0ZpbGVDb250ZW50KGUsIHQpIDogdCgwKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0U2RrRmlsZUNvbnRlbnQodCwgZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuID0gVW1lbmdVdGlscy50b09iamVjdCh0KTtcbiAgICAgIExvZy5kKGBjdXJyZW50IHNkazoke24udmVyc2lvbn0ke24ubWQ1fSR7bi5maWxlUGF0aH1gKSwgRmlsZVV0aWxzLmdldEZpbGUobi5maWxlUGF0aCwgdCA9PiB7XG4gICAgICAgIFVtZW5nVXRpbHMuY2hlY2tNRDUobi5tZDUsIHQpID8gZSgxLCB0LCBuLnZlcnNpb24pIDogZSgwKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgZSgwKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgIGUoMCk7XG4gICAgfVxuICAgIHJldHVybiAhMTtcbiAgfSxcbiAgZG93bmxvYWRGaWxlKHQsIGUsIG4sIG8sIGkpIHtcbiAgICB0cnkge1xuICAgICAgX3N5c3RlbTguZGVmYXVsdC5kb3dubG9hZCh7XG4gICAgICAgIHVybDogdCxcbiAgICAgICAgc3VjY2Vzcyh0KSB7XG4gICAgICAgICAgTG9nLmQoYGhhbmRsaW5nIHN1Y2Nlc3MgJHt0LnRva2VufWApLCBfc3lzdGVtOC5kZWZhdWx0Lm9uRG93bmxvYWRDb21wbGV0ZSh7XG4gICAgICAgICAgICB0b2tlbjogdC50b2tlbixcbiAgICAgICAgICAgIHN1Y2Nlc3ModCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0LnVyaSxcbiAgICAgICAgICAgICAgICAgIHMgPSByLnNwbGl0KFwiL1wiKSxcbiAgICAgICAgICAgICAgICAgIGMgPSBzW3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgbGV0IGEgPSBjb25zdGFudHMuU0RLX1VQREFURV9MT0NBTF9TVE9SQUdFX1BBVEg7XG4gICAgICAgICAgICAgICAgYSA9IGAke2EgKyBEYXRlLm5vdygpfS8ke2N9YCwgRmlsZVV0aWxzLm1vdmVGaWxlKHQudXJpLCBhLCB0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IGUsXG4gICAgICAgICAgICAgICAgICAgIG1kNTogbixcbiAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGg6IHQsXG4gICAgICAgICAgICAgICAgICAgIHN0YWJsZTogb1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGkocik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbCh0LCBlKSB7fVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmYWlsKCkge31cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHQpIHt9XG4gIH0sXG4gIHN0b3JhZ2VGaWxlSW5mbyh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIEZpbGVVdGlscy5nZXRGaWxlKHQuZmlsZVBhdGgsIGUgPT4ge1xuICAgICAgICBMb2cuZChgLS0tLS0tLS0tJHtKU09OLnN0cmluZ2lmeSh0KX0tLS0tLS0tLS0tLSR7VW1lbmdVdGlscy5NRDUoZSl9YCk7XG4gICAgICAgIGUgJiYgdC5tZDUgJiYgdC5tZDUgPT09IFVtZW5nVXRpbHMuTUQ1KGUpID8gKFN0b3JhZ2VVdGlsLmdldERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfRklSU1RfQ0FDSEUsIGUgPT4ge1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfRklSU1RfQ0FDSEUsIHQsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQgPSBVbWVuZ1V0aWxzLnRvT2JqZWN0KGUpO1xuICAgICAgICAgICAgICAhdC5zdGFibGUgJiYgdC5maWxlUGF0aCAmJiBGaWxlVXRpbHMuZGVsZXRlRmlsZSh0LmZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksIHQuc3RhYmxlID8gU3RvcmFnZVV0aWwuZ2V0RGF0YShjb25zdGFudHMuRE9XTkxPQURfRklMRV9TRUNPTkRfQ0FDSEUsIGUgPT4ge1xuICAgICAgICAgIFN0b3JhZ2VVdGlsLnB1dERhdGEoY29uc3RhbnRzLkRPV05MT0FEX0ZJTEVfU0VDT05EX0NBQ0hFLCB0LCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICBjb25zdCB0ID0gVW1lbmdVdGlscy50b09iamVjdChlKTtcbiAgICAgICAgICAgICAgdC5maWxlUGF0aCAmJiBGaWxlVXRpbHMuZGVsZXRlRmlsZSh0LmZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkgOiBTdG9yYWdlVXRpbC5wdXREYXRhKGNvbnN0YW50cy5ET1dOTE9BRF9GSUxFX0ZJUlNUX0NBQ0hFLCB0KSkgOiBGaWxlVXRpbHMuZGVsZXRlRmlsZSh0LmZpbGVQYXRoLCAoKSA9PiB7fSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICBMb2cuZChgZXJyb3IgbWVzc2FnZTogJHt0LnRvU3RyaW5nKCl9YCk7XG4gICAgfVxuICB9LFxuICBjaGVja1ZlcnNpb25OZXcodCwgZSwgbiwgbywgaSwgcikge1xuICAgIGNvbnN0IHMgPSB7XG4gICAgICB2ZXJzaW9uOiB0LFxuICAgICAgcGxhdGZvcm06IFwicXVpY2thcHBcIixcbiAgICAgIGFwcFZlcnNpb246IG4sXG4gICAgICBhcHBLZXk6IGUsXG4gICAgICBzZWVkVmVyc2lvbjogbyxcbiAgICAgIHN5c3RlbUJhc2VJbmZvOiBpXG4gICAgfTtcbiAgICBfc3lzdGVtNi5kZWZhdWx0LmZldGNoKHtcbiAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgZGF0YTogcyxcbiAgICAgIHN1Y2Nlc3ModCkge1xuICAgICAgICBpZiAoMjAwID09PSB0LmNvZGUpIHRyeSB7XG4gICAgICAgICAgY29uc3QgZSA9IFVtZW5nVXRpbHMudG9PYmplY3QodC5kYXRhKTtcbiAgICAgICAgICBpZiAoMjAwID09PSBlLmNvZGUgJiYgZS5kYXRhLnVwZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5pbmZvO1xuICAgICAgICAgICAgdCAmJiByKHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAodCkge31cbiAgICAgIH0sXG4gICAgICBmYWlsKHQsIGUpIHt9LFxuICAgICAgY29tcGxldGUoKSB7fVxuICAgIH0pO1xuICB9LFxuICBjcmVhdGVNZXRob2QodCwgZSwgbikge1xuICAgIHRyeSB7XG4gICAgICB0W2VdID0gbiA/IGZ1bmN0aW9uICguLi50KSB7XG4gICAgICAgIHJldHVybiBuW2VdKC4uLnQpO1xuICAgICAgfSA6IGZ1bmN0aW9uICguLi50KSB7XG4gICAgICAgIGNhbGxRdWV1ZS5wdXNoKFtlLCB0XSk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKHQpIHt9XG4gIH0sXG4gIGluc3RhbGxBcGkodCwgZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuID0gW1wicmVzdW1lXCIsIFwicGF1c2VcIiwgXCJ0cmFja0V2ZW50XCJdO1xuICAgICAgZm9yIChsZXQgbyA9IDAsIGkgPSBuLmxlbmd0aDsgbyA8IGk7IG8rKykgdGhpcy5jcmVhdGVNZXRob2QodCwgbltvXSwgZSk7XG4gICAgICBpZiAoZSkgZm9yIChsZXQgdCA9IDAsIG4gPSBjYWxsUXVldWUubGVuZ3RoOyB0IDwgbjsgdCsrKSB7XG4gICAgICAgIGNvbnN0IG4gPSBjYWxsUXVldWVbdF07XG4gICAgICAgIGVbblswXV0oLi4ublsxXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAodCkge31cbiAgfSxcbiAgY29tcGlsZU1vZHVsZSh0LCBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHQgPSBuZXcgRnVuY3Rpb24oXCJtb2R1bGVcIiwgXCJleHBvcnRzXCIsIFwicmVxdWlyZVwiLCBlKSxcbiAgICAgICAgbiA9IHtcbiAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9LFxuICAgICAgICBvID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gdCBpbiBtb2R1bGVzID8gbW9kdWxlc1t0XSA6IHJlcXVpcmUodCk7XG4gICAgICAgIH07XG4gICAgICByZXR1cm4gdChuLCBuLmV4cG9ydHMsIG8pLCBuLmV4cG9ydHM7XG4gICAgfSBjYXRjaCAodCkge31cbiAgfSxcbiAgbG9hZE1vZHVsZSh0LCBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBuO1xuICAgICAgaWYgKDAgPT09IHQpIG4gPSBVbWVuZ0FuYWx5c2lzTGliO2Vsc2UgdHJ5IHtcbiAgICAgICAgbiA9IHRoaXMuY29tcGlsZU1vZHVsZSh0LCBlKTtcbiAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgbiA9IFVtZW5nQW5hbHlzaXNMaWI7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9IGNhdGNoICh0KSB7fVxuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuY29uc3QgVW1lbmdBbmFseXNpcyA9IHtcbiAgc2VlZF92ZXJzaW9uOiBcIjAuMC4xXCIsXG4gIHZlcnNpb246IGNvbnN0YW50cy5TREtfVkVSU0lPTixcbiAgYXBwS2V5OiBcIlwiLFxuICBfaW1wbDogbnVsbCxcbiAgX2luaXRlZDogITEsXG4gIGluaXQodCkge1xuICAgIGlmICghdGhpcy5faW5pdGVkKSB7XG4gICAgICB0aGlzLl9pbml0ZWQgPSAhMCwgdW1lbmdfc3RhdF9nbG9iYWwudXNlckR1YnVnID0gISF0LiRkYXRhLnVtZW5nX2RlYnVnLCB0aGlzLmFwcEtleSA9IHQuJGRhdGEudW1lbmdfYXBwa2V5O1xuICAgICAgY29uc3QgZSA9IG5ldyBTZGtVcGRhdGVyKCk7XG4gICAgICBlLmluaXQodGhpcywgKG4sIG8sIGkpID0+IHtcbiAgICAgICAgY29uc3QgciA9IGUubG9hZE1vZHVsZShuLCBvKTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBjb25zdCBuID0gbmV3IHIoKTtcbiAgICAgICAgICB0aGlzLl9pbXBsID0gbiwgbi5pbml0KHQpLCBlLmluc3RhbGxBcGkodGhpcywgbik7XG4gICAgICAgIH1cbiAgICAgICAgaSB8fCAoaSA9IHRoaXMudmVyc2lvbik7XG4gICAgICAgIERldmljZVV0aWwuZ2V0U3lzdGVtQmFzZUluZm8odCA9PiB7XG4gICAgICAgICAgaWYgKDFlMyA9PT0gdC5wbGF0Zm9ybVZlcnNpb25Db2RlKSByZXR1cm47XG4gICAgICAgICAgZS5jaGVja1ZlcnNpb25OZXcoaSwgdGhpcy5hcHBLZXksIF9zeXN0ZW01LmRlZmF1bHQuZ2V0SW5mbygpLnZlcnNpb25OYW1lLCB0aGlzLnNlZWRfdmVyc2lvbiwgdCwgdCA9PiB7XG4gICAgICAgICAgICB0ICYmIGUuZG93bmxvYWRGaWxlKHQuZmlsZVVybCwgdC52ZXJzaW9uLCB0LmZpbGVNRDUsIHQuc3RhYmxlLCB0ID0+IHtcbiAgICAgICAgICAgICAgZS5zdG9yYWdlRmlsZUluZm8odCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4hZnVuY3Rpb24gKCkge1xuICB1bWVuZ19zdGF0X2dsb2JhbCAmJiAodW1lbmdfc3RhdF9nbG9iYWwuJHVtZW5nX3N0YXQgPSBVbWVuZ0FuYWx5c2lzLCB1bWVuZ19zdGF0X2dsb2JhbC5QYWdlID0gUGFnZSk7XG59KCk7XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBVbWVuZ0FuYWx5c2lzOyIsIi8vXG4vLyBUSElTIEZJTEUgSVMgQVVUT01BVElDQUxMWSBHRU5FUkFURUQhIERPIE5PVCBFRElUIEJZIEhBTkQhXG4vL1xuO1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKVxuICAgICAgICA6IHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZFxuICAgICAgICAgICAgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgICAgICAgICAgLy8gY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaS9qcy1iYXNlNjQvaXNzdWVzLzExOVxuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBleGlzdGluZyB2ZXJzaW9uIGZvciBub0NvbmZsaWN0KClcbiAgICAgICAgICAgICAgICB2YXIgX0Jhc2U2NCA9IGdsb2JhbC5CYXNlNjQ7XG4gICAgICAgICAgICAgICAgdmFyIGdCYXNlNjQgPSBmYWN0b3J5KCk7XG4gICAgICAgICAgICAgICAgZ0Jhc2U2NC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuQmFzZTY0ID0gX0Jhc2U2NDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdCYXNlNjQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsLk1ldGVvcikgeyAvLyBNZXRlb3IuanNcbiAgICAgICAgICAgICAgICAgICAgQmFzZTY0ID0gZ0Jhc2U2NDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2xvYmFsLkJhc2U2NCA9IGdCYXNlNjQ7XG4gICAgICAgICAgICB9KSgpO1xufSgodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZlxuICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3dcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFxuICAgICAgICAgICAgOiB0aGlzKSwgZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgICAgKiAgYmFzZTY0LnRzXG4gICAgICpcbiAgICAgKiAgTGljZW5zZWQgdW5kZXIgdGhlIEJTRCAzLUNsYXVzZSBMaWNlbnNlLlxuICAgICAqICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAgICAgKlxuICAgICAqICBSZWZlcmVuY2VzOlxuICAgICAqICAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0XG4gICAgICpcbiAgICAgKiBAYXV0aG9yIERhbiBLb2dhaSAoaHR0cHM6Ly9naXRodWIuY29tL2RhbmtvZ2FpKVxuICAgICAqL1xuICAgIHZhciB2ZXJzaW9uID0gJzMuNy4yJztcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgbG93ZXJjYXNlIGB2ZXJzaW9uYC5cbiAgICAgKi9cbiAgICB2YXIgVkVSU0lPTiA9IHZlcnNpb247XG4gICAgdmFyIF9oYXNhdG9iID0gdHlwZW9mIGF0b2IgPT09ICdmdW5jdGlvbic7XG4gICAgdmFyIF9oYXNidG9hID0gdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbic7XG4gICAgdmFyIF9oYXNCdWZmZXIgPSB0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nO1xuICAgIHZhciBfVEQgPSB0eXBlb2YgVGV4dERlY29kZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgVGV4dERlY29kZXIoKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgX1RFID0gdHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nID8gbmV3IFRleHRFbmNvZGVyKCkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGI2NGNoID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbiAgICB2YXIgYjY0Y2hzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYjY0Y2gpO1xuICAgIHZhciBiNjR0YWIgPSAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHRhYiA9IHt9O1xuICAgICAgICBhLmZvckVhY2goZnVuY3Rpb24gKGMsIGkpIHsgcmV0dXJuIHRhYltjXSA9IGk7IH0pO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgIH0pKGI2NGNocyk7XG4gICAgdmFyIGI2NHJlID0gL14oPzpbQS1aYS16XFxkK1xcL117NH0pKj8oPzpbQS1aYS16XFxkK1xcL117Mn0oPzo9PSk/fFtBLVphLXpcXGQrXFwvXXszfT0/KT8kLztcbiAgICB2YXIgX2Zyb21DQyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYmluZChTdHJpbmcpO1xuICAgIHZhciBfVThBZnJvbSA9IHR5cGVvZiBVaW50OEFycmF5LmZyb20gPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBVaW50OEFycmF5LmZyb20uYmluZChVaW50OEFycmF5KVxuICAgICAgICA6IGZ1bmN0aW9uIChpdCwgZm4pIHtcbiAgICAgICAgICAgIGlmIChmbiA9PT0gdm9pZCAwKSB7IGZuID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHg7IH07IH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdCwgMCkubWFwKGZuKSk7XG4gICAgICAgIH07XG4gICAgdmFyIF9ta1VyaVNhZmUgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBzcmNcbiAgICAgICAgLnJlcGxhY2UoLz0vZywgJycpLnJlcGxhY2UoL1srXFwvXS9nLCBmdW5jdGlvbiAobTApIHsgcmV0dXJuIG0wID09ICcrJyA/ICctJyA6ICdfJzsgfSk7IH07XG4gICAgdmFyIF90aWR5QjY0ID0gZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9dL2csICcnKTsgfTtcbiAgICAvKipcbiAgICAgKiBwb2x5ZmlsbCB2ZXJzaW9uIG9mIGBidG9hYFxuICAgICAqL1xuICAgIHZhciBidG9hUG9seWZpbGwgPSBmdW5jdGlvbiAoYmluKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdwb2x5ZmlsbGVkJyk7XG4gICAgICAgIHZhciB1MzIsIGMwLCBjMSwgYzIsIGFzYyA9ICcnO1xuICAgICAgICB2YXIgcGFkID0gYmluLmxlbmd0aCAlIDM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGlmICgoYzAgPSBiaW4uY2hhckNvZGVBdChpKyspKSA+IDI1NSB8fFxuICAgICAgICAgICAgICAgIChjMSA9IGJpbi5jaGFyQ29kZUF0KGkrKykpID4gMjU1IHx8XG4gICAgICAgICAgICAgICAgKGMyID0gYmluLmNoYXJDb2RlQXQoaSsrKSkgPiAyNTUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBjaGFyYWN0ZXIgZm91bmQnKTtcbiAgICAgICAgICAgIHUzMiA9IChjMCA8PCAxNikgfCAoYzEgPDwgOCkgfCBjMjtcbiAgICAgICAgICAgIGFzYyArPSBiNjRjaHNbdTMyID4+IDE4ICYgNjNdXG4gICAgICAgICAgICAgICAgKyBiNjRjaHNbdTMyID4+IDEyICYgNjNdXG4gICAgICAgICAgICAgICAgKyBiNjRjaHNbdTMyID4+IDYgJiA2M11cbiAgICAgICAgICAgICAgICArIGI2NGNoc1t1MzIgJiA2M107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhZCA/IGFzYy5zbGljZSgwLCBwYWQgLSAzKSArIFwiPT09XCIuc3Vic3RyaW5nKHBhZCkgOiBhc2M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkb2VzIHdoYXQgYHdpbmRvdy5idG9hYCBvZiB3ZWIgYnJvd3NlcnMgZG8uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJpbiBiaW5hcnkgc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gICAgICovXG4gICAgdmFyIF9idG9hID0gX2hhc2J0b2EgPyBmdW5jdGlvbiAoYmluKSB7IHJldHVybiBidG9hKGJpbik7IH1cbiAgICAgICAgOiBfaGFzQnVmZmVyID8gZnVuY3Rpb24gKGJpbikgeyByZXR1cm4gQnVmZmVyLmZyb20oYmluLCAnYmluYXJ5JykudG9TdHJpbmcoJ2Jhc2U2NCcpOyB9XG4gICAgICAgICAgICA6IGJ0b2FQb2x5ZmlsbDtcbiAgICB2YXIgX2Zyb21VaW50OEFycmF5ID0gX2hhc0J1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uICh1OGEpIHsgcmV0dXJuIEJ1ZmZlci5mcm9tKHU4YSkudG9TdHJpbmcoJ2Jhc2U2NCcpOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKHU4YSkge1xuICAgICAgICAgICAgLy8gY2YuIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEyNzEwMDAxL2hvdy10by1jb252ZXJ0LXVpbnQ4LWFycmF5LXRvLWJhc2U2NC1lbmNvZGVkLXN0cmluZy8xMjcxMzMyNiMxMjcxMzMyNlxuICAgICAgICAgICAgdmFyIG1heGFyZ3MgPSAweDEwMDA7XG4gICAgICAgICAgICB2YXIgc3RycyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB1OGEubGVuZ3RoOyBpIDwgbDsgaSArPSBtYXhhcmdzKSB7XG4gICAgICAgICAgICAgICAgc3Rycy5wdXNoKF9mcm9tQ0MuYXBwbHkobnVsbCwgdThhLnN1YmFycmF5KGksIGkgKyBtYXhhcmdzKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9idG9hKHN0cnMuam9pbignJykpO1xuICAgICAgICB9O1xuICAgIC8qKlxuICAgICAqIGNvbnZlcnRzIGEgVWludDhBcnJheSB0byBhIEJhc2U2NCBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXJsc2FmZV0gVVJMLWFuZC1maWxlbmFtZS1zYWZlIGEgbGEgUkZDNDY0OCDCpzVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQgc3RyaW5nXG4gICAgICovXG4gICAgdmFyIGZyb21VaW50OEFycmF5ID0gZnVuY3Rpb24gKHU4YSwgdXJsc2FmZSkge1xuICAgICAgICBpZiAodXJsc2FmZSA9PT0gdm9pZCAwKSB7IHVybHNhZmUgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gdXJsc2FmZSA/IF9ta1VyaVNhZmUoX2Zyb21VaW50OEFycmF5KHU4YSkpIDogX2Zyb21VaW50OEFycmF5KHU4YSk7XG4gICAgfTtcbiAgICAvLyBUaGlzIHRyaWNrIGlzIGZvdW5kIGJyb2tlbiBodHRwczovL2dpdGh1Yi5jb20vZGFua29nYWkvanMtYmFzZTY0L2lzc3Vlcy8xMzBcbiAgICAvLyBjb25zdCB1dG9iID0gKHNyYzogc3RyaW5nKSA9PiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3JjKSk7XG4gICAgLy8gcmV2ZXJ0aW5nIGdvb2Qgb2xkIGZhdGlvbmVkIHJlZ2V4cFxuICAgIHZhciBjYl91dG9iID0gZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgaWYgKGMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdmFyIGNjID0gYy5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgcmV0dXJuIGNjIDwgMHg4MCA/IGNcbiAgICAgICAgICAgICAgICA6IGNjIDwgMHg4MDAgPyAoX2Zyb21DQygweGMwIHwgKGNjID4+PiA2KSlcbiAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoY2MgJiAweDNmKSkpXG4gICAgICAgICAgICAgICAgICAgIDogKF9mcm9tQ0MoMHhlMCB8ICgoY2MgPj4+IDEyKSAmIDB4MGYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoKGNjID4+PiA2KSAmIDB4M2YpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoY2MgJiAweDNmKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNjID0gMHgxMDAwMFxuICAgICAgICAgICAgICAgICsgKGMuY2hhckNvZGVBdCgwKSAtIDB4RDgwMCkgKiAweDQwMFxuICAgICAgICAgICAgICAgICsgKGMuY2hhckNvZGVBdCgxKSAtIDB4REMwMCk7XG4gICAgICAgICAgICByZXR1cm4gKF9mcm9tQ0MoMHhmMCB8ICgoY2MgPj4+IDE4KSAmIDB4MDcpKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKChjYyA+Pj4gMTIpICYgMHgzZikpXG4gICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoKGNjID4+PiA2KSAmIDB4M2YpKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKGNjICYgMHgzZikpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlX3V0b2IgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGRl18W15cXHgwMC1cXHg3Rl0vZztcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaG91bGQgaGF2ZSBiZWVuIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVVRGLTggc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVVRGLTE2IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciB1dG9iID0gZnVuY3Rpb24gKHUpIHsgcmV0dXJuIHUucmVwbGFjZShyZV91dG9iLCBjYl91dG9iKTsgfTtcbiAgICAvL1xuICAgIHZhciBfZW5jb2RlID0gX2hhc0J1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIChzKSB7IHJldHVybiBCdWZmZXIuZnJvbShzLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKTsgfVxuICAgICAgICA6IF9URVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAocykgeyByZXR1cm4gX2Zyb21VaW50OEFycmF5KF9URS5lbmNvZGUocykpOyB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIChzKSB7IHJldHVybiBfYnRvYSh1dG9iKHMpKTsgfTtcbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBhIFVURi04LWVuY29kZWQgc3RyaW5nIHRvIGEgQmFzZTY0IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cmxzYWZlXSBpZiBgdHJ1ZWAgbWFrZSB0aGUgcmVzdWx0IFVSTC1zYWZlXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciBlbmNvZGUgPSBmdW5jdGlvbiAoc3JjLCB1cmxzYWZlKSB7XG4gICAgICAgIGlmICh1cmxzYWZlID09PSB2b2lkIDApIHsgdXJsc2FmZSA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiB1cmxzYWZlXG4gICAgICAgICAgICA/IF9ta1VyaVNhZmUoX2VuY29kZShzcmMpKVxuICAgICAgICAgICAgOiBfZW5jb2RlKHNyYyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBhIFVURi04LWVuY29kZWQgc3RyaW5nIHRvIFVSTC1zYWZlIEJhc2U2NCBSRkM0NjQ4IMKnNS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQgc3RyaW5nXG4gICAgICovXG4gICAgdmFyIGVuY29kZVVSSSA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIGVuY29kZShzcmMsIHRydWUpOyB9O1xuICAgIC8vIFRoaXMgdHJpY2sgaXMgZm91bmQgYnJva2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaS9qcy1iYXNlNjQvaXNzdWVzLzEzMFxuICAgIC8vIGNvbnN0IGJ0b3UgPSAoc3JjOiBzdHJpbmcpID0+IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3JjKSk7XG4gICAgLy8gcmV2ZXJ0aW5nIGdvb2Qgb2xkIGZhdGlvbmVkIHJlZ2V4cFxuICAgIHZhciByZV9idG91ID0gL1tcXHhDMC1cXHhERl1bXFx4ODAtXFx4QkZdfFtcXHhFMC1cXHhFRl1bXFx4ODAtXFx4QkZdezJ9fFtcXHhGMC1cXHhGN11bXFx4ODAtXFx4QkZdezN9L2c7XG4gICAgdmFyIGNiX2J0b3UgPSBmdW5jdGlvbiAoY2NjYykge1xuICAgICAgICBzd2l0Y2ggKGNjY2MubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdmFyIGNwID0gKCgweDA3ICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCAxOClcbiAgICAgICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDEyKVxuICAgICAgICAgICAgICAgICAgICB8ICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgyKSkgPDwgNilcbiAgICAgICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgzKSksIG9mZnNldCA9IGNwIC0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9mcm9tQ0MoKG9mZnNldCA+Pj4gMTApICsgMHhEODAwKVxuICAgICAgICAgICAgICAgICAgICArIF9mcm9tQ0MoKG9mZnNldCAmIDB4M0ZGKSArIDB4REMwMCkpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfZnJvbUNDKCgoMHgwZiAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTIpXG4gICAgICAgICAgICAgICAgICAgIHwgKCgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDEpKSA8PCA2KVxuICAgICAgICAgICAgICAgICAgICB8ICgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDIpKSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfZnJvbUNDKCgoMHgxZiAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgNilcbiAgICAgICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaG91bGQgaGF2ZSBiZWVuIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVVRGLTE2IHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciBidG91ID0gZnVuY3Rpb24gKGIpIHsgcmV0dXJuIGIucmVwbGFjZShyZV9idG91LCBjYl9idG91KTsgfTtcbiAgICAvKipcbiAgICAgKiBwb2x5ZmlsbCB2ZXJzaW9uIG9mIGBhdG9iYFxuICAgICAqL1xuICAgIHZhciBhdG9iUG9seWZpbGwgPSBmdW5jdGlvbiAoYXNjKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdwb2x5ZmlsbGVkJyk7XG4gICAgICAgIGFzYyA9IGFzYy5yZXBsYWNlKC9cXHMrL2csICcnKTtcbiAgICAgICAgaWYgKCFiNjRyZS50ZXN0KGFzYykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYWxmb3JtZWQgYmFzZTY0LicpO1xuICAgICAgICBhc2MgKz0gJz09Jy5zbGljZSgyIC0gKGFzYy5sZW5ndGggJiAzKSk7XG4gICAgICAgIHZhciB1MjQsIGJpbiA9ICcnLCByMSwgcjI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXNjLmxlbmd0aDspIHtcbiAgICAgICAgICAgIHUyNCA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldIDw8IDE4XG4gICAgICAgICAgICAgICAgfCBiNjR0YWJbYXNjLmNoYXJBdChpKyspXSA8PCAxMlxuICAgICAgICAgICAgICAgIHwgKHIxID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0pIDw8IDZcbiAgICAgICAgICAgICAgICB8IChyMiA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldKTtcbiAgICAgICAgICAgIGJpbiArPSByMSA9PT0gNjQgPyBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSlcbiAgICAgICAgICAgICAgICA6IHIyID09PSA2NCA/IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1LCB1MjQgPj4gOCAmIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgOiBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSwgdTI0ID4+IDggJiAyNTUsIHUyNCAmIDI1NSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJpbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGRvZXMgd2hhdCBgd2luZG93LmF0b2JgIG9mIHdlYiBicm93c2VycyBkby5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXNjIEJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGJpbmFyeSBzdHJpbmdcbiAgICAgKi9cbiAgICB2YXIgX2F0b2IgPSBfaGFzYXRvYiA/IGZ1bmN0aW9uIChhc2MpIHsgcmV0dXJuIGF0b2IoX3RpZHlCNjQoYXNjKSk7IH1cbiAgICAgICAgOiBfaGFzQnVmZmVyID8gZnVuY3Rpb24gKGFzYykgeyByZXR1cm4gQnVmZmVyLmZyb20oYXNjLCAnYmFzZTY0JykudG9TdHJpbmcoJ2JpbmFyeScpOyB9XG4gICAgICAgICAgICA6IGF0b2JQb2x5ZmlsbDtcbiAgICAvL1xuICAgIHZhciBfdG9VaW50OEFycmF5ID0gX2hhc0J1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIChhKSB7IHJldHVybiBfVThBZnJvbShCdWZmZXIuZnJvbShhLCAnYmFzZTY0JykpOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIF9VOEFmcm9tKF9hdG9iKGEpLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5jaGFyQ29kZUF0KDApOyB9KTsgfTtcbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBhIEJhc2U2NCBzdHJpbmcgdG8gYSBVaW50OEFycmF5LlxuICAgICAqL1xuICAgIHZhciB0b1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gX3RvVWludDhBcnJheShfdW5VUkkoYSkpOyB9O1xuICAgIC8vXG4gICAgdmFyIF9kZWNvZGUgPSBfaGFzQnVmZmVyXG4gICAgICAgID8gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEJ1ZmZlci5mcm9tKGEsICdiYXNlNjQnKS50b1N0cmluZygndXRmOCcpOyB9XG4gICAgICAgIDogX1REXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChhKSB7IHJldHVybiBfVEQuZGVjb2RlKF90b1VpbnQ4QXJyYXkoYSkpOyB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBidG91KF9hdG9iKGEpKTsgfTtcbiAgICB2YXIgX3VuVVJJID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIF90aWR5QjY0KGEucmVwbGFjZSgvWy1fXS9nLCBmdW5jdGlvbiAobTApIHsgcmV0dXJuIG0wID09ICctJyA/ICcrJyA6ICcvJzsgfSkpOyB9O1xuICAgIC8qKlxuICAgICAqIGNvbnZlcnRzIGEgQmFzZTY0IHN0cmluZyB0byBhIFVURi04IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3JjIEJhc2U2NCBzdHJpbmcuICBCb3RoIG5vcm1hbCBhbmQgVVJMLXNhZmUgYXJlIHN1cHBvcnRlZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICAgICAqL1xuICAgIHZhciBkZWNvZGUgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBfZGVjb2RlKF91blVSSShzcmMpKTsgfTtcbiAgICAvKipcbiAgICAgKiBjaGVjayBpZiBhIHZhbHVlIGlzIGEgdmFsaWQgQmFzZTY0IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgYSB2YWx1ZSB0byBjaGVja1xuICAgICAgKi9cbiAgICB2YXIgaXNWYWxpZCA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgcyA9IHNyYy5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC89ezAsMn0kLywgJycpO1xuICAgICAgICByZXR1cm4gIS9bXlxcczAtOWEtekEtWlxcKy9dLy50ZXN0KHMpIHx8ICEvW15cXHMwLTlhLXpBLVpcXC1fXS8udGVzdChzKTtcbiAgICB9O1xuICAgIC8vXG4gICAgdmFyIF9ub0VudW0gPSBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHYsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBleHRlbmQgU3RyaW5nLnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAgICAgKi9cbiAgICB2YXIgZXh0ZW5kU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2FkZCA9IGZ1bmN0aW9uIChuYW1lLCBib2R5KSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgbmFtZSwgX25vRW51bShib2R5KSk7IH07XG4gICAgICAgIF9hZGQoJ2Zyb21CYXNlNjQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWNvZGUodGhpcyk7IH0pO1xuICAgICAgICBfYWRkKCd0b0Jhc2U2NCcsIGZ1bmN0aW9uICh1cmxzYWZlKSB7IHJldHVybiBlbmNvZGUodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgICAgICBfYWRkKCd0b0Jhc2U2NFVSSScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVuY29kZSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgICAgIF9hZGQoJ3RvQmFzZTY0VVJMJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5jb2RlKHRoaXMsIHRydWUpOyB9KTtcbiAgICAgICAgX2FkZCgndG9VaW50OEFycmF5JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdG9VaW50OEFycmF5KHRoaXMpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGV4dGVuZCBVaW50OEFycmF5LnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAgICAgKi9cbiAgICB2YXIgZXh0ZW5kVWludDhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hZGQgPSBmdW5jdGlvbiAobmFtZSwgYm9keSkgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFVpbnQ4QXJyYXkucHJvdG90eXBlLCBuYW1lLCBfbm9FbnVtKGJvZHkpKTsgfTtcbiAgICAgICAgX2FkZCgndG9CYXNlNjQnLCBmdW5jdGlvbiAodXJsc2FmZSkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgICAgICBfYWRkKCd0b0Jhc2U2NFVSSScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZyb21VaW50OEFycmF5KHRoaXMsIHRydWUpOyB9KTtcbiAgICAgICAgX2FkZCgndG9CYXNlNjRVUkwnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBleHRlbmQgQnVpbHRpbiBwcm90b3R5cGVzIHdpdGggcmVsZXZhbnQgbWV0aG9kc1xuICAgICAqL1xuICAgIHZhciBleHRlbmRCdWlsdGlucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXh0ZW5kU3RyaW5nKCk7XG4gICAgICAgIGV4dGVuZFVpbnQ4QXJyYXkoKTtcbiAgICB9O1xuICAgIHZhciBnQmFzZTY0ID0ge1xuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBWRVJTSU9OOiBWRVJTSU9OLFxuICAgICAgICBhdG9iOiBfYXRvYixcbiAgICAgICAgYXRvYlBvbHlmaWxsOiBhdG9iUG9seWZpbGwsXG4gICAgICAgIGJ0b2E6IF9idG9hLFxuICAgICAgICBidG9hUG9seWZpbGw6IGJ0b2FQb2x5ZmlsbCxcbiAgICAgICAgZnJvbUJhc2U2NDogZGVjb2RlLFxuICAgICAgICB0b0Jhc2U2NDogZW5jb2RlLFxuICAgICAgICBlbmNvZGU6IGVuY29kZSxcbiAgICAgICAgZW5jb2RlVVJJOiBlbmNvZGVVUkksXG4gICAgICAgIGVuY29kZVVSTDogZW5jb2RlVVJJLFxuICAgICAgICB1dG9iOiB1dG9iLFxuICAgICAgICBidG91OiBidG91LFxuICAgICAgICBkZWNvZGU6IGRlY29kZSxcbiAgICAgICAgaXNWYWxpZDogaXNWYWxpZCxcbiAgICAgICAgZnJvbVVpbnQ4QXJyYXk6IGZyb21VaW50OEFycmF5LFxuICAgICAgICB0b1VpbnQ4QXJyYXk6IHRvVWludDhBcnJheSxcbiAgICAgICAgZXh0ZW5kU3RyaW5nOiBleHRlbmRTdHJpbmcsXG4gICAgICAgIGV4dGVuZFVpbnQ4QXJyYXk6IGV4dGVuZFVpbnQ4QXJyYXksXG4gICAgICAgIGV4dGVuZEJ1aWx0aW5zOiBleHRlbmRCdWlsdGluc1xuICAgIH07XG4gICAgLy9cbiAgICAvLyBleHBvcnQgQmFzZTY0IHRvIHRoZSBuYW1lc3BhY2VcbiAgICAvL1xuICAgIC8vIEVTNSBpcyB5ZXQgdG8gaGF2ZSBPYmplY3QuYXNzaWduKCkgdGhhdCBtYXkgbWFrZSB0cmFuc3BpbGVycyB1bmhhcHB5LlxuICAgIC8vIGdCYXNlNjQuQmFzZTY0ID0gT2JqZWN0LmFzc2lnbih7fSwgZ0Jhc2U2NCk7XG4gICAgZ0Jhc2U2NC5CYXNlNjQgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhnQmFzZTY0KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7IHJldHVybiBnQmFzZTY0LkJhc2U2NFtrXSA9IGdCYXNlNjRba107IH0pO1xuICAgIHJldHVybiBnQmFzZTY0O1xufSkpO1xuIiwiLyoqXG4gKiBbanMtbWQ1XXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLW1kNX1cbiAqXG4gKiBAbmFtZXNwYWNlIG1kNVxuICogQHZlcnNpb24gMC43LjNcbiAqIEBhdXRob3IgQ2hlbiwgWWktQ3l1YW4gW2VtbjE3OEBnbWFpbC5jb21dXG4gKiBAY29weXJpZ2h0IENoZW4sIFlpLUN5dWFuIDIwMTQtMjAxN1xuICogQGxpY2Vuc2UgTUlUXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgRVJST1IgPSAnaW5wdXQgaXMgaW52YWxpZCB0eXBlJztcbiAgdmFyIFdJTkRPVyA9IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnO1xuICB2YXIgcm9vdCA9IFdJTkRPVyA/IHdpbmRvdyA6IHt9O1xuICBpZiAocm9vdC5KU19NRDVfTk9fV0lORE9XKSB7XG4gICAgV0lORE9XID0gZmFsc2U7XG4gIH1cbiAgdmFyIFdFQl9XT1JLRVIgPSAhV0lORE9XICYmIHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JztcbiAgdmFyIE5PREVfSlMgPSAhcm9vdC5KU19NRDVfTk9fTk9ERV9KUyAmJiB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGU7XG4gIGlmIChOT0RFX0pTKSB7XG4gICAgcm9vdCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmIChXRUJfV09SS0VSKSB7XG4gICAgcm9vdCA9IHNlbGY7XG4gIH1cbiAgdmFyIENPTU1PTl9KUyA9ICFyb290LkpTX01ENV9OT19DT01NT05fSlMgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHM7XG4gIHZhciBBTUQgPSB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQ7XG4gIHZhciBBUlJBWV9CVUZGRVIgPSAhcm9vdC5KU19NRDVfTk9fQVJSQVlfQlVGRkVSICYmIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBIRVhfQ0hBUlMgPSAnMDEyMzQ1Njc4OWFiY2RlZicuc3BsaXQoJycpO1xuICB2YXIgRVhUUkEgPSBbMTI4LCAzMjc2OCwgODM4ODYwOCwgLTIxNDc0ODM2NDhdO1xuICB2YXIgU0hJRlQgPSBbMCwgOCwgMTYsIDI0XTtcbiAgdmFyIE9VVFBVVF9UWVBFUyA9IFsnaGV4JywgJ2FycmF5JywgJ2RpZ2VzdCcsICdidWZmZXInLCAnYXJyYXlCdWZmZXInLCAnYmFzZTY0J107XG4gIHZhciBCQVNFNjRfRU5DT0RFX0NIQVIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycuc3BsaXQoJycpO1xuXG4gIHZhciBibG9ja3MgPSBbXSwgYnVmZmVyODtcbiAgaWYgKEFSUkFZX0JVRkZFUikge1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoNjgpO1xuICAgIGJ1ZmZlcjggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIGJsb2NrcyA9IG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xuICB9XG5cbiAgaWYgKHJvb3QuSlNfTUQ1X05PX05PREVfSlMgfHwgIUFycmF5LmlzQXJyYXkpIHtcbiAgICBBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG4gIH1cblxuICBpZiAoQVJSQVlfQlVGRkVSICYmIChyb290LkpTX01ENV9OT19BUlJBWV9CVUZGRVJfSVNfVklFVyB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIEFycmF5QnVmZmVyLmlzVmlldyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmouYnVmZmVyICYmIG9iai5idWZmZXIuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBoZXhcbiAgICogQG1lbWJlcm9mIG1kNVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgaGV4IHN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBIZXggc3RyaW5nXG4gICAqIEBleGFtcGxlXG4gICAqIG1kNS5oZXgoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICogLy8gZXF1YWwgdG9cbiAgICogbWQ1KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nJyk7XG4gICAqL1xuICAvKipcbiAgICogQG1ldGhvZCBkaWdlc3RcbiAgICogQG1lbWJlcm9mIG1kNVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgYnl0ZXMgYXJyYXlcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl8VWludDhBcnJheXxBcnJheUJ1ZmZlcn0gbWVzc2FnZSBtZXNzYWdlIHRvIGhhc2hcbiAgICogQHJldHVybnMge0FycmF5fSBCeXRlcyBhcnJheVxuICAgKiBAZXhhbXBsZVxuICAgKiBtZDUuZGlnZXN0KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nJyk7XG4gICAqL1xuICAvKipcbiAgICogQG1ldGhvZCBhcnJheVxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBieXRlcyBhcnJheVxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEJ5dGVzIGFycmF5XG4gICAqIEBleGFtcGxlXG4gICAqIG1kNS5hcnJheSgnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZycpO1xuICAgKi9cbiAgLyoqXG4gICAqIEBtZXRob2QgYXJyYXlCdWZmZXJcbiAgICogQG1lbWJlcm9mIG1kNVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgQXJyYXlCdWZmZXJcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl8VWludDhBcnJheXxBcnJheUJ1ZmZlcn0gbWVzc2FnZSBtZXNzYWdlIHRvIGhhc2hcbiAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBBcnJheUJ1ZmZlclxuICAgKiBAZXhhbXBsZVxuICAgKiBtZDUuYXJyYXlCdWZmZXIoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJ1ZmZlclxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1heWJlIGNvbmZ1c2Ugd2l0aCBCdWZmZXIgaW4gbm9kZS5qcy4gUGxlYXNlIHVzZSBhcnJheUJ1ZmZlciBpbnN0ZWFkLlxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBBcnJheUJ1ZmZlclxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IEFycmF5QnVmZmVyXG4gICAqIEBleGFtcGxlXG4gICAqIG1kNS5idWZmZXIoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJhc2U2NFxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBiYXNlNjQgc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ9IG1lc3NhZ2UgbWVzc2FnZSB0byBoYXNoXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IGJhc2U2NCBzdHJpbmdcbiAgICogQGV4YW1wbGVcbiAgICogbWQ1LmJhc2U2NCgnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZycpO1xuICAgKi9cbiAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChvdXRwdXRUeXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IE1kNSh0cnVlKS51cGRhdGUobWVzc2FnZSlbb3V0cHV0VHlwZV0oKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgTWQ1IG9iamVjdFxuICAgKiBAcmV0dXJucyB7TWQ1fSBNZDUgb2JqZWN0LlxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgaGFzaCA9IG1kNS5jcmVhdGUoKTtcbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgKiBAbWVtYmVyb2YgbWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgYW5kIHVwZGF0ZSBNZDUgb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ9IG1lc3NhZ2UgbWVzc2FnZSB0byBoYXNoXG4gICAqIEByZXR1cm5zIHtNZDV9IE1kNSBvYmplY3QuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBoYXNoID0gbWQ1LnVwZGF0ZSgnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZycpO1xuICAgKiAvLyBlcXVhbCB0b1xuICAgKiB2YXIgaGFzaCA9IG1kNS5jcmVhdGUoKTtcbiAgICogaGFzaC51cGRhdGUoJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgICovXG4gIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZU91dHB1dE1ldGhvZCgnaGV4Jyk7XG4gICAgaWYgKE5PREVfSlMpIHtcbiAgICAgIG1ldGhvZCA9IG5vZGVXcmFwKG1ldGhvZCk7XG4gICAgfVxuICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IE1kNSgpO1xuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZSgpLnVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgT1VUUFVUX1RZUEVTLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgdHlwZSA9IE9VVFBVVF9UWVBFU1tpXTtcbiAgICAgIG1ldGhvZFt0eXBlXSA9IGNyZWF0ZU91dHB1dE1ldGhvZCh0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfTtcblxuICB2YXIgbm9kZVdyYXAgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgdmFyIGNyeXB0byA9IGV2YWwoXCJyZXF1aXJlKCdjcnlwdG8nKVwiKTtcbiAgICB2YXIgQnVmZmVyID0gZXZhbChcInJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlclwiKTtcbiAgICB2YXIgbm9kZU1ldGhvZCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKG1lc3NhZ2UsICd1dGY4JykuZGlnZXN0KCdoZXgnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IEVSUk9SO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkgfHxcbiAgICAgICAgbWVzc2FnZS5jb25zdHJ1Y3RvciA9PT0gQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKG5ldyBCdWZmZXIobWVzc2FnZSkpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWV0aG9kKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIG5vZGVNZXRob2Q7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1kNSBjbGFzc1xuICAgKiBAY2xhc3MgTWQ1XG4gICAqIEBkZXNjcmlwdGlvbiBUaGlzIGlzIGludGVybmFsIGNsYXNzLlxuICAgKiBAc2VlIHtAbGluayBtZDUuY3JlYXRlfVxuICAgKi9cbiAgZnVuY3Rpb24gTWQ1KHNoYXJlZE1lbW9yeSkge1xuICAgIGlmIChzaGFyZWRNZW1vcnkpIHtcbiAgICAgIGJsb2Nrc1swXSA9IGJsb2Nrc1sxNl0gPSBibG9ja3NbMV0gPSBibG9ja3NbMl0gPSBibG9ja3NbM10gPVxuICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgIGJsb2Nrc1s4XSA9IGJsb2Nrc1s5XSA9IGJsb2Nrc1sxMF0gPSBibG9ja3NbMTFdID1cbiAgICAgIGJsb2Nrc1sxMl0gPSBibG9ja3NbMTNdID0gYmxvY2tzWzE0XSA9IGJsb2Nrc1sxNV0gPSAwO1xuICAgICAgdGhpcy5ibG9ja3MgPSBibG9ja3M7XG4gICAgICB0aGlzLmJ1ZmZlcjggPSBidWZmZXI4O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQVJSQVlfQlVGRkVSKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoNjgpO1xuICAgICAgICB0aGlzLmJ1ZmZlcjggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICB0aGlzLmJsb2NrcyA9IG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ibG9ja3MgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaDAgPSB0aGlzLmgxID0gdGhpcy5oMiA9IHRoaXMuaDMgPSB0aGlzLnN0YXJ0ID0gdGhpcy5ieXRlcyA9IHRoaXMuaEJ5dGVzID0gMDtcbiAgICB0aGlzLmZpbmFsaXplZCA9IHRoaXMuaGFzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5maXJzdCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCB1cGRhdGVcbiAgICogQG1lbWJlcm9mIE1kNVxuICAgKiBAaW5zdGFuY2VcbiAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZSBoYXNoXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ9IG1lc3NhZ2UgbWVzc2FnZSB0byBoYXNoXG4gICAqIEByZXR1cm5zIHtNZDV9IE1kNSBvYmplY3QuXG4gICAqIEBzZWUge0BsaW5rIG1kNS51cGRhdGV9XG4gICAqL1xuICBNZDUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5vdFN0cmluZywgdHlwZSA9IHR5cGVvZiBtZXNzYWdlO1xuICAgIGlmICh0eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChtZXNzYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgRVJST1I7XG4gICAgICAgIH0gZWxzZSBpZiAoQVJSQVlfQlVGRkVSICYmIG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhtZXNzYWdlKSkge1xuICAgICAgICAgICAgdGhyb3cgRVJST1I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFUlJPUjtcbiAgICAgIH1cbiAgICAgIG5vdFN0cmluZyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBjb2RlLCBpbmRleCA9IDAsIGksIGxlbmd0aCA9IG1lc3NhZ2UubGVuZ3RoLCBibG9ja3MgPSB0aGlzLmJsb2NrcztcbiAgICB2YXIgYnVmZmVyOCA9IHRoaXMuYnVmZmVyODtcblxuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuaGFzaGVkKSB7XG4gICAgICAgIHRoaXMuaGFzaGVkID0gZmFsc2U7XG4gICAgICAgIGJsb2Nrc1swXSA9IGJsb2Nrc1sxNl07XG4gICAgICAgIGJsb2Nrc1sxNl0gPSBibG9ja3NbMV0gPSBibG9ja3NbMl0gPSBibG9ja3NbM10gPVxuICAgICAgICBibG9ja3NbNF0gPSBibG9ja3NbNV0gPSBibG9ja3NbNl0gPSBibG9ja3NbN10gPVxuICAgICAgICBibG9ja3NbOF0gPSBibG9ja3NbOV0gPSBibG9ja3NbMTBdID0gYmxvY2tzWzExXSA9XG4gICAgICAgIGJsb2Nrc1sxMl0gPSBibG9ja3NbMTNdID0gYmxvY2tzWzE0XSA9IGJsb2Nrc1sxNV0gPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAobm90U3RyaW5nKSB7XG4gICAgICAgIGlmIChBUlJBWV9CVUZGRVIpIHtcbiAgICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgNjQ7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGJ1ZmZlcjhbaSsrXSA9IG1lc3NhZ2VbaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgNjQ7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9IG1lc3NhZ2VbaW5kZXhdIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKEFSUkFZX0JVRkZFUikge1xuICAgICAgICAgIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCA2NDsgKytpbmRleCkge1xuICAgICAgICAgICAgY29kZSA9IG1lc3NhZ2UuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgICAgICBpZiAoY29kZSA8IDB4ODApIHtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gY29kZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgIGJ1ZmZlcjhbaSsrXSA9IDB4YzAgfCAoY29kZSA+PiA2KTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8IChjb2RlICYgMHgzZik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHhlMCB8IChjb2RlID4+IDEyKTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpO1xuICAgICAgICAgICAgICBidWZmZXI4W2krK10gPSAweDgwIHwgKGNvZGUgJiAweDNmKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAobWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpKTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHhmMCB8IChjb2RlID4+IDE4KTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8ICgoY29kZSA+PiAxMikgJiAweDNmKTtcbiAgICAgICAgICAgICAgYnVmZmVyOFtpKytdID0gMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpO1xuICAgICAgICAgICAgICBidWZmZXI4W2krK10gPSAweDgwIHwgKGNvZGUgJiAweDNmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IDY0OyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb2RlID0gbWVzc2FnZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSBjb2RlIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHg4MDApIHtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4YzAgfCAoY29kZSA+PiA2KSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZTAgfCAoY29kZSA+PiAxMikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAobWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpKTtcbiAgICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZjAgfCAoY29kZSA+PiAxOCkpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiAxMikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5sYXN0Qnl0ZUluZGV4ID0gaTtcbiAgICAgIHRoaXMuYnl0ZXMgKz0gaSAtIHRoaXMuc3RhcnQ7XG4gICAgICBpZiAoaSA+PSA2NCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gaSAtIDY0O1xuICAgICAgICB0aGlzLmhhc2goKTtcbiAgICAgICAgdGhpcy5oYXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmJ5dGVzID4gNDI5NDk2NzI5NSkge1xuICAgICAgdGhpcy5oQnl0ZXMgKz0gdGhpcy5ieXRlcyAvIDQyOTQ5NjcyOTYgPDwgMDtcbiAgICAgIHRoaXMuYnl0ZXMgPSB0aGlzLmJ5dGVzICUgNDI5NDk2NzI5NjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgTWQ1LnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2NrcywgaSA9IHRoaXMubGFzdEJ5dGVJbmRleDtcbiAgICBibG9ja3NbaSA+PiAyXSB8PSBFWFRSQVtpICYgM107XG4gICAgaWYgKGkgPj0gNTYpIHtcbiAgICAgIGlmICghdGhpcy5oYXNoZWQpIHtcbiAgICAgICAgdGhpcy5oYXNoKCk7XG4gICAgICB9XG4gICAgICBibG9ja3NbMF0gPSBibG9ja3NbMTZdO1xuICAgICAgYmxvY2tzWzE2XSA9IGJsb2Nrc1sxXSA9IGJsb2Nrc1syXSA9IGJsb2Nrc1szXSA9XG4gICAgICBibG9ja3NbNF0gPSBibG9ja3NbNV0gPSBibG9ja3NbNl0gPSBibG9ja3NbN10gPVxuICAgICAgYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPVxuICAgICAgYmxvY2tzWzEyXSA9IGJsb2Nrc1sxM10gPSBibG9ja3NbMTRdID0gYmxvY2tzWzE1XSA9IDA7XG4gICAgfVxuICAgIGJsb2Nrc1sxNF0gPSB0aGlzLmJ5dGVzIDw8IDM7XG4gICAgYmxvY2tzWzE1XSA9IHRoaXMuaEJ5dGVzIDw8IDMgfCB0aGlzLmJ5dGVzID4+PiAyOTtcbiAgICB0aGlzLmhhc2goKTtcbiAgfTtcblxuICBNZDUucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEsIGIsIGMsIGQsIGJjLCBkYSwgYmxvY2tzID0gdGhpcy5ibG9ja3M7XG5cbiAgICBpZiAodGhpcy5maXJzdCkge1xuICAgICAgYSA9IGJsb2Nrc1swXSAtIDY4MDg3NjkzNztcbiAgICAgIGEgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpIC0gMjcxNzMzODc5IDw8IDA7XG4gICAgICBkID0gKC0xNzMyNTg0MTk0IF4gYSAmIDIwMDQzMTgwNzEpICsgYmxvY2tzWzFdIC0gMTE3ODMwNzA4O1xuICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSA8PCAwO1xuICAgICAgYyA9ICgtMjcxNzMzODc5IF4gKGQgJiAoYSBeIC0yNzE3MzM4NzkpKSkgKyBibG9ja3NbMl0gLSAxMTI2NDc4Mzc1O1xuICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCA8PCAwO1xuICAgICAgYiA9IChhIF4gKGMgJiAoZCBeIGEpKSkgKyBibG9ja3NbM10gLSAxMzE2MjU5MjA5O1xuICAgICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyA8PCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gdGhpcy5oMDtcbiAgICAgIGIgPSB0aGlzLmgxO1xuICAgICAgYyA9IHRoaXMuaDI7XG4gICAgICBkID0gdGhpcy5oMztcbiAgICAgIGEgKz0gKGQgXiAoYiAmIChjIF4gZCkpKSArIGJsb2Nrc1swXSAtIDY4MDg3NjkzNjtcbiAgICAgIGEgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiA8PCAwO1xuICAgICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzFdIC0gMzg5NTY0NTg2O1xuICAgICAgZCA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSA8PCAwO1xuICAgICAgYyArPSAoYiBeIChkICYgKGEgXiBiKSkpICsgYmxvY2tzWzJdICsgNjA2MTA1ODE5O1xuICAgICAgYyA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCA8PCAwO1xuICAgICAgYiArPSAoYSBeIChjICYgKGQgXiBhKSkpICsgYmxvY2tzWzNdIC0gMTA0NDUyNTMzMDtcbiAgICAgIGIgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgPDwgMDtcbiAgICB9XG5cbiAgICBhICs9IChkIF4gKGIgJiAoYyBeIGQpKSkgKyBibG9ja3NbNF0gLSAxNzY0MTg4OTc7XG4gICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIDw8IDA7XG4gICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzVdICsgMTIwMDA4MDQyNjtcbiAgICBkID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIDw8IDA7XG4gICAgYyArPSAoYiBeIChkICYgKGEgXiBiKSkpICsgYmxvY2tzWzZdIC0gMTQ3MzIzMTM0MTtcbiAgICBjID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIDw8IDA7XG4gICAgYiArPSAoYSBeIChjICYgKGQgXiBhKSkpICsgYmxvY2tzWzddIC0gNDU3MDU5ODM7XG4gICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyA8PCAwO1xuICAgIGEgKz0gKGQgXiAoYiAmIChjIF4gZCkpKSArIGJsb2Nrc1s4XSArIDE3NzAwMzU0MTY7XG4gICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIDw8IDA7XG4gICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzldIC0gMTk1ODQxNDQxNztcbiAgICBkID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIDw8IDA7XG4gICAgYyArPSAoYiBeIChkICYgKGEgXiBiKSkpICsgYmxvY2tzWzEwXSAtIDQyMDYzO1xuICAgIGMgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgPDwgMDtcbiAgICBiICs9IChhIF4gKGMgJiAoZCBeIGEpKSkgKyBibG9ja3NbMTFdIC0gMTk5MDQwNDE2MjtcbiAgICBiID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIDw8IDA7XG4gICAgYSArPSAoZCBeIChiICYgKGMgXiBkKSkpICsgYmxvY2tzWzEyXSArIDE4MDQ2MDM2ODI7XG4gICAgYSA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIDw8IDA7XG4gICAgZCArPSAoYyBeIChhICYgKGIgXiBjKSkpICsgYmxvY2tzWzEzXSAtIDQwMzQxMTAxO1xuICAgIGQgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgPDwgMDtcbiAgICBjICs9IChiIF4gKGQgJiAoYSBeIGIpKSkgKyBibG9ja3NbMTRdIC0gMTUwMjAwMjI5MDtcbiAgICBjID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIDw8IDA7XG4gICAgYiArPSAoYSBeIChjICYgKGQgXiBhKSkpICsgYmxvY2tzWzE1XSArIDEyMzY1MzUzMjk7XG4gICAgYiA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoZCAmIChiIF4gYykpKSArIGJsb2Nrc1sxXSAtIDE2NTc5NjUxMDtcbiAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgPDwgMDtcbiAgICBkICs9IChiIF4gKGMgJiAoYSBeIGIpKSkgKyBibG9ja3NbNl0gLSAxMDY5NTAxNjMyO1xuICAgIGQgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoYiAmIChkIF4gYSkpKSArIGJsb2Nrc1sxMV0gKyA2NDM3MTc3MTM7XG4gICAgYyA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCA8PCAwO1xuICAgIGIgKz0gKGQgXiAoYSAmIChjIF4gZCkpKSArIGJsb2Nrc1swXSAtIDM3Mzg5NzMwMjtcbiAgICBiID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIDw8IDA7XG4gICAgYSArPSAoYyBeIChkICYgKGIgXiBjKSkpICsgYmxvY2tzWzVdIC0gNzAxNTU4NjkxO1xuICAgIGEgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiA8PCAwO1xuICAgIGQgKz0gKGIgXiAoYyAmIChhIF4gYikpKSArIGJsb2Nrc1sxMF0gKyAzODAxNjA4MztcbiAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgPDwgMDtcbiAgICBjICs9IChhIF4gKGIgJiAoZCBeIGEpKSkgKyBibG9ja3NbMTVdIC0gNjYwNDc4MzM1O1xuICAgIGMgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgPDwgMDtcbiAgICBiICs9IChkIF4gKGEgJiAoYyBeIGQpKSkgKyBibG9ja3NbNF0gLSA0MDU1Mzc4NDg7XG4gICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoZCAmIChiIF4gYykpKSArIGJsb2Nrc1s5XSArIDU2ODQ0NjQzODtcbiAgICBhID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgPDwgMDtcbiAgICBkICs9IChiIF4gKGMgJiAoYSBeIGIpKSkgKyBibG9ja3NbMTRdIC0gMTAxOTgwMzY5MDtcbiAgICBkID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgPDwgMDtcbiAgICBjICs9IChhIF4gKGIgJiAoZCBeIGEpKSkgKyBibG9ja3NbM10gLSAxODczNjM5NjE7XG4gICAgYyA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCA8PCAwO1xuICAgIGIgKz0gKGQgXiAoYSAmIChjIF4gZCkpKSArIGJsb2Nrc1s4XSArIDExNjM1MzE1MDE7XG4gICAgYiA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoZCAmIChiIF4gYykpKSArIGJsb2Nrc1sxM10gLSAxNDQ0NjgxNDY3O1xuICAgIGEgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiA8PCAwO1xuICAgIGQgKz0gKGIgXiAoYyAmIChhIF4gYikpKSArIGJsb2Nrc1syXSAtIDUxNDAzNzg0O1xuICAgIGQgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoYiAmIChkIF4gYSkpKSArIGJsb2Nrc1s3XSArIDE3MzUzMjg0NzM7XG4gICAgYyA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCA8PCAwO1xuICAgIGIgKz0gKGQgXiAoYSAmIChjIF4gZCkpKSArIGJsb2Nrc1sxMl0gLSAxOTI2NjA3NzM0O1xuICAgIGIgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgPDwgMDtcbiAgICBiYyA9IGIgXiBjO1xuICAgIGEgKz0gKGJjIF4gZCkgKyBibG9ja3NbNV0gLSAzNzg1NTg7XG4gICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIDw8IDA7XG4gICAgZCArPSAoYmMgXiBhKSArIGJsb2Nrc1s4XSAtIDIwMjI1NzQ0NjM7XG4gICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSA8PCAwO1xuICAgIGRhID0gZCBeIGE7XG4gICAgYyArPSAoZGEgXiBiKSArIGJsb2Nrc1sxMV0gKyAxODM5MDMwNTYyO1xuICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgPDwgMDtcbiAgICBiICs9IChkYSBeIGMpICsgYmxvY2tzWzE0XSAtIDM1MzA5NTU2O1xuICAgIGIgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyA8PCAwO1xuICAgIGJjID0gYiBeIGM7XG4gICAgYSArPSAoYmMgXiBkKSArIGJsb2Nrc1sxXSAtIDE1MzA5OTIwNjA7XG4gICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIDw8IDA7XG4gICAgZCArPSAoYmMgXiBhKSArIGJsb2Nrc1s0XSArIDEyNzI4OTMzNTM7XG4gICAgZCA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSA8PCAwO1xuICAgIGRhID0gZCBeIGE7XG4gICAgYyArPSAoZGEgXiBiKSArIGJsb2Nrc1s3XSAtIDE1NTQ5NzYzMjtcbiAgICBjID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIDw8IDA7XG4gICAgYiArPSAoZGEgXiBjKSArIGJsb2Nrc1sxMF0gLSAxMDk0NzMwNjQwO1xuICAgIGIgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyA8PCAwO1xuICAgIGJjID0gYiBeIGM7XG4gICAgYSArPSAoYmMgXiBkKSArIGJsb2Nrc1sxM10gKyA2ODEyNzkxNzQ7XG4gICAgYSA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIDw8IDA7XG4gICAgZCArPSAoYmMgXiBhKSArIGJsb2Nrc1swXSAtIDM1ODUzNzIyMjtcbiAgICBkID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIDw8IDA7XG4gICAgZGEgPSBkIF4gYTtcbiAgICBjICs9IChkYSBeIGIpICsgYmxvY2tzWzNdIC0gNzIyNTIxOTc5O1xuICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgPDwgMDtcbiAgICBiICs9IChkYSBeIGMpICsgYmxvY2tzWzZdICsgNzYwMjkxODk7XG4gICAgYiA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIDw8IDA7XG4gICAgYmMgPSBiIF4gYztcbiAgICBhICs9IChiYyBeIGQpICsgYmxvY2tzWzldIC0gNjQwMzY0NDg3O1xuICAgIGEgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiA8PCAwO1xuICAgIGQgKz0gKGJjIF4gYSkgKyBibG9ja3NbMTJdIC0gNDIxODE1ODM1O1xuICAgIGQgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgPDwgMDtcbiAgICBkYSA9IGQgXiBhO1xuICAgIGMgKz0gKGRhIF4gYikgKyBibG9ja3NbMTVdICsgNTMwNzQyNTIwO1xuICAgIGMgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgPDwgMDtcbiAgICBiICs9IChkYSBeIGMpICsgYmxvY2tzWzJdIC0gOTk1MzM4NjUxO1xuICAgIGIgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBibG9ja3NbMF0gLSAxOTg2MzA4NDQ7XG4gICAgYSA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIDw8IDA7XG4gICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGJsb2Nrc1s3XSArIDExMjY4OTE0MTU7XG4gICAgZCA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBibG9ja3NbMTRdIC0gMTQxNjM1NDkwNTtcbiAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIDw8IDA7XG4gICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGJsb2Nrc1s1XSAtIDU3NDM0MDU1O1xuICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgPDwgMDtcbiAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsgYmxvY2tzWzEyXSArIDE3MDA0ODU1NzE7XG4gICAgYSA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIDw8IDA7XG4gICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGJsb2Nrc1szXSAtIDE4OTQ5ODY2MDY7XG4gICAgZCA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBibG9ja3NbMTBdIC0gMTA1MTUyMztcbiAgICBjID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIDw8IDA7XG4gICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGJsb2Nrc1sxXSAtIDIwNTQ5MjI3OTk7XG4gICAgYiA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBibG9ja3NbOF0gKyAxODczMzEzMzU5O1xuICAgIGEgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiA8PCAwO1xuICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBibG9ja3NbMTVdIC0gMzA2MTE3NDQ7XG4gICAgZCA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSA8PCAwO1xuICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBibG9ja3NbNl0gLSAxNTYwMTk4MzgwO1xuICAgIGMgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgPDwgMDtcbiAgICBiICs9IChkIF4gKGMgfCB+YSkpICsgYmxvY2tzWzEzXSArIDEzMDkxNTE2NDk7XG4gICAgYiA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyA8PCAwO1xuICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBibG9ja3NbNF0gLSAxNDU1MjMwNzA7XG4gICAgYSA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIDw8IDA7XG4gICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGJsb2Nrc1sxMV0gLSAxMTIwMjEwMzc5O1xuICAgIGQgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgPDwgMDtcbiAgICBjICs9IChhIF4gKGQgfCB+YikpICsgYmxvY2tzWzJdICsgNzE4Nzg3MjU5O1xuICAgIGMgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgPDwgMDtcbiAgICBiICs9IChkIF4gKGMgfCB+YSkpICsgYmxvY2tzWzldIC0gMzQzNDg1NTUxO1xuICAgIGIgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgPDwgMDtcblxuICAgIGlmICh0aGlzLmZpcnN0KSB7XG4gICAgICB0aGlzLmgwID0gYSArIDE3MzI1ODQxOTMgPDwgMDtcbiAgICAgIHRoaXMuaDEgPSBiIC0gMjcxNzMzODc5IDw8IDA7XG4gICAgICB0aGlzLmgyID0gYyAtIDE3MzI1ODQxOTQgPDwgMDtcbiAgICAgIHRoaXMuaDMgPSBkICsgMjcxNzMzODc4IDw8IDA7XG4gICAgICB0aGlzLmZpcnN0ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaDAgPSB0aGlzLmgwICsgYSA8PCAwO1xuICAgICAgdGhpcy5oMSA9IHRoaXMuaDEgKyBiIDw8IDA7XG4gICAgICB0aGlzLmgyID0gdGhpcy5oMiArIGMgPDwgMDtcbiAgICAgIHRoaXMuaDMgPSB0aGlzLmgzICsgZCA8PCAwO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG1ldGhvZCBoZXhcbiAgICogQG1lbWJlcm9mIE1kNVxuICAgKiBAaW5zdGFuY2VcbiAgICogQGRlc2NyaXB0aW9uIE91dHB1dCBoYXNoIGFzIGhleCBzdHJpbmdcbiAgICogQHJldHVybnMge1N0cmluZ30gSGV4IHN0cmluZ1xuICAgKiBAc2VlIHtAbGluayBtZDUuaGV4fVxuICAgKiBAZXhhbXBsZVxuICAgKiBoYXNoLmhleCgpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMztcblxuICAgIHJldHVybiBIRVhfQ0hBUlNbKGgwID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDAgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgwID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMCA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDEgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toMSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDEgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgxID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMiA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2gyICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMiA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDIgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgzID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDMgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgzID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMyA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDI0KSAmIDB4MEZdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIHRvU3RyaW5nXG4gICAqIEBtZW1iZXJvZiBNZDVcbiAgICogQGluc3RhbmNlXG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBoZXggc3RyaW5nXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEhleCBzdHJpbmdcbiAgICogQHNlZSB7QGxpbmsgbWQ1LmhleH1cbiAgICogQGV4YW1wbGVcbiAgICogaGFzaC50b1N0cmluZygpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS50b1N0cmluZyA9IE1kNS5wcm90b3R5cGUuaGV4O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGRpZ2VzdFxuICAgKiBAbWVtYmVyb2YgTWQ1XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgYnl0ZXMgYXJyYXlcbiAgICogQHJldHVybnMge0FycmF5fSBCeXRlcyBhcnJheVxuICAgKiBAc2VlIHtAbGluayBtZDUuZGlnZXN0fVxuICAgKiBAZXhhbXBsZVxuICAgKiBoYXNoLmRpZ2VzdCgpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMztcbiAgICByZXR1cm4gW1xuICAgICAgaDAgJiAweEZGLCAoaDAgPj4gOCkgJiAweEZGLCAoaDAgPj4gMTYpICYgMHhGRiwgKGgwID4+IDI0KSAmIDB4RkYsXG4gICAgICBoMSAmIDB4RkYsIChoMSA+PiA4KSAmIDB4RkYsIChoMSA+PiAxNikgJiAweEZGLCAoaDEgPj4gMjQpICYgMHhGRixcbiAgICAgIGgyICYgMHhGRiwgKGgyID4+IDgpICYgMHhGRiwgKGgyID4+IDE2KSAmIDB4RkYsIChoMiA+PiAyNCkgJiAweEZGLFxuICAgICAgaDMgJiAweEZGLCAoaDMgPj4gOCkgJiAweEZGLCAoaDMgPj4gMTYpICYgMHhGRiwgKGgzID4+IDI0KSAmIDB4RkZcbiAgICBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGFycmF5XG4gICAqIEBtZW1iZXJvZiBNZDVcbiAgICogQGluc3RhbmNlXG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBieXRlcyBhcnJheVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEJ5dGVzIGFycmF5XG4gICAqIEBzZWUge0BsaW5rIG1kNS5hcnJheX1cbiAgICogQGV4YW1wbGVcbiAgICogaGFzaC5hcnJheSgpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5hcnJheSA9IE1kNS5wcm90b3R5cGUuZGlnZXN0O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGFycmF5QnVmZmVyXG4gICAqIEBtZW1iZXJvZiBNZDVcbiAgICogQGluc3RhbmNlXG4gICAqIEBkZXNjcmlwdGlvbiBPdXRwdXQgaGFzaCBhcyBBcnJheUJ1ZmZlclxuICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IEFycmF5QnVmZmVyXG4gICAqIEBzZWUge0BsaW5rIG1kNS5hcnJheUJ1ZmZlcn1cbiAgICogQGV4YW1wbGVcbiAgICogaGFzaC5hcnJheUJ1ZmZlcigpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZpbmFsaXplKCk7XG5cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDE2KTtcbiAgICB2YXIgYmxvY2tzID0gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7XG4gICAgYmxvY2tzWzBdID0gdGhpcy5oMDtcbiAgICBibG9ja3NbMV0gPSB0aGlzLmgxO1xuICAgIGJsb2Nrc1syXSA9IHRoaXMuaDI7XG4gICAgYmxvY2tzWzNdID0gdGhpcy5oMztcbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJ1ZmZlclxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1heWJlIGNvbmZ1c2Ugd2l0aCBCdWZmZXIgaW4gbm9kZS5qcy4gUGxlYXNlIHVzZSBhcnJheUJ1ZmZlciBpbnN0ZWFkLlxuICAgKiBAbWVtYmVyb2YgTWQ1XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgQXJyYXlCdWZmZXJcbiAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBBcnJheUJ1ZmZlclxuICAgKiBAc2VlIHtAbGluayBtZDUuYnVmZmVyfVxuICAgKiBAZXhhbXBsZVxuICAgKiBoYXNoLmJ1ZmZlcigpO1xuICAgKi9cbiAgTWQ1LnByb3RvdHlwZS5idWZmZXIgPSBNZDUucHJvdG90eXBlLmFycmF5QnVmZmVyO1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGJhc2U2NFxuICAgKiBAbWVtYmVyb2YgTWQ1XG4gICAqIEBpbnN0YW5jZVxuICAgKiBAZGVzY3JpcHRpb24gT3V0cHV0IGhhc2ggYXMgYmFzZTY0IHN0cmluZ1xuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBiYXNlNjQgc3RyaW5nXG4gICAqIEBzZWUge0BsaW5rIG1kNS5iYXNlNjR9XG4gICAqIEBleGFtcGxlXG4gICAqIGhhc2guYmFzZTY0KCk7XG4gICAqL1xuICBNZDUucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdjEsIHYyLCB2MywgYmFzZTY0U3RyID0gJycsIGJ5dGVzID0gdGhpcy5hcnJheSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTU7KSB7XG4gICAgICB2MSA9IGJ5dGVzW2krK107XG4gICAgICB2MiA9IGJ5dGVzW2krK107XG4gICAgICB2MyA9IGJ5dGVzW2krK107XG4gICAgICBiYXNlNjRTdHIgKz0gQkFTRTY0X0VOQ09ERV9DSEFSW3YxID4+PiAyXSArXG4gICAgICAgIEJBU0U2NF9FTkNPREVfQ0hBUlsodjEgPDwgNCB8IHYyID4+PiA0KSAmIDYzXSArXG4gICAgICAgIEJBU0U2NF9FTkNPREVfQ0hBUlsodjIgPDwgMiB8IHYzID4+PiA2KSAmIDYzXSArXG4gICAgICAgIEJBU0U2NF9FTkNPREVfQ0hBUlt2MyAmIDYzXTtcbiAgICB9XG4gICAgdjEgPSBieXRlc1tpXTtcbiAgICBiYXNlNjRTdHIgKz0gQkFTRTY0X0VOQ09ERV9DSEFSW3YxID4+PiAyXSArXG4gICAgICBCQVNFNjRfRU5DT0RFX0NIQVJbKHYxIDw8IDQpICYgNjNdICtcbiAgICAgICc9PSc7XG4gICAgcmV0dXJuIGJhc2U2NFN0cjtcbiAgfTtcblxuICB2YXIgZXhwb3J0cyA9IGNyZWF0ZU1ldGhvZCgpO1xuXG4gIGlmIChDT01NT05fSlMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4gIH0gZWxzZSB7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBtZDVcYlxuICAgICAqIEBkZXNjcmlwdGlvbiBNZDUgaGFzaCBmdW5jdGlvbiwgZXhwb3J0IHRvIGdsb2JhbCBpbiBicm93c2Vycy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheXxVaW50OEFycmF5fEFycmF5QnVmZmVyfSBtZXNzYWdlIG1lc3NhZ2UgdG8gaGFzaFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IG1kNSBoYXNoZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1kNSgnJyk7IC8vIGQ0MWQ4Y2Q5OGYwMGIyMDRlOTgwMDk5OGVjZjg0MjdlXG4gICAgICogbWQ1KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nJyk7IC8vIDllMTA3ZDlkMzcyYmI2ODI2YmQ4MWQzNTQyYTQxOWQ2XG4gICAgICogbWQ1KCdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nLicpOyAvLyBlNGQ5MDljMjkwZDBmYjFjYTA2OGZmYWRkZjIyY2JkMFxuICAgICAqXG4gICAgICogLy8gSXQgYWxzbyBzdXBwb3J0cyBVVEYtOCBlbmNvZGluZ1xuICAgICAqIG1kNSgn5Lit5paHJyk7IC8vIGE3YmFjMjIzOWZjZGNiM2EwNjc5MDNkODA3N2M0YTA3XG4gICAgICpcbiAgICAgKiAvLyBJdCBhbHNvIHN1cHBvcnRzIGJ5dGUgYEFycmF5YCwgYFVpbnQ4QXJyYXlgLCBgQXJyYXlCdWZmZXJgXG4gICAgICogbWQ1KFtdKTsgLy8gZDQxZDhjZDk4ZjAwYjIwNGU5ODAwOTk4ZWNmODQyN2VcbiAgICAgKiBtZDUobmV3IFVpbnQ4QXJyYXkoW10pKTsgLy8gZDQxZDhjZDk4ZjAwYjIwNGU5ODAwOTk4ZWNmODQyN2VcbiAgICAgKi9cbiAgICByb290Lm1kNSA9IGV4cG9ydHM7XG4gICAgaWYgKEFNRCkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfdHlwZW9mKGUpe3JldHVybihfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBfc3lzdGVtPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5kZXZpY2VcIikpLF9zeXN0ZW0yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5hcHBcIikpLF9zeXN0ZW0zPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5uZXR3b3JrXCIpKSxfc3lzdGVtND1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2hcIikpLF9zeXN0ZW01PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5wYWNrYWdlXCIpKSxfc3lzdGVtNj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0ud2Vidmlld1wiKSksX3N5c3RlbTc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnByb21wdFwiKSksX3N5c3RlbTg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnJvdXRlclwiKSksX3N5c3RlbTk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnJlcXVlc3RcIikpLF9zeXN0ZW0xMD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KCRhcHBfcmVxdWlyZSQoXCJAYXBwLW1vZHVsZS9zeXN0ZW0uc3RvcmFnZVwiKSksX3NlcnZpY2U9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc2VydmljZS5hY2NvdW50XCIpKSxfc3lzdGVtMTE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLnNlbnNvclwiKSksX3N5c3RlbTEyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS52aWJyYXRvclwiKSksX3N5c3RlbTEzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJGFwcF9yZXF1aXJlJChcIkBhcHAtbW9kdWxlL3N5c3RlbS5maWxlXCIpKSxfc3lzdGVtMTQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkYXBwX3JlcXVpcmUkKFwiQGFwcC1tb2R1bGUvc3lzdGVtLmltYWdlXCIpKSxfcGFja2FnZT1yZXF1aXJlKFwiLi9wYWNrYWdlLmpzb25cIik7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsX3RvUHJvcGVydHlLZXkoaS5rZXkpLGkpfX1mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSx0LHIpe3JldHVybiB0JiZfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZfZGVmaW5lUHJvcGVydGllcyhlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShlKXtlPV90b1ByaW1pdGl2ZShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1fdHlwZW9mKGUpP2U6U3RyaW5nKGUpfWZ1bmN0aW9uIF90b1ByaW1pdGl2ZShlLHQpe2lmKFwib2JqZWN0XCIhPT1fdHlwZW9mKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwPT09cilyZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSk7cj1yLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9PV90eXBlb2YocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIG1fZ2xvYmFsPU9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpfHxnbG9iYWwsZmlsZVVybD1cImludGVybmFsOi8vZmlsZXMvdW5pb25hZC9cIi5jb25jYXQoX3BhY2thZ2UudmVyc2lvbixcIi9hZC1yZW5kZXItcXVpY2subWluLmpzXCIpO2Z1bmN0aW9uIGV4ZWNSZW1vdGVKcyhlLHQpe3ZhciByPXRoaXM7dHJ5e25ldyBGdW5jdGlvbihlKSgpfWNhdGNoKGUpe3QmJmZldGNoUmVtb3RlSnMuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKGUpe2V4ZWNSZW1vdGVKcyhlLCExKSxpbml0QWRTZGsuY2FsbChyKX0pfX1mdW5jdGlvbiBpbml0QWRTZGsoZSl7dHJ5e21fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrJiYobV9nbG9iYWwuJHVuaW9uX3F1aWNrX2FwcF9zZGsuYXBpPXtkZXZpY2U6X3N5c3RlbS5kZWZhdWx0LGFwcDpfc3lzdGVtMi5kZWZhdWx0LG5ldHdvcms6X3N5c3RlbTMuZGVmYXVsdCxmZXRjaDpfc3lzdGVtNC5kZWZhdWx0LHBrZzpfc3lzdGVtNS5kZWZhdWx0LHdlYnZpZXc6X3N5c3RlbTYuZGVmYXVsdCxwcm9tcHQ6X3N5c3RlbTcuZGVmYXVsdCxyb3V0ZXI6X3N5c3RlbTguZGVmYXVsdCxyZXF1ZXN0Ol9zeXN0ZW05LmRlZmF1bHQsc3RvcmFnZTpfc3lzdGVtMTAuZGVmYXVsdCxhY2NvdW50Ol9zZXJ2aWNlLmRlZmF1bHQsZmlsZTpfc3lzdGVtMTMuZGVmYXVsdCxzZW5zb3I6X3N5c3RlbTExLmRlZmF1bHQsaW1hZ2U6X3N5c3RlbTE0LmRlZmF1bHQsdmlicmF0b3I6X3N5c3RlbTEyLmRlZmF1bHR9LG1fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrLnNka1ZlcnNpb249X3BhY2thZ2UudmVyc2lvbixtX2dsb2JhbC4kdW5pb25fcXVpY2tfYXBwX3Nkay5maWxlVXJsPWZpbGVVcmwsbmV3IG1fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrKHRoaXMsZSkpfWNhdGNoKGUpe319ZnVuY3Rpb24gZmV0Y2hSZW1vdGVKcygpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LHIpe19zeXN0ZW00LmRlZmF1bHQuZmV0Y2goe3VybDpcImh0dHBzOi8vY3Byby5iYWlkdXN0YXRpYy5jb20vY3Byby94Y3gvanMvYWQtcmVuZGVyLXF1aWNrLm1pbi5qc1wiLHJlc3BvbnNlVHlwZTpcInRleHRcIixtZXRob2Q6XCJHRVRcIixzdWNjZXNzOmZ1bmN0aW9uKGUpe19zeXN0ZW0xMy5kZWZhdWx0LndyaXRlVGV4dCh7dXJpOmZpbGVVcmwsdGV4dDplLmRhdGEsc3VjY2VzczpmdW5jdGlvbigpe30sZmFpbDpmdW5jdGlvbihlLHQpe319KSx0KGUuZGF0YSl9LGZhaWw6ZnVuY3Rpb24oZSx0KXtyKCl9fSl9KX12YXIgVU5JT05fQURfU0RLPV9jcmVhdGVDbGFzcyhmdW5jdGlvbiBlKHIsaSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsZSksbV9nbG9iYWwmJm1fZ2xvYmFsLiR1bmlvbl9xdWlja19hcHBfc2RrP2luaXRBZFNkay5jYWxsKHIsaSk6X3N5c3RlbTEzLmRlZmF1bHQucmVhZFRleHQoe3VyaTpmaWxlVXJsLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZXhlY1JlbW90ZUpzLmNhbGwocixlLnRleHQsITApLGluaXRBZFNkay5jYWxsKHIsaSl9LGZhaWw6ZnVuY3Rpb24oZSx0KXtmZXRjaFJlbW90ZUpzLmNhbGwocikudGhlbihmdW5jdGlvbihlKXtleGVjUmVtb3RlSnMuY2FsbChyLGUsITEpLGluaXRBZFNkay5jYWxsKHIsaSl9KX19KX0pLF9kZWZhdWx0PVVOSU9OX0FEX1NESztleHBvcnRzLmRlZmF1bHQ9X2RlZmF1bHQ7IiwiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLXVucmVzb2x2ZWQgKi9cbnZhciBhcHAgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmFwcCcpOztcbnZhciBmZXRjaCA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0uZmV0Y2gnKTs7XG52YXIgZmlsZSA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0uZmlsZScpOztcbnZhciBkZXZpY2UgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmRldmljZScpOztcbnZhciBuZXR3b3JrID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5uZXR3b3JrJyk7O1xudmFyIHNob3J0Y3V0ID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5zaG9ydGN1dCcpOztcbnZhciBiYXR0ZXJ5ID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5iYXR0ZXJ5Jyk7O1xudmFyIGJyaWdodG5lc3MgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmJyaWdodG5lc3MnKTs7XG52YXIgd2VidmlldyA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0ud2VidmlldycpOztcbnZhciBzdG9yYWdlID0gJGFwcF9yZXF1aXJlJCggJ0BhcHAtbW9kdWxlL3N5c3RlbS5zdG9yYWdlJyk7O1xudmFyIHBrZyA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0ucGFja2FnZScpOztcbnZhciByb3V0ZXIgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnJvdXRlcicpOztcbnZhciBwcm9tcHQgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnByb21wdCcpOztcbnZhciBjaXBoZXIgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLmNpcGhlcicpOztcbnZhciB2b2x1bWUgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnZvbHVtZScpOztcbnZhciBzZW5zb3IgPSAkYXBwX3JlcXVpcmUkKCAnQGFwcC1tb2R1bGUvc3lzdGVtLnNlbnNvcicpOztcbnZhciB2aWJyYXRvciA9ICRhcHBfcmVxdWlyZSQoICdAYXBwLW1vZHVsZS9zeXN0ZW0udmlicmF0b3InKTs7XG5pbXBvcnQge1xuICBjbGFzc0NhbGxDaGVjayxcbiAgZ2V0Q29yZVZlcnNpb25CeVVybCxcbiAgaW5pdFlMSFNESyxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgcGtnQ29uZmlnIGZyb20gJy4vcGFja2FnZS5qc29uJztcblxuY29uc3QgcWFHbG9iYWwgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKSB8fCBnbG9iYWw7XG5cbmNvbnN0IHsgdmVyc2lvbiB9ID0gcGtnQ29uZmlnO1xuXG5jb25zdCBSRU1PVEVfSlNfVFlQRSA9IHtcbiAgQ09SRTogJ2NvcmUnLFxuICBMSUJTOiAnbGlicycsXG59O1xuXG5jb25zdCBGSVJTVF9DT1JFX1ZFUlNJT04gPSAxMDUwO1xuXG5jb25zdCBMSUJTX1ZFUlNJT04gPSAnMS4wLjAnO1xuY29uc3QgRklSU1RfTElCU19WRVJTSU9OID0gMTAwMDtcblxuY29uc3QgaXNTb21lU3R1YlZlcnNpb25TY29wZSA9ICh7IGVudHJ5VmVyc2lvbiwgbG9jYWxWZXJzaW9uIH0pID0+IHtcbiAgY29uc3QgeyBsZW5ndGg6IGxvY2FsTGVuIH0gPSBsb2NhbFZlcnNpb247XG4gIGNvbnN0IHsgbGVuZ3RoOiBlbnRyeUxlbiB9ID0gZW50cnlWZXJzaW9uO1xuICByZXR1cm4gbG9jYWxWZXJzaW9uLnNsaWNlKDAsIGxvY2FsTGVuIC0gMikgPT09IGVudHJ5VmVyc2lvbi5zbGljZSgwLCBlbnRyeUxlbiAtIDIpO1xufTtcblxuY29uc3QgZ2V0UmVtb3RlSlNDb25maWdJbmZvID0gKHtcbiAgdHlwZSxcbiAgZmlyc3RQdWJsaXNoVXJsLFxuICBzdHViVmVyc2lvbixcbiAgZmlyc3RQdWJsaXNoUGx1Z2luVmVyc2lvbixcbiAgaXNVc2VSZW1vdGVKUyxcbiAgdmFsaWRhdGVGbiA9IChsb2NhbEpzVXJsKSA9PiB7XG4gICAgaWYgKGlzVXNlUmVtb3RlSlMpIHtcbiAgICAgIHJldHVybiAhaXNVc2VSZW1vdGVKUztcbiAgICB9XG4gICAgaWYgKCFsb2NhbEpzVXJsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IFtsb2NhbFN0dWJWZXJzaW9uLCBsb2NhbFBsdWdpblZlcnNpb25dID0gZ2V0Q29yZVZlcnNpb25CeVVybChsb2NhbEpzVXJsKTtcbiAgICBjb25zdCBpc1NhbWVTZGtWZXJzaW9uID0gaXNTb21lU3R1YlZlcnNpb25TY29wZSh7XG4gICAgICBlbnRyeVZlcnNpb246IHN0dWJWZXJzaW9uLFxuICAgICAgbG9jYWxWZXJzaW9uOiBsb2NhbFN0dWJWZXJzaW9uLFxuICAgIH0pO1xuICAgIHJldHVybiBpc1NhbWVTZGtWZXJzaW9uICYmIGxvY2FsUGx1Z2luVmVyc2lvbiA+PSBmaXJzdFB1Ymxpc2hQbHVnaW5WZXJzaW9uO1xuICB9LFxufSkgPT4ge1xuICBjb25zdCBjb3JlSW5mbyA9IHtcbiAgICAvLyDlrZjmlL7mnKzlnLAgSlMg5paH5Lu255qEIHVyaSDlnLDlnYBcbiAgICBjYWNoZVVyaTogYGludGVybmFsOi8vZmlsZXMveWxoLXNkay0ke3R5cGV9LyR7c3R1YlZlcnNpb259YCxcbiAgICAvLyDmnKzlnLAgSlMg5LiN5Y+v55So77yI5rKh5pyJ5oiW5LiN56ym5ZCIIHZhbGlkYXRlRm4g5p2h5Lu277yJ5pe277yM6YeN5paw6K+35rGCIEpTIOeahOi/nOeoi+WcsOWdgFxuICAgIHJlbW90ZVVybDogZmlyc3RQdWJsaXNoVXJsLFxuICAgIHZhbGlkYXRlRm4sXG4gIH07XG4gIHJldHVybiBjb3JlSW5mbztcbn07XG5cbmNvbnN0IGNvcmVJbmZvID0gZ2V0UmVtb3RlSlNDb25maWdJbmZvKHtcbiAgdHlwZTogUkVNT1RFX0pTX1RZUEUuQ09SRSxcbiAgZmlyc3RQdWJsaXNoVXJsOiBgaHR0cHM6Ly9xenMuZ2R0aW1nLmNvbS91bmlvbi9yZXMveWxoLXNkay1jb3JlLXYxLjUuMTA1MC5taW4uanM/ZD0ke0RhdGUubm93KCl9YCwgLy8g57q/5LiKXG4gIHN0dWJWZXJzaW9uOiB2ZXJzaW9uLFxuICBmaXJzdFB1Ymxpc2hQbHVnaW5WZXJzaW9uOiBGSVJTVF9DT1JFX1ZFUlNJT04sXG4gIGlzVXNlUmVtb3RlSlM6IGZhbHNlLFxufSk7XG5cbmNvbnN0IGxpYnNJbmZvID0gZ2V0UmVtb3RlSlNDb25maWdJbmZvKHtcbiAgdHlwZTogUkVNT1RFX0pTX1RZUEUuTElCUyxcbiAgZmlyc3RQdWJsaXNoVXJsOiBgaHR0cHM6Ly9xenMuZ2R0aW1nLmNvbS91bmlvbi9yZXMveWxoLXNkay1saWJzLXYxLjAuMTAwMC5taW4uanM/ZD0ke0RhdGUubm93KCl9YCwgLy8g57q/5LiKXG4gIHN0dWJWZXJzaW9uOiBMSUJTX1ZFUlNJT04sXG4gIGZpcnN0UHVibGlzaFBsdWdpblZlcnNpb246IEZJUlNUX0xJQlNfVkVSU0lPTixcbiAgaXNVc2VSZW1vdGVKUzogZmFsc2UsXG59KTtcblxuY29uc3Qgc3lzdGVtID0ge1xuICBmZXRjaCxcbiAgZmlsZSxcbiAgZGV2aWNlLFxuICBuZXR3b3JrLFxuICBzaG9ydGN1dCxcbiAgYmF0dGVyeSxcbiAgYnJpZ2h0bmVzcyxcbiAgd2VidmlldyxcbiAgc3RvcmFnZSxcbiAgcGtnLFxuICByb3V0ZXIsXG4gIHByb21wdCxcbiAgY2lwaGVyLFxuICB2b2x1bWUsXG4gIHNlbnNvcixcbiAgdmlicmF0b3IsXG4gIGFwcCxcbiAgc2RrVmVyc2lvbjogdmVyc2lvbixcbiAgQnJvYWRjYXN0Q2hhbm5lbCxcbn07XG5cbi8vIOS4uuWKoOW/q+i/kOihjOmAn+W6pu+8jOe8k+WtmHByb21pc2VcbmNvbnN0IHVzZXJQcm9taXNlQ2FjaGUgPSB7fTtcblxuY29uc3QgWUxIX1NES19TVVBQT1JUX01JTklfUExBVEZPUk1fVkVSID0gMTEwMDtcblxuZXhwb3J0IGNvbnN0IGlzUGxhdGZvcm1WZXJzaW9uQ29kZUdyZWF0ZXJUaGVuMTEwMCA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCF1c2VyUHJvbWlzZUNhY2hlLnBsYXRmb3JtUHJvbWlzZSkge1xuICAgIHVzZXJQcm9taXNlQ2FjaGUucGxhdGZvcm1Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZGV2aWNlLmdldEluZm8oe1xuICAgICAgICBzdWNjZXNzOiAoZGV2aWNlSW5mb0luZm8pID0+IHtcbiAgICAgICAgICBjb25zdCB7IHBsYXRmb3JtVmVyc2lvbkNvZGUgfSA9IGRldmljZUluZm9JbmZvO1xuICAgICAgICAgIGlmIChwbGF0Zm9ybVZlcnNpb25Db2RlIDwgWUxIX1NES19TVVBQT1JUX01JTklfUExBVEZPUk1fVkVSKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHsgcGxhdGZvcm06IHBsYXRmb3JtVmVyc2lvbkNvZGUgfSkpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWw6ICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHsgcGxhdGZvcm06ICfmnKrnn6UnIH0pKSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdXNlclByb21pc2VDYWNoZS5wbGF0Zm9ybVByb21pc2U7XG59O1xuXG4vKipcbiAqIOWKoOi9vei/nOeoiyBDRE4gSlMg5bm/5ZGK5aSE55CG6YC76L6R5paH5Lu2XG4gKiBAcmV0dXJucyBQcm9taXNlXG4gKi9cbmNvbnN0IGZldGNoUmVtb3RlSlMgPSAoeyBjYWNoZVVyaSwgcmVtb3RlVXJsIH0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgbGV0IHBvbGxDb3VudCA9IDA7XG4gIGNvbnN0IGVyck1lc3NhZ2UgPSBgJHtyZW1vdGVVcmx9IOiOt+WPluWksei0pWA7XG4gIGNvbnN0IHBvbGxGZXRjaCA9ICgpID0+IHtcbiAgICBmZXRjaC5mZXRjaCh7XG4gICAgICB1cmw6IHJlbW90ZVVybCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ3RleHQnLFxuICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgIHN1Y2Nlc3M6IChyZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBjb2RlLCBkYXRhOiBqc0NvZGUgfSA9IHJlcztcbiAgICAgICAgaWYgKGNvZGUgIT09IDIwMCkge1xuICAgICAgICAgIGlmIChwb2xsQ291bnQgPCAzKSB7XG4gICAgICAgICAgICBwb2xsQ291bnQgKz0gMTtcbiAgICAgICAgICAgIC8vIOmHjeivleS5i+WJjeetieW+hTFz6ZKfXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcG9sbEZldGNoKCk7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGVyck1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKGpzQ29kZSk7XG4gICAgICAgICAgLy8g57yT5a2Y5pyA5pawIEpTXG4gICAgICAgICAgaWYgKGNhY2hlVXJpKSB7XG4gICAgICAgICAgICBmaWxlLndyaXRlVGV4dCh7XG4gICAgICAgICAgICAgIHVyaTogY2FjaGVVcmksXG4gICAgICAgICAgICAgIHRleHQ6IHsganNDb2RlLCBqc1VybDogcmVtb3RlVXJsIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBmYWlsOiAoKSA9PiB7XG4gICAgICAgIC8vIOW9k+WHuueOsOe9kee7nOW8guW4uOaIluiAheWFtuS7luaDheWGteaXtu+8jOi/m+ihjOmHjeivlVxuICAgICAgICBpZiAocG9sbENvdW50IDwgMykge1xuICAgICAgICAgIHBvbGxDb3VudCArPSAxO1xuICAgICAgICAgIC8vIOmHjeivleS5i+WJjeetieW+hTFz6ZKfXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBwb2xsRmV0Y2goKTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoZXJyTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIHBvbGxGZXRjaCgpO1xufSk7XG5cbi8vIOiOt+WPlmxvY2FsIEpT77yM5aaC5p6cbG9jYWwgSlPkuI3lj6/nlKjvvIjmsqHmnInmiJbkuI3nrKblkIh2YWxpZGF0ZUZu5p2h5Lu277yJ5pe277yM6YeN5paw6K+35rGCcmVtb3RlVXJsIEpTXG5jb25zdCBnZXRMb2NhbEpTID0gYXN5bmMgKHsgY2FjaGVVcmksIHJlbW90ZVVybCwgdmFsaWRhdGVGbiB9KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmlsZS5yZWFkVGV4dCh7XG4gICAgICB1cmk6IGNhY2hlVXJpLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZGF0YSA9IHt9IH0gPSByZXMgfHwge307XG4gICAgY29uc3QgeyBqc0NvZGUsIGpzVXJsIH0gPSBKU09OLnBhcnNlKGRhdGEudGV4dCB8fCAne30nKTtcbiAgICBpZiAodmFsaWRhdGVGbihqc1VybCkpIHtcbiAgICAgIHJldHVybiBqc0NvZGU7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnZ2V0TG9jYWxKUy1lcnInLCBlcnIpO1xuICB9XG5cbiAgcmV0dXJuIGZldGNoUmVtb3RlSlMoeyBjYWNoZVVyaSwgcmVtb3RlVXJsIH0pO1xufTtcblxuLy8g5omn6KGMbG9jYWwgSlMsIOWmguaenOayoeacie+8jOWImeS7jnJlbW90ZVVybOWkhOiOt+WPluWQjuWGjeaJp+ihjFxuY29uc3QgZXhlY3V0ZUxvY2FsSlMgPSBhc3luYyAocGFyYW1zKSA9PiB7XG4gIGdldExvY2FsSlMocGFyYW1zKS50aGVuKChsb2NhbEpTKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldywgbm8tbmV3LWZ1bmNcbiAgICBjb25zdCBmdW5jID0gbmV3IEZ1bmN0aW9uKCckWUxIU0RLJywgbG9jYWxKUyk7XG4gICAgZnVuYyhxYUdsb2JhbC4kWUxIU0RLKTtcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdleGVjdXRlTG9jYWxKU+WHuumUmScsIGVyciwgcGFyYW1zKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIOW/q+W6lOeUqFNES+WFpeWPo+WHveaVsFxuICogQHBhcmFtIHtPYmplY3R9ICRhcHAg5b+r5bqU55SoIEFwcCDlrp7kvovjgILms6jmhI8kYXBw5ZKMYXBw55qE5Yy65Yir77yaJGFwcC3lv6vlupTnlKjlrp7kvovvvIxhcHAt5b+r5bqU55So5paH5qGj5o+Q5L6b55qEQHN5c3RlbS5hcHAgYXBp44CCXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFlMSF9VTklPTl9BRF9TREsoJGFwcCwgY29uZmlnID0ge30pIHtcbiAgY2xhc3NDYWxsQ2hlY2sodGhpcywgWUxIX1VOSU9OX0FEX1NESyk7XG5cbiAgaWYgKCFjb25maWcuYXBwSWQpIHtcbiAgICBjb25zb2xlLmVycm9yKCflv4XpobvkvKDpgJJhcHBJZO+8jHlsaF9zZGvmiY3kvJrmraPluLjov5DooYwnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaW5pdFlMSFNESygkYXBwKTtcblxuICBpc1BsYXRmb3JtVmVyc2lvbkNvZGVHcmVhdGVyVGhlbjExMDAoKS50aGVuKCgpID0+IHtcbiAgICBxYUdsb2JhbC4kWUxIU0RLID0ge1xuICAgICAgJGFwcCxcbiAgICAgIGNvbmZpZyxcbiAgICAgIHN5c3RlbToge1xuICAgICAgICAuLi5zeXN0ZW0sXG4gICAgICAgIHRlbGVjb206ICRhcHBfcmVxdWlyZSQoJ0BhcHAtbW9kdWxlL3N5c3RlbS50ZWxlY29tJyksIC8vIHRlbGVjb20g5b+F6aG7IOWkp+S6jiAxMDgwIOeJiOacrFxuICAgICAgICBrZXlndWFyZDogJGFwcF9yZXF1aXJlJCgnQGFwcC1tb2R1bGUvc3lzdGVtLmtleWd1YXJkJyksIC8vIGtleWd1YXJkIOW/hemhuyDlpKfkuo4gMTA5MCDniYjmnKxcbiAgICAgICAgZG93bmxvYWRUYXNrOiAkYXBwX3JlcXVpcmUkKCdAYXBwLW1vZHVsZS9zeXN0ZW0uZG93bmxvYWR0YXNrJyksIC8vIGRvd25sb2FkVGFzayDlv4Xpobsg5aSn5LqOIDExMDAg54mI5pysXG4gICAgICB9LFxuICAgICAgZmV0Y2hSZW1vdGVKUyxcbiAgICAgIGxvY2FsQ29yZToge1xuICAgICAgICBsb2NhbENvcmVVcmk6IGNvcmVJbmZvLmNhY2hlVXJpLFxuICAgICAgICBnZXRDb3JlVmVyc2lvbkJ5VXJsLFxuICAgICAgfSxcbiAgICAgIGxvY2FsTGliczoge1xuICAgICAgICBsb2NhbExpYnNVcmk6IGxpYnNJbmZvLmNhY2hlVXJpLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhlY3V0ZUxvY2FsSlMoY29yZUluZm8pO1xuICAgIGV4ZWN1dGVMb2NhbEpTKGxpYnNJbmZvKTtcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnN0IGVyck9iaiA9IGVycj8ubWVzc2FnZSA/IEpTT04ucGFyc2UoZXJyLm1lc3NhZ2UpIDoge307XG4gICAgY29uc29sZS53YXJuKGDor6XmnLrlnovnmoQgbWluUGxhdGZvcm1WZXJzaW9uIOS4uiR7ZXJyT2JqLnBsYXRmb3JtfSwg5bCP5LqOJHtZTEhfU0RLX1NVUFBPUlRfTUlOSV9QTEFURk9STV9WRVJ9LCBcbiAgICB5bGhfc2RrIOS4jeS8mui/kOihjOS5n+S4jeS8muWvvOiHtOW/q+W6lOeUqOW8guW4uGApO1xuICB9KTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaEFkRXZlbnQoZXZlbnROYW1lLCBwYXJhbXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5pc0FkRGVzdHJveWVkKSByZXR1cm47XG4gICAgaWYgKHRoaXMubGlmZXRpbWVzICYmIHRoaXMubGlmZXRpbWVzPy5bZXZlbnROYW1lXSkge1xuICAgICAgdGhpcy5saWZldGltZXNbZXZlbnROYW1lXS5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmV2ZW50cyAmJiB0aGlzLmV2ZW50cz8uW2V2ZW50TmFtZV0pIHtcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ2Rpc3BhdGNoQWRFdmVudCBlcnJvcjogJywgZXZlbnROYW1lLCBlcnJvci5tZXNzYWdlLCBwYXJhbXMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyUHJvcHMoY29tcG9uZW50TmFtZSwgYWRUaW1lcikge1xuICBpZiAodGhpcy4kYXBwKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy4kYXBwLiRkZWY/LnlsaF9zZGs/LmNvbXBvbmVudHM/Lltjb21wb25lbnROYW1lXTtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICBPYmplY3Qua2V5cyhjb21wb25lbnQpLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgICAgdGhpc1twcm9wXSA9IGNvbXBvbmVudFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgZGlzcGF0Y2hBZEV2ZW50LmNhbGwodGhpcywgJ29uSW5pdCcsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgaWYgKGFkVGltZXIpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhZFRpbWVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUFkQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpIHtcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5hZFRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYWRUaW1lcik7XG4gICAgfVxuICAgIGlmICh0aGlzLiRhcHA/LiRkZWY/LnlsaF9zZGs/LmNvbXBvbmVudHMpIHtcbiAgICAgIHJlZ2lzdGVyUHJvcHMuY2FsbCh0aGlzLCBjb21wb25lbnROYW1lLCB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdGltZSA9IDA7XG4gICAgICBjb25zdCBhZFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAodGltZSA+IDEwMDAgKiA1KSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChhZFRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlclByb3BzLmNhbGwodGhpcywgY29tcG9uZW50TmFtZSwgYWRUaW1lcik7XG4gICAgICAgIHRpbWUgKz0gMTA7XG4gICAgICB9LCAxMCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgaWYgKHRoaXMub25ZTEhTREtFcnJvcikge1xuICAgICAgdGhpcy5vbllMSFNES0Vycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lQWRTY2VuZShzY2VuZSkge1xuICBkZWZpbmVBZENvbXBvbmVudC5jYWxsKHRoaXMsIHNjZW5lKTtcbn1cblxuLyoqXG4gKiDmo4Dmn6Xnsbvlh73mlbDmmK/lkKbpgJrov4cgbmV3IOWFs+mUruWtl+ato+ehruiwg+eUqFxuICogQHBhcmFtIHtPYmplY3R9IHNka0luc3RhbmNlIOWunuS+i+WvueixoVxuICogQHBhcmFtIHtmdW5jdGlvbn0gc2RrQ29uc3RydWN0b3Ig5p6E6YCg5Ye95pWwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhzZGtJbnN0YW5jZSwgc2RrQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoc2RrSW5zdGFuY2UgaW5zdGFuY2VvZiBzZGtDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTtcbiAgfVxufVxuXG4vLyBodHRwczovL3F6cy5nZHRpbWcuY29tL3VuaW9uL3Jlcy95bGgtc2RrLWNvcmUtdjEuMy4xMDMwLm1pbi5qcz9kPTEzMzMzJyDku451cmzop6PmnpDlh7pbJzEuMycsIDEwMzBd5L+h5oGvXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29yZVZlcnNpb25CeVVybChqc1VybCA9ICcnKSB7XG4gIGNvbnN0IHJlcyA9IGpzVXJsLm1hdGNoKC95bGgtc2RrLSg/OlthLXpdKyktdihcXGQrXFwuXFxkK1xcLlxcZCspKD86QGRlYnVnKT9cXC5taW5cXC5qcy8pO1xuICBjb25zdCBzdHIgPSByZXMgJiYgcmVzWzFdID8gcmVzWzFdIDogJyc7IC8vICcxLjMuMTAzMC5taW4vMS4zLjEwMzBAZGVidWcubWluJ1xuICBjb25zdCBbYSwgYiwgY10gPSBzdHIuc3BsaXQoJy4nKTtcbiAgcmV0dXJuIFtgJHthfS4ke2J9LjBgLCBOdW1iZXIoYy5zdWJzdHIoMCwgNCkpXTtcbn1cblxuLy8g5Yid5aeL5YyW5pe2LCDkuLpvbllsaFJlYWR55re75Yqg6ZO+5byP6LCD55So5pa55rOVXG5leHBvcnQgZnVuY3Rpb24gaW5pdFlMSFNESygkYXBwKSB7XG4gIGlmICgkYXBwLiRkZWY/LnlsaF9zZGspIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICBuby1wYXJhbS1yZWFzc2lnblxuICAkYXBwLiRkZWYueWxoX3NkayA9IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgb25ZbGhSZWFkeShjYWxsYmFjaykge1xuICAgICAgY29uc3QgeyBvbllsaFJlYWR5Q2FsbGJhY2sgPSBbXSB9ID0gJGFwcC4kZGVmLnlsaF9zZGs7XG4gICAgICAvLyBjb25zb2xlLmxvZygnYXBwLiRkZWYueWxoX3NkaycsIGFwcC4kZGVmLnlsaF9zZGssIG9uWWxoUmVhZHlDYWxsYmFjayk7XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybignb25ZbGhSZWFkeTogdGhlbuWbnuiwg+W/hemhu+S8oOmAkuS4gOS4quaWueazlScpO1xuICAgICAgfSBlbHNlIGlmICgkYXBwLiRkZWYueWxoX3Nkay5TREtfQ09SRV9SRUFEWSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgJGFwcC4kZGVmLnlsaF9zZGsub25ZbGhSZWFkeUNhbGxiYWNrID0gWy4uLm9uWWxoUmVhZHlDYWxsYmFjaywgY2FsbGJhY2tdO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59XG4iLCI8c2NyaXB0PlxuICBpbXBvcnQgJy4vQ29tbW9uL2xpYnMvdW1lbmcvdW1lbmdhbmFseXNpcy5lcy5taW4nOyAgIC8v5Y+L55ufc2RrIOW/hemhu+a3u+WKoO+8ge+8ge+8gVxuICBpbXBvcnQgVE9QT05fQURfU0RLIGZyb20gJ0B0b3Bvbi9xdWljay1hcHAtc2RrLWh3L2FwcC5qcydcblxuICBpbXBvcnQgYWdjb25uZWN0IGZyb20gJ0Body1hZ2Nvbm5lY3QvYXBpJztcbiAgaW1wb3J0ICdAaHctYWdjb25uZWN0L2luc3RhbmNlJztcbiAgaW1wb3J0ICdAaHctaG1zY29yZS9hbmFseXRpY3Mtc2RrLXF1aWNrYXBwJztcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgb25DcmVhdGUoKSB7XG4gICAgICBjb25zb2xlLmluZm8oJ0FwcGxpY2F0aW9uIG9uQ3JlYXRlJyk7XG4gICAgICBjb25zdCBob29rMmdsb2JhbCA9IGdsb2JhbC5fX3Byb3RvX18gfHwgZ2xvYmFsXG4gICAgICBjb25zdCAkcm91dGVyID0gcmVxdWlyZSgnQHN5c3RlbS5yb3V0ZXInKVxuICAgICAgY29uc3QgJHV0aWxzID0gcmVxdWlyZSgnLi9Db21tb24vaGVscGVyL3V0aWxzJykuZGVmYXVsdFxuICAgICAgY29uc3QgJHN0b3JhZ2UgPSByZXF1aXJlKFwiQHN5c3RlbS5zdG9yYWdlXCIpXG4gICAgICBjb25zdCAkY2lwaGVyID0gcmVxdWlyZShcIkBzeXN0ZW0uY2lwaGVyXCIpXG4gICAgICBjb25zdCAkcHJvbXB0ID0gcmVxdWlyZShcIkBzeXN0ZW0ucHJvbXB0XCIpXG4gICAgICBjb25zdCAkd2VidmlldyA9IHJlcXVpcmUoXCJAc3lzdGVtLndlYnZpZXdcIilcbiAgICAgIGNvbnN0ICRhcGlzID0gcmVxdWlyZSgnLi9Db21tb24vaGVscGVyL2FwaXMnKS5kZWZhdWx0XG4gICAgICBjb25zdCAkYWQgPSByZXF1aXJlKFwiQHNlcnZpY2UuYWRcIilcbiAgICAgIGNvbnN0ICRhcHAgPSByZXF1aXJlKFwiQHN5c3RlbS5hcHBcIilcbiAgICAgIGNvbnN0ICRkZXZpY2UgPSByZXF1aXJlKFwiQHN5c3RlbS5kZXZpY2VcIilcblxuICAgICAgY29uc3QgJHByb2Nlc3NEYXRhID0gcmVxdWlyZSgnLi9Db21tb24vaGVscGVyL3Byb2Nlc3NEYXRhJykuZGVmYXVsdFxuXG4gICAgICBob29rMmdsb2JhbC4kcm91dGVyID0gJHJvdXRlclxuICAgICAgaG9vazJnbG9iYWwuJHV0aWxzID0gJHV0aWxzXG4gICAgICBob29rMmdsb2JhbC4kc3RvcmFnZSA9ICRzdG9yYWdlXG4gICAgICBob29rMmdsb2JhbC4kcHJvbXB0ID0gJHByb21wdFxuICAgICAgaG9vazJnbG9iYWwuJGFwaXMgPSAkYXBpc1xuICAgICAgaG9vazJnbG9iYWwuJHdlYnZpZXcgPSAkd2Vidmlld1xuICAgICAgaG9vazJnbG9iYWwuJGFkID0gJGFkXG4gICAgICBob29rMmdsb2JhbC4kY2lwaGVyID0gJGNpcGhlclxuICAgICAgaG9vazJnbG9iYWwuJGFwcCA9ICRhcHBcblxuICAgICAgaG9vazJnbG9iYWwuJGRldmljZSA9ICRkZXZpY2VcbiAgICAgIGhvb2syZ2xvYmFsLiRwcm9jZXNzRGF0YSA9ICRwcm9jZXNzRGF0YVxuXG4gICAgICAvL+WPi+ebn3Nka1xuICAgICAgY29uc29sZS5sb2coXCJbYXBwLnV4XSBvbkNyZWF0ZS4uLlwiKTtcbiAgICAgICR1bWVuZ19zdGF0LmluaXQodGhpcyk7ICAgLy/lnKhvbkNyZWF0ZeWHveaVsOS4reWKoOWFpeivpeihjOS7o+egge+8jOW/hemhu+a3u+WKoO+8ge+8gVxuXG5cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVE9QT05fQURfU0RLKHtcbiAgICAgICAgICBhcHA6IHRoaXMsXG4gICAgICAgICAgYXBwSWQ6ICdhNjY5ZjFkZDAyYzRjNCcsIC8vIOivt+abv+aNouS4uuaCqOWcqHRvcG9u5byA5Y+R6ICF5ZCO5Y+w5LiK55qEYXBwSWTvvIjmgqjlnKh0b3BvbuW8gOWPkeiAheWQjuWPsOS4iuaJgOWIm+W7uueahOW6lOeUqElE77yJXG4gICAgICAgICAgYXBwS2V5OiAnYTI1ZTI3NDNlZWNjMmQyM2Y2NjE3NmIxNTBhNTkzZTIxJyAvLyDor7fmm7/mjaLkuLrmgqjlnKh0b3BvbuW8gOWPkeiAheWQjuWPsOS4iueahCBhcHAga2V577yIdG9wb27lvIDlj5HogIXlkI7lj7AgPT4g6LSm5oi35L+h5oGvID0+IGtleeWNs+S4umFwcEtlee+8iVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kZGVmLnRvcG9uX3Nka19pbnN0YW5jZSA9IGluc3RhbmNlXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7XG4gICAgICB9XG5cblxuICAgICAgdGhpcy5pbml0QW5hbHl0aWNzKClcblxuXG5cbiAgICB9LFxuXG5cbiAgICAvL+mbhuaIkOWNjuS4uuWIhuaekOacjeWKoVxuICAgIGluaXRBbmFseXRpY3MoKSB7XG5cbiAgICAgIC8vIFRPRE86IOeUqOaCqOW6lOeUqOeahOmFjee9ruabv+aNouS4i+aWueS7o+eggVxuICAgICAgY29uc3QgYWdDb25uZWN0Q29uZmlnID0ge1xuICAgICAgICBcImFnY2d3XCI6IHtcbiAgICAgICAgICBcImJhY2t1cmxcIjogXCJjb25uZWN0LWRyY24uaGlzcGFjZS5oaWNsb3VkLmNvbVwiLFxuICAgICAgICAgIFwidXJsXCI6IFwiY29ubmVjdC1kcmNuLmRiYW5rY2xvdWQuY25cIixcbiAgICAgICAgICBcIndlYnNvY2tldGJhY2t1cmxcIjogXCJjb25uZWN0LXdzLWRyY24uaGlzcGFjZS5kYmFua2Nsb3VkLmNvbVwiLFxuICAgICAgICAgIFwid2Vic29ja2V0dXJsXCI6IFwiY29ubmVjdC13cy1kcmNuLmhpc3BhY2UuZGJhbmtjbG91ZC5jblwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiYWdjZ3dfYWxsXCI6IHtcbiAgICAgICAgICBcIkNOXCI6IFwiY29ubmVjdC1kcmNuLmRiYW5rY2xvdWQuY25cIixcbiAgICAgICAgICBcIkNOX2JhY2tcIjogXCJjb25uZWN0LWRyY24uaGlzcGFjZS5oaWNsb3VkLmNvbVwiLFxuICAgICAgICAgIFwiREVcIjogXCJjb25uZWN0LWRyZS5kYmFua2Nsb3VkLmNuXCIsXG4gICAgICAgICAgXCJERV9iYWNrXCI6IFwiY29ubmVjdC1kcmUuaGlzcGFjZS5oaWNsb3VkLmNvbVwiLFxuICAgICAgICAgIFwiUlVcIjogXCJjb25uZWN0LWRycnUuaGlzcGFjZS5kYmFua2Nsb3VkLnJ1XCIsXG4gICAgICAgICAgXCJSVV9iYWNrXCI6IFwiY29ubmVjdC1kcnJ1Lmhpc3BhY2UuZGJhbmtjbG91ZC5jblwiLFxuICAgICAgICAgIFwiU0dcIjogXCJjb25uZWN0LWRyYS5kYmFua2Nsb3VkLmNuXCIsXG4gICAgICAgICAgXCJTR19iYWNrXCI6IFwiY29ubmVjdC1kcmEuaGlzcGFjZS5oaWNsb3VkLmNvbVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwid2Vic29ja2V0Z3dfYWxsXCI6IHtcbiAgICAgICAgICBcIkNOXCI6IFwiY29ubmVjdC13cy1kcmNuLmhpc3BhY2UuZGJhbmtjbG91ZC5jblwiLFxuICAgICAgICAgIFwiQ05fYmFja1wiOiBcImNvbm5lY3Qtd3MtZHJjbi5oaXNwYWNlLmRiYW5rY2xvdWQuY29tXCIsXG4gICAgICAgICAgXCJERVwiOiBcImNvbm5lY3Qtd3MtZHJlLmhpc3BhY2UuZGJhbmtjbG91ZC5jblwiLFxuICAgICAgICAgIFwiREVfYmFja1wiOiBcImNvbm5lY3Qtd3MtZHJlLmhpc3BhY2UuZGJhbmtjbG91ZC5jb21cIixcbiAgICAgICAgICBcIlJVXCI6IFwiY29ubmVjdC13cy1kcnJ1Lmhpc3BhY2UuZGJhbmtjbG91ZC5ydVwiLFxuICAgICAgICAgIFwiUlVfYmFja1wiOiBcImNvbm5lY3Qtd3MtZHJydS5oaXNwYWNlLmRiYW5rY2xvdWQuY25cIixcbiAgICAgICAgICBcIlNHXCI6IFwiY29ubmVjdC13cy1kcmEuaGlzcGFjZS5kYmFua2Nsb3VkLmNuXCIsXG4gICAgICAgICAgXCJTR19iYWNrXCI6IFwiY29ubmVjdC13cy1kcmEuaGlzcGFjZS5kYmFua2Nsb3VkLmNvbVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiY2xpZW50XCI6IHtcbiAgICAgICAgICBcImNwX2lkXCI6IFwiMzAwODYwMDA3ODYyMzI3MDdcIixcbiAgICAgICAgICBcInByb2R1Y3RfaWRcIjogXCIzODg0MjE4NDEyMjIyMjUyMTdcIixcbiAgICAgICAgICBcImNsaWVudF9pZFwiOiBcIjE0NDI3MjU1MzgzNDYwNDY0MDBcIixcbiAgICAgICAgICBcImNsaWVudF9zZWNyZXRcIjogXCIxMDkxN0NDNUIwODczM0MyNTEwNzkwRjZDOUI4QjNBQzJCQ0UyRDgzNDYwRTVCMUM1RTBENkI0MTZBMEQ2OTlEXCIsXG4gICAgICAgICAgXCJwcm9qZWN0X2lkXCI6IFwiMzg4NDIxODQxMjIyMjI1MjE3XCIsXG4gICAgICAgICAgXCJhcHBfaWRcIjogXCIxMTEyNDgwNTFcIixcbiAgICAgICAgICBcImFwaV9rZXlcIjogXCJEUUVEQUN3QUZ6anVtMXBva2czS3ZpanhCdHA3V2JxRnB3NXllUkJwazFrUVZlMHQ0WGlLTkxHenRZYlQwMHNlY3V4MWJUcXZnSTZRMzBwa1hPbHFLejZqelVhaWMyR21yNnIwTWc9PVwiLFxuICAgICAgICAgIFwicGFja2FnZV9uYW1lXCI6IFwiY29tLmhhaXR1by5zZXRwcGxhbmV0XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJvYXV0aF9jbGllbnRcIjoge1xuICAgICAgICAgIFwiY2xpZW50X2lkXCI6IFwiMTExMjQ4MDUxXCIsXG4gICAgICAgICAgXCJjbGllbnRfdHlwZVwiOiAxOVxuICAgICAgICB9LFxuICAgICAgICBcImFwcF9pbmZvXCI6IHtcbiAgICAgICAgICBcImFwcF9pZFwiOiBcIjExMTI0ODA1MVwiLFxuICAgICAgICAgIFwicGFja2FnZV9uYW1lXCI6IFwiY29tLmhhaXR1by5zZXRwcGxhbmV0XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXJ2aWNlXCI6IHtcbiAgICAgICAgICBcImFuYWx5dGljc1wiOiB7XG4gICAgICAgICAgICBcImNvbGxlY3Rvcl91cmxcIjogXCJkYXRhY29sbGVjdG9yLWRyY24uZHQuaGljbG91ZC5jb20sZGF0YWNvbGxlY3Rvci1kcmNuLmR0LmRiYW5rY2xvdWQuY25cIixcbiAgICAgICAgICAgIFwiY29sbGVjdG9yX3VybF9ydVwiOiBcImRhdGFjb2xsZWN0b3ItZHJydS5kdC5kYmFua2Nsb3VkLnJ1LGRhdGFjb2xsZWN0b3ItZHJydS5kdC5oaWNsb3VkLmNvbVwiLFxuICAgICAgICAgICAgXCJjb2xsZWN0b3JfdXJsX3NnXCI6IFwiZGF0YWNvbGxlY3Rvci1kcmEuZHQuaGljbG91ZC5jb20sZGF0YWNvbGxlY3Rvci1kcmEuZHQuZGJhbmtjbG91ZC5jblwiLFxuICAgICAgICAgICAgXCJjb2xsZWN0b3JfdXJsX2RlXCI6IFwiZGF0YWNvbGxlY3Rvci1kcmUuZHQuaGljbG91ZC5jb20sZGF0YWNvbGxlY3Rvci1kcmUuZHQuZGJhbmtjbG91ZC5jblwiLFxuICAgICAgICAgICAgXCJjb2xsZWN0b3JfdXJsX2NuXCI6IFwiZGF0YWNvbGxlY3Rvci1kcmNuLmR0LmhpY2xvdWQuY29tLGRhdGFjb2xsZWN0b3ItZHJjbi5kdC5kYmFua2Nsb3VkLmNuXCIsXG4gICAgICAgICAgICBcInJlc291cmNlX2lkXCI6IFwicDFcIixcbiAgICAgICAgICAgIFwiY2hhbm5lbF9pZFwiOiBcIlwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVkdWtpdFwiOiB7XG4gICAgICAgICAgICBcImVkdV91cmxcIjogXCJlZHVraXQuY2xvdWQuaHVhd2VpLmNvbS5jblwiLFxuICAgICAgICAgICAgXCJkaF91cmxcIjogXCJlZHVraXQuY2xvdWQuaHVhd2VpLmNvbS5jblwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vc2VhcmNoLWRyY24uY2xvdWQuaHVhd2VpLmNvbVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNsb3Vkc3RvcmFnZVwiOiB7XG4gICAgICAgICAgICBcInN0b3JhZ2VfdXJsX3NnX2JhY2tcIjogXCJodHRwczovL2FnYy1zdG9yYWdlLWRyYS5jbG91ZC5odWF3ZWkuYXNpYVwiLFxuICAgICAgICAgICAgXCJzdG9yYWdlX3VybF9ydV9iYWNrXCI6IFwiaHR0cHM6Ly9hZ2Mtc3RvcmFnZS1kcnJ1LmNsb3VkLmh1YXdlaS5ydVwiLFxuICAgICAgICAgICAgXCJzdG9yYWdlX3VybF9ydVwiOiBcImh0dHBzOi8vYWdjLXN0b3JhZ2UtZHJydS5jbG91ZC5odWF3ZWkucnVcIixcbiAgICAgICAgICAgIFwic3RvcmFnZV91cmxfZGVfYmFja1wiOiBcImh0dHBzOi8vYWdjLXN0b3JhZ2UtZHJlLmNsb3VkLmh1YXdlaS5ldVwiLFxuICAgICAgICAgICAgXCJzdG9yYWdlX3VybF9kZVwiOiBcImh0dHBzOi8vb3BzLWRyZS5hZ2NzdG9yYWdlLmxpbmtcIixcbiAgICAgICAgICAgIFwic3RvcmFnZV91cmxcIjogXCJodHRwczovL2FnYy1zdG9yYWdlLWRyY24ucGxhdGZvcm0uZGJhbmtjbG91ZC5jblwiLFxuICAgICAgICAgICAgXCJzdG9yYWdlX3VybF9zZ1wiOiBcImh0dHBzOi8vb3BzLWRyYS5hZ2NzdG9yYWdlLmxpbmtcIixcbiAgICAgICAgICAgIFwic3RvcmFnZV91cmxfY25fYmFja1wiOiBcImh0dHBzOi8vYWdjLXN0b3JhZ2UtZHJjbi5jbG91ZC5odWF3ZWkuY29tLmNuXCIsXG4gICAgICAgICAgICBcInN0b3JhZ2VfdXJsX2NuXCI6IFwiaHR0cHM6Ly9hZ2Mtc3RvcmFnZS1kcmNuLnBsYXRmb3JtLmRiYW5rY2xvdWQuY25cIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtbFwiOiB7XG4gICAgICAgICAgICBcIm1sc2VydmljZV91cmxcIjogXCJtbC1hcGktZHJjbi5haS5kYmFua2Nsb3VkLmNvbSxtbC1hcGktZHJjbi5haS5kYmFua2Nsb3VkLmNuXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVnaW9uXCI6IFwiQ05cIixcbiAgICAgICAgXCJjb25maWd1cmF0aW9uX3ZlcnNpb25cIjogXCIzLjBcIlxuICAgICAgfVxuXG4gICAgICAvLyDlkK/nlKjosIPor5XmqKHlvI9cbiAgICAgIC8vIGFnY29ubmVjdC5hbmFseXRpY3MuSW5pdFNldHRpbmdzLmRlYnVnTW9kZSA9IHRydWU7XG4gICAgICAvLyBhZ2Nvbm5lY3QuYW5hbHl0aWNzLkluaXRTZXR0aW5ncy5sb2dMZXZlbCA9ICdJTkZPJztcbiAgICAgIC8vIOmFjee9rmFnY29ubmVjdOWunuS+i1xuICAgICAgYWdjb25uZWN0Lmluc3RhbmNlKCkuY29uZmlnSW5zdGFuY2UoYWdDb25uZWN0Q29uZmlnKTtcbiAgICAgIC8vIOWIneWni+WMluWIhuaekOWunuS+i1xuICAgICAgbGV0IGFuYWx5dGljcyA9IGFnY29ubmVjdC5hbmFseXRpY3MoKTtcblxuXG4gICAgfSxcblxuICAgIG9uSGlkZSgpIHtcbiAgICAgIHRoaXMuaW5zdGFuY2Uub25IaWRlKClcbiAgICB9LFxuICAgIG9uRGVzdHJveSgpIHtcbiAgICAgIGNvbnNvbGUuaW5mbygnQXBwbGljYXRpb24gb25EZXN0cm95Jyk7XG4gICAgICB0aGlzLmluc3RhbmNlLm9uRGVzdHJveSgpXG5cblxuICAgIH0sXG4gICAgZGF0YUFwcDoge1xuXG4gICAgICB1cmwxOiBcImh0dHA6Ly93d3cuaWhhaXR1by5jbi94eS9qYi9ienp4Lmh0bWxcIixcbiAgICAgIHVybDI6IFwiaHR0cDovL3d3dy5paGFpdHVvLmNuL3h5L2piL3loeHkuaHRtbFwiLFxuICAgICAgdXJsMzogXCJodHRwOi8vd3d3LmloYWl0dW8uY24veHkvamIveXN6Yy5odG1sXCIsXG5cbiAgICAgIGNvdW50TWF4OiA4LC8v5ouG57qi5YyF5pyA5aSn5qyh5pWwLOW9k+i2hei/h+ivpeasoeaVsOWImei/lOWbnui3s+i9rOmTvuaOpVxuICAgICAgYnJhbmQ6ICdIVUFXRUknLFxuICAgICAgY2hhbm5lbDogJ2poJyxcblxuICAgICAgYmFubmVyQWRVbml0SWQ6IFwiejF2Nmp5a3Z5OVwiLC8vYmFubmVy5bm/5ZGK5L2NaWRcbiAgICAgIG5BYmFubmVyQWRVbml0SWQ6IFwiaTh6c2MzZ2NiZ1wiLC8v5Y6f55SfYmFubmVy5bm/5ZGK5L2NaWRcbiAgICAgIG5hdGl2ZUFkVW5pdElkOiBcInY1aDV4c2tscDJcIiwvL+W5v+WRiuS9jWlkXG4gICAgICBpbnRlcnN0aXRpYWxBZFVuaXRJZDogXCJhN252bDdmbTAwXCIsLy/mj5LlsY/lub/lkYrkvY1pZFxuICAgICAgLy/kv53lrZjnlKjmiLfkv6Hmga/lr7nosaFcbiAgICAgIHVzZXJEYXRhOiB7XG4gICAgICAgIGxvZ2luUGhvbmU6ICcnLFxuICAgICAgICB1c2VySWQ6ICcnLFxuICAgICAgICBiYWxhbmNlOiAwLFxuICAgICAgfSxcblxuICAgICAgYWN0aVBhcmFtOiB7IC8vIOS4iuaKpeWPguaVsFxuICAgICAgICBjaGFubmVsVmFsdWU6IFwiXCIsXG4gICAgICAgIG9haWQ6IFwiXCIsXG4gICAgICAgIHR5cGU6IFwiXCJcbiAgICAgIH0sXG4gICAgICB0cmFuc3BhcmVudExheWVySGl0czogMCxcbiAgICAgIGNvbnZlcnNpb25saWNrczogMCwvL+eCueWHu+S4iuS8oOasoeaVsOS4ujDliJnkuI3lgZrkuIrkvKDlpITnkIZcbiAgICAgIGNsaWNrc09uQWRzTm93OiAwLFxuICAgIH1cblxuICB9XG48L3NjcmlwdD4iLCJ2YXIgbWFwID0ge1xuXHRcIi4vZXhhbXBsZS5qc1wiOiBcIi4vc3JjL0NvbW1vbi9oZWxwZXIvYXBpcy9leGFtcGxlLmpzXCIsXG5cdFwiLi9pbmRleC5qc1wiOiBcIi4vc3JjL0NvbW1vbi9oZWxwZXIvYXBpcy9pbmRleC5qc1wiLFxuXHRcIi4vdGFzay5qc1wiOiBcIi4vc3JjL0NvbW1vbi9oZWxwZXIvYXBpcy90YXNrLmpzXCIsXG5cdFwiLi91c2VyLmpzXCI6IFwiLi9zcmMvQ29tbW9uL2hlbHBlci9hcGlzL3VzZXIuanNcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi9zcmMvQ29tbW9uL2hlbHBlci9hcGlzIHN5bmMgcmVjdXJzaXZlIFxcXFwuanNcIjsiLCJmdW5jdGlvbiB3ZWJwYWNrRW1wdHlDb250ZXh0KHJlcSkge1xuXHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0dGhyb3cgZTtcbn1cbndlYnBhY2tFbXB0eUNvbnRleHQua2V5cyA9ICgpID0+IChbXSk7XG53ZWJwYWNrRW1wdHlDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrRW1wdHlDb250ZXh0O1xud2VicGFja0VtcHR5Q29udGV4dC5pZCA9IFwiLi9zcmMvQ29tbW9uL2xpYnMvdW1lbmcgc3luYyByZWN1cnNpdmVcIjtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0VtcHR5Q29udGV4dDsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5hbWRPID0ge307IiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyICRhcHBfc2NyaXB0JCA9IHJlcXVpcmUoXCIhIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9ub2RlX21vZHVsZXMvZmEtdG9vbGtpdC9saWIvZmEtY29tcGlsZXIvZmEtc2NyaXB0LWxvYWRlci5qcyFkOi9xdWlja2FwcFdvcmtzcGFjZS9jb20uaGFpdHVvLnNldHBwbGFuZXQvbm9kZV9tb2R1bGVzL2ZhLXRvb2xraXQvbGliL2ZhLWNvbXBpbGVyL2ZhLWFwcC1zY3JpcHQtbG9hZGVyLmpzIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyP3ByZXNldHNbXT1kOlxcXFxxdWlja2FwcFdvcmtzcGFjZVxcXFxjb20uaGFpdHVvLnNldHBwbGFuZXRcXFxcbm9kZV9tb2R1bGVzXFxcXEBiYWJlbFxcXFxwcmVzZXQtZW52LHRhcmdldHM9bm9kZSA4JnBsdWdpbnNbXT1kOlxcXFxxdWlja2FwcFdvcmtzcGFjZVxcXFxjb20uaGFpdHVvLnNldHBwbGFuZXRcXFxcbm9kZV9tb2R1bGVzXFxcXEBiYWJlbFxcXFxwbHVnaW4tdHJhbnNmb3JtLW1vZHVsZXMtY29tbW9uanMmcGx1Z2luc1tdPWQ6XFxcXHF1aWNrYXBwV29ya3NwYWNlXFxcXGNvbS5oYWl0dW8uc2V0cHBsYW5ldFxcXFxub2RlX21vZHVsZXNcXFxcQGJhYmVsXFxcXHBsdWdpbi1wcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzJnBsdWdpbnNbXT1kOlxcXFxxdWlja2FwcFdvcmtzcGFjZVxcXFxjb20uaGFpdHVvLnNldHBwbGFuZXRcXFxcbm9kZV9tb2R1bGVzXFxcXEBiYWJlbFxcXFxwbHVnaW4tcHJvcG9zYWwtb2JqZWN0LXJlc3Qtc3ByZWFkJmNvbW1lbnRzPWZhbHNlIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9ub2RlX21vZHVsZXMvZmEtdG9vbGtpdC9saWIvZmEtY29tcGlsZXIvZmEtZnJhZ21lbnQtbG9hZGVyLmpzP2luZGV4PTAmdHlwZT1zY3JpcHRzIWQ6L3F1aWNrYXBwV29ya3NwYWNlL2NvbS5oYWl0dW8uc2V0cHBsYW5ldC9zcmMvYXBwLnV4XCIpXG5cclxuJGFwcF9kZWZpbmUkKCdAYXBwLWFwcGxpY2F0aW9uL2FwcCcsIFtdLCBmdW5jdGlvbigkYXBwX3JlcXVpcmUkLCAkYXBwX2V4cG9ydHMkLCAkYXBwX21vZHVsZSQpe1xyXG5cbiAgICAgICAgJGFwcF9zY3JpcHQkKCRhcHBfbW9kdWxlJCwgJGFwcF9leHBvcnRzJCwgJGFwcF9yZXF1aXJlJClcbiAgICAgICAgaWYgKCRhcHBfZXhwb3J0cyQuX19lc01vZHVsZSAmJiAkYXBwX2V4cG9ydHMkLmRlZmF1bHQpIHtcbiAgICAgICAgICAgICRhcHBfbW9kdWxlJC5leHBvcnRzID0gJGFwcF9leHBvcnRzJC5kZWZhdWx0O1xuICAgICAgICB9XHJcbn0pXHJcbiRhcHBfYm9vdHN0cmFwJCgnQGFwcC1hcHBsaWNhdGlvbi9hcHAnLHtwYWNrYWdlck5hbWU6J2ZhLXRvb2xraXQnLCBwYWNrYWdlclZlcnNpb246ICcxNC4wLjEtU3RhYmxlLjMwMCd9KSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==